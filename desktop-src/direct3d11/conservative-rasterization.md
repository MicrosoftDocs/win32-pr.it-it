---
title: Rasterizzazione conservativa Direct3D 11,3
description: La rasterizzazione conservativa aggiunge una certa certezza al rendering in pixel, che risulta utile in particolare per gli algoritmi di rilevamento dei conflitti.
ms.assetid: 83F223C0-9282-4149-86CF-471B88829F76
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 003cb7e31c1380943318b34f9308f6b5e72d6e51
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104223996"
---
# <a name="direct3d-113-conservative-rasterization"></a><span data-ttu-id="eddeb-103">Rasterizzazione conservativa Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="eddeb-103">Direct3D 11.3 Conservative Rasterization</span></span>

<span data-ttu-id="eddeb-104">La rasterizzazione conservativa aggiunge una certa certezza al rendering in pixel, che risulta utile in particolare per gli algoritmi di rilevamento dei conflitti.</span><span class="sxs-lookup"><span data-stu-id="eddeb-104">Conservative rasterization adds some certainty to pixel rendering, which is helpful in particular to collision detection algorithms.</span></span>

-   [<span data-ttu-id="eddeb-105">Overview</span><span class="sxs-lookup"><span data-stu-id="eddeb-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="eddeb-106">Interazioni con la pipeline</span><span class="sxs-lookup"><span data-stu-id="eddeb-106">Interactions with the pipeline</span></span>](#interactions-with-the-pipeline)
-   [<span data-ttu-id="eddeb-107">Dettagli di implementazione</span><span class="sxs-lookup"><span data-stu-id="eddeb-107">Implementation details</span></span>](#implementation-details)
-   [<span data-ttu-id="eddeb-108">Riepilogo API</span><span class="sxs-lookup"><span data-stu-id="eddeb-108">API summary</span></span>](#api-summary)
-   [<span data-ttu-id="eddeb-109">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="eddeb-109">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="eddeb-110">Panoramica</span><span class="sxs-lookup"><span data-stu-id="eddeb-110">Overview</span></span>

<span data-ttu-id="eddeb-111">La rasterizzazione conservativa indica che tutti i pixel almeno parzialmente coperti da una primitiva sottoposta a rendering vengono rasterizzati, il che significa che il pixel shader viene richiamato.</span><span class="sxs-lookup"><span data-stu-id="eddeb-111">Conservative rasterization means that all pixels that are at least partially covered by a rendered primitive are rasterized, which means that the pixel shader is invoked.</span></span> <span data-ttu-id="eddeb-112">Il comportamento normale è il campionamento, che non viene usato se è abilitata la rasterizzazione conservativa.</span><span class="sxs-lookup"><span data-stu-id="eddeb-112">Normal behavior is sampling, which is not used if conservative rasterization is enabled.</span></span>

<span data-ttu-id="eddeb-113">La rasterizzazione conservativa è utile in diverse situazioni, tra cui la certezza del rilevamento dei conflitti, l'abbattimento dell'occlusione e il rilevamento della visibilità.</span><span class="sxs-lookup"><span data-stu-id="eddeb-113">Conservative rasterization is useful in a number of situations, including for certainty in collision detection, occlusion culling, and visibility detection.</span></span>

<span data-ttu-id="eddeb-114">Ad esempio, la figura seguente mostra un triangolo verde sottoposto a rendering usando la rasterizzazione conservativa.</span><span class="sxs-lookup"><span data-stu-id="eddeb-114">For example, the following figure shows a green triangle rendered using conservative rasterization.</span></span> <span data-ttu-id="eddeb-115">L'area marrone è nota come "area di incertezza", ovvero un'area in cui gli errori di arrotondamento e altri problemi aggiungono alcune incertezze alle dimensioni esatte del triangolo.</span><span class="sxs-lookup"><span data-stu-id="eddeb-115">The brown area is known as an "uncertainty region" - a region where rounding errors and other issues add some uncertainty to the exact dimensions of the triangle.</span></span> <span data-ttu-id="eddeb-116">I triangoli rossi in ogni vertice mostrano come viene calcolata l'area di incertezza.</span><span class="sxs-lookup"><span data-stu-id="eddeb-116">The red triangles at each vertex show how the uncertainty region is calculated.</span></span> <span data-ttu-id="eddeb-117">I quadrati grigi di grandi dimensioni mostrano i pixel di cui verrà eseguito il rendering.</span><span class="sxs-lookup"><span data-stu-id="eddeb-117">The large gray squares show the pixels that will be rendered.</span></span> <span data-ttu-id="eddeb-118">I quadrati rosa mostrano i pixel sottoposti a rendering usando la regola in alto a sinistra, che entra in gioco quando il bordo del triangolo supera il bordo dei pixel.</span><span class="sxs-lookup"><span data-stu-id="eddeb-118">The pink squares show pixels rendered using the "top-left rule", which comes into play as the edge of the triangle crosses the edge of the pixels.</span></span> <span data-ttu-id="eddeb-119">È possibile che siano presenti falsi positivi (pixel impostati che non dovrebbero essere stati), che verranno normalmente rimosse dal sistema, ma non sempre.</span><span class="sxs-lookup"><span data-stu-id="eddeb-119">There can be false positives (pixels set that should not have been) which the system will normally but not always cull.</span></span>

![Mostra la regola in alto a sinistra](images/conservative-rasterization-0.png)

## <a name="interactions-with-the-pipeline"></a><span data-ttu-id="eddeb-121">Interazioni con la pipeline</span><span class="sxs-lookup"><span data-stu-id="eddeb-121">Interactions with the pipeline</span></span>

<span data-ttu-id="eddeb-122">Per molti dettagli sul modo in cui la rasterizzazione conservativa interagisce con la pipeline grafica, vedere la pagina relativa alla [rasterizzazione conservativa di D3D12](/windows/desktop/direct3d12/conservative-rasterization).</span><span class="sxs-lookup"><span data-stu-id="eddeb-122">For many details on how conservative rasterization interacts with the graphics pipeline, refer to [D3D12 Conservative rasterization](/windows/desktop/direct3d12/conservative-rasterization).</span></span>

## <a name="implementation-details"></a><span data-ttu-id="eddeb-123">Dettagli dell'implementazione</span><span class="sxs-lookup"><span data-stu-id="eddeb-123">Implementation details</span></span>

<span data-ttu-id="eddeb-124">Il tipo di rasterizzazione supportato in Direct3D 12 viene talvolta definito "rasterizzazione conservativa sovrastimata".</span><span class="sxs-lookup"><span data-stu-id="eddeb-124">The type of rasterization supported in Direct3D 12 is sometimes referred to as "overestimated conservative rasterization".</span></span> <span data-ttu-id="eddeb-125">Esiste anche il concetto di "rasterizzazione conservativa sottostimata", il che significa che vengono rasterizzati solo i pixel completamente coperti da una primitiva sottoposta a rendering.</span><span class="sxs-lookup"><span data-stu-id="eddeb-125">There is also the concept of "underestimated conservative rasterization", which means that only pixels that are fully covered by a rendered primitive are rasterized.</span></span> <span data-ttu-id="eddeb-126">Le informazioni di rasterizzazione conservative sottostimate sono disponibili tramite il pixel shader tramite l'utilizzo di dati di code coverage di input e solo la rasterizzazione conservativa sovrastimata è disponibile come modalità di rasterizzazione.</span><span class="sxs-lookup"><span data-stu-id="eddeb-126">Underestimated conservative rasterization information is available through the pixel shader through the use of input coverage data, and only overestimated conservative rasterization is available as a rasterizing mode.</span></span>

<span data-ttu-id="eddeb-127">Se una parte di una primitiva si sovrappone a un pixel, il pixel viene considerato analizzato ed è quindi rasterizzato.</span><span class="sxs-lookup"><span data-stu-id="eddeb-127">If any part of a primitive overlaps a pixel, then that pixel is considered covered and is then rasterized.</span></span> <span data-ttu-id="eddeb-128">Quando un bordo o un angolo di una primitiva cade lungo il bordo o l'angolo di un pixel, l'applicazione della "regola superiore sinistra" è specifica dell'implementazione.</span><span class="sxs-lookup"><span data-stu-id="eddeb-128">When an edge or corner of a primitive falls along the edge or corner of a pixel, the application of the "top-left rule" is implementation-specific.</span></span> <span data-ttu-id="eddeb-129">Tuttavia, per le implementazioni che supportano triangoli degenerati, un triangolo degenerato lungo un bordo o un angolo deve coprire almeno un pixel.</span><span class="sxs-lookup"><span data-stu-id="eddeb-129">However, for implementations that support degenerate triangles, a degenerate triangle along an edge or corner must cover at least one pixel.</span></span>

<span data-ttu-id="eddeb-130">Le implementazioni di rasterizzazione conservative possono variare in componenti hardware diversi e generare falsi positivi, vale a dire che possono decidere erroneamente che i pixel sono coperti.</span><span class="sxs-lookup"><span data-stu-id="eddeb-130">Conservative rasterization implementations can vary on different hardware, and do produce false positives, meaning that they can incorrectly decide that pixels are covered.</span></span> <span data-ttu-id="eddeb-131">Questo problema può verificarsi a causa di dettagli specifici dell'implementazione, ad esempio gli errori di espansione o di blocco primitivi inerenti alle coordinate dei vertici a virgola fissa utilizzate per la rasterizzazione.</span><span class="sxs-lookup"><span data-stu-id="eddeb-131">This can occur because of implementation-specific details like primitive growing or snapping errors inherent in the fixed-point vertex coordinates used in rasterization.</span></span> <span data-ttu-id="eddeb-132">Il motivo per cui i falsi positivi (rispetto alle coordinate dei vertici dei punti fissi) sono validi perché una certa quantità di falsi positivi è necessaria per consentire a un'implementazione di eseguire la valutazione del code coverage rispetto ai vertici post-bloccati (ad esempio coordinate dei vertici convertite da virgola mobile a 16,8 a virgola fissa utilizzati nell'rasterizzatore), ma che rispettano il code coverage prodotto dalle coordinate originali del vertice a virgola mobile.</span><span class="sxs-lookup"><span data-stu-id="eddeb-132">The reason false positives (with respect to fixed point vertex coordinates) are valid is because some amount of false positives are needed to allow an implementation to do coverage evaluation against post-snapped vertices (i.e. vertex coordinates that have been converted from floating point to the 16.8 fixed-point used in the rasterizer), but honor the coverage produced by the original floating point vertex coordinates.</span></span>

<span data-ttu-id="eddeb-133">Le implementazioni di rasterizzazione conservative non producono falsi negativi rispetto alle coordinate dei vertici a virgola mobile per le primitive post-snap non degenerate: se una parte di una primitiva si sovrappone a qualsiasi parte di un pixel, il pixel verrà rasterizzato.</span><span class="sxs-lookup"><span data-stu-id="eddeb-133">Conservative rasterization implementations do not produce false negatives with respect to the floating-point vertex coordinates for non-degenerate post-snap primitives: if any part of a primitive overlaps any part of a pixel, then that pixel is rasterized.</span></span>

<span data-ttu-id="eddeb-134">I triangoli degenerati (indici duplicati in un buffer di indice o collineano in 3D) o diventano degenerati dopo la conversione a virgola fissa (vertici collineari nell'rasterizzatore), possono o non essere raccolti; entrambi sono comportamenti validi.</span><span class="sxs-lookup"><span data-stu-id="eddeb-134">Triangles that are degenerate (duplicate indices in an index buffer or collinear in 3D), or become degenerate after fixed-point conversion (collinear vertices in the rasterizer), may or may not be culled; both are valid behaviors.</span></span> <span data-ttu-id="eddeb-135">I triangoli degenerati devono essere considerati rivolti. Pertanto, se un comportamento specifico è richiesto da un'applicazione, può utilizzare l'abbattimento o il test di back-face per il front-end.</span><span class="sxs-lookup"><span data-stu-id="eddeb-135">Degenerate triangles must be considered back facing, so if a specific behavior is required by an application, it can use back-face culling or test for front facing.</span></span> <span data-ttu-id="eddeb-136">I triangoli degenerati utilizzano i valori assegnati al vertice 0 per tutti i valori interpolati.</span><span class="sxs-lookup"><span data-stu-id="eddeb-136">Degenerate triangles use the values assigned to Vertex 0 for all interpolated values.</span></span>

<span data-ttu-id="eddeb-137">Sono disponibili tre livelli di supporto hardware, oltre alla possibilità che l'hardware non supporti questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="eddeb-137">There are three tiers of hardware support, in addition to the possibility that the hardware does not support this feature.</span></span>

-   <span data-ttu-id="eddeb-138">Il livello 1 supporta le aree di incertezza di 1/2 pixel e nessun degenere di post-snap.</span><span class="sxs-lookup"><span data-stu-id="eddeb-138">Tier 1 supports 1/2 pixel uncertainty regions, and no post-snap degenerates.</span></span> <span data-ttu-id="eddeb-139">Si tratta di una soluzione ideale per il rendering affiancato, un Atlante di trama, la generazione di una mappa chiara e mappe shadow dei pixel secondari.</span><span class="sxs-lookup"><span data-stu-id="eddeb-139">This is good for tiled rendering, a texture atlas, light map generation and sub-pixel shadow maps.</span></span>
-   <span data-ttu-id="eddeb-140">Il livello 2 aggiunge le degenerazioni post-snap e le aree di incertezza 1/256.</span><span class="sxs-lookup"><span data-stu-id="eddeb-140">Tier 2 adds post-snap degenerates, and 1/256 uncertainty regions.</span></span> <span data-ttu-id="eddeb-141">Aggiunge anche il supporto per l'accelerazione dell'algoritmo basato su CPU (ad esempio voxelization).</span><span class="sxs-lookup"><span data-stu-id="eddeb-141">It also adds support for CPU-based algorithm acceleration (such as voxelization).</span></span>
-   <span data-ttu-id="eddeb-142">Il livello 3 aggiunge 1/512 aree di incertezza, copertura interna degli input e supporta l'abbattimento delle occlusioni.</span><span class="sxs-lookup"><span data-stu-id="eddeb-142">Tier 3 adds 1/512 uncertainty regions, inner input coverage and supports occlusion culling.</span></span> <span data-ttu-id="eddeb-143">Il code coverage di input aggiunge il nuovo valore `SV_InnerCoverage` a HLSL (High Level Shading Language).</span><span class="sxs-lookup"><span data-stu-id="eddeb-143">The input coverage adds the new value `SV_InnerCoverage` to High Level Shading Language (HLSL).</span></span> <span data-ttu-id="eddeb-144">Si tratta di un intero scalare a 32 bit che può essere specificato nell'input di un pixel shader e rappresenta le informazioni di rasterizzazione conservative sottostimate, ovvero se un pixel è garantito per essere completamente coperto.</span><span class="sxs-lookup"><span data-stu-id="eddeb-144">This is a 32-bit scalar integer that can be specified on input to a pixel shader, and represents the underestimated conservative rasterization information (that is, whether a pixel is guaranteed-to-be-fully covered).</span></span>

## <a name="api-summary"></a><span data-ttu-id="eddeb-145">Riepilogo dell'API</span><span class="sxs-lookup"><span data-stu-id="eddeb-145">API summary</span></span>

<span data-ttu-id="eddeb-146">I metodi, le strutture, le enumerazioni e le classi helper seguenti fanno riferimento a una rasterizzazione conservativa:</span><span class="sxs-lookup"><span data-stu-id="eddeb-146">The following methods, structures, enums, and helper classes reference conservative rasterization:</span></span>

-   <span data-ttu-id="eddeb-147">[**D3d11 \_ RASTERIZZAtore \_ DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : struttura che contiene la descrizione del rasterizzatore, notando la \_ \_ classe helper DESC2 CD3D12 rasterizzator per la creazione di descrizioni del rasterizzatore.</span><span class="sxs-lookup"><span data-stu-id="eddeb-147">[**D3D11\_RASTERIZER\_DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : structure holding the rasterizer description, noting the CD3D12\_RASTERIZER\_DESC2 helper class for creating rasterizer descriptions.</span></span>
-   <span data-ttu-id="eddeb-148">[**D3d11 \_ \_ \_ Modalità di RASTERIZZAzione conservativa**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : valori enum per la modalità (on o off).</span><span class="sxs-lookup"><span data-stu-id="eddeb-148">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_MODE**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : enum values for the mode (on or off).</span></span>
-   <span data-ttu-id="eddeb-149">[**D3d11 \_ \_Data Feature \_ d3d11 \_ OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : struttura che contiene il livello di supporto.</span><span class="sxs-lookup"><span data-stu-id="eddeb-149">[**D3D11\_FEATURE\_DATA\_D3D11\_OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : structure holding the tier of support.</span></span>
-   <span data-ttu-id="eddeb-150">[**D3d11 \_ \_ \_ Livello di RASTERIZZAzione conservativa**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : valori enum per ogni livello di supporto dell'hardware.</span><span class="sxs-lookup"><span data-stu-id="eddeb-150">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_TIER**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : enum values for each tier of support by the hardware.</span></span>
-   <span data-ttu-id="eddeb-151">[**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : metodo per accedere alle funzionalità supportate.</span><span class="sxs-lookup"><span data-stu-id="eddeb-151">[**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : method to access the supported features.</span></span>

## <a name="related-topics"></a><span data-ttu-id="eddeb-152">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="eddeb-152">Related topics</span></span>
* [<span data-ttu-id="eddeb-153">Funzionalità di Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="eddeb-153">Direct3D 11.3 Features</span></span>](direct3d-11-3-features.md)