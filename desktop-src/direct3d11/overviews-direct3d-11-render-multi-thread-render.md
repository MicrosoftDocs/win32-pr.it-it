---
title: Rendering immediato e posticipato
description: Direct3D 11 supporta due tipi di rendering immediato e posticipato. Entrambe le implementazioni sono implementate tramite l'interfaccia sul ID3D11DeviceContext.
ms.assetid: 8991be9f-c882-4752-9048-704fe4ae1725
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef954a8e794755e1405c8e1e07505a5f39189b03
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "104992821"
---
# <a name="immediate-and-deferred-rendering"></a><span data-ttu-id="ff95e-104">Rendering immediato e posticipato</span><span class="sxs-lookup"><span data-stu-id="ff95e-104">Immediate and Deferred Rendering</span></span>

<span data-ttu-id="ff95e-105">Direct3D 11 supporta due tipi di rendering: immediato e posticipato.</span><span class="sxs-lookup"><span data-stu-id="ff95e-105">Direct3D 11 supports two types of rendering: immediate and deferred.</span></span> <span data-ttu-id="ff95e-106">Entrambe le implementazioni sono implementate tramite l'interfaccia [**sul ID3D11DeviceContext**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) .</span><span class="sxs-lookup"><span data-stu-id="ff95e-106">Both are implemented by using the [**ID3D11DeviceContext**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) interface.</span></span>

## <a name="immediate-rendering"></a><span data-ttu-id="ff95e-107">Rendering immediato</span><span class="sxs-lookup"><span data-stu-id="ff95e-107">Immediate Rendering</span></span>

<span data-ttu-id="ff95e-108">Il rendering immediato si riferisce alla chiamata di API o comandi di rendering da un dispositivo, che accoda i comandi in un buffer per l'esecuzione sulla GPU.</span><span class="sxs-lookup"><span data-stu-id="ff95e-108">Immediate rendering refers to calling rendering APIs or commands from a device, which queues the commands in a buffer for execution on the GPU.</span></span> <span data-ttu-id="ff95e-109">Usare un contesto immediato per eseguire il rendering, impostare lo stato della pipeline e riprodurre un elenco di comandi.</span><span class="sxs-lookup"><span data-stu-id="ff95e-109">Use an immediate context to render, set pipeline state, and play back a command list.</span></span>

<span data-ttu-id="ff95e-110">Creare un contesto immediato usando [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) o [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain).</span><span class="sxs-lookup"><span data-stu-id="ff95e-110">Create an immediate context using [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) or [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain).</span></span>

## <a name="deferred-rendering"></a><span data-ttu-id="ff95e-111">Rendering posticipato</span><span class="sxs-lookup"><span data-stu-id="ff95e-111">Deferred Rendering</span></span>

<span data-ttu-id="ff95e-112">Il rendering posticipato registra i comandi grafici in un buffer dei comandi in modo che possano essere riprodotti in un altro momento.</span><span class="sxs-lookup"><span data-stu-id="ff95e-112">Deferred rendering records graphics commands in a command buffer so that they can be played back at some other time.</span></span> <span data-ttu-id="ff95e-113">Usare un contesto posticipato per registrare i comandi (rendering e impostazione dello stato) in un elenco di comandi.</span><span class="sxs-lookup"><span data-stu-id="ff95e-113">Use a deferred context to record commands (rendering as well as state setting) to a command list.</span></span> <span data-ttu-id="ff95e-114">Il rendering posticipato è un nuovo concetto in Direct3D 11; il rendering posticipato è progettato per supportare il rendering in un thread durante la registrazione dei comandi per il rendering su thread aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="ff95e-114">Deferred rendering is a new concept in Direct3D 11; deferred rendering is designed to support rendering on one thread while recording commands for rendering on additional threads.</span></span> <span data-ttu-id="ff95e-115">Questa strategia parallela multithread consente di suddividere le scene complesse in attività simultanee.</span><span class="sxs-lookup"><span data-stu-id="ff95e-115">This parallel, multithread strategy allows you to break up complex scenes into concurrent tasks.</span></span> <span data-ttu-id="ff95e-116">Per altre informazioni sul rendering di scene complesse, vedere [rendering a più passaggi](overviews-direct3d-11-render-multipass.md).</span><span class="sxs-lookup"><span data-stu-id="ff95e-116">For more information about rendering complex scenes, see [Multiple-Pass Rendering](overviews-direct3d-11-render-multipass.md).</span></span>

<span data-ttu-id="ff95e-117">Creare un contesto posticipato usando [**ID3D11Device:: CreateDeferredContext**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createdeferredcontext).</span><span class="sxs-lookup"><span data-stu-id="ff95e-117">Create a deferred context using [**ID3D11Device::CreateDeferredContext**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createdeferredcontext).</span></span>

<span data-ttu-id="ff95e-118">Direct3D genera un sovraccarico di rendering quando accoda i comandi nel buffer dei comandi.</span><span class="sxs-lookup"><span data-stu-id="ff95e-118">Direct3D generates rendering overhead when it queues up commands in the command buffer.</span></span> <span data-ttu-id="ff95e-119">Al contrario, un [elenco di comandi](overviews-direct3d-11-render-multi-thread-command-list.md) viene eseguito in modo molto più efficiente durante la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="ff95e-119">In contrast, a [command list](overviews-direct3d-11-render-multi-thread-command-list.md) executes much more efficiently during playback.</span></span> <span data-ttu-id="ff95e-120">Per usare un elenco di comandi, registrare i comandi di rendering con un contesto posticipato e riprodurli usando un contesto immediato.</span><span class="sxs-lookup"><span data-stu-id="ff95e-120">To use a command list, record rendering commands with a deferred context and play them back using an immediate context.</span></span>

<span data-ttu-id="ff95e-121">È possibile generare solo un singolo elenco di comandi in modalità a thread singolo.</span><span class="sxs-lookup"><span data-stu-id="ff95e-121">You can generate only a single command list in a single-threaded fashion.</span></span> <span data-ttu-id="ff95e-122">Tuttavia, è possibile creare e usare contemporaneamente più contesti posticipati, ognuno in un thread separato.</span><span class="sxs-lookup"><span data-stu-id="ff95e-122">However, you can create and use multiple deferred contexts simultaneously, each in a separate thread.</span></span> <span data-ttu-id="ff95e-123">Quindi, è possibile usare questi più contesti posticipati per creare simultaneamente più elenchi di comandi.</span><span class="sxs-lookup"><span data-stu-id="ff95e-123">Then, you can use those multiple deferred contexts to simultaneously create multiple command lists.</span></span>

<span data-ttu-id="ff95e-124">Non è possibile riprodurre contemporaneamente due o più elenchi di comandi nel contesto immediato.</span><span class="sxs-lookup"><span data-stu-id="ff95e-124">You cannot play back two or more command lists simultaneously on the immediate context.</span></span>

<span data-ttu-id="ff95e-125">Per determinare se un contesto di dispositivo è un contesto immediato o posticipato, chiamare [**sul ID3D11DeviceContext:: GetType**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gettype).</span><span class="sxs-lookup"><span data-stu-id="ff95e-125">To determine if a device context is an immediate or a deferred context, call [**ID3D11DeviceContext::GetType**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gettype).</span></span>

<span data-ttu-id="ff95e-126">Il metodo [**sul ID3D11DeviceContext:: Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) è supportato solo in un contesto posticipato per le risorse dinamiche ([**\_ \_ Dynamic Usage d3d11**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_usage)), in cui la prima chiamata all'interno dell'elenco di comandi è [**d3d11 \_ mapping \_ Write \_**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_map).</span><span class="sxs-lookup"><span data-stu-id="ff95e-126">The [**ID3D11DeviceContext::Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) method is only supported in a deferred context for dynamic resources ([**D3D11\_USAGE\_DYNAMIC**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_usage)) where the first call within the command list is [**D3D11\_MAP\_WRITE\_DISCARD**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_map).</span></span> <span data-ttu-id="ff95e-127">**D3d11 \_ \_ \_ Non \_** è supportata la sovrascrittura della mappa per le chiamate successive, se disponibili per il tipo di risorsa specificato.</span><span class="sxs-lookup"><span data-stu-id="ff95e-127">**D3D11\_MAP\_WRITE\_NO\_OVERWRITE** is supported on subsequent calls if available for the given type of resource.</span></span>

<span data-ttu-id="ff95e-128">Le query in un contesto posticipato sono limitate alla generazione dei dati e al disegno predicato.</span><span class="sxs-lookup"><span data-stu-id="ff95e-128">Queries in a deferred context are limited to data generation and predicated drawing.</span></span> <span data-ttu-id="ff95e-129">Non è possibile chiamare [**sul ID3D11DeviceContext:: GetData**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-getdata) in un contesto posticipato per ottenere i dati relativi a una query. è possibile chiamare **GetData** solo nel contesto immediato per ottenere i dati relativi a una query.</span><span class="sxs-lookup"><span data-stu-id="ff95e-129">You cannot call [**ID3D11DeviceContext::GetData**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-getdata) on a deferred context to get data about a query; you can only call **GetData** on the immediate context to get data about a query.</span></span> <span data-ttu-id="ff95e-130">È possibile impostare un predicato di rendering, ovvero un tipo di query, chiamando [**su D3D11DeviceContext:: SetPredication**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-setpredication) per utilizzare i risultati della query nella GPU.</span><span class="sxs-lookup"><span data-stu-id="ff95e-130">You can set a rendering predicate (a type of query) by calling [**D3D11DeviceContext::SetPredication**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-setpredication) to use query results on the GPU.</span></span> <span data-ttu-id="ff95e-131">È possibile generare dati di query tramite chiamate a [**sul ID3D11DeviceContext:: Begin**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-begin) e [**sul ID3D11DeviceContext:: end**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-end).</span><span class="sxs-lookup"><span data-stu-id="ff95e-131">You can generate query data through calls to [**ID3D11DeviceContext::Begin**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-begin) and [**ID3D11DeviceContext::End**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-end).</span></span> <span data-ttu-id="ff95e-132">Tuttavia, i dati della query non saranno disponibili fino a quando non si chiama [**sul ID3D11DeviceContext:: ExecuteCommandList**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-executecommandlist) nel contesto immediato per inviare l'elenco di comandi del contesto posticipato.</span><span class="sxs-lookup"><span data-stu-id="ff95e-132">However, the query data will not be available until you call [**ID3D11DeviceContext::ExecuteCommandList**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-executecommandlist) on the immediate context to submit the deferred context command list.</span></span> <span data-ttu-id="ff95e-133">I dati della query vengono quindi elaborati dalla GPU.</span><span class="sxs-lookup"><span data-stu-id="ff95e-133">The query data is then processed by the GPU.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ff95e-134">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="ff95e-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ff95e-135">Multithreading</span><span class="sxs-lookup"><span data-stu-id="ff95e-135">Multithreading</span></span>](overviews-direct3d-11-render-multi-thread.md)
</dt> </dl>

 

 




