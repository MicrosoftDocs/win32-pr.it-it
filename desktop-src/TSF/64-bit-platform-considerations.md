---
title: Considerazioni su 64 bit
description: Con la crescente disponibilità di Windows a 64 bit, gli utenti prevedono metodi di input, ad esempio tastiere internazionali in diversi linguaggi o IME (Input Method Editor) nelle lingue asiatiche orientali, per funzionare correttamente con applicazioni a 32 bit e 64 bit.
ms.assetid: 6a99ad45-202c-4fbb-9707-341bc9fde21e
keywords:
- Framework servizi di testo (TSF), Windows a 64 bit
- TSF (Text Services Framework), Windows a 64 bit
- Servizi di testo, Windows a 64 bit
- Windows a 64 bit
- Framework servizi di testo (TSF), input Method Editor (IME)
- TSF (Text Services Framework), input Method Editor (IME)
- Servizi di testo, input Method Editor (IME)
- Input Method Editor (IME)
- IME (Input Method Editor)
- Framework servizi di testo (TSF), tastiere internazionali
- TSF (Text Services Framework), tastiere internazionali
- Servizi di testo, tastiere internazionali
- tastiere internazionali
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 045ec699c7a433f15b92467e3072d30acbf01936
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104399190"
---
# <a name="64-bit-considerations"></a><span data-ttu-id="f9ce8-116">Considerazioni su 64 bit</span><span class="sxs-lookup"><span data-stu-id="f9ce8-116">64-Bit Considerations</span></span>

<span data-ttu-id="f9ce8-117">Con la crescente disponibilità di Windows a 64 bit, gli utenti prevedono metodi di input, ad esempio tastiere internazionali in diversi linguaggi o IME (Input Method Editor) nelle lingue asiatiche orientali, per funzionare correttamente con applicazioni a 32 bit e 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-117">With the increasing availability of 64-bit Windows, users expect input methods, such as international keyboards in various languages or Input Method Editors (IMEs) in East Asian languages, to work properly with both 32-bit and 64-bit applications.</span></span> <span data-ttu-id="f9ce8-118">Quando si sviluppano componenti del metodo di input o servizi di testo per Microsoft Windows, è importante considerare Windows a 64 bit come piattaforma di destinazione potenziale per il prodotto.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-118">When developing input method components or text services for Microsoft Windows, it is important to consider 64-bit Windows as a potential target platform for your product.</span></span>

<span data-ttu-id="f9ce8-119">Poiché gli IME e i servizi di testo (basati sul Framework dei servizi di testo) vengono in genere implementati come librerie a collegamento dinamico (dll), è importante notare che le dll sono compilate in modo specifico per l'utilizzo in ambienti a 32 bit o in ambienti a 64 bit. una DLL compilata per l'utilizzo in ambienti a 32 bit non può essere utilizzata da applicazioni a 64 bit e viceversa.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-119">Because IMEs and text services (based on the Text Services Framework) are typically implemented as dynamic-link libraries (DLLs), it is important to note that DLLs are built specifically for use in either 32-bit environments or 64-bit environments; a DLL built for use in 32-bit environments cannot be used by 64-bit applications, and vice versa.</span></span>

> [!Note]  
> <span data-ttu-id="f9ce8-120">WOW64 non attenua questa restrizione della DLL specifica del bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-120">WOW64 does not mitigate this bit-specific DLL restriction.</span></span> <span data-ttu-id="f9ce8-121">Per informazioni su WOW64, vedere [esecuzione di applicazioni a 32 bit](/windows/desktop/WinProg64/running-32-bit-applications).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-121">For information about WOW64, see [Running 32-bit Applications](/windows/desktop/WinProg64/running-32-bit-applications).</span></span>

 

<span data-ttu-id="f9ce8-122">In questo argomento vengono illustrate importanti considerazioni di progettazione per lo sviluppo di IME e servizi di testo per l'utilizzo in Windows a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-122">This topic discusses important design considerations for developing IMEs and text services for use on 64-bit Windows.</span></span>

## <a name="64-bit-considerations-for-imes"></a><span data-ttu-id="f9ce8-123">Considerazioni a 64 bit per IME</span><span class="sxs-lookup"><span data-stu-id="f9ce8-123">64-Bit Considerations for IMEs</span></span>

<span data-ttu-id="f9ce8-124">In questa sezione vengono descritte le considerazioni speciali relative alla compilazione degli IME per l'utilizzo con Windows a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-124">This section describes the special considerations involved with building IMEs for use with 64-bit Windows.</span></span> <span data-ttu-id="f9ce8-125">Per informazioni sugli IME, vedere [Input Method Editor](/previous-versions/windows/desktop/dnacc/input-method-editor-and-text-services-framework-accessibility).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-125">For information about IMEs, see [Input Method Editor](/previous-versions/windows/desktop/dnacc/input-method-editor-and-text-services-framework-accessibility).</span></span>

## <a name="building-32-bit-and-64-bit-versions-of-an-ime"></a><span data-ttu-id="f9ce8-126">Compilazione di versioni a 32 bit e a 64 bit di un IME</span><span class="sxs-lookup"><span data-stu-id="f9ce8-126">Building 32-Bit and 64-Bit Versions of an IME</span></span>

<span data-ttu-id="f9ce8-127">A causa del problema di compatibilità a 32 bit/64 bit precedentemente indicato con le dll, è necessario prendere alcune precauzioni per assicurarsi che gli IME funzionino in modo trasparente con qualsiasi applicazione (32 bit o 64 bit) in esecuzione in Windows a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-127">Because of the previously mentioned 32-bit/64-bit compatibility issue with DLLs, some precautions must be taken to ensure that IMEs work transparently with any application (32-bit or 64-bit) running on 64-bit Windows.</span></span> <span data-ttu-id="f9ce8-128">La soluzione consigliata per consentire all'IME di funzionare in modo trasparente con le applicazioni a 32 bit e a 64 bit in una piattaforma a 64 bit consiste nel compilare e installare versioni parallele a 32 bit e a 64 bit della DLL IME.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-128">The recommended solution for enabling your IME to work transparently with both 32-bit and 64-bit applications on a 64-bit platform is to build and install parallel 32-bit and 64-bit versions of the IME DLL.</span></span> <span data-ttu-id="f9ce8-129">In genere, gli sviluppatori compilano dll parallele da un'unica origine regolando le impostazioni della piattaforma di destinazione nell'ambiente di compilazione.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-129">Typically, developers build parallel DLLs from a single source by adjusting the target platform settings in their build environment.</span></span> <span data-ttu-id="f9ce8-130">Per ulteriori informazioni sulle applicazioni a 32 bit e a 64 bit per singolo approvvigionamento, vedere [preparazione per Windows a 64 bit](/windows/desktop/WinProg64/getting-ready-for-64-bit-windows).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-130">For more information about single-sourcing 32-bit and 64-bit applications, see [Getting Ready for 64-bit Windows](/windows/desktop/WinProg64/getting-ready-for-64-bit-windows).</span></span>

## <a name="side-by-side-installation-of-64-bit-and-32-bit-input-method-editors"></a><span data-ttu-id="f9ce8-131">Installazione side-by-side di editor di metodi di input a 64 bit e a 32 bit</span><span class="sxs-lookup"><span data-stu-id="f9ce8-131">Side-by-Side Installation of 64-Bit and 32-Bit Input Method Editors</span></span>

<span data-ttu-id="f9ce8-132">Gli sviluppatori di IME e i servizi di testo devono essere a conoscenza delle considerazioni a 64 bit descritte in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-132">Developers of IMEs and text services should be aware of the 64-bit considerations described throughout this topic.</span></span> <span data-ttu-id="f9ce8-133">Fortunatamente, gli utenti finali di questi servizi non devono preoccuparsi di questi dettagli specifici dell'implementazione.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-133">Fortunately, end users of these services need not be concerned with these implementation-specific details.</span></span> <span data-ttu-id="f9ce8-134">Una funzionalità di Windows a 64 bit è la possibilità di nascondere la necessità di versioni specifiche di 64 bit e 32 per le dll IME dagli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-134">A feature of 64-bit Windows is the ability to hide the need for 64-bit and 32-bit-specific versions of the IME DLLs from end users.</span></span> <span data-ttu-id="f9ce8-135">Quando entrambe le versioni dell'IME sono correttamente installate in modalità side-by-Side, Windows a 64 bit riconosce la presenza di versioni a 64 bit e 32 bit dell'IME e presenta tali IME specifici all'utente finale come singolo IME *logico* .</span><span class="sxs-lookup"><span data-stu-id="f9ce8-135">When both versions of the IME are properly installed in a side-by-side manner, 64-bit Windows recognizes the presence of both 64-bit and 32-bit versions of the IME and presents these bit-specific IMEs to the end user as a single *logical* IME.</span></span> <span data-ttu-id="f9ce8-136">Quando un utente finale deve usare un IME, Windows a 64 bit sceglie in modo trasparente la versione di IME (32 bit o 64 bit) appropriata per le circostanze specificate.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-136">When an end user needs to use an IME, 64-bit Windows transparently chooses the version of the IME (32-bit or 64-bit) that is appropriate for the given circumstances.</span></span>

<span data-ttu-id="f9ce8-137">Per il corretto funzionamento delle installazioni affiancate di IME a 64 bit e a 32 bit, ovvero per rappresentare le due dll specifiche della piattaforma come singolo IME logico per l'utente, è necessario che siano soddisfatte le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9ce8-137">For side-by-side installations of 64-bit and 32-bit IMEs to function properly (that is, to represent the two platform-specific DLLs as a single logical IME to the user), the following conditions must be met:</span></span>

-   <span data-ttu-id="f9ce8-138">Gli sviluppatori devono compilare versioni specifiche della piattaforma, una per Windows a 32 bit e una per Windows a 64 bit, della DLL IME.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-138">Developers must build platform-specific versions (one for 32-bit Windows and one for 64-bit Windows) of the IME DLL.</span></span>
-   <span data-ttu-id="f9ce8-139">Le dll a 32 bit e a 64 bit devono condividere lo stesso nome file.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-139">The 32-bit and 64-bit DLLs must share the same file name.</span></span>
-   <span data-ttu-id="f9ce8-140">È necessario seguire i requisiti della directory di installazione.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-140">Installation directory requirements must be followed.</span></span> <span data-ttu-id="f9ce8-141">Per ulteriori informazioni, vedere requisiti della directory di installazione.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-141">For more information, see Installation Directory Requirements.</span></span>

<span data-ttu-id="f9ce8-142">Le installazioni affiancate di dll IME a 32 bit e a 64 bit condividono la stessa chiave del registro di sistema per l'archiviazione dei dati di configurazione, incluso il nome del file DLL:</span><span class="sxs-lookup"><span data-stu-id="f9ce8-142">Side-by-side installations of 32-bit and 64-bit IME DLLs share the same registry key for storing configuration data (including the DLL file name):</span></span>


```C++
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layouts
```



<span data-ttu-id="f9ce8-143">La funzione [**ImmInstallIME**](/windows/desktop/api/imm/nf-imm-imminstallimea) viene usata per creare questa chiave del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-143">The [**ImmInstallIME**](/windows/desktop/api/imm/nf-imm-imminstallimea) function is used to create this registry key.</span></span> <span data-ttu-id="f9ce8-144">È necessario che il programma di installazione e installazione di un IME chiami questa funzione per registrare l'IME come un layout di tastiera supportato.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-144">The setup and installation program for an IME must call this function to register the IME as a supported keyboard layout.</span></span> <span data-ttu-id="f9ce8-145">La funzione **ImmInstallIME** deve essere chiamata una sola volta, sia dalla versione a 32 bit che dalla versione 64 bit della dll IME.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-145">The **ImmInstallIME** function should be called only once, either from the 32-bit or 64-bit version of the IME DLL.</span></span>

## <a name="mismatched-ime-dlls"></a><span data-ttu-id="f9ce8-146">Dll IME non corrispondenti</span><span class="sxs-lookup"><span data-stu-id="f9ce8-146">Mismatched IME DLLs</span></span>

<span data-ttu-id="f9ce8-147">L'installazione solo della versione a 32 bit di un IME in Windows a 64 bit non è né consigliata né supportata.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-147">Installing only the 32-bit version of an IME on 64-bit Windows is neither recommended nor supported.</span></span> <span data-ttu-id="f9ce8-148">Se un'applicazione a 64 bit tenta di caricare un IME a 32 bit, l'IME si interrompe automaticamente quando l'applicazione tenta di caricare il layout di tastiera associato.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-148">If a 64-bit application attempts to load a 32-bit IME, the IME fails silently when the application attempts to load the associated keyboard layout.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="f9ce8-149">Non viene visualizzato alcun messaggio o finestra di dialogo di avviso quando si verifica un errore di conflitto IME a 32 bit o a un'applicazione a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-149">No warning dialog or message displays when a 64-bit application/32-bit IME conflict error occurs.</span></span>

 

<span data-ttu-id="f9ce8-150">Considerazioni a 64 bit per i servizi di testo</span><span class="sxs-lookup"><span data-stu-id="f9ce8-150">64-Bit Considerations for Text Services</span></span>

<span data-ttu-id="f9ce8-151">In questa sezione vengono descritte le considerazioni speciali relative alla compilazione di servizi di testo per l'utilizzo in ambienti a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-151">This section describes the special considerations involved with building text services for use in 64-bit environments.</span></span> <span data-ttu-id="f9ce8-152">Per ulteriori informazioni sui servizi di testo e sul Framework dei servizi di testo, vedere [Text Services Framework](text-services-framework.md).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-152">For more information about text services and the Text Services Framework, see [Text Services Framework](text-services-framework.md).</span></span>

## <a name="building-32-bit-and-64-bit-text-services"></a><span data-ttu-id="f9ce8-153">Compilazione di servizi di testo a 32 bit e a 64 bit</span><span class="sxs-lookup"><span data-stu-id="f9ce8-153">Building 32-Bit and 64-Bit Text Services</span></span>

<span data-ttu-id="f9ce8-154">Un servizio di testo viene implementato come oggetto Component Object Model (COM) esposto in una DLL.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-154">A text service is implemented as a Component Object Model (COM) object exposed on a DLL.</span></span> <span data-ttu-id="f9ce8-155">Di conseguenza, i conflitti DLL a 32 bit/64 bit possono verificarsi con i servizi di testo installati in Windows a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-155">Consequently, 32-bit/64-bit DLL conflicts can occur with text services installed on 64-bit Windows.</span></span> <span data-ttu-id="f9ce8-156">Come per gli IME, la soluzione consigliata per consentire al servizio di testo di funzionare in modo trasparente con le applicazioni a 32 bit e a 64 bit su una piattaforma a 64 bit consiste nel compilare e installare versioni parallele a 32 bit e a 64 bit della DLL del servizio di testo.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-156">Just as with IMEs, the recommended solution for enabling your text service to work transparently with both 32-bit and 64-bit applications on a 64-bit platform is to build and install parallel 32-bit and 64-bit versions of the text service DLL.</span></span>

## <a name="side-by-side-installation-of-64-bit-and-32-bit-text-services"></a><span data-ttu-id="f9ce8-157">Installazione side-by-side di servizi di testo a 64 bit e a 32 bit</span><span class="sxs-lookup"><span data-stu-id="f9ce8-157">Side-by-Side Installation of 64-Bit and 32-Bit Text Services</span></span>

<span data-ttu-id="f9ce8-158">Per una versione a 32 bit e una versione a 64 bit di un servizio di testo da installare side-by-side e rappresentata all'utente come singolo servizio di testo logico, è necessario che siano soddisfatte le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9ce8-158">For a 32-bit version and a 64-bit version of a text service to be installed side-by-side and represented to the user as a single, logical text service, the following conditions must be met:</span></span>

-   <span data-ttu-id="f9ce8-159">Entrambe le versioni del servizio di testo specificano lo stesso identificatore di classe (CLSID) quando vengono registrate con il sottosistema COM.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-159">Both versions of the text service specify the same class identifier (CLSID) when they are registered with the COM subsystem.</span></span>
-   <span data-ttu-id="f9ce8-160">Entrambe le versioni del servizio di testo vengono registrate in modo indipendente.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-160">Both versions of the text service are registered independently.</span></span> <span data-ttu-id="f9ce8-161">Per ulteriori informazioni, vedere la pagina relativa alla [registrazione di applicazioni com](/windows/desktop/com/registering-com-applications).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-161">For more information, see [Registering COM Applications](/windows/desktop/com/registering-com-applications).</span></span>

<span data-ttu-id="f9ce8-162">Quando un servizio di testo a 32 bit viene registrato con Windows a 64 bit, l'operazione di registrazione viene reindirizzata in modo trasparente alla seguente chiave del registro di sistema:</span><span class="sxs-lookup"><span data-stu-id="f9ce8-162">When a 32-bit text service is registered with 64-bit Windows, the registration operation is transparently redirected to the following registry key:</span></span>


```C++
HKEY_CLASS_ROOT\Wow6432Node\CLSID
```



[<span data-ttu-id="f9ce8-163">Redirector del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="f9ce8-163">Registry Redirector</span></span>](/windows/desktop/WinProg64/registry-redirector)


```C++
HKEY_LOCAL_MACHINE\Software\Microsoft\CTF\TIP
```



<span data-ttu-id="f9ce8-164">[](/windows/desktop/api/Msctf/nn-msctf-itfinputprocessorprofiles)[Registrazione del servizio di testo](text-service-registration.md) ITfInputProcessorProfiles</span><span class="sxs-lookup"><span data-stu-id="f9ce8-164">[ITfInputProcessorProfiles](/windows/desktop/api/Msctf/nn-msctf-itfinputprocessorprofiles)[Text Service Registration](text-service-registration.md)</span></span>

<span data-ttu-id="f9ce8-165">La versione a 64 bit e la versione a 32 bit di un servizio di testo potrebbero essere in uso simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-165">The 64-bit version and the 32-bit version of a text service might be in use simultaneously.</span></span> <span data-ttu-id="f9ce8-166">Nei casi in cui entrambe le versioni di un servizio di testo devono modificare gli oggetti condivisi, il coordinamento per gli oggetti condivisi di Access deve essere progettato nel servizio di testo.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-166">In cases where both versions of a text service need to manipulate any shared objects, coordination for access shared objects should be designed into the text service.</span></span> <span data-ttu-id="f9ce8-167">Ogni servizio di testo è responsabile della gestione di tutti gli oggetti condivisi utilizzati o necessari.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-167">Each text service is responsible for managing any shared objects that are used or needed.</span></span>

## <a name="installing-only-32-bit-text-services-on-64-bit-windows"></a><span data-ttu-id="f9ce8-168">Installazione di soli servizi di testo a 32 bit in Windows a 64 bit</span><span class="sxs-lookup"><span data-stu-id="f9ce8-168">Installing Only 32-Bit Text Services on 64-Bit Windows</span></span>

<span data-ttu-id="f9ce8-169">L'installazione solo della versione a 32 bit di un servizio di testo in una piattaforma Windows a 64 bit non è né consigliata né supportata.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-169">Installing only the 32-bit version of a text service on a 64-bit Windows platform is neither recommended nor supported.</span></span> <span data-ttu-id="f9ce8-170">A causa del mapping di registrazione eseguito su piattaforme Windows a 64 bit, un'applicazione a 64 bit può enumerare i servizi di un servizio di testo a 32 bit tramite l'interfaccia **ITfInputProcessorProfiles** .</span><span class="sxs-lookup"><span data-stu-id="f9ce8-170">Because of the registration mapping that is done on 64-bit Windows platforms, a 64-bit application can enumerate the services of a 32-bit Text Service through the **ITfInputProcessorProfiles** interface.</span></span> <span data-ttu-id="f9ce8-171">Tuttavia, se un'applicazione a 64 bit tenta di caricare un servizio di testo a 32 bit, il caricamento non riesce automaticamente.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-171">However, if a 64-bit application attempts to load a 32-bit text service, the load fails silently.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="f9ce8-172">Non viene visualizzato alcun messaggio o finestra di avviso quando si verifica un errore di conflitto di un servizio di testo a 32 bit o un'applicazione a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-172">No warning dialog or message displays when a 64-bit application/32-bit text service conflict error occurs.</span></span>

 

<span data-ttu-id="f9ce8-173">Altre considerazioni</span><span class="sxs-lookup"><span data-stu-id="f9ce8-173">Other Considerations</span></span>

## <a name="installation-directory-requirements"></a><span data-ttu-id="f9ce8-174">Requisiti della directory di installazione</span><span class="sxs-lookup"><span data-stu-id="f9ce8-174">Installation Directory Requirements</span></span>

<span data-ttu-id="f9ce8-175">In questa sezione vengono descritti i requisiti per la posizione in cui installare i file binari del servizio IME e di testo.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-175">This section describes requirements for where to install IME and text service binary files.</span></span> <span data-ttu-id="f9ce8-176">Se questi requisiti non vengono seguiti, il servizio di testo o l'IME potrebbe non funzionare correttamente.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-176">If these requirements are not followed, your text service or IME might not function correctly.</span></span>

<span data-ttu-id="f9ce8-177">**Dll IME**</span><span class="sxs-lookup"><span data-stu-id="f9ce8-177">**IME DLLs**</span></span>

<span data-ttu-id="f9ce8-178">Nelle piattaforme Windows a 64 bit installare le dll IME a 32 e 64 bit nelle directory seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9ce8-178">On 64-bit Windows platforms, install the 32-bit and 64-bit IME DLLs in the following directories:</span></span>

-   <span data-ttu-id="f9ce8-179">Installare le dll IME a 32 bit nella directory di sistema SysWOW64. chiamare [**GetSystemWow64Directory**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directorya)o [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) con **CSIDL \_ SYSTEMX86** per recuperare il percorso della directory.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-179">Install 32-bit IME DLLs in the SysWOW64 system directory; call [**GetSystemWow64Directory**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directorya), or [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) with **CSIDL\_SYSTEMX86** to retrieve this directory path.</span></span> <span data-ttu-id="f9ce8-180">In alternativa, se si utilizza [Windows Installer](/windows/desktop/Msi/about-windows-installer), utilizzare la proprietà [**SystemFolder**](/windows/desktop/Msi/systemfolder) .</span><span class="sxs-lookup"><span data-stu-id="f9ce8-180">Alternately, if you are using [Windows Installer](/windows/desktop/Msi/about-windows-installer), use the [**SystemFolder**](/windows/desktop/Msi/systemfolder) property.</span></span>
-   <span data-ttu-id="f9ce8-181">Installare le dll IME a 64 bit nella directory di sistema system32; chiamare [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya)o **SHGetFolderPath** con il [ \_ sistema CSIDL](/windows/desktop/shell/csidl) per recuperare il percorso della directory.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-181">Install 64-bit IME DLLs in the System32 system directory; call [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya), or **SHGetFolderPath** with [CSIDL\_SYSTEM](/windows/desktop/shell/csidl) to retrieve this directory path.</span></span> <span data-ttu-id="f9ce8-182">In alternativa, per Windows Installer, utilizzare la proprietà [**System64Folder**](/windows/desktop/Msi/system64folder) .</span><span class="sxs-lookup"><span data-stu-id="f9ce8-182">Or, for Windows Installer, use the [**System64Folder**](/windows/desktop/Msi/system64folder) property.</span></span>

<span data-ttu-id="f9ce8-183">**Dll del servizio di testo e file binari correlati**</span><span class="sxs-lookup"><span data-stu-id="f9ce8-183">**Text Service DLLs and Related Binary Files**</span></span>

<span data-ttu-id="f9ce8-184">Nelle piattaforme Windows a 64 bit installare le dll del servizio di testo a 32 e 64 bit, nonché qualsiasi altro file binario correlato al servizio di testo o all'IME, nelle directory seguenti:</span><span class="sxs-lookup"><span data-stu-id="f9ce8-184">On 64-bit Windows platforms, install the 32-bit and 64-bit text service DLLs, as well as any other binary files related to your text service or IME, in the following directories:</span></span>

-   <span data-ttu-id="f9ce8-185">Installare le dll del servizio di testo a 32 bit e qualsiasi altro file binario a 32 bit in una sottodirectory della directory programmi (x86); chiamare **SHGetFolderPath** con **CSIDL \_ Program \_ FILESX86** per recuperare il percorso della directory.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-185">Install 32-bit text service DLLs and any other 32-bit binary files in a subdirectory in the Program Files (x86) directory; call **SHGetFolderPath** with **CSIDL\_PROGRAM\_FILESX86** to retrieve this directory path.</span></span> <span data-ttu-id="f9ce8-186">In alternativa, per Windows Installer, utilizzare la proprietà [**ProgramFilesFolder**](/windows/desktop/Msi/programfilesfolder) .</span><span class="sxs-lookup"><span data-stu-id="f9ce8-186">Or, for Windows Installer, use the [**ProgramFilesFolder**](/windows/desktop/Msi/programfilesfolder) property.</span></span>
-   <span data-ttu-id="f9ce8-187">Installare le dll del servizio di testo a 64 bit e qualsiasi altro file binario a 64 bit in una sottodirectory della directory programmi; chiamare **SHGetFolderPath** con **\_ \_ i file di programma CSIDL** per recuperare il percorso della directory.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-187">Install 64-bit text service DLLs and any other 64-bit binary files in a subdirectory under the Program Files directory; call **SHGetFolderPath** with **CSIDL\_PROGRAM\_FILES** to retrieve this directory path.</span></span> <span data-ttu-id="f9ce8-188">In alternativa, per Windows Installer, utilizzare la proprietà [**ProgramFiles64Folder**](/windows/desktop/Msi/programfiles64folder) .</span><span class="sxs-lookup"><span data-stu-id="f9ce8-188">Or, for Windows Installer, use the [**ProgramFiles64Folder**](/windows/desktop/Msi/programfiles64folder) property.</span></span>

<span data-ttu-id="f9ce8-189">Se non si usa un pacchetto di Windows Installer per installare il servizio IME o di testo, è fortemente consigliato usare un'applicazione di installazione a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-189">If you are not using a Windows Installer package to install your IME or text service, it is strongly recommnded that you use a 64-bit installation application.</span></span> <span data-ttu-id="f9ce8-190">Il redirector di WOW64 file system potrebbe causare l'installazione dei file nelle directory errate da parte dei programmi di installazione a 32 bit (ad esempio, il reindirizzamento file system WOW64 potrebbe causare l'installazione di file destinati alla directory System32 nella directory SysWOW64).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-190">The WOW64 file system redirector might cause 32-bit installers to place files in the wrong directories (for example, WOW64 file system redirection might cause files intended for the System32 directory to be installed in the SysWOW64 directory instead).</span></span> <span data-ttu-id="f9ce8-191">Se è necessario usare un programma di installazione a 32 bit, disabilitare il reindirizzamento del file WOW64 durante il processo di installazione per assicurarsi che il servizio redirector file non provochi un reindirizzamento non intenzionale durante il processo di installazione.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-191">If you must use a 32-bit installer, disable WOW64 file redirection during the installation process to ensure that the file-redirector service does not cause any unintended redirection during the installation process.</span></span> <span data-ttu-id="f9ce8-192">Per informazioni sul redirector file system WOW64, vedere [redirector del file System](/windows/desktop/WinProg64/file-system-redirector).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-192">For information about the WOW64 file system redirector, see [File System Redirector](/windows/desktop/WinProg64/file-system-redirector).</span></span> <span data-ttu-id="f9ce8-193">Per informazioni su come disabilitare o abilitare il reindirizzamento file system WOW64, vedere [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-193">For information about how to disable or enable WOW64 file system redirection, see [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection).</span></span>

> [!TIP]
>
> <span data-ttu-id="f9ce8-194">Evitare i percorsi di installazione hardcoded.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-194">Avoid hard-coded installation paths.</span></span> <span data-ttu-id="f9ce8-195">Per altre informazioni, vedere [individuare le directory usando l'interfaccia di programmazione dell'applicazione non Hard-Coded percorsi](/previous-versions//ms675638(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f9ce8-195">For more information, see [Locate Directories Using the Application Programming Interface Not Hard-Coded Paths](/previous-versions//ms675638(v=vs.85))</span></span>

 

> [!IMPORTANT]
>
> <span data-ttu-id="f9ce8-196">Non installare alcun file di servizio IME o di testo nella directory speciale% WINDIR% \\ IME (per impostazione predefinita, c: \\ Windows \\ IME).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-196">Do not install any IME or text service files in the special directory %WINDIR%\\IME (by default, c:\\Windows\\IME ).</span></span> <span data-ttu-id="f9ce8-197">Questa directory contiene i file di sistema che supportano i servizi di testo e gli IME. non deve contenere alcun file di servizio di testo o IME di terze parti e il reindirizzamento file system WOW64 non è supportato per questa directory.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-197">This directory contains system files that support text services and IMEs; it is not intended to contain any third-party IME or text service files, and WOW64 file system redirection is not supported for this directory.</span></span>

 

## <a name="dual-ctfmonexe-processes-run-on-64-bit-windows-platforms"></a><span data-ttu-id="f9ce8-198">Processi Dual Ctfmon.exe eseguiti su piattaforme Windows a 64 bit</span><span class="sxs-lookup"><span data-stu-id="f9ce8-198">Dual Ctfmon.exe Processes Run on 64-Bit Windows Platforms</span></span>

<span data-ttu-id="f9ce8-199">Il processo ctfmon.exe gestisce il Framework dei servizi di testo sul desktop e fornisce anche l'interfaccia utente della barra del linguaggio (UI).</span><span class="sxs-lookup"><span data-stu-id="f9ce8-199">The ctfmon.exe process manages the Text Services Framework on the desktop and also provides the language bar user interface (UI).</span></span> <span data-ttu-id="f9ce8-200">In Windows a 64 bit, una versione a 32 bit e una versione a 64 bit del ctfmon.exe processo vengono eseguiti simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-200">On 64-bit Windows, a 32-bit version and a 64-bit version of the ctfmon.exe process run simultaneously.</span></span> <span data-ttu-id="f9ce8-201">Il processo di ctfmon.exe a 64 bit gestisce i servizi di testo a 64 bit e, allo stesso modo, il processo di ctfmon.exe a 32 bit gestisce i servizi di testo a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-201">The 64-bit ctfmon.exe process manages 64-bit text services, and, likewise, the 32-bit ctfmon.exe process manages 32-bit text services.</span></span>

## <a name="display-behavior-for-different-versions-of-the-language-bar-ui"></a><span data-ttu-id="f9ce8-202">Comportamento di visualizzazione per versioni diverse dell'interfaccia utente della barra del linguaggio</span><span class="sxs-lookup"><span data-stu-id="f9ce8-202">Display Behavior for Different Versions of the Language Bar UI</span></span>

<span data-ttu-id="f9ce8-203">In Windows a 64 bit, viene sempre visualizzata solo l'interfaccia utente della barra della lingua associata alla versione a 64 bit di un servizio di testo.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-203">On 64-bit Windows, only the language bar UI associated with the 64-bit version of a text service is ever shown.</span></span> <span data-ttu-id="f9ce8-204">Nei casi in cui un'applicazione a 32 bit usi la versione a 32 bit di un servizio di testo, Windows a 64 bit inserisce automaticamente l'interfaccia utente della barra della lingua per il servizio di testo a 64 bit equivalente.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-204">In cases where a 32-bit application is using the 32-bit version of a text service, 64-bit Windows automatically inserts the language bar UI for the equivalent 64-bit text service.</span></span> <span data-ttu-id="f9ce8-205">In questo modo non è necessario alcun lavoro speciale per i servizi di testo a 32 bit nella versione a 64 bit della barra della lingua.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-205">This ensures that no special work is required for 32-bit text services to appear in the 64-bit version of the language bar.</span></span>

## <a name="control-panel-considerations-on-64-bit-windows"></a><span data-ttu-id="f9ce8-206">Considerazioni sul pannello di controllo in Windows a 64 bit</span><span class="sxs-lookup"><span data-stu-id="f9ce8-206">Control Panel Considerations on 64-Bit Windows</span></span>

<span data-ttu-id="f9ce8-207">Windows a 64 bit consente di accedere alle versioni a 32 e 64 bit dei servizi di testo e IME tramite il pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-207">64-bit Windows provides access to both 32-bit and 64-bit versions of text services and IMEs through the Control Panel.</span></span> <span data-ttu-id="f9ce8-208">Per accedere alle impostazioni del pannello di controllo per versioni specifiche di servizi di testo o IME, esaminare le posizioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-208">To access Control Panel settings for specific versions of text services or IMEs, look in the following locations.</span></span>

-   <span data-ttu-id="f9ce8-209">**Accesso al pannello di controllo per i servizi di testo e gli IME a 32 bit:** Start-> Settings-> pannello di controllo-> visualizzare le icone del pannello di controllo x86</span><span class="sxs-lookup"><span data-stu-id="f9ce8-209">**Control Panel access for 32-bit Text Services and IMEs:** Start -> Settings -> Control Panel -> View x86 Control Panel Icons</span></span>
-   <span data-ttu-id="f9ce8-210">**Accesso al pannello di controllo per i servizi di testo e gli IME a 64 bit:** Start-> Settings-> pannello di controllo-> opzioni internazionali e della lingua</span><span class="sxs-lookup"><span data-stu-id="f9ce8-210">**Control Panel access for 64-bit Text Services and IMEs:** Start -> Settings -> Control Panel -> Regional and Language Options</span></span>

<span data-ttu-id="f9ce8-211">In alcune circostanze potrebbe essere possibile che alcune impostazioni siano disponibili solo tramite il pannello di controllo a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-211">There may be circumstances where some settings might be available only through the 32-bit Control Panel.</span></span> <span data-ttu-id="f9ce8-212">In questi casi, assicurarsi che gli utenti del servizio di testo o dell'IME siano consapevoli di questo, fornendo la documentazione appropriata o offrendo suggerimenti sull'interfaccia utente nell'interfaccia delle impostazioni a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="f9ce8-212">In these cases, be sure that users of your text service or IME are aware of this, by providing appropriate documentation or offering UI hints in your 64-bit settings interface.</span></span>

 

 