---
title: Installazione su richiesta per giochi
description: Questo articolo tecnico illustra due tecniche, installazione su richiesta e installazione in background, usando Windows Installer.
ms.assetid: abaaa7bf-8ed8-0425-6845-3671a56fe7fc
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 064dc58c563c372d1320a21040920e492e4e65e4
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "106300107"
---
# <a name="install-on-demand-for-games"></a><span data-ttu-id="add27-103">Installazione su richiesta per giochi</span><span class="sxs-lookup"><span data-stu-id="add27-103">Install-on-Demand for Games</span></span>

<span data-ttu-id="add27-104">Questo articolo tecnico illustra due tecniche, installazione su richiesta e installazione in background, usando [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="add27-104">This technical article discusses two techniques, install-on-demand and background install, using [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span> <span data-ttu-id="add27-105">I giochi possono usare queste tecniche di installazione per offrire un'esperienza di gioco migliore e più gradevole per i giocatori riducendo il tempo di installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-105">Games can utilize these installation techniques to provide a better and more pleasant gaming experience for players by reducing the installation time.</span></span>

-   [<span data-ttu-id="add27-106">Overview</span><span class="sxs-lookup"><span data-stu-id="add27-106">Overview</span></span>](#overview)
-   [<span data-ttu-id="add27-107">Supporto per l'applicazione di patch</span><span class="sxs-lookup"><span data-stu-id="add27-107">Patching Support</span></span>](#patching-support)
-   [<span data-ttu-id="add27-108">Esempio di InstallOnDemand SDK</span><span class="sxs-lookup"><span data-stu-id="add27-108">The InstallOnDemand SDK Sample</span></span>](#the-installondemand-sdk-sample)
-   [<span data-ttu-id="add27-109">Funzionalità e componenti dell'esempio</span><span class="sxs-lookup"><span data-stu-id="add27-109">The Sample's Features and Components</span></span>](#the-samples-features-and-components)
-   [<span data-ttu-id="add27-110">Installazione</span><span class="sxs-lookup"><span data-stu-id="add27-110">Installation</span></span>](#installation)
-   [<span data-ttu-id="add27-111">Limitazione</span><span class="sxs-lookup"><span data-stu-id="add27-111">Limitation</span></span>](#limitation)

## <a name="overview"></a><span data-ttu-id="add27-112">Panoramica</span><span class="sxs-lookup"><span data-stu-id="add27-112">Overview</span></span>

<span data-ttu-id="add27-113">L'installazione è un elemento di applicazioni basate su computer per molto tempo.</span><span class="sxs-lookup"><span data-stu-id="add27-113">Installation has been an element of computer-based applications for a long time.</span></span> <span data-ttu-id="add27-114">Per la maggior parte delle applicazioni, oggi è necessario che vengano installate sul disco rigido locale dell'utente prima di poterle usare.</span><span class="sxs-lookup"><span data-stu-id="add27-114">Most applications today require that they be installed on the user's local hard drive first before they can be used.</span></span> <span data-ttu-id="add27-115">I giochi per computer non sono un'eccezione; Quando un consumer acquista un gioco Microsoft Windows e tenta di eseguirlo, deve eseguire prima di tutto un processo di installazione che copia i file necessari dal disco del gioco sul disco rigido.</span><span class="sxs-lookup"><span data-stu-id="add27-115">Computer games are no exception; when a consumer buys a Microsoft Windows game and tries to run it, he must first go through an installation process that copies necessary files from the game disc to the hard drive.</span></span> <span data-ttu-id="add27-116">Questo processo di installazione è in genere lungo e può richiedere fino a un'ora per il completamento.</span><span class="sxs-lookup"><span data-stu-id="add27-116">This installation process is usually lengthy and can take as much as an hour to complete.</span></span> <span data-ttu-id="add27-117">Il tempo di installazione è un fattore che rende più appetibili i giochi di console rispetto ai giochi basati su computer per alcuni lettori, perché sono in grado di riprodurre immediatamente un gioco console dopo aver inserito il disco del gioco. La tecnologia illustrata in questo articolo tenterà di risolvere il problema riducendo drasticamente il tempo di installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-117">The installation time is a factor that makes console games more desirable than computer-based games for some players, as they are able to immediately play a console game after inserting the game disc. The technology discussed in this article will attempt to remedy this by drastically reducing the installation time.</span></span>

<span data-ttu-id="add27-118">Tradizionalmente, i giochi richiedono che tutti o la maggior parte dei file vengano installati prima dell'avvio.</span><span class="sxs-lookup"><span data-stu-id="add27-118">Traditionally, games require that all or most of the files be installed prior to launching.</span></span> <span data-ttu-id="add27-119">Per ottenere l'installazione su richiesta, è necessario che le risorse del gioco siano modulari. ovvero lo sviluppatore deve dividere le risorse dell'applicazione (grafica, audio e così via) in componenti.</span><span class="sxs-lookup"><span data-stu-id="add27-119">In order to achieve install-on-demand, the game resources need to be modular; that is, the developer must divide the application's resources (graphics, audio, and so on) into components.</span></span> <span data-ttu-id="add27-120">Ogni componente è un set di risorse che possono essere installate o rimosse come unità.</span><span class="sxs-lookup"><span data-stu-id="add27-120">Each component is a set of resources that can be installed or removed as a unit.</span></span> <span data-ttu-id="add27-121">Al termine di questa operazione, lo sviluppatore del gioco definisce una o più funzionalità, in genere una o più per ogni livello o zona.</span><span class="sxs-lookup"><span data-stu-id="add27-121">Once this is done, the game developer defines one or more features, typically one or more per level or zone.</span></span> <span data-ttu-id="add27-122">Ogni funzionalità di un'applicazione specifica un set di componenti necessari per l'esecuzione di una determinata funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-122">Each feature of an application specifies a set of components necessary for running that particular feature.</span></span> <span data-ttu-id="add27-123">Quando si installa un'applicazione, le relative funzionalità possono essere contrassegnate come "Installa" (componenti copiati sul disco rigido locale al momento dell'installazione) o "annunciate" (componenti copiati sul disco rigido locale dopo l'installazione iniziale quando l'applicazione usa tale funzionalità).</span><span class="sxs-lookup"><span data-stu-id="add27-123">When an application is installed, its features can be marked as "install" (components copied to the local hard drive at installation time) or "advertised" (components copied to the local hard drive after the initial install when the application uses that feature).</span></span> <span data-ttu-id="add27-124">Uno sviluppatore di giochi può ridurre il tempo di installazione progettando il gioco per l'avvio e l'esecuzione con un set minimo di funzionalità installate.</span><span class="sxs-lookup"><span data-stu-id="add27-124">A game developer can reduce the installation time by designing the game to launch and run with a minimal set of features installed.</span></span> <span data-ttu-id="add27-125">Il resto delle sue funzionalità può essere contrassegnato come annunciato e installato su richiesta quando l'applicazione deve effettivamente usare le funzionalità fornite da tali funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-125">The rest of its features can be marked as advertised and installed on demand when the application actually needs to use functionalities that those features provide.</span></span>

<span data-ttu-id="add27-126">I giochi possono chiamare [Windows Installer](/windows/desktop/Msi/windows-installer-portal) per installare una funzionalità specifica che potrebbe non essere stata installata.</span><span class="sxs-lookup"><span data-stu-id="add27-126">Games can call [Windows Installer](/windows/desktop/Msi/windows-installer-portal) to install a particular feature that may not have been installed.</span></span> <span data-ttu-id="add27-127">Per fare in modo che l'installazione venga visualizzata in background, è possibile usare un thread di lavoro per effettuare le chiamate al programma di installazione mentre il thread primario continua a gestire la logica del gioco e a eseguire il rendering dello schermo.</span><span class="sxs-lookup"><span data-stu-id="add27-127">To make the installation appear in the background, a worker thread can be used to make the calls to the installer while the primary thread continues to handle game logic and to render the screen.</span></span> <span data-ttu-id="add27-128">In questo modo si riduce al minimo l'alterazione del gameplay causato dall'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-128">This minimizes the disruption of gameplay caused by the installation.</span></span> <span data-ttu-id="add27-129">Il gioco può avviare l'installazione in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="add27-129">The game can initiate the installation at any time.</span></span> <span data-ttu-id="add27-130">Tuttavia, poiché l'installazione usa cicli del processore, non è in genere consigliabile eseguire l'installazione quando il thread primario è in una necessità critica di potenza di elaborazione, ad esempio quando l'utente è al centro dell'azione.</span><span class="sxs-lookup"><span data-stu-id="add27-130">However, because the installation consumes processor cycles, it is generally not a good idea to perform the installation when the primary thread is in critical need of processing power, such as when the user is in the middle of the action.</span></span> <span data-ttu-id="add27-131">Ad esempio, un momento opportuno per eseguire l'installazione può essere quando l'utente si trova nel menu del gioco, quando il gioco viene sospeso o ridotto a icona oppure quando l'utente Guarda il filmato introduttivo o la sequenza di filmati.</span><span class="sxs-lookup"><span data-stu-id="add27-131">For example, a good time to perform the installation may be during the time the user is in the game menu, when the game is paused or minimized, or when the user is watching the introduction movie or cutscenes.</span></span>

## <a name="patching-support"></a><span data-ttu-id="add27-132">Supporto per l'applicazione di patch</span><span class="sxs-lookup"><span data-stu-id="add27-132">Patching Support</span></span>

<span data-ttu-id="add27-133">La maggior parte dei giochi attualmente deve essere aggiornata anche dopo che sono stati risolti e sono state aggiunte nuove funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-133">Most games today need to be updated even after they ship as bugs get fixed and new features get added.</span></span> <span data-ttu-id="add27-134">L'aggiornamento richiede spesso l'applicazione di patch, che è tradizionalmente una procedura semplice per i giochi.</span><span class="sxs-lookup"><span data-stu-id="add27-134">Updating often requires patching, which is traditionally a straightforward procedure for games.</span></span> <span data-ttu-id="add27-135">Poiché tutti i file necessari vengono installati nel disco rigido dell'utente, l'applicazione di patch a un gioco comporta la copia dei file modificati sul disco rigido, sovrascrivendo i file esistenti.</span><span class="sxs-lookup"><span data-stu-id="add27-135">Because all of the necessary files are installed onto the user's hard drive, patching a game involves copying revised files onto the hard drive, overwriting existing files.</span></span> <span data-ttu-id="add27-136">Quando viene utilizzata l'installazione su richiesta, non tutti i file vengono installati e copiati al momento dell'applicazione di patch.</span><span class="sxs-lookup"><span data-stu-id="add27-136">When install-on-demand is employed, not all files are installed and copied at the time of patching.</span></span> <span data-ttu-id="add27-137">Pertanto, il Patcher non può semplicemente scrivere file aggiornati nella cartella del gioco.</span><span class="sxs-lookup"><span data-stu-id="add27-137">Therefore, the patcher cannot simply write updated files onto the game folder.</span></span>

<span data-ttu-id="add27-138">[Windows Installer](/windows/desktop/Msi/windows-installer-portal) dispone di funzionalità per l'applicazione di patch alle applicazioni che usano l'installazione su richiesta.</span><span class="sxs-lookup"><span data-stu-id="add27-138">[Windows Installer](/windows/desktop/Msi/windows-installer-portal) has features for patching applications that use install-on-demand.</span></span> <span data-ttu-id="add27-139">Quando si applica una patch, il programma di installazione memorizza nella cache la patch nel sistema.</span><span class="sxs-lookup"><span data-stu-id="add27-139">When applying a patch, the installer caches the patch onto the system.</span></span> <span data-ttu-id="add27-140">Questa funzionalità funziona bene per le patch con Delta di piccole dimensioni.</span><span class="sxs-lookup"><span data-stu-id="add27-140">This feature works well for patches with small deltas.</span></span> <span data-ttu-id="add27-141">I file originariamente rilasciati non devono più trovarsi sul disco al momento dell'applicazione di patch, quindi è possibile annunciare tali file.</span><span class="sxs-lookup"><span data-stu-id="add27-141">The originally released files no longer need to be on the disk at the time of patching, so those files can be advertised.</span></span> <span data-ttu-id="add27-142">Successivamente, quando l'applicazione viene eseguita e deve accedere ai file, il programma di installazione installa la versione più recente di tali file copiando la versione rilasciata in origine dal supporto (ad esempio, CDs) e applicando la patch dopo la lettura dei dati della patch salvati.</span><span class="sxs-lookup"><span data-stu-id="add27-142">Later, when the application runs and needs to access the files, the installer installs the most recent version of those files by copying the originally released version from the media (for example, CDs) and applying the patch after reading the saved patch data.</span></span>

## <a name="the-installondemand-sdk-sample"></a><span data-ttu-id="add27-143">Esempio di InstallOnDemand SDK</span><span class="sxs-lookup"><span data-stu-id="add27-143">The InstallOnDemand SDK Sample</span></span>

<span data-ttu-id="add27-144">L'esempio di installazione su richiesta per i giochi illustra le tecniche di installazione su richiesta descritte in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="add27-144">The Install-on-Demand for Games sample demonstrates the install-on-demand techniques discussed in this article.</span></span> <span data-ttu-id="add27-145">A differenza di altri esempi, non è possibile eseguire l'installazione su richiesta dei giochi direttamente dal browser di esempio.</span><span class="sxs-lookup"><span data-stu-id="add27-145">Unlike other samples, Install-on-Demand for Games cannot be run directly from the sample browser.</span></span> <span data-ttu-id="add27-146">Poiché l'esempio usa il [Windows Installer](/windows/desktop/Msi/windows-installer-portal) per gestirne l'installazione, è necessario che sia incluso nel database del programma di installazione delle applicazioni installate.</span><span class="sxs-lookup"><span data-stu-id="add27-146">Because the sample uses the [Windows Installer](/windows/desktop/Msi/windows-installer-portal) to manage its installation, it needs to be included in the installer's database of installed applications.</span></span>

<span data-ttu-id="add27-147">**Per avviare l'esempio**</span><span class="sxs-lookup"><span data-stu-id="add27-147">**To launch the sample**</span></span>

1.  <span data-ttu-id="add27-148">Usare il collegamento Installa progetto nel browser di esempio per copiare i file dell'esempio in una cartella.</span><span class="sxs-lookup"><span data-stu-id="add27-148">Use the Install Project link in the sample browser to copy the sample's files to a folder.</span></span>
2.  <span data-ttu-id="add27-149">Fare doppio clic su InstallOnDemand.msi per installare l'esempio.</span><span class="sxs-lookup"><span data-stu-id="add27-149">Double click InstallOnDemand.msi to install the sample.</span></span>
3.  <span data-ttu-id="add27-150">Selezionare installazione tipica.</span><span class="sxs-lookup"><span data-stu-id="add27-150">Select Typical Install.</span></span>
4.  <span data-ttu-id="add27-151">Avviare l'esempio avviando il InstallOnDemand.exe nella cartella installata (in genere file di programma \\ InstallOnDemand) o avviando da programmi del menu Start \\ .</span><span class="sxs-lookup"><span data-stu-id="add27-151">Start the sample by launching the InstallOnDemand.exe in the installed folder (typically Program Files\\InstallOnDemand) or by launching from Start Menu\\Programs.</span></span>

<span data-ttu-id="add27-152">InstallOnDemand.msi è un database riconosciuto dal programma di installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-152">InstallOnDemand.msi is a database recognized by the installer.</span></span> <span data-ttu-id="add27-153">Definisce l'intero processo di installazione: la struttura di directory, gli elementi che non verranno copiati, le risorse che verranno copiate insieme, i valori del registro di sistema da scrivere, i collegamenti da creare e così via.</span><span class="sxs-lookup"><span data-stu-id="add27-153">It defines the entire installation process: the directory structure, what will and will not be copied, what resources will be copied together, what registry values to write, what shortcuts to create, and so forth.</span></span>

<span data-ttu-id="add27-154">Quando viene avviata, l'esempio riproduce una sequenza introduttiva.</span><span class="sxs-lookup"><span data-stu-id="add27-154">When launched, the sample plays an introduction sequence.</span></span> <span data-ttu-id="add27-155">Il lettore può terminare e immettere il menu principale premendo ESC.</span><span class="sxs-lookup"><span data-stu-id="add27-155">The player can end it and enter the main menu by pressing the ESC key.</span></span> <span data-ttu-id="add27-156">In seguito all'introduzione, il lettore può avviare un nuovo gioco immettendo un nome di carattere e scorrendo le statistiche.</span><span class="sxs-lookup"><span data-stu-id="add27-156">Following the introduction, the player can start a new game by entering a character name and scrolling through the statistics.</span></span> <span data-ttu-id="add27-157">Prima di iniziare a riprodurre la sequenza di introduzione, l'esempio chiama una funzione del programma di installazione per verificare se è installata la funzionalità per il livello 1.</span><span class="sxs-lookup"><span data-stu-id="add27-157">Before the sample begins to play the introduction sequence, the sample calls an installer function to check if the feature for level 1 is installed.</span></span> <span data-ttu-id="add27-158">Se la funzionalità di livello 1 non è stata installata, nell'esempio viene usato un thread in background per richiedere al programma di installazione di installare il gioco, mentre il thread principale esegue un'altra operazione, ad esempio la riproduzione della sequenza di introduzione, il rendering del menu o l'interazione con il lettore alla creazione di caratteri.</span><span class="sxs-lookup"><span data-stu-id="add27-158">If the level 1 feature has not been installed, the sample uses a background thread to ask the installer to install the game, while the primary thread is doing something else (such as playing the introduction sequence, rendering the menu, or interacting with the player on character creation).</span></span> <span data-ttu-id="add27-159">L'esperienza è diversa dall'installazione tradizionale dei giochi in quanto l'utente è occupato nel gioco (guardando l'introduzione o la creazione di un nuovo carattere) mentre è in corso l'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-159">The experience is different from traditional game installation in that the user is occupied in the game (watching the introduction or creating a new character) while installation is in progress.</span></span> <span data-ttu-id="add27-160">Al termine della creazione di un carattere da parte del giocatore, nell'esempio vengono caricate le risorse per il livello 1.</span><span class="sxs-lookup"><span data-stu-id="add27-160">After the player has finished creating a character, the sample loads the resources for level 1.</span></span>

<span data-ttu-id="add27-161">Sul lato destro della schermata di esempio sono presenti cinque pulsanti contrassegnati come "Play Level 1" e "Play Level 5".</span><span class="sxs-lookup"><span data-stu-id="add27-161">On the right side of the sample screen are five buttons marked "Play Level 1" through "Play Level 5."</span></span> <span data-ttu-id="add27-162">Questi pulsanti simulano il completamento del giocatore del livello corrente e l'avanzamento fino a quello successivo.</span><span class="sxs-lookup"><span data-stu-id="add27-162">These buttons simulate the player's completion of the current level and advancement to the next.</span></span> <span data-ttu-id="add27-163">Quando si fa clic su uno di questi pulsanti, viene visualizzata una schermata delle statistiche che mostra le informazioni sul livello appena terminato.</span><span class="sxs-lookup"><span data-stu-id="add27-163">When one of these buttons is clicked, a statistics screen appears showing information about the level that he has just finished.</span></span> <span data-ttu-id="add27-164">L'esempio richiede anche questo tempo per richiedere al programma di installazione di controllare e installare il livello successivo, se non è già installato.</span><span class="sxs-lookup"><span data-stu-id="add27-164">The sample also takes this time to ask the installer to check and install the next level, if it is not already installed.</span></span> <span data-ttu-id="add27-165">L'installazione si verifica quando il lettore legge la schermata delle statistiche, in modo che quando l'utente fa clic su OK per immettere il livello successivo, le risorse del livello sono tutte installate e pronte per essere caricate.</span><span class="sxs-lookup"><span data-stu-id="add27-165">The installation occurs while the player is reading the statistics screen, so that when the user clicks OK to enter the next level, the level's resources are all installed and ready to be loaded.</span></span>

## <a name="the-samples-features-and-components"></a><span data-ttu-id="add27-166">Funzionalità e componenti dell'esempio</span><span class="sxs-lookup"><span data-stu-id="add27-166">The Sample's Features and Components</span></span>

<span data-ttu-id="add27-167">Tradizionalmente, i giochi richiedono che tutti o la maggior parte dei file vengano installati prima dell'avvio.</span><span class="sxs-lookup"><span data-stu-id="add27-167">Traditionally, games require that all or most of the files be installed prior to launching.</span></span> <span data-ttu-id="add27-168">Per ottenere l'installazione su richiesta, è necessario che le risorse del gioco siano modulari. ovvero lo sviluppatore deve dividere le risorse dell'applicazione (grafica, audio e così via) in componenti.</span><span class="sxs-lookup"><span data-stu-id="add27-168">In order to achieve install-on-demand, the game resources need to be modular; that is, the developer must divide the application's resources (graphics, audio, and so on) into components.</span></span> <span data-ttu-id="add27-169">Ogni componente è un set di risorse che possono essere installate o rimosse come unità.</span><span class="sxs-lookup"><span data-stu-id="add27-169">Each component is a set of resources that can be installed or removed as a unit.</span></span> <span data-ttu-id="add27-170">Al termine di questa operazione, lo sviluppatore del gioco definisce una o più funzionalità, in genere una o più per ogni livello o zona.</span><span class="sxs-lookup"><span data-stu-id="add27-170">Once this is done, the game developer defines one or more features, typically one or more per level or zone.</span></span> <span data-ttu-id="add27-171">Ogni funzionalità di un'applicazione specifica un set di componenti necessari per l'esecuzione di una determinata funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-171">Each feature of an application specifies a set of components necessary for running that particular feature.</span></span> <span data-ttu-id="add27-172">Quando si installa un'applicazione, le relative funzionalità possono essere contrassegnate come "Installa" (componenti copiati sul disco rigido locale al momento dell'installazione) o "annunciate" (componenti copiati sul disco rigido locale quando l'applicazione usa tale funzionalità).</span><span class="sxs-lookup"><span data-stu-id="add27-172">When an application is installed, its features can be marked as "install" (components copied to the local hard drive at installation time) or "advertised" (components copied to the local hard drive when the application later uses that feature).</span></span> <span data-ttu-id="add27-173">Uno sviluppatore di giochi può ridurre il tempo di installazione progettando il gioco da avviare e avviando l'esecuzione con un set minimo di funzionalità installate.</span><span class="sxs-lookup"><span data-stu-id="add27-173">A game developer can reduce the installation time by designing the game to launch and start running with a minimal set of features installed.</span></span> <span data-ttu-id="add27-174">Il resto delle sue funzionalità può essere contrassegnato come annunciato e installato su richiesta quando l'applicazione deve effettivamente usare le funzionalità fornite da tali funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-174">The rest of its features can be marked as advertised and installed on-demand when the application actually needs to use functionalities that those features provide.</span></span>

<span data-ttu-id="add27-175">Nella tabella seguente sono elencate le sei funzionalità di primo livello definite dall'esempio.</span><span class="sxs-lookup"><span data-stu-id="add27-175">The following table lists the six top-level features that the sample defines.</span></span>



| <span data-ttu-id="add27-176">Nome funzionalità</span><span class="sxs-lookup"><span data-stu-id="add27-176">Feature Name</span></span> | <span data-ttu-id="add27-177">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="add27-177">Functionality</span></span>                                                                                                                                                                                                             | <span data-ttu-id="add27-178">Componenti</span><span class="sxs-lookup"><span data-stu-id="add27-178">Components</span></span>  | <span data-ttu-id="add27-179">File</span><span class="sxs-lookup"><span data-stu-id="add27-179">Files</span></span>                                                                     |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------|---------------------------------------------------------------------------|
| <span data-ttu-id="add27-180">Core</span><span class="sxs-lookup"><span data-stu-id="add27-180">Core</span></span>         | <span data-ttu-id="add27-181">Include le risorse necessarie in qualsiasi momento, indipendentemente dal livello.</span><span class="sxs-lookup"><span data-stu-id="add27-181">Includes resources required at all times, regardless of level.</span></span> <span data-ttu-id="add27-182">Queste risorse sono: eseguibile di esempio, supporti necessari per la schermata di introduzione e caricamento e il file. FX che gestisce tutto il rendering nell'esempio.</span><span class="sxs-lookup"><span data-stu-id="add27-182">These resources are: sample executable, media required by introduction sequence and loading screen, and .fx file that handles all rendering in the sample.</span></span> | <span data-ttu-id="add27-183">Core</span><span class="sxs-lookup"><span data-stu-id="add27-183">Core</span></span>        | <span data-ttu-id="add27-184">InstallOnDemand.exe, InstallOnDemand. FX, Loading.bmp, Level. x</span><span class="sxs-lookup"><span data-stu-id="add27-184">InstallOnDemand.exe, InstallOnDemand.fx, Loading.bmp, Level.x</span></span>             |
| <span data-ttu-id="add27-185">Core</span><span class="sxs-lookup"><span data-stu-id="add27-185">Core</span></span>         | <span data-ttu-id="add27-186">(come sopra)</span><span class="sxs-lookup"><span data-stu-id="add27-186">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="add27-187">CoreUI</span><span class="sxs-lookup"><span data-stu-id="add27-187">CoreUI</span></span>      | <span data-ttu-id="add27-188">\\Interfaccia utente multimediale \\ dxutcontrols. DDS, media \\ UI \\ DXUTShared. FX, media \\ UI \\ Arrow. x</span><span class="sxs-lookup"><span data-stu-id="add27-188">Media\\UI\\dxutcontrols.dds, Media\\UI\\DXUTShared.fx, Media\\UI\\arrow.x</span></span> |
| <span data-ttu-id="add27-189">Core</span><span class="sxs-lookup"><span data-stu-id="add27-189">Core</span></span>         | <span data-ttu-id="add27-190">(come sopra)</span><span class="sxs-lookup"><span data-stu-id="add27-190">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="add27-191">CoreMisc</span><span class="sxs-lookup"><span data-stu-id="add27-191">CoreMisc</span></span>    | <span data-ttu-id="add27-192">Media \\ varie \\ fondo. x, media \\ varie \\seafloor.bmp</span><span class="sxs-lookup"><span data-stu-id="add27-192">Media\\Misc\\seafloor.x, Media\\Misc\\seafloor.bmp</span></span>                        |
| <span data-ttu-id="add27-193">Core</span><span class="sxs-lookup"><span data-stu-id="add27-193">Core</span></span>         | <span data-ttu-id="add27-194">(come sopra)</span><span class="sxs-lookup"><span data-stu-id="add27-194">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="add27-195">CoreSpeeder</span><span class="sxs-lookup"><span data-stu-id="add27-195">CoreSpeeder</span></span> | <span data-ttu-id="add27-196">Media \\ PRT demo \\ Landshark. x, media \\ PRT demo \\ Speeder \_diff.jpg</span><span class="sxs-lookup"><span data-stu-id="add27-196">Media\\PRT Demo\\LandShark.x, Media\\PRT Demo\\speeder\_diff.jpg</span></span>          |
| <span data-ttu-id="add27-197">Core</span><span class="sxs-lookup"><span data-stu-id="add27-197">Core</span></span>         | <span data-ttu-id="add27-198">(come sopra)</span><span class="sxs-lookup"><span data-stu-id="add27-198">(same as above)</span></span>                                                                                                                                                                                                           | <span data-ttu-id="add27-199">CoreReg</span><span class="sxs-lookup"><span data-stu-id="add27-199">CoreReg</span></span>     | <span data-ttu-id="add27-200">N/d (valore del registro di sistema)</span><span class="sxs-lookup"><span data-stu-id="add27-200">N/A (registry value)</span></span>                                                      |
| <span data-ttu-id="add27-201">Level1</span><span class="sxs-lookup"><span data-stu-id="add27-201">Level1</span></span>       | <span data-ttu-id="add27-202">Fornisce le risorse utilizzate dal livello 1.</span><span class="sxs-lookup"><span data-stu-id="add27-202">Provides resources used by level 1.</span></span>                                                                                                                                                                                       | <span data-ttu-id="add27-203">Level1</span><span class="sxs-lookup"><span data-stu-id="add27-203">Level1</span></span>      | <span data-ttu-id="add27-204">Level1.jpg</span><span class="sxs-lookup"><span data-stu-id="add27-204">Level1.jpg</span></span>                                                                |
| <span data-ttu-id="add27-205">Level1</span><span class="sxs-lookup"><span data-stu-id="add27-205">Level1</span></span>       | <span data-ttu-id="add27-206">(uguale a precedente)</span><span class="sxs-lookup"><span data-stu-id="add27-206">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="add27-207">L1Skybox</span><span class="sxs-lookup"><span data-stu-id="add27-207">L1Skybox</span></span>    | <span data-ttu-id="add27-208">\\Probe luce media \\ Galileo \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="add27-208">Media\\Light Probes\\galileo\_cross.dds</span></span>                                   |
| <span data-ttu-id="add27-209">Level2</span><span class="sxs-lookup"><span data-stu-id="add27-209">Level2</span></span>       | <span data-ttu-id="add27-210">Fornisce le risorse utilizzate dal livello 2.</span><span class="sxs-lookup"><span data-stu-id="add27-210">Provides resources used by level 2.</span></span>                                                                                                                                                                                       | <span data-ttu-id="add27-211">Level2</span><span class="sxs-lookup"><span data-stu-id="add27-211">Level2</span></span>      | <span data-ttu-id="add27-212">Level2.jpg</span><span class="sxs-lookup"><span data-stu-id="add27-212">Level2.jpg</span></span>                                                                |
| <span data-ttu-id="add27-213">Level2</span><span class="sxs-lookup"><span data-stu-id="add27-213">Level2</span></span>       | <span data-ttu-id="add27-214">(uguale a precedente)</span><span class="sxs-lookup"><span data-stu-id="add27-214">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="add27-215">L2Skybox</span><span class="sxs-lookup"><span data-stu-id="add27-215">L2Skybox</span></span>    | <span data-ttu-id="add27-216">\\Probe chiaro multimediale \\ Grace \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="add27-216">Media\\Light Probes\\grace\_cross.dds</span></span>                                     |
| <span data-ttu-id="add27-217">Level3</span><span class="sxs-lookup"><span data-stu-id="add27-217">Level3</span></span>       | <span data-ttu-id="add27-218">Fornisce le risorse utilizzate dal livello 3.</span><span class="sxs-lookup"><span data-stu-id="add27-218">Provides resources used by level 3.</span></span>                                                                                                                                                                                       | <span data-ttu-id="add27-219">Level3</span><span class="sxs-lookup"><span data-stu-id="add27-219">Level3</span></span>      | <span data-ttu-id="add27-220">Level3.jpg</span><span class="sxs-lookup"><span data-stu-id="add27-220">Level3.jpg</span></span>                                                                |
| <span data-ttu-id="add27-221">Level3</span><span class="sxs-lookup"><span data-stu-id="add27-221">Level3</span></span>       | <span data-ttu-id="add27-222">(uguale a precedente)</span><span class="sxs-lookup"><span data-stu-id="add27-222">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="add27-223">L3Skybox</span><span class="sxs-lookup"><span data-stu-id="add27-223">L3Skybox</span></span>    | <span data-ttu-id="add27-224">\\Probe Light Media \\ RNL \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="add27-224">Media\\Light Probes\\rnl\_cross.dds</span></span>                                       |
| <span data-ttu-id="add27-225">Level4</span><span class="sxs-lookup"><span data-stu-id="add27-225">Level4</span></span>       | <span data-ttu-id="add27-226">Fornisce le risorse utilizzate dal livello 4.</span><span class="sxs-lookup"><span data-stu-id="add27-226">Provides resources used by level 4.</span></span>                                                                                                                                                                                       | <span data-ttu-id="add27-227">Level4</span><span class="sxs-lookup"><span data-stu-id="add27-227">Level4</span></span>      | <span data-ttu-id="add27-228">Level4.jpg</span><span class="sxs-lookup"><span data-stu-id="add27-228">Level4.jpg</span></span>                                                                |
| <span data-ttu-id="add27-229">Level4</span><span class="sxs-lookup"><span data-stu-id="add27-229">Level4</span></span>       | <span data-ttu-id="add27-230">(uguale a precedente)</span><span class="sxs-lookup"><span data-stu-id="add27-230">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="add27-231">L4Skybox</span><span class="sxs-lookup"><span data-stu-id="add27-231">L4Skybox</span></span>    | <span data-ttu-id="add27-232">\\Probe Light Media \\ stpeters \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="add27-232">Media\\Light Probes\\stpeters\_cross.dds</span></span>                                  |
| <span data-ttu-id="add27-233">Level5</span><span class="sxs-lookup"><span data-stu-id="add27-233">Level5</span></span>       | <span data-ttu-id="add27-234">Fornisce le risorse utilizzate dal livello 5.</span><span class="sxs-lookup"><span data-stu-id="add27-234">Provides resources used by level 5.</span></span>                                                                                                                                                                                       | <span data-ttu-id="add27-235">Level5</span><span class="sxs-lookup"><span data-stu-id="add27-235">Level5</span></span>      | <span data-ttu-id="add27-236">Level5.jpg</span><span class="sxs-lookup"><span data-stu-id="add27-236">Level5.jpg</span></span>                                                                |
| <span data-ttu-id="add27-237">Level5</span><span class="sxs-lookup"><span data-stu-id="add27-237">Level5</span></span>       | <span data-ttu-id="add27-238">(uguale a precedente)</span><span class="sxs-lookup"><span data-stu-id="add27-238">(same as previous)</span></span>                                                                                                                                                                                                        | <span data-ttu-id="add27-239">L5Skybox</span><span class="sxs-lookup"><span data-stu-id="add27-239">L5Skybox</span></span>    | <span data-ttu-id="add27-240">\\Probe luce multimediale \\ Uffizi \_ Cross. DDS</span><span class="sxs-lookup"><span data-stu-id="add27-240">Media\\Light Probes\\uffizi\_cross.dds</span></span>                                    |



 

<span data-ttu-id="add27-241">Le funzionalità di Level1 tramite Level5 presentano funzionalità secondarie aggiuntive contenenti file non direttamente usati dall'esempio.</span><span class="sxs-lookup"><span data-stu-id="add27-241">The Level1 through Level5 features have additional sub-features that contain files not directly used by the sample.</span></span> <span data-ttu-id="add27-242">Questi file di funzionalità secondarie sono stati aggiunti per rendere più lunga l'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-242">These sub-features files have been added to make the installation take longer.</span></span> <span data-ttu-id="add27-243">Questa operazione viene eseguita per illustrare l'operazione di installazione in corso in esecuzione in background mentre l'esempio è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="add27-243">This is done to illustrate the ongoing installation operation that is running in the background while the sample is running.</span></span>

<span data-ttu-id="add27-244">Nella tabella seguente sono elencate le funzionalità secondarie.</span><span class="sxs-lookup"><span data-stu-id="add27-244">The following table lists the sub-features.</span></span>



| <span data-ttu-id="add27-245">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="add27-245">Feature</span></span> | <span data-ttu-id="add27-246">Funzionalità secondarie</span><span class="sxs-lookup"><span data-stu-id="add27-246">Sub-features</span></span>                      | <span data-ttu-id="add27-247">File</span><span class="sxs-lookup"><span data-stu-id="add27-247">Files</span></span>                                                                                                                                                                          |
|---------|-----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="add27-248">Level1</span><span class="sxs-lookup"><span data-stu-id="add27-248">Level1</span></span>  | <span data-ttu-id="add27-249">L1PH1, L1PH2, L1PH3, L1PH4, L1PH5</span><span class="sxs-lookup"><span data-stu-id="add27-249">L1PH1, L1PH2, L1PH3, L1PH4, L1PH5</span></span> | <span data-ttu-id="add27-250">Level1 segnaposto data \\ L1PH1. dat Level1 segnaposto \\ L1PH2. dat Level1 dati segnaposto L1PH3 \\ . dat Level1 dati segnaposto L1PH4. \\ dat Level1 dati segnaposto L1PH5 \\ . dat</span><span class="sxs-lookup"><span data-stu-id="add27-250">Level1 Placeholder Data\\L1PH1.dat Level1 Placeholder Data\\L1PH2.dat Level1 Placeholder Data\\L1PH3.dat Level1 Placeholder Data\\L1PH4.dat Level1 Placeholder Data\\L1PH5.dat</span></span> |
| <span data-ttu-id="add27-251">Level2</span><span class="sxs-lookup"><span data-stu-id="add27-251">Level2</span></span>  | <span data-ttu-id="add27-252">L2PH1, L2PH2, L2PH3, L2PH4, L2PH5</span><span class="sxs-lookup"><span data-stu-id="add27-252">L2PH1, L2PH2, L2PH3, L2PH4, L2PH5</span></span> | <span data-ttu-id="add27-253">Level2 segnaposto data \\ L2PH1. dat Level2 segnaposto \\ L2PH2. dat Level2 dati segnaposto L2PH3 \\ . dat Level2 dati segnaposto L2PH4. \\ dat Level2 dati segnaposto L2PH5 \\ . dat</span><span class="sxs-lookup"><span data-stu-id="add27-253">Level2 Placeholder Data\\L2PH1.dat Level2 Placeholder Data\\L2PH2.dat Level2 Placeholder Data\\L2PH3.dat Level2 Placeholder Data\\L2PH4.dat Level2 Placeholder Data\\L2PH5.dat</span></span> |
| <span data-ttu-id="add27-254">Level3</span><span class="sxs-lookup"><span data-stu-id="add27-254">Level3</span></span>  | <span data-ttu-id="add27-255">L3PH1, L3PH2, L3PH3, L3PH4, L3PH5</span><span class="sxs-lookup"><span data-stu-id="add27-255">L3PH1, L3PH2, L3PH3, L3PH4, L3PH5</span></span> | <span data-ttu-id="add27-256">Level3 segnaposto data \\ L3PH1. dat Level3 segnaposto \\ L3PH2. dat Level3 dati segnaposto L3PH3 \\ . dat Level3 dati segnaposto L3PH4. \\ dat Level3 dati segnaposto L3PH5 \\ . dat</span><span class="sxs-lookup"><span data-stu-id="add27-256">Level3 Placeholder Data\\L3PH1.dat Level3 Placeholder Data\\L3PH2.dat Level3 Placeholder Data\\L3PH3.dat Level3 Placeholder Data\\L3PH4.dat Level3 Placeholder Data\\L3PH5.dat</span></span> |
| <span data-ttu-id="add27-257">Level4</span><span class="sxs-lookup"><span data-stu-id="add27-257">Level4</span></span>  | <span data-ttu-id="add27-258">L4PH1, L4PH2, L4PH3, L4PH4, L4PH5</span><span class="sxs-lookup"><span data-stu-id="add27-258">L4PH1, L4PH2, L4PH3, L4PH4, L4PH5</span></span> | <span data-ttu-id="add27-259">Level4 segnaposto data \\ L4PH1. dat Level4 segnaposto \\ L4PH2. dat Level4 dati segnaposto L4PH3 \\ . dat Level4 dati segnaposto L4PH4. \\ dat Level4 dati segnaposto L4PH5 \\ . dat</span><span class="sxs-lookup"><span data-stu-id="add27-259">Level4 Placeholder Data\\L4PH1.dat Level4 Placeholder Data\\L4PH2.dat Level4 Placeholder Data\\L4PH3.dat Level4 Placeholder Data\\L4PH4.dat Level4 Placeholder Data\\L4PH5.dat</span></span> |
| <span data-ttu-id="add27-260">Level5</span><span class="sxs-lookup"><span data-stu-id="add27-260">Level5</span></span>  | <span data-ttu-id="add27-261">L5PH1, L5PH2, L5PH3, L5PH4, L5PH5</span><span class="sxs-lookup"><span data-stu-id="add27-261">L5PH1, L5PH2, L5PH3, L5PH4, L5PH5</span></span> | <span data-ttu-id="add27-262">Level5 segnaposto data \\ L5PH1. dat Level5 segnaposto \\ L5PH2. dat Level5 dati segnaposto L5PH3 \\ . dat Level5 dati segnaposto L5PH4. \\ dat Level5 dati segnaposto L5PH5 \\ . dat</span><span class="sxs-lookup"><span data-stu-id="add27-262">Level5 Placeholder Data\\L5PH1.dat Level5 Placeholder Data\\L5PH2.dat Level5 Placeholder Data\\L5PH3.dat Level5 Placeholder Data\\L5PH4.dat Level5 Placeholder Data\\L5PH5.dat</span></span> |



 

<span data-ttu-id="add27-263">Durante l'installazione, la funzionalità di base deve essere contrassegnata come "Installa" e tutte le altre funzionalità devono essere contrassegnate come "pubblicizzate".</span><span class="sxs-lookup"><span data-stu-id="add27-263">During installation, the core feature should be marked "install" and all other features should be marked "advertised."</span></span> <span data-ttu-id="add27-264">Installando una sola funzionalità anziché sei, il tempo che il lettore deve attendere fino al lancio del gioco è notevolmente ridotto.</span><span class="sxs-lookup"><span data-stu-id="add27-264">By only installing one feature instead of six, the time that the player must wait until the game launches is significantly reduced.</span></span>

## <a name="installation"></a><span data-ttu-id="add27-265">Installazione</span><span class="sxs-lookup"><span data-stu-id="add27-265">Installation</span></span>

<span data-ttu-id="add27-266">Il [Windows Installer](/windows/desktop/Msi/windows-installer-portal) fornisce un meccanismo che consente a un'applicazione di richiedere l'installazione di una funzionalità annunciata.</span><span class="sxs-lookup"><span data-stu-id="add27-266">The [Windows Installer](/windows/desktop/Msi/windows-installer-portal) provides a mechanism for an application to request that an advertised feature be installed.</span></span> <span data-ttu-id="add27-267">Tuttavia, il meccanismo è una chiamata sincrona Application Programming Interface (API), il che significa che l'applicazione deve attendere l'interno della chiamata fino al completamento dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-267">However, the mechanism is a synchronous application programming interface (API) call, which means that the application has to wait inside the call until the installation is complete.</span></span> <span data-ttu-id="add27-268">Per ottenere l'installazione in background, è necessario un thread di lavoro, in modo che il thread dell'applicazione principale sia libero di eseguire altre attività importanti, ad esempio il rendering sullo schermo, per continuare a fornire il feedback visivo del lettore.</span><span class="sxs-lookup"><span data-stu-id="add27-268">To achieve background installation, a worker thread is required so that the main application thread is free to perform other important tasks, such as rendering on the screen to continue giving the player visual feedback.</span></span>

<span data-ttu-id="add27-269">Nell'esempio sono presenti tre stati di installazione che si verificano durante l'esecuzione dell'esempio: installazione attiva, installazione passiva e nessuna installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-269">In the sample, there are three states of installation that happen during the sample execution: active installation, passive installation, and no installation.</span></span>

-   <span data-ttu-id="add27-270">L'installazione attiva è una richiesta avviata dall'esempio quando deve accedere alle risorse fornite da una o più funzionalità o caricarle.</span><span class="sxs-lookup"><span data-stu-id="add27-270">Active installation is a request initiated by the sample when it needs to access or load resources provided by one or more features.</span></span> <span data-ttu-id="add27-271">L'esempio esegue questa operazione quando non è possibile continuare fino a quando la risorsa non viene installata.</span><span class="sxs-lookup"><span data-stu-id="add27-271">The sample does this when it can not continue until the resource is installed.</span></span>
-   <span data-ttu-id="add27-272">L'installazione passiva viene avviata quando nell'esempio non viene eseguita un'attività critica, ad esempio quando il lettore si trova in un menu o Guarda una scena tagliata.</span><span class="sxs-lookup"><span data-stu-id="add27-272">Passive installation is initiated when the sample is not performing a critical task such as when the player is at a menu or watching a cut scene.</span></span> <span data-ttu-id="add27-273">In tal caso, il thread di lavoro verifica se una funzionalità dell'esempio è ancora annunciata.</span><span class="sxs-lookup"><span data-stu-id="add27-273">When this is the case, the worker thread checks if any feature of the sample is still advertised.</span></span> <span data-ttu-id="add27-274">Se è possibile trovarne uno, viene chiamato il programma di installazione per installare tale funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-274">If it can find one, it calls the installer to install that feature.</span></span> <span data-ttu-id="add27-275">Questo processo viene ripetuto fino a quando non viene installata ogni funzionalità dell'esempio.</span><span class="sxs-lookup"><span data-stu-id="add27-275">This process repeats until every feature of the sample is installed.</span></span> <span data-ttu-id="add27-276">In pratica, l'installazione passiva USA cicli di elaborazione aggiuntivi per eseguire l'installazione in background quando è meno intrusivo nell'esempio principale.</span><span class="sxs-lookup"><span data-stu-id="add27-276">Essentially, passive installation utilizes extra processor cycles to perform installation in the background when it is least intrusive to the main sample.</span></span>
-   <span data-ttu-id="add27-277">Non viene eseguita alcuna installazione quando il giocatore è attivamente impegnato nel gioco; in questo modo si evita un calo della frequenza fotogrammi che interrompe l'esperienza utente.</span><span class="sxs-lookup"><span data-stu-id="add27-277">No installation happens when the player is actively engaged in the game; this prevents a framerate drop which would disrupt the user experience.</span></span>

<span data-ttu-id="add27-278">Nell'esempio viene definita una classe CMsiUtil per la gestione di tutte le attività correlate all'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-278">In the sample, a class CMsiUtil is defined to handle all installation-related tasks.</span></span> <span data-ttu-id="add27-279">In sostanza, CMsiUtil usa un thread di lavoro che richiama il programma di installazione per installare le funzionalità dell'esempio in un ciclo.</span><span class="sxs-lookup"><span data-stu-id="add27-279">Essentially, CMsiUtil uses a worker thread that invokes the installer to install the sample's features in a loop.</span></span> <span data-ttu-id="add27-280">La classe dispone di due code che archiviano le richieste di installazione: una coda ad alta priorità per l'installazione attiva e una coda con priorità bassa per l'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-280">The class has two queues that store installation requests: one high priority queue for active installation and one low priority queue for passive installation.</span></span> <span data-ttu-id="add27-281">Durante l'inizializzazione, la classe enumera tutte le funzionalità del prodotto e le aggiunge alla coda di installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-281">During initialization, the class enumerates all features of the product and adds them to the passive installation queue.</span></span> <span data-ttu-id="add27-282">Poiché l'intero prodotto viene accodato in questo modo, l'intero prodotto verrà installato se l'esempio dispone di un numero sufficiente di cicli del processore.</span><span class="sxs-lookup"><span data-stu-id="add27-282">Because the entire product is queued this way, the entire product will eventually be installed if the sample has enough free processor cycles.</span></span>

<span data-ttu-id="add27-283">Quando l'esempio deve richiedere un'installazione attiva, l'esempio può chiamare CMsiUtil:: UseFeatureSet () e passare il nome della funzionalità di primo livello.</span><span class="sxs-lookup"><span data-stu-id="add27-283">When the sample needs to request an active installation, the sample can call CMsiUtil::UseFeatureSet() and pass the name of the top-level feature.</span></span> <span data-ttu-id="add27-284">UseFeatureSet () accoda la funzionalità richiesta e tutte le relative funzionalità secondarie nella coda di installazione attiva, in modo che il thread di lavoro possa installarli.</span><span class="sxs-lookup"><span data-stu-id="add27-284">UseFeatureSet() will queue the requested feature and all of its sub-features in the active installation queue so that the worker thread can install them.</span></span>

<span data-ttu-id="add27-285">Durante l'esecuzione di una richiesta di installazione, il thread di lavoro verificherà la coda di installazione attiva e la coda di installazione passiva per verificare se una delle due code ha richieste aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="add27-285">While executing an install request, the worker thread will check the active installation queue as well as the passive installation queue to see if either queue has any additional requests.</span></span> <span data-ttu-id="add27-286">Ogni volta che il thread trova una richiesta, chiamerà l'API del programma di installazione per eseguire l'installazione effettiva.</span><span class="sxs-lookup"><span data-stu-id="add27-286">Each time the thread finds a request, it will call the installer API to perform the actual installation.</span></span> <span data-ttu-id="add27-287">Una volta che entrambe le code sono vuote, il thread di lavoro passerà a sospensione con una chiamata a [**WaitForSingleObject**](/windows/desktop/api/synchapi/nf-synchapi-waitforsingleobject).</span><span class="sxs-lookup"><span data-stu-id="add27-287">Once both queues are empty, the worker thread will go to sleep with a call to [**WaitForSingleObject**](/windows/desktop/api/synchapi/nf-synchapi-waitforsingleobject).</span></span> <span data-ttu-id="add27-288">Poiché l'intero prodotto viene inserito nella coda di installazione passiva durante l'inizializzazione, una coda vuota implica l'installazione dell'intero prodotto.</span><span class="sxs-lookup"><span data-stu-id="add27-288">Because the entire product is placed in the passive installation queue during initialization, an empty queue implies that the entire product has been installed.</span></span>

<span data-ttu-id="add27-289">Nell'esempio viene chiamato CMsiUtil:: EnablePassiveInstall () per abilitare o disabilitare l'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-289">The sample calls CMsiUtil::EnablePassiveInstall() to enable or disable passive installation.</span></span> <span data-ttu-id="add27-290">EnablePassiveInstall (true) incrementa il numero di attivazioni per l'installazione passiva e EnablePassiveInstall (false) la decrementa.</span><span class="sxs-lookup"><span data-stu-id="add27-290">EnablePassiveInstall(true) increments the enable count for passive installation, and EnablePassiveInstall(false) decrements it.</span></span> <span data-ttu-id="add27-291">Se il conteggio di abilitazione è maggiore di 0, la classe elaborerà la coda di installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-291">If the enable count is greater than 0, the class will process the passive installation queue.</span></span> <span data-ttu-id="add27-292">L'esempio consente l'installazione passiva quando si verifica una delle condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="add27-292">The sample allows passive installation when any of the following is true:</span></span>

-   <span data-ttu-id="add27-293">L'utente sta visualizzando la sequenza introduttiva iniziale.</span><span class="sxs-lookup"><span data-stu-id="add27-293">The user is viewing the initial introduction sequence.</span></span>
-   <span data-ttu-id="add27-294">L'utente si sposta nel menu di esempio.</span><span class="sxs-lookup"><span data-stu-id="add27-294">The user is navigating in the sample menu.</span></span>
-   <span data-ttu-id="add27-295">L'utente sta visualizzando le statistiche alla fine di un livello.</span><span class="sxs-lookup"><span data-stu-id="add27-295">The user is viewing the statistics at the end of a level.</span></span>
-   <span data-ttu-id="add27-296">L'applicazione di esempio perde lo stato attivo e passa allo sfondo.</span><span class="sxs-lookup"><span data-stu-id="add27-296">The sample application loses its focus and goes to the background.</span></span>

<span data-ttu-id="add27-297">I metodi di CMsiUtil sono elencati di seguito:</span><span class="sxs-lookup"><span data-stu-id="add27-297">The methods of CMsiUtil are listed below:</span></span>



| <span data-ttu-id="add27-298">Metodo</span><span class="sxs-lookup"><span data-stu-id="add27-298">Method</span></span>                | <span data-ttu-id="add27-299">Descrizione</span><span class="sxs-lookup"><span data-stu-id="add27-299">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="add27-300">AbortAllRequests</span><span class="sxs-lookup"><span data-stu-id="add27-300">AbortAllRequests</span></span>      | <span data-ttu-id="add27-301">Fa in modo che l'installazione corrente interrompa e svuoti la coda delle richieste di installazione attive.</span><span class="sxs-lookup"><span data-stu-id="add27-301">Causes the current installation to abort and empties the active installation request queue.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="add27-302">AbortCurrentRequest</span><span class="sxs-lookup"><span data-stu-id="add27-302">AbortCurrentRequest</span></span>   | <span data-ttu-id="add27-303">Causa l'interruzione dell'installazione in corso.</span><span class="sxs-lookup"><span data-stu-id="add27-303">Causes the installation in progress to abort.</span></span> <span data-ttu-id="add27-304">Il thread di lavoro elabora quindi la richiesta successiva nella coda, se ne esiste una.</span><span class="sxs-lookup"><span data-stu-id="add27-304">The worker thread then processes the next request in the queue, if one exists.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="add27-305">EnablePassiveInstall</span><span class="sxs-lookup"><span data-stu-id="add27-305">EnablePassiveInstall</span></span>  | <span data-ttu-id="add27-306">Incrementa o decrementa il conteggio di abilitazione dell'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-306">Increments or decrements passive installation enable count.</span></span> <span data-ttu-id="add27-307">L'esempio usa questa chiamata per controllare quando l'installazione passiva può e non può verificarsi.</span><span class="sxs-lookup"><span data-stu-id="add27-307">The sample uses this call to control when passive installation can and cannot happen.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="add27-308">GetCurrentFeatureName</span><span class="sxs-lookup"><span data-stu-id="add27-308">GetCurrentFeatureName</span></span> | <span data-ttu-id="add27-309">Restituisce il nome della funzionalità che viene installata attivamente.</span><span class="sxs-lookup"><span data-stu-id="add27-309">Returns the name of the feature that is actively being installed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="add27-310">GetFeatureProgress</span><span class="sxs-lookup"><span data-stu-id="add27-310">GetFeatureProgress</span></span>    | <span data-ttu-id="add27-311">Restituisce la posizione corrente del ciclo per la funzionalità in fase di installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-311">Returns the current tick position for the feature that is being installed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="add27-312">GetFeatureProgressMax</span><span class="sxs-lookup"><span data-stu-id="add27-312">GetFeatureProgressMax</span></span> | <span data-ttu-id="add27-313">Restituisce il numero massimo di cicli di avanzamento per la funzionalità in fase di installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-313">Returns the maximum number of progress tick for the feature that is being installed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="add27-314">GetLastError</span><span class="sxs-lookup"><span data-stu-id="add27-314">GetLastError</span></span>          | <span data-ttu-id="add27-315">Utilizzare questo metodo per recuperare il codice restituito dalla richiesta di installazione precedente.</span><span class="sxs-lookup"><span data-stu-id="add27-315">Use this method to retrieve the return code from the previous installation request.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="add27-316">GetPassiveProgress</span><span class="sxs-lookup"><span data-stu-id="add27-316">GetPassiveProgress</span></span>    | <span data-ttu-id="add27-317">Restituisce la posizione del segno di avanzamento dell'indicatore di stato per l'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-317">Returns the progress bar tick position for passive installation.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="add27-318">GetPassiveProgressMax</span><span class="sxs-lookup"><span data-stu-id="add27-318">GetPassiveProgressMax</span></span> | <span data-ttu-id="add27-319">Restituisce la posizione corrente del segno di selezione e il numero massimo di cicli per l'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-319">Returns the current tick position and the maximum number of ticks for passive installation.</span></span> <span data-ttu-id="add27-320">Insieme, l'esempio può utilizzarle per mostrare lo stato di avanzamento generale dell'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-320">Together, the sample can use them to show the overall progress of the passive installation.</span></span>                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="add27-321">GetProgress</span><span class="sxs-lookup"><span data-stu-id="add27-321">GetProgress</span></span>           | <span data-ttu-id="add27-322">Restituisce la posizione del segno di avanzamento dell'indicatore di stato per l'installazione del set di funzionalità attivo.</span><span class="sxs-lookup"><span data-stu-id="add27-322">Returns the progress bar tick position for the active feature set installation.</span></span> <span data-ttu-id="add27-323">Viene utilizzato quando l'esempio esegue il rendering dell'indicatore di stato dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-323">This is used when the sample renders the installation progress bar.</span></span> <span data-ttu-id="add27-324">Poiché il Windows Installer fornisce solo le informazioni sullo stato di avanzamento per l'installazione di una funzionalità, il metodo divide l'indicatore di stato tra le funzionalità richieste in modo che l'utente veda ancora l'intera installazione come un'unica attività.</span><span class="sxs-lookup"><span data-stu-id="add27-324">Because the Windows Installer only provides progress information for the one feature being installed, the method divides the progress bar among the requested features so that the user still sees the entire installation as one task.</span></span>                                                                                                                                                                                           |
| <span data-ttu-id="add27-325">GetProgressMax</span><span class="sxs-lookup"><span data-stu-id="add27-325">GetProgressMax</span></span>        | <span data-ttu-id="add27-326">Restituisce il numero massimo di cicli dell'indicatore di stato per l'installazione del set di funzionalità attivo.</span><span class="sxs-lookup"><span data-stu-id="add27-326">Returns the maximum progress bar tick count for the active feature set installation.</span></span> <span data-ttu-id="add27-327">Viene utilizzato quando l'esempio esegue il rendering dell'indicatore di stato dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-327">This is used when the sample renders the installation progress bar.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="add27-328">Inizializzare</span><span class="sxs-lookup"><span data-stu-id="add27-328">Initialize</span></span>            | <span data-ttu-id="add27-329">Inizializza la classe con l'identificatore univoco globale (GUID) del prodotto.</span><span class="sxs-lookup"><span data-stu-id="add27-329">Initializes the class with the product globally unique identifier (GUID).</span></span> <span data-ttu-id="add27-330">Questo metodo enumera inoltre tutte le funzionalità dell'applicazione che sono state annunciate ma non ancora installate e le inserisce nella coda di installazione passiva per impostare l'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-330">This method also enumerates every feature of the application which has been advertised but not yet installed, and places it in the passive installation queue to set up the passive installation.</span></span>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="add27-331">IsInstallInProgress</span><span class="sxs-lookup"><span data-stu-id="add27-331">IsInstallInProgress</span></span>   | <span data-ttu-id="add27-332">Utilizzare questo metodo per verificare se è in corso l'elaborazione di un'installazione attiva.</span><span class="sxs-lookup"><span data-stu-id="add27-332">Use this method to find out whether an active installation is being processed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="add27-333">UseFeature</span><span class="sxs-lookup"><span data-stu-id="add27-333">UseFeature</span></span>            | <span data-ttu-id="add27-334">Metodo privato chiamato da UseFeatureSet.</span><span class="sxs-lookup"><span data-stu-id="add27-334">Private method called by UseFeatureSet.</span></span> <span data-ttu-id="add27-335">Controlla se è installata una funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-335">Checks if a feature is installed.</span></span> <span data-ttu-id="add27-336">Se la funzionalità richiesta è installata, il metodo restituisce.</span><span class="sxs-lookup"><span data-stu-id="add27-336">If the requested feature is installed the method returns.</span></span> <span data-ttu-id="add27-337">Se la funzionalità non è ancora installata (annunciata), il metodo Accoda una nuova richiesta di installazione attiva per il thread di lavoro e quindi restituisce.</span><span class="sxs-lookup"><span data-stu-id="add27-337">If the feature is not yet installed (advertised), the method queues a new active installation request for the worker thread and then returns.</span></span> <span data-ttu-id="add27-338">Handle di evento facoltativo che verrà segnalato al completamento dell'installazione richiesta.</span><span class="sxs-lookup"><span data-stu-id="add27-338">The optional event handle that will be signaled when the requested installation is complete.</span></span>                                                                                                                                                                                                        |
| <span data-ttu-id="add27-339">UseFeatureSet</span><span class="sxs-lookup"><span data-stu-id="add27-339">UseFeatureSet</span></span>         | <span data-ttu-id="add27-340">Chiamato dall'esempio quando è necessario accedere alle funzionalità fornite da una particolare funzionalità o da una delle relative funzionalità secondarie.</span><span class="sxs-lookup"><span data-stu-id="add27-340">Called by the sample when it needs to access functionalities provided by a particular feature or any of its sub-features.</span></span> <span data-ttu-id="add27-341">Il metodo enumera tutte le funzionalità dell'esempio e chiama UseFeature () per le funzionalità secondarie della funzionalità radice specificata.</span><span class="sxs-lookup"><span data-stu-id="add27-341">The method enumerates all features of the sample and calls UseFeature() for sub-features of the specified root feature.</span></span> <span data-ttu-id="add27-342">L'esempio può passare un handle di evento che verrà segnalato quando viene installato l'intero set di funzionalità.</span><span class="sxs-lookup"><span data-stu-id="add27-342">The sample can pass in an event handle that will be signaled when the entire feature set is installed.</span></span> <span data-ttu-id="add27-343">Poiché tutte le funzionalità di sono installate come set, l'handle viene specificato per l'ultima funzionalità accodata da UseFeature () invece di ogni funzionalità, in modo che l'esempio riceva una notifica una volta dopo l'installazione di tutte le funzionalità richieste.</span><span class="sxs-lookup"><span data-stu-id="add27-343">Because the features all installed as a set, The handle is specified for the last feature queued by UseFeature() instead of every feature, so that the sample gets notified once after all requested features are installed.</span></span> |
| <span data-ttu-id="add27-344">UseProduct</span><span class="sxs-lookup"><span data-stu-id="add27-344">UseProduct</span></span>            | <span data-ttu-id="add27-345">Accoda una richiesta di installazione attiva per il thread di lavoro per chiamare il programma di installazione per eseguire un'installazione completa del prodotto.</span><span class="sxs-lookup"><span data-stu-id="add27-345">Queues an active installation request for the worker thread to call the installer to perform a full product installation.</span></span> <span data-ttu-id="add27-346">Handle di evento facoltativo che verrà segnalato al completamento dell'installazione richiesta.</span><span class="sxs-lookup"><span data-stu-id="add27-346">The optional event handle that will be signaled when the requested installation is complete.</span></span>                                                                                                                                                                                                                                                                                                                                                                |



 

## <a name="limitation"></a><span data-ttu-id="add27-347">Limitazione</span><span class="sxs-lookup"><span data-stu-id="add27-347">Limitation</span></span>

<span data-ttu-id="add27-348">La versione corrente del programma di installazione non è progettata per l'accesso simultaneo da parte di più thread.</span><span class="sxs-lookup"><span data-stu-id="add27-348">The current version of installer is not designed for simultaneous access by multiple threads.</span></span> <span data-ttu-id="add27-349">Pertanto, quando il thread di lavoro chiama il programma di installazione, il thread principale non deve chiamare il programma di installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-349">Therefore, when the worker thread is calling into the installer, the main thread should not call the installer.</span></span> <span data-ttu-id="add27-350">Un esempio di questa limitazione si verifica nell'esempio quando il thread principale richiede una funzionalità, quindi richiede nuovamente la stessa funzionalità prima che il thread di lavoro completi l'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-350">An example of this limitation occurs in the sample when the main thread requests a feature, then requests the same feature again before the worker thread completes the installation.</span></span> <span data-ttu-id="add27-351">La seconda richiesta chiama MsiQueryFeatureState () per verificare se la funzionalità richiesta è già installata, perché il programma di installazione può talvolta indicare che la funzionalità è stata installata completamente quando il thread di lavoro sta ancora copiando i file.</span><span class="sxs-lookup"><span data-stu-id="add27-351">The second request calls MsiQueryFeatureState() to find out whether the requested feature is already installed, since the installer may sometimes indicate that the feature is completely installed when the worker thread is still copying the files.</span></span>

<span data-ttu-id="add27-352">Fortunatamente, esiste una soluzione alternativa facile.</span><span class="sxs-lookup"><span data-stu-id="add27-352">Fortunately, there is an easy work-around for this.</span></span> <span data-ttu-id="add27-353">CMsiUtil controllerà se una funzionalità viene installata dal thread di lavoro prima di chiamare funzioni come MsiQueryFeatureState () o MsiUseFeature () per richiedere lo stato di installazione della funzionalità in questione.</span><span class="sxs-lookup"><span data-stu-id="add27-353">CMsiUtil will check whether a feature is being installed by the worker thread before it calls functions such as MsiQueryFeatureState() or MsiUseFeature() to ask for the install state of the feature in question.</span></span> <span data-ttu-id="add27-354">Tenere presente che questa limitazione può anche diventare un problema altrove.</span><span class="sxs-lookup"><span data-stu-id="add27-354">Be aware that this limitation can also become an issue elsewhere.</span></span>

<span data-ttu-id="add27-355">L'applicazione di patch può influire sul funzionamento dell'installazione su richiesta sul computer di un utente finale.</span><span class="sxs-lookup"><span data-stu-id="add27-355">Patching can affect how well install-on-demand works on an end-user's computer.</span></span> <span data-ttu-id="add27-356">L'applicazione di una patch che contiene solo dati modificati rispetto alla versione precedente potrebbe richiedere l'installazione della versione precedente del file aggiornato per applicare il Delta.</span><span class="sxs-lookup"><span data-stu-id="add27-356">Applying a patch that only contains data that has changed from the previous version may require that the previous version of the updated file be installed in order to apply the delta.</span></span> <span data-ttu-id="add27-357">In questa situazione, la patch deve richiedere che il programma di installazione abbia interessato le funzionalità annunciate prima di applicare la patch al gioco.</span><span class="sxs-lookup"><span data-stu-id="add27-357">In this situation, the patch must request that the installer install affected advertised features before applying the patch to the game.</span></span>

<span data-ttu-id="add27-358">L'esempio viene installato avviando InstallOnDemand.msi perché presuppone che il [Windows Installer](/windows/desktop/Msi/windows-installer-portal) sia presente nel computer.</span><span class="sxs-lookup"><span data-stu-id="add27-358">The sample is installed by launching InstallOnDemand.msi because it assumes that the [Windows Installer](/windows/desktop/Msi/windows-installer-portal) is present on the computer.</span></span> <span data-ttu-id="add27-359">Se il programma di installazione è assente, i file con estensione msi non vengono riconosciuti e l'avvio non funzionerà.</span><span class="sxs-lookup"><span data-stu-id="add27-359">If the installer is absent, .msi files are not recognized and launching them will not work.</span></span> <span data-ttu-id="add27-360">Per ovviare a questo problema, è necessario che un'applicazione utilizzi un programma di installazione per eseguire l'attività.</span><span class="sxs-lookup"><span data-stu-id="add27-360">To overcome this problem, an application should use an installation program to perform the task.</span></span> <span data-ttu-id="add27-361">Questo programma deve prima verificare se il programma di installazione è presente e, in tal caso, la relativa versione.</span><span class="sxs-lookup"><span data-stu-id="add27-361">This program should first check to see if the installer is present, and if so, its version.</span></span> <span data-ttu-id="add27-362">Se la versione non soddisfa i requisiti dell'applicazione, il programma di installazione installerà il Windows Installer, quindi avvierà il file con estensione msi.</span><span class="sxs-lookup"><span data-stu-id="add27-362">If the version does not meet the application's requirement, the installation program should install the Windows Installer, then launch the .msi file.</span></span> <span data-ttu-id="add27-363">Questo processo è noto come bootstrap.</span><span class="sxs-lookup"><span data-stu-id="add27-363">This process is known as bootstrapping.</span></span> <span data-ttu-id="add27-364">Le applicazioni in genere denominano il programma di installazione di bootstrap Setup.exe.</span><span class="sxs-lookup"><span data-stu-id="add27-364">Applications typically name their bootstrapping installation program Setup.exe.</span></span> <span data-ttu-id="add27-365">L'esempio non gestisce il bootstrap.</span><span class="sxs-lookup"><span data-stu-id="add27-365">The sample does not handle bootstrapping.</span></span> <span data-ttu-id="add27-366">Tuttavia, i dettagli completi sul bootstrap sono disponibili nella Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="add27-366">However, complete details on bootstrapping can be found in the Windows Installer.</span></span>

<span data-ttu-id="add27-367">Gli sviluppatori devono inoltre prestare attenzione alle dimensioni di ogni funzionalità nei giochi.</span><span class="sxs-lookup"><span data-stu-id="add27-367">Developers should also pay attention to the size of each feature in their games.</span></span> <span data-ttu-id="add27-368">Quando si annulla un'installazione in corso, il programma di installazione ripristina lo stato del computer prima dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="add27-368">When canceling an installation in progress, the installer restores the computer to the state before the installation.</span></span> <span data-ttu-id="add27-369">Ciò significa che l'installazione della funzionalità è completamente annullata e non è prevista alcuna installazione della funzionalità parziale.</span><span class="sxs-lookup"><span data-stu-id="add27-369">This means that the installation of the feature is completely undone, and there is no partial feature installation.</span></span> <span data-ttu-id="add27-370">Una funzionalità di grandi dimensioni richiede più tempo per l'installazione, che aumenta la probabilità che l'installazione venga interrotta e annullata o che l'installazione interferisca con l'applicazione principale.</span><span class="sxs-lookup"><span data-stu-id="add27-370">A large feature requires longer time to install, which either increases the likelihood that the install will be interrupted and cancelled or the install will interfere with the main application.</span></span> <span data-ttu-id="add27-371">Un esempio potrebbe consentire l'installazione passiva quando l'utente Visualizza il menu del gioco durante il gioco.</span><span class="sxs-lookup"><span data-stu-id="add27-371">An example would be enabling passive installation when the user brings up the game menu in the middle of game play.</span></span> <span data-ttu-id="add27-372">Se una funzionalità viene installata e l'utente torna alla riproduzione, il gioco può eseguire una delle due operazioni seguenti: può consentire il completamento dell'installazione passiva oppure annullare l'installazione passiva.</span><span class="sxs-lookup"><span data-stu-id="add27-372">If a feature is installing and the user goes back to playing, the game can do one of two things: it can let the passive installation complete, or it can cancel the passive installation.</span></span> <span data-ttu-id="add27-373">Una funzionalità di grandi dimensioni si adatterebbe in modo non corretto a entrambi i modelli.</span><span class="sxs-lookup"><span data-stu-id="add27-373">A large feature would fit poorly with either model.</span></span> <span data-ttu-id="add27-374">Se il gioco consente il completamento dell'installazione di grandi dimensioni, l'installazione potrebbe ostacolare le prestazioni di rendering del gioco per molto tempo.</span><span class="sxs-lookup"><span data-stu-id="add27-374">If the game lets the large installation complete, the installation may hinder the game's rendering performance for a long time.</span></span> <span data-ttu-id="add27-375">Viceversa, se il gioco Annulla l'installazione, l'utente deve rimanere nel menu per molto tempo prima di tornare al gioco.</span><span class="sxs-lookup"><span data-stu-id="add27-375">Conversely, if the game cancels the installation, then the user must stay in the menu for a long time before returning to the game.</span></span> <span data-ttu-id="add27-376">Gli sviluppatori dovrebbero trovare una dimensione di funzionalità bilanciata che funzioni meglio per i singoli giochi.</span><span class="sxs-lookup"><span data-stu-id="add27-376">Developers should find a balanced feature size that works best for their individual games.</span></span>

 

 