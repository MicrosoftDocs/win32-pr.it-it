---
title: Debug con simboli
description: Questo articolo fornisce una panoramica di alto livello su come usare al meglio i simboli nel processo di debug.
ms.assetid: 7ce0c9c7-485c-8d72-0353-27fd2e369a7c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff63e2404a07a2f0ab5adcb156d83dc989b42fd4
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104516941"
---
# <a name="debugging-with-symbols"></a><span data-ttu-id="09bd5-103">Debug con simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-103">Debugging with Symbols</span></span>

<span data-ttu-id="09bd5-104">Questo articolo fornisce una panoramica di alto livello su come usare al meglio i simboli nel processo di debug.</span><span class="sxs-lookup"><span data-stu-id="09bd5-104">This article provides a high level overview of how to best use symbols in your debugging process.</span></span> <span data-ttu-id="09bd5-105">Viene illustrato come usare il server dei simboli Microsoft e come configurare e usare il proprio server di simboli privato.</span><span class="sxs-lookup"><span data-stu-id="09bd5-105">It explains how to use the Microsoft symbol server, and also how to set up and use your own private symbol server.</span></span> <span data-ttu-id="09bd5-106">Queste procedure consigliate possono contribuire ad aumentare l'efficacia e la capacità di eseguire il debug dei problemi, anche nei casi in cui tutti i simboli e i file eseguibili correlati a un problema non si trovino nel computer.</span><span class="sxs-lookup"><span data-stu-id="09bd5-106">These best practices can help increase your effectiveness and ability to debug issues, even in cases where all the symbols and executable files that are related to a problem are not located on your computer.</span></span>

-   [<span data-ttu-id="09bd5-107">Symbols</span><span class="sxs-lookup"><span data-stu-id="09bd5-107">Symbols</span></span>](#debugging-with-symbols)
-   [<span data-ttu-id="09bd5-108">Uso di simboli per il debug</span><span class="sxs-lookup"><span data-stu-id="09bd5-108">Using Symbols for Debugging</span></span>](#using-symbols-for-debugging)
-   [<span data-ttu-id="09bd5-109">Ottenere i simboli necessari</span><span class="sxs-lookup"><span data-stu-id="09bd5-109">Getting the Symbols You Need</span></span>](#getting-the-symbols-you-need)
    -   [<span data-ttu-id="09bd5-110">Controllare se una determinata DLL o un file con estensione exe e un PDB nella stessa cartella corrispondono</span><span class="sxs-lookup"><span data-stu-id="09bd5-110">Check if a given DLL or .exe file and PDB in the same folder match</span></span>](#check-if-a-given-dll-or-exe-file-and-pdb-in-the-same-folder-match)
    -   [<span data-ttu-id="09bd5-111">Controllare se tutte le dll e i file eseguibili in un set di cartelle hanno PDB corrispondenti</span><span class="sxs-lookup"><span data-stu-id="09bd5-111">Check if all the DLLs and executable files in a set of folders have matching PDBs</span></span>](#check-if-all-the-dlls-and-executable-files-in-a-set-of-folders-have-matching-pdbs)
    -   [<span data-ttu-id="09bd5-112">Funzionamento di Symchk</span><span class="sxs-lookup"><span data-stu-id="09bd5-112">How symchk Works</span></span>](#how-symchk-works)
-   [<span data-ttu-id="09bd5-113">Server di simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-113">Symbol Servers</span></span>](#symbol-servers)
-   [<span data-ttu-id="09bd5-114">Uso del server dei simboli Microsoft</span><span class="sxs-lookup"><span data-stu-id="09bd5-114">Using the Microsoft Symbol Server</span></span>](#using-the-microsoft-symbol-server)
-   [<span data-ttu-id="09bd5-115">Recupero manuale dei simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-115">Getting Symbols Manually</span></span>](#getting-symbols-manually)
-   [<span data-ttu-id="09bd5-116">Configurazione di un server di simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-116">Setting Up a Symbol Server</span></span>](#setting-up-a-symbol-server)
-   [<span data-ttu-id="09bd5-117">Aggiunta di simboli a un server di simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-117">Adding Symbols to a Symbol Server</span></span>](#adding-symbols-to-a-symbol-server)
-   [<span data-ttu-id="09bd5-118">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="09bd5-118">Best Practices</span></span>](#best-practices)

## <a name="symbols"></a><span data-ttu-id="09bd5-119">Simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-119">Symbols</span></span>

<span data-ttu-id="09bd5-120">Per il debug sono disponibili vari tipi di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-120">A number of different types of symbols are available for debugging.</span></span> <span data-ttu-id="09bd5-121">Includono i simboli CodeView, COFF, DBG, SYM, PDB e persino i simboli di esportazione generati da una tabella di esportazione di file binari.</span><span class="sxs-lookup"><span data-stu-id="09bd5-121">They include CodeView symbols, COFF, DBG, SYM, PDB, and even export symbols that are generated from a binary files export table.</span></span> <span data-ttu-id="09bd5-122">In questo white paper vengono descritti solo i simboli di formato VS.NET e PDB, perché si tratta del formato preferito più recente.</span><span class="sxs-lookup"><span data-stu-id="09bd5-122">This white paper discusses only VS.NET and the PDB format symbols, because they are the most recent, preferred format.</span></span> <span data-ttu-id="09bd5-123">Vengono generati per impostazione predefinita per i progetti compilati con Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="09bd5-123">They are generated by default for projects that are compiled by using Visual Studio.</span></span>

<span data-ttu-id="09bd5-124">La generazione di file PDB per gli eseguibili della versione non influisce sulle ottimizzazioni o modifica in modo significativo le dimensioni dei file generati.</span><span class="sxs-lookup"><span data-stu-id="09bd5-124">Generating PDB files for release executables does not affect any optimizations, or significantly alter the size of the generated files.</span></span> <span data-ttu-id="09bd5-125">In genere, l'unica differenza è il percorso e il nome file del file PDB è incorporato nell'eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-125">Typically, the only difference is the path, and the file name of the PDB file is embedded in the executable.</span></span> <span data-ttu-id="09bd5-126">Per questo motivo, è necessario produrre sempre i file PDB, anche se non si vuole inviarli con l'eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-126">For this reason, you should always produce PDB files, even if you don't want to ship them with the executable.</span></span>

<span data-ttu-id="09bd5-127">I file PDB vengono generati se un progetto viene compilato usando l'opzione del compilatore **/Zi** o **/Zi** (Produci informazioni PDB), insieme all'opzione del linker **/debug** (genera informazioni di debug).</span><span class="sxs-lookup"><span data-stu-id="09bd5-127">PDB files are generated if a project is built by using the **/Zi** or **/ZI** (Produce PDB Information) compiler switch, together with the **/DEBUG** (Generate Debug Info) linker switch.</span></span> <span data-ttu-id="09bd5-128">I file PDB generati dal compilatore vengono combinati e scritti in un unico file PDB che si trova nella stessa directory del file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-128">The compiler-generated PDB files are combined and written into a single PDB file that is placed in the same directory as the executable.</span></span>

<span data-ttu-id="09bd5-129">Per impostazione predefinita, i file PDB contengono le informazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="09bd5-129">By default, PDB files contain the following information:</span></span>

-   <span data-ttu-id="09bd5-130">Simboli pubblici (in genere tutte le funzioni, variabili statiche e globali)</span><span class="sxs-lookup"><span data-stu-id="09bd5-130">Public symbols (typically all functions, static and global variables)</span></span>
-   <span data-ttu-id="09bd5-131">Elenco di file oggetto responsabili di sezioni di codice nell'eseguibile</span><span class="sxs-lookup"><span data-stu-id="09bd5-131">A list of object files that are responsible for sections of code in the executable</span></span>
-   <span data-ttu-id="09bd5-132">Informazioni sull'ottimizzazione del puntatore ai frame (Polinesia)</span><span class="sxs-lookup"><span data-stu-id="09bd5-132">Frame pointer optimization information (FPO)</span></span>
-   <span data-ttu-id="09bd5-133">Informazioni sul nome e sul tipo per le variabili locali e le strutture di dati</span><span class="sxs-lookup"><span data-stu-id="09bd5-133">Name and type information for local variables and data structures</span></span>
-   <span data-ttu-id="09bd5-134">Informazioni sul file di origine e sul numero di riga</span><span class="sxs-lookup"><span data-stu-id="09bd5-134">Source file and line number information</span></span>

<span data-ttu-id="09bd5-135">Se si è interessati alle persone che usano le informazioni sul file PDB per aiutare a decodificare l'eseguibile, è anche possibile generare file PDB rimossi usando l'opzione del linker **/PDBSTRIPPED: filename** .</span><span class="sxs-lookup"><span data-stu-id="09bd5-135">If you are concerned about people using the PDB file information to help them reverse engineer your executable, you can also generate stripped PDB files, by using the **/PDBSTRIPPED:filename** linker option.</span></span> <span data-ttu-id="09bd5-136">Se si dispone di file PDB esistenti per cui si desidera rimuovere informazioni private, è possibile utilizzare uno strumento denominato pdbcopy, che fa parte degli strumenti di debug per Windows.</span><span class="sxs-lookup"><span data-stu-id="09bd5-136">If you have existing PDB files that you would like to strip private information from, you can use a tool called pdbcopy, which is part of the debugging tools for Windows.</span></span>

<span data-ttu-id="09bd5-137">Per impostazione predefinita, i file PDB rimossi contengono le informazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="09bd5-137">By default, stripped PDB files contain the following information:</span></span>

-   <span data-ttu-id="09bd5-138">Simboli pubblici (in genere solo funzioni non statiche e variabili globali)</span><span class="sxs-lookup"><span data-stu-id="09bd5-138">Public symbols (typically only non-static functions and global variables)</span></span>
-   <span data-ttu-id="09bd5-139">Elenco di file oggetto responsabili di sezioni di codice nell'eseguibile</span><span class="sxs-lookup"><span data-stu-id="09bd5-139">A list of object files that are responsible for sections of code in the executable</span></span>
-   <span data-ttu-id="09bd5-140">Informazioni sull'ottimizzazione del puntatore ai frame (Polinesia)</span><span class="sxs-lookup"><span data-stu-id="09bd5-140">Frame pointer optimization information (FPO)</span></span>

<span data-ttu-id="09bd5-141">Si tratta delle informazioni minime necessarie per consentire il debug affidabile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-141">This is the minimum information that is required to allow reliable debugging.</span></span> <span data-ttu-id="09bd5-142">Le informazioni minime rendono anche difficile ottenere informazioni aggiuntive sul codice sorgente originale.</span><span class="sxs-lookup"><span data-stu-id="09bd5-142">Minimum information also makes it difficult to obtain any additional information about your original source code.</span></span> <span data-ttu-id="09bd5-143">Poiché vengono generati sia un file PDB rimosso che un normale file PDB, è possibile fornire la versione rimossa agli utenti che potrebbero richiedere funzionalità di debug limitate, mantenendo al tempo stesso la riservatezza completa PDB.</span><span class="sxs-lookup"><span data-stu-id="09bd5-143">Because both a stripped PDB file and a regular PDB file are generated, you can provide the stripped version to users who may need limited debugging abilities, but keep the full PDBs confidential.</span></span> <span data-ttu-id="09bd5-144">Si noti che **/PDBSTRIPPED** genera un secondo file PDB più piccolo, quindi assicurarsi di usare il file PDB corretto quando si generano compilazioni per la distribuzione estesa.</span><span class="sxs-lookup"><span data-stu-id="09bd5-144">Note that **/PDBSTRIPPED** generates a second, smaller PDB file, so make sure that you use the correct PDB file when you generate builds to distribute broadly.</span></span> <span data-ttu-id="09bd5-145">Per un progetto tipico, un PDB normale può avere una dimensione di pochi megabyte, ma una versione con rimozione del PDB può essere solo di poche centinaia di kilobyte.</span><span class="sxs-lookup"><span data-stu-id="09bd5-145">For a typical project, a regular PDB may be a few megabytes in size, but a stripped version of the PDB may be only a few hundred kilobytes.</span></span>

## <a name="using-symbols-for-debugging"></a><span data-ttu-id="09bd5-146">Uso di simboli per il debug</span><span class="sxs-lookup"><span data-stu-id="09bd5-146">Using Symbols for Debugging</span></span>

<span data-ttu-id="09bd5-147">Quando si esegue il debug di un'applicazione che si è arrestata in modo anomalo, il debugger tenta di visualizzare le funzioni nello stack che hanno causato l'arresto anomalo.</span><span class="sxs-lookup"><span data-stu-id="09bd5-147">When you are debugging an application that has crashed, the debugger attempts to show you the functions on the stack that led up to the crash.</span></span> <span data-ttu-id="09bd5-148">Senza un file PDB, il debugger non è in grado di risolvere i nomi delle funzioni, i relativi parametri o le variabili locali archiviate nello stack.</span><span class="sxs-lookup"><span data-stu-id="09bd5-148">Without a PDB file, the debugger can not resolve the function names, their parameters, or any local variables that are stored on the stack.</span></span> <span data-ttu-id="09bd5-149">Se si esegue il debug di eseguibili a 32 bit, in alcune situazioni non è possibile ottenere tracce dello stack affidabili senza simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-149">If you debug 32-bit executables, there are situations where you cannot even get reliable stack traces without symbols.</span></span> <span data-ttu-id="09bd5-150">Talvolta è possibile esaminare i valori non elaborati nello stack e individuare i valori che possono essere indirizzi restituiti, ma possono essere facilmente confusi con i riferimenti alle funzioni o i dati.</span><span class="sxs-lookup"><span data-stu-id="09bd5-150">Sometimes it's possible to look at the raw values on the stack, and work out which values might be return addresses, but these can be easily confused with function references or data.</span></span>

<span data-ttu-id="09bd5-151">Se le funzioni nello stack corrente sono state compilate usando l'ottimizzazione di omissione dei puntatori ai frame (**/Oy**) e se i simboli non sono presenti, il debugger non è in grado di determinare in modo affidabile la funzione che ha chiamato la funzione corrente.</span><span class="sxs-lookup"><span data-stu-id="09bd5-151">If functions on the current stack were compiled by using the Omit Frame Pointers (**/Oy**) optimization, and if symbols are not present, the debugger cannot reliably determine which function called the current function.</span></span> <span data-ttu-id="09bd5-152">Questo perché senza le informazioni di ottimizzazione del puntatore ai frame (Polinesia) contenute in PDB, il debugger non può basarsi sul registro del puntatore del frame (EBP) per puntare al puntatore del frame precedente salvato e all'indirizzo restituito della funzione padre.</span><span class="sxs-lookup"><span data-stu-id="09bd5-152">This is because without the Frame Pointer Optimization (FPO) information that PDBs contain, the debugger cannot rely on the frame pointer register (EBP) to point at the saved previous frame pointer and at the return address of the parent function.</span></span> <span data-ttu-id="09bd5-153">Ma indovina.</span><span class="sxs-lookup"><span data-stu-id="09bd5-153">Instead, it guesses.</span></span> <span data-ttu-id="09bd5-154">A volte si ottiene il diritto.</span><span class="sxs-lookup"><span data-stu-id="09bd5-154">Sometimes it gets it right.</span></span> <span data-ttu-id="09bd5-155">Tuttavia, spesso risulta errato, che può essere fuorviante.</span><span class="sxs-lookup"><span data-stu-id="09bd5-155">However, it often gets it wrong, which can be misleading.</span></span> <span data-ttu-id="09bd5-156">Se viene visualizzato un avviso relativo ai simboli mancanti o non è stato caricato alcun simbolo, come nell'esempio seguente, non considerare attendibile lo stack da tale punto verso il basso.</span><span class="sxs-lookup"><span data-stu-id="09bd5-156">If you see a warning about missing symbols, or no symbols loaded, as in the following example, do not trust the stack from that point down.</span></span>

``` syntax
SWPerfTest.exe!TextFunction(... ...)    Line 59    C++
d3dx9d.dll!008829b5()
[Frames below may be incorrect and/or missing, no symbols loaded for d3dx9d.dll]
SWPerfTest.exe!main(int argc=, const char * * argv=)  Line 328 + 0x12 bytes     C++
SWPerfTest.exe!__mainCRTStartup() Line 716 + 0x17 bytes    C
kernel32.dll!@BaseThreadInitThunk@12() + 0x12 bytes
ntdll.dll!__RtlUserThreadStart@8() + 0x27 bytes
```

<span data-ttu-id="09bd5-157">In molti casi, è possibile continuare il debug senza simboli, perché il problema si trova in una posizione con simboli accurati e non è necessario esaminare le funzioni più in basso nello stack di chiamate.</span><span class="sxs-lookup"><span data-stu-id="09bd5-157">In many cases, it's possible to continue debugging without symbols, because the problem is in a location that has accurate symbols, and you don't need to look at functions further down the call stack.</span></span> <span data-ttu-id="09bd5-158">Anche se una libreria presente nello stack di chiamate non dispone di PDB, purché siano stati compilati con puntatori ai frame, il debugger dovrebbe essere in grado di indovinare correttamente le funzioni padre.</span><span class="sxs-lookup"><span data-stu-id="09bd5-158">Even if a library that is in your call stack doesn't have PDBs available, as long as they were compiled with frame pointers, the debugger should be able to guess correctly at the parent functions.</span></span> <span data-ttu-id="09bd5-159">A partire da Windows XP Service Pack 2, tutti i file DLL e file eseguibili di Windows vengono compilati con la Polinesia disabilitata, perché il debug risulta più accurato.</span><span class="sxs-lookup"><span data-stu-id="09bd5-159">Starting with Windows XP Service Pack 2, all Windows DLL and executable files are compiled with FPO disabled, because it makes debugging more accurate.</span></span> <span data-ttu-id="09bd5-160">La disabilitazione di Polinesia consente inoltre ai profiler di campionamento di scorrere lo stack in fase di esecuzione, con un effetto minimo sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="09bd5-160">Disabling FPO also allows sampling profilers to walk the stack during run-time, with minimal performance impact.</span></span> <span data-ttu-id="09bd5-161">Nelle versioni di Windows precedenti a Windows XP SP2, per tutti i file binari del sistema operativo sono necessari file di simboli corrispondenti contenenti informazioni sulla Polinesia, per consentire il debug e la profilatura accurati.</span><span class="sxs-lookup"><span data-stu-id="09bd5-161">On versions of Windows before Windows XP SP2, all operating system binaries require matching symbol files that contain FPO information, to allow accurate debugging and profiling.</span></span>

<span data-ttu-id="09bd5-162">Se si esegue il debug di file eseguibili nativi a 64 bit, non sono necessari file di simboli per produrre analisi dello stack valide, perché i sistemi operativi e i compilatori x64 sono progettati per non richiederli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-162">If you debug 64-bit native executables, you do not need symbol files to produce valid stack traces, because x64 operating systems and compilers are designed not to require them.</span></span> <span data-ttu-id="09bd5-163">Tuttavia, sono ancora necessari i file di simboli per recuperare i nomi delle funzioni, i parametri di chiamata e le variabili locali.</span><span class="sxs-lookup"><span data-stu-id="09bd5-163">However, you still need symbol files to retrieve the function names, call parameters and local variables.</span></span>

<span data-ttu-id="09bd5-164">Tuttavia, in alcuni casi è particolarmente difficile eseguire il debug senza simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-164">However, some cases are particularly difficult to debug without symbols.</span></span> <span data-ttu-id="09bd5-165">Se, ad esempio, si esegue il debug di un programma per il quale è stato compilato un file PDB e si verifica un arresto anomalo di un callback da una funzione in una DLL per cui non sono disponibili simboli, non sarà possibile visualizzare la funzione che ha causato il callback, perché non sarà possibile decodificare lo stack.</span><span class="sxs-lookup"><span data-stu-id="09bd5-165">For example, if you debug a program for which you built a PDB file, and if you crash in a callback from a function in a DLL that you don't have symbols for, you will not be able to see which function caused the callback, because you will not be able to decode the stack.</span></span> <span data-ttu-id="09bd5-166">Questa situazione si verifica spesso nelle librerie di terze parti, se non vengono forniti PDB o nei componenti del sistema operativo precedenti, se PDB non sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="09bd5-166">This frequently happens in third-party libraries, if PDBs are not provided, or in old operating system components, if PDBs are not available.</span></span> <span data-ttu-id="09bd5-167">I callback spesso si verificano durante il passaggio dei messaggi, l'enumerazione, l'allocazione di memoria o la gestione delle eccezioni.</span><span class="sxs-lookup"><span data-stu-id="09bd5-167">Callbacks often happen during message passing, enumeration, memory allocation, or exception handling.</span></span> <span data-ttu-id="09bd5-168">Il debug di queste funzioni senza uno stack accurato può essere frustrante.</span><span class="sxs-lookup"><span data-stu-id="09bd5-168">Debugging these functions without an accurate stack can be frustrating.</span></span>

<span data-ttu-id="09bd5-169">Per eseguire il debug in modo affidabile di piccoli dump generati in un computer diverso o che si sono arrestati in modo anomalo nel codice di cui non si è proprietari, è importante poter accedere a tutti i simboli e i file binari per gli eseguibili a cui viene fatto riferimento nel mini-dump.</span><span class="sxs-lookup"><span data-stu-id="09bd5-169">To reliably debug mini-dumps that are generated on a different computer, or that crashed in code that you do not own, it's important to be able to access all the symbols and binaries for the executables that are referenced in the mini-dump.</span></span> <span data-ttu-id="09bd5-170">Se i simboli e i file binari sono disponibili da un server di simboli, vengono ottenuti automaticamente dal debugger.</span><span class="sxs-lookup"><span data-stu-id="09bd5-170">If the symbols and binaries are available from a symbol server, they are automatically obtained by the debugger.</span></span> <span data-ttu-id="09bd5-171">Per altre informazioni sui minidump, vedere l'white paper analisi dei [dump di arresto anomalo](/windows/desktop/DxTechArts/crash-dump-analysis) del sistema.</span><span class="sxs-lookup"><span data-stu-id="09bd5-171">For more information on mini-dumps, see the [Crash Dump Analysis](/windows/desktop/DxTechArts/crash-dump-analysis) white paper.</span></span>

## <a name="getting-the-symbols-you-need"></a><span data-ttu-id="09bd5-172">Ottenere i simboli necessari</span><span class="sxs-lookup"><span data-stu-id="09bd5-172">Getting the Symbols You Need</span></span>

<span data-ttu-id="09bd5-173">Visual Studio e altri debugger Microsoft, ad esempio WinDbg, vengono in genere configurati in modo da funzionare solo se si compila un'applicazione e ne viene eseguito il debug nel computer.</span><span class="sxs-lookup"><span data-stu-id="09bd5-173">Visual Studio and other Microsoft debuggers, such as WinDbg, are typically set up to just work if you are building an application and debugging it on your own computer.</span></span> <span data-ttu-id="09bd5-174">Se è necessario assegnare il file eseguibile a un altro utente, se si dispone di più versioni di una DLL o di un file con estensione exe nel computer o se si desidera eseguire il debug accurato di un'applicazione che utilizza Windows o altre librerie, ad esempio DirectX, è necessario comprendere in che modo i debugger trovano e caricano i simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-174">If you need to give your executable to someone else, if you have multiple versions of a DLL or an .exe file on your computer, or if you want to accurately debug an application that uses Windows or other libraries, such as DirectX, you need to understand how debuggers find and load symbols.</span></span> <span data-ttu-id="09bd5-175">Il debugger usa il percorso di ricerca dei simboli specificato dall'utente, disponibile in opzioni di \\ debug \\ dei simboli in Visual Studio, o nella variabile di \_ \_ ambiente del percorso dei simboli NT \_ .</span><span class="sxs-lookup"><span data-stu-id="09bd5-175">The debugger uses either the symbol search path that is specified by the user—which is found in Options\\Debugging\\Symbols in Visual Studio—or the \_NT\_SYMBOL\_PATH environment variable.</span></span> <span data-ttu-id="09bd5-176">In genere, il debugger cerca la corrispondenza di pdb nei percorsi seguenti:</span><span class="sxs-lookup"><span data-stu-id="09bd5-176">Typically, the debugger searches for matching PDBs in the following locations:</span></span>

-   <span data-ttu-id="09bd5-177">Percorso specificato nella DLL o nel file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-177">The location that is specified inside the DLL or the executable file.</span></span>

    <span data-ttu-id="09bd5-178">Se è stata compilata una DLL o un file eseguibile nel computer, per impostazione predefinita il linker inserisce il percorso completo e il nome file del file PDB associato all'interno della DLL o del file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-178">If you have built a DLL or an executable file on your computer, by default the linker places the full path and file name of the associated PDB file inside the DLL or the executable file.</span></span> <span data-ttu-id="09bd5-179">Quando si esegue il debug, il debugger verifica prima di tutto se il file di simboli esiste nel percorso specificato all'interno della DLL o del file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-179">When you debug, the debugger first checks to see if the symbol file exists in the location that is specified inside the DLL or the executable file.</span></span> <span data-ttu-id="09bd5-180">Questa operazione è utile perché i simboli sono sempre disponibili per il codice compilato nel computer.</span><span class="sxs-lookup"><span data-stu-id="09bd5-180">This is helpful, because you always have symbols available for code that you have compiled on your computer.</span></span>

-   <span data-ttu-id="09bd5-181">PDB che può essere presente nella stessa cartella della DLL o del file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-181">PDBs that may be present in the same folder as the DLL or executable file.</span></span>
-   <span data-ttu-id="09bd5-182">Qualsiasi cartella della cache di simboli locale.</span><span class="sxs-lookup"><span data-stu-id="09bd5-182">Any local symbol cache folders.</span></span>
-   <span data-ttu-id="09bd5-183">Tutti i server di simboli di condivisione file di rete locale.</span><span class="sxs-lookup"><span data-stu-id="09bd5-183">Any local network file share symbol servers.</span></span>
-   <span data-ttu-id="09bd5-184">Tutti i server di simboli Internet, ad esempio il server di simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-184">Any Internet symbol servers, such as the Microsoft symbol server.</span></span>

<span data-ttu-id="09bd5-185">Per assicurarsi di avere tutti i PDB necessari per un debug accurato, installare gli strumenti di debug per Windows.</span><span class="sxs-lookup"><span data-stu-id="09bd5-185">To make sure that you have all the PDBs that you need for accurate debugging, install the debugging tools for Windows.</span></span> <span data-ttu-id="09bd5-186">Le versioni 32 e 64 bit sono disponibili in [strumenti di debug per Windows](/windows-hardware/drivers/debugger/).</span><span class="sxs-lookup"><span data-stu-id="09bd5-186">The 32 and 64 bit versions can be found at [Debugging Tools for Windows](/windows-hardware/drivers/debugger/).</span></span>

<span data-ttu-id="09bd5-187">Uno strumento utile installato con questo pacchetto è symchk.exe.</span><span class="sxs-lookup"><span data-stu-id="09bd5-187">A useful tool that is installed with this package is symchk.exe.</span></span> <span data-ttu-id="09bd5-188">Può aiutare a identificare i simboli mancanti o non corretti.</span><span class="sxs-lookup"><span data-stu-id="09bd5-188">It can help to identify missing or incorrect symbols.</span></span> <span data-ttu-id="09bd5-189">Questo strumento ha un numero elevato di possibili opzioni della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="09bd5-189">This tool has a large number of potential command line options.</span></span> <span data-ttu-id="09bd5-190">Ecco due dei più utili e usati di frequente.</span><span class="sxs-lookup"><span data-stu-id="09bd5-190">Here are two of the more useful and commonly used ones.</span></span>

### <a name="check-if-a-given-dll-or-exe-file-and-pdb-in-the-same-folder-match"></a><span data-ttu-id="09bd5-191">Controllare se una determinata DLL o un file con estensione exe e un PDB nella stessa cartella corrispondono</span><span class="sxs-lookup"><span data-stu-id="09bd5-191">Check if a given DLL or .exe file and PDB in the same folder match</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" testing.dll /s

SYMCHK: FAILED files = 0
SYMCHK: PASSED + IGNORED files = 1
```

<span data-ttu-id="09bd5-192">L'opzione **/s** indica a **Symchk** di cercare i simboli solo nella cartella corrente e di non cercare i server dei simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-192">The **/s** option tells **symchk** to look for symbols only in the current folder, and not to look in any symbol servers.</span></span>

### <a name="check-if-all-the-dlls-and-executable-files-in-a-set-of-folders-have-matching-pdbs"></a><span data-ttu-id="09bd5-193">Controllare se tutte le dll e i file eseguibili in un set di cartelle hanno PDB corrispondenti</span><span class="sxs-lookup"><span data-stu-id="09bd5-193">Check if all the DLLs and executable files in a set of folders have matching PDBs</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" *.* /r
```

<span data-ttu-id="09bd5-194">L'opzione **/r** imposta **Symchk** in modo da attraversare le cartelle in modo ricorsivo per verificare che tutti i file eseguibili abbiano PDB corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="09bd5-194">The **/r** option sets **symchk** to recursively traverse through folders, to check that all the executable files have matching PDBs.</span></span> <span data-ttu-id="09bd5-195">Senza l'opzione **/s** , **Symchk** usa il \_ percorso del simbolo NT corrente \_ \_ per cercare i simboli in qualsiasi server privato o locale oppure nei server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-195">Without the **/s** option, **symchk** uses the current \_NT\_SYMBOL\_PATH to search for symbols on any private or local server, or on the Microsoft symbol servers.</span></span> <span data-ttu-id="09bd5-196">Lo strumento **Symchk** Cerca solo i simboli per i file eseguibili (. exe,. dll e simili).</span><span class="sxs-lookup"><span data-stu-id="09bd5-196">The **symchk** tool searches only for symbols for executable files (.exe, .dll, and similar).</span></span> <span data-ttu-id="09bd5-197">Non è possibile usare la ricerca con caratteri jolly per i simboli per i file non eseguibili.</span><span class="sxs-lookup"><span data-stu-id="09bd5-197">You cannot use wild cards search for symbols for non-executable files.</span></span>

### <a name="how-symchk-works"></a><span data-ttu-id="09bd5-198">Funzionamento di Symchk</span><span class="sxs-lookup"><span data-stu-id="09bd5-198">How symchk Works</span></span>

<span data-ttu-id="09bd5-199">Quando il linker genera file con estensione dll, eseguibili e PDB, archivia i GUID identici in ogni file.</span><span class="sxs-lookup"><span data-stu-id="09bd5-199">When the linker generates .dll, executable, and PDB files, it stores identical GUIDs in each file.</span></span> <span data-ttu-id="09bd5-200">Il GUID viene utilizzato dagli strumenti per determinare se un determinato file PDB corrisponde a una DLL o a un file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-200">The GUID is used by tools to determine if a given PDB file matches a DLL or an executable file.</span></span> <span data-ttu-id="09bd5-201">Se si modifica una DLL o un file eseguibile, usando un editor di risorse o la codifica di protezione della copia, oppure modificando le informazioni sulla versione, il GUID viene aggiornato e il debugger non è in grado di caricare il file PDB.</span><span class="sxs-lookup"><span data-stu-id="09bd5-201">If you alter a DLL or an executable file—by using a resource editor or copy protection encoding, or by altering its version information—the GUID is updated and the debugger cannot load the PDB file.</span></span> <span data-ttu-id="09bd5-202">Per questo motivo, è molto importante evitare di modificare la DLL o il file eseguibile dopo che è stato creato dal linker.</span><span class="sxs-lookup"><span data-stu-id="09bd5-202">For this reason, it's very important to avoid manipulating the DLL or executable file after it is created by the linker.</span></span>

<span data-ttu-id="09bd5-203">È inoltre possibile utilizzare l'utilità DUMPBIN fornita con VS.NET per visualizzare i percorsi dei simboli in cui viene eseguita la ricerca e per verificare se i file di simboli vengono trovati corrispondenti a una DLL o a un file eseguibile specifico.</span><span class="sxs-lookup"><span data-stu-id="09bd5-203">You can also use the DUMPBIN utility that comes with VS.NET to show the symbol paths that are searched, and to see if symbol files are found that match a given DLL or executable file.</span></span> <span data-ttu-id="09bd5-204">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="09bd5-204">For example:</span></span>

``` syntax
DUMPBIN /PDBPATH:VERBOSE filename.exe
```

## <a name="symbol-servers"></a><span data-ttu-id="09bd5-205">Server di simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-205">Symbol Servers</span></span>

<span data-ttu-id="09bd5-206">Un server di simboli è un repository per più versioni di file eseguibili e di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-206">A symbol server is a repository for multiple versions of executable and symbol files.</span></span> <span data-ttu-id="09bd5-207">Contiene i file di simboli stessi o i puntatori ai file di simboli associati.</span><span class="sxs-lookup"><span data-stu-id="09bd5-207">It contains either the symbol files themselves, or pointers to the associated symbol files.</span></span> <span data-ttu-id="09bd5-208">I debugger comprendono come usare i server di simboli e possono usarli per la ricerca di simboli mancanti o sconosciuti.</span><span class="sxs-lookup"><span data-stu-id="09bd5-208">Debuggers understand how to use symbol servers, and can use them to search for missing or unknown symbols.</span></span>

<span data-ttu-id="09bd5-209">I file eseguibili e DLL sono anche disponibili nel server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-209">DLL and executable files are also available from the Microsoft symbol server.</span></span> <span data-ttu-id="09bd5-210">In questo modo è possibile eseguire il debug degli arresti anomali ed esaminare il codice per i file del sistema operativo che potrebbero non esistere nel computer.</span><span class="sxs-lookup"><span data-stu-id="09bd5-210">This makes it possible to debug crashes and examine code for operating system files that may not exist on your machine.</span></span> <span data-ttu-id="09bd5-211">Se un debugger rileva un file eseguibile o una DLL che non esiste nel sistema usato per il debug, richiede automaticamente sia i simboli che una copia del file binario dai server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-211">If a debugger encounters an executable file or a DLL that does not exist on the system that you are using for debugging, it automatically requests both the symbols and a copy of the binary file from the Microsoft symbol servers.</span></span> <span data-ttu-id="09bd5-212">Questa operazione è utile se si esegue il debug di un componente con numerose versioni, ad esempio msvcrt.dll, ed è necessario esaminare il codice per una versione che non esiste nel computer.</span><span class="sxs-lookup"><span data-stu-id="09bd5-212">This is helpful if you are debugging a component that has many versions—for example, msvcrt.dll—and you need to examine the code for a version that does not exist on your computer.</span></span> <span data-ttu-id="09bd5-213">Questo consente anche di eseguire il debug di mini dump generati in un sistema operativo diverso dal sistema usato per il debug.</span><span class="sxs-lookup"><span data-stu-id="09bd5-213">This also helps debug mini-dumps that are generated on an operating system that is different from the system that you are using for debugging.</span></span>

<span data-ttu-id="09bd5-214">Microsoft pubblica tutti i file PDB per tutti i sistemi operativi e altri componenti ridistribuiti, ad esempio DirectX SDK, nel server di simboli accessibile esternamente.</span><span class="sxs-lookup"><span data-stu-id="09bd5-214">Microsoft publishes all the PDB files for all operating systems and other redistributed components, such as the DirectX SDK, on its externally accessible symbol server.</span></span> <span data-ttu-id="09bd5-215">In questo modo è più semplice eseguire il debug di un'applicazione che usa questi file DLL o eseguibili.</span><span class="sxs-lookup"><span data-stu-id="09bd5-215">This makes it easy to debug an application that uses these DLL or executable files.</span></span> <span data-ttu-id="09bd5-216">È possibile usare il server dei simboli Microsoft per risolvere i simboli, insieme a tutti i simboli locali per i componenti compilati nel computer.</span><span class="sxs-lookup"><span data-stu-id="09bd5-216">You can use the Microsoft symbol server to resolve symbols, together with any local symbols for components that were built on your computer.</span></span>

<span data-ttu-id="09bd5-217">È possibile configurare il computer per l'utilizzo del server dei simboli Microsoft, che consente di accedere a tutti i file di simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-217">You can set up your computer to use the Microsoft symbol server, which gives you access to all Microsoft symbol files.</span></span> <span data-ttu-id="09bd5-218">È anche possibile configurare un server di simboli privato per la società, il team o la rete, che può essere usato per archiviare più versioni precedenti di un progetto su cui si sta lavorando o per fornire una cache locale per i simboli usati dal server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-218">You can also set up a private symbol server for your company, team or network, which can be used to store multiple older versions of a project you are working on, or to provide a local cache for the symbols that you use from the Microsoft symbol server.</span></span>

<span data-ttu-id="09bd5-219">Per usare un server di simboli, specificare il percorso di ricerca in una variabile di ambiente \_ denominata \_ percorso del simbolo NT \_ .</span><span class="sxs-lookup"><span data-stu-id="09bd5-219">To use a symbol server, specify the search path in an environment variable that is called \_NT\_SYMBOL\_PATH.</span></span> <span data-ttu-id="09bd5-220">I debugger e gli strumenti moderni, ad esempio WinDbg, NTSD o Visual Studio, usano automaticamente questo percorso per la ricerca di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-220">Debuggers and modern tools, such as WinDbg, NTSD or Visual Studio, automatically use this path to search for symbols.</span></span>

<span data-ttu-id="09bd5-221">Quando un debugger cerca i simboli, cerca innanzitutto in locale.</span><span class="sxs-lookup"><span data-stu-id="09bd5-221">When a debugger searches for symbols, it first searches locally.</span></span> <span data-ttu-id="09bd5-222">Quindi Cerca i server di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-222">Then it looks on symbol servers.</span></span> <span data-ttu-id="09bd5-223">Quando trova un simbolo corrispondente, trasferisce il file di simboli nella cache locale.</span><span class="sxs-lookup"><span data-stu-id="09bd5-223">When it finds a matching symbol, it transfers the symbol file to your local cache.</span></span> <span data-ttu-id="09bd5-224">I simboli per una DLL o un file eseguibile tipico sono compresi tra 1 e 100 MB.</span><span class="sxs-lookup"><span data-stu-id="09bd5-224">The symbols for a typical DLL or executable file range from 1 to 100 MB in size.</span></span> <span data-ttu-id="09bd5-225">Di conseguenza, se si esegue il debug di un processo che include molte dll, potrebbe essere necessario del tempo per risolvere tutti i simboli e trasferirli a una cache locale.</span><span class="sxs-lookup"><span data-stu-id="09bd5-225">Therefore, if you are debugging a process that includes many DLLs, it can take some time to resolve all the symbols and transfer them to a local cache.</span></span>

## <a name="using-the-microsoft-symbol-server"></a><span data-ttu-id="09bd5-226">Uso del server dei simboli Microsoft</span><span class="sxs-lookup"><span data-stu-id="09bd5-226">Using the Microsoft Symbol Server</span></span>

<span data-ttu-id="09bd5-227">Il server dei simboli Microsoft consente di ottenere tutti i simboli più recenti, inclusi i simboli per i file modificati o con patch.</span><span class="sxs-lookup"><span data-stu-id="09bd5-227">The Microsoft symbol server allows you to obtain all the latest symbols, including symbols for patched or updated files.</span></span> <span data-ttu-id="09bd5-228">Il server dei simboli Microsoft è disponibile all'indirizzo <https://msdl.microsoft.com/download/symbols> .</span><span class="sxs-lookup"><span data-stu-id="09bd5-228">The Microsoft symbol server is available at <https://msdl.microsoft.com/download/symbols>.</span></span>

<span data-ttu-id="09bd5-229">È possibile accedere al server di simboli in uno dei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="09bd5-229">You can access the symbol server in one of the following ways:</span></span>

-   <span data-ttu-id="09bd5-230">Immettere direttamente l'indirizzo del server.</span><span class="sxs-lookup"><span data-stu-id="09bd5-230">Enter the server address directly.</span></span> <span data-ttu-id="09bd5-231">In Visual Studio scegliere **Opzioni** dal menu **strumenti** , quindi fare clic su **debug**, quindi scegliere **simboli**.</span><span class="sxs-lookup"><span data-stu-id="09bd5-231">In Visual Studio, from the **Tools** menu, choose **Options**, then choose **Debugging**, and then choose **Symbols**.</span></span>
-   <span data-ttu-id="09bd5-232">Usare il percorso dei simboli NT della variabile di ambiente \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="09bd5-232">Use the environment variable \_NT\_SYMBOL\_PATH.</span></span> <span data-ttu-id="09bd5-233">È consigliabile adottare questa soluzione.</span><span class="sxs-lookup"><span data-stu-id="09bd5-233">We recommend this method.</span></span>

    <span data-ttu-id="09bd5-234">Viene usato da tutti gli strumenti di debug.</span><span class="sxs-lookup"><span data-stu-id="09bd5-234">This is used by all debugging tools.</span></span> <span data-ttu-id="09bd5-235">Viene anche usato da Visual Studio e viene letto e decodificato all'apertura di Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="09bd5-235">It is also used by Visual Studio, and is read and decoded when Visual Studio opens.</span></span> <span data-ttu-id="09bd5-236">Di conseguenza, se si modifica, è necessario riavviare Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="09bd5-236">Therefore, if you change it, you need to restart Visual Studio.</span></span>

    <span data-ttu-id="09bd5-237">Questa variabile di ambiente consente di specificare più server di simboli, ad esempio un server di simboli privato interno.</span><span class="sxs-lookup"><span data-stu-id="09bd5-237">This environment variable allows you to specify multiple symbol servers—for example, an internal private symbol server.</span></span> <span data-ttu-id="09bd5-238">Consente inoltre di specificare una directory della cache locale per archiviare PDB per tutti i simboli cercati dai server di simboli, sia internamente che tramite Internet.</span><span class="sxs-lookup"><span data-stu-id="09bd5-238">It also allows you to specify a local cache directory to store PDBs for all symbols that you look up from symbol servers, both internally and over the Internet.</span></span>

<span data-ttu-id="09bd5-239">La sintassi per la \_ variabile del percorso dei simboli NT è la seguente \_ \_ :</span><span class="sxs-lookup"><span data-stu-id="09bd5-239">The syntax for the \_NT\_SYMBOL\_PATH variable is:</span></span>

``` syntax
srv*[local cache]*[private symbol server]*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="09bd5-240">Sostituire \[ cache locale \] con il nome di una directory nel computer in cui si vuole archiviare una cache di tutti i simboli usati, ad esempio% SystemRoot% \\ symbols o c: \\ symbols.</span><span class="sxs-lookup"><span data-stu-id="09bd5-240">Replace \[local cache\] with the name of a directory on your computer where you want to store a cache of any symbols used—for example, %SYSTEMROOT%\\Symbols, or c:\\symbols.</span></span>

<span data-ttu-id="09bd5-241">Il \[ Server dei simboli privati \] è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="09bd5-241">The \[private symbol server\] is optional.</span></span> <span data-ttu-id="09bd5-242">Può puntare a un server di simboli che si trova nella rete oppure può puntare a un server di simboli condiviso dal team, dal gruppo di prodotti o dalla società.</span><span class="sxs-lookup"><span data-stu-id="09bd5-242">It can point to a symbol server that is located on your network, or it can point to a symbol server that is shared by your team, product group, or company.</span></span>

<span data-ttu-id="09bd5-243">Per usare solo il server di simboli Microsoft insieme a una cache locale di simboli, per velocizzare l'accesso tramite Internet, usare l'impostazione seguente per il \_ \_ percorso dei simboli NT \_ :</span><span class="sxs-lookup"><span data-stu-id="09bd5-243">To use only the Microsoft symbol server together with a local cache of symbols, to speed up access over the Internet, use the following setting for \_NT\_SYMBOL\_PATH:</span></span>

``` syntax
srv*c:\symbols*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="09bd5-244">È possibile trovare altre opzioni per il \_ \_ percorso dei simboli NT \_ nel file della Guida installato con il pacchetto Microsoft Debugging Tools for Windows.</span><span class="sxs-lookup"><span data-stu-id="09bd5-244">You can find other options for the \_NT\_SYMBOL\_PATH in the help file that is installed with the Microsoft Debugging Tools for Windows package.</span></span>

<span data-ttu-id="09bd5-245">Gli eseguibili senza simboli possono aumentare il tempo necessario per avviare un debugger se si usa un server di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-245">Executables without symbols can increase the time it takes to launch a debugger if you use a symbol server.</span></span> <span data-ttu-id="09bd5-246">Questo perché il debugger esegue una query sul server di simboli ogni volta che tenta di caricare il file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="09bd5-246">This is because the debugger queries the symbol server each time it tries to load the executable.</span></span> <span data-ttu-id="09bd5-247">Per questo motivo, è consigliabile richiedere sempre i simboli per tutti i componenti.</span><span class="sxs-lookup"><span data-stu-id="09bd5-247">For this reason, it is best to always request symbols for all components.</span></span>

<span data-ttu-id="09bd5-248">Potrebbe non essere possibile richiedere simboli per ogni componente. ad esempio, i driver video possono avere dll nello spazio di processo e i file PDB necessari sono disponibili nel server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-248">It may not be possible to request symbols for every component—for example, video drivers may have DLLs in your process space, and the required PDB files are available on the Microsoft symbol server.</span></span> <span data-ttu-id="09bd5-249">In questo caso si verifica un piccolo ritardo quando si avvia una sessione di debug.</span><span class="sxs-lookup"><span data-stu-id="09bd5-249">In this case, there is a small delay when you start a debugging session.</span></span>

<span data-ttu-id="09bd5-250">Per evitare anche questo piccolo ritardo, è possibile eseguire il debugger una volta per memorizzare nella cache tutti i simboli localmente dal server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-250">To avoid even this small delay, you can run the debugger once, to cache all the symbols locally from the Microsoft symbol server.</span></span> <span data-ttu-id="09bd5-251">Modificare quindi il \_ \_ \_ percorso del simbolo NT per rimuovere il server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-251">Then, modify your \_NT\_SYMBOL\_PATH to remove the Microsoft symbol server.</span></span> <span data-ttu-id="09bd5-252">A meno che non vengano modificati i file eseguibili, i controlli per i file eseguibili privi di simboli non richiederanno una query su Internet, perché sono presenti copie memorizzate nella cache locale di tutti i simboli necessari dal server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-252">Unless the executable files change, checks for executable files that do not have symbols will not require a query over the Internet, because you have local cached copies of all the symbols that you need from the Microsoft symbol server.</span></span>

## <a name="getting-symbols-manually"></a><span data-ttu-id="09bd5-253">Recupero manuale dei simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-253">Getting Symbols Manually</span></span>

<span data-ttu-id="09bd5-254">Se il debugger è stato configurato correttamente, vengono caricati automaticamente i simboli richiesti dalla cache locale o da un server di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-254">If you have set up your debugger correctly, it automatically loads any symbols that it requires from your local cache or from a symbol server.</span></span> <span data-ttu-id="09bd5-255">Per ottenere i simboli solo per un singolo eseguibile o per una cartella di file eseguibili, è possibile usare **Symchk**.</span><span class="sxs-lookup"><span data-stu-id="09bd5-255">If you would like to get the symbols for just a single executable, or for a folder of executables, you can use **symchk**.</span></span> <span data-ttu-id="09bd5-256">Se ad esempio si desidera scaricare i simboli per il \_ file d3dx930.dll nella cartella di sistema di Windows nella directory corrente, è possibile utilizzare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="09bd5-256">For example, if you want to download the symbols for the d3dx9\_30.dll file in the Windows System folder into the current directory, you can use the following command:</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" c:\Windows\System32\d3dx9_30.dll /oc \.
```

<span data-ttu-id="09bd5-257">Lo strumento **Symchk** ha molti altri usi.</span><span class="sxs-lookup"><span data-stu-id="09bd5-257">The **symchk** tool has many other uses.</span></span> <span data-ttu-id="09bd5-258">Per informazioni dettagliate, vedere **Symchk/?** o consultare la documentazione di Microsoft debug Tools per Windows.</span><span class="sxs-lookup"><span data-stu-id="09bd5-258">For details, see **symchk /?**, or look in the Microsoft Debugging Tools for Windows documentation.</span></span>

## <a name="setting-up-a-symbol-server"></a><span data-ttu-id="09bd5-259">Configurazione di un server di simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-259">Setting Up a Symbol Server</span></span>

<span data-ttu-id="09bd5-260">La configurazione di un server di simboli è molto semplice.</span><span class="sxs-lookup"><span data-stu-id="09bd5-260">Setting up a symbol server is very simple.</span></span> <span data-ttu-id="09bd5-261">È utile per i motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="09bd5-261">It is useful for the following reasons:</span></span>

-   <span data-ttu-id="09bd5-262">Per risparmiare larghezza di banda o per velocizzare la risoluzione dei simboli per la società, il team o il prodotto.</span><span class="sxs-lookup"><span data-stu-id="09bd5-262">To save bandwidth, or to speed up symbol resolution for your company, team or product.</span></span> <span data-ttu-id="09bd5-263">Un server di simboli interno in una condivisione file locale nella rete memorizza nella cache tutti i riferimenti a server dei simboli esterni, ad esempio il server di simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-263">An internal symbol server on a local file share on your network caches any references to external symbol servers, such as the Microsoft symbol server.</span></span> <span data-ttu-id="09bd5-264">È possibile accedere rapidamente a un server di simboli locale o interno da molte persone nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="09bd5-264">A local or internal symbol server can be accessed quickly by many people at the same time.</span></span> <span data-ttu-id="09bd5-265">Quindi, consente di risparmiare larghezza di banda e la latenza che le richieste di simboli duplicate possono creare.</span><span class="sxs-lookup"><span data-stu-id="09bd5-265">Therefore, it saves bandwidth and the latency that duplicate symbol requests can create.</span></span>
-   <span data-ttu-id="09bd5-266">Per archiviare i simboli per le compilazioni precedenti, le versioni o le versioni esterne dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="09bd5-266">To store symbols for old builds, versions or external releases of your application.</span></span> <span data-ttu-id="09bd5-267">Archiviando i simboli per le compilazioni in un server di simboli a cui è possibile accedere facilmente, è possibile eseguire il debug di arresti anomali e problemi in queste compilazioni in qualsiasi computer con un debugger e una connessione al server di simboli locale.</span><span class="sxs-lookup"><span data-stu-id="09bd5-267">By storing the symbols for these builds on a symbol server that you can easily access, you can debug crashes and problems in these builds on any computer that has a debugger and a connection to the local symbol server.</span></span> <span data-ttu-id="09bd5-268">Questa operazione è particolarmente utile se si esegue il debug di minidump generati da file eseguibili non compilati, ovvero compilazioni generate da un altro programmatore o da un computer di compilazione.</span><span class="sxs-lookup"><span data-stu-id="09bd5-268">This is particularly useful if you debug mini-dumps that are generated by executables that you did not build yourself—that is, builds that were generated by another programmer or by a build machine.</span></span> <span data-ttu-id="09bd5-269">Se i simboli per tali compilazioni sono archiviati nel server di simboli, si otterrà un debug affidabile e accurato.</span><span class="sxs-lookup"><span data-stu-id="09bd5-269">If the symbols for these builds are stored on your symbol server, you will have reliable and accurate debugging.</span></span>
-   <span data-ttu-id="09bd5-270">Per rendere aggiornati i simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-270">To keep symbols up to date.</span></span> <span data-ttu-id="09bd5-271">Quando i componenti vengono aggiornati, ad esempio i componenti del sistema operativo che vengono modificati da Windows Update o da DirectX SDK, è comunque possibile eseguire il debug usando tutti i simboli più recenti.</span><span class="sxs-lookup"><span data-stu-id="09bd5-271">When components are updated, such as OS components that are modified by Windows Update or by the DirectX SDK, you can still debug by using all the latest symbols.</span></span>

<span data-ttu-id="09bd5-272">La configurazione di un server di simboli nella propria rete locale è semplice come creare una condivisione file in un server e concedere agli utenti autorizzazioni complete per accedere alla condivisione, per creare file e cartelle.</span><span class="sxs-lookup"><span data-stu-id="09bd5-272">Setting up a symbol server on your own local network is as simple as creating a file share on a server and giving users full permissions to access the share, to create files and folders.</span></span> <span data-ttu-id="09bd5-273">Questa condivisione deve essere creata in un sistema operativo server, ad esempio Windows Server 2003, in modo che il numero di utenti che possono accedere simultaneamente alla condivisione non sia limitato.</span><span class="sxs-lookup"><span data-stu-id="09bd5-273">This share should be created on a server operating system, such as Windows Server 2003, so that the number of people who can access the share simultaneously is not limited.</span></span>

<span data-ttu-id="09bd5-274">Ad esempio, se si configura una condivisione file nei \\ \\ simboli mainserver \\ , i membri del team impostano il \_ percorso del \_ simbolo NT \_ su quanto segue:</span><span class="sxs-lookup"><span data-stu-id="09bd5-274">For example, if you set up a file share on \\\\mainserver\\symbols, then the members of your team set the \_NT\_SYMBOL\_PATH to the following:</span></span>

``` syntax
Srv*c:\symbols*\\mainserver\symbols*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="09bd5-275">Quando vengono recuperati i simboli, i file e le cartelle vengono visualizzati nella \\ \\ \\ directory condivisa dei simboli mainserver, oltre che nelle singole cache, nella \\ directory c: symbols.</span><span class="sxs-lookup"><span data-stu-id="09bd5-275">As symbols are retrieved, files and folders appear in the \\\\mainserver\\symbols shared directory, as well as in individual caches, in the c:\\symbols directory.</span></span>

<span data-ttu-id="09bd5-276">Si tratta in genere di tutto ciò che è necessario per la configurazione e l'uso del proprio server di simboli o del server dei simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-276">This is typically all that is involved in setting up and using either your own symbol server, or the Microsoft symbol server.</span></span>

## <a name="adding-symbols-to-a-symbol-server"></a><span data-ttu-id="09bd5-277">Aggiunta di simboli a un server di simboli</span><span class="sxs-lookup"><span data-stu-id="09bd5-277">Adding Symbols to a Symbol Server</span></span>

<span data-ttu-id="09bd5-278">Per aggiungere, eliminare o modificare i file in una condivisione server di simboli, usare lo strumento symstore.exe.</span><span class="sxs-lookup"><span data-stu-id="09bd5-278">To add, delete or edit files on a symbol server share, use the symstore.exe tool.</span></span> <span data-ttu-id="09bd5-279">Questo strumento fa parte del pacchetto Microsoft Debugging Tools for Windows.</span><span class="sxs-lookup"><span data-stu-id="09bd5-279">This tool is part of the Microsoft Debugging Tools for Windows package.</span></span> <span data-ttu-id="09bd5-280">La documentazione completa sui server di simboli, lo strumento SymStore e i simboli di indicizzazione è inclusa nel pacchetto strumenti di debug per Windows.</span><span class="sxs-lookup"><span data-stu-id="09bd5-280">Full documentation on symbol servers, the symstore tool, and indexing symbols is included in the Debugging Tools for Windows package.</span></span>

<span data-ttu-id="09bd5-281">Potrebbe essere necessario aggiungere simboli direttamente al proprio server di simboli, come parte di un processo di compilazione, oppure rendere disponibili i simboli per l'intero team per librerie o strumenti di terze parti.</span><span class="sxs-lookup"><span data-stu-id="09bd5-281">You may want to add symbols directly to your own symbol server, as part of a build process, or to make symbols available to your whole team for third-party libraries or tools.</span></span> <span data-ttu-id="09bd5-282">Il processo di aggiunta di un simbolo a una condivisione file del server di simboli è denominato simboli di indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="09bd5-282">The process of adding a symbol to a symbol server file share is called indexing symbols.</span></span> <span data-ttu-id="09bd5-283">Esistono due modi comuni per indicizzare i simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-283">There are two common ways to index symbols.</span></span> <span data-ttu-id="09bd5-284">Un file di simboli può essere copiato nel server di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-284">A symbol file can be copied to the symbol server.</span></span> <span data-ttu-id="09bd5-285">In alternativa, è possibile copiare un puntatore alla posizione del simbolo nel server di simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-285">Or, a pointer to the location of the symbol can be copied to the symbol server.</span></span> <span data-ttu-id="09bd5-286">Se si dispone di una cartella di archiviazione che contiene le compilazioni precedenti, potrebbe essere necessario indicizzare i puntatori ai file PDB già presenti nella condivisione, anziché duplicare i simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-286">If you have an archive folder that contains your old builds, you may want to index pointers to the PDB files that are already on the share, instead of duplicating symbols.</span></span> <span data-ttu-id="09bd5-287">Poiché i simboli possono talvolta avere dimensioni pari a decine di megabyte, è consigliabile pianificare in anticipo la quantità di spazio necessaria per archiviare tutte le compilazioni del progetto durante lo sviluppo.</span><span class="sxs-lookup"><span data-stu-id="09bd5-287">Because symbols can sometimes be tens of megabytes in size, it's a good idea to plan ahead for how much space you may require to archive all the builds of your project throughout development.</span></span> <span data-ttu-id="09bd5-288">Se si indicizzano solo i puntatori a simboli, è possibile che si verifichino problemi se si rimuovono le compilazioni precedenti o si modifica il nome di una condivisione file.</span><span class="sxs-lookup"><span data-stu-id="09bd5-288">If you index only pointers to symbols, you may have problems if you remove old builds, or change the name of a file share.</span></span>

<span data-ttu-id="09bd5-289">Ad esempio, per indicizzare in modo ricorsivo tutti i simboli in c: \\ dxsym \\ extra \\ symbols ottenuti da ottobre 2006 DirectX SDK in una condivisione file del server di simboli denominata \\ \\ mainserver \\ symbols, è possibile usare il comando seguente:</span><span class="sxs-lookup"><span data-stu-id="09bd5-289">For example, to index recursively all the symbols in c:\\dxsym\\Extras\\Symbols that you obtained from the October 2006 DirectX SDK onto a symbol server file share called \\\\mainserver\\symbols, you can use the following command:</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symstore" add /f "C:\dxsym\Extras\Symbols\*.pdb"
/s \\mainserver\symbols /t "October 2006 DirectX SDK " /r
```

<span data-ttu-id="09bd5-290">Il parametro **/t "comment"** viene usato per aggiungere una descrizione alla transazione che ha aggiunto i simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-290">The **/t "comment"** parameter is used to add a description to the transaction that added the symbols.</span></span> <span data-ttu-id="09bd5-291">Questa operazione può essere utile quando si eseguono attività amministrative sui simboli.</span><span class="sxs-lookup"><span data-stu-id="09bd5-291">This can be useful when performing administrative tasks on the symbols.</span></span>

## <a name="best-practices"></a><span data-ttu-id="09bd5-292">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="09bd5-292">Best Practices</span></span>

-   <span data-ttu-id="09bd5-293">Configurare la condivisione file del server di simboli per il team, la società o il prodotto.</span><span class="sxs-lookup"><span data-stu-id="09bd5-293">Set up your own symbol server file share for your team, company, or product.</span></span>
-   <span data-ttu-id="09bd5-294">Configurare \_ \_ \_ il percorso dei simboli NT in modo che punti a una cache locale, a un server di simboli privato e al server di simboli Microsoft.</span><span class="sxs-lookup"><span data-stu-id="09bd5-294">Set up \_NT\_SYMBOL\_PATH to point to a local cache, to a private symbol server, and to the Microsoft symbol server.</span></span>
-   <span data-ttu-id="09bd5-295">Se un debugger non è in grado di caricare i simboli per un componente di cui si esegue il debug, contattare il proprietario del componente per richiedere i simboli, almeno un PDB rimosso.</span><span class="sxs-lookup"><span data-stu-id="09bd5-295">If a debugger cannot load symbols for a component you are debugging, contact the owner of the component to request symbols—at least a stripped PDB.</span></span>
-   <span data-ttu-id="09bd5-296">Configurare un sistema di compilazione automatizzato per indicizzare i simboli nel server di simboli privato per ogni compilazione prodotta.</span><span class="sxs-lookup"><span data-stu-id="09bd5-296">Set up an automated build system to index symbols on your private symbol server for each build that is produced.</span></span> <span data-ttu-id="09bd5-297">Assicurarsi che le compilazioni distribuite siano le compilazioni generate da questo processo.</span><span class="sxs-lookup"><span data-stu-id="09bd5-297">Make sure that the builds that you distribute are the builds that are generated by this process.</span></span> <span data-ttu-id="09bd5-298">Ciò garantisce che i simboli siano sempre disponibili per il debug dei problemi.</span><span class="sxs-lookup"><span data-stu-id="09bd5-298">This ensures that symbols are always available to debug problems.</span></span>
-   <span data-ttu-id="09bd5-299">Configurare un server di simboli per consentire ai debugger di accedere al codice sorgente per un modulo specifico direttamente da un sistema di controllo del codice sorgente protetto da un'origine visiva o necessariamente basato su forza.</span><span class="sxs-lookup"><span data-stu-id="09bd5-299">Set up a symbol server to allow debuggers to access the source code for a specific module directly from a Visual Source Safe or Perforce based source control system.</span></span> <span data-ttu-id="09bd5-300">Se le informazioni sul file di origine e i simboli per una versione rilasciata di un gioco sono indicizzati, gli sviluppatori che hanno accesso al server di simboli possono eseguire il debug completo del livello di origine dei problemi segnalati, senza mantenere gli ambienti di compilazione o le versioni precedenti dei file di origine nei propri computer di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="09bd5-300">If the source file information and symbols for a released version of a game are indexed, developers who have access to your symbol server can have full source level debugging of reported issues, without keeping build environments or old versions of source files on their development computers.</span></span> <span data-ttu-id="09bd5-301">Per configurare il server di simboli per consentire l'indicizzazione delle informazioni sui file di origine, vedere la documentazione del server di origine.</span><span class="sxs-lookup"><span data-stu-id="09bd5-301">To set up your symbol server to allow indexing of source file information, see source server documentation.</span></span>

 

 