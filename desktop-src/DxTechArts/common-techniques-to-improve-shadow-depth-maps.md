---
title: Tecniche comuni per migliorare le mappe di profondità delle ombreggiature
description: In questo articolo tecnico viene fornita una panoramica di alcuni algoritmi comuni di mapping di ombreggiatura e di artefatti comuni e vengono illustrate diverse tecniche, che possono essere usate per aumentare la qualità delle mappe Shadow standard.
ms.assetid: bf994838-a261-0379-9301-eb9b250d216c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8b25507d7f6b8608d4dacf5fab620bc8a3294c7
ms.sourcegitcommit: 218b1ff779402c3ebe1786679e1aa80a5c0d6c95
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/01/2020
ms.locfileid: "103730711"
---
# <a name="common-techniques-to-improve-shadow-depth-maps"></a><span data-ttu-id="07398-103">Tecniche comuni per migliorare le mappe di profondità delle ombreggiature</span><span class="sxs-lookup"><span data-stu-id="07398-103">Common Techniques to Improve Shadow Depth Maps</span></span>

<span data-ttu-id="07398-104">Le mappe Shadow, introdotte per la prima volta nel 1978, rappresentano una tecnica comune per l'aggiunta di ombre ai giochi.</span><span class="sxs-lookup"><span data-stu-id="07398-104">Shadow maps, first introduced in 1978, are a common technique for adding shadows to games.</span></span> <span data-ttu-id="07398-105">Tre decenni dopo, nonostante gli anticipi sull'hardware e sul software, gli artefatti ombreggiatura, ovvero i bordi luccicanti, l'aliasing prospettico e altri problemi di precisione, vengono mantenuti.</span><span class="sxs-lookup"><span data-stu-id="07398-105">Three decades later, despite advances in hardware and software, shadowing artifacts—namely shimmering edges, perspective aliasing, and other precision issues—persist.</span></span>

<span data-ttu-id="07398-106">In questo articolo tecnico viene fornita una panoramica di alcuni algoritmi comuni di mapping di ombreggiatura e di artefatti comuni e vengono illustrate diverse tecniche, che possono essere usate per aumentare la qualità delle mappe Shadow standard.</span><span class="sxs-lookup"><span data-stu-id="07398-106">This technical article provides an overview of some common shadow depth map algorithms and common artifacts, and explains several techniques—ranging in difficulty from basic to intermediate—that can be used to increase the quality of standard shadow maps.</span></span> <span data-ttu-id="07398-107">L'aggiunta di mappe shadow di base a un titolo è in genere semplice, ma la comprensione delle sfumature degli artefatti shadow può essere complessa.</span><span class="sxs-lookup"><span data-stu-id="07398-107">Adding basic shadow maps to a title typically is straightforward, but understanding the nuances of shadow artifacts can be challenging.</span></span> <span data-ttu-id="07398-108">Questo articolo tecnico è stato scritto per lo sviluppatore di grafica intermedio che ha implementato le ombre, ma non comprende completamente il motivo per cui vengono visualizzati elementi specifici e non è certo come risolverli.</span><span class="sxs-lookup"><span data-stu-id="07398-108">This technical article is written for the intermediate graphics developer who has implemented shadows, but does not fully understand why specific artifacts appear and is not sure how to work around them.</span></span>

<span data-ttu-id="07398-109">La selezione delle tecniche corrette per attenuare elementi specifici non è semplice.</span><span class="sxs-lookup"><span data-stu-id="07398-109">Selecting the correct techniques to mitigate specific artifacts is nontrivial.</span></span> <span data-ttu-id="07398-110">Quando vengono risolti gli svantaggi della mappa Shadow, la differenza nella qualità può essere impressionante (Figura 1).</span><span class="sxs-lookup"><span data-stu-id="07398-110">When shadow map shortcomings are addressed, the difference in quality can be impressive (Figure 1).</span></span> <span data-ttu-id="07398-111">Una corretta implementazione di queste tecniche migliora drasticamente le ombre standard.</span><span class="sxs-lookup"><span data-stu-id="07398-111">Correctly implementing these techniques drastically improves standard shadows.</span></span> <span data-ttu-id="07398-112">Le tecniche descritte in questo articolo sono implementate nell'esempio CascadedShadowMaps11 in DirectX SDK.</span><span class="sxs-lookup"><span data-stu-id="07398-112">The techniques explained in this article are implemented in the sample CascadedShadowMaps11 in the DirectX SDK.</span></span>

<span data-ttu-id="07398-113">**Figura 1. Ombre con elementi gravi (a sinistra) e ombre dopo l'implementazione delle tecniche descritte in questo articolo (Right)**</span><span class="sxs-lookup"><span data-stu-id="07398-113">**Figure 1. Shadows with severe artifacts (left), and shadows after implementing the techniques described in this article (right)**</span></span>

![ombre con elementi gravi (a sinistra) e ombre dopo l'implementazione delle tecniche descritte in questo articolo (Right)](images/shadows-before-and-after.jpg)

## <a name="shadow-depth-maps-review"></a><span data-ttu-id="07398-115">Revisione mappe profondità ombreggiatura</span><span class="sxs-lookup"><span data-stu-id="07398-115">Shadow Depth Maps Review</span></span>

<span data-ttu-id="07398-116">L'algoritmo di mappa profondità ombreggiatura è un algoritmo a due passaggi.</span><span class="sxs-lookup"><span data-stu-id="07398-116">The shadow depth map algorithm is a two-pass algorithm.</span></span> <span data-ttu-id="07398-117">Il primo passaggio genera una mappa di profondità nello spazio chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-117">The first pass generates a depth map in light space.</span></span> <span data-ttu-id="07398-118">Nel secondo passaggio, questa mappa viene utilizzata per confrontare la profondità di ogni pixel nello spazio chiaro rispetto alla profondità corrispondente nella mappa della profondità dello spazio chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-118">In the second pass, this map is used to compare each pixel's depth in light space against its corresponding depth in the light space depth map.</span></span>

<span data-ttu-id="07398-119">**Figura 2. Parti principali di una scena Shadow**</span><span class="sxs-lookup"><span data-stu-id="07398-119">**Figure 2. Key parts of a shadow scene**</span></span>

![parti principali di una scena Shadow](images/key-parts-of-shadow-scene.jpg)

### <a name="pass-1"></a><span data-ttu-id="07398-121">Passaggio 1</span><span class="sxs-lookup"><span data-stu-id="07398-121">Pass 1</span></span>

<span data-ttu-id="07398-122">La scena è illustrata nella figura 2.</span><span class="sxs-lookup"><span data-stu-id="07398-122">The scene is shown in Figure 2.</span></span> <span data-ttu-id="07398-123">Nel primo passaggio (Figura 3), la geometria viene sottoposta a rendering in un buffer di profondità dal punto di vista della luce.</span><span class="sxs-lookup"><span data-stu-id="07398-123">In the first pass (Figure 3), the geometry is rendered into a depth buffer from the point of view of the light.</span></span> <span data-ttu-id="07398-124">In particolare, il vertex shader trasforma la geometria nello spazio di visualizzazione chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-124">More specifically, the vertex shader transforms the geometry into light-view space.</span></span>

<span data-ttu-id="07398-125">Il risultato finale di questo primo passaggio è un buffer di profondità contenente le informazioni di profondità della scena dal punto di vista della luce.</span><span class="sxs-lookup"><span data-stu-id="07398-125">The end result of this first pass is a depth buffer containing the scene's depth information from the point of view of the light.</span></span> <span data-ttu-id="07398-126">Questo ora può essere usato nel passaggio 2 per determinare quali pixel sono bloccati dalla luce.</span><span class="sxs-lookup"><span data-stu-id="07398-126">This now can be used in pass 2 to determine which pixels are occluded from the light.</span></span>

<span data-ttu-id="07398-127">**Figura 3. Primo passaggio del mapping ombreggiato di base**</span><span class="sxs-lookup"><span data-stu-id="07398-127">**Figure 3. First pass of basic shadow mapping**</span></span>

![primo passaggio del mapping ombreggiato di base](images/first-pass-of-basic-hadow-mapping.png)

### <a name="pass-2"></a><span data-ttu-id="07398-129">Passaggio 2</span><span class="sxs-lookup"><span data-stu-id="07398-129">Pass 2</span></span>

<span data-ttu-id="07398-130">Nel secondo passaggio (Figura 4), il vertex shader trasforma due volte ogni vertice.</span><span class="sxs-lookup"><span data-stu-id="07398-130">In the second pass (Figure 4), the vertex shader transforms each vertex twice.</span></span> <span data-ttu-id="07398-131">Ogni vertice viene trasformato nello spazio di visualizzazione della fotocamera e passato al pixel shader come posizione.</span><span class="sxs-lookup"><span data-stu-id="07398-131">Each vertex is transformed into the camera's view space and passed to the pixel shader as the position.</span></span> <span data-ttu-id="07398-132">Ogni vertice viene anche trasformato dalla matrice di visualizzazione-proiezione-trama della luce e passato al pixel shader come coordinata di trama.</span><span class="sxs-lookup"><span data-stu-id="07398-132">Each vertex is also transformed by the light's view-projection-texture matrix and passed to the pixel shader as a texture coordinate.</span></span> <span data-ttu-id="07398-133">La matrice View-Projection-texture è la stessa matrice usata per eseguire il rendering della scena nel passaggio 1 con una trasformazione aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="07398-133">The view-projection-texture matrix is the same matrix used to render the scene in pass 1 with one additional transform.</span></span> <span data-ttu-id="07398-134">Si tratta di una trasformazione che consente di ridimensionare e traslare i punti dallo spazio di visualizzazione (da-1 a 1 in X e Y) allo spazio della trama (da 0 a 1 in X e da 1 a 0 in Y).</span><span class="sxs-lookup"><span data-stu-id="07398-134">It's a transformation that scales and translates the points from view space (–1 to 1 in X and Y) to texture space (0 to 1 in X and 1 to 0 in Y).</span></span>

<span data-ttu-id="07398-135">Il pixel shader riceve la posizione interpolata e le coordinate della trama interpolata.</span><span class="sxs-lookup"><span data-stu-id="07398-135">The pixel shader receives the interpolated position and the interpolated texture coordinates.</span></span> <span data-ttu-id="07398-136">Tutti gli elementi necessari per eseguire il test di profondità sono ora in questa coordinata di trama.</span><span class="sxs-lookup"><span data-stu-id="07398-136">Everything needed to perform the depth test is now in this texture coordinate.</span></span> <span data-ttu-id="07398-137">È ora possibile eseguire il test di profondità indicizzando il buffer di profondità dal primo passaggio con le coordinate della trama X e Y e confrontando il valore di profondità risultante con la coordinata Z-texture.</span><span class="sxs-lookup"><span data-stu-id="07398-137">The depth test can now be performed by indexing the depth buffer from the first pass with the X and Y texture coordinates and comparing the resulting depth value against the Z-texture coordinate.</span></span>

<span data-ttu-id="07398-138">**Figura 4. Secondo passaggio del mapping ombreggiato di base**</span><span class="sxs-lookup"><span data-stu-id="07398-138">**Figure 4. Second pass of basic shadow mapping**</span></span>

![secondo passaggio del mapping ombreggiato di base](images/second-pass-of-basic-shadow-mapping.png)

## <a name="shadow-map-artifacts"></a><span data-ttu-id="07398-140">Artefatti mappa Shadow</span><span class="sxs-lookup"><span data-stu-id="07398-140">Shadow Map Artifacts</span></span>

<span data-ttu-id="07398-141">L'algoritmo di mappa profondità ombreggiatura è l'algoritmo di shadowing in tempo reale usato più di frequente, ma produce ancora diversi artefatti che richiedono la mitigazione.</span><span class="sxs-lookup"><span data-stu-id="07398-141">The shadow depth map algorithm is the most widely used real-time shadowing algorithm, but still produces several artifacts requiring mitigation.</span></span> <span data-ttu-id="07398-142">I tipi di artefatti che possono verificarsi sono riepilogati successivamente.</span><span class="sxs-lookup"><span data-stu-id="07398-142">The types of artifacts that can occur are summarized next.</span></span>

### <a name="perspective-aliasing"></a><span data-ttu-id="07398-143">Aliasing prospettiva</span><span class="sxs-lookup"><span data-stu-id="07398-143">Perspective Aliasing</span></span>

<span data-ttu-id="07398-144">L'aliasing della prospettiva, un artefatto comune, è illustrato nella figura 5.</span><span class="sxs-lookup"><span data-stu-id="07398-144">Perspective aliasing, a common artifact, is shown in Figure 5.</span></span> <span data-ttu-id="07398-145">Si verifica quando il mapping dei pixel nello spazio di visualizzazione ai Texel nella mappa shadow non è un rapporto uno-a-uno.</span><span class="sxs-lookup"><span data-stu-id="07398-145">It occurs when the mapping of pixels in view space to texels in the shadow map is not a one-to-one ratio.</span></span> <span data-ttu-id="07398-146">Il motivo è che i pixel vicini al piano vicino sono più vicini e richiedono una risoluzione più elevata della mappa Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-146">This is because pixels close to the near plane are closer together and require a higher shadow map resolution.</span></span>

<span data-ttu-id="07398-147">Nella figura 6 è illustrata una mappa Shadow e una vista tronco.</span><span class="sxs-lookup"><span data-stu-id="07398-147">Figure 6 shows a shadow map and a view frustum.</span></span> <span data-ttu-id="07398-148">In prossimità dell'occhio, i pixel sono più vicini e molti pixel sono mappati agli stessi Texel di ombreggiatura.</span><span class="sxs-lookup"><span data-stu-id="07398-148">Near the eye, the pixels are closer together, and many pixels map to the same shadow texels.</span></span> <span data-ttu-id="07398-149">I pixel del piano lontano sono distribuiti, riducendo così l'aliasing della prospettiva.</span><span class="sxs-lookup"><span data-stu-id="07398-149">The pixels by the far plane are spread out, thereby reducing perspective aliasing.</span></span>

<span data-ttu-id="07398-150">**Figura 5. Aliasing ad alta prospettiva (a sinistra) rispetto all'aliasing a bassa prospettiva (Right)**</span><span class="sxs-lookup"><span data-stu-id="07398-150">**Figure 5. High-perspective aliasing (left) vs. low-perspective aliasing (right)**</span></span>

![aliasing ad alta prospettiva (a sinistra) rispetto all'aliasing a bassa prospettiva (Right)](images/high-perspective-aliasing-vs-low-perspective-aliasing.jpg)

<span data-ttu-id="07398-152">Per l'immagine a sinistra, l'aliasing della prospettiva è più elevato; un numero eccessivo di pixel dello spazio oculare è mappato agli stessi Texel della mappa Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-152">For the image at left, perspective aliasing is higher; too many eye-space pixels map to the same shadow-map texels.</span></span> <span data-ttu-id="07398-153">Nell'immagine a destra, l'aliasing della prospettiva è basso perché è presente un mapping 1:1 tra i pixel di spazio occhio e i Texel Mappa Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-153">In the image at right, perspective aliasing is low because there is a 1:1 mapping between the eye-space pixels and shadow-map texels.</span></span>

<span data-ttu-id="07398-154">**Figura 6. Visualizza tronco con mappa Shadow**</span><span class="sxs-lookup"><span data-stu-id="07398-154">**Figure 6. View frustum with shadow map**</span></span>

![Visualizza tronco con mappa Shadow](images/view-frustum-with-shadow-map.jpg)

<span data-ttu-id="07398-156">I pixel leggeri nel piano lontano rappresentano l'aliasing a bassa prospettiva e i pixel scuri nel piano vicino rappresentano gli alias ad alta prospettiva.</span><span class="sxs-lookup"><span data-stu-id="07398-156">Light pixels in the far plane represent low-perspective aliasing, and dark pixels in the near plane represent high-perspective aliasing.</span></span>

<span data-ttu-id="07398-157">Anche la risoluzione della mappa shadow può essere troppo elevata.</span><span class="sxs-lookup"><span data-stu-id="07398-157">Shadow map resolution can also be too high.</span></span> <span data-ttu-id="07398-158">Anche se una risoluzione più elevata è meno evidente, può tuttavia comportare piccoli oggetti, come i cavi telefonici, e non il cast delle ombreggiature.</span><span class="sxs-lookup"><span data-stu-id="07398-158">Although a higher resolution is less noticeable, it nevertheless can result in small objects, such as telephone wires, not casting shadows.</span></span> <span data-ttu-id="07398-159">Inoltre, la presenza di una risoluzione troppo elevata può causare gravi problemi di prestazioni a causa dei modelli di accesso alla trama.</span><span class="sxs-lookup"><span data-stu-id="07398-159">Also, having too high of a resolution can cause severe performance issues because of texture access patterns.</span></span>

<span data-ttu-id="07398-160">Le mappe Shadow (PSMs) e le mappe Shadow della prospettiva dello spazio (LSPSMs) presentano un tentativo di indirizzare l'aliasing prospettico inclinando la matrice di proiezione della luce per collocare più Texel vicino all'occhio dove sono necessari.</span><span class="sxs-lookup"><span data-stu-id="07398-160">Perspective shadow maps (PSMs) and light space perspective shadow maps (LSPSMs) attempt to address perspective aliasing by skewing the light's projection matrix in order to place more texels near the eye where they are needed.</span></span> <span data-ttu-id="07398-161">Sfortunatamente, nessuna tecnica è in grado di risolvere l'aliasing della prospettiva.</span><span class="sxs-lookup"><span data-stu-id="07398-161">Unfortunately, neither technique is able to solve the perspective aliasing.</span></span> <span data-ttu-id="07398-162">La parametrizzazione della trasformazione necessaria per eseguire il mapping tra i pixel dello spazio degli occhi e i Texel nella mappa shadow non può essere associata da un'asimmetria lineare.</span><span class="sxs-lookup"><span data-stu-id="07398-162">The parameterization of the transform required to map eye-space pixels to texels in the shadow map cannot be bound by a linear skew.</span></span> <span data-ttu-id="07398-163">È necessaria una parametrizzazione logaritmica.</span><span class="sxs-lookup"><span data-stu-id="07398-163">A logarithmic parameterization is required.</span></span> <span data-ttu-id="07398-164">PSMs ha messo a punto una quantità eccessiva di dettagli, causando ombre distanti per essere di bassa qualità o addirittura scomparire.</span><span class="sxs-lookup"><span data-stu-id="07398-164">PSMs put too much detail near the eye, causing distant shadows to be of low quality or to even disappear.</span></span> <span data-ttu-id="07398-165">LSPSMs offrono un lavoro migliore per trovare un terreno intermedio tra l'aumento della risoluzione in prossimità dell'occhio e l'uscita di un numero sufficiente di dettagli per gli oggetti lontani.</span><span class="sxs-lookup"><span data-stu-id="07398-165">LSPSMs do a better job of finding a middle ground between increasing resolution near the eye, and leaving enough detail for objects far away.</span></span> <span data-ttu-id="07398-166">Entrambe le tecniche degenerano le ombreggiature ortogonali in alcune configurazioni di scena.</span><span class="sxs-lookup"><span data-stu-id="07398-166">Both techniques degenerate to orthographic shadows in some scene configurations.</span></span> <span data-ttu-id="07398-167">Questa degenerazione può essere neutralizzata mediante il rendering di una mappa Shadow separata per ogni faccia della vista tronco, anche se si tratta di un'operazione costosa.</span><span class="sxs-lookup"><span data-stu-id="07398-167">This degeneration can be counteracted by rendering a separate shadow map for each face of the view frustum, although this is expensive.</span></span> <span data-ttu-id="07398-168">Anche le mappe Shadow della prospettiva logaritmica (LogPSMs) eseguono il rendering di una mappa separata per faccia della vista tronco.</span><span class="sxs-lookup"><span data-stu-id="07398-168">Logarithmic perspective shadow maps (LogPSMs) also render a separate map per face of the view frustum.</span></span> <span data-ttu-id="07398-169">Questa tecnica usa la rasterizzazione non lineare per collocare più Texel in prossimità dell'occhio.</span><span class="sxs-lookup"><span data-stu-id="07398-169">This technique uses nonlinear rasterization to place more texels near the eye.</span></span> <span data-ttu-id="07398-170">L'hardware della classe D3D10 e D3D11 non supporta la rasterizzazione non lineare.</span><span class="sxs-lookup"><span data-stu-id="07398-170">D3D10 and D3D11-class hardware do not support nonlinear rasterization.</span></span> <span data-ttu-id="07398-171">Per ulteriori informazioni su queste tecniche e sugli algoritmi, vedere la sezione riferimenti.</span><span class="sxs-lookup"><span data-stu-id="07398-171">For more information about these techniques and algorithms, see the References section.</span></span>

<span data-ttu-id="07398-172">Le mappe Shadow a cascata (CSM) sono la tecnica più diffusa per la gestione degli alias delle prospettive.</span><span class="sxs-lookup"><span data-stu-id="07398-172">Cascaded shadow maps (CSMs) are the most popular technique for dealing with perspective aliasing.</span></span> <span data-ttu-id="07398-173">Sebbene CSM possa essere combinato con PSMs e LSPSMs, non è necessario.</span><span class="sxs-lookup"><span data-stu-id="07398-173">Although CSMs can be combined with PSMs and LSPSMs, it's unnecessary.</span></span> <span data-ttu-id="07398-174">L'uso di CSM per correggere gli errori di aliasing della prospettiva viene trattato nell'articolo complementare [mappe Shadow a cascata](/windows/desktop/DxTechArts/cascaded-shadow-maps).</span><span class="sxs-lookup"><span data-stu-id="07398-174">Using CSMs to fix perspective aliasing errors is addressed in the companion article, [Cascaded Shadow Maps](/windows/desktop/DxTechArts/cascaded-shadow-maps).</span></span>

### <a name="projective-aliasing"></a><span data-ttu-id="07398-175">Aliasing proiettivo</span><span class="sxs-lookup"><span data-stu-id="07398-175">Projective Aliasing</span></span>

<span data-ttu-id="07398-176">L'aliasing proiettivo è più difficile da mostrare rispetto all'alias della prospettiva.</span><span class="sxs-lookup"><span data-stu-id="07398-176">Projective aliasing is harder to show than perspective aliasing.</span></span> <span data-ttu-id="07398-177">Le ombreggiature rivelate evidenziate nella figura 7 illustrano gli errori di aliasing proiettivi.</span><span class="sxs-lookup"><span data-stu-id="07398-177">The distended shadows highlighted in Figure 7 demonstrate projective aliasing errors.</span></span> <span data-ttu-id="07398-178">L'aliasing proiettivo si verifica quando il mapping tra Texel nello spazio della fotocamera e i Texel nello spazio chiaro non è un rapporto uno-a-uno. Questo è dovuto all'orientamento della geometria rispetto alla fotocamera chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-178">Projective aliasing occurs when the mapping between texels in camera space to texels in light space is not a one-to-one ratio; this is because of the orientation of the geometry with respect to the light camera.</span></span> <span data-ttu-id="07398-179">L'aliasing proiettivo si verifica quando il piano tangente della geometria diventa parallelo ai raggi luminosi.</span><span class="sxs-lookup"><span data-stu-id="07398-179">Projective aliasing occurs as the tangent plane of the geometry becomes parallel to the light rays.</span></span>

<span data-ttu-id="07398-180">**Figura 7. Aliasing ad alta proiezione e con aliasing basso-proiettivo**</span><span class="sxs-lookup"><span data-stu-id="07398-180">**Figure 7. High-projective aliasing vs. low-projective aliasing**</span></span>

![aliasing ad alta proiezione e con aliasing basso-proiettivo](images/high-projective-aliasing-vs-low%20projective-aliasing.jpg)

<span data-ttu-id="07398-182">Anche le tecniche usate per attenuare gli errori di aliasing delle prospettive attenuano l'aliasing proiettivo.</span><span class="sxs-lookup"><span data-stu-id="07398-182">Techniques used to alleviate perspective aliasing errors also mitigate projective aliasing.</span></span> <span data-ttu-id="07398-183">L'aliasing proiettivo si verifica quando la superficie normale è ortogonale alla luce; Queste superfici dovrebbero ricevere una minore luminosità in base alle equazioni di illuminazione diffuse.</span><span class="sxs-lookup"><span data-stu-id="07398-183">Projective aliasing occurs when the surface normal is orthogonal to the light; these surfaces should be receiving less light based on diffuse lighting equations.</span></span>

### <a name="shadow-acne-and-erroneous-self-shadowing"></a><span data-ttu-id="07398-184">Shadow acne e Self-Shadowing errata</span><span class="sxs-lookup"><span data-stu-id="07398-184">Shadow Acne and Erroneous Self-Shadowing</span></span>

<span data-ttu-id="07398-185">Shadow acne (Figura 8), un termine sinonimo di shadowing automatico errato, si verifica quando la mappa Shadow Quantizza la profondità su un intero Texel.</span><span class="sxs-lookup"><span data-stu-id="07398-185">Shadow acne (Figure 8), a term synonymous with erroneous self-shadowing, occurs when the shadow map quantizes the depth over an entire texel.</span></span> <span data-ttu-id="07398-186">Quando lo shader confronta una profondità effettiva rispetto a questo valore, è probabile che venga ombreggiata in modo automatico perché deve essere ombreggiata.</span><span class="sxs-lookup"><span data-stu-id="07398-186">When the shader compares an actual depth against this value, it is as likely to be self-shadowed as it is to be unshadowed.</span></span>

<span data-ttu-id="07398-187">Un altro motivo per l'acne ombra è che il Texel nello spazio chiaro è così vicino alla profondità del Texel corrispondente nella mappa di profondità. gli errori di precisione causano un errore errato del test di profondità.</span><span class="sxs-lookup"><span data-stu-id="07398-187">Another reason for shadow acne is that the texel in light space is so close to the depth of the corresponding texel in the depth map that precision errors cause the depth test to erroneously fail.</span></span> <span data-ttu-id="07398-188">Uno dei motivi di questa differenza consiste nel fatto che la mappa Depth è stata calcolata dall'hardware di rasterizzazione a funzione fissa, mentre la profondità confrontata è stata calcolata dallo shader.</span><span class="sxs-lookup"><span data-stu-id="07398-188">One reason for this precision difference is that the depth map was calculated by the fixed-function rasterization hardware, while the depth being compared was computed by the shader.</span></span> <span data-ttu-id="07398-189">L'aliasing proiettivo può anche causare Shadow acne.</span><span class="sxs-lookup"><span data-stu-id="07398-189">Projective aliasing can also cause shadow acne.</span></span>

<span data-ttu-id="07398-190">**Figura 8. Artefatto Shadow acne**</span><span class="sxs-lookup"><span data-stu-id="07398-190">**Figure 8. Shadow acne artifact**</span></span>

![artefatto Shadow acne](images/shadow-acne-artifact.jpg)

<span data-ttu-id="07398-192">Come illustrato nell'immagine a sinistra, alcuni pixel non hanno superato il test di profondità e hanno creato artefatti e modelli moiré.</span><span class="sxs-lookup"><span data-stu-id="07398-192">As shown in the left image, some of pixels failed the depth test and created speckled artifacts and moiré patterns.</span></span> <span data-ttu-id="07398-193">Per ridurre il ridimensionamento automatico errato, i limiti sul piano vicino e il piano lontano per la visualizzazione dello spazio chiaro tronco devono essere calcolati nel modo più rigoroso possibile.</span><span class="sxs-lookup"><span data-stu-id="07398-193">In order to reduce erroneous self-shadowing, the bounds on the near plane and the far plane for the light space view frustum should be calculated as tightly as possible.</span></span> <span data-ttu-id="07398-194">La distorsione della profondità basata sulla scala di inclinazione e altri tipi di distorsione sono altre soluzioni usate per mitigare l'acne Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-194">The slope scale-based depth bias and other types of bias are other solutions used to mitigate shadow acne.</span></span>

### <a name="peter-panning"></a><span data-ttu-id="07398-195">Peter panning</span><span class="sxs-lookup"><span data-stu-id="07398-195">Peter Panning</span></span>

<span data-ttu-id="07398-196">Il termine *Peter panning* deriva il nome da un carattere del libro figlio la cui ombra è stata scollegata e che può volare.</span><span class="sxs-lookup"><span data-stu-id="07398-196">The term *Peter Panning* derives its name from a children's book character whose shadow became detached and who could fly.</span></span> <span data-ttu-id="07398-197">Questo artefatto fa sì che gli oggetti con ombreggiature mancanti risultino scollegati da e in float sopra l'area (Figura 9).</span><span class="sxs-lookup"><span data-stu-id="07398-197">This artifact makes objects with missing shadows appear to be detached from and to float above the surface (Figure 9).</span></span>

<span data-ttu-id="07398-198">**Figura 9. Artefatto di Peter panning**</span><span class="sxs-lookup"><span data-stu-id="07398-198">**Figure 9. Peter Panning artifact**</span></span>

![artefatto di Peter panning](images/peter-panning-artifact.jpg)

<span data-ttu-id="07398-200">Nell'immagine a sinistra, l'ombreggiatura viene scollegata dall'oggetto, creando un effetto a virgola mobile.</span><span class="sxs-lookup"><span data-stu-id="07398-200">In the image at left, the shadow is detached from the object, creating a floating effect.</span></span>

<span data-ttu-id="07398-201">Una tecnica per la rimozione della superficie acne è l'aggiunta di un valore alla posizione dei pixel nello spazio chiaro; Questa operazione viene denominata aggiunta di un offset di profondità.</span><span class="sxs-lookup"><span data-stu-id="07398-201">One technique for removing surface acne is to add some value to pixel position in light space; this is called adding a depth offset.</span></span> <span data-ttu-id="07398-202">Peter panning restituisce quando l'offset di profondità utilizzato è troppo grande.</span><span class="sxs-lookup"><span data-stu-id="07398-202">Peter Panning results when the depth offset used is too large.</span></span> <span data-ttu-id="07398-203">In questo caso, l'offset di profondità causa il passaggio errato del test di profondità.</span><span class="sxs-lookup"><span data-stu-id="07398-203">In this case the depth offset causes the depth test to erroneously pass.</span></span> <span data-ttu-id="07398-204">Come Shadow acne, Peter panning viene aggravato quando la precisione nel buffer di profondità non è sufficiente.</span><span class="sxs-lookup"><span data-stu-id="07398-204">Like shadow acne, Peter Panning is aggravated when there is insufficient precision in the depth buffer.</span></span> <span data-ttu-id="07398-205">Il calcolo di piani stretti vicini e di piani lontani consente anche di evitare la Panoramica di Peter.</span><span class="sxs-lookup"><span data-stu-id="07398-205">Calculating tight near planes and far planes also helps avoid Peter Panning.</span></span>

## <a name="techniques-to-improve-shadow-maps"></a><span data-ttu-id="07398-206">Tecniche per migliorare le mappe Shadow</span><span class="sxs-lookup"><span data-stu-id="07398-206">Techniques to Improve Shadow Maps</span></span>

<span data-ttu-id="07398-207">L'aggiunta di ombre a un titolo è un processo.</span><span class="sxs-lookup"><span data-stu-id="07398-207">Adding shadows to a title is a process.</span></span> <span data-ttu-id="07398-208">Il primo passaggio consiste nel far funzionare le mappe shadow di base.</span><span class="sxs-lookup"><span data-stu-id="07398-208">The first step is to get basic shadow maps working.</span></span> <span data-ttu-id="07398-209">Il secondo consiste nel garantire che tutti i calcoli di base vengano eseguiti in modo ottimale: frusta adatta al più possibile, i piani near/lontano si adattano strettamente, viene usata la distorsione con scalabilità verticale e così via.</span><span class="sxs-lookup"><span data-stu-id="07398-209">The second is to ensure all basic calculations are done optimally: frusta fit as tightly as possible, near/far planes fit tightly, slope-scaled bias is used, and so on.</span></span> <span data-ttu-id="07398-210">Una volta abilitate le ombreggiature di base e osservate quanto più possibile, lo sviluppatore ha un'idea più precisa degli algoritmi necessari per ottenere le ombre per una fedeltà sufficiente.</span><span class="sxs-lookup"><span data-stu-id="07398-210">Once basic shadows are enabled, and look as good as possible, the developer has a better idea of what algorithms are needed to get the shadows to sufficient fidelity.</span></span> <span data-ttu-id="07398-211">In questa sezione vengono forniti suggerimenti di base che potrebbero essere necessari per ottenere le mappe shadow di base che esaminano meglio le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="07398-211">Basic tips that may be needed to get basic shadow maps looking at their best are given in this section.</span></span>

### <a name="slope-scale-depth-bias"></a><span data-ttu-id="07398-212">Distorsione profondità Slope-Scale</span><span class="sxs-lookup"><span data-stu-id="07398-212">Slope-Scale Depth Bias</span></span>

<span data-ttu-id="07398-213">Come indicato in precedenza, l'ombreggiatura automatica può causare l'acne Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-213">As previously mentioned, self-shadowing can lead to shadow acne.</span></span> <span data-ttu-id="07398-214">L'aggiunta di una distorsione troppo lunga può comportare la Panoramica di Peter.</span><span class="sxs-lookup"><span data-stu-id="07398-214">Adding too much bias can result in Peter Panning.</span></span> <span data-ttu-id="07398-215">Inoltre, i poligoni con pendii ridotti (relativi alla luce) soffrono più dell'aliasing proiettivo rispetto ai poligoni con pendii superficiali (in relazione alla luce).</span><span class="sxs-lookup"><span data-stu-id="07398-215">Additionally, polygons with steep slopes (relative to the light) suffer more from projective aliasing than polygons with shallow slopes (relative to the light).</span></span> <span data-ttu-id="07398-216">Per questo motivo, ogni valore della mappa di profondità potrebbe richiedere un offset diverso a seconda della pendenza del poligono rispetto alla luce.</span><span class="sxs-lookup"><span data-stu-id="07398-216">Because of this, each depth map value may need a different offset depending on the polygon's slope relative to the light.</span></span>

<span data-ttu-id="07398-217">L'hardware Direct3D 10 ha la possibilità di inclinare un poligono in base alla relativa pendenza rispetto alla direzione di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="07398-217">Direct3D 10 hardware has the ability to bias a polygon based on its slope with respect to the view direction.</span></span> <span data-ttu-id="07398-218">Questo ha l'effetto di applicare una polarizzazione di grandi dimensioni a un poligono che viene visualizzato Edge-on alla direzione della luce, ma non applica alcuna distorsione a un poligono che risponda direttamente alla luce.</span><span class="sxs-lookup"><span data-stu-id="07398-218">This has the effect of applying a large bias to a polygon that is viewed edge-on to the light direction, but not applying any bias to a polygon facing the light directly.</span></span> <span data-ttu-id="07398-219">Nella figura 10 viene illustrato il modo in cui due pixel adiacenti possono alternarsi tra le ombreggiature e le ombreggiature durante i test sulla stessa inclinazione non distorta.</span><span class="sxs-lookup"><span data-stu-id="07398-219">Figure 10 illustrates how two neighboring pixels can alternate between shadowed and unshadowed when testing against the same unbiased slope.</span></span>

<span data-ttu-id="07398-220">**Figura 10. Profondità ridimensionata inclinata-distorsione rispetto a profondità non distorta**</span><span class="sxs-lookup"><span data-stu-id="07398-220">**Figure 10. Slope scaled depth-bias compared to unbiased depth**</span></span>

![profondità ridimensionata inclinata-distorsione rispetto a profondità non distorta](images/slope-scaled-depth-bias-compared-to-unbiased-depth.png)

### <a name="calculating-a-tight-projection"></a><span data-ttu-id="07398-222">Calcolo di una proiezione stretta</span><span class="sxs-lookup"><span data-stu-id="07398-222">Calculating a Tight Projection</span></span>

<span data-ttu-id="07398-223">L'adattamento della proiezione della luce alla visualizzazione tronco aumenta la copertura della mappa Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-223">Tightly fitting the light's projection to the view frustum increases the shadow map coverage.</span></span> <span data-ttu-id="07398-224">Nella figura 11 viene illustrato che utilizzando una proiezione arbitraria o adattando la proiezione ai limiti della scena, si ottiene un alias di prospettiva più elevato.</span><span class="sxs-lookup"><span data-stu-id="07398-224">Figure 11 illustrates that using an arbitrary projection, or fitting the projection to the scene bounds, results in higher perspective aliasing.</span></span>

<span data-ttu-id="07398-225">**Figura 11. Tronco ombreggiatura arbitraria e tronco Shadow adatta alla scena**</span><span class="sxs-lookup"><span data-stu-id="07398-225">**Figure 11. Arbitrary shadow frustum and shadow frustum fit to scene**</span></span>

![tronco ombreggiatura arbitraria e tronco Shadow adatta alla scena](images/arbitrary-shadow-frustum-and-shadow-frustum-fit-to-scene.jpg)

<span data-ttu-id="07398-227">La visualizzazione è dal punto di vista della luce.</span><span class="sxs-lookup"><span data-stu-id="07398-227">The view is from the point of view of the light.</span></span> <span data-ttu-id="07398-228">Il trapezio rappresenta la tronco della fotocamera della visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="07398-228">The trapezoid represents the view camera's frustum.</span></span> <span data-ttu-id="07398-229">La griglia disegnata sull'immagine rappresenta il mapping ombreggiatura.</span><span class="sxs-lookup"><span data-stu-id="07398-229">The grid drawn over the image represents the shadow map.</span></span> <span data-ttu-id="07398-230">L'immagine a destra mostra che la stessa mappa Shadow della risoluzione crea una maggiore copertura Texel quando è più aderente alla scena.</span><span class="sxs-lookup"><span data-stu-id="07398-230">The image on the right shows that the same resolution shadow map creates more texel coverage when it is fit more tightly to the scene.</span></span>

<span data-ttu-id="07398-231">Nella figura 12 vengono illustrati frustums che si adattano correttamente.</span><span class="sxs-lookup"><span data-stu-id="07398-231">Figure 12 illustrates frustums that are correctly fit.</span></span> <span data-ttu-id="07398-232">Per calcolare la proiezione, gli otto punti che compongono la vista tronco vengono trasformati in uno spazio chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-232">To calculate the projection, the eight points that make up the view frustum are transformed into light space.</span></span> <span data-ttu-id="07398-233">Vengono quindi trovati i valori minimo e massimo in X e Y.</span><span class="sxs-lookup"><span data-stu-id="07398-233">Next, the minimum and maximum values in X and Y are found.</span></span> <span data-ttu-id="07398-234">Questi valori costituiscono i limiti di una proiezione ortogonale.</span><span class="sxs-lookup"><span data-stu-id="07398-234">These values make up the bounds for an orthographic projection.</span></span>

<span data-ttu-id="07398-235">**Figura 12. Proiezione Shadow adatta per la visualizzazione tronco**</span><span class="sxs-lookup"><span data-stu-id="07398-235">**Figure 12. Shadow projection fit to view frustum**</span></span>

![proiezione Shadow adatta per la visualizzazione tronco](images/shadow-projection-fit-to-view-frustum.jpg)

<span data-ttu-id="07398-237">È anche possibile ritagliare tronco alla scena AABB per ottenere un limite più restrittivo.</span><span class="sxs-lookup"><span data-stu-id="07398-237">It is also possible to clip the frustum to the scene AABB to get a tighter bound.</span></span> <span data-ttu-id="07398-238">Questa operazione non è consigliata in tutti i casi perché può modificare la dimensione della proiezione della fotocamera chiara dal fotogramma al frame.</span><span class="sxs-lookup"><span data-stu-id="07398-238">This is not advised in all cases because this can change the size of the light camera's projection from frame to frame.</span></span> <span data-ttu-id="07398-239">Molte tecniche, ad esempio quelle descritte nella sezione che spostano la luce Texel-Sized incrementi, forniscono risultati migliori quando le dimensioni della proiezione della luce rimangono costanti in ogni frame.</span><span class="sxs-lookup"><span data-stu-id="07398-239">Many techniques, such as those described in the section Moving the Light Texel-Sized Increments, give better results when the size of the light's projection remains constant in every frame.</span></span>

### <a name="calculating-the-near-plane-and-far-plane"></a><span data-ttu-id="07398-240">Calcolo del piano vicino e del piano lontano</span><span class="sxs-lookup"><span data-stu-id="07398-240">Calculating the Near Plane and Far Plane</span></span>

<span data-ttu-id="07398-241">Il piano vicino e il piano lontano sono i componenti finali necessari per calcolare la matrice di proiezione.</span><span class="sxs-lookup"><span data-stu-id="07398-241">The near plane and far plane are the final pieces required to calculate the projection matrix.</span></span> <span data-ttu-id="07398-242">Maggiore è la combinazione dei piani, più precisa è il valore del buffer di profondità.</span><span class="sxs-lookup"><span data-stu-id="07398-242">The more closely together the planes are, the more precise the values in the depth buffer.</span></span>

<span data-ttu-id="07398-243">Il buffer di profondità può essere a 16 bit, a 24 bit o a 32 bit, con valori compresi tra 0 e 1.</span><span class="sxs-lookup"><span data-stu-id="07398-243">The depth buffer can be 16-bit, 24-bit, or 32-bit, with values between 0 and 1.</span></span> <span data-ttu-id="07398-244">In genere, i buffer di profondità sono punti fissi, con i valori vicini al piano vicino raggruppati più accuratamente rispetto ai valori vicini al piano lontano.</span><span class="sxs-lookup"><span data-stu-id="07398-244">Generally, depth buffers are fixed point, with the values close to the near plane grouped more closely together than the values close to the far plane.</span></span> <span data-ttu-id="07398-245">Il grado di precisione disponibile per il buffer di profondità è determinato dal rapporto tra il piano vicino e il piano lontano.</span><span class="sxs-lookup"><span data-stu-id="07398-245">The degree of precision available to the depth buffer is determined by the ratio of the near plane to the far plane.</span></span> <span data-ttu-id="07398-246">L'utilizzo del più stretto possibile piano Near/lontani potrebbe consentire l'utilizzo di un buffer di profondità a 16 bit.</span><span class="sxs-lookup"><span data-stu-id="07398-246">Using the tightest possible near/far plane could allow use of a 16-bit depth buffer.</span></span> <span data-ttu-id="07398-247">Un buffer di profondità A 16 bit può ridurre l'utilizzo della memoria aumentando la velocità di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="07398-247">A 16-bit depth buffer could reduce the use of memory while increasing processing speed.</span></span>

### <a name="aabb-based-near-plane-and-far-plane"></a><span data-ttu-id="07398-248">AABB-Based piano vicino e piano lontano</span><span class="sxs-lookup"><span data-stu-id="07398-248">AABB-Based Near Plane and Far Plane</span></span>

<span data-ttu-id="07398-249">Un modo semplice e ingenuo per calcolare il piano vicino e il piano lontano consiste nel trasformare il volume di delimitazione della scena nello spazio chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-249">An easy and naive way to calculate the near plane and far plane is to transform the scene's bounding volume into light space.</span></span> <span data-ttu-id="07398-250">Il valore più piccolo della coordinata Z è il piano vicino e il valore della coordinata Z più grande è il piano lontano.</span><span class="sxs-lookup"><span data-stu-id="07398-250">The smallest Z-coordinate value is the near plane and the largest Z-coordinate value is the far plane.</span></span> <span data-ttu-id="07398-251">Per molte configurazioni della scena e della luce, questo approccio è sufficiente.</span><span class="sxs-lookup"><span data-stu-id="07398-251">For many configurations of the scene and light, this approach is sufficient.</span></span> <span data-ttu-id="07398-252">Il caso peggiore, tuttavia, può causare una perdita significativa di precisione nel buffer di profondità; Nella figura 13 viene illustrato uno scenario di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="07398-252">The worst case scenario, however, can result in a significant loss of precision in the depth buffer; Figure 13 shows such a scenario.</span></span> <span data-ttu-id="07398-253">Qui l'intervallo del piano vicino al piano lontano è quattro volte più grande del necessario.</span><span class="sxs-lookup"><span data-stu-id="07398-253">Here the range of the near plane to the far plane is four times larger than necessary.</span></span>

<span data-ttu-id="07398-254">La visualizzazione tronco nella figura 13 è stata scelta intenzionalmente come piccola.</span><span class="sxs-lookup"><span data-stu-id="07398-254">The view frustum in Figure 13 was purposely chosen to be small.</span></span> <span data-ttu-id="07398-255">Una piccola visualizzazione tronco viene visualizzata in una scena molto grande costituita da pilastri che si estendono dalla fotocamera di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="07398-255">A small view frustum is shown in a very large scene consisting of pillars extending out from the view camera.</span></span> <span data-ttu-id="07398-256">L'uso della scena AABB per i piani near e lontani non è ottimale.</span><span class="sxs-lookup"><span data-stu-id="07398-256">Using the Scene AABB for the near and far planes is not optimal.</span></span> <span data-ttu-id="07398-257">L'algoritmo CSM descritto nell'articolo tecnico sulle [mappe Shadow a cascata](/windows/desktop/DxTechArts/cascaded-shadow-maps) deve calcolare i piani near e lontano per frustums di dimensioni molto ridotte.</span><span class="sxs-lookup"><span data-stu-id="07398-257">The CSM algorithm described in the [Cascaded Shadow Maps](/windows/desktop/DxTechArts/cascaded-shadow-maps) technical article must calculate near and far planes for very small frustums.</span></span>

<span data-ttu-id="07398-258">**Figura 13. Piani vicini e lontani basati sulla scena AABB**</span><span class="sxs-lookup"><span data-stu-id="07398-258">**Figure 13. Near and far planes based on Scene AABB**</span></span>

![piani vicini e lontani basati sulla scena AABB](images/near-far-%20planes-based-on-scene-aabb.jpg)

### <a name="frustum-based-near-plane-and-far-plane"></a><span data-ttu-id="07398-260">Frustum-Based piano vicino e piano lontano</span><span class="sxs-lookup"><span data-stu-id="07398-260">Frustum-Based Near Plane and Far Plane</span></span>

<span data-ttu-id="07398-261">Un'altra tecnica per il calcolo dei piani vicini e lontani consiste nel trasformare il tronco in uno spazio chiaro e usare rispettivamente i valori minimo e massimo in Z come piani vicini e lontani.</span><span class="sxs-lookup"><span data-stu-id="07398-261">Another technique for calculating the near and far planes is to transform the frustum into light space and use the minimal and maximal values in Z as the near and the far planes, respectively.</span></span> <span data-ttu-id="07398-262">La figura 14 illustra i due problemi con questo approccio.</span><span class="sxs-lookup"><span data-stu-id="07398-262">Figure 14 illustrates the two issues with this approach.</span></span> <span data-ttu-id="07398-263">In primo luogo, il calcolo è troppo conservatore, come illustrato quando il tronco si estende oltre la geometria della scena.</span><span class="sxs-lookup"><span data-stu-id="07398-263">First, the calculation is too conservative, as shown when the frustum extends beyond the scene's geometry.</span></span> <span data-ttu-id="07398-264">In secondo luogo, il piano vicino potrebbe essere troppo stretto, causando la ritaglio dei cast Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-264">Second, the near plane could be too tight, causing shadow casters to be cropped.</span></span>

<span data-ttu-id="07398-265">**Figura 14. Piani vicini e lontani basati esclusivamente sulla vista tronco**</span><span class="sxs-lookup"><span data-stu-id="07398-265">**Figure 14. Near and far planes based solely on view frustum**</span></span>

![piani vicini e lontani basati esclusivamente sulla vista tronco](images/near-far-planes-based-solely-on-view-frustum.jpg)

### <a name="light-frustum-intersected-with-scene-to-calculate-near-and-far-planes"></a><span data-ttu-id="07398-267">Tronco chiaro intersecato con la scena per calcolare piani vicini e lontani</span><span class="sxs-lookup"><span data-stu-id="07398-267">Light Frustum Intersected with Scene to Calculate Near and Far Planes</span></span>

<span data-ttu-id="07398-268">Il modo corretto per calcolare i piani vicini e lontani è illustrato nella figura 15.</span><span class="sxs-lookup"><span data-stu-id="07398-268">The proper way to calculate the near and far planes is shown in Figure 15.</span></span> <span data-ttu-id="07398-269">Quattro dei piani della luce ortogonale tronco sono stati calcolati utilizzando il valore minimo e massimo delle coordinate X e Y della vista tronco nello spazio chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-269">Four of the planes of the orthographic light frustum were calculated using the minimum and maximum of the X and Y coordinates of the view frustum in light space.</span></span> <span data-ttu-id="07398-270">Gli ultimi due aerei della visualizzazione ortogonale tronco sono i piani near e lontani.</span><span class="sxs-lookup"><span data-stu-id="07398-270">The last two planes of the orthogonal view frustum are the near and the far planes.</span></span> <span data-ttu-id="07398-271">Per trovare questi piani, i limiti della scena vengono ritagliati rispetto ai quattro piani tronco di luce noti.</span><span class="sxs-lookup"><span data-stu-id="07398-271">To find these planes, the scene's bounds are clipped against the four known light frustum planes.</span></span> <span data-ttu-id="07398-272">I valori Z più piccoli e più grandi dal limite appena ritagliato rappresentano rispettivamente il piano vicino e il piano lontano.</span><span class="sxs-lookup"><span data-stu-id="07398-272">The smallest and largest Z-values from the newly clipped boundary represent the near plane and far plane, respectively.</span></span>

<span data-ttu-id="07398-273">Il codice che esegue questa operazione si trova nell'esempio CascadedShadowMaps11.</span><span class="sxs-lookup"><span data-stu-id="07398-273">The code that performs this operation is located in the CascadedShadowMaps11 sample.</span></span> <span data-ttu-id="07398-274">Gli otto punti che costituiscono i AABB del mondo vengono trasformati in uno spazio chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-274">The eight points that make up the world's AABB are transformed into light space.</span></span> <span data-ttu-id="07398-275">La trasformazione dei punti nello spazio chiaro semplifica i test di ritaglio.</span><span class="sxs-lookup"><span data-stu-id="07398-275">Transforming the points into light space simplifies the clipping tests.</span></span> <span data-ttu-id="07398-276">I quattro piani noti della tronco Light possono ora essere rappresentati come righe.</span><span class="sxs-lookup"><span data-stu-id="07398-276">The four known planes of the light frustum can now be represented as lines.</span></span> <span data-ttu-id="07398-277">Le scene che delimitatino il volume nello spazio chiaro possono essere rappresentate da sei quadrilateri.</span><span class="sxs-lookup"><span data-stu-id="07398-277">The scenes bounding volume in light space can be represented as six quadrilaterals.</span></span> <span data-ttu-id="07398-278">Questi 6 quadrilateri possono quindi essere trasformati in 12 triangoli per il ritaglio basato su triangolo.</span><span class="sxs-lookup"><span data-stu-id="07398-278">These 6 quadrilaterals can then be turned into 12 triangles for triangle-based clipping.</span></span> <span data-ttu-id="07398-279">I triangoli vengono ritagliati rispetto ai piani noti della vista tronco (si tratta di linee orizzontali e verticali in X e Y nello spazio chiaro).</span><span class="sxs-lookup"><span data-stu-id="07398-279">The triangles are clipped against the known planes of the view frustum (these are horizontal and vertical lines in X and Y in light space).</span></span> <span data-ttu-id="07398-280">Quando un punto di intersezione viene trovato in X e Y, il triangolo 3D viene troncato in corrispondenza di quel punto.</span><span class="sxs-lookup"><span data-stu-id="07398-280">When an intersection point is found in X and Y, the 3D triangle is clipped at that point.</span></span> <span data-ttu-id="07398-281">I valori Z minimo e massimo di tutti i triangoli ritagliati sono il piano vicino e il piano lontano.</span><span class="sxs-lookup"><span data-stu-id="07398-281">The minimum and maximum Z-values of all the clipped triangles are the near plane and far plane.</span></span> <span data-ttu-id="07398-282">Nell'esempio CascadedShadowMaps11 viene illustrato come eseguire questo ritaglio nella funzione **ComputeNearAndFar** .</span><span class="sxs-lookup"><span data-stu-id="07398-282">The CascadedShadowMaps11 sample shows how to perform this clipping in the **ComputeNearAndFar** function.</span></span>

<span data-ttu-id="07398-283">Sono disponibili altre due tecniche che è possibile usare per calcolare i piani più vicini e lontani.</span><span class="sxs-lookup"><span data-stu-id="07398-283">There are two more techniques that could be used to calculate the tightest possible near and far planes.</span></span> <span data-ttu-id="07398-284">Queste tecniche non vengono visualizzate nell'esempio CascadedShadowMaps.</span><span class="sxs-lookup"><span data-stu-id="07398-284">These techniques are not shown in the CascadedShadowMaps sample.</span></span>

-   <span data-ttu-id="07398-285">Anche i piani più stretti vicini e lontani possono essere calcolati intersecando una gerarchia di una scena o singoli oggetti in una scena con la luce tronco.</span><span class="sxs-lookup"><span data-stu-id="07398-285">Even tighter near and far planes could be calculated by intersecting a hierarchy of a scene or individual objects in a scene against the light frustum.</span></span> <span data-ttu-id="07398-286">Si tratta di un calcolo più complesso.</span><span class="sxs-lookup"><span data-stu-id="07398-286">This would be computationally more complex.</span></span> <span data-ttu-id="07398-287">Sebbene non sia illustrato nell'esempio CascadedShadowMaps11, potrebbe trattarsi di una tecnica valida per alcuni riquadri.</span><span class="sxs-lookup"><span data-stu-id="07398-287">While not illustrated in the CascadedShadowMaps11 sample, this could be a valid technique for some tiles.</span></span>
-   <span data-ttu-id="07398-288">Il piano lontano può essere calcolato prendendo il minimo:</span><span class="sxs-lookup"><span data-stu-id="07398-288">The far plane could be calculated by taking the minimum of:</span></span>

    -   <span data-ttu-id="07398-289">Profondità maggiore della visualizzazione tronco nello spazio chiaro.</span><span class="sxs-lookup"><span data-stu-id="07398-289">The largest depth of the view frustum in light space.</span></span>
    -   <span data-ttu-id="07398-290">Profondità massima dell'intersezione tra la visualizzazione tronco e la scena AABB.</span><span class="sxs-lookup"><span data-stu-id="07398-290">The largest depth of the intersection of the view frustum and the scene AABB.</span></span>

<span data-ttu-id="07398-291">Questo approccio può essere problematico quando viene usato con le mappe Shadow a cascata in cui è possibile indicizzare al di fuori di una vista tronco.</span><span class="sxs-lookup"><span data-stu-id="07398-291">This approach can be problematic when used with cascaded shadow maps where it is possible to index outside of a view frustum.</span></span> <span data-ttu-id="07398-292">In questo caso, potrebbe mancare la geometria della mappa Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-292">In this case, the shadow map might be missing geometry.</span></span>

<span data-ttu-id="07398-293">**Figura 15. Piani vicini e lontani basati sull'intersezione dei quattro piani calcolati della tronco leggera e della geometria di delimitazione della scena**</span><span class="sxs-lookup"><span data-stu-id="07398-293">**Figure 15. Near and far planes based on the intersection of the four calculated planes of the light frustum and the scene's bounding geometry**</span></span>

![piani vicini e lontani basati sull'intersezione dei quattro piani calcolati della tronco leggera e della geometria di delimitazione della scena](images/near-far-plane-based-on-intersection-of-four.jpg)

### <a name="moving-the-light-in-texel-sized-increments"></a><span data-ttu-id="07398-295">Incremento della luce in incrementi di Texel-Sized</span><span class="sxs-lookup"><span data-stu-id="07398-295">Moving the Light in Texel-Sized Increments</span></span>

<span data-ttu-id="07398-296">Un artefatto comune nelle mappe Shadow è l'effetto bordo luccicante.</span><span class="sxs-lookup"><span data-stu-id="07398-296">A common artifact in shadow maps is the shimmering edge effect.</span></span> <span data-ttu-id="07398-297">Quando la fotocamera viene spostata, i pixel lungo i bordi dell'ombreggiatura sono illuminati e scuriti.</span><span class="sxs-lookup"><span data-stu-id="07398-297">As the camera moves, the pixels along the shadows' edges brighten and darken.</span></span> <span data-ttu-id="07398-298">Questa operazione non può essere visualizzata in immagini ancora, ma è molto evidente e distrae in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="07398-298">This cannot be seen in still images, but it is very noticeable and distracting in real time.</span></span> <span data-ttu-id="07398-299">Nella figura 16 viene evidenziato il problema e nella figura 17 viene illustrato il modo in cui dovrebbero apparire i bordi Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-299">Figure 16 highlights this problem and Figure 17 shows how the shadow edges should look.</span></span>

<span data-ttu-id="07398-300">Si verifica l'errore del bordo luccicante perché la matrice di proiezione chiara viene ricalcolata ogni volta che la fotocamera viene spostata.</span><span class="sxs-lookup"><span data-stu-id="07398-300">The shimmering edge error occurs because the light projection matrix is being recalculated every time the camera moves.</span></span> <span data-ttu-id="07398-301">Ciò consente di creare differenze minime nelle mappe Shadow generate.</span><span class="sxs-lookup"><span data-stu-id="07398-301">This creates subtle differences in the generated shadow maps.</span></span> <span data-ttu-id="07398-302">Tutti i fattori seguenti possono influenzare la matrice creata per l'associazione della scena.</span><span class="sxs-lookup"><span data-stu-id="07398-302">All of the following factors can influence the matrix created to bound the scene.</span></span>

-   <span data-ttu-id="07398-303">Dimensioni della vista tronco</span><span class="sxs-lookup"><span data-stu-id="07398-303">Size of the view frustum</span></span>
-   <span data-ttu-id="07398-304">Orientamento della visualizzazione tronco</span><span class="sxs-lookup"><span data-stu-id="07398-304">Orientation of the view frustum</span></span>
-   <span data-ttu-id="07398-305">Posizione della luce</span><span class="sxs-lookup"><span data-stu-id="07398-305">Location of the light</span></span>
-   <span data-ttu-id="07398-306">Posizione della fotocamera</span><span class="sxs-lookup"><span data-stu-id="07398-306">Location of the camera</span></span>

<span data-ttu-id="07398-307">Ogni volta che la matrice cambia, i bordi delle ombreggiature potrebbero cambiare.</span><span class="sxs-lookup"><span data-stu-id="07398-307">Every time this matrix changes, the shadows edges could change.</span></span>

<span data-ttu-id="07398-308">**Figura 16. Bordi ombreggiatura luccicanti**</span><span class="sxs-lookup"><span data-stu-id="07398-308">**Figure 16. Shimmering shadow edges**</span></span>

![bordi ombreggiatura luccicanti](images/shimmering-shadow-edges.jpg)

<span data-ttu-id="07398-310">I pixel lungo il bordo dell'ombreggiatura entrano e non rientrano nell'ombreggiatura quando la fotocamera viene spostata da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="07398-310">The pixels along the border of the shadow come in and out of shadow as the camera moves from left to right.</span></span>

<span data-ttu-id="07398-311">**Figura 17. Ombre senza bordi luccicanti**</span><span class="sxs-lookup"><span data-stu-id="07398-311">**Figure 17. Shadows without shimmering edges**</span></span>

![ombre senza bordi luccicanti](images/shadows-without-shimmering-edges.jpg)

<span data-ttu-id="07398-313">I bordi dell'ombreggiatura rimangono costanti quando la fotocamera si sposta da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="07398-313">The shadow edges stay constant as the camera moves from left to right.</span></span>

<span data-ttu-id="07398-314">Per le luci direzionali, la soluzione a questo problema consiste nell'arrotondare il valore minimo o massimo in X e Y (che costituiscono i limiti di proiezione ortogonale) a incrementi di dimensioni in pixel.</span><span class="sxs-lookup"><span data-stu-id="07398-314">For directional lights, the solution to this problem is to round the minimum/maximum value in X and Y (that make up the orthographic projection bounds) to pixel size increments.</span></span> <span data-ttu-id="07398-315">Questa operazione può essere eseguita con un'operazione di divisione, un'operazione Floor e una moltiplicazione.</span><span class="sxs-lookup"><span data-stu-id="07398-315">This can be done with a divide operation, a floor operation, and a multiply.</span></span>


```C++
        vLightCameraOrthographicMin /= vWorldUnitsPerTexel;
        vLightCameraOrthographicMin = XMVectorFloor( vLightCameraOrthographicMin );
        vLightCameraOrthographicMin *= vWorldUnitsPerTexel;
        vLightCameraOrthographicMax /= vWorldUnitsPerTexel;
        vLightCameraOrthographicMax = XMVectorFloor( vLightCameraOrthographicMax );
        vLightCameraOrthographicMax *= vWorldUnitsPerTexel;
```



<span data-ttu-id="07398-316">Il valore vWorldUnitsPerTexel viene calcolato accettando un limite della vista tronco e dividendo in base alle dimensioni del buffer.</span><span class="sxs-lookup"><span data-stu-id="07398-316">The vWorldUnitsPerTexel value is calculated by taking a bound of the view frustum, and dividing by the buffer size.</span></span>


```C++
        FLOAT fWorldUnitsPerTexel = fCascadeBound /
        (float)m_CopyOfCascadeConfig.m_iBufferSize;
        vWorldUnitsPerTexel = XMVectorSet( fWorldUnitsPerTexel, fWorldUnitsPerTexel,                            0.0f, 0.0f );
```



<span data-ttu-id="07398-317">Il delimitatore delle dimensioni massime della vista tronco comporta una soluzione più flessibile per la proiezione ortogonale.</span><span class="sxs-lookup"><span data-stu-id="07398-317">Bounding the maximum size of the view frustum results in a looser fit for the orthographic projection.</span></span>

<span data-ttu-id="07398-318">Quando si usa questa tecnica, è importante notare che la trama è maggiore di 1 pixel in larghezza e altezza.</span><span class="sxs-lookup"><span data-stu-id="07398-318">It is important to note that the texture is 1 pixel larger in width and height when using this technique.</span></span> <span data-ttu-id="07398-319">Questo consente di mantenere le coordinate Shadow dall'indicizzazione al di fuori della mappa Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-319">This keeps shadow coordinates from indexing outside of the shadow map.</span></span>

### <a name="back-face-and-front-face"></a><span data-ttu-id="07398-320">Retro e faccia anteriore</span><span class="sxs-lookup"><span data-stu-id="07398-320">Back Face and Front Face</span></span>

<span data-ttu-id="07398-321">È necessario eseguire il rendering delle mappe Shadow con l'abbattimento del back-face standard, un processo che ignora la rasterizzazione degli oggetti che il visualizzatore non può visualizzare e velocizza il rendering della scena.</span><span class="sxs-lookup"><span data-stu-id="07398-321">Shadow maps should be rendered with standard back-face culling, a process that skips rasterization of objects that the viewer cannot see, and speeds up rendering of the scene.</span></span> <span data-ttu-id="07398-322">Un'altra opzione comune consiste nel eseguire il rendering delle mappe Shadow con l'abbattimento della facciata abilitata, il che significa che gli oggetti che si trovano nel visualizzatore vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="07398-322">Another common option is to render shadow maps with front-face culling enabled, which means that objects facing the viewer are eliminated.</span></span> <span data-ttu-id="07398-323">L'argomento è che consente di eseguire l'ombreggiatura automatica perché la geometria che costituisce il retro degli oggetti è leggermente offset.</span><span class="sxs-lookup"><span data-stu-id="07398-323">The argument for this is that it helps with self-shadowing as the geometry making up the back of objects is slightly offset.</span></span> <span data-ttu-id="07398-324">Esistono due problemi con questa idea.</span><span class="sxs-lookup"><span data-stu-id="07398-324">There are two problems with this idea.</span></span>

-   <span data-ttu-id="07398-325">Qualsiasi oggetto con geometria front-end o back-face non corretta genera artefatti nella mappa Shadow.</span><span class="sxs-lookup"><span data-stu-id="07398-325">Any object with improper front-face or back-face geometry causes artifacts in the shadow map.</span></span> <span data-ttu-id="07398-326">Tuttavia, se la geometria front-end o back-face non corretta provocherà altri problemi, è possibile che si presupponga che la geometria front-end e back-face venga eseguita correttamente.</span><span class="sxs-lookup"><span data-stu-id="07398-326">However, having incorrect front-face or back-face geometry will cause other problems, so it may be safe to assume front-face and back-face geometry is done correctly.</span></span> <span data-ttu-id="07398-327">Potrebbe non essere pratico creare i visi indietro per la geometria basata su sprite, ad esempio il fogliame.</span><span class="sxs-lookup"><span data-stu-id="07398-327">It may be impractical to create back faces for sprite-based geometry such as foliage.</span></span>
-   <span data-ttu-id="07398-328">Peter panning e Gap Shadow vicino alla base di oggetti quali i muri hanno più probabilità di verificarsi perché la disparità della profondità ombreggiatura è troppo piccola.</span><span class="sxs-lookup"><span data-stu-id="07398-328">Peter Panning and shadow gaps near the base of objects such as walls are more likely to occur because the shadow depth disparity is too small.</span></span>

### <a name="shadow-mapfriendly-geometry"></a><span data-ttu-id="07398-329">Mappa Shadow-geometria intuitiva</span><span class="sxs-lookup"><span data-stu-id="07398-329">Shadow Map–Friendly Geometry</span></span>

<span data-ttu-id="07398-330">La creazione di geometria perfettamente funzionante nelle mappe shadow consente una maggiore flessibilità durante la lotta di artefatti come Peter panning e Shadow acne.</span><span class="sxs-lookup"><span data-stu-id="07398-330">Creating geometry that works well in shadow maps allows for more flexibility when combating artifacts like Peter Panning and shadow acne.</span></span>

<span data-ttu-id="07398-331">I bordi rigidi sono problematici per lo shadowing automatico.</span><span class="sxs-lookup"><span data-stu-id="07398-331">Hard edges are problematic for self-shadowing.</span></span> <span data-ttu-id="07398-332">La disparità di profondità vicino alla punta del bordo è molto piccola.</span><span class="sxs-lookup"><span data-stu-id="07398-332">The depth disparity near the tip of the edge is very small.</span></span> <span data-ttu-id="07398-333">Anche un piccolo offset può causare la perdita delle ombre degli oggetti (Figura 18).</span><span class="sxs-lookup"><span data-stu-id="07398-333">Even a small offset can cause objects to lose their shadows (Figure 18).</span></span>

<span data-ttu-id="07398-334">**Figura 18. I bordi affilati provocano la derivazione degli artefatti da una disparità bassa con offset**</span><span class="sxs-lookup"><span data-stu-id="07398-334">**Figure 18. Sharp edges cause artifacts stemming from low-depth disparity with offsets**</span></span>

![i bordi affilati provocano la derivazione degli artefatti da una disparità bassa con offset](images/sharp-edges-cause%20artifacts.jpg)

<span data-ttu-id="07398-336">Gli oggetti narrow, ad esempio i muri, devono avere i backup anche se non sono mai visibili.</span><span class="sxs-lookup"><span data-stu-id="07398-336">Narrow objects such as walls should have backs even if they are never visible.</span></span> <span data-ttu-id="07398-337">In questo modo si aumenta la disparità della profondità.</span><span class="sxs-lookup"><span data-stu-id="07398-337">This will increase the depth disparity.</span></span>

<span data-ttu-id="07398-338">È anche importante assicurarsi che la direzione della geometria sia corretta; ovvero all'esterno di un oggetto deve essere eseguito il back-end e l'interno di un oggetto deve essere di fronte.</span><span class="sxs-lookup"><span data-stu-id="07398-338">It's also important to make sure that the direction the geometry is facing is correct; that is, the outside of an object should be back facing and the inside of an object should be front facing.</span></span> <span data-ttu-id="07398-339">Si tratta di un aspetto importante per il rendering con l'abbattimento di back-face abilitato, nonché per contrastare gli effetti della distorsione della profondità.</span><span class="sxs-lookup"><span data-stu-id="07398-339">This is important for rendering with back-face culling enabled, as well as for combating the effects of depth bias.</span></span>

## <a name="summary"></a><span data-ttu-id="07398-340">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="07398-340">Summary</span></span>

<span data-ttu-id="07398-341">Le tecniche descritte in questo articolo possono essere usate per aumentare la qualità delle mappe Shadow standard.</span><span class="sxs-lookup"><span data-stu-id="07398-341">The techniques described in this article can be used to increase the quality of standard shadow maps.</span></span> <span data-ttu-id="07398-342">Il passaggio successivo consiste nell'esaminare le tecniche che possono funzionare bene con le mappe Shadow standard.</span><span class="sxs-lookup"><span data-stu-id="07398-342">The next step is to look at techniques that can work well with standard shadow maps.</span></span> <span data-ttu-id="07398-343">CSM sono consigliate come tecnica superiore per combattere l'aliasing della prospettiva.</span><span class="sxs-lookup"><span data-stu-id="07398-343">CSMs are recommended as a superior technique to combat perspective aliasing.</span></span> <span data-ttu-id="07398-344">Per ammorbidire i bordi dell'ombreggiatura è possibile utilizzare le mappe shadow di varianza o filtro più vicino.</span><span class="sxs-lookup"><span data-stu-id="07398-344">Percentage closer filtering or variance shadow maps can be used to soften shadow edges.</span></span> <span data-ttu-id="07398-345">Per ulteriori informazioni, vedere l'articolo tecnico sulle [mappe Shadow sovrapposte](/windows/desktop/DxTechArts/cascaded-shadow-maps) .</span><span class="sxs-lookup"><span data-stu-id="07398-345">See the [Cascaded Shadow Maps](/windows/desktop/DxTechArts/cascaded-shadow-maps) technical article for more information.</span></span>

<span data-ttu-id="07398-346">Donnelly, W. e Lauritzen, A. [varianza Maps](https://portal.acm.org/citation.cfm?doid=1111411.1111440).</span><span class="sxs-lookup"><span data-stu-id="07398-346">Donnelly, W., and Lauritzen, A. [Variance Shadow Maps](https://portal.acm.org/citation.cfm?doid=1111411.1111440).</span></span> <span data-ttu-id="07398-347">Simposio sulla grafica interattiva 3D, procedure del Simposio 2006 su grafica e giochi 3D interattivi.</span><span class="sxs-lookup"><span data-stu-id="07398-347">Symposium on Interactive 3D Graphics, Proceedings of the 2006 Symposium on Interactive 3D Graphics and Games.</span></span> <span data-ttu-id="07398-348">2006, pp. 161 – 165.</span><span class="sxs-lookup"><span data-stu-id="07398-348">2006, pp. 161–165.</span></span>

<span data-ttu-id="07398-349">Engel, Woflgang F. sezione 4.</span><span class="sxs-lookup"><span data-stu-id="07398-349">Engel, Woflgang F. Section 4.</span></span> <span data-ttu-id="07398-350">Mappe Shadow a cascata.</span><span class="sxs-lookup"><span data-stu-id="07398-350">Cascaded Shadow Maps.</span></span> <span data-ttu-id="07398-351">ShaderX5, *Advanced rendering Techniques*, Wolfgang F. Engel, ed.</span><span class="sxs-lookup"><span data-stu-id="07398-351">ShaderX5, *Advanced Rendering Techniques*, Wolfgang F. Engel, Ed.</span></span> <span data-ttu-id="07398-352">Charles River Media, Boston, Massachusetts.</span><span class="sxs-lookup"><span data-stu-id="07398-352">Charles River Media, Boston, Massachusetts.</span></span> <span data-ttu-id="07398-353">2006.</span><span class="sxs-lookup"><span data-stu-id="07398-353">2006.</span></span> <span data-ttu-id="07398-354">pp. 197 – 206.</span><span class="sxs-lookup"><span data-stu-id="07398-354">pp. 197–206.</span></span>

<span data-ttu-id="07398-355">Stamminger, Marc e Drettakis, Giorgio.</span><span class="sxs-lookup"><span data-stu-id="07398-355">Stamminger, Marc, and Drettakis, George.</span></span> <span data-ttu-id="07398-356">[Mappe Shadow della prospettiva](https://portal.acm.org/citation.cfm?id=566616).</span><span class="sxs-lookup"><span data-stu-id="07398-356">[Perspective Shadow Maps](https://portal.acm.org/citation.cfm?id=566616).</span></span> <span data-ttu-id="07398-357">Conferenza internazionale sulla grafica dei computer e sulle tecniche interattive, *le procedure della 29 conferenza annuale sulla grafica del computer e le tecniche interattive*.</span><span class="sxs-lookup"><span data-stu-id="07398-357">International Conference on Computer Graphics and Interactive Techniques, *Proceedings of the 29th Annual Conference on Computer Graphics and Interactive Techniques*.</span></span> <span data-ttu-id="07398-358">2002, pp 557 – 562.</span><span class="sxs-lookup"><span data-stu-id="07398-358">2002, pp 557–562.</span></span>

<span data-ttu-id="07398-359">Wimmer, M., Scherzer, D., e Purgathofer, W. [area chiara mappa Shadow Maps](https://www.cg.tuwien.ac.at/research/vr/lispsm/shadows_egsr2004_revised.pdf).</span><span class="sxs-lookup"><span data-stu-id="07398-359">Wimmer, M., Scherzer, D., and Purgathofer, W. [Light Space Perspective Shadow Maps](https://www.cg.tuwien.ac.at/research/vr/lispsm/shadows_egsr2004_revised.pdf).</span></span> <span data-ttu-id="07398-360">EUROGRAPHICS Simposio sul rendering.</span><span class="sxs-lookup"><span data-stu-id="07398-360">Eurographics Symposium on Rendering.</span></span> <span data-ttu-id="07398-361">2004.</span><span class="sxs-lookup"><span data-stu-id="07398-361">2004.</span></span> <span data-ttu-id="07398-362">Rivisto il 10 giugno 2005.</span><span class="sxs-lookup"><span data-stu-id="07398-362">Revised June 10, 2005.</span></span> <span data-ttu-id="07398-363">[Technische Universität Wien](https://www.cg.tuwien.ac.at/research/vr/lispsm/).</span><span class="sxs-lookup"><span data-stu-id="07398-363">[Technische Universität Wien](https://www.cg.tuwien.ac.at/research/vr/lispsm/).</span></span>

 

 
