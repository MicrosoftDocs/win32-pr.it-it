---
title: Applicazione di patch al software di gioco in Windows XP, Windows Vista e Windows 7
description: In questo articolo vengono esaminati alcuni metodi di applicazione delle patch che funzionano bene in Windows Vista e Windows 7, oltre che in Windows XP.
ms.assetid: 27be805a-bffd-a9f8-2207-2a9a4822ba48
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 95ae0b1455cae61b8372f81e6928977743084c9e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "106300046"
---
# <a name="patching-game-software-in-windows-xp-windows-vista-and-windows-7"></a><span data-ttu-id="a51fc-103">Applicazione di patch al software di gioco in Windows XP, Windows Vista e Windows 7</span><span class="sxs-lookup"><span data-stu-id="a51fc-103">Patching Game Software in Windows XP, Windows Vista, and Windows 7</span></span>

<span data-ttu-id="a51fc-104">Windows Vista e Windows 7 includono diverse funzionalità per rendere più sicuro il sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="a51fc-104">Windows Vista and Windows 7 have a number of features to make the operating system more secure.</span></span> <span data-ttu-id="a51fc-105">Una maggiore sicurezza significa che l'applicazione di patch al software non è così semplice come in passato.</span><span class="sxs-lookup"><span data-stu-id="a51fc-105">Added security means that applying patches to software is not as simple as it was in the past.</span></span> <span data-ttu-id="a51fc-106">In questo articolo vengono esaminati alcuni metodi di applicazione delle patch che funzionano bene in Windows Vista e Windows 7, oltre che in Windows XP.</span><span class="sxs-lookup"><span data-stu-id="a51fc-106">This article examines some methods of patching that will work well in Windows Vista and Windows 7, as well as Windows XP.</span></span>

<span data-ttu-id="a51fc-107">Esistono due categorie principali di giochi che richiedono patch:</span><span class="sxs-lookup"><span data-stu-id="a51fc-107">There are two main categories of games that require patches:</span></span>

-   <span data-ttu-id="a51fc-108">Giochi che richiedono solo patch occasionali, come la maggior parte dei giochi offline.</span><span class="sxs-lookup"><span data-stu-id="a51fc-108">Games that require only occasional patches, such as most offline games.</span></span>
-   <span data-ttu-id="a51fc-109">Giochi che richiedono patch frequenti, ad esempio la maggior parte dei giochi online.</span><span class="sxs-lookup"><span data-stu-id="a51fc-109">Games that require frequent patches, such as most online games.</span></span>

<span data-ttu-id="a51fc-110">In questo articolo viene inoltre offerta una breve introduzione al controllo dell'account utente (UAC) per fornire informazioni di base sui diritti che gli sviluppatori possono prevedere per gli utenti in Windows Vista e Windows 7.</span><span class="sxs-lookup"><span data-stu-id="a51fc-110">This article also offers a brief introduction to the User Account Control (UAC) to serve as background about the rights that developers can expect users to have in Windows Vista and Windows 7.</span></span>

-   [<span data-ttu-id="a51fc-111">Controllo dell'account utente</span><span class="sxs-lookup"><span data-stu-id="a51fc-111">User Account Control</span></span>](#user-account-control)
-   [<span data-ttu-id="a51fc-112">Giochi che richiedono solo patch occasionali</span><span class="sxs-lookup"><span data-stu-id="a51fc-112">Games that Require Only Occasional Patches</span></span>](#games-that-require-only-occasional-patches)
    -   [<span data-ttu-id="a51fc-113">Metodo 1: usare Windows Installer per le patch occasionali</span><span class="sxs-lookup"><span data-stu-id="a51fc-113">Method 1: Use Windows Installer for Occasional Patches</span></span>](#method-1-use-windows-installer-for-occasional-patches)
    -   [<span data-ttu-id="a51fc-114">Metodo 2: richiedere i diritti di amministratore per l'applicazione di patch</span><span class="sxs-lookup"><span data-stu-id="a51fc-114">Method 2: Require Administrator Rights to Apply Patches</span></span>](#method-2-require-administrator-rights-to-apply-patches)
-   [<span data-ttu-id="a51fc-115">Giochi che richiedono patch frequenti</span><span class="sxs-lookup"><span data-stu-id="a51fc-115">Games that Require Frequent Patches</span></span>](#games-that-require-frequent-patches)
    -   [<span data-ttu-id="a51fc-116">Metodo 3: installare per utente</span><span class="sxs-lookup"><span data-stu-id="a51fc-116">Method 3: Install Per-User</span></span>](#method-3-install-per-user)
    -   [<span data-ttu-id="a51fc-117">Metodo 4: eseguire l'installazione in un percorso di Per-Computer comune</span><span class="sxs-lookup"><span data-stu-id="a51fc-117">Method 4: Install to a Common Per-Computer Location</span></span>](#method-4-install-to-a-common-per-computer-location)
    -   [<span data-ttu-id="a51fc-118">Altre possibilità</span><span class="sxs-lookup"><span data-stu-id="a51fc-118">Other Possibilities</span></span>](#other-possibilities)
-   [<span data-ttu-id="a51fc-119">Summary</span><span class="sxs-lookup"><span data-stu-id="a51fc-119">Summary</span></span>](#summary)

## <a name="user-account-control"></a><span data-ttu-id="a51fc-120">Controllo dell'account utente</span><span class="sxs-lookup"><span data-stu-id="a51fc-120">User Account Control</span></span>

<span data-ttu-id="a51fc-121">Windows Vista e Windows 7 hanno due tipi principali di account utente: utente standard e amministratore.</span><span class="sxs-lookup"><span data-stu-id="a51fc-121">Windows Vista and Windows 7 have two primary types of user accounts: Standard User and Administrator.</span></span> <span data-ttu-id="a51fc-122">Un account utente standard presenta diverse restrizioni di accesso. ad esempio, non è in grado di scrivere dati nel file system in% SystemDrive% \\ Program Files o nel registro di sistema \_ nel \_ computer locale HKEY.</span><span class="sxs-lookup"><span data-stu-id="a51fc-122">A Standard User account has several access restrictions; for example, it cannot write data to the file system in %SystemDrive%\\Program Files or to the registry in the HKEY\_LOCAL\_MACHINE.</span></span> <span data-ttu-id="a51fc-123">Ciò implica l'applicazione di patch a un gioco se viene installato in un percorso di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="a51fc-123">This has implications for applying patches to a game if it is installed in a read-only location.</span></span> <span data-ttu-id="a51fc-124">Diversamente da Windows XP, l'account utente standard è molto più comune in Windows Vista e Windows 7.</span><span class="sxs-lookup"><span data-stu-id="a51fc-124">Unlike in Windows XP, the Standard User account is much more common in Windows Vista and Windows 7.</span></span> <span data-ttu-id="a51fc-125">Gli account utente standard sono necessari anche per le funzionalità importanti del sistema operativo, ad esempio i controlli padre.</span><span class="sxs-lookup"><span data-stu-id="a51fc-125">Standard User accounts are also required for important features of the operating system, like parental controls.</span></span> <span data-ttu-id="a51fc-126">Per i controlli padre è necessario che l'account figlio sia un utente standard e l'elevazione di un account di questo tipo a un amministratore per anche un gioco impedisce ai controlli padre di lavorare con tutti gli altri giochi.</span><span class="sxs-lookup"><span data-stu-id="a51fc-126">Parental controls require that the child account be Standard User, and elevating such an account to Administrator for even one game prevents parental controls from working with all other games.</span></span> <span data-ttu-id="a51fc-127">Pertanto, è importante che i giochi siano progettati per gli utenti standard.</span><span class="sxs-lookup"><span data-stu-id="a51fc-127">So, it important for games to be designed for Standard User.</span></span>

<span data-ttu-id="a51fc-128">Windows Vista e Windows 7 hanno un modello più recente per i diritti utente, per evitare che gli utenti eseguano programmi che tentano di eseguire operazioni che l'utente non intende né autorizzare.</span><span class="sxs-lookup"><span data-stu-id="a51fc-128">Windows Vista and Windows 7 have a newer model for user rights, to help prevent users from running programs that attempt to perform operations that the user doesn't intend or authorize.</span></span> <span data-ttu-id="a51fc-129">A tale scopo, il controllo dell'account utente (denominato in precedenza account utente con privilegi minimi o LUA) consente agli utenti di utilizzare la maggior parte del tempo nel computer con diritti di basso livello, pur essendo in grado di eseguire facilmente applicazioni che richiedono diritti di livello superiore, quando necessario.</span><span class="sxs-lookup"><span data-stu-id="a51fc-129">To that end, User Account Control (formerly called Least-privileged User Account or LUA) enables users to operate the computer with low-level rights most of the time, while being able to easily run applications that require higher-level rights, when necessary.</span></span> <span data-ttu-id="a51fc-130">Questo significa che gli account utente standard e gli account amministratore eseguono entrambe le applicazioni con diritti utente standard, ma solo gli account amministratore hanno la possibilità di concedere diritti elevati per le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="a51fc-130">This means that Standard User accounts and Administrator accounts both run applications with Standard User rights, but only Administrator accounts have the ability to grant elevated rights to applications.</span></span> <span data-ttu-id="a51fc-131">Il sistema operativo chiede agli utenti con account di amministratore il consenso esplicito prima di eseguire un'applicazione con diritti elevati e se un programma che richiede diritti di amministratore viene eseguito su un account utente standard, il sistema richiede l'approvazione dell'amministratore.</span><span class="sxs-lookup"><span data-stu-id="a51fc-131">The operating system asks users with Administrator accounts for explicit consent before running an application with elevated rights, and if a program that requires Administrator rights is run on a Standard User account, the system prompts for Administrator approval.</span></span>

## <a name="games-that-require-only-occasional-patches"></a><span data-ttu-id="a51fc-132">Giochi che richiedono solo patch occasionali</span><span class="sxs-lookup"><span data-stu-id="a51fc-132">Games that Require Only Occasional Patches</span></span>

<span data-ttu-id="a51fc-133">Alcuni giochi richiedono solo alcune patch per tutto il ciclo di vita.</span><span class="sxs-lookup"><span data-stu-id="a51fc-133">Some games only require a few patches throughout their lifecycle.</span></span> <span data-ttu-id="a51fc-134">Due metodi che è possibile utilizzare per questa frequenza di applicazione di patch sono la distribuzione di patch come Windows Installer pacchetti, che in genere non richiedono diritti di amministratore o l'utilizzo di un altro tipo di distribuzione che modifica direttamente i file di gioco.</span><span class="sxs-lookup"><span data-stu-id="a51fc-134">Two methods that you can employ for this frequency of patching are to distribute patches as Windows Installer packages, which does not generally require Administrator rights, or to use some other type of distribution that directly modifies game files.</span></span>

> [!Note]  
> <span data-ttu-id="a51fc-135">Indipendentemente dal fatto che un gioco richieda l'applicazione di patch frequenti, le applicazioni in genere richiedono l'installazione o la rimozione di diritti di amministratore.</span><span class="sxs-lookup"><span data-stu-id="a51fc-135">Regardless of whether a game requires frequent patching, applications typically require Administrator rights to be installed or removed.</span></span>

 

### <a name="method-1-use-windows-installer-for-occasional-patches"></a><span data-ttu-id="a51fc-136">Metodo 1: usare Windows Installer per le patch occasionali</span><span class="sxs-lookup"><span data-stu-id="a51fc-136">Method 1: Use Windows Installer for Occasional Patches</span></span>

<span data-ttu-id="a51fc-137">In questo metodo, viene utilizzato un Windows Installer per installare un pacchetto (file con estensione msi) e viene distribuita una patch Windows Installer (file con estensione msp) per l'installazione di patch.</span><span class="sxs-lookup"><span data-stu-id="a51fc-137">In this method, a Windows Installer is used to install a package (.msi file) and a Windows Installer patch (.msp file) is distributed to install patches.</span></span> <span data-ttu-id="a51fc-138">Il pacchetto deve avere una tabella MsiPatchCertificate e la patch deve essere firmata digitalmente da un certificato nella tabella.</span><span class="sxs-lookup"><span data-stu-id="a51fc-138">The package must have an MsiPatchCertificate table, and the patch must be digitally signed by a certificate in the table.</span></span> <span data-ttu-id="a51fc-139">Altre informazioni sulla firma digitale sono disponibili in [firma Authenticode per sviluppatori di giochi](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="a51fc-139">More information about digital signing can be found at [Authenticode Signing for Game Developers](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span></span>

<span data-ttu-id="a51fc-140">Per informazioni dettagliate e requisiti per l'uso di questo metodo di applicazione di patch, vedere la documentazione Windows Installer:</span><span class="sxs-lookup"><span data-stu-id="a51fc-140">More details and requirements to use this patching method can be found in the Windows Installer documentation:</span></span>

-   [<span data-ttu-id="a51fc-141">Applicazione di patch e aggiornamenti</span><span class="sxs-lookup"><span data-stu-id="a51fc-141">Patching and Upgrades</span></span>](/windows/desktop/Msi/patching-and-upgrades)
-   [<span data-ttu-id="a51fc-142">Applicazione di patch al controllo dell'account utente (UAC)</span><span class="sxs-lookup"><span data-stu-id="a51fc-142">User Account Control (UAC) Patching</span></span>](/windows/desktop/Msi/user-account-control--uac--patching)

<span data-ttu-id="a51fc-143">Lo svantaggio di questo metodo è che se il gioco non è stato installato da supporti rimovibili in Windows XP, l'applicazione di patch richiede i diritti di amministratore.</span><span class="sxs-lookup"><span data-stu-id="a51fc-143">The disadvantage to this method is that if the game was not installed from removable media on Windows XP, then patching requires Administrator rights.</span></span> <span data-ttu-id="a51fc-144">Tuttavia, questo non è probabilmente troppo restrittivo, perché la maggior parte degli amministratori di utenti in Windows XP e la restrizione del software installato da supporti rimovibili non è presente in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="a51fc-144">However, this not likely to be too restrictive, because most users administrators on Windows XP, and the restriction to software installed from removable media is not present on Windows Vista.</span></span>

<span data-ttu-id="a51fc-145">Il vantaggio principale di questo metodo è che le patch possono essere applicate da un account utente standard senza richiedere una richiesta di autenticazione per i diritti elevati.</span><span class="sxs-lookup"><span data-stu-id="a51fc-145">The main advantage of this method is that patches can be applied by a Standard User account without requiring a prompt and authentication for elevated rights.</span></span> <span data-ttu-id="a51fc-146">Questo garantisce un'esperienza utente migliore, perché per riprodurre un gioco, un utente con un account utente standard non deve chiedere a un utente con un account amministratore di installare la patch o fornire l'account utente standard con diritti di amministratore permanenti.</span><span class="sxs-lookup"><span data-stu-id="a51fc-146">This provides a better user experience, because to play a game, a user with a Standard User account doesn't need to ask someone with an Administrator account to install the patch or to provide the Standard User account with permanent Administrator rights.</span></span>

<span data-ttu-id="a51fc-147">È possibile che questo metodo possa funzionare per i giochi che richiedono patch frequenti, ma il sovraccarico dell'uso di pacchetti di Windows Installer, in termini di integrazione della compilazione e supporto di un numero elevato di file, potrebbe rendere questo metodo meno auspicabile rispetto ad altri.</span><span class="sxs-lookup"><span data-stu-id="a51fc-147">It is possible that this method might work for games that require frequent patches, but the overhead of using Windows Installer packages, in terms of build integration and supporting large numbers of files, might make this method less desirable than others.</span></span>

### <a name="method-2-require-administrator-rights-to-apply-patches"></a><span data-ttu-id="a51fc-148">Metodo 2: richiedere i diritti di amministratore per l'applicazione di patch</span><span class="sxs-lookup"><span data-stu-id="a51fc-148">Method 2: Require Administrator Rights to Apply Patches</span></span>

<span data-ttu-id="a51fc-149">In questo metodo, il file eseguibile che applica la patch richiede i diritti di amministratore per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="a51fc-149">In this method, the executable file that applies the patch requires Administrator rights to run.</span></span> <span data-ttu-id="a51fc-150">Con i diritti di amministratore, l'eseguibile di patch può modificare direttamente i file di gioco presenti in% SystemDrive% \\ Program Files.</span><span class="sxs-lookup"><span data-stu-id="a51fc-150">With Administrator rights, the patching executable can directly modify the game files located in %SystemDrive%\\Program Files.</span></span>

<span data-ttu-id="a51fc-151">Il vantaggio di questo metodo è la sua semplicità.</span><span class="sxs-lookup"><span data-stu-id="a51fc-151">The advantage of this method is its simplicity.</span></span> <span data-ttu-id="a51fc-152">Tuttavia, questo metodo non è adatto se il gioco richiede patch frequenti, perché se un utente con un account utente standard vuole riprodurre un gioco che richiede patch frequenti, ad esempio un gioco in linea a più giocatori, l'utente ha due opzioni:</span><span class="sxs-lookup"><span data-stu-id="a51fc-152">However, this method is unsuitable if the game needs frequent patches, because if a user with a Standard User account wants to play a game that requires frequent patches, like a massively multi-player online game, then that user has two choices:</span></span>

-   <span data-ttu-id="a51fc-153">Chiedere a un amministratore di accedere e applicare patch al gioco, il che potrebbe non essere utile per entrambe le parti.</span><span class="sxs-lookup"><span data-stu-id="a51fc-153">Get an Administrator to log on and patch the game, which might be inconvenient for both parties.</span></span>
-   <span data-ttu-id="a51fc-154">Disporre di un account con diritti di amministratore elevato in modo permanente.</span><span class="sxs-lookup"><span data-stu-id="a51fc-154">Have his or her account permanently elevated with Administrator rights.</span></span>

> [!Note]  
> <span data-ttu-id="a51fc-155">Quest'ultima soluzione non solo indebolisce la sicurezza del sistema nel suo complesso, ma impedisce il funzionamento di importanti funzionalità, ad esempio i controlli padre.</span><span class="sxs-lookup"><span data-stu-id="a51fc-155">The latter solution not only weakens the security of the system as a whole, but it prevents important features, like parental controls, from working.</span></span>

 

<span data-ttu-id="a51fc-156">Quando si implementa questo metodo, il file eseguibile che applica la patch deve essere diverso dall'eseguibile del gioco.</span><span class="sxs-lookup"><span data-stu-id="a51fc-156">When implementing this method, the executable file that applies the patch must be different from the game executable.</span></span> <span data-ttu-id="a51fc-157">Il manifesto dell'eseguibile per l'applicazione di patch deve specificare requireAdministrator per requestedExecutionLevel per identificarlo come un'applicazione che richiede diritti di amministratore.</span><span class="sxs-lookup"><span data-stu-id="a51fc-157">The manifest of the patching executable should specify requireAdministrator for requestedExecutionLevel to denote it as an application that requires Administrator rights.</span></span> <span data-ttu-id="a51fc-158">Ulteriori informazioni su come eseguire questa operazione sono disponibili in procedure consigliate [e linee guida per gli sviluppatori per le applicazioni in un ambiente con privilegi minimi](/previous-versions/dotnet/articles/aa480150(v=msdn.10)), in "schema del manifesto dell'applicazione".</span><span class="sxs-lookup"><span data-stu-id="a51fc-158">More information about how to do this can be found at [Developer Best Practices and Guidelines for Applications in a Least Privileged Environment](/previous-versions/dotnet/articles/aa480150(v=msdn.10)), in "Application Manifest Schema."</span></span>

<span data-ttu-id="a51fc-159">Quando si usa questo metodo, anche con le impostazioni nel manifesto, il file eseguibile potrebbe essere ancora avviato senza diritti di amministratore in due casi:</span><span class="sxs-lookup"><span data-stu-id="a51fc-159">When this method is used, even with the settings in the manifest, the executable file might still be launched without Administrator rights in two cases:</span></span>

-   <span data-ttu-id="a51fc-160">Se il sistema operativo è Windows XP, l'account dell'utente è un utente con restrizioni.</span><span class="sxs-lookup"><span data-stu-id="a51fc-160">If the operating system is Windows XP, and the user's account is a Restricted User.</span></span>
-   <span data-ttu-id="a51fc-161">Se il sistema operativo è Windows Vista o Windows 7, l'account dell'utente è un utente standard e il controllo dell'account utente è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="a51fc-161">If the operating system is Windows Vista or Windows 7, the user's account is a Standard User, and UAC is disabled.</span></span>

<span data-ttu-id="a51fc-162">Entrambi sono rari scenari consumer.</span><span class="sxs-lookup"><span data-stu-id="a51fc-162">Both of these are rare consumer scenarios.</span></span> <span data-ttu-id="a51fc-163">Tuttavia, il patcher deve avere il manifesto che richiede diritti di amministratore e deve chiamare [**IsUserAnAdmin**](/windows/desktop/api/shlobj_core/nf-shlobj_core-isuseranadmin); Se questa funzione restituisce FALSE, viene visualizzato il messaggio di errore "diritti di amministratore sono necessari".</span><span class="sxs-lookup"><span data-stu-id="a51fc-163">However, the patcher should have the manifest require Administrator rights, and it should call [**IsUserAnAdmin**](/windows/desktop/api/shlobj_core/nf-shlobj_core-isuseranadmin); if this function returns FALSE, the error message "Administrator rights are required" is displayed.</span></span>

<span data-ttu-id="a51fc-164">Nel complesso, il metodo 1 è preferibile per i giochi che necessitano solo di alcune patch per la loro durata.</span><span class="sxs-lookup"><span data-stu-id="a51fc-164">Overall, method 1 is preferable for games that need just a few patches over their lifetimes.</span></span>

## <a name="games-that-require-frequent-patches"></a><span data-ttu-id="a51fc-165">Giochi che richiedono patch frequenti</span><span class="sxs-lookup"><span data-stu-id="a51fc-165">Games that Require Frequent Patches</span></span>

<span data-ttu-id="a51fc-166">Molti giochi basati su Internet sono stati migliorati continuamente e in genere richiedono patch regolari.</span><span class="sxs-lookup"><span data-stu-id="a51fc-166">Many Internet-based games are being improved continuously, and they usually require regular patches.</span></span> <span data-ttu-id="a51fc-167">Per questi giochi, le patch possono essere applicate per utente o per computer, come illustrato negli argomenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="a51fc-167">For these games, patches could be applied per-user or per-computer, as discussed in the follow topics.</span></span> <span data-ttu-id="a51fc-168">Altre soluzioni possibili includono la modifica dell'ACL che protegge% SystemDrive% dei \\ file di programma o la creazione di un servizio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a51fc-168">Other possible solutions include altering the ACL that protects %SystemDrive%\\Program Files or creating a custom service.</span></span>

### <a name="method-3-install-per-user"></a><span data-ttu-id="a51fc-169">Metodo 3: installare Per-User</span><span class="sxs-lookup"><span data-stu-id="a51fc-169">Method 3: Install Per-User</span></span>

<span data-ttu-id="a51fc-170">Un approccio consigliato e semplice consiste nell'installare l'intero gioco in una sottocartella per singolo utente della cartella Local Application Data, che è possibile trovare chiamando [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) con CSIDL \_ Local \_ AppData.</span><span class="sxs-lookup"><span data-stu-id="a51fc-170">One recommended and easy approach is to install the entire game to a per-user subfolder of the local application data folder, which you can find by calling [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) with CSIDL\_LOCAL\_APPDATA.</span></span> <span data-ttu-id="a51fc-171">Un percorso di esempio è C: \\ Documents and Settings \\ nome utente impostazioni \\ locali \\ dati applicazione \\ ExampleGame.</span><span class="sxs-lookup"><span data-stu-id="a51fc-171">An example path is C:\\Documents and Settings\\user name\\Local Settings\\Application Data\\ExampleGame.</span></span> <span data-ttu-id="a51fc-172">Tale percorso consente a un'applicazione in esecuzione con diritti utente standard di modificare direttamente i file di gioco.</span><span class="sxs-lookup"><span data-stu-id="a51fc-172">Such a location allows an application running with Standard User rights to directly modify game files.</span></span>

<span data-ttu-id="a51fc-173">Tuttavia, esiste uno svantaggio di questo approccio quando un computer ha più utenti: ogni utente ha una copia del gioco installato e le patch devono essere scaricate e applicate da ogni utente.</span><span class="sxs-lookup"><span data-stu-id="a51fc-173">However, there is a disadvantage to this approach when a computer has multiple users: each user has a copy of the game installed, and patches must be downloaded and applied by each user.</span></span> <span data-ttu-id="a51fc-174">Questo consente di sprecare non solo i tempi e lo spazio su disco degli utenti, ma aumenta anche l'utilizzo della larghezza di banda di rete per il server che fornisce patch.</span><span class="sxs-lookup"><span data-stu-id="a51fc-174">This wastes not only users' time and disk space, but it also increases use of network bandwidth to the server that provides patches.</span></span> <span data-ttu-id="a51fc-175">Inoltre, poiché qualsiasi applicazione con diritti utente standard può modificare il gioco, gli eseguibili del gioco sono meno protetti. il produttore del gioco decide se è accettabile o meno.</span><span class="sxs-lookup"><span data-stu-id="a51fc-175">Also, because any application with standard user rights can modify the game, game executables are less protected; it is up to the game manufacturer to decide if this is acceptable or not.</span></span>

### <a name="method-4-install-to-a-common-per-computer-location"></a><span data-ttu-id="a51fc-176">Metodo 4: eseguire l'installazione in un percorso di Per-Computer comune</span><span class="sxs-lookup"><span data-stu-id="a51fc-176">Method 4: Install to a Common Per-Computer Location</span></span>

<span data-ttu-id="a51fc-177">Un altro metodo consiste nell'installare i dati del gioco non eseguibili in una sottodirectory del percorso specificato da [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) CSIDL \_ Common \_ AppData; un percorso di esempio è C: \\ Documents and Settings \\ All Users \\ Application Data \\ ExampleGame.</span><span class="sxs-lookup"><span data-stu-id="a51fc-177">Another method is to install the non-executable game data to a subdirectory of the path specified by [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) CSIDL\_COMMON\_APPDATA; an example path is C:\\Documents and Settings\\All Users\\Application Data\\ExampleGame.</span></span> <span data-ttu-id="a51fc-178">Si tratta di un percorso condiviso per tutti gli utenti e può essere modificato da applicazioni che vengono eseguite con diritti utente standard.</span><span class="sxs-lookup"><span data-stu-id="a51fc-178">This is a shared location for all users, and it can be modified by applications that run with Standard User rights.</span></span> <span data-ttu-id="a51fc-179">Questo metodo riduce al minimo la necessità di riapplicare le patch di grandi dimensioni quando il gioco viene riprodotto da più di un account.</span><span class="sxs-lookup"><span data-stu-id="a51fc-179">This method minimizes the need to reapply large patches when the game is played from more than one account.</span></span> <span data-ttu-id="a51fc-180">I file eseguibili per il gioco devono essere conservati nei file% SystemDrive% \\ Programs per ridurre al minimo il rischio di altri account nel sistema.</span><span class="sxs-lookup"><span data-stu-id="a51fc-180">Executable files for the game should be kept in %SystemDrive%\\Programs Files to minimize the risk to other accounts on the system.</span></span> <span data-ttu-id="a51fc-181">I file eseguibili devono verificare l'integrità del nuovo contenuto nella directory condivisa, perché tale percorso può essere modificato da un programma o da una persona con diritti utente standard. prendere in considerazione l'uso di [**MapFileAndCheckSum**](/windows/desktop/api/imagehlp/nf-imagehlp-mapfileandchecksuma) per calcolare un checksum dei file.</span><span class="sxs-lookup"><span data-stu-id="a51fc-181">The executable files should verify the integrity of the new content in the shared directory, since that location can be modified by a program or person with Standard User rights; consider using [**MapFileAndCheckSum**](/windows/desktop/api/imagehlp/nf-imagehlp-mapfileandchecksuma) to compute a checksum of the files.</span></span>

<span data-ttu-id="a51fc-182">Questo metodo ha il vantaggio di funzionare ugualmente correttamente sia in Windows XP che in Windows Vista e non richiede diritti di amministratore.</span><span class="sxs-lookup"><span data-stu-id="a51fc-182">This method has the advantage of working equally well on both Windows XP and Windows Vista, and it doesn't require Administrator rights.</span></span>

### <a name="other-possibilities"></a><span data-ttu-id="a51fc-183">Altre possibilità</span><span class="sxs-lookup"><span data-stu-id="a51fc-183">Other Possibilities</span></span>

<span data-ttu-id="a51fc-184">Al di fuori dei metodi già illustrati, un'altra possibilità consiste nel modificare l'ACL della cartella% SystemDrive% \\ Program Files \\ Game \\ durante l'installazione del gioco, in modo che uno strumento di patch possa scrivere direttamente nei file del gioco anche quando viene eseguito con diritti utente standard.</span><span class="sxs-lookup"><span data-stu-id="a51fc-184">Outside of the methods already discussed, another possibility is to alter the ACL of %SystemDrive%\\Program Files\\Game Folder\\ when installing the game so that a patching tool can write directly to the game's files even when run with Standard User rights.</span></span> <span data-ttu-id="a51fc-185">Sebbene questo non sia difficile, ignora la protezione della sicurezza offerta dal sistema ai file del gioco e consente ai programmi dannosi di modificare il contenuto della directory.</span><span class="sxs-lookup"><span data-stu-id="a51fc-185">While this is not difficult, it does bypass the security protection that the system offers to the game's files and provides an opportunity for malicious programs to alter the contents of the directory.</span></span> <span data-ttu-id="a51fc-186">Questa operazione non è consigliata ed è consigliabile usare invece un'alternativa.</span><span class="sxs-lookup"><span data-stu-id="a51fc-186">This is not advisable, and it is strongly recommended that an alternative be used instead.</span></span>

<span data-ttu-id="a51fc-187">Una possibilità finale consiste nel scrivere un servizio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="a51fc-187">One final possibility is to write a custom service.</span></span> <span data-ttu-id="a51fc-188">In generale, non è consigliabile scrivere un servizio personalizzato per applicare patch ai giochi, perché questa operazione è complessa e soggetta a errori.</span><span class="sxs-lookup"><span data-stu-id="a51fc-188">In general, writing a custom service to patch games is not a good idea, because doing so is complicated and error-prone.</span></span> <span data-ttu-id="a51fc-189">Si consiglia di eseguire l'applicazione di patch usando altri metodi descritti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="a51fc-189">It is recommended that patching be done by use of other methods discussed in this article.</span></span> <span data-ttu-id="a51fc-190">Tuttavia, un servizio personalizzato potrebbe essere necessario in combinazione con soluzioni anti-cheat o anti-pirateria.</span><span class="sxs-lookup"><span data-stu-id="a51fc-190">However, a custom service might be necessary when combined with anti-cheat or anti-piracy solutions.</span></span> <span data-ttu-id="a51fc-191">Un servizio di questo tipo deve supportare un numero elevato di giochi ed essere progettato in modo da poter scaricare solo i file di patch e scrivere solo nella directory di installazione per il gioco di destinazione.</span><span class="sxs-lookup"><span data-stu-id="a51fc-191">Such a service should support a large number of games and be designed so that it can only download the patch files and write only to the installation directory for the target game.</span></span> <span data-ttu-id="a51fc-192">È importante che il servizio sia di piccole dimensioni, disponga di una superficie di attacco minima vulnerabile agli attacchi e usi il minor numero possibile di risorse di sistema quando il gioco non è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="a51fc-192">It is important that the service be small, have a minimal surface area that is vulnerable to attack, and use as few system resources as possible when the game is not running.</span></span>

## <a name="summary"></a><span data-ttu-id="a51fc-193">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="a51fc-193">Summary</span></span>

<span data-ttu-id="a51fc-194">Infine, è responsabilità dell'utente decidere quale metodo implementare.</span><span class="sxs-lookup"><span data-stu-id="a51fc-194">Ultimately, it is up to you to decide which method to implement.</span></span> <span data-ttu-id="a51fc-195">È necessario valutare i fattori che sono importanti per l'utente.</span><span class="sxs-lookup"><span data-stu-id="a51fc-195">You need to weigh the factors are that are important to you.</span></span> <span data-ttu-id="a51fc-196">Sicurezza, frequenza delle patch, facilità d'uso da parte dei clienti, carico di lavoro richiesto per implementare, complessità della soluzione e conformità delle funzionalità della piattaforma sono i fattori che ogni sviluppatore deve considerare prima di decidere su un particolare metodo.</span><span class="sxs-lookup"><span data-stu-id="a51fc-196">Security, frequency of patching, ease of use by customer, workload required to implement, complexity of solution, and platform feature compliance are the factors that each developer must consider before deciding on a particular method.</span></span>

<span data-ttu-id="a51fc-197">Per ulteriori informazioni sulla protezione dell'account utente, vedere [requisiti di sviluppo delle applicazioni di Windows Vista per controllo dell'account utente (UAC)](/previous-versions/aa905330(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="a51fc-197">You can find more information about user account protection in [Windows Vista Application Development Requirements for User Account Control (UAC)](/previous-versions/aa905330(v=msdn.10)).</span></span>

 

 