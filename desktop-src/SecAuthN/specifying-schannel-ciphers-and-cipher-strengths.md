---
description: Specificare le crittografie Schannel e i punti di forza della crittografia
ms.assetid: b87d3e72-df7b-4a00-854e-c3706565ed7d
title: Specificare le crittografie Schannel e i punti di forza della crittografia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b04ec37cfea633814881fba5bfd71ad15205a1bd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106316217"
---
# <a name="specifying-schannel-ciphers-and-cipher-strengths"></a><span data-ttu-id="4ae89-103">Specificare le crittografie Schannel e i punti di forza della crittografia</span><span class="sxs-lookup"><span data-stu-id="4ae89-103">Specifying Schannel Ciphers and Cipher Strengths</span></span>

<span data-ttu-id="4ae89-104">Per gli scambi di informazioni client/server, il comportamento predefinito di Schannel è quello di negoziare la crittografia migliore disponibile in base a quelle abilitate nel registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="4ae89-104">For client/server information exchanges, the default behavior of Schannel is to negotiate the best cipher available based on those enabled in the registry.</span></span> <span data-ttu-id="4ae89-105">Le applicazioni possono limitare le crittografie e i punti di forza della crittografia consentiti per una connessione usando i membri della struttura di [**\_ cred Schannel**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="4ae89-105">Applications may limit the ciphers and cipher strengths allowed for a connection by using members of the [**SCHANNEL\_CRED**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) structure as follows:</span></span>

1.  <span data-ttu-id="4ae89-106">Impostare il membro **palgSupportedAlgs** su una matrice di [**\_ ID ALG**](../seccrypto/alg-id.md) contenente le crittografie consentite.</span><span class="sxs-lookup"><span data-stu-id="4ae89-106">Set the **palgSupportedAlgs** member to an array of [**ALG\_ID**](../seccrypto/alg-id.md) containing the allowable ciphers.</span></span> <span data-ttu-id="4ae89-107">Per altre informazioni, vedere ID di crittografia.</span><span class="sxs-lookup"><span data-stu-id="4ae89-107">For more information, see Cipher IDs.</span></span>
2.  <span data-ttu-id="4ae89-108">Impostare i membri **dwMinimumCipherStrength** e/o **dwMaximumCipherStrength** sui punti di forza minimi e massimi consentiti.</span><span class="sxs-lookup"><span data-stu-id="4ae89-108">Set the **dwMinimumCipherStrength** and/or **dwMaximumCipherStrength** members to the allowable minimum and maximum strengths.</span></span> <span data-ttu-id="4ae89-109">Per altre informazioni, vedere valori di livello di codifica.</span><span class="sxs-lookup"><span data-stu-id="4ae89-109">For more information, see Cipher Strength Values.</span></span>
3.  <span data-ttu-id="4ae89-110">Passare la struttura di [**\_ cred Schannel**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) (per mezzo del parametro *pAuthData* ) in una chiamata alla funzione [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) .</span><span class="sxs-lookup"><span data-stu-id="4ae89-110">Pass the [**SCHANNEL\_CRED**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) structure (by means of the *pAuthData* parameter) in a call to the [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) function.</span></span> <span data-ttu-id="4ae89-111">Questa funzione restituisce un handle di credenziali.</span><span class="sxs-lookup"><span data-stu-id="4ae89-111">This function returns a credentials handle.</span></span>
4.  <span data-ttu-id="4ae89-112">Specificare l'handle delle credenziali in una chiamata alla funzione [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) del lato client o alla funzione [**AcceptSecurityContext (generale)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) sul lato server.</span><span class="sxs-lookup"><span data-stu-id="4ae89-112">Specify the credentials handle in a call to the client-side [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) function or the server-side [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span>

## <a name="cipher-ids"></a><span data-ttu-id="4ae89-113">ID crittografia</span><span class="sxs-lookup"><span data-stu-id="4ae89-113">Cipher IDs</span></span>

<span data-ttu-id="4ae89-114">Il comportamento predefinito di Schannel è quello di richiedere la crittografia migliore disponibile in base alle voci Schannel nel registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="4ae89-114">The default behavior of Schannel is to request the best cipher available based on Schannel entries in the system registry.</span></span> <span data-ttu-id="4ae89-115">Non modificare il registro di sistema; le impostazioni contenute per Schannel vengono utilizzate globalmente e influiranno su altre applicazioni.</span><span class="sxs-lookup"><span data-stu-id="4ae89-115">Do not change the system registry; the settings it contains for Schannel are used globally and will affect other applications.</span></span> <span data-ttu-id="4ae89-116">Per l'elenco delle costanti valide, vedere [**\_ ID ALG**](../seccrypto/alg-id.md).</span><span class="sxs-lookup"><span data-stu-id="4ae89-116">For the list of valid constants, see [**ALG\_ID**](../seccrypto/alg-id.md).</span></span>

## <a name="cipher-strength-values"></a><span data-ttu-id="4ae89-117">Valori di attendibilità della crittografia</span><span class="sxs-lookup"><span data-stu-id="4ae89-117">Cipher Strength Values</span></span>

<span data-ttu-id="4ae89-118">Questa funzionalità Schannel viene in genere usata per limitare una connessione a crittografie nazionali o di esportazione.</span><span class="sxs-lookup"><span data-stu-id="4ae89-118">This Schannel feature is typically used to limit a connection to either domestic or export strength ciphers.</span></span> <span data-ttu-id="4ae89-119">I punti di forza interni includono 56 e 128 bit, mentre la forza di esportazione è limitata a 56 bit.</span><span class="sxs-lookup"><span data-stu-id="4ae89-119">Domestic strengths include 56, and 128 bits, while export strength is limited to 56 bits.</span></span> <span data-ttu-id="4ae89-120">Se si impostano i valori minimo e massimo su zero Schannel utilizzerà tutti i punti di forza di crittografia disponibili.</span><span class="sxs-lookup"><span data-stu-id="4ae89-120">If you set the minimum and maximum values to zero Schannel will use all available cipher strengths.</span></span>

<span data-ttu-id="4ae89-121">Utilizzando TLS o SSL 3,0, impostare il membro **dwMinimumCipherStrength** su-1 (negativo) per abilitare i pacchetti di crittografia "null Encryption", che forniscono le firme ma nessuna crittografia.</span><span class="sxs-lookup"><span data-stu-id="4ae89-121">Using TLS or SSL 3.0, set the **dwMinimumCipherStrength** member to -1 (negative one) to enable the "Null Cipher" cipher suites, which provide signatures but no encryption.</span></span> <span data-ttu-id="4ae89-122">Se anche **dwMaximumCipherStrength** è impostato su-1, verranno abilitati solo i gruppi "crittografia null".</span><span class="sxs-lookup"><span data-stu-id="4ae89-122">If **dwMaximumCipherStrength** is also set to -1 then only the "Null Cipher" suites will be enabled.</span></span> <span data-ttu-id="4ae89-123">Questa impostazione è destinata solo allo sviluppo e non deve essere usata nei sistemi di produzione.</span><span class="sxs-lookup"><span data-stu-id="4ae89-123">This setting is intended for development only and should not be used in production systems.</span></span>

## <a name="querying-cipher-information"></a><span data-ttu-id="4ae89-124">Esecuzione di query sulle informazioni di crittografia</span><span class="sxs-lookup"><span data-stu-id="4ae89-124">Querying Cipher Information</span></span>

<span data-ttu-id="4ae89-125">Per recuperare le impostazioni del livello di codifica per una credenziale, chiamare la funzione [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) e specificare SECPKG \_ attr \_ cipher \_ strengths come parametro *ulAttribute* .</span><span class="sxs-lookup"><span data-stu-id="4ae89-125">To retrieve the cipher strength settings for a credential, call the [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) function and specify SECPKG\_ATTR\_CIPHER\_STRENGTHS as the *ulAttribute* parameter.</span></span>

<span data-ttu-id="4ae89-126">Per recuperare l'elenco degli algoritmi supportati per una credenziale, chiamare [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) con SECPKG \_ attr \_ supportato \_ algs come parametro *ulAttribute* .</span><span class="sxs-lookup"><span data-stu-id="4ae89-126">To retrieve the list of supported algorithms for a credential, call the [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) with SECPKG\_ATTR\_SUPPORTED\_ALGS as the *ulAttribute* parameter.</span></span>

 

 
