---
description: La tecnica di autenticazione con chiave privata non spiega in che modo il client e il server ottengono la chiave della sessione segreta da usare nelle sessioni tra loro.
ms.assetid: 90ab0359-5079-49e9-809c-0c0005cc61bf
title: Distribuzione delle chiavi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f04a2968e8b7b978bc7b325d65b4a2acf08e1f6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103757010"
---
# <a name="key-distribution"></a><span data-ttu-id="6b4fa-103">Distribuzione delle chiavi</span><span class="sxs-lookup"><span data-stu-id="6b4fa-103">Key Distribution</span></span>

<span data-ttu-id="6b4fa-104">La tecnica di autenticazione con chiave privata non spiega in che modo il client e il server ottengono la [*chiave della sessione*](../secgloss/s-gly.md) segreta da usare nelle sessioni tra loro.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-104">The secret key authentication technique does not explain how the client and server get the secret [*session key*](../secgloss/s-gly.md) to use in sessions with each other.</span></span> <span data-ttu-id="6b4fa-105">Se sono persone, possono incontrarsi in segreto e accettare la chiave.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-105">If they are people, they could meet in secret and agree on the key.</span></span> <span data-ttu-id="6b4fa-106">Tuttavia, se il client è un programma in esecuzione su una workstation e il server è un servizio in esecuzione su un server di rete, il metodo non funzionerà.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-106">But if the client is a program running on a workstation and the server is a service running on a network server, that method will not work.</span></span>

<span data-ttu-id="6b4fa-107">Un client desidera comunicare con molti server e dovrà avere chiavi diverse per ognuno di essi.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-107">A client will want to communicate with many servers and will need different keys for each of them.</span></span> <span data-ttu-id="6b4fa-108">Un server comunica con molti client e necessita di chiavi diverse per ognuno di essi.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-108">A server communicates with many clients and needs different keys for each of them, as well.</span></span> <span data-ttu-id="6b4fa-109">Se ogni client necessita di una chiave diversa per ogni server e ogni server necessita di una chiave diversa per ogni client, la distribuzione delle chiavi diventa un problema.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-109">If each client needs a different key for every server, and each server needs a different key for every client, key distribution becomes a problem.</span></span> <span data-ttu-id="6b4fa-110">Inoltre, la necessità di archiviare e proteggere molte chiavi in molti computer comporta un enorme rischio per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-110">In addition, the need to store and protect many keys on many computers creates an enormous security risk.</span></span>

<span data-ttu-id="6b4fa-111">Il nome del [*protocollo Kerberos*](../secgloss/k-gly.md) suggerisce la soluzione al problema di distribuzione delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-111">The name of the [*Kerberos protocol*](../secgloss/k-gly.md) suggests its solution to the problem of key distribution.</span></span> <span data-ttu-id="6b4fa-112">Kerberos (o Cerbero) era una figura della mitologia greca classica, un cane feroce e a tre punte che ha mantenuto gli intrusi nell'entrare nel mondo.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-112">Kerberos (or Cerberus) was a figure in classical Greek mythology—a fierce, three-headed dog who kept living intruders from entering the Underworld.</span></span> <span data-ttu-id="6b4fa-113">Come il mitico Guard, il protocollo Kerberos è costituito da tre intestazioni: un client, un server e una terza parte attendibile per la mediazione.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-113">Like the mythical guard, the Kerberos protocol has three heads: a client, a server, and a trusted third party to mediate between them.</span></span> <span data-ttu-id="6b4fa-114">L'intermediario attendibile in questo protocollo è il Centro distribuzione chiavi (KDC).</span><span class="sxs-lookup"><span data-stu-id="6b4fa-114">The trusted intermediary in this protocol is the Key Distribution Center (KDC).</span></span>

<span data-ttu-id="6b4fa-115">Il KDC è un servizio in esecuzione su un server fisicamente protetto.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-115">The KDC is a service running on a physically secure server.</span></span> <span data-ttu-id="6b4fa-116">Gestisce un database con le informazioni sull'account per tutte le [*entità di sicurezza*](../secgloss/s-gly.md) nell'area di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-116">It maintains a database with account information for all [*security principals*](../secgloss/s-gly.md) in its realm.</span></span> <span data-ttu-id="6b4fa-117">Un'area di autenticazione è l'equivalente Kerberos di un dominio di Windows.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-117">A realm is the Kerberos equivalent of a domain in Windows.</span></span>

<span data-ttu-id="6b4fa-118">Insieme ad altre informazioni su ogni entità di sicurezza, il KDC archivia una chiave crittografica nota solo per l'entità e il KDC.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-118">Along with other information about each security principal, the KDC stores a cryptographic key known only to the principal and the KDC.</span></span> <span data-ttu-id="6b4fa-119">Si tratta della [*chiave master*](../secgloss/m-gly.md) utilizzata negli scambi tra ciascuna entità di sicurezza e il KDC.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-119">This is the [*master key*](../secgloss/m-gly.md) used in exchanges between each security principal and the KDC.</span></span> <span data-ttu-id="6b4fa-120">Nella maggior parte delle implementazioni del protocollo Kerberos, questa chiave master viene derivata utilizzando una funzione [*hash*](../secgloss/h-gly.md) della password di un'entità di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-120">In most implementations of the Kerberos protocol, this master key is derived using a [*hash*](../secgloss/h-gly.md) function from a security principal's password.</span></span>

<span data-ttu-id="6b4fa-121">Quando un client desidera creare una connessione protetta con un server, il client inizia inviando una richiesta al KDC, non al server che desidera raggiungere.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-121">When a client wants to create a secure connection with a server, the client begins by sending a request to the KDC, not to the server that it wants to reach.</span></span> <span data-ttu-id="6b4fa-122">Il KDC crea e invia al client una chiave di [*sessione*](../secgloss/s-gly.md) univoca per il client e un server da usare per l'autenticazione reciproca.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-122">The KDC creates and sends to the client a unique [*session key*](../secgloss/s-gly.md) for the client and a server to use to authenticate each other.</span></span> <span data-ttu-id="6b4fa-123">Il KDC può accedere sia alla chiave master del client che alla chiave master del server.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-123">The KDC has access to both the client's master key and the server's master key.</span></span> <span data-ttu-id="6b4fa-124">Il KDC crittografa la copia del server della chiave della sessione utilizzando la chiave master del server e la copia del client utilizzando la chiave master del client.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-124">The KDC encrypts the server's copy of the session key using the server's master key, and the client's copy using the client's master key.</span></span>

<span data-ttu-id="6b4fa-125">Il KDC può svolgere il proprio ruolo di intermediario attendibile inviando la chiave della sessione direttamente a ognuna delle entità di sicurezza interattive, ma in pratica questa procedura non funzionerà per diversi motivi.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-125">The KDC could fulfill its role as trusted intermediary by sending the session key directly to each of the security principals involved, but in practice this procedure will not work, for a number of reasons.</span></span> <span data-ttu-id="6b4fa-126">Al contrario, il KDC invia entrambe le chiavi della sessione crittografata al client.</span><span class="sxs-lookup"><span data-stu-id="6b4fa-126">Instead, the KDC sends both encrypted session keys to the client.</span></span> <span data-ttu-id="6b4fa-127">La chiave della sessione per il server è inclusa in un [ticket di sessione](session-tickets.md).</span><span class="sxs-lookup"><span data-stu-id="6b4fa-127">The session key for the server is included in a [session ticket](session-tickets.md).</span></span>

 

 
