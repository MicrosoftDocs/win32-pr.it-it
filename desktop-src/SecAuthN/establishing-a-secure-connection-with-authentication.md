---
description: In un protocollo dell'applicazione client/server, un server viene associato a una porta di comunicazione, ad esempio un socket o un'interfaccia RPC.
ms.assetid: 176d4ca5-83dd-42ef-b116-227d4badc0dd
title: Stabilire una connessione protetta con l'autenticazione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0a43483893c8dcf56e6db6b3c7d7aa1451bf9540
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106317084"
---
# <a name="establishing-a-secure-connection-with-authentication"></a><span data-ttu-id="a099c-103">Stabilire una connessione protetta con l'autenticazione</span><span class="sxs-lookup"><span data-stu-id="a099c-103">Establishing a Secure Connection with Authentication</span></span>

<span data-ttu-id="a099c-104">In un [*protocollo dell'applicazione*](/windows/desktop/SecGloss/a-gly)client/server, un server viene associato a una porta di comunicazione, ad esempio un socket o un'interfaccia RPC.</span><span class="sxs-lookup"><span data-stu-id="a099c-104">In a client/server [*application protocol*](/windows/desktop/SecGloss/a-gly), a server binds to a communication port such as a socket or an RPC interface.</span></span> <span data-ttu-id="a099c-105">Il server attende quindi che un client si connetta e chieda il servizio.</span><span class="sxs-lookup"><span data-stu-id="a099c-105">The server then waits for a client to connect and request service.</span></span> <span data-ttu-id="a099c-106">Il ruolo di sicurezza alla configurazione della connessione è due volte nel caso dell'autenticazione reciproca:</span><span class="sxs-lookup"><span data-stu-id="a099c-106">The role of security at connection setup is two-fold in the case of mutual authentication:</span></span>

-   <span data-ttu-id="a099c-107">Autenticazione client da parte del server.</span><span class="sxs-lookup"><span data-stu-id="a099c-107">Client authentication by the server.</span></span>
-   <span data-ttu-id="a099c-108">Autenticazione del server da parte del client.</span><span class="sxs-lookup"><span data-stu-id="a099c-108">Server authentication by the client.</span></span>

<span data-ttu-id="a099c-109">I componenti client e server di un'applicazione di trasporto utilizzano un [*pacchetto di sicurezza*](/windows/desktop/SecGloss/s-gly) per stabilire una connessione sicura per la trasmissione dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="a099c-109">The client and server components of a transport application use a [*security package*](/windows/desktop/SecGloss/s-gly) to establish a secure connection for transmitting messages.</span></span> <span data-ttu-id="a099c-110">Il primo passaggio per stabilire una connessione sicura consiste nel creare un [*contesto di sicurezza*](/windows/desktop/SecGloss/s-gly). ovvero una struttura di dati opaca che contiene i dati di sicurezza relativi a una connessione, ad esempio una [*chiave di sessione*](/windows/desktop/SecGloss/s-gly) e la durata della sessione.</span><span class="sxs-lookup"><span data-stu-id="a099c-110">The first step in establishing a secure connection is to create a [*security context*](/windows/desktop/SecGloss/s-gly); that is, an opaque data structure that contains the security data relevant to a connection, such as a [*session key*](/windows/desktop/SecGloss/s-gly) and the duration of the session.</span></span>

<span data-ttu-id="a099c-111">Un contesto di sicurezza è essenzialmente un messaggio del pacchetto di sicurezza associato al client al pacchetto di sicurezza associato al server.</span><span class="sxs-lookup"><span data-stu-id="a099c-111">A security context is essentially a message from the security package associated with the client to the security package associated with the server.</span></span> <span data-ttu-id="a099c-112">Di conseguenza, la creazione di un contesto di sicurezza richiede in genere sia il client che il server per effettuare chiamate ai rispettivi pacchetti di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="a099c-112">Consequently, creating a security context typically requires both client and server to make calls to their respective security packages.</span></span> <span data-ttu-id="a099c-113">Per ulteriori informazioni sulle funzioni di contesto, vedere [gestione del contesto](authentication-functions.md).</span><span class="sxs-lookup"><span data-stu-id="a099c-113">For more information on context functions, see [Context Management](authentication-functions.md).</span></span>

<span data-ttu-id="a099c-114">Il protocollo utilizzato per stabilire una connessione autenticata protetta comporta lo scambio di uno o più "token di sicurezza" tra il client e il server.</span><span class="sxs-lookup"><span data-stu-id="a099c-114">The protocol used to establish a secure, authenticated connection involves the exchange of one or more "security tokens" between the client and the server.</span></span> <span data-ttu-id="a099c-115">Questi token vengono inviati come messaggi opachi dai due lati insieme a qualsiasi altra informazione specifica del [*protocollo dell'applicazione*](/windows/desktop/SecGloss/a-gly).</span><span class="sxs-lookup"><span data-stu-id="a099c-115">These tokens are sent as opaque messages by the two sides along with any other [*application protocol*](/windows/desktop/SecGloss/a-gly)-specific information.</span></span> <span data-ttu-id="a099c-116">Come messaggio opaco, il token viene ricevuto da una funzione del pacchetto di sicurezza da parte del client, che non è in grado di interpretarla o modificarla e di inviarla come messaggio al server.</span><span class="sxs-lookup"><span data-stu-id="a099c-116">As an opaque message, the token is received from a security package function by the client, which cannot interpret or change it, and forwarded as a message to the server.</span></span> <span data-ttu-id="a099c-117">Il token è anche opaco per il server, che non può interpretare né modificare il token.</span><span class="sxs-lookup"><span data-stu-id="a099c-117">The token is also opaque to the server, which can neither interpret nor change the token.</span></span> <span data-ttu-id="a099c-118">Il server invia il token opaco al relativo pacchetto di sicurezza per l'interpretazione.</span><span class="sxs-lookup"><span data-stu-id="a099c-118">The server forwards the opaque token to its security package for interpretation.</span></span> <span data-ttu-id="a099c-119">Il pacchetto informa quindi il server dell'autenticazione client o l'esito negativo dell'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a099c-119">The package then informs the server of the client authentication or failure to authenticate.</span></span>

<span data-ttu-id="a099c-120">Il client riceve il token del server in un messaggio, recupera il token dal messaggio ricevuto e utilizza tale token in una chiamata al relativo pacchetto di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="a099c-120">The client receives the server's token in a message, retrieves the token from the received message, and uses that token in a call to its security package.</span></span> <span data-ttu-id="a099c-121">Il client chiama quindi di nuovo il pacchetto di sicurezza che indica se è stata stabilita una connessione protetta o se sono necessari altri scambi prima che una connessione protetta sia pronta.</span><span class="sxs-lookup"><span data-stu-id="a099c-121">The client then calls the security package again indicating whether a secure connection has been established or whether further exchanges are needed before a secure connection is ready.</span></span> <span data-ttu-id="a099c-122">In teoria, non esiste alcun limite al numero di scambi di token di sicurezza necessari.</span><span class="sxs-lookup"><span data-stu-id="a099c-122">Theoretically, there is no limit to the number of exchanges of security tokens needed.</span></span> <span data-ttu-id="a099c-123">In pratica, è necessario solo un numero limitato di scambi.</span><span class="sxs-lookup"><span data-stu-id="a099c-123">In practice, only a limited number of exchanges is required.</span></span> <span data-ttu-id="a099c-124">L'autenticazione NTLM è basata sullo schema di richiesta/risposta e utilizza tre gambe per autenticare un client nel server.</span><span class="sxs-lookup"><span data-stu-id="a099c-124">NTLM authentication is based on the challenge/response scheme, and uses three legs to authenticate a client to the server.</span></span> <span data-ttu-id="a099c-125">Il protocollo [*Kerberos*](/windows/desktop/SecGloss/k-gly) versione 5,0 può richiedere scambi di messaggi aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="a099c-125">The [*Kerberos*](/windows/desktop/SecGloss/k-gly) version 5.0 protocol can require additional message exchanges.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a099c-126">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="a099c-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a099c-127">Inizializzazione del contesto client</span><span class="sxs-lookup"><span data-stu-id="a099c-127">Client Context Initialization</span></span>](client-context-initialization.md)
</dt> <dt>

[<span data-ttu-id="a099c-128">Inizializzazione del contesto server</span><span class="sxs-lookup"><span data-stu-id="a099c-128">Server Context Initialization</span></span>](server-context-initialization.md)
</dt> </dl>

 

 
