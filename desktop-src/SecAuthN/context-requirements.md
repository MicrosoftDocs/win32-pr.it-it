---
description: I requisiti di contesto vengono espressi come combinazione di flag di bit passati alla funzione InitializeSecurityContext (General) o AcceptSecurityContext (General).
ms.assetid: 4a44b829-4202-46c0-b17e-04943fa067ab
title: Requisiti di contesto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4f15baafe2d6dc9d9bf383fecdd8cf30c387d3def16089128346ee60d79d0fc
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/11/2021
ms.locfileid: "119008939"
---
# <a name="context-requirements"></a>Requisiti di contesto

I requisiti di contesto vengono espressi come combinazione di flag di bit passati alla funzione [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) o [**AcceptSecurityContext (General).**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) Questi flag influiscono [*sul contesto*](/windows/desktop/SecGloss/c-gly) in diversi modi. Non tutti i flag si applicano a tutti i contesti. Alcuni sono validi solo per il server, altri solo per il client.

Il chiamante usa il parametro *fContextReq* della chiamata [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) o [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) per specificare un set di flag che indicano le funzionalità necessarie. Quando la funzione viene restituita, il *parametro pfContextAttr* indica gli attributi del contesto stabilito. Il chiamante determina se gli attributi di contesto finali sono accettabili.

I flag richiesti da o restituiti [**da InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) sono preceduti dal prefisso ISC. Quelli richiesti da o restituiti da [**AcceptSecurityContext (Generale)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) sono preceduti da ASC. I flag passati in una funzione includono REQ, mentre i flag restituiti includono RET. Ad esempio, un flag di richiesta per l'autenticazione reciproca passato a **InitializeSecurityContext (Generale)** è ISC \_ REQ \_ MUTUAL \_ AUTH. Un server che richiede l'autenticazione reciproca passa ASC \_ REQ \_ MUTUAL \_ AUTH ad **AcceptSecurityContext (Generale).** Se viene ottenuta l'autenticazione reciproca, **InitializeSecurityContext (Generale)** restituisce ISC \_ RET MUTUAL AUTH e \_ \_ **AcceptSecurityContext (Generale)** restituisce ASC \_ RET \_ MUTUAL \_ AUTH. Se il chiamante richiede [](/windows/desktop/SecGloss/s-gly) l'autenticazione reciproca, ma il pacchetto di sicurezza indica che non può essere eseguito, il chiamante deve decidere se annullare il contesto o continuare.

Nella tabella seguente vengono descritti i vari flag dei requisiti di contesto.



| Flag                             | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Delegato<br/>              | Il server nell'applicazione di trasporto può compilare nuovi contesti di sicurezza che rappresentano il client che verrà accettato da altri server come contesti del client. Il delegato funziona solo se è impostata \_ l'autenticazione MUTUAL. DELEGATE è attualmente supportato solo da [*Kerberos.*](/windows/desktop/SecGloss/k-gly) Kerberos delega inoltre solo a un server con il flag TRUSTED \_ FOR \_ DELEGATION. Non usare questo flag per la [*delega vincolata.*](/windows/desktop/SecGloss/c-gly)<br/> |
| AUTENTICAZIONE \_ RECIPROCA<br/>          | Le parti che comunicano devono autenticare le rispettive identità tra loro. Senza MUTUAL \_ AUTH, il client autentica la propria identità nel server. Con MUTUAL \_ AUTH, il server deve anche autenticare la propria identità nel client.<br/> Quando si usa il pacchetto di sicurezza [*Schannel,*](/windows/desktop/SecGloss/s-gly) il server imposta la costante **ASC \_ RET \_ MUTUAL \_ AUTH** solo nell'ultima chiamata ad [**AcceptSecurityContext (Negotiate)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext), dopo il completamento del mapping dei certificati.<br/>           |
| RIESEGUI \_ RILEVAMENTO<br/>        | Il [*pacchetto di sicurezza*](/windows/desktop/SecGloss/s-gly) rileva i pacchetti riprodotti e notifica al chiamante se un pacchetto è stato riprodotto. L'uso di questo flag implica tutte le condizioni specificate dal flag INTEGRITY.<br/>                                                                                                                                                                                                                                                                                                                      |
| RILEVAMENTO \_ SEQUENZA<br/>      | Il contesto deve essere autorizzato a rilevare il recapito non in ordine dei pacchetti in un secondo momento tramite le funzioni di supporto dei messaggi. L'uso di questo flag implica tutte le condizioni specificate dal flag INTEGRITY.<br/>                                                                                                                                                                                                                                                                                                                                                                                             |
| Riservatezza<br/>       | Il contesto può proteggere i dati durante il transito usando le funzioni [**EncryptMessage (Generale)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) e [**DecryptMessage (Generale).**](/windows/win32/api/sspi/nf-sspi-decryptmessage) Il flag CONFIDENTIALITY non funziona se il contesto generato è per l'account Guest.<br/>                                                                                                                                                                                                                                                                                                      |
| USARE \_ LA CHIAVE DI \_ SESSIONE<br/>     | È necessario [*negoziare una*](/windows/desktop/SecGloss/s-gly) nuova chiave di sessione.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| RICHIEDI \_ \_ CREDS<br/>    | Se il client è un utente interattivo, il pacchetto di sicurezza deve, se possibile, richiedere all'utente le [*credenziali appropriate.*](/windows/desktop/SecGloss/c-gly)<br/>                                                                                                                                                                                                                                                                                                                                                                                          |
| USARE \_ LE \_ CRED FORNITE<br/>  | Le informazioni sulle credenziali specifiche del pacchetto sono disponibili nel buffer di input. Il pacchetto di sicurezza può usare [*queste credenziali per*](/windows/desktop/SecGloss/c-gly) autenticare la connessione.<br/>                                                                                                                                                                                                                                                                                                                                                                |
| SALVARE \_ LE \_ CRED FORNITE<br/> | Le credenziali fornite devono essere memorizzate nella cache con le credenziali supplementari.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ALLOCARE \_ MEMORIA<br/>      | Il [*pacchetto di sicurezza deve*](/windows/desktop/SecGloss/s-gly) allocare memoria. Il chiamante deve infine chiamare la [**funzione FreeContextBuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer) per liberare la memoria allocata dal pacchetto di sicurezza.<br/>                                                                                                                                                                                                                                                                                                                      |
| USARE \_ LO STILE DCE \_<br/>       | Il chiamante prevede una transazione di autenticazione a tre [*livelli.*](/windows/desktop/SecGloss/t-gly)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Datagramma<br/>              | [*È necessario usare*](/windows/desktop/SecGloss/d-gly) la semantica dei datagrammi. Per altre informazioni, vedere [Contesti dei datagrammi](datagram-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CONNECTION<br/>            | È necessario usare la semantica di connessione. Per altre informazioni, vedere [Contesti orientati alla connessione](connection-oriented-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Stream<br/>                | È necessario usare la semantica di flusso. Per altre informazioni, vedere [Contesti di flusso](stream-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ERRORE \_ ESTESO<br/>       | Se il contesto ha esito negativo, è necessario generare messaggi di risposta di errore per il peer.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Integrità<br/>             | L'integrità del buffer può essere verificata, ma non è abilitato il rilevamento della sequenziazione o della risposta.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| NESSUNA \_ INTEGRITÀ<br/>         | Il **requisito INTEGRITY** viene ignorato.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Identificare<br/>              | Quando un server rappresenta un contesto con questo flag impostato, tale rappresentazione produce un accesso estremamente limitato. La rappresentazione con il set IDENTIFY viene usata per verificare l'identità del client.<br/>                                                                                                                                                                                                                                                                                                                                                                                                       |



 

 

