---
description: I requisiti di contesto sono espressi come una combinazione di flag di bit passati alla funzione InitializeSecurityContext (generale) o AcceptSecurityContext (generale).
ms.assetid: 4a44b829-4202-46c0-b17e-04943fa067ab
title: Requisiti del contesto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86af5f71557bdd53229b5c8ed6afc14dc24edb46
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104232041"
---
# <a name="context-requirements"></a>Requisiti del contesto

I requisiti di contesto sono espressi come una combinazione di flag di bit passati alla funzione [**InitializeSecurityContext (generale)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) o [**AcceptSecurityContext (generale)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) . Questi flag influiscono sul [*contesto*](/windows/desktop/SecGloss/c-gly) in diversi modi. Non tutti i flag si applicano a tutti i contesti. Alcune sono valide solo per il server, altre solo per il client.

Il chiamante usa il parametro *fContextReq* della chiamata [**InitializeSecurityContext (generale)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) o [**AcceptSecurityContext (generale)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) per specificare un set di flag che indicano le funzionalità necessarie. Quando la funzione restituisce, il parametro *pfContextAttr* indica gli attributi del contesto stabilito. Il chiamante determina se gli attributi del contesto finale sono accettabili.

I flag richiesti o restituiti da [**InitializeSecurityContext (generale)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) sono preceduti da ISC. Quelle richieste da o restituite da [**AcceptSecurityContext (generale)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) sono precedute dal prefisso ASC. I flag passati in una funzione includono REQ, mentre i flag restituiti includono RET. Ad esempio, un flag di richiesta per l'autenticazione reciproca passata a **InitializeSecurityContext (generale)** è ISC \_ req \_ Mutual \_ auth. Un server che richiede l'autenticazione reciproca passa ASC \_ req \_ reciproal \_ auth a **AcceptSecurityContext (generale)**. Se viene eseguita l'autenticazione reciproca, **InitializeSecurityContext (General)** restituisce ISC \_ ret \_ reciproal \_ AUTH e **AcceptSecurityContext (General)** restituisce ASC \_ ret \_ reciproal \_ auth. Se il chiamante richiede l'autenticazione reciproca, ma il [*pacchetto di sicurezza*](/windows/desktop/SecGloss/s-gly) indica che non è possibile eseguirlo, il chiamante deve decidere se annullare il contesto o continuare.

Nella tabella seguente vengono descritti i diversi flag dei requisiti di contesto.



| Flag                             | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Delegato<br/>              | Il server nell'applicazione di trasporto può creare nuovi contesti di sicurezza che rappresenta il client che verranno accettati da altri server come contesti del client. Il delegato funziona solo se \_ è impostata l'autenticazione REciproca. Il delegato è attualmente supportato solo da [*Kerberos*](/windows/desktop/SecGloss/k-gly). Inoltre, Kerberos delegherà solo a un server in cui è presente il flag TRUSTED \_ per la \_ delega. Non usare questo flag per la [*delega vincolata*](/windows/desktop/SecGloss/c-gly).<br/> |
| autenticazione reciproca \_<br/>          | Le parti che comunicano devono autenticare le proprie identità tra loro. Senza l'autenticazione reciproca \_ , il client autentica la propria identità sul server. Con l'autenticazione reciproca \_ , il server deve anche autenticare l'identità del client.<br/> Quando si usa il pacchetto di sicurezza [*Schannel*](/windows/desktop/SecGloss/s-gly) , il server imposta la costante di **\_ \_ \_ autenticazione reciproca ASC RET** solo nell'ultima chiamata a [**AcceptSecurityContext (Negotiate)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext), dopo il completamento corretto del mapping dei certificati.<br/>           |
| rilevamento riproduzione \_<br/>        | Il [*pacchetto di sicurezza*](/windows/desktop/SecGloss/s-gly) rileva i pacchetti riprodotti e notifica al chiamante se un pacchetto è stato riprodotto. L'uso di questo flag implica tutte le condizioni specificate dal flag di integrità.<br/>                                                                                                                                                                                                                                                                                                                      |
| \_rilevamento sequenza<br/>      | Il contesto deve essere autorizzato a rilevare il recapito non ordinato dei pacchetti in un secondo momento tramite le funzioni di supporto del messaggio. L'utilizzo di questo flag implica tutte le condizioni specificate dal flag di integrità.<br/>                                                                                                                                                                                                                                                                                                                                                                                             |
| RISERVATEZZA<br/>       | Il contesto può proteggere i dati in transito usando le funzioni [**EncryptMessage (generale)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) e [**DecryptMessage (generale)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) . Il flag di RISERVAtezza non funziona se il contesto generato è per l'account Guest.<br/>                                                                                                                                                                                                                                                                                                      |
| USA \_ chiave di sessione \_<br/>     | È necessario negoziare una nuova [*chiave di sessione*](/windows/desktop/SecGloss/s-gly) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Richiedi \_ \_ credenziali<br/>    | Se il client è un utente interattivo, è necessario che il pacchetto di sicurezza consenta all'utente di richiedere le [*credenziali*](/windows/desktop/SecGloss/c-gly)appropriate.<br/>                                                                                                                                                                                                                                                                                                                                                                                          |
| USA \_ \_ credenziali fornito<br/>  | Le informazioni sulle credenziali specifiche del pacchetto sono disponibili nel buffer di input. Il pacchetto di sicurezza può utilizzare queste [*credenziali*](/windows/desktop/SecGloss/c-gly) per autenticare la connessione.<br/>                                                                                                                                                                                                                                                                                                                                                                |
| Salva \_ \_ credenziali fornito<br/> | Le credenziali specificate devono essere memorizzate nella cache con le credenziali aggiuntive.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| ALLOCA \_ memoria<br/>      | Il [*pacchetto di sicurezza*](/windows/desktop/SecGloss/s-gly) deve allocare memoria. Il chiamante deve chiamare la funzione [**FreeContextBuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer) per liberare la memoria allocata dal pacchetto di sicurezza.<br/>                                                                                                                                                                                                                                                                                                                      |
| USA \_ \_ stile DCE<br/>       | Il chiamante prevede una [*transazione*](/windows/desktop/SecGloss/t-gly)di autenticazione a tre gambe.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| DATAGRAMMA<br/>              | È necessario usare la semantica del [*datagramma*](/windows/desktop/SecGloss/d-gly) . Per ulteriori informazioni, vedere [contesti di datagramma](datagram-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CONNECTION<br/>            | È necessario usare la semantica di connessione. Per ulteriori informazioni, vedere [contesti orientati alla connessione](connection-oriented-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Stream<br/>                | È necessario usare la semantica del flusso. Per altre informazioni, vedere [contesti di flusso](stream-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| \_errore esteso<br/>       | Se il contesto ha esito negativo, è necessario generare messaggi di risposta di errore per il peer.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| INTEGRITÀ<br/>             | L'integrità del buffer può essere verificata, ma non è abilitato alcun rilevamento della sequenza o della risposta.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Nessuna \_ integrità<br/>         | Il requisito di **integrità** viene ignorato.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| IDENTIFICARE<br/>              | Quando un server rappresenta un contesto in cui è impostato questo flag, tale rappresentazione produce un accesso estremamente limitato. La rappresentazione con il set di identificazione viene utilizzata per verificare l'identità del client.<br/>                                                                                                                                                                                                                                                                                                                                                                                                       |



 

 

