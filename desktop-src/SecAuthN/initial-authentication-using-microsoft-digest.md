---
description: L'autenticazione iniziale si verifica quando il server riceve una risposta di verifica da un client.
ms.assetid: 8a5cf26b-0b2a-4f19-807b-9ec4d533cdd4
title: Autenticazione iniziale tramite Microsoft Digest
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8ed4960d947bbc60df962e6a9b71be755e158c8e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103884505"
---
# <a name="initial-authentication-using-microsoft-digest"></a><span data-ttu-id="a2ef6-103">Autenticazione iniziale tramite Microsoft Digest</span><span class="sxs-lookup"><span data-stu-id="a2ef6-103">Initial Authentication Using Microsoft Digest</span></span>

<span data-ttu-id="a2ef6-104">L'autenticazione iniziale si verifica quando il server riceve una risposta di verifica da un client.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-104">The initial authentication takes place when the server receives a challenge response from a client.</span></span> <span data-ttu-id="a2ef6-105">L'autenticazione di una risposta di richiesta in genere comporta un minimo di due server:</span><span class="sxs-lookup"><span data-stu-id="a2ef6-105">Authenticating a challenge response typically involves a minimum of two servers:</span></span>

-   <span data-ttu-id="a2ef6-106">Il server di origine: riceve la richiesta dal client e genera una richiesta di verifica e quindi riceve la risposta di verifica da parte del client che deve essere autenticata.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-106">The originating server—receives the request from the client and issues a challenge, and then receives the challenge response from the client which must be authenticated.</span></span>
-   <span data-ttu-id="a2ef6-107">Il server di autenticazione, riceve le informazioni di autorizzazione dal server di origine ed esegue l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-107">The authenticating server—receives authorization information from the originating server, and performs the authentication.</span></span> <span data-ttu-id="a2ef6-108">Questo server è in genere un controller di dominio che supporta più server di origine.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-108">This server is typically a domain controller that supports multiple originating servers.</span></span>

<span data-ttu-id="a2ef6-109">Quando il server di origine riceve una richiesta con un'intestazione di autorizzazione contenente una risposta di verifica del digest, l'autenticazione procede come segue:</span><span class="sxs-lookup"><span data-stu-id="a2ef6-109">When the originating server receives a request with an Authorization header containing a Digest challenge response, the authentication proceeds as follows:</span></span>

-   <span data-ttu-id="a2ef6-110">L'identità del server di origine viene verificata rispetto al server codificato nel parametro nonce della richiesta di verifica.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-110">The identity of the originating server is checked against the server encoded in the challenge's nonce.</span></span>
-   <span data-ttu-id="a2ef6-111">Il timestamp codificato nel parametro nonce viene controllato.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-111">The time stamp encoded in the nonce is checked.</span></span> <span data-ttu-id="a2ef6-112">Se il parametro nonce è scaduto e le informazioni sul nome utente e sulla password sono valide, il server di origine termina l'autenticazione emettendo una nuova richiesta digest con la direttiva obsoleta impostata su "true".</span><span class="sxs-lookup"><span data-stu-id="a2ef6-112">If the nonce has expired and the user name/password information is valid, the originating server ends the authentication by issuing a new Digest challenge with the stale directive set to "true".</span></span> <span data-ttu-id="a2ef6-113">Ciò indica che solo il parametro nonce è "obsoleto" e che il client può rispondere alla nuova richiesta utilizzando la password utilizzata nella risposta precedente.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-113">This indicates that only the nonce was "stale" and the client can respond to the new challenge using the password it used in the previous response.</span></span> <span data-ttu-id="a2ef6-114">Se il client riceve una nuova richiesta dopo l'invio della risposta alla richiesta di verifica non aggiornata, il client deve generare una nuova risposta alla richiesta di verifica.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-114">If the client receives a new challenge after sending the challenge response for the stale challenge, the client must generate a new challenge response.</span></span>
-   <span data-ttu-id="a2ef6-115">Se il rilevamento della riproduzione viene applicato, la direttiva NC (conteggio nonce) viene verificata rispetto al database della sessione nonce gestito dal server.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-115">If replay detection is enforced, the nc directive (nonce count) is checked against the nonce session database maintained by the server.</span></span>
-   <span data-ttu-id="a2ef6-116">Il server di autenticazione viene identificato e invia le informazioni di autorizzazione del client.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-116">The authenticating server is identified and sent the client's authorization information.</span></span>
-   <span data-ttu-id="a2ef6-117">Il server di autenticazione controlla l'identità del server codificato nel parametro nonce rispetto all'identità del server di origine.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-117">The authenticating server checks the identity of the server encoded in the nonce against the identity of the originating server.</span></span>
-   <span data-ttu-id="a2ef6-118">Il server di autenticazione, che è un controller di dominio, recupera la password dell'utente.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-118">The authenticating server, which is a domain controller, retrieves the user's password.</span></span>
-   <span data-ttu-id="a2ef6-119">Utilizzando le informazioni di autorizzazione, la password e l'identificazione del server di origine, il server di autenticazione calcola il valore che il client deve fornire nella direttiva di risposta della risposta alla richiesta di verifica.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-119">Using the authorization information, password, and originating server identification, the authenticating server computes the value that the client should have supplied in the challenge response's response directive.</span></span> <span data-ttu-id="a2ef6-120">Il server di autenticazione confronta il valore calcolato con la risposta del client per determinare l'esito positivo o negativo dell'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-120">The authenticating server compares the computed value to the client's response to determine the success or failure of the authentication.</span></span>

<span data-ttu-id="a2ef6-121">Se l'autenticazione ha esito positivo, il [*contesto di sicurezza*](../secgloss/s-gly.md) dell'utente e una chiave della [*sessione*](../secgloss/s-gly.md) digest vengono restituiti al server di origine.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-121">If authentication is successful, the user's [*security context*](../secgloss/s-gly.md) and a Digest [*session key*](../secgloss/s-gly.md) are returned to the originating server.</span></span> <span data-ttu-id="a2ef6-122">Se l'autenticazione ha esito negativo, il server di origine deve generare una risposta di errore.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-122">If authentication fails, the originating server must generate an error response.</span></span> <span data-ttu-id="a2ef6-123">Una volta completata l'autenticazione, il server di origine restituisce la risorsa richiesta al client.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-123">After a successful authentication the originating server returns the requested resource to the client.</span></span>

<span data-ttu-id="a2ef6-124">La chiave della sessione digest restituita dal server di autenticazione viene memorizzata nella cache dal server di origine per l'utilizzo nell'autenticazione delle richieste future.</span><span class="sxs-lookup"><span data-stu-id="a2ef6-124">The Digest session key returned by the authenticating server is cached by the originating server for use in authenticating future requests.</span></span> <span data-ttu-id="a2ef6-125">Per altre informazioni, vedere [autenticazione delle richieste successive con Microsoft Digest](authenticating-subsequent-requests-using-microsoft-digest.md).</span><span class="sxs-lookup"><span data-stu-id="a2ef6-125">For more information, see [Authenticating Subsequent Requests using Microsoft Digest](authenticating-subsequent-requests-using-microsoft-digest.md).</span></span>

 

 
