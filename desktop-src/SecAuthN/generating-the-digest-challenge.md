---
description: La richiesta di Microsoft Digest viene generata dalla chiamata iniziale del server alla funzione AcceptSecurityContext (digest).
ms.assetid: d33383c2-5c0d-401f-ab28-2a985f6508e0
title: Generazione della richiesta digest
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 511ec4f01c90acf08669835f9728cc711dfd1023
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104233284"
---
# <a name="generating-the-digest-challenge"></a><span data-ttu-id="11a09-103">Generazione della richiesta digest</span><span class="sxs-lookup"><span data-stu-id="11a09-103">Generating the Digest Challenge</span></span>

<span data-ttu-id="11a09-104">La richiesta di Microsoft Digest viene generata dalla chiamata iniziale del server alla funzione [**AcceptSecurityContext (digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="11a09-104">The Microsoft Digest challenge is generated by the server's initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="11a09-105">Questa chiamata di funzione genera un parametro nonce, ovvero un valore univoco che contiene informazioni che possono essere utilizzate per rilevare le violazioni di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="11a09-105">This function call generates a nonce, which is a unique value that contains information that can be used to detect security violations.</span></span> <span data-ttu-id="11a09-106">Questa chiamata genera anche un [*contesto di sicurezza*](/windows/desktop/SecGloss/s-gly) parziale usato per mantenere le informazioni sullo stato.</span><span class="sxs-lookup"><span data-stu-id="11a09-106">This call also generates a partial [*security context*](/windows/desktop/SecGloss/s-gly) which is used to maintain state information.</span></span> <span data-ttu-id="11a09-107">Quando si chiama **AcceptSecurityContext (digest)** si specificano i flag dei requisiti di contesto per controllare il comportamento di Microsoft Digest e per impostare la qualità della protezione.</span><span class="sxs-lookup"><span data-stu-id="11a09-107">When calling **AcceptSecurityContext (Digest)** you specify context requirements flags to control the behavior of Microsoft Digest and to set the quality of protection.</span></span> <span data-ttu-id="11a09-108">Per altre informazioni, vedere [requisiti del contesto di richiesta digest](#digest-challenge-context-requirements).</span><span class="sxs-lookup"><span data-stu-id="11a09-108">For more information, see [Digest Challenge Context Requirements](#digest-challenge-context-requirements).</span></span>

<span data-ttu-id="11a09-109">L'output della chiamata iniziale alla [*funzione*](/windows/desktop/SecGloss/c-gly) [**AcceptSecurityContext (digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) è un buffer di sicurezza che contiene un token inviato al client con una risposta HTTP 401 (accesso negato).</span><span class="sxs-lookup"><span data-stu-id="11a09-109">The output from the initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) [*function*](/windows/desktop/SecGloss/c-gly) is a security buffer that contains a token that is sent to the client with an HTTP 401 response (Access Denied).</span></span>

> [!Note]  
> <span data-ttu-id="11a09-110">Le chiamate a [**AcceptSecurityContext (digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) che non contengono informazioni nei buffer di input restituiscono una richiesta di digest.</span><span class="sxs-lookup"><span data-stu-id="11a09-110">Calls to [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) that do not contain information in the input buffers return a Digest challenge.</span></span>

 

## <a name="digest-challenge-context-requirements"></a><span data-ttu-id="11a09-111">Requisiti del contesto di richiesta digest</span><span class="sxs-lookup"><span data-stu-id="11a09-111">Digest Challenge Context Requirements</span></span>

<span data-ttu-id="11a09-112">I requisiti di contesto sono flag che determinano:</span><span class="sxs-lookup"><span data-stu-id="11a09-112">Context requirements are flags that determine:</span></span>

-   <span data-ttu-id="11a09-113">Indica se Microsoft Digest funziona come meccanismo SASL o protocollo di autenticazione HTTP.</span><span class="sxs-lookup"><span data-stu-id="11a09-113">Whether Microsoft Digest functions as a SASL mechanism or HTTP authentication protocol.</span></span>
-   <span data-ttu-id="11a09-114">Qualità della protezione supportata dal contesto di sicurezza condiviso dal client e dal server.</span><span class="sxs-lookup"><span data-stu-id="11a09-114">The quality of protection supported by the security context shared by the client and server.</span></span>

<span data-ttu-id="11a09-115">Per impostazione predefinita, Microsoft Digest funziona come meccanismo SASL.</span><span class="sxs-lookup"><span data-stu-id="11a09-115">By default, Microsoft Digest functions as a SASL mechanism.</span></span> <span data-ttu-id="11a09-116">Per usarlo per l'autenticazione HTTP, il \_ flag ASC req \_ http (0x10000000) deve essere impostato dal server.</span><span class="sxs-lookup"><span data-stu-id="11a09-116">To use it for HTTP authentication, the ASC\_REQ\_HTTP ( 0x10000000) flag must be set by the server.</span></span>

<span data-ttu-id="11a09-117">I requisiti di contesto vengono specificati come flag passati al parametro *fContextReq* della funzione [**AcceptSecurityContext (digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) .</span><span class="sxs-lookup"><span data-stu-id="11a09-117">Context requirements are specified as flags passed to the *fContextReq* parameter of the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="11a09-118">I flag influiscono sulla qualità della protezione del contesto di sicurezza controllando la direttiva qop nella richiesta di verifica.</span><span class="sxs-lookup"><span data-stu-id="11a09-118">The flags affect the security context's quality of protection by controlling the qop directive in the challenge.</span></span>

<span data-ttu-id="11a09-119">Per impostazione predefinita, la direttiva qop è impostata su "auth".</span><span class="sxs-lookup"><span data-stu-id="11a09-119">By default, the qop directive is set to "auth".</span></span> <span data-ttu-id="11a09-120">Per generare una richiesta di verifica che imposta la direttiva qop su "auth-int", il server deve specificare uno o più dei flag seguenti:</span><span class="sxs-lookup"><span data-stu-id="11a09-120">To generate a challenge that sets the qop directive to "auth-int", the server must specify one or more of the following flags:</span></span>

-   <span data-ttu-id="11a09-121">integrità di ASC \_ req \_</span><span class="sxs-lookup"><span data-stu-id="11a09-121">ASC\_REQ\_INTEGRITY</span></span>
-   <span data-ttu-id="11a09-122">\_ \_ rilevamento riesecuzione di ASC req \_</span><span class="sxs-lookup"><span data-stu-id="11a09-122">ASC\_REQ\_REPLAY\_DETECT</span></span>
-   <span data-ttu-id="11a09-123">\_ \_ rilevamento sequenza ASC \_ req</span><span class="sxs-lookup"><span data-stu-id="11a09-123">ASC\_REQ\_SEQUENCE\_DETECT</span></span>

<span data-ttu-id="11a09-124">Solo per SASL: generate una richiesta di verifica con la direttiva qop impostata su "auth-conf" specificando il \_ \_ flag di requisito del contesto di riservatezza ASC req.</span><span class="sxs-lookup"><span data-stu-id="11a09-124">For SASL only: Generate a challenge with the qop directive set to "auth-conf" by specifying the ASC\_REQ\_CONFIDENTIALITY context requirement flag.</span></span> <span data-ttu-id="11a09-125">Poiché questo flag non è valido per l'autenticazione HTTP, non può essere usato con il \_ \_ flag http ASC req.</span><span class="sxs-lookup"><span data-stu-id="11a09-125">Because this flag is not valid for HTTP authentication, it cannot be used with the ASC\_REQ\_HTTP flag.</span></span>

<span data-ttu-id="11a09-126">Per ulteriori informazioni sulla direttiva qop, vedere la pagina relativa alla [qualità della protezione e alle crittografie](quality-of-protection-and-ciphers.md).</span><span class="sxs-lookup"><span data-stu-id="11a09-126">For more information about the qop directive, see [Quality of Protection and Ciphers](quality-of-protection-and-ciphers.md).</span></span>

<span data-ttu-id="11a09-127">Per ulteriori informazioni sulle problematiche, vedere la pagina relativa ai [contenuti di una richiesta digest](contents-of-a-digest-challenge.md).</span><span class="sxs-lookup"><span data-stu-id="11a09-127">For more information about challenges, see [Contents of a Digest Challenge](contents-of-a-digest-challenge.md).</span></span>

 

 
