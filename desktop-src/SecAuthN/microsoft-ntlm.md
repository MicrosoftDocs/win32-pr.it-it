---
description: Windows Challenge/Response (NTLM) è il protocollo di autenticazione utilizzato nelle reti che includono sistemi che eseguono il sistema operativo Windows e su sistemi autonomi.
ms.assetid: 35a38858-d36f-45c9-95f4-2541a182f5ac
title: Microsoft NTLM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9723f24d5913adefe70d4e238de0591790a34bfd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104525861"
---
# <a name="microsoft-ntlm"></a><span data-ttu-id="34d6c-103">Microsoft NTLM</span><span class="sxs-lookup"><span data-stu-id="34d6c-103">Microsoft NTLM</span></span>

<span data-ttu-id="34d6c-104">Windows Challenge/Response (NTLM) è il protocollo di autenticazione utilizzato nelle reti che includono sistemi che eseguono il sistema operativo Windows e su sistemi autonomi.</span><span class="sxs-lookup"><span data-stu-id="34d6c-104">Windows Challenge/Response (NTLM) is the authentication protocol used on networks that include systems running the Windows operating system and on stand-alone systems.</span></span>

<span data-ttu-id="34d6c-105">Il [*pacchetto di protezione*](../secgloss/s-gly.md) [*Kerberos*](../secgloss/k-gly.md) Microsoft aggiunge maggiore sicurezza rispetto a NTLM ai sistemi in una rete.</span><span class="sxs-lookup"><span data-stu-id="34d6c-105">The Microsoft [*Kerberos*](../secgloss/k-gly.md) [*security package*](../secgloss/s-gly.md) adds greater security than NTLM to systems on a network.</span></span> <span data-ttu-id="34d6c-106">Sebbene Microsoft *Kerberos* sia il protocollo preferito, NTLM è ancora supportato.</span><span class="sxs-lookup"><span data-stu-id="34d6c-106">Although Microsoft *Kerberos* is the protocol of choice, NTLM is still supported.</span></span> <span data-ttu-id="34d6c-107">È necessario utilizzare NTLM anche per l'autenticazione di accesso nei sistemi autonomi.</span><span class="sxs-lookup"><span data-stu-id="34d6c-107">NTLM must also be used for logon authentication on stand-alone systems.</span></span> <span data-ttu-id="34d6c-108">Per ulteriori informazioni su Kerberos, vedere [Microsoft Kerberos](microsoft-kerberos.md).</span><span class="sxs-lookup"><span data-stu-id="34d6c-108">For more information about Kerberos, see [Microsoft Kerberos](microsoft-kerberos.md).</span></span>

<span data-ttu-id="34d6c-109">Le credenziali NTLM sono basate sui dati ottenuti durante il processo di accesso interattivo e sono costituite da un nome di dominio, un nome utente e un [*hash*](../secgloss/h-gly.md) unidirezionale della password dell'utente.</span><span class="sxs-lookup"><span data-stu-id="34d6c-109">NTLM credentials are based on data obtained during the interactive logon process and consist of a domain name, a user name, and a one-way [*hash*](../secgloss/h-gly.md) of the user's password.</span></span> <span data-ttu-id="34d6c-110">NTLM usa un protocollo di richiesta/risposta crittografato per autenticare un utente senza inviare la password dell'utente attraverso la rete.</span><span class="sxs-lookup"><span data-stu-id="34d6c-110">NTLM uses an encrypted challenge/response protocol to authenticate a user without sending the user's password over the wire.</span></span> <span data-ttu-id="34d6c-111">Al contrario, il sistema che richiede l'autenticazione deve eseguire un calcolo che dimostri che ha accesso alle credenziali NTLM protette.</span><span class="sxs-lookup"><span data-stu-id="34d6c-111">Instead, the system requesting authentication must perform a calculation that proves it has access to the secured NTLM credentials.</span></span>

<span data-ttu-id="34d6c-112">L'autenticazione NTLM interattiva in una rete prevede in genere due sistemi: un sistema client, dove l'utente richiede l'autenticazione e un controller di dominio, in cui vengono mantenute le informazioni relative alla password dell'utente.</span><span class="sxs-lookup"><span data-stu-id="34d6c-112">Interactive NTLM authentication over a network typically involves two systems: a client system, where the user is requesting authentication, and a domain controller, where information related to the user's password is kept.</span></span> <span data-ttu-id="34d6c-113">Autenticazione non interattiva, che può essere necessaria per consentire a un utente già connesso di accedere a una risorsa, ad esempio un'applicazione server, in genere comprende tre sistemi: un client, un server e un controller di dominio che esegue i calcoli di autenticazione per conto del server.</span><span class="sxs-lookup"><span data-stu-id="34d6c-113">Noninteractive authentication, which may be required to permit an already logged-on user to access a resource such as a server application, typically involves three systems: a client, a server, and a domain controller that does the authentication calculations on behalf of the server.</span></span>

<span data-ttu-id="34d6c-114">I passaggi seguenti presentano una struttura dell'autenticazione non interattiva NTLM.</span><span class="sxs-lookup"><span data-stu-id="34d6c-114">The following steps present an outline of NTLM noninteractive authentication.</span></span> <span data-ttu-id="34d6c-115">Il primo passaggio fornisce le credenziali NTLM dell'utente e si verifica solo come parte del processo di autenticazione interattiva (accesso).</span><span class="sxs-lookup"><span data-stu-id="34d6c-115">The first step provides the user's NTLM credentials and occurs only as part of the interactive authentication (logon) process.</span></span>

1.  <span data-ttu-id="34d6c-116">(Solo autenticazione interattiva) Un utente accede a un computer client e fornisce un nome di dominio, un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="34d6c-116">(Interactive authentication only) A user accesses a client computer and provides a domain name, user name, and password.</span></span> <span data-ttu-id="34d6c-117">Il client calcola un [*hash*](../secgloss/h-gly.md) crittografico della password ed elimina la password effettiva.</span><span class="sxs-lookup"><span data-stu-id="34d6c-117">The client computes a cryptographic [*hash*](../secgloss/h-gly.md) of the password and discards the actual password.</span></span>
2.  <span data-ttu-id="34d6c-118">Il client invia il nome utente al server (in [*testo non crittografato*](../secgloss/p-gly.md)).</span><span class="sxs-lookup"><span data-stu-id="34d6c-118">The client sends the user name to the server (in [*plaintext*](../secgloss/p-gly.md)).</span></span>
3.  <span data-ttu-id="34d6c-119">Il server genera un numero casuale a 16 byte, denominato *Challenge* o [*nonce*](../secgloss/n-gly.md), e lo invia al client.</span><span class="sxs-lookup"><span data-stu-id="34d6c-119">The server generates a 16-byte random number, called a *challenge* or [*nonce*](../secgloss/n-gly.md), and sends it to the client.</span></span>
4.  <span data-ttu-id="34d6c-120">Il client crittografa questa richiesta con l'hash della password dell'utente e restituisce il risultato al server.</span><span class="sxs-lookup"><span data-stu-id="34d6c-120">The client encrypts this challenge with the hash of the user's password and returns the result to the server.</span></span> <span data-ttu-id="34d6c-121">Questa operazione viene chiamata *risposta*.</span><span class="sxs-lookup"><span data-stu-id="34d6c-121">This is called the *response*.</span></span>
5.  <span data-ttu-id="34d6c-122">Il server invia i seguenti tre elementi al controller di dominio:</span><span class="sxs-lookup"><span data-stu-id="34d6c-122">The server sends the following three items to the domain controller:</span></span>

    -   <span data-ttu-id="34d6c-123">Nome utente</span><span class="sxs-lookup"><span data-stu-id="34d6c-123">User name</span></span>
    -   <span data-ttu-id="34d6c-124">Richiesta di verifica inviata al client</span><span class="sxs-lookup"><span data-stu-id="34d6c-124">Challenge sent to the client</span></span>
    -   <span data-ttu-id="34d6c-125">Risposta ricevuta dal client</span><span class="sxs-lookup"><span data-stu-id="34d6c-125">Response received from the client</span></span>

6.  <span data-ttu-id="34d6c-126">Il controller di dominio utilizza il nome utente per recuperare l'hash della password dell'utente dal database di gestione account di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="34d6c-126">The domain controller uses the user name to retrieve the hash of the user's password from the Security Account Manager database.</span></span> <span data-ttu-id="34d6c-127">Usa questo hash della password per crittografare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="34d6c-127">It uses this password hash to encrypt the challenge.</span></span>
7.  <span data-ttu-id="34d6c-128">Il controller di dominio confronta la richiesta crittografata calcolata (nel passaggio 6) con la risposta calcolata dal client (nel passaggio 4).</span><span class="sxs-lookup"><span data-stu-id="34d6c-128">The domain controller compares the encrypted challenge it computed (in step 6) to the response computed by the client (in step 4).</span></span> <span data-ttu-id="34d6c-129">Se sono identici, l'autenticazione ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="34d6c-129">If they are identical, authentication is successful.</span></span>

<span data-ttu-id="34d6c-130">L'applicazione non deve accedere direttamente al [*pacchetto di sicurezza*](../secgloss/s-gly.md) NTLM. deve invece usare il pacchetto di sicurezza [*Negotiate*](../secgloss/n-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="34d6c-130">Your application should not access the NTLM [*security package*](../secgloss/s-gly.md) directly; instead, it should use the [*Negotiate*](../secgloss/n-gly.md) security package.</span></span> <span data-ttu-id="34d6c-131">Negotiate consente all'applicazione di sfruttare i protocolli di [*sicurezza*](../secgloss/s-gly.md) più avanzati se sono supportati dai sistemi interessati dall'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="34d6c-131">Negotiate allows your application to take advantage of more advanced [*security protocols*](../secgloss/s-gly.md) if they are supported by the systems involved in the authentication.</span></span> <span data-ttu-id="34d6c-132">Attualmente, il pacchetto di sicurezza Negotiate seleziona tra [*Kerberos*](../secgloss/k-gly.md) e NTLM.</span><span class="sxs-lookup"><span data-stu-id="34d6c-132">Currently, the Negotiate security package selects between [*Kerberos*](../secgloss/k-gly.md) and NTLM.</span></span> <span data-ttu-id="34d6c-133">Negotiate seleziona Kerberos a meno che non possa essere usato da uno dei sistemi interessati dall'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="34d6c-133">Negotiate selects Kerberos unless it cannot be used by one of the systems involved in the authentication.</span></span>

 

 
