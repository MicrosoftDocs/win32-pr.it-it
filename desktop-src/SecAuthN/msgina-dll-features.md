---
description: Se si sta scrivendo un modulo GINA per sostituire la DLL standard di Microsoft GINA (MSGina.dll), è possibile fornire alcune o tutte le funzionalità di GINA standard.
ms.assetid: cd2ce7b7-6167-4451-9f6e-881676a2145c
title: Funzionalità di MSGina.dll
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51833ab92e47dad01c13df004797e3ab3552b09a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103883898"
---
# <a name="msginadll-features"></a><span data-ttu-id="ba046-103">Funzionalità di MSGina.dll</span><span class="sxs-lookup"><span data-stu-id="ba046-103">MSGina.dll Features</span></span>

<span data-ttu-id="ba046-104">Se si sta scrivendo un modulo [*Gina*](../secgloss/g-gly.md) per sostituire la dll standard di Microsoft gina (MSGina.dll), è possibile fornire alcune o tutte le funzionalità di Gina standard.</span><span class="sxs-lookup"><span data-stu-id="ba046-104">If you are writing a [*GINA*](../secgloss/g-gly.md) to replace the Microsoft standard GINA DLL (MSGina.dll), you may want to provide some or all of the standard GINA functionality.</span></span> <span data-ttu-id="ba046-105">Di seguito è riportato un elenco delle funzionalità standard e una breve descrizione del modo in cui vengono controllate.</span><span class="sxs-lookup"><span data-stu-id="ba046-105">Following is a list of standard features and a brief description of how they are controlled.</span></span>

> [!Note]  
> <span data-ttu-id="ba046-106">Le DLL GINA vengono ignorate in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="ba046-106">GINA DLLs are ignored in Windows Vista.</span></span>

 

<span data-ttu-id="ba046-107">I valori della chiave del registro di sistema controllano la disponibilità o il comportamento di molte di queste funzionalità standard di GINA.</span><span class="sxs-lookup"><span data-stu-id="ba046-107">Registry key values control the availability or behavior of many of these standard GINA features.</span></span> <span data-ttu-id="ba046-108">Se non specificato diversamente, questi valori di chiave appartengono alla chiave del registro di sistema Winlogon e hanno un tipo di valore \[ reg \_ SZ \] .</span><span class="sxs-lookup"><span data-stu-id="ba046-108">Unless otherwise noted, these key values belong to the Winlogon registry key and have a value type of \[REG\_SZ\].</span></span> <span data-ttu-id="ba046-109">Il percorso effettivo della chiave [*Winlogon*](../secgloss/w-gly.md) è:</span><span class="sxs-lookup"><span data-stu-id="ba046-109">The actual path of the [*Winlogon*](../secgloss/w-gly.md) key is:</span></span>

<span data-ttu-id="ba046-110">**\\HKEY \_ Local \_ Machine \\ software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Winlogon**</span><span class="sxs-lookup"><span data-stu-id="ba046-110">**\\HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon**</span></span>

-   <span data-ttu-id="ba046-111">**Finestra di dialogo Notifiche legali**</span><span class="sxs-lookup"><span data-stu-id="ba046-111">**Legal Notification Dialog Box**</span></span>

    <span data-ttu-id="ba046-112">In alcuni casi, è lecito per chiunque abbia accesso a una workstation per accedere e iniziare a lavorare a meno che non sia presente un avviso che indica che il sistema è solo per utenti autorizzati.</span><span class="sxs-lookup"><span data-stu-id="ba046-112">In some places, it is legal for anyone who has access to a workstation to log on and begin working unless there is a notice that indicates that the system is for authorized users only.</span></span> <span data-ttu-id="ba046-113">Inoltre, molti utenti vogliono visualizzare messaggi specifici della società prima dell'accesso normale.</span><span class="sxs-lookup"><span data-stu-id="ba046-113">Also, many users want company-specific messages displayed before normal logon.</span></span> <span data-ttu-id="ba046-114">GINA standard usa due valori della chiave del registro di sistema Winlogon per consentire a un sistema di visualizzare le informazioni prima dell'accesso.</span><span class="sxs-lookup"><span data-stu-id="ba046-114">The standard GINA uses two Winlogon registry key values to allow a system to display information before logon.</span></span> <span data-ttu-id="ba046-115">Se è presente un valore di chiave che contiene una stringa non null, viene visualizzata una finestra di dialogo di avviso legale prima della normale schermata iniziale.</span><span class="sxs-lookup"><span data-stu-id="ba046-115">If either key value is present and contains a non-null string, then a Legal Notice dialog box is displayed before the usual Welcome screen.</span></span> <span data-ttu-id="ba046-116">I nomi dei valori di chiave sono riportati nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="ba046-116">These key value names are shown in the following table.</span></span>

    

    | <span data-ttu-id="ba046-117">Nome valore chiave</span><span class="sxs-lookup"><span data-stu-id="ba046-117">Key value name</span></span>         | <span data-ttu-id="ba046-118">Contenuto</span><span class="sxs-lookup"><span data-stu-id="ba046-118">Contents</span></span>                                                            |
    |------------------------|---------------------------------------------------------------------|
    | <span data-ttu-id="ba046-119">**LegalNoticeCaption**</span><span class="sxs-lookup"><span data-stu-id="ba046-119">**LegalNoticeCaption**</span></span> | <span data-ttu-id="ba046-120">Stringa da visualizzare come didascalia della finestra di dialogo Note legali</span><span class="sxs-lookup"><span data-stu-id="ba046-120">The string to display as the caption of the legal notice dialog box</span></span> |
    | <span data-ttu-id="ba046-121">**LegalNoticeText**</span><span class="sxs-lookup"><span data-stu-id="ba046-121">**LegalNoticeText**</span></span>    | <span data-ttu-id="ba046-122">Stringa da visualizzare come messaggio della finestra di dialogo Note legali</span><span class="sxs-lookup"><span data-stu-id="ba046-122">The string to display as the message of the legal notice dialog box</span></span> |

    

     

-   <span data-ttu-id="ba046-123">**Visualizza ultimo nome utente**</span><span class="sxs-lookup"><span data-stu-id="ba046-123">**Display Last User Name**</span></span>

    <span data-ttu-id="ba046-124">Per impostazione predefinita, nella schermata di accesso viene visualizzato il nome dell'ultimo utente per accedere correttamente alla workstation.</span><span class="sxs-lookup"><span data-stu-id="ba046-124">By default, the logon screen displays the name of the last user to successfully log on to the workstation.</span></span> <span data-ttu-id="ba046-125">Questa funzionalità è controllata dal valore della chiave del registro di sistema **DontDisplayLastUserName** .</span><span class="sxs-lookup"><span data-stu-id="ba046-125">This feature is controlled by the **DontDisplayLastUserName** registry key value.</span></span> <span data-ttu-id="ba046-126">Se il valore di questa chiave è impostato su uno, il nome utente non viene visualizzato nella finestra di dialogo di accesso.</span><span class="sxs-lookup"><span data-stu-id="ba046-126">When this key value is set to one, the user name is not displayed in the logon dialog box.</span></span>

-   <span data-ttu-id="ba046-127">**Accesso automatico**</span><span class="sxs-lookup"><span data-stu-id="ba046-127">**Automatic Logon**</span></span>

    <span data-ttu-id="ba046-128">Questa funzionalità consente a un sistema di accedere automaticamente a un utente ogni volta che il sistema viene avviato utilizzando le informazioni predefinite e disabilitando la casella di accesso CTRL + ALT + CANC.</span><span class="sxs-lookup"><span data-stu-id="ba046-128">This feature allows a system to log on a user automatically every time the system starts by using default information and disabling the CTRL+ALT+DEL logon box.</span></span>

    <span data-ttu-id="ba046-129">Questa funzionalità Usa i valori seguenti della chiave Winlogon.</span><span class="sxs-lookup"><span data-stu-id="ba046-129">This feature uses the following values of the Winlogon key.</span></span>

    

    | <span data-ttu-id="ba046-130">Valore</span><span class="sxs-lookup"><span data-stu-id="ba046-130">Value</span></span>                 | <span data-ttu-id="ba046-131">Contenuto</span><span class="sxs-lookup"><span data-stu-id="ba046-131">Contents</span></span>                                           |
    |-----------------------|----------------------------------------------------|
    | <span data-ttu-id="ba046-132">**AutoAdminLogon**</span><span class="sxs-lookup"><span data-stu-id="ba046-132">**AutoAdminLogon**</span></span>    | <span data-ttu-id="ba046-133">1</span><span class="sxs-lookup"><span data-stu-id="ba046-133">1</span></span>                                                  |
    | <span data-ttu-id="ba046-134">**AutoLogonCount**</span><span class="sxs-lookup"><span data-stu-id="ba046-134">**AutoLogonCount**</span></span>    | <span data-ttu-id="ba046-135">Il numero di volte in cui eseguire un accesso automatico</span><span class="sxs-lookup"><span data-stu-id="ba046-135">The number of times to do an automatic logon</span></span>       |
    | <span data-ttu-id="ba046-136">**DefaultUserName**</span><span class="sxs-lookup"><span data-stu-id="ba046-136">**DefaultUserName**</span></span>   | <span data-ttu-id="ba046-137">Nome dell'account utente</span><span class="sxs-lookup"><span data-stu-id="ba046-137">The name of the user account</span></span>                       |
    | <span data-ttu-id="ba046-138">**DefaultDomainName**</span><span class="sxs-lookup"><span data-stu-id="ba046-138">**DefaultDomainName**</span></span> | <span data-ttu-id="ba046-139">Nome del dominio in cui si trova l'account utente</span><span class="sxs-lookup"><span data-stu-id="ba046-139">The name of the domain that the user account is in</span></span> |

    

     

    <span data-ttu-id="ba046-140">Se il valore della chiave **AutoAdminLogon** è presente e ne contiene uno e il valore della chiave **AutoLogonCount** non è presente, si verificherà un accesso automatico ogni volta che l'utente corrente si disconnette o il sistema viene riavviato.</span><span class="sxs-lookup"><span data-stu-id="ba046-140">If the **AutoAdminLogon** key value is present and contains a one, and the **AutoLogonCount** key value is not present, an automatic logon will occur every time the current user logs off or the system is restarted.</span></span> <span data-ttu-id="ba046-141">L'account a cui si è connessi viene specificato con i valori della chiave **DefaultUserName** e **DefaultDomainName** .</span><span class="sxs-lookup"><span data-stu-id="ba046-141">The account being logged onto is specified using the **DefaultUserName** and **DefaultDomainName** key values.</span></span> <span data-ttu-id="ba046-142">È possibile specificare la password per l'account in uno dei due modi seguenti.</span><span class="sxs-lookup"><span data-stu-id="ba046-142">The password for the account can be specified in one of two ways.</span></span> <span data-ttu-id="ba046-143">Per i computer che eseguono uno dei sistemi operativi Windows Server 2003 o Windows XP, la password deve essere archiviata come segreto tramite la funzione [**LsaStorePrivateData**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) .</span><span class="sxs-lookup"><span data-stu-id="ba046-143">For computers running one of the Windows Server 2003 or Windows XP operating systems, the password should be stored as a secret using the [**LsaStorePrivateData**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) function.</span></span> <span data-ttu-id="ba046-144">Per informazioni dettagliate, vedere [proteggere la password di accesso automatico](protecting-the-automatic-logon-password.md).</span><span class="sxs-lookup"><span data-stu-id="ba046-144">For details, see [Protecting the Automatic Logon Password](protecting-the-automatic-logon-password.md).</span></span> <span data-ttu-id="ba046-145">L'altro modo per archiviare la password è in testo non crittografato nella voce **DefaultPassword** della chiave Winlogon; per motivi di sicurezza, è consigliabile evitare questa tecnica.</span><span class="sxs-lookup"><span data-stu-id="ba046-145">The other way to store the password is in plaintext in the **DefaultPassword** entry of the Winlogon key; for security purposes, this technique should be avoided.</span></span> <span data-ttu-id="ba046-146">Se si archivia la password usando la funzione **LsaStorePrivateData** , non specificare una voce **DefaultPassword** nella chiave Winlogon.</span><span class="sxs-lookup"><span data-stu-id="ba046-146">If you store the password using the **LsaStorePrivateData** function, then do not provide a **DefaultPassword** entry in the Winlogon key.</span></span>

    <span data-ttu-id="ba046-147">Se il valore della chiave **AutoAdminLogon** è presente e ne contiene uno, e se il valore della chiave **AutoLogonCount** è presente e è diverso da zero, **AutoLogonCount** determinerà il numero di accessi automatici che si verificano.</span><span class="sxs-lookup"><span data-stu-id="ba046-147">If the **AutoAdminLogon** key value is present and contains a one, and if the **AutoLogonCount** key value is present and is not zero, **AutoLogonCount** will determine the number of automatic logons that occur.</span></span> <span data-ttu-id="ba046-148">Ogni volta che il sistema viene riavviato, il valore di **AutoLogonCount** verrà decrementato di uno, fino a quando non raggiunge zero.</span><span class="sxs-lookup"><span data-stu-id="ba046-148">Each time the system is restarted, the value of **AutoLogonCount** will be decremented by one, until it reaches zero.</span></span> <span data-ttu-id="ba046-149">Quando **AutoLogonCount** raggiunge zero, nessun account verrà connesso automaticamente, il valore della chiave **AutoLogonCount** e il valore della chiave **DefaultPassword** , se usato, verranno eliminati dal registro di sistema e **AutoAdminLogon** verrà impostato su zero.</span><span class="sxs-lookup"><span data-stu-id="ba046-149">When **AutoLogonCount** reaches zero, no account will be logged on automatically, the **AutoLogonCount** key value and **DefaultPassword** key value, if used, will be deleted from the registry, and **AutoAdminLogon** will be set to zero.</span></span>

    <span data-ttu-id="ba046-150">Per impostazione predefinita, è necessario un ulteriore avvertimento per l'uso di **AutoAdminLogon**, MSGina.dll controlla lo stato del tasto MAIUSC quando **AutoAdminLogon** è uno.</span><span class="sxs-lookup"><span data-stu-id="ba046-150">There is one additional caveat to using **AutoAdminLogon**: By default, MSGina.dll checks the state of the SHIFT key when **AutoAdminLogon** is one.</span></span> <span data-ttu-id="ba046-151">Se il tasto MAIUSC viene tenuto premuto durante il processo di avvio, MSGina.dll ignorerà il valore della chiave **AutoAdminLogon** e chiederà all'utente le informazioni di identificazione e autenticazione in modo interattivo.</span><span class="sxs-lookup"><span data-stu-id="ba046-151">If the SHIFT key is held down during the boot process, MSGina.dll will ignore the **AutoAdminLogon** key value and prompt the user for identification and authentication information interactively.</span></span> <span data-ttu-id="ba046-152">Questa funzionalità è utile quando si esegue il debug di un'applicazione dedicata.</span><span class="sxs-lookup"><span data-stu-id="ba046-152">This is a useful feature when you are debugging a dedicated application.</span></span> <span data-ttu-id="ba046-153">Per disabilitare il significato del tasto MAIUSC, impostare il valore della chiave **IgnoreShiftOverride** su uno.</span><span class="sxs-lookup"><span data-stu-id="ba046-153">To disable the meaning of the SHIFT key, set the **IgnoreShiftOverride** key value to one.</span></span>

-   <span data-ttu-id="ba046-154">**Consenti arresto non autenticato**</span><span class="sxs-lookup"><span data-stu-id="ba046-154">**Allow Unauthenticated Shutdown**</span></span>

    <span data-ttu-id="ba046-155">È possibile configurare il valore predefinito di [*Gina*](../secgloss/g-gly.md) per includere un pulsante di **arresto** nella finestra di dialogo di accesso.</span><span class="sxs-lookup"><span data-stu-id="ba046-155">You can configure the default [*GINA*](../secgloss/g-gly.md) to include a **Shutdown** button in the logon dialog box.</span></span> <span data-ttu-id="ba046-156">Questo consente agli utenti di arrestare il sistema senza prima effettuare l'accesso.</span><span class="sxs-lookup"><span data-stu-id="ba046-156">This lets users shut down the system without first logging on.</span></span> <span data-ttu-id="ba046-157">Il valore chiave seguente controlla se questo pulsante è incluso.</span><span class="sxs-lookup"><span data-stu-id="ba046-157">The following key value controls whether this button is included.</span></span>

    

    | <span data-ttu-id="ba046-158">Valore</span><span class="sxs-lookup"><span data-stu-id="ba046-158">Value</span></span>                    | <span data-ttu-id="ba046-159">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ba046-159">Description</span></span>                                           |
    |--------------------------|-------------------------------------------------------|
    | <span data-ttu-id="ba046-160">**ShutdownWithoutLogon**</span><span class="sxs-lookup"><span data-stu-id="ba046-160">**ShutdownWithoutLogon**</span></span> | <span data-ttu-id="ba046-161">Uno per includere il pulsante; zero per escludere il pulsante</span><span class="sxs-lookup"><span data-stu-id="ba046-161">One to include the button; zero to exclude the button</span></span> |

    

     

-   <span data-ttu-id="ba046-162">**AttivazioneUserinit.exe**</span><span class="sxs-lookup"><span data-stu-id="ba046-162">**Userinit.exe Activation**</span></span>

    <span data-ttu-id="ba046-163">Userinit.exe è un'applicazione eseguita da MSGina.dll quando l'utente ha effettuato l'accesso.</span><span class="sxs-lookup"><span data-stu-id="ba046-163">Userinit.exe is an application that is executed by MSGina.dll when the user has logged on.</span></span> <span data-ttu-id="ba046-164">Viene eseguito nel [*contesto*](../secgloss/c-gly.md) dell'utente appena connesso e sul desktop dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ba046-164">It runs in the newly logged-on user's [*context*](../secgloss/c-gly.md) and on the application desktop.</span></span> <span data-ttu-id="ba046-165">Lo scopo è quello di configurare l'ambiente dell'utente, tra cui il ripristino degli usi della rete, la definizione delle impostazioni del profilo, ad esempio i tipi di carattere e i colori dello schermo, nonché l'esecuzione di script</span><span class="sxs-lookup"><span data-stu-id="ba046-165">Its purpose is to set up the user's environment, including restoring network uses, establishing profile settings such as fonts and screen colors, and running logon scripts.</span></span> <span data-ttu-id="ba046-166">Al termine di queste attività, Userinit.exe esegue i programmi della shell utenti.</span><span class="sxs-lookup"><span data-stu-id="ba046-166">After completing those tasks, Userinit.exe executes the user shell programs.</span></span> <span data-ttu-id="ba046-167">I programmi della shell ereditano l'ambiente che Userinit.exe imposta.</span><span class="sxs-lookup"><span data-stu-id="ba046-167">The shell programs inherit the environment that Userinit.exe sets up.</span></span> <span data-ttu-id="ba046-168">I programmi shell specifici eseguiti Userinit.exe vengono archiviati nel valore della chiave della **Shell** sotto la chiave del registro di sistema Winlogon.</span><span class="sxs-lookup"><span data-stu-id="ba046-168">The specific shell programs that Userinit.exe executes are stored in the **Shell** key value under the Winlogon registry key.</span></span>

    <span data-ttu-id="ba046-169">Il valore della chiave della **Shell** può contenere un elenco delimitato da virgole di programmi da eseguire.</span><span class="sxs-lookup"><span data-stu-id="ba046-169">The **Shell** key value can contain a comma-separated list of programs to be executed.</span></span> <span data-ttu-id="ba046-170">Esplora risorse è il programma shell predefinito e verrà eseguito se il valore della chiave della **Shell** è null o non è presente.</span><span class="sxs-lookup"><span data-stu-id="ba046-170">Windows Explorer is the default shell program and will be executed if the **Shell** key value is null or not present.</span></span> <span data-ttu-id="ba046-171">Per impostazione predefinita, viene elencato Esplora risorse.</span><span class="sxs-lookup"><span data-stu-id="ba046-171">By default, Windows Explorer is listed.</span></span>

-   <span data-ttu-id="ba046-172">**Opzioni di sicurezza per l'accesso**</span><span class="sxs-lookup"><span data-stu-id="ba046-172">**Logged-On Security Options**</span></span>

    <span data-ttu-id="ba046-173">Quando si effettua l'accesso, se un utente immette una [*Secure Attention Sequence*](../secgloss/s-gly.md) (SAS), viene visualizzata una schermata delle opzioni di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="ba046-173">When logged on, if a user enters a [*secure attention sequence*](../secgloss/s-gly.md) (SAS), the user is presented with a security options screen.</span></span> <span data-ttu-id="ba046-174">Tra le opzioni elencate sono:</span><span class="sxs-lookup"><span data-stu-id="ba046-174">Among the options listed are:</span></span>

    -   <span data-ttu-id="ba046-175">Arrestare il sistema.</span><span class="sxs-lookup"><span data-stu-id="ba046-175">Shut down the system.</span></span>
    -   <span data-ttu-id="ba046-176">Disconnettersi.</span><span class="sxs-lookup"><span data-stu-id="ba046-176">Log off.</span></span>
    -   <span data-ttu-id="ba046-177">Modificare la password.</span><span class="sxs-lookup"><span data-stu-id="ba046-177">Change the password.</span></span>
    -   <span data-ttu-id="ba046-178">Passare all'elenco attività.</span><span class="sxs-lookup"><span data-stu-id="ba046-178">Go to the task list.</span></span>
    -   <span data-ttu-id="ba046-179">Bloccare la workstation.</span><span class="sxs-lookup"><span data-stu-id="ba046-179">Lock the workstation.</span></span>

    <span data-ttu-id="ba046-180">Una sostituzione GINA può fornire opzioni simili quando viene ricevuto un evento SAS mentre un utente è connesso.</span><span class="sxs-lookup"><span data-stu-id="ba046-180">A replacement GINA can provide similar options when a SAS event is received while a user is logged on.</span></span>

 

 
