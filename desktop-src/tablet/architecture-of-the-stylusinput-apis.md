---
description: Le API StylusInput consentono di interagire con il flusso di dati della penna del tablet. Per interagire con il flusso di dati, aggiungere un oggetto RealTimeStylus all'applicazione e aggiungere plug-in all'oggetto RealTimeStylus.
ms.assetid: 88bab0ab-df9f-4813-9a9f-9a137813f0b4
title: Architettura delle API StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: eeda6a6a0269e8306aed6a6b6de4c1bbe33bc46f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104131898"
---
# <a name="architecture-of-the-stylusinput-apis"></a><span data-ttu-id="757e3-104">Architettura delle API StylusInput</span><span class="sxs-lookup"><span data-stu-id="757e3-104">Architecture of the StylusInput APIs</span></span>

<span data-ttu-id="757e3-105">Le API StylusInput consentono di interagire con il flusso di dati della penna del tablet.</span><span class="sxs-lookup"><span data-stu-id="757e3-105">The StylusInput APIs allow you to interact with the tablet pen data stream.</span></span> <span data-ttu-id="757e3-106">Per interagire con il flusso di dati, aggiungere un oggetto [**RealTimeStylus**](realtimestylus-class.md) all'applicazione e aggiungere plug-in all'oggetto **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="757e3-106">To interact with the data stream add a [**RealTimeStylus**](realtimestylus-class.md) object to your application, and add plug-ins to the **RealTimeStylus** object.</span></span>

<span data-ttu-id="757e3-107">Nelle API StylusInput sono disponibili due plug-in.</span><span class="sxs-lookup"><span data-stu-id="757e3-107">Two plug-ins are provided in the StylusInput APIs.</span></span> <span data-ttu-id="757e3-108">L'oggetto [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) implementa l'interfaccia [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="757e3-108">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface.</span></span> <span data-ttu-id="757e3-109">L'oggetto **DynamicRenderer** esegue il rendering dell'input penna in tempo reale mentre viene disegnato.</span><span class="sxs-lookup"><span data-stu-id="757e3-109">The **DynamicRenderer** object renders the ink in real time, as it is being drawn.</span></span> <span data-ttu-id="757e3-110">L'oggetto [**GestureRecognizer**](gesturerecognizer-class.md) implementa le interfacce **IStylusSyncPlugin** e [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="757e3-110">The [**GestureRecognizer**](gesturerecognizer-class.md) object implements the **IStylusSyncPlugin** and [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interfaces.</span></span> <span data-ttu-id="757e3-111">L'oggetto **GestureRecognizer** riconosce i movimenti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="757e3-111">The **GestureRecognizer** object recognizes application gestures.</span></span>

## <a name="definitions"></a><span data-ttu-id="757e3-112">Definizioni</span><span class="sxs-lookup"><span data-stu-id="757e3-112">Definitions</span></span>

<span data-ttu-id="757e3-113">Nelle sezioni che descrivono le API StylusInput vengono usati i termini seguenti:</span><span class="sxs-lookup"><span data-stu-id="757e3-113">The following terms are used in the sections describing the StylusInput APIs:</span></span>

<span data-ttu-id="757e3-114">Plug-in sincrono</span><span class="sxs-lookup"><span data-stu-id="757e3-114">Synchronous plug-in</span></span>

<span data-ttu-id="757e3-115">Classe che implementa l'interfaccia [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="757e3-115">A class that implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface.</span></span> <span data-ttu-id="757e3-116">I plug-in sincroni vengono in genere chiamati direttamente dall'oggetto [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="757e3-116">Synchronous plug-ins are generally called directly by the [**RealTimeStylus**](realtimestylus-class.md) object.</span></span>

<span data-ttu-id="757e3-117">Plug-in asincrono</span><span class="sxs-lookup"><span data-stu-id="757e3-117">Asynchronous plug-in</span></span>

<span data-ttu-id="757e3-118">Classe che implementa l'interfaccia [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="757e3-118">A class that implements the [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface.</span></span> <span data-ttu-id="757e3-119">I plug-in asincroni vengono in genere chiamati sul thread dell'interfaccia utente dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="757e3-119">Asynchronous plug-ins are generally called on the application's user interface (UI) thread.</span></span>

<span data-ttu-id="757e3-120">Raccolta di plug-in sincrona</span><span class="sxs-lookup"><span data-stu-id="757e3-120">Synchronous plug-in collection</span></span>

<span data-ttu-id="757e3-121">Raccolta [StylusSyncPluginCollection](/previous-versions/ms824788(v=msdn.10)) , che è una raccolta ordinata di oggetti [IStylusSyncPlugin](/previous-versions/ms824751(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="757e3-121">A [StylusSyncPluginCollection](/previous-versions/ms824788(v=msdn.10)) collection, which is an ordered collection of [IStylusSyncPlugin](/previous-versions/ms824751(v=msdn.10)) objects.</span></span> <span data-ttu-id="757e3-122">Una raccolta di plug-in sincrona si riferisce in genere alla raccolta assegnata alla proprietà [SyncPluginCollection](/previous-versions/ms824833(v=msdn.10)) di un oggetto [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="757e3-122">A synchronous plug-in collection usually refers to the collection assigned to the [SyncPluginCollection](/previous-versions/ms824833(v=msdn.10)) property of a [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) object.</span></span> <span data-ttu-id="757e3-123">È possibile aggiungere solo plug-in sincroni a una raccolta di plug-in sincrona.</span><span class="sxs-lookup"><span data-stu-id="757e3-123">Only synchronous plug-ins may be added to a synchronous plug-in collection.</span></span>

<span data-ttu-id="757e3-124">Raccolta plug-in asincrono</span><span class="sxs-lookup"><span data-stu-id="757e3-124">Asynchronous plug-in collection</span></span>

<span data-ttu-id="757e3-125">Raccolta [StylusAsyncPluginCollection](/previous-versions/ms824808(v=msdn.10)) , che è una raccolta ordinata di oggetti [IStylusAsyncPlugin](/previous-versions/ms824768(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="757e3-125">A [StylusAsyncPluginCollection](/previous-versions/ms824808(v=msdn.10)) collection, which is an ordered collection of [IStylusAsyncPlugin](/previous-versions/ms824768(v=msdn.10)) objects.</span></span> <span data-ttu-id="757e3-126">Una raccolta di plug-in asincrona si riferisce in genere alla raccolta assegnata alla proprietà [AsyncPluginCollection](/previous-versions/ms824831(v=msdn.10)) di un oggetto [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="757e3-126">An asynchronous plug-in collection usually refers to the collection assigned to the [AsyncPluginCollection](/previous-versions/ms824831(v=msdn.10)) property of a [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) object.</span></span> <span data-ttu-id="757e3-127">È possibile aggiungere solo plug-in asincroni a una raccolta di plug-in asincrona.</span><span class="sxs-lookup"><span data-stu-id="757e3-127">Only asynchronous plug-ins may be added to an asynchronous plug-in collection.</span></span>

## <a name="synchronous-and-asynchronous-plug-ins"></a><span data-ttu-id="757e3-128">Plug-in sincroni e asincroni</span><span class="sxs-lookup"><span data-stu-id="757e3-128">Synchronous and Asynchronous Plug-ins</span></span>

<span data-ttu-id="757e3-129">L'oggetto [**RealTimeStylus**](realtimestylus-class.md) è progettato per fornire l'accesso in tempo reale al flusso di dati da una penna del tablet.</span><span class="sxs-lookup"><span data-stu-id="757e3-129">The [**RealTimeStylus**](realtimestylus-class.md) object is designed to provide real-time access to the data stream from a tablet pen.</span></span> <span data-ttu-id="757e3-130">Creare o usare plug-in sincroni per le attività che richiedono l'accesso in tempo reale al flusso di dati e non richiedono un calcolo, ad esempio per il filtro dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="757e3-130">Create or use synchronous plug-ins for tasks that require real-time access to the data stream and are computationally undemanding, such as for packet filtering.</span></span> <span data-ttu-id="757e3-131">Creare o usare plug-in asincroni per le attività che non richiedono l'accesso in tempo reale al flusso di dati, ad esempio per la creazione e l'archiviazione di tratti in un oggetto [**InkDisp**](inkdisp-class.md) .</span><span class="sxs-lookup"><span data-stu-id="757e3-131">Create or use asynchronous plug-ins for tasks that do not require real-time access to the data stream, such as for creating and storing strokes in an [**InkDisp**](inkdisp-class.md) object.</span></span>

<span data-ttu-id="757e3-132">Alcune attività possono essere richieste dal punto di vista del calcolo, ma richiedono l'accesso in tempo reale al flusso di dati, ad esempio il riconoscimento di movimenti a più sequenze.</span><span class="sxs-lookup"><span data-stu-id="757e3-132">Certain tasks may be computationally demanding yet require real-time access to the data stream, such as multistroke gesture recognition.</span></span> <span data-ttu-id="757e3-133">Per soddisfare queste esigenze, le API StylusInput forniscono un modello [**RealTimeStylus**](realtimestylus-class.md) a cascata che consente di usare due oggetti **RealTimeStylus** , ognuno in esecuzione sul proprio thread.</span><span class="sxs-lookup"><span data-stu-id="757e3-133">To address these needs, the StylusInput APIs provide a cascaded [**RealTimeStylus**](realtimestylus-class.md) model that allows you to use two **RealTimeStylus** objects, each running on its own thread.</span></span> <span data-ttu-id="757e3-134">Per ulteriori informazioni sul modello **RealTimeStylus** a cascata, vedere [il modello di RealTimeStylus a cascata](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="757e3-134">For more information about the cascaded **RealTimeStylus** model, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

<span data-ttu-id="757e3-135">Per ulteriori informazioni sull'utilizzo e la creazione di plug-in, vedere [utilizzo delle API StylusInput](working-with-the-stylusinput-apis.md).</span><span class="sxs-lookup"><span data-stu-id="757e3-135">For more information about using and creating plug-ins, see [Working with the StylusInput APIs](working-with-the-stylusinput-apis.md).</span></span>

## <a name="the-tablet-pen-data-stream"></a><span data-ttu-id="757e3-136">Flusso dei dati della penna del Tablet</span><span class="sxs-lookup"><span data-stu-id="757e3-136">The Tablet Pen Data Stream</span></span>

<span data-ttu-id="757e3-137">L'oggetto [**RealTimeStylus**](realtimestylus-class.md) dispone di due code interne che contengono i dati della penna del tablet, la coda di input e la coda di output.</span><span class="sxs-lookup"><span data-stu-id="757e3-137">The [**RealTimeStylus**](realtimestylus-class.md) object has two internal queues that carry the tablet pen data, the input queue and the output queue.</span></span> <span data-ttu-id="757e3-138">I dati della penna vengono convertiti in istanze delle classi nello spazio dei nomi [Microsoft. StylusInput. PluginData](/previous-versions/ms823992(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="757e3-138">The pen data is converted into instances of the classes in the [Microsoft.StylusInput.PluginData](/previous-versions/ms823992(v=msdn.10)) namespace.</span></span> <span data-ttu-id="757e3-139">Nell'elenco seguente viene descritto il modo in cui l'oggetto **RealTimeStylus** gestisce i dati della penna del Tablet:</span><span class="sxs-lookup"><span data-stu-id="757e3-139">The following list describes how the **RealTimeStylus** object handles the tablet pen data:</span></span>

<span data-ttu-id="757e3-140">L'oggetto [**RealTimeStylus**](realtimestylus-class.md) verifica innanzitutto la presenza di oggetti dati plug-in nella coda di input e quindi dal flusso di dati della penna del tablet.</span><span class="sxs-lookup"><span data-stu-id="757e3-140">The [**RealTimeStylus**](realtimestylus-class.md) object checks for plug-in data objects first on its input queue and then from the tablet pen data stream.</span></span>

<span data-ttu-id="757e3-141">L'oggetto [**RealTimeStylus**](realtimestylus-class.md) Invia un oggetto dati plug-in agli oggetti nella relativa raccolta di plug-in sincrona.</span><span class="sxs-lookup"><span data-stu-id="757e3-141">The [**RealTimeStylus**](realtimestylus-class.md) object sends one plug-in data object to the objects in its synchronous plug-in collection.</span></span> <span data-ttu-id="757e3-142">Ogni plug-in sincrono può aggiungere dati alla coda di input o di output.</span><span class="sxs-lookup"><span data-stu-id="757e3-142">Each synchronous plug-in can add data to either the input or output queue.</span></span>

<span data-ttu-id="757e3-143">Dopo che l'oggetto dati del plug-in è stato inviato a tutti i membri della raccolta di plug-in sincrono, l'oggetto dati del plug-in viene inserito nella coda di output dell'oggetto [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="757e3-143">After the plug-in data object has been sent to all members of the synchronous plug-in collection, the plug-in data object is placed on the [**RealTimeStylus**](realtimestylus-class.md) object's output queue.</span></span>

<span data-ttu-id="757e3-144">L'oggetto [**RealTimeStylus**](realtimestylus-class.md) verifica quindi la presenza del successivo oggetto dati plug-in da elaborare.</span><span class="sxs-lookup"><span data-stu-id="757e3-144">The [**RealTimeStylus**](realtimestylus-class.md) object then checks for the next plug-in data object to process.</span></span>

<span data-ttu-id="757e3-145">Mentre la coda di output dell'oggetto [**RealTimeStylus**](realtimestylus-class.md) contiene dati, l'oggetto **RealTimeStylus** Invia un oggetto dati plug-in dalla relativa coda di output agli oggetti nella relativa raccolta di plug-in asincroni.</span><span class="sxs-lookup"><span data-stu-id="757e3-145">While the [**RealTimeStylus**](realtimestylus-class.md) object's output queue contains data, the **RealTimeStylus** object sends one plug-in data object from its output queue to the objects in its asynchronous plug-in collection.</span></span> <span data-ttu-id="757e3-146">Ogni plug-in asincrono può aggiungere dati alla coda di input o di output.</span><span class="sxs-lookup"><span data-stu-id="757e3-146">Each asynchronous plug-in can add data to either the input or output queue.</span></span> <span data-ttu-id="757e3-147">Tuttavia, poiché i plug-in asincroni vengono eseguiti nel thread dell'interfaccia utente, i dati vengono aggiunti alla coda in relazione ai dati penna correnti che l'oggetto **RealTimeStylus** sta elaborando e non in relazione ai dati elaborati dal plug-in asincrono.</span><span class="sxs-lookup"><span data-stu-id="757e3-147">However, because the asynchronous plug-ins run on the UI thread, the data is added to the queue in relation to the current pen data the **RealTimeStylus** object is processing, and not in relation to the data that the asynchronous plug-in is processing.</span></span>

<span data-ttu-id="757e3-148">Il diagramma seguente illustra il flusso dei dati della penna del Tablet PC tramite l'oggetto [**RealTimeStylus**](realtimestylus-class.md) e le relative raccolte di plug-in.</span><span class="sxs-lookup"><span data-stu-id="757e3-148">The following diagram illustrates the flow of tablet pen data through the [**RealTimeStylus**](realtimestylus-class.md) object and its plug-in collections.</span></span>

![flusso dei dati della penna del Tablet PC tramite l'oggetto RealTimeStylus e le relative raccolte di plug-in](images/5a698bc9-833b-4b24-9fa2-70be0ca61032.gif)

<span data-ttu-id="757e3-150">In questo diagramma i cerchi con etichetta "A" e "B" rappresentano i dati della penna del tablet che sono già stati aggiunti alla coda di output dell'oggetto [**RealTimeStylus**](realtimestylus-class.md) e che non sono ancora stati inviati alla raccolta di plug-in asincroni.</span><span class="sxs-lookup"><span data-stu-id="757e3-150">In this diagram, the circles labeled "A" and "B" represent tablet pen data that has already been added to the [**RealTimeStylus**](realtimestylus-class.md) object's output queue and that has not yet been sent to the asynchronous plug-in collection.</span></span> <span data-ttu-id="757e3-151">Il cerchio con etichetta "C" rappresenta i dati della penna del tablet che l'oggetto **RealTimeStylus** sta attualmente elaborando.</span><span class="sxs-lookup"><span data-stu-id="757e3-151">The circle labeled "C" represents the tablet pen data that the **RealTimeStylus** object is currently processing.</span></span> <span data-ttu-id="757e3-152">Viene inviato alla raccolta di plug-in sincrono e inserito nella coda di output.</span><span class="sxs-lookup"><span data-stu-id="757e3-152">It is sent to the synchronous plug-in collection and placed on the output queue.</span></span> <span data-ttu-id="757e3-153">Il cerchio vuoto rappresenta la posizione nella coda di output in cui vengono aggiunti i dati futuri della penna del tablet.</span><span class="sxs-lookup"><span data-stu-id="757e3-153">The empty circle represents the position in the output queue where future tablet pen data is added.</span></span>

<span data-ttu-id="757e3-154">Per ulteriori informazioni sull'aggiunta e l'elaborazione di dati specifici nella coda, vedere la pagina relativa [ai dati dei plug-in e alla classe RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="757e3-154">For more information about how specific data is added to the queue and processed, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

## <a name="the-stylusinput-apis"></a><span data-ttu-id="757e3-155">API StylusInput</span><span class="sxs-lookup"><span data-stu-id="757e3-155">The StylusInput APIs</span></span>

<span data-ttu-id="757e3-156">Le API StylusInput si trovano principalmente negli spazi dei nomi [Microsoft. StylusInput](/previous-versions/ms824750(v=msdn.10)) e [Microsoft. StylusInput. PluginData](/previous-versions/ms823992(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="757e3-156">The StylusInput APIs reside primarily in the [Microsoft.StylusInput](/previous-versions/ms824750(v=msdn.10)) and [Microsoft.StylusInput.PluginData](/previous-versions/ms823992(v=msdn.10)) namespaces.</span></span> <span data-ttu-id="757e3-157">Tuttavia, le API StylusInput fanno riferimento anche ad alcune classi nello spazio dei nomi [Microsoft. Ink](/previous-versions/ms826516(v=msdn.10)) , ad esempio la classe [Tablet](/previous-versions/ms827783(v=msdn.10)) , la raccolta [TabletPropertyDescriptionCollection](/previous-versions/ms827760(v=msdn.10)) e le enumerazioni [ApplicationGesture](/previous-versions/ms827547(v=msdn.10)) e [SystemGesture](/previous-versions/ms827134(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="757e3-157">However, the StylusInput APIs also reference some classes in the [Microsoft.Ink](/previous-versions/ms826516(v=msdn.10)) namespace, such as the [Tablet](/previous-versions/ms827783(v=msdn.10)) class, the [TabletPropertyDescriptionCollection](/previous-versions/ms827760(v=msdn.10)) collection, and the [ApplicationGesture](/previous-versions/ms827547(v=msdn.10)) and [SystemGesture](/previous-versions/ms827134(v=msdn.10)) enumerations.</span></span>

## <a name="related-topics"></a><span data-ttu-id="757e3-158">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="757e3-158">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="757e3-159">[**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="757e3-159">[**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85))</span></span>
</dt> <dt>

[<span data-ttu-id="757e3-160">**GestureRecognizer**</span><span class="sxs-lookup"><span data-stu-id="757e3-160">**GestureRecognizer**</span></span>](gesturerecognizer-class.md)
</dt> <dt>

[<span data-ttu-id="757e3-161">**RealTimeStylus**</span><span class="sxs-lookup"><span data-stu-id="757e3-161">**RealTimeStylus**</span></span>](realtimestylus-class.md)
</dt> <dt>

[<span data-ttu-id="757e3-162">**IStylusAsyncPlugin**</span><span class="sxs-lookup"><span data-stu-id="757e3-162">**IStylusAsyncPlugin**</span></span>](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin)
</dt> <dt>

[<span data-ttu-id="757e3-163">**IStylusSyncPlugin**</span><span class="sxs-lookup"><span data-stu-id="757e3-163">**IStylusSyncPlugin**</span></span>](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin)
</dt> <dt>

[<span data-ttu-id="757e3-164">Uso delle API StylusInput</span><span class="sxs-lookup"><span data-stu-id="757e3-164">Working with the StylusInput APIs</span></span>](working-with-the-stylusinput-apis.md)
</dt> <dt>

[<span data-ttu-id="757e3-165">Modello di RealTimeStylus a cascata</span><span class="sxs-lookup"><span data-stu-id="757e3-165">The Cascaded RealTimeStylus Model</span></span>](the-cascaded-realtimestylus-model.md)
</dt> </dl>

 

 
