---
description: Dopo la raccolta dell'input penna, le applicazioni possono gestire, manipolare e/o trasferire i dati in altri supporti.
ms.assetid: 5a8c370e-79cb-47f0-a7b3-a631874ad757
title: Dati Ink
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de73291269398ae42a47ee26897c8da9bac8abe7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104525963"
---
# <a name="ink-data"></a><span data-ttu-id="be1d6-103">Dati Ink</span><span class="sxs-lookup"><span data-stu-id="be1d6-103">Ink Data</span></span>

<span data-ttu-id="be1d6-104">Dopo la raccolta dell'input penna, le applicazioni possono gestire, manipolare e/o trasferire i dati in altri supporti.</span><span class="sxs-lookup"><span data-stu-id="be1d6-104">After the ink is collected, applications can manage, manipulate, and/or transfer that data to other media.</span></span> <span data-ttu-id="be1d6-105">Le azioni di selezione, copia, spostamento, salvataggio, visualizzazione e modifica dell'input penna avvengono nell'oggetto [**Ink**](inkdisp-class.md) e nei relativi membri contenuti, ad esempio gli oggetti [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) e [**Collection.**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="be1d6-105">The actions of selecting, copying, moving, saving, viewing, and altering of the ink take place on the [**Ink**](inkdisp-class.md) object and its contained members, such as the [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection and [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) objects.</span></span>

> [!Note]  
> <span data-ttu-id="be1d6-106">Utilizzando Real-Time stilo, le applicazioni possono scegliere di mantenere i dati in un formato proprio (ad esempio, il salvataggio di tratti).</span><span class="sxs-lookup"><span data-stu-id="be1d6-106">Using Real-Time Stylus, applications may choose to maintain data in its own format (such as saving strokes).</span></span>

 

## <a name="ink-strokes-and-packets"></a><span data-ttu-id="be1d6-107">Input penna, tratti e pacchetti</span><span class="sxs-lookup"><span data-stu-id="be1d6-107">Ink, Strokes, and Packets</span></span>

<span data-ttu-id="be1d6-108">Un oggetto [**Ink**](inkdisp-class.md) è il tipo di dati fondamentale che gestisce, manipola e archivia l'input raccolto dall'oggetto [**InkCollector**](inkcollector-class.md) .</span><span class="sxs-lookup"><span data-stu-id="be1d6-108">An [**Ink**](inkdisp-class.md) object is the fundamental data type that manages, manipulates, and stores the input collected from the [**InkCollector**](inkcollector-class.md) object.</span></span> <span data-ttu-id="be1d6-109">Un oggetto **Ink** contiene uno o più oggetti [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) e metodi e proprietà comuni per gestire e modificare tali tratti.</span><span class="sxs-lookup"><span data-stu-id="be1d6-109">An **Ink** object contains one or more [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) objects and common methods and properties to manage and manipulate those strokes.</span></span> <span data-ttu-id="be1d6-110">Un tratto viene definito come il set di dati acquisito in una singola sequenza di penna, di spostamento e di penna.</span><span class="sxs-lookup"><span data-stu-id="be1d6-110">A stroke is defined as the set of data that is captured in a single pen-down, pen-move, and pen-up sequence.</span></span> <span data-ttu-id="be1d6-111">I dati del tratto contengono una raccolta di pacchetti.</span><span class="sxs-lookup"><span data-stu-id="be1d6-111">The stroke data contains a collection of packets.</span></span> <span data-ttu-id="be1d6-112">Un pacchetto è il set di dati che il dispositivo Tablet Invia a ogni punto di esempio.</span><span class="sxs-lookup"><span data-stu-id="be1d6-112">A packet is the set of data that the tablet device sends at each sample point.</span></span> <span data-ttu-id="be1d6-113">Questi dati contengono informazioni quali coordinate, pressione della penna, angolo della penna e qualsiasi altro elemento che l'hardware è in grado di trasmettere.</span><span class="sxs-lookup"><span data-stu-id="be1d6-113">This data contains information such as coordinates, pen pressure, pen angle, and anything else that the hardware can transmit.</span></span> <span data-ttu-id="be1d6-114">La proprietà [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) dell'oggetto **Stroke** descrive i pacchetti generati da un [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) .</span><span class="sxs-lookup"><span data-stu-id="be1d6-114">The [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) property of the **Stroke** object describes the packets that a [**Tablet**](/windows/desktop/api/msinkaut/nn-msinkaut-iinktablet) generates.</span></span>

## <a name="strokes"></a><span data-ttu-id="be1d6-115">Tratti</span><span class="sxs-lookup"><span data-stu-id="be1d6-115">Strokes</span></span>

<span data-ttu-id="be1d6-116">È possibile ottenere uno snapshot dei tratti in un oggetto [**Ink**](inkdisp-class.md) usando la proprietà [**Strokes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) dell'oggetto **Ink** .</span><span class="sxs-lookup"><span data-stu-id="be1d6-116">You can obtain a snapshot of the strokes in a [**Ink**](inkdisp-class.md) object by using the **Ink** object's [**Strokes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) property.</span></span> <span data-ttu-id="be1d6-117">La proprietà **Strokes** è una raccolta di riferimenti ai tratti nell'oggetto **Ink** nel momento in cui viene letta la proprietà **Strokes** .</span><span class="sxs-lookup"><span data-stu-id="be1d6-117">The **Strokes** property is a collection of references to the strokes in the **Ink** object at the time the **Strokes** property is read.</span></span> <span data-ttu-id="be1d6-118">Se i tratti vengono successivamente aggiunti o eliminati dall'oggetto **Ink** , una raccolta [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) ottenuta in precedenza non viene aggiornata.</span><span class="sxs-lookup"><span data-stu-id="be1d6-118">If strokes are subsequently added to or deleted from the **Ink** object, a previously obtained [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection is not updated.</span></span> <span data-ttu-id="be1d6-119">Inoltre, la proprietà **Strokes** è un valore e, come qualsiasi valore, esce dall'ambito a meno che non sia assegnato a una variabile.</span><span class="sxs-lookup"><span data-stu-id="be1d6-119">Furthermore, the **Strokes** property is a value and, like any value, goes out of scope unless it is assigned to a variable.</span></span>

<span data-ttu-id="be1d6-120">Per mantenerne la sincronizzazione con un [**oggetto Ink**](inkdisp-class.md) , eseguire il wrapping di [**una proprietà in**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) un gestore eventi per gli eventi [**StrokesAdded**](inkstrokes-strokesadded.md) e [**StrokesRemoved**](inkstrokes-strokesremoved.md) nella raccolta [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="be1d6-120">To keep a [**Strokes**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkdisp-get_strokes) property synchronized with an [**Ink**](inkdisp-class.md) object, wrap it in an event handler for the [**StrokesAdded**](inkstrokes-strokesadded.md) and [**StrokesRemoved**](inkstrokes-strokesremoved.md) events on the [**Strokes**](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection.</span></span> <span data-ttu-id="be1d6-121">Il gestore deve ottenere una nuova copia della proprietà **Strokes** quando viene generato uno degli eventi.</span><span class="sxs-lookup"><span data-stu-id="be1d6-121">The handler should obtain a new copy of the **Strokes** property when either event is fired.</span></span> <span data-ttu-id="be1d6-122">Prestare attenzione a non aggiungere il gestore eventi a una raccolta **Strokes** che non rientra nell'ambito prima che venga generato l'evento.</span><span class="sxs-lookup"><span data-stu-id="be1d6-122">Be careful not to add the event handler to a **Strokes** collection that is out of scope before the event is fired.</span></span>

<span data-ttu-id="be1d6-123">Si noti che in questo esempio `theAddedStrokesIDs` viene aggiornata con una nuova copia della proprietà Strokes nel `StrokesAdded_Event` gestore.</span><span class="sxs-lookup"><span data-stu-id="be1d6-123">Notice in this example that `theAddedStrokesIDs` is updated with a new copy of the strokes property in the `StrokesAdded_Event` handler.</span></span>


```C++
public void StrokesAdded_Event(object sender, StrokesEventArgs e)
{
    int [] theAddedStrokesIDs = e.StrokeIds;
    theListBox.Items.Clear();
    foreach (int i in theAddedStrokesIDs)
    {
        theListBox.Items.Add("Added Stroke ID: " + i.ToString());
    }
}
```



## <a name="packetdescription-property"></a><span data-ttu-id="be1d6-124">Proprietà PacketDescription</span><span class="sxs-lookup"><span data-stu-id="be1d6-124">PacketDescription Property</span></span>

<span data-ttu-id="be1d6-125">La proprietà [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) dell'oggetto [**Ink**](inkdisp-class.md) definisce il set di informazioni in ogni pacchetto che l'applicazione ottiene da un dispositivo Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="be1d6-125">The [**Ink**](inkdisp-class.md) object's [**PacketDescription**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkstrokedisp-get_packetdescription) property defines the set of information in each packet that the application gets from a Tablet PC device.</span></span> <span data-ttu-id="be1d6-126">Le informazioni in genere includono coordinate, ma possono includere informazioni molto più dettagliate (a seconda delle funzionalità del digitalizzatore di Tablet PC), ad esempio la pressione della penna o l'angolo della penna.</span><span class="sxs-lookup"><span data-stu-id="be1d6-126">The information typically includes coordinates, but it can include much more detailed information (depending on what the capabilities of Tablet PC digitizer) such as pen pressure or pen angle.</span></span> <span data-ttu-id="be1d6-127">Impostando le descrizioni dei pacchetti nell'oggetto [**InkCollector**](inkcollector-class.md) o [**InkOverlay**](inkoverlay-class.md) prima che venga raccolto un input penna (usando la proprietà DesiredPacketDescription), si ha il controllo completo sulle proprietà dei dispositivi Tablet PC che si desidera ricevere.</span><span class="sxs-lookup"><span data-stu-id="be1d6-127">By setting packet descriptions on the [**InkCollector**](inkcollector-class.md) or [**InkOverlay**](inkoverlay-class.md) object before any ink is collected (using the DesiredPacketDescription property), you have full control over which of the Tablet PC devices properties you want to receive.</span></span>

## <a name="extended-properties"></a><span data-ttu-id="be1d6-128">Proprietà estese</span><span class="sxs-lookup"><span data-stu-id="be1d6-128">Extended Properties</span></span>

<span data-ttu-id="be1d6-129">Le proprietà estese forniscono un meccanismo per il fissaggio dei dati definiti dall'applicazione a [**input penna**](inkdisp-class.md) e ad altri oggetti.</span><span class="sxs-lookup"><span data-stu-id="be1d6-129">Extended properties provide a mechanism for attaching application-defined data to [**Ink**](inkdisp-class.md) and other objects.</span></span> <span data-ttu-id="be1d6-130">Per ulteriori informazioni sulle proprietà estese, vedere la raccolta [**ExtendedProperties**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkextendedproperties) .</span><span class="sxs-lookup"><span data-stu-id="be1d6-130">For more information about extended properties, see the [**ExtendedProperties**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkextendedproperties) collection.</span></span>

## <a name="ink-rendering"></a><span data-ttu-id="be1d6-131">Rendering input penna</span><span class="sxs-lookup"><span data-stu-id="be1d6-131">Ink Rendering</span></span>

<span data-ttu-id="be1d6-132">L'oggetto [**renderer**](inkrenderer-class.md) è responsabile del rendering dell' [**input penna**](inkdisp-class.md).</span><span class="sxs-lookup"><span data-stu-id="be1d6-132">The [**Renderer**](inkrenderer-class.md) object is responsible for rendering [**Ink**](inkdisp-class.md).</span></span> <span data-ttu-id="be1d6-133">Dato un contesto appropriato per la tavoletta, l'oggetto **renderer** può mappare le coordinate dello spazio dell'input penna ai pixel, applicare le trasformazioni di visualizzazione e visualizzare l'input penna su schermate e stampanti.</span><span class="sxs-lookup"><span data-stu-id="be1d6-133">Given an appropriate tablet context, the **Renderer** object can map ink space coordinates to pixels, apply view transforms, and display ink on screens and printers.</span></span> <span data-ttu-id="be1d6-134">I metodi di [**estrazione**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-draw) e [**DrawStroke**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-drawstroke) sono i metodi principali per il rendering dell'input penna.</span><span class="sxs-lookup"><span data-stu-id="be1d6-134">The [**Draw**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-draw) and [**DrawStroke**](/windows/desktop/api/msinkaut/nf-msinkaut-iinkrenderer-drawstroke) methods are the primary methods for rendering ink.</span></span> <span data-ttu-id="be1d6-135">Per ulteriori informazioni sulla visualizzazione di input penna in una finestra, vedere l'oggetto **renderer** .</span><span class="sxs-lookup"><span data-stu-id="be1d6-135">For more information about displaying ink in a window, see the **Renderer** object.</span></span>

## <a name="cusps"></a><span data-ttu-id="be1d6-136">Cuspidi</span><span class="sxs-lookup"><span data-stu-id="be1d6-136">Cusps</span></span>

<span data-ttu-id="be1d6-137">Un tratto inizia in genere quando la penna viene ridotta alla superficie di disegno e termina quando viene generata la penna.</span><span class="sxs-lookup"><span data-stu-id="be1d6-137">A stroke normally begins when the pen is lowered to the drawing surface and ends when the pen is raised.</span></span> <span data-ttu-id="be1d6-138">All'interno di un tratto, i picchi, gli angoli e le modifiche radicali della direzione sono detti cuspidi.</span><span class="sxs-lookup"><span data-stu-id="be1d6-138">Within a stroke, the peaks, angles, and radical changes of direction are called cusps.</span></span> <span data-ttu-id="be1d6-139">Anche gli endpoint di un tratto sono considerati cuspidi.</span><span class="sxs-lookup"><span data-stu-id="be1d6-139">The endpoints of a stroke are also considered cusps.</span></span> <span data-ttu-id="be1d6-140">Ad esempio, la lettera maiuscola "L" ha tre cuspidi, una al centro e una a ciascuna estremità.</span><span class="sxs-lookup"><span data-stu-id="be1d6-140">For example, the capital letter "L" has three cusps, one in the middle and one at each end.</span></span>

<span data-ttu-id="be1d6-141">Quando viene immesso un tratto, viene normalmente smussato e sottoposto a rendering usando una curva di Bézier (o polilinea).</span><span class="sxs-lookup"><span data-stu-id="be1d6-141">As a stroke is entered, it is normally smoothed and rendered using a Bezier (or polyline) curve.</span></span> <span data-ttu-id="be1d6-142">Le curve di Bezier possono trasformare le cuspidi in cicli di piccole dimensioni.</span><span class="sxs-lookup"><span data-stu-id="be1d6-142">Bezier curves may turn cusps into small loops.</span></span> <span data-ttu-id="be1d6-143">Ad esempio, il picco della lettera in corsivo "i" potrebbe essere smussato per essere simile alla "e".</span><span class="sxs-lookup"><span data-stu-id="be1d6-143">For example, the peak of the cursive letter "i" might be smoothed to resemble the cursive "e".</span></span> <span data-ttu-id="be1d6-144">Per evitare questo problema, i renderer Microsoft hanno una fase "pre-Bezier" che gestisce le cuspidi in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="be1d6-144">To prevent this, Microsoft renderers have a "pre-Bezier" phase that handles the cusps differently.</span></span>

<span data-ttu-id="be1d6-145">Le cuspidi possono essere utilizzate anche per suddividere gli oggetti [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) in unità cancellabili.</span><span class="sxs-lookup"><span data-stu-id="be1d6-145">Cusps can also be used to subdivide [**Stroke**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkstrokedisp) objects into erasable units.</span></span> <span data-ttu-id="be1d6-146">Se ad esempio si seleziona il lato verticale di una "L" maiuscola, è possibile che venga indicata la cancellazione del lato.</span><span class="sxs-lookup"><span data-stu-id="be1d6-146">For example, selecting the vertical side of a capital "L" could indicate erasing just that side.</span></span> <span data-ttu-id="be1d6-147">La parte del tratto da cancellare è la parte tra due cuspidi.</span><span class="sxs-lookup"><span data-stu-id="be1d6-147">The part of the stroke to be erased would be the part between two cusps.</span></span>

 

 
