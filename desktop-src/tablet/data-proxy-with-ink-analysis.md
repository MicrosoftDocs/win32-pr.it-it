---
description: Come indicato nella panoramica dell'analisi dell'input penna, la tecnologia di analisi dell'input penna gestisce internamente un modello di documento basato su albero per contenere i risultati dell'analisi e le relazioni.
ms.assetid: 33ba9292-3bc7-41ba-a602-e2fc94cd3a57
title: Proxy di dati con analisi dell'input penna
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 52717b955625e67f50c20703dd0e84449aa1037f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103884942"
---
# <a name="data-proxy-with-ink-analysis"></a><span data-ttu-id="6ae33-103">Proxy di dati con analisi dell'input penna</span><span class="sxs-lookup"><span data-stu-id="6ae33-103">Data Proxy with Ink Analysis</span></span>

<span data-ttu-id="6ae33-104">Come indicato nella [Panoramica dell'analisi dell'input penna](ink-analysis-overview.md), la tecnologia di analisi dell'input penna gestisce internamente un modello di documento basato su albero per contenere i risultati dell'analisi e le relazioni.</span><span class="sxs-lookup"><span data-stu-id="6ae33-104">As mentioned in [Ink Analysis Overview](ink-analysis-overview.md), the ink analysis technology internally maintains a tree-based document model to contain analysis results and relationships.</span></span> <span data-ttu-id="6ae33-105">Se l'applicazione dispone già di un archivio documenti stabilito diverso, sarà necessario utilizzare le funzionalità di analisi dell'input penna progettate per il proxy dei dati tra modelli di documento diversi.</span><span class="sxs-lookup"><span data-stu-id="6ae33-105">If your application already has an established document store that is different, you will need to make use of the ink analysis features designed to proxy data between disparate document models.</span></span>

## <a name="types-of-data-proxy"></a><span data-ttu-id="6ae33-106">Tipi di proxy di dati</span><span class="sxs-lookup"><span data-stu-id="6ae33-106">Types of Data Proxy</span></span>

<span data-ttu-id="6ae33-107">Le funzionalità del proxy di dati consentono all'applicazione di:</span><span class="sxs-lookup"><span data-stu-id="6ae33-107">The data proxy features enable your application to:</span></span>

-   <span data-ttu-id="6ae33-108">Integrare nuovamente i dati dei risultati di analisi in un modello di documento esistente.</span><span class="sxs-lookup"><span data-stu-id="6ae33-108">Integrate analysis results data back into an existing document model.</span></span>
-   <span data-ttu-id="6ae33-109">Comunicare nuovamente i risultati precedenti (o lo stato) in [**InkAnalyzer**](inkanalyzer.md).</span><span class="sxs-lookup"><span data-stu-id="6ae33-109">Communicate previous results (or state) back into the [**InkAnalyzer**](inkanalyzer.md).</span></span>
-   <span data-ttu-id="6ae33-110">Comunica lo stato non input penna in [**InkAnalyzer**](inkanalyzer.md).</span><span class="sxs-lookup"><span data-stu-id="6ae33-110">Communicate non-ink state into the [**InkAnalyzer**](inkanalyzer.md).</span></span>
-   <span data-ttu-id="6ae33-111">Per completare l'operazione di analisi è necessario comunicare solo il set minimo di dati (stato precedente e non input penna).</span><span class="sxs-lookup"><span data-stu-id="6ae33-111">Communicate only the minimum set of data (both previous and non-ink state) needed to complete the analysis operation.</span></span>
-   <span data-ttu-id="6ae33-112">Aggiornare facilmente il modello di documento interno dell'applicazione con i risultati dell'analisi.</span><span class="sxs-lookup"><span data-stu-id="6ae33-112">Easily update the internal application document model with analysis results.</span></span>

<span data-ttu-id="6ae33-113">Esistono due approcci di base al proxy di dati di analisi dell'input penna.</span><span class="sxs-lookup"><span data-stu-id="6ae33-113">There are two basic approaches to ink analysis data proxy.</span></span> <span data-ttu-id="6ae33-114">Le differenze depongono i dettagli relativi a quando e come viene eseguita la sincronizzazione tra i modelli di documento.</span><span class="sxs-lookup"><span data-stu-id="6ae33-114">The differences lay in the details of when and how the synchronization between the document models occurs.</span></span> <span data-ttu-id="6ae33-115">Il primo approccio, aggiornamento sincrono, richiede la modifica del modello di documento di analisi dell'input penna quando si verificano modifiche nel documento dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6ae33-115">The first approach, synchronous update, requires the modification of the ink analysis document model as changes occur in the application document.</span></span> <span data-ttu-id="6ae33-116">Il secondo approccio, aggiornamento su richiesta, richiede che vengano passati a [**InkAnalyzer**](inkanalyzer.md)solo i dati interessati dalle modifiche apportate al modello di documento dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6ae33-116">The second approach, on-demand update, requires only the data affected by changes to the application document model to be passed to the [**InkAnalyzer**](inkanalyzer.md).</span></span> <span data-ttu-id="6ae33-117">Ovvero solo i dati per le parti del modello di documento di analisi dell'input penna che si trovano nella stessa area delle modifiche al documento dell'applicazione devono essere passati a **InkAnalyzer** , perché sono necessari.</span><span class="sxs-lookup"><span data-stu-id="6ae33-117">That is, only the data for the parts of the Ink Analysis document model that are in the same area as modifications to the application document need be passed to the **InkAnalyzer** as it needs them.</span></span>

### <a name="synchronous-update"></a><span data-ttu-id="6ae33-118">Aggiornamento sincrono</span><span class="sxs-lookup"><span data-stu-id="6ae33-118">Synchronous Update</span></span>

<span data-ttu-id="6ae33-119">L'approccio di aggiornamento sincrono richiede la modifica (creazione ed eliminazione) dei nodi nella raccolta dell'oggetto [**InkAnalyzer**](inkanalyzer.md) degli oggetti [**ContextNode**](icontextnode.md) che si verificano nel documento dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6ae33-119">The synchronous update approach requires the modification (creation and deletion) of nodes in the [**InkAnalyzer**](inkanalyzer.md) object's collection of [**ContextNode**](icontextnode.md) objects as they occur in the application document.</span></span> <span data-ttu-id="6ae33-120">Ad esempio, ogni volta che viene aggiunta una parola di testo all'applicazione, in **InkAnalyzer** viene creato un **oggetto ContextNode** con stile **TextWord** corrispondente.</span><span class="sxs-lookup"><span data-stu-id="6ae33-120">For example, each time a text word is added to the application, a corresponding **TextWord** styled **ContextNode** is created in the **InkAnalyzer**.</span></span> <span data-ttu-id="6ae33-121">Se la posizione della parola di testo sulla pagina viene modificata, la posizione dell' **oggetto ContextNode** corrispondente viene aggiornata nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="6ae33-121">If the location of the text word on the page changes, then the location of the corresponding **ContextNode** is updated at the same time.</span></span> <span data-ttu-id="6ae33-122">Questo metodo è meno efficiente in termini di risorse di elaborazione rispetto al metodo su richiesta, perché ogni modifica del documento comporta un aggiornamento a **InkAnalyzer**, anche se la modifica non influisce sull'input penna.</span><span class="sxs-lookup"><span data-stu-id="6ae33-122">This method is less efficient in terms of computing resources than the on-demand method because every document change involves an update to the **InkAnalyzer**, even if the change does not affect the ink being analyzed.</span></span>

<span data-ttu-id="6ae33-123">Nell'esempio seguente viene illustrato il funzionamento dell'aggiornamento sincrono.</span><span class="sxs-lookup"><span data-stu-id="6ae33-123">The following example is meant to show how synchronous update works.</span></span> <span data-ttu-id="6ae33-124">Si supponga di disporre di un'applicazione con un modello di documento esistente.</span><span class="sxs-lookup"><span data-stu-id="6ae33-124">Imagine an application that has an existing document model.</span></span> <span data-ttu-id="6ae33-125">Quando l'utente finale apporta una modifica al documento, ad esempio aggiungendo nuovo testo, la modifica viene elaborata come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="6ae33-125">When the end-user makes a change to the document, such as adding new text, the change is processed as follows:</span></span>

1.  <span data-ttu-id="6ae33-126">L'utente finale crea i nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="6ae33-126">The end user creates the new data.</span></span>
2.  <span data-ttu-id="6ae33-127">L'applicazione determina come elaborare i dati, archiviarli ed eseguirne il rendering.</span><span class="sxs-lookup"><span data-stu-id="6ae33-127">The application determines how to process the data, stores it, and renders it.</span></span>
3.  <span data-ttu-id="6ae33-128">Ai fini pratici, i passaggi seguenti avvengono simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="6ae33-128">For practical purposes, the following steps take place simultaneously.</span></span>
    1.  <span data-ttu-id="6ae33-129">L'applicazione inserisce i dati nel modello di documento.</span><span class="sxs-lookup"><span data-stu-id="6ae33-129">The application places the data into its document model.</span></span>
    2.  <span data-ttu-id="6ae33-130">L'applicazione crea un [**oggetto InkAnalyzer**](inkanalyzer.md) e lo aggiorna.</span><span class="sxs-lookup"><span data-stu-id="6ae33-130">The application creates an [**InkAnalyzer**](inkanalyzer.md) and updates it.</span></span> <span data-ttu-id="6ae33-131">Questa operazione garantisce simultaneamente che l' **oggetto InkAnalyzer** disponga sempre delle informazioni più recenti.</span><span class="sxs-lookup"><span data-stu-id="6ae33-131">Doing this simultaneously assures that the **InkAnalyzer** always has the most recent information.</span></span>
    3.  <span data-ttu-id="6ae33-132">L'applicazione chiama [**BackgroundAnalyze**](iinkanalyzer-backgroundanalyze.md) sull' [**oggetto InkAnalyzer**](inkanalyzer.md) per iniziare l'analisi.</span><span class="sxs-lookup"><span data-stu-id="6ae33-132">The application calls [**BackgroundAnalyze**](iinkanalyzer-backgroundanalyze.md) on the [**InkAnalyzer**](inkanalyzer.md) to begin analysis.</span></span>
4.  <span data-ttu-id="6ae33-133">Una serie di eventi viene generata se la modifica riguarda l'input penna e l' [**oggetto InkAnalyzer**](inkanalyzer.md) determina nuovi risultati.</span><span class="sxs-lookup"><span data-stu-id="6ae33-133">A series of events is fired if the change involves ink and the [**InkAnalyzer**](inkanalyzer.md) determines new results.</span></span> <span data-ttu-id="6ae33-134">Viene generato un evento per ogni modifica apportata alla raccolta di oggetti [**ContextNode**](icontextnode.md) nell' **oggetto InkAnalyzer**.</span><span class="sxs-lookup"><span data-stu-id="6ae33-134">One event is fired for each change made to the collection of [**ContextNode**](icontextnode.md) objects in the **InkAnalyzer**.</span></span> <span data-ttu-id="6ae33-135">Questi eventi includono [**ContextNodeCreated**](-ianalysisproxyevents-contextnodecreated.md), [**l'ContextNodeDeleting**](-ianalysisproxyevents-contextnodedeleting.md), [**ContextNodeMovingToPosition**](-ianalysisproxyevents-contextnodemovingtoposition.md), [**ContextNodePropertiesUpdated**](-ianalysisproxyevents-contextnodepropertiesupdated.md), [**ContextNodeLinkAdding**](-ianalysisproxyevents-contextnodelinkadding.md), [**l'ContextNodeLinkDeleting**](-ianalysisproxyevents-contextnodelinkdeleting.md)e [**l'ContextNodeReparenting**](-ianalysisproxyevents-contextnodereparenting.md).</span><span class="sxs-lookup"><span data-stu-id="6ae33-135">These events include [**ContextNodeCreated**](-ianalysisproxyevents-contextnodecreated.md), [**ContextNodeDeleting**](-ianalysisproxyevents-contextnodedeleting.md), [**ContextNodeMovingToPosition**](-ianalysisproxyevents-contextnodemovingtoposition.md), [**ContextNodePropertiesUpdated**](-ianalysisproxyevents-contextnodepropertiesupdated.md), [**ContextNodeLinkAdding**](-ianalysisproxyevents-contextnodelinkadding.md), [**ContextNodeLinkDeleting**](-ianalysisproxyevents-contextnodelinkdeleting.md), and [**ContextNodeReparenting**](-ianalysisproxyevents-contextnodereparenting.md).</span></span> <span data-ttu-id="6ae33-136">L'applicazione gestisce questi eventi per eseguire il proxy dei risultati dell'operazione di analisi nel modello di documento nel modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="6ae33-136">The application handles these events to proxy the results of the analysis operation back into the document model as appropriate.</span></span>
5.  <span data-ttu-id="6ae33-137">L'applicazione aggiorna il layout del documento, estraendo i nuovi dati dal modello di documento.</span><span class="sxs-lookup"><span data-stu-id="6ae33-137">The application updates the layout of the document, pulling the new data from the document model.</span></span>
6.  <span data-ttu-id="6ae33-138">Viene eseguito il rendering dei nuovi dati all'utente finale.</span><span class="sxs-lookup"><span data-stu-id="6ae33-138">The new data is rendered back to the end user.</span></span>

### <a name="on-demand-update"></a><span data-ttu-id="6ae33-139">Aggiornamento su richiesta</span><span class="sxs-lookup"><span data-stu-id="6ae33-139">On-Demand Update</span></span>

<span data-ttu-id="6ae33-140">L'approccio su richiesta richiede solo che i dati vengano passati per gli oggetti [**ContextNode**](icontextnode.md) presenti nelle aree analizzate.</span><span class="sxs-lookup"><span data-stu-id="6ae33-140">The on-demand approach only requires the data to be passed for those [**ContextNode**](icontextnode.md) objects that are in the areas that are being analyzed.</span></span> <span data-ttu-id="6ae33-141">Gli oggetti **ContextNode** necessari vengono estratti dal modello di documento dell'applicazione subito dopo che è stata richiamata l'operazione di analisi e di nuovo prima di riconciliare i risultati.</span><span class="sxs-lookup"><span data-stu-id="6ae33-141">The needed **ContextNode** objects are extracted from the application's document model just after the analysis operation is invoked, and again just prior to reconciling the results.</span></span> <span data-ttu-id="6ae33-142">Sebbene sia più complicato implementare degli aggiornamenti sincroni, questo approccio consente di ottenere risultati migliori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="6ae33-142">While more complicated to implement than synchronous updates, this approach yields better performance results.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6ae33-143">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="6ae33-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6ae33-144">Panoramica dell'analisi dell'input penna</span><span class="sxs-lookup"><span data-stu-id="6ae33-144">Ink Analysis Overview</span></span>](ink-analysis-overview.md)
</dt> <dt>

[<span data-ttu-id="6ae33-145">**Classe InkAnalyzer (C++)**</span><span class="sxs-lookup"><span data-stu-id="6ae33-145">**InkAnalyzer Class (C++)**</span></span>](inkanalyzer.md)
</dt> <dt>

<span data-ttu-id="6ae33-146">[**Microsoft. Ink. InkAnalyzer**](/previous-versions/ms583671(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="6ae33-146">[**Microsoft.Ink.InkAnalyzer**](/previous-versions/ms583671(v=vs.100))</span></span>
</dt> <dt>

<span data-ttu-id="6ae33-147">[**Microsoft. Ink. ContextNode**](/previous-versions/ms551996(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="6ae33-147">[**Microsoft.Ink.ContextNode**](/previous-versions/ms551996(v=vs.100))</span></span>
</dt> </dl>

 

 
