---
description: Panoramica delle considerazioni relative al threading quando si usa il Application Programming Interface di StylusInput (API).
ms.assetid: 5d98768a-c60b-4bb0-8640-9bf38254d41f
title: Considerazioni relative al threading per l'API StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 530ac95fdf0e74e30c83a437b6ed573d03bb2c91
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103881933"
---
# <a name="threading-considerations-for-the-stylusinput-api"></a><span data-ttu-id="af448-103">Considerazioni relative al threading per l'API StylusInput</span><span class="sxs-lookup"><span data-stu-id="af448-103">Threading Considerations for the StylusInput API</span></span>

<span data-ttu-id="af448-104">L'oggetto [**RealTimeStylus**](realtimestylus-class.md) è progettato per fornire l'accesso in tempo reale al flusso di dati dalla penna del Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="af448-104">The [**RealTimeStylus**](realtimestylus-class.md) object is designed to provide real-time access to the data stream from the tablet pen.</span></span> <span data-ttu-id="af448-105">I plug-in, ovvero gli oggetti che implementano l'interfaccia [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) o [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) , possono essere aggiunti a un oggetto **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="af448-105">Plug-ins, objects which implement the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) or [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface can be added to a **RealTimeStylus** object.</span></span> <span data-ttu-id="af448-106">I plug-in sincroni vengono generalmente chiamati direttamente dall'oggetto **RealTimeStylus** su un thread ad alta priorità, mentre i plug-in asincroni vengono in genere chiamati sul thread dell'interfaccia utente dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="af448-106">Synchronous plug-ins are generally called directly by the **RealTimeStylus** object on a high-priority thread, while asynchronous plug-ins are generally called on the application's user interface (UI) thread.</span></span> <span data-ttu-id="af448-107">Creare o usare plug-in sincroni per le attività che richiedono l'accesso in tempo reale al flusso di dati e non richiedono un calcolo, ad esempio il filtro dei pacchetti.</span><span class="sxs-lookup"><span data-stu-id="af448-107">Create or use synchronous plug-ins for tasks that require real-time access to the data stream and are computationally undemanding, such as packet filtering.</span></span> <span data-ttu-id="af448-108">Creare o usare plug-in asincroni per le attività che non richiedono l'accesso in tempo reale al flusso di dati, ad esempio la raccolta di input penna.</span><span class="sxs-lookup"><span data-stu-id="af448-108">Create or use asynchronous plug-ins for tasks that do not require real-time access to the data stream, such as ink collection.</span></span>

<span data-ttu-id="af448-109">Poiché i dati del plug-in per la raccolta di plug-in asincrona dell'oggetto [**RealTimeStylus**](realtimestylus-class.md) sono accodati, i plug-in asincroni possono ricevere dati prima di ricevere una chiamata al metodo [RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) , ma dopo che l'oggetto **RealTimeStylus** è stato disabilitato.</span><span class="sxs-lookup"><span data-stu-id="af448-109">Because the plug-in data for the [**RealTimeStylus**](realtimestylus-class.md) object's asynchronous plug-in collection is queued, asynchronous plug-ins may receive data prior to receiving a call to its [RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) method but after the **RealTimeStylus** object is disabled.</span></span> <span data-ttu-id="af448-110">Si noti che alcuni metodi e proprietà dell'oggetto **RealTimeStylus** generano un'eccezione se l'oggetto **RealTimeStylus** è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="af448-110">Note that some of the **RealTimeStylus** object's methods and properties throw an exception if the **RealTimeStylus** object is disabled.</span></span>

<span data-ttu-id="af448-111">I metodi di interfaccia [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) seguenti possono chiamare su un thread diverso dal thread di dati della penna del Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="af448-111">The following [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface methods may call on a thread other than the tablet pen data thread.</span></span>

-   <span data-ttu-id="af448-112">I metodi [RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) e [RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) vengono chiamati sul thread che aggiorna la proprietà [Enabled](/previous-versions/ms585380(v=vs.100)) dell'oggetto [**RealTimeStylus**](realtimestylus-class.md) o che aggiunge o rimuove il plug-in mentre l'oggetto **RealTimeStylus** è abilitato.</span><span class="sxs-lookup"><span data-stu-id="af448-112">The [RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) and [RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) methods are called on the thread that updates the [**RealTimeStylus**](realtimestylus-class.md) object's [Enabled](/previous-versions/ms585380(v=vs.100)) property or that adds or removes the plug-in while the **RealTimeStylus** object is enabled.</span></span>
-   <span data-ttu-id="af448-113">Il metodo [CustomStylusDataAdded](/previous-versions/ms824753(v=msdn.10)) viene chiamato sul thread che chiama il metodo [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) dell'oggetto [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="af448-113">The [CustomStylusDataAdded](/previous-versions/ms824753(v=msdn.10)) method is called on the thread that calls the [**RealTimeStylus**](realtimestylus-class.md) object's [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method.</span></span>
-   <span data-ttu-id="af448-114">Il metodo [Error](/previous-versions/ms824754(v=msdn.10)) viene chiamato sul thread in cui è in esecuzione il plug-in sincrono quando viene generata un'eccezione.</span><span class="sxs-lookup"><span data-stu-id="af448-114">The [Error](/previous-versions/ms824754(v=msdn.10)) method is called on the thread on which the synchronous plug-in is running when it throws an exception.</span></span>

<span data-ttu-id="af448-115">Per interagire con l'applicazione da un plug-in sincrono, usare il metodo [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) dell'oggetto [**RealTimeStylus**](realtimestylus-class.md) e gestire i dati dello stilo personalizzati in uno dei plug-in asincroni. Se si effettua una chiamata sincrona a un altro thread da un plug-in sincrono, è possibile bloccare l'oggetto **RealTimeStylus** e quindi bloccare la raccolta di input penna.</span><span class="sxs-lookup"><span data-stu-id="af448-115">To interact with your application from a synchronous plug-in, use the [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method of the [**RealTimeStylus**](realtimestylus-class.md) object and handle the custom stylus data in one of your asynchronous plug-ins. If you make a synchronous call to another thread from a synchronous plug-in, you may block the **RealTimeStylus** object and thus block ink collection.</span></span>

<span data-ttu-id="af448-116">Alcune attività possono essere richieste dal punto di vista del calcolo, ma richiedono comunque l'accesso in tempo reale al flusso di dati della penna del tablet, ad esempio per il riconoscimento dei movimenti a più tratti.</span><span class="sxs-lookup"><span data-stu-id="af448-116">Certain tasks may be computationally demanding yet still require real-time access to the tablet pen's data stream, such as for multistroke gesture recognition.</span></span> <span data-ttu-id="af448-117">Le API StylusInput forniscono un modello [**RealTimeStylus**](realtimestylus-class.md) a cascata che consente di usare due oggetti **RealTimeStylus** , ciascuno dei quali chiama i relativi plug-in sincroni da thread diversi.</span><span class="sxs-lookup"><span data-stu-id="af448-117">The StylusInput APIs provide a cascaded [**RealTimeStylus**](realtimestylus-class.md) model that allows you to use two **RealTimeStylus** objects, each one calling its synchronous plug-ins from different threads.</span></span> <span data-ttu-id="af448-118">Per ulteriori informazioni sul modello **RealTimeStylus** a cascata, vedere [il modello di RealTimeStylus a cascata](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="af448-118">For more information about the cascaded **RealTimeStylus** model, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

> [!Note]  
> <span data-ttu-id="af448-119">Non è possibile aggiungere l'oggetto [**RealTimeStylus**](realtimestylus-class.md) a una finestra o a un controllo in un processo diverso.</span><span class="sxs-lookup"><span data-stu-id="af448-119">You cannot attach the [**RealTimeStylus**](realtimestylus-class.md) object to a window or control in a different process.</span></span>

 

<span data-ttu-id="af448-120">Per ulteriori informazioni sulle considerazioni relative al threading per Tablet PC in generale, vedere [considerazioni sul threading del Tablet PC](tablet-pc-threading-considerations.md) .</span><span class="sxs-lookup"><span data-stu-id="af448-120">For more information about threading considerations for the Tablet PC in general, see [Tablet PC Threading Considerations](tablet-pc-threading-considerations.md)</span></span>

 

 
