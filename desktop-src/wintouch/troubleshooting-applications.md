---
title: Risoluzione dei problemi relativi alle applicazioni
description: In questa sezione vengono fornite soluzioni ai problemi comuni.
ms.assetid: dfdc5a97-aa0a-4011-8f61-6e405e28b6f8
keywords:
- Windows Touch,risoluzione dei problemi delle applicazioni
- Windows Touch, rifiuto di palmo
- palm rejection
- Windows Touch, supporto legacy
- risoluzione dei problemi Windows Touch
- inerzia, risoluzione dei problemi delle applicazioni
- manipolazioni, risoluzione dei problemi delle applicazioni
- movimenti, risoluzione dei problemi delle applicazioni
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 389d200cedc57b7f128a535355b12a9288c6e9eb
ms.sourcegitcommit: 099ecdda1e83618b844387405da0db0ebda93a65
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/04/2021
ms.locfileid: "111443148"
---
# <a name="troubleshooting-applications"></a>Risoluzione dei problemi relativi alle applicazioni

In questa sezione vengono fornite soluzioni ai problemi comuni.

## <a name="general-troubleshooting"></a>Risoluzione di problemi generali



| Categoria | Descrizione |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Si esegue Windows Server 2008 e Windows Touch funzionalità non funzionano.                                                                                                                                                                                                                                       |
| Causa    | Esperienza desktop non è stata abilitata.                                                                                                                                                                                                                                                                        |
| Soluzione | Aprire lo strumento Server Manager amministrativo: fare clic su **Start**, scegliere **Strumenti di** amministrazione , quindi fare clic **su Server Manager**. Fare clic **sull'elemento** Funzionalità nella colonna a sinistra. Fare **clic su Aggiungi** funzionalità nella **sezione** Funzionalità. Selezionare **Esperienza desktop,** fare clic **su Avanti** e quindi su **Installa.** |



 



| Categoria | Descrizione |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Ogni volta che si sposta rapidamente il dito nell'applicazione, viene visualizzata una freccia e il movimento o la manipolazione non viene registrato correttamente.                                                             |
| Causa    | Quando non è necessario, sono abilitati i gesti rapidi.                                                                                                                                                      |
| Soluzione | I gesti rapidi sono abilitati quando si vuole che sia disabilitato. Per [informazioni sulla disabilitazione dei gesti rapidi](legacy-support-for-panning-with-scrollbars.md) della penna, vedere Supporto legacy per la panoramica con le barre di scorrimento. |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Non è possibile distinguere tra input del mouse e input Windows Touch mouse.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Windows genera messaggi del mouse per il supporto legacy quando un utente fa clic sullo schermo.</td>
</tr>
<tr class="odd">
<td>Soluzione</td>
<td>È possibile chiamare <a href="/windows/win32/api/winuser/nf-winuser-getmessageextrainfo">GetMessageExtraInfo</a> per i messaggi <strong>WM_LBUTTONDOWN</strong> e <strong>WM_LBUTTONUP</strong> per determinare l'origine. Nel codice seguente viene illustrato come eseguire questa operazione. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#define MOUSEEVENTF_FROMTOUCH 0xFF515700

if ((GetMessageExtraInfo() & MOUSEEVENTF_FROMTOUCH) == MOUSEEVENTF_FROMTOUCH) { 
    // Click was generated by wisptis / Windows Touch
}else{ 
    // Click was generated by the mouse.
}
</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



| Categoria | Descrizione |
|----------|------------------------------------------------------------------------------------|
| Problema    | Ricerca per categorie eseguire applicazioni Microsoft PixelSense in Windows 7?                       |
| Causa    | Windows Touch e Microsoft PixelSense non sono compatibili.                           |
| Soluzione | È necessario scegliere come destinazione la piattaforma Windows 7 o la piattaforma Microsoft PixelSense. |



 

## <a name="troubleshooting-manipulations-and-inertia"></a>Risoluzione dei problemi relativi a modifiche e inerzia



| Categoria | Descrizione |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | L'applicazione si blocca senza motivo. Si verificano violazioni di accesso quando si inizializzano le interfacce degli oggetti.                                                                                                                                          |
| Causa    | Manca una chiamata a **CoInitialize** quando si usano [**le interfacce IManipulationProcessor**](/windows/desktop/api/manipulations/nn-manipulations-imanipulationprocessor) [**o IInertiaProcessor.**](/windows/desktop/api/manipulations/nn-manipulations-iinertiaprocessor)                                                                                 |
| Soluzione | Questo problema può essere causato dalla creazione di un'istanza degli oggetti Windows Touch Component Object Model (COM) senza chiamare CoInitialize. Ciò si verifica a volte quando si convertono progetti dall'uso di movimenti all'uso delle manipolazioni o delle interfacce di inerzia. |



 



| Categoria | Descrizione |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | L'oggetto ruota in modo non corretto durante la traduzione. La rotazione con un solo dito non funziona correttamente.                                                                                                                                                                                                                                                                           |
| Causa    | Impostazione non corretta dei pivot in un oggetto.                                                                                                                                                                                                                                                                                                                                                 |
| Soluzione | I punti pivot di manipolazione non vengono configurati correttamente. Impostare le [**proprietà PivotPointX**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointx) e [**PivotPointY**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointy) al centro dell'oggetto o del punto in cui si vuole ruotare e la proprietà [**PivotRadius**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotradius) sul raggio dell'oggetto. |



 

## <a name="troubleshooting-windows-touch-input"></a>Risoluzione dei Windows Touch input



| Categoria | Descrizione |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Dopo aver gestito il [**messaggio WM \_ TOUCH,**](wm-touchdown.md) non si riceve più il feedback sui limiti.                                                                                                                                                                                                                                        |
| Causa    | Utilizzo del [**messaggio WM \_ TOUCH**](wm-touchdown.md) senza gestirlo.                                                                                                                                                                                                                                                           |
| Soluzione | È probabile che si sta utilizzando Windows Touch un messaggio senza inoltrarlo a **DefWindowProc,** il che comporta un comportamento imprevisto. Per [altre Attività iniziali su come gestire correttamente i messaggi](getting-started-with-multi-touch-messages.md) [**WM \_ TOUCH,**](wm-touchdown.md) vedere Windows Touch con i messaggi di posta elettronica. |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Sto includendo windows.h, ma continua a dire che <a href="wm-touchdown.md"><strong>WM_TOUCH</strong></a> non è definito.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>La versione di Windows in Targetver.h non è corretta.</td>
</tr>
<tr class="odd">
<td>Soluzione</td>
<td>Non è stata impostata la versione di Windows corretta nel progetto. Il codice seguente illustra le versioni di Windows impostate correttamente per Windows Touch in Windows 7. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#ifndef WINVER                  // Specify that the minimum required platform is Windows 7.
#define WINVER 0x0601           
#endif</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Le coordinate x e y dell'input tocco sembrano non valide. Si tratta di valori più grandi del previsto o di valori negativi.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Potrebbe essere necessario convertire i punti di tocco in pixel o convertire le coordinate dello schermo.</td>
</tr>
<tr class="odd">
<td>Soluzione</td>
<td>Assicurarsi di chiamare <a href="/windows/desktop/api/winuser/nf-winuser-touch_coord_to_pixel"><strong></strong></a> TOUCH_COORD_TO_PIXEL <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>e ScreenToClient.</strong></a> A tal fine, osservare il codice indicato di seguito. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>      POINT ptInput;
      if (GetTouchInputInfo((HTOUCHINPUT)lParam, cInputs, pInputs, sizeof(TOUCHINPUT))){
        for (int i=0; i < static_cast<INT>(cInputs); i++){
          TOUCHINPUT ti = pInputs[i];                       
          if (ti.dwID != 0){                
            // Do something with your touch input handle.
            ptInput.x = TOUCH_COORD_TO_PIXEL(ti.x);
            ptInput.y = TOUCH_COORD_TO_PIXEL(ti.y);
            ScreenToClient(hWnd, &ptInput);
            points[ti.dwID][0] = ptInput.x;
            points[ti.dwID][1] = ptInput.y;
          }
        }
      }</code></pre></td>
</tr>
</tbody>
</table>

<div class="alert">
<blockquote>
[!Note]<br />
Per usare la funzione <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient,</strong></a> è necessario avere un supporto DPI elevato nell'applicazione. Per altre informazioni sul supporto di valori DPI alti, visitare la <a href=" /windows/win32/hidpi/high-dpi-desktop-application-development-on-windows">sezione Relativa ai valori DPI</a> alti di MSDN.
</blockquote>
</div>
<div>
 
</div></td>
</tr>
</tbody>
</table>



 



| Categoria | Descrizione |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | I messaggi [**WM \_ TOUCH**](wm-touchdown.md) non vengono visualizzati, ma è Windows Touch perché vengono visualizzati [**messaggi WM \_ GESTURE.**](wm-gesture.md)                                                             |
| Causa    | Manca una chiamata a [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow).                                                                                                                                                          |
| Soluzione | [**WM \_ I messaggi TOUCH**](wm-touchdown.md) [**e WM \_ GESTURE**](wm-gesture.md) si escludono a vicenda. Se non si chiama [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow), si riceveranno solo messaggi **WM \_ GESTURE.** |



 



| Categoria | Descrizione |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Si notno piccoli ritardi dal momento in cui si tocca il dito verso il basso fino a quando si riceve l'input nell'applicazione.                                                                                                                                                                                                                                         |
| Causa    | Il rifiuto del palmo causa ritardi nell'input.                                                                                                                                                                                                                                                                                                            |
| Soluzione | Se **TWF \_ WANTPALM** è impostato nelle chiamate a [**RegisterTouchWindow,**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)il rifiuto tramite palmo è abilitato. Ciò causa un piccolo ritardo (100 ms) mentre il software verifica se l'input proviene da un dito, una penna o il palmo dell'utente. Disabilitare il rifiuto del palmo **chiamando RegisterTouchWindow** con il flag **\_ TWF WANTPALM** deselezionato. |



 

## <a name="troubleshooting-windows-touch-gestures"></a>Risoluzione dei Windows Touch movimenti



| Categoria | Descrizione |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Dopo la gestione del [**messaggio WM \_ GESTURE,**](wm-gesture.md) non si riceve più il feedback sui limiti. In caso contrario, un movimento che funzionava in precedenza non funziona ora.                                                                                                                                                                                                                         |
| Causa    | Utilizzo del [**messaggio WM \_ GESTURE**](wm-gesture.md) senza gestirlo.                                                                                                                                                                                                                                                                                                    |
| Soluzione | È probabile che si sta utilizzando Windows Touch messaggio senza inoltrarlo a [DefWindowProc](/windows/win32/api/winuser/nf-winuser-defwindowproca), che avrà un comportamento imprevisto. Per altre informazioni su come gestire correttamente i messaggi [**WM \_ GESTURE,**](wm-gesture.md) vedere Attività iniziali con i movimenti di [Windows.](getting-started-with-multi-touch-gestures.md) |



 



| Categoria | Descrizione |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | I messaggi [**WM \_ GESTURE**](wm-gesture.md) non vengono visualizzati, ma è Windows Touch perché vengono visualizzati [**messaggi WM \_ TOUCH.**](wm-touchdown.md)                                                      |
| Causa    | Chiamata [**di RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow).                                                                                                                                                             |
| Soluzione | [**WM \_ I messaggi TOUCH**](wm-touchdown.md) [**e WM \_ GESTURE**](wm-gesture.md) si escludono a vicenda. Se si chiama [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow), non si riceveranno **messaggi WM \_ GESTURE.** |



 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Non vengono visualizzati tutti i movimenti previsti. Ad esempio, i movimenti vengono visualizzati con l'identificatore <strong>GID_PAN</strong> ma non <strong>GID_ROTATE</strong>.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Alcuni movimenti, ad esempio il movimento di rotazione, non sono abilitati per impostazione predefinita.</td>
</tr>
<tr class="odd">
<td>Soluzione</td>
<td>È necessario chiamare <a href="/windows/desktop/api/winuser/nf-winuser-setgestureconfig"><strong>SetGestureConfig</strong></a> quando si riceve un messaggio <a href="wm-gesturenotify.md"><strong>WM_GESTURENOTIFY</strong></a> come descritto nel riferimento <strong>WM_GESTURENOTIFY</strong> oppure aggiungere un gestore per il messaggio <strong>WM_GESTURENOTIFY.</strong> Il codice seguente illustra come può essere implementato un gestore per abilitare il supporto per la rotazione. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>// The message map.
BEGIN_MESSAGE_MAP()
    ON_WM_CREATE()
     ... ... ...
    ON_MESSAGE(WM_GESTURENOTIFY, OnWindowsGestureNotify)
END_MESSAGE_MAP()  

LRESULT CTestWndApp::OnWindowsGestureNotify(
    UINT    uMsg,
    WPARAM  wParam,
    LPARAM  lParam,
    BOOL&   bHandled
    ){
    GESTURECONFIG gc;
    gc.dwID    = GID_ROTATE; // The gesture identifier.
    gc.dwWant  = GC_ROTATE;  // The gesture command you are enabling for GID_ROTATE.
    gc.dwBlock = 0;          // Don&#39;t block anything.
    UINT uiGcs = 1;          // The number of gestures being set.

  BOOL bResult = SetGestureConfig(g_hMainWnd, 0, uiGcs, &gc, sizeof(GESTURECONFIG));
    if(!bResult) {
        // Something went wrong, report the error using your preferred logging.
    }

  return 0;
}  </code></pre></td>
</tr>
</tbody>
</table>

Per altri esempi di configurazioni tipiche dei movimenti, <strong>vedere SetGestureConfig</strong>.</td>
</tr>
</tbody>
</table>



 



| Categoria | Descrizione |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Le barre di scorrimento personalizzate nell'applicazione non scorrono quando si esegue il movimento di panoramica.                                                                                                                                                                                                                                                                                                         |
| Causa    | Gestori mancanti per i messaggi WM \_ \* SCROLL corretti.                                                                                                                                                                                                                                                                                                                                            |
| Soluzione | Non si stanno gestendo tutti i messaggi WM \_ \* SCROLL nelle barre di scorrimento personalizzate. È consigliabile gestire il messaggio [**WM \_ GESTURE**](wm-gesture.md) anziché mantenere la funzionalità personalizzata della barra di scorrimento tramite il supporto legacy. È necessario supportare i messaggi come descritto in dettaglio nella sezione [Supporto legacy per la panoramica con barre di scorrimento](legacy-support-for-panning-with-scrollbars.md). |



 



| Categoria | Descrizione |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Si verificano ritardi per i movimenti.                                                                                                                                                                                                                               |
| Causa    | I gesti rapidi possono causare ritardi per i movimenti.                                                                                                                                                                                                                      |
| Soluzione | I movimenti rapidi possono causare ritardi per il tempo necessario all'applicazione per ricevere [**messaggi WM \_ GESTURE.**](wm-gesture.md) Per [informazioni sulla disabilitazione dei gesti rapidi,](legacy-support-for-panning-with-scrollbars.md) vedere Supporto legacy per la panoramica con le barre di scorrimento. |



 

## <a name="related-topics"></a>Argomenti correlati

<dl> <dt>

[Guida per programmatori](programming-guide.md)
</dt> </dl>

 

 