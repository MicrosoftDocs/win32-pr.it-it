---
title: Recupero delle informazioni sull'identità
description: Il fornitore che implementa il protocollo di autenticazione può anche fornire un'interfaccia funzione che ottenga le informazioni di identificazione iniziali per l'utente che richiede l'autenticazione.
ms.assetid: 773c9fdb-c810-4cea-afed-df6484a9c9c9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bb9519da9d66937fd25245fe78f12ef34c3c0ad8
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "104046585"
---
# <a name="obtaining-identity-information"></a><span data-ttu-id="1f0fe-103">Recupero delle informazioni sull'identità</span><span class="sxs-lookup"><span data-stu-id="1f0fe-103">Obtaining Identity Information</span></span>

<span data-ttu-id="1f0fe-104">Il fornitore che implementa il protocollo di autenticazione può anche fornire un'interfaccia funzione che ottenga le informazioni di identificazione iniziali per l'utente che richiede l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-104">The vendor that implements the authentication protocol may also provide a function interface that obtains initial identifying information for the user requesting authentication.</span></span>

<span data-ttu-id="1f0fe-105">Il fornitore deve implementare le funzioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-105">The vendor should implement the following functions.</span></span>

-   [<span data-ttu-id="1f0fe-106">**RasEapGetIdentity**</span><span class="sxs-lookup"><span data-stu-id="1f0fe-106">**RasEapGetIdentity**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity)
-   [<span data-ttu-id="1f0fe-107">**RasEapFreeMemory**</span><span class="sxs-lookup"><span data-stu-id="1f0fe-107">**RasEapFreeMemory**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory)

<span data-ttu-id="1f0fe-108">Queste funzioni possono essere implementate nella stessa DLL del protocollo di autenticazione o in una DLL separata.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-108">These functions may be implemented in the same DLL as the authentication protocol, or in a separate DLL.</span></span> <span data-ttu-id="1f0fe-109">Inoltre, la DLL che implementa le funzioni di identità può supportare più di un protocollo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-109">Also, the DLL that implements the identity functions may support more than one authentication protocol.</span></span> <span data-ttu-id="1f0fe-110">Il percorso della DLL per queste funzioni viene archiviato nel valore del registro di sistema [RAS \_ EAP \_ valueName \_ Identity](authentication-protocol-registry-values.md) , sotto la chiave per il protocollo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-110">The path to the DLL for these functions is stored in the [RAS\_EAP\_VALUENAME\_IDENTITY](authentication-protocol-registry-values.md) registry value, under the key for the authentication protocol.</span></span> <span data-ttu-id="1f0fe-111">Per ulteriori informazioni sulla creazione di questo valore del registro di sistema, vedere [EAP Installation](eap-installation.md).</span><span class="sxs-lookup"><span data-stu-id="1f0fe-111">For more information about creating this registry value, see [EAP Installation](eap-installation.md).</span></span>

<span data-ttu-id="1f0fe-112">La funzione [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) Visualizza in genere un'interfaccia utente (UI) per ottenere informazioni sull'identità per l'utente.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-112">The [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) function typically displays a user interface (UI) to obtain identity information for the user.</span></span> <span data-ttu-id="1f0fe-113">Tuttavia, se il parametro *dwFlags* contiene il flag RAS \_ EAP \_ flag \_ non \_ interattivo, **RasEapGetIdentity** non dovrebbe visualizzare un'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-113">However, if the *dwFlags* parameter contains the RAS\_EAP\_FLAG\_NON\_INTERACTIVE flag, **RasEapGetIdentity** should not display a UI.</span></span>

<span data-ttu-id="1f0fe-114">Se [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) Visualizza un'interfaccia utente, l'interfaccia utente deve supportare i messaggi di [**\_ comando WM**](../menurc/wm-command.md) in cui il valore di [**LOWORD**](/previous-versions/windows/desktop/legacy/ms632659(v=vs.85))(*wParam*) è uguale a IDCANCEL.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-114">If [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) does display a UI, the UI must support [**WM\_COMMAND**](../menurc/wm-command.md) messages where the value of [**LOWORD**](/previous-versions/windows/desktop/legacy/ms632659(v=vs.85))(*wParam*) is equal to IDCANCEL.</span></span>

<span data-ttu-id="1f0fe-115">Il servizio di autenticazione chiama [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) se il valore di [RAS \_ EAP \_ valueName \_ Invoke \_ NAMEDLG](authentication-protocol-registry-values.md) che si trova nel registro di sistema per questo EAP è impostato su zero.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-115">The authentication service calls [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) if the [RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG](authentication-protocol-registry-values.md) value that is in the registry for this EAP is set to zero.</span></span> <span data-ttu-id="1f0fe-116">Se RAS \_ EAP \_ valueName \_ Invoke \_ NAMEDLG non è presente oppure è presente e è impostato su uno, il servizio di autenticazione Visualizza la finestra di dialogo nome utente sistema standard.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-116">If RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG is not present, or is present and is set to one, the authentication service displays the standard system user name dialog box.</span></span>

<span data-ttu-id="1f0fe-117">Oltre a RAS \_ EAP \_ valueName \_ Invoke \_ NAMEDLG, il fornitore EAP può creare un valore correlato, [RAS \_ EAP \_ valueName \_ Invoke \_ PWDDLG](authentication-protocol-registry-values.md), nel registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-117">In addition to RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG, the EAP vendor may create a related value, [RAS\_EAP\_VALUENAME\_INVOKE\_PWDDLG](authentication-protocol-registry-values.md), in the registry.</span></span> <span data-ttu-id="1f0fe-118">Se questo valore è presente ed è impostato su zero, il servizio non visualizzerà la finestra di dialogo password di sistema standard.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-118">If this value is present and is set to zero, the service will not display the standard system password dialog.</span></span> <span data-ttu-id="1f0fe-119">Questo valore è utile quando si implementa un metodo biometrico, ad esempio un'analisi delle impronte digitali, per autenticare l'utente.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-119">This value is useful when implementing a biometric method such as a fingerprint scan to authenticate the user.</span></span> <span data-ttu-id="1f0fe-120">Se entrambi i \_ \_ valori di Ras EAP valueName \_ Invoke \_ NAMEDLG e RAS \_ EAP \_ valueName \_ Invoke \_ PWDDLG sono pari a zero, è possibile usare un'interfaccia utente Identity per ottenere le informazioni sull'identità e sulla biometrica.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-120">If both the RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG and RAS\_EAP\_VALUENAME\_INVOKE\_PWDDLG values are zero, an identity UI could be used to obtain both the identity and biometric information.</span></span> <span data-ttu-id="1f0fe-121">Tuttavia, se solo RAS \_ EAP \_ valueName \_ Invoke \_ PWDDLG è zero, il servizio di autenticazione non chiamerà [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity).</span><span class="sxs-lookup"><span data-stu-id="1f0fe-121">However, if only RAS\_EAP\_VALUENAME\_INVOKE\_PWDDLG is zero, the authentication service will not call [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity).</span></span> <span data-ttu-id="1f0fe-122">In questo caso, è possibile usare l' [interfaccia utente interattiva](interactive-user-interface.md) per ottenere le informazioni biometriche.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-122">In this case, you could use the [interactive user interface](interactive-user-interface.md) to obtain the biometric information.</span></span>

<span data-ttu-id="1f0fe-123">Per ulteriori informazioni su questi valori del registro di sistema, vedere [valori del registro di sistema del protocollo di autenticazione](authentication-protocol-registry-values.md).</span><span class="sxs-lookup"><span data-stu-id="1f0fe-123">For more information on these registry values, see [Authentication Protocol Registry Values](authentication-protocol-registry-values.md).</span></span>

<span data-ttu-id="1f0fe-124">Le informazioni ottenute da [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) vengono passate al protocollo di autenticazione durante la chiamata a [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="1f0fe-124">The information obtained by [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) is passed to the authentication protocol during the call to [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)).</span></span> <span data-ttu-id="1f0fe-125">Le informazioni sono indicate dai membri **pszIdentity** e **pUserData** della struttura di [**\_ \_ input EAP PPP**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) .</span><span class="sxs-lookup"><span data-stu-id="1f0fe-125">The information is pointed to by the **pszIdentity** and **pUserData** members of the [**PPP\_EAP\_INPUT**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) structure.</span></span> <span data-ttu-id="1f0fe-126">Per salvare queste informazioni nel registro di sistema del computer client, il protocollo di autenticazione deve restituire le informazioni nel parametro *pEapOutput* di [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="1f0fe-126">To save this information in the registry on the client computer, the authentication protocol should return the information in the *pEapOutput* parameter of [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)).</span></span>

<span data-ttu-id="1f0fe-127">Dopo la chiamata a [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)), il servizio di autenticazione chiama [**RasEapFreeMemory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) per liberare la memoria occupata dai dati.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-127">After the call to [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)), the authentication service calls [**RasEapFreeMemory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) to free the memory occupied by this data.</span></span> <span data-ttu-id="1f0fe-128">Il protocollo di autenticazione deve pertanto copiare le informazioni in un buffer di memoria privato durante la chiamata a **RasEapBegin**.</span><span class="sxs-lookup"><span data-stu-id="1f0fe-128">Therefore, the authentication protocol should copy the information into a private memory buffer during the call to **RasEapBegin**.</span></span>

 

 