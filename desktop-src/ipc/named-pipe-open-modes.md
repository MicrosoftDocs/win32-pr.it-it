---
description: Il server pipe specifica le modalità di accesso alla pipe, sovrapposizione e scrittura nel parametro dwOpenMode della funzione CreateNamedPipe. I client pipe possono specificare queste modalità aperte per i rispettivi handle di pipe utilizzando la funzione CreateFile.
ms.assetid: 88824566-93c7-4941-a4fc-3a7ae9a332a4
title: Modalità di apertura named pipe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97f51d41ea98a47a269634b06ccdad869bd649fa
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103968426"
---
# <a name="named-pipe-open-modes"></a><span data-ttu-id="d9898-104">Modalità di apertura named pipe</span><span class="sxs-lookup"><span data-stu-id="d9898-104">Named Pipe Open Modes</span></span>

<span data-ttu-id="d9898-105">Il server pipe specifica le modalità di accesso alla pipe, sovrapposizione e scrittura nel parametro *dwOpenMode* della funzione [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) .</span><span class="sxs-lookup"><span data-stu-id="d9898-105">The pipe server specifies the pipe access, overlap, and write-through modes in the *dwOpenMode* parameter of the [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) function.</span></span> <span data-ttu-id="d9898-106">I client pipe possono specificare queste modalità aperte per i rispettivi handle di pipe utilizzando la funzione [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) .</span><span class="sxs-lookup"><span data-stu-id="d9898-106">The pipe clients can specify these open modes for their pipe handles using the [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function.</span></span>

## <a name="access-mode"></a><span data-ttu-id="d9898-107">Modalità di accesso</span><span class="sxs-lookup"><span data-stu-id="d9898-107">Access Mode</span></span>

<span data-ttu-id="d9898-108">L'impostazione della modalità di accesso alla pipe equivale a specificare l'accesso in lettura o scrittura associato agli handle del server pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-108">Setting the pipe access mode is equivalent to specifying read or write access associated with the pipe server's handles.</span></span> <span data-ttu-id="d9898-109">La tabella seguente illustra il diritto di accesso generico equivalente per ogni modalità di accesso che è possibile specificare con [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea).</span><span class="sxs-lookup"><span data-stu-id="d9898-109">The following table shows the equivalent generic access right for each access mode you can specify with [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea).</span></span>



| <span data-ttu-id="d9898-110">Modalità di accesso</span><span class="sxs-lookup"><span data-stu-id="d9898-110">Access mode</span></span>            | <span data-ttu-id="d9898-111">Diritto di accesso generico equivalente</span><span class="sxs-lookup"><span data-stu-id="d9898-111">Equivalent generic access right</span></span> |
|------------------------|---------------------------------|
| <span data-ttu-id="d9898-112">accesso PIPE in \_ \_ ingresso</span><span class="sxs-lookup"><span data-stu-id="d9898-112">PIPE\_ACCESS\_INBOUND</span></span>  | <span data-ttu-id="d9898-113">lettura GENERIca \_</span><span class="sxs-lookup"><span data-stu-id="d9898-113">GENERIC\_READ</span></span>                   |
| <span data-ttu-id="d9898-114">accesso PIPE in \_ \_ uscita</span><span class="sxs-lookup"><span data-stu-id="d9898-114">PIPE\_ACCESS\_OUTBOUND</span></span> | <span data-ttu-id="d9898-115">scrittura GENERIca \_</span><span class="sxs-lookup"><span data-stu-id="d9898-115">GENERIC\_WRITE</span></span>                  |
| <span data-ttu-id="d9898-116">accesso tramite PIPE \_ \_ duplex</span><span class="sxs-lookup"><span data-stu-id="d9898-116">PIPE\_ACCESS\_DUPLEX</span></span>   | <span data-ttu-id="d9898-117">\_ \| scrittura generica di lettura generica \_</span><span class="sxs-lookup"><span data-stu-id="d9898-117">GENERIC\_READ \| GENERIC\_WRITE</span></span> |



 

<span data-ttu-id="d9898-118">Se il server pipe crea una pipe con accesso PIPE in \_ \_ ingresso, la pipe è di sola lettura per il server pipe e per il client pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-118">If the pipe server creates a pipe with PIPE\_ACCESS\_INBOUND, the pipe is read-only for the pipe server and write-only for the pipe client.</span></span> <span data-ttu-id="d9898-119">Se il server pipe crea una pipe con accesso tramite PIPE in \_ \_ uscita, la pipe è di sola scrittura per il server pipe e di sola lettura per il client pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-119">If the pipe server creates a pipe with PIPE\_ACCESS\_OUTBOUND, the pipe is write-only for the pipe server and read-only for the pipe client.</span></span> <span data-ttu-id="d9898-120">Una pipe creata con accesso tramite PIPE \_ \_ duplex è in lettura/scrittura sia per il server pipe che per il client pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-120">A pipe created with PIPE\_ACCESS\_DUPLEX is read/write for both the pipe server and the pipe client.</span></span>

<span data-ttu-id="d9898-121">I client pipe che usano [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) per connettersi a un named pipe devono specificare un diritto di accesso nel parametro *dwDesiredAccess* compatibile con la modalità di accesso specificata dal server pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-121">Pipe clients using [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) to connect to a named pipe must specify an access right in the *dwDesiredAccess* parameter that is compatible with the access mode specified by the pipe server.</span></span> <span data-ttu-id="d9898-122">Un client, ad esempio, deve specificare \_ l'accesso in lettura generico per aprire un handle per una pipe creata dal server pipe con accesso tramite pipe in \_ \_ uscita.</span><span class="sxs-lookup"><span data-stu-id="d9898-122">For example, a client must specify GENERIC\_READ access to open a handle for a pipe that the pipe server created with PIPE\_ACCESS\_OUTBOUND.</span></span> <span data-ttu-id="d9898-123">Le modalità di accesso devono essere le stesse per tutte le istanze di una pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-123">The access modes must be the same for all instances of a pipe.</span></span>

<span data-ttu-id="d9898-124">Per leggere gli attributi della pipe, ad esempio la modalità di lettura o di blocco, l'handle della pipe deve avere il \_ \_ diritto di accesso per gli attributi di lettura del file. per scrivere gli attributi della pipe, l'handle della pipe deve avere il diritto di accesso per gli \_ attributi di scrittura file \_</span><span class="sxs-lookup"><span data-stu-id="d9898-124">To read pipe attributes such as the read mode or blocking mode, the pipe handle must have the FILE\_READ\_ATTRIBUTES access right; to write pipe attributes, the pipe handle must have the FILE\_WRITE\_ATTRIBUTES access right.</span></span> <span data-ttu-id="d9898-125">Questi diritti di accesso possono essere combinati con il diritto di accesso generico appropriato per la pipe: \_ lettura generica \_ con \_ attributi di scrittura di file per una pipe di sola lettura o scrittura generica \_ con \_ attributi di lettura del file \_ per una pipe di sola scrittura.</span><span class="sxs-lookup"><span data-stu-id="d9898-125">These access rights can be combined with the generic access right that is appropriate for the pipe: GENERIC\_READ with FILE\_WRITE\_ATTRIBUTES for a read-only pipe, or GENERIC\_WRITE with FILE\_READ\_ATTRIBUTES for a write-only pipe.</span></span> <span data-ttu-id="d9898-126">La restrizione dei diritti di accesso in questo modo garantisce una migliore sicurezza per la pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-126">Restricting access rights in this way provides better security for the pipe.</span></span>

## <a name="overlapped-mode"></a><span data-ttu-id="d9898-127">Modalità sovrapposta</span><span class="sxs-lookup"><span data-stu-id="d9898-127">Overlapped Mode</span></span>

<span data-ttu-id="d9898-128">In modalità sovrapposta, le funzioni che eseguono operazioni di lettura, scrittura e connessione lunghe possono restituire immediatamente un risultato.</span><span class="sxs-lookup"><span data-stu-id="d9898-128">In overlapped mode, functions performing lengthy read, write, and connect operations can return immediately.</span></span> <span data-ttu-id="d9898-129">Ciò consente al thread di eseguire altre operazioni mentre è in esecuzione un'operazione che richiede molto tempo.</span><span class="sxs-lookup"><span data-stu-id="d9898-129">This enables the thread to perform other operations while a time-consuming operation is executing in the background.</span></span> <span data-ttu-id="d9898-130">Per specificare la modalità sovrapposta, usare \_ il \_ flag file sovrapposto.</span><span class="sxs-lookup"><span data-stu-id="d9898-130">To specify overlapped mode, use the FILE\_FLAG\_OVERLAPPED flag.</span></span> <span data-ttu-id="d9898-131">Per altre informazioni, vedere [input e output sincroni e sovrapposti](synchronous-and-overlapped-input-and-output.md).</span><span class="sxs-lookup"><span data-stu-id="d9898-131">For more information, see [Synchronous and Overlapped Input and Output](synchronous-and-overlapped-input-and-output.md).</span></span>

<span data-ttu-id="d9898-132">La funzione [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) consente al client pipe di impostare la modalità sovrapposta ( \_ flag file \_ sovrapposto) per gli handle di pipe utilizzando il parametro *dwFlagsAndAttributes* .</span><span class="sxs-lookup"><span data-stu-id="d9898-132">The [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function allows the pipe client to set overlapped mode (FILE\_FLAG\_OVERLAPPED) for its pipe handles using the *dwFlagsAndAttributes* parameter.</span></span>

## <a name="write-through-mode"></a><span data-ttu-id="d9898-133">Modalità Write-Through</span><span class="sxs-lookup"><span data-stu-id="d9898-133">Write-Through Mode</span></span>

<span data-ttu-id="d9898-134">Consente di specificare la modalità Write-through con la scrittura del flag di FILE \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="d9898-134">Specify write-through mode with FILE\_FLAG\_WRITE\_THROUGH.</span></span> <span data-ttu-id="d9898-135">Questa modalità influiscono solo sulle operazioni di scrittura in pipe di tipo byte tra client pipe e server pipe in computer diversi.</span><span class="sxs-lookup"><span data-stu-id="d9898-135">This mode affects only write operations to byte-type pipes between pipe clients and pipe servers on different computers.</span></span> <span data-ttu-id="d9898-136">In modalità Write-through le funzioni che scrivono in un named pipe non vengono restituite fino a quando i dati non vengono trasmessi attraverso la rete e nel buffer della pipe nel computer remoto.</span><span class="sxs-lookup"><span data-stu-id="d9898-136">In write-through mode, the functions that write to a named pipe do not return until the data is transmitted across the network and into the pipe's buffer on the remote computer.</span></span> <span data-ttu-id="d9898-137">La modalità Write-through è utile per le applicazioni che richiedono la sincronizzazione per ogni operazione di scrittura.</span><span class="sxs-lookup"><span data-stu-id="d9898-137">Write-through mode is useful for applications that require synchronization for every write operation.</span></span>

<span data-ttu-id="d9898-138">Se la modalità Write-through non è abilitata, il sistema ottimizza l'efficienza delle operazioni di rete mediante il buffering dei dati fino a quando non viene accumulato un numero minimo di byte o fino a quando non è trascorso un periodo di tempo massimo.</span><span class="sxs-lookup"><span data-stu-id="d9898-138">If write-through mode is not enabled, the system enhances the efficiency of network operations by buffering data until a minimum number of bytes have accumulated or until a maximum time period has elapsed.</span></span> <span data-ttu-id="d9898-139">Il buffering consente al sistema di combinare più operazioni di scrittura in una singola trasmissione di rete.</span><span class="sxs-lookup"><span data-stu-id="d9898-139">Buffering enables the system to combine multiple write operations into a single network transmission.</span></span> <span data-ttu-id="d9898-140">Ciò significa che un'operazione di scrittura può essere completata correttamente dopo che il sistema inserisce i dati nel buffer in uscita, ma prima che il sistema lo trasmetta attraverso la rete.</span><span class="sxs-lookup"><span data-stu-id="d9898-140">This means that a write operation can be successfully completed after the system puts the data in the outbound buffer, but before the system transmits it across the network.</span></span>

<span data-ttu-id="d9898-141">La funzione [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) consente al client pipe di impostare la modalità Write-through ( \_ scrittura del flag di file \_ \_ tramite) per gli handle di pipe utilizzando il parametro *dwFlagsAndAttributes* .</span><span class="sxs-lookup"><span data-stu-id="d9898-141">The [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function allows the pipe client to set write-through mode (FILE\_FLAG\_WRITE\_THROUGH) for its pipe handles using the *dwFlagsAndAttributes* parameter.</span></span> <span data-ttu-id="d9898-142">La modalità Write-through di un handle di pipe non può essere modificata dopo la creazione dell'handle della pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-142">The write-through mode of a pipe handle cannot be changed after the pipe handle has been created.</span></span> <span data-ttu-id="d9898-143">La modalità Write-through può essere diversa per gli handle server e client per la stessa istanza di pipe.</span><span class="sxs-lookup"><span data-stu-id="d9898-143">The write-through mode can be different for server and client handles to the same pipe instance.</span></span>

<span data-ttu-id="d9898-144">Un client pipe può usare la funzione [**SetNamedPipeHandleState**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-setnamedpipehandlestate) per controllare il numero di byte e il periodo di timeout prima della trasmissione per una pipe in cui la modalità Write-through è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="d9898-144">A pipe client can use the [**SetNamedPipeHandleState**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-setnamedpipehandlestate) function to control the number of bytes and the time-out period before transmission for a pipe on which write-through mode is disabled.</span></span> <span data-ttu-id="d9898-145">Per una pipe di sola lettura, è necessario aprire l'handle della pipe con i \_ diritti di accesso di lettura e scrittura di file generici \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="d9898-145">For a read-only pipe, the pipe handle must be opened with the GENERIC\_READ and FILE\_WRITE\_ATTRIBUTES access rights.</span></span>

 

 
