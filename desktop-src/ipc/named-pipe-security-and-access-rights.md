---
description: È possibile specificare un descrittore di sicurezza per un named pipe quando si chiama la funzione CreateNamedPipe. Il descrittore di sicurezza controlla l'accesso alle entità finali client e server del named pipe.
ms.assetid: f9ea97c9-9a97-4083-82d8-29ffb8be5a77
title: Diritti di accesso e sicurezza della named pipe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 11cada606d8197ac2f64943aa742bbfd614fa4ef
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106313056"
---
# <a name="named-pipe-security-and-access-rights"></a><span data-ttu-id="b1b44-104">Diritti di accesso e sicurezza della named pipe</span><span class="sxs-lookup"><span data-stu-id="b1b44-104">Named Pipe Security and Access Rights</span></span>

<span data-ttu-id="b1b44-105">La sicurezza di Windows consente di controllare l'accesso alle named pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-105">Windows security enables you to control access to named pipes.</span></span> <span data-ttu-id="b1b44-106">Per altre informazioni sulla sicurezza, vedere [modello di controllo di accesso](/windows/desktop/SecAuthZ/access-control-model).</span><span class="sxs-lookup"><span data-stu-id="b1b44-106">For more information about security, see [Access-Control Model](/windows/desktop/SecAuthZ/access-control-model).</span></span>

<span data-ttu-id="b1b44-107">È possibile specificare un [descrittore di sicurezza](/windows/desktop/SecAuthZ/security-descriptors) per un named pipe quando si chiama la funzione [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) .</span><span class="sxs-lookup"><span data-stu-id="b1b44-107">You can specify a [security descriptor](/windows/desktop/SecAuthZ/security-descriptors) for a named pipe when you call the [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) function.</span></span> <span data-ttu-id="b1b44-108">Il descrittore di sicurezza controlla l'accesso alle entità finali client e server del named pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-108">The security descriptor controls access to both client and server ends of the named pipe.</span></span> <span data-ttu-id="b1b44-109">Se si specifica **null**, il named pipe ottiene un descrittore di sicurezza predefinito.</span><span class="sxs-lookup"><span data-stu-id="b1b44-109">If you specify **NULL**, the named pipe gets a default security descriptor.</span></span> <span data-ttu-id="b1b44-110">Gli ACL nel descrittore di sicurezza predefinito per un named pipe concedere il controllo completo all'account LocalSystem, agli amministratori e al proprietario dell'autore.</span><span class="sxs-lookup"><span data-stu-id="b1b44-110">The ACLs in the default security descriptor for a named pipe grant full control to the LocalSystem account, administrators, and the creator owner.</span></span> <span data-ttu-id="b1b44-111">Inoltre, concede l'accesso in lettura ai membri del gruppo Everyone e dell'account anonimo.</span><span class="sxs-lookup"><span data-stu-id="b1b44-111">They also grant read access to members of the Everyone group and the anonymous account.</span></span>

<span data-ttu-id="b1b44-112">Per recuperare il descrittore di sicurezza di un named pipe, chiamare la funzione [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="b1b44-112">To retrieve a named pipe's security descriptor, call the [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="b1b44-113">Per modificare il descrittore di sicurezza di un named pipe, chiamare la funzione [**SetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="b1b44-113">To change the security descriptor of a named pipe, call the [**SetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="b1b44-114">Quando un thread chiama [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) per aprire un handle per l'entità finale del server di un named pipe esistente, il sistema esegue un controllo di accesso prima di restituire l'handle.</span><span class="sxs-lookup"><span data-stu-id="b1b44-114">When a thread calls [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) to open a handle to the server end of an existing named pipe, the system performs an access check before returning the handle.</span></span> <span data-ttu-id="b1b44-115">Il controllo dell'accesso confronta il token di accesso del thread e i [diritti di accesso](/windows/desktop/SecAuthZ/access-rights-and-access-masks) richiesti rispetto a DACL nel descrittore di sicurezza del named pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-115">The access check compares the thread's access token and the requested [access rights](/windows/desktop/SecAuthZ/access-rights-and-access-masks) against the DACL in the named pipe's security descriptor.</span></span> <span data-ttu-id="b1b44-116">Oltre ai diritti di accesso richiesti, l'elenco DACL deve consentire al FILE del thread \_ chiamante \_ di creare l' \_ istanza di pipe per l'accesso alla named pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-116">In addition to the requested access rights, the DACL must allow the calling thread FILE\_CREATE\_PIPE\_INSTANCE access to the named pipe.</span></span>

<span data-ttu-id="b1b44-117">Analogamente, quando un client chiama la funzione [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) o [**CallNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-callnamedpipea) per connettersi al lato client di una named pipe, il sistema esegue un controllo di accesso prima di concedere l'accesso al client.</span><span class="sxs-lookup"><span data-stu-id="b1b44-117">Similarly, when a client calls the [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) or [**CallNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-callnamedpipea) function to connect to the client end of a named pipe, the system performs an access check before granting access to the client.</span></span>

<span data-ttu-id="b1b44-118">L'handle restituito dalla funzione [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) ha sempre l'accesso Synchronize.</span><span class="sxs-lookup"><span data-stu-id="b1b44-118">The handle returned by the [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) function always has SYNCHRONIZE access.</span></span> <span data-ttu-id="b1b44-119">Dispone inoltre \_ di lettura generica, \_ scrittura generica o entrambi, a seconda della modalità di apertura della pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-119">It also has GENERIC\_READ, GENERIC\_WRITE, or both, depending on the open mode of the pipe.</span></span> <span data-ttu-id="b1b44-120">Di seguito sono riportati i diritti di accesso per ogni modalità di apertura.</span><span class="sxs-lookup"><span data-stu-id="b1b44-120">The following are the access rights for each open mode.</span></span>



| <span data-ttu-id="b1b44-121">Modalità di apertura</span><span class="sxs-lookup"><span data-stu-id="b1b44-121">Open mode</span></span>                           | <span data-ttu-id="b1b44-122">Diritti di accesso</span><span class="sxs-lookup"><span data-stu-id="b1b44-122">Access rights</span></span>                                              |
|-------------------------------------|------------------------------------------------------------|
| <span data-ttu-id="b1b44-123">Accesso tramite PIPE \_ \_ duplex (0x00000003)</span><span class="sxs-lookup"><span data-stu-id="b1b44-123">PIPE\_ACCESS\_DUPLEX (0x00000003)</span></span>   | <span data-ttu-id="b1b44-124">FILE \_ \_ letto generico, \_ scrittura generica file \_ e sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="b1b44-124">FILE\_GENERIC\_READ, FILE\_GENERIC\_WRITE, and SYNCHRONIZE</span></span> |
| <span data-ttu-id="b1b44-125">Accesso tramite PIPE in \_ \_ ingresso (0x00000001)</span><span class="sxs-lookup"><span data-stu-id="b1b44-125">PIPE\_ACCESS\_INBOUND (0x00000001)</span></span>  | <span data-ttu-id="b1b44-126">\_ \_ Lettura e sincronizzazione file generici</span><span class="sxs-lookup"><span data-stu-id="b1b44-126">FILE\_GENERIC\_READ and SYNCHRONIZE</span></span>                        |
| <span data-ttu-id="b1b44-127">Accesso PIPE in \_ \_ uscita (0x00000002)</span><span class="sxs-lookup"><span data-stu-id="b1b44-127">PIPE\_ACCESS\_OUTBOUND (0x00000002)</span></span> | <span data-ttu-id="b1b44-128">\_ \_ Scrittura e sincronizzazione di file generici</span><span class="sxs-lookup"><span data-stu-id="b1b44-128">FILE\_GENERIC\_WRITE and SYNCHRONIZE</span></span>                       |



 

<span data-ttu-id="b1b44-129">\_Accesso in \_ lettura generico file per un named pipe combina i diritti per leggere i dati dalla pipe, leggere gli attributi della pipe, leggere gli attributi estesi e leggere il DACL della pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-129">FILE\_GENERIC\_READ access for a named pipe combines the rights to read data from the pipe, read pipe attributes, read extended attributes, and read the pipe's DACL.</span></span>

<span data-ttu-id="b1b44-130">\_Accesso in \_ scrittura generico file per un named pipe combina i diritti per scrivere i dati nella pipe, accodare i dati, scrivere attributi pipe, scrivere attributi estesi e leggere il DACL della pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-130">FILE\_GENERIC\_WRITE access for a named pipe combines the rights to write data to the pipe, append data to it, write pipe attributes, write extended attributes, and read the pipe's DACL.</span></span> <span data-ttu-id="b1b44-131">Poiché \_ \_ l'istanza di file Accoda dati e file \_ Create \_ pipe \_ ha la stessa definizione, quindi file \_ Generic \_ Write Abilita l'autorizzazione per la creazione della pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-131">Because FILE\_APPEND\_DATA and FILE\_CREATE\_PIPE\_INSTANCE have the same definition, so FILE\_GENERIC\_WRITE enables permission to create the pipe.</span></span> <span data-ttu-id="b1b44-132">Per evitare questo problema, utilizzare i singoli diritti anziché utilizzare la \_ scrittura generica del file \_ .</span><span class="sxs-lookup"><span data-stu-id="b1b44-132">To avoid this problem, use the individual rights instead of using FILE\_GENERIC\_WRITE.</span></span>

<span data-ttu-id="b1b44-133">È possibile richiedere il \_ \_ diritto di accesso di sicurezza del sistema di accesso a un oggetto named pipe se si desidera leggere o scrivere il SACL dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="b1b44-133">You can request the ACCESS\_SYSTEM\_SECURITY access right to a named pipe object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="b1b44-134">Per altre informazioni, vedere [elenchi di controllo di accesso (ACL)](/windows/desktop/SecAuthZ/access-control-lists) e [accesso SACL diritto](/windows/desktop/SecAuthZ/sacl-access-right).</span><span class="sxs-lookup"><span data-stu-id="b1b44-134">For more information, see [Access-Control Lists (ACLs)](/windows/desktop/SecAuthZ/access-control-lists) and [SACL Access Right](/windows/desktop/SecAuthZ/sacl-access-right).</span></span>

<span data-ttu-id="b1b44-135">Per impedire agli utenti remoti o agli utenti di un'altra sessione di Servizi terminal di accedere a una named pipe, utilizzare il SID di accesso nell'elenco DACL per la pipe.</span><span class="sxs-lookup"><span data-stu-id="b1b44-135">To prevent remote users or users on a different terminal services session from accessing a named pipe, use the logon SID on the DACL for the pipe.</span></span> <span data-ttu-id="b1b44-136">Il SID di accesso viene utilizzato anche negli accessi RunAs. si tratta del SID usato per proteggere lo spazio dei nomi dell'oggetto per sessione.</span><span class="sxs-lookup"><span data-stu-id="b1b44-136">The logon SID is used in run-as logons as well; it is the SID used to protect the per-session object namespace.</span></span> <span data-ttu-id="b1b44-137">Per ulteriori informazioni, vedere [recupero del SID di accesso in C++](/previous-versions//aa446670(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="b1b44-137">For more information, see [Getting the Logon SID in C++](/previous-versions//aa446670(v=vs.85)).</span></span>

 

 
