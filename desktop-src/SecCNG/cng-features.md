---
description: CNG presenta le funzionalità seguenti.
ms.assetid: 400a2b6e-6bbe-4ba4-abde-a2f625007517
title: Funzionalità CNG
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df40606a255adc90bd36540571979c1c34579611
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106305852"
---
# <a name="cng-features"></a><span data-ttu-id="a8292-103">Funzionalità CNG</span><span class="sxs-lookup"><span data-stu-id="a8292-103">CNG Features</span></span>

<span data-ttu-id="a8292-104">CNG presenta le funzionalità seguenti.</span><span class="sxs-lookup"><span data-stu-id="a8292-104">CNG has the following features.</span></span>

-   [<span data-ttu-id="a8292-105">Agilità crittografica</span><span class="sxs-lookup"><span data-stu-id="a8292-105">Cryptographic Agility</span></span>](#cryptographic-agility)
-   [<span data-ttu-id="a8292-106">Certificazione e conformità</span><span class="sxs-lookup"><span data-stu-id="a8292-106">Certification and Compliance</span></span>](#certification-and-compliance)
-   [<span data-ttu-id="a8292-107">Supporto per Suite B</span><span class="sxs-lookup"><span data-stu-id="a8292-107">Suite B Support</span></span>](#suite-b-support)
-   [<span data-ttu-id="a8292-108">Supporto legacy</span><span class="sxs-lookup"><span data-stu-id="a8292-108">Legacy Support</span></span>](#legacy-support)
-   [<span data-ttu-id="a8292-109">Supporto della modalità kernel</span><span class="sxs-lookup"><span data-stu-id="a8292-109">Kernel Mode Support</span></span>](#kernel-mode-support)
-   [<span data-ttu-id="a8292-110">Controllo</span><span class="sxs-lookup"><span data-stu-id="a8292-110">Auditing</span></span>](#auditing)
-   [<span data-ttu-id="a8292-111">Generatori di numeri casuali sostituibili</span><span class="sxs-lookup"><span data-stu-id="a8292-111">Replaceable Random Number Generators</span></span>](#replaceable-random-number-generators)
-   [<span data-ttu-id="a8292-112">Thread safety</span><span class="sxs-lookup"><span data-stu-id="a8292-112">Thread Safety</span></span>](#thread-safety)
-   [<span data-ttu-id="a8292-113">Modalità di funzionamento</span><span class="sxs-lookup"><span data-stu-id="a8292-113">Mode of Operation</span></span>](#mode-of-operation)

## <a name="cryptographic-agility"></a><span data-ttu-id="a8292-114">Agilità crittografica</span><span class="sxs-lookup"><span data-stu-id="a8292-114">Cryptographic Agility</span></span>

<span data-ttu-id="a8292-115">Una delle proposte di valore chiave di CNG è l'agilità crittografica, definita anche agnosticismo crittografico.</span><span class="sxs-lookup"><span data-stu-id="a8292-115">One of the key value propositions of CNG is cryptographic agility, sometimes called cryptographic agnosticism.</span></span> <span data-ttu-id="a8292-116">La conversione di un'implementazione di protocolli come [*Secure Sockets Layer Protocol*](/windows/desktop/SecGloss/s-gly) (SSL) o [*Transport Layer Security*](/windows/desktop/SecGloss/t-gly) (TLS), CMS (S/MIME), IPSec, Kerberos e così via, a CNG è stata tuttavia necessaria per rendere questa funzionalità preziosa.</span><span class="sxs-lookup"><span data-stu-id="a8292-116">Converting implementation of protocols like [*Secure Sockets Layer protocol*](/windows/desktop/SecGloss/s-gly) (SSL) or [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), CMS (S/MIME), IPsec, Kerberos, and so on, to CNG, however, was required to make this ability valuable.</span></span> <span data-ttu-id="a8292-117">A livello di CNG, era necessario fornire la sostituzione e l'individuabilità per tutti i tipi di algoritmo (simmetrico, asimmetrico, funzioni hash), generazione di numeri casuali e altre funzioni di utilità.</span><span class="sxs-lookup"><span data-stu-id="a8292-117">At the CNG level, it was necessary to provide substitution and discoverability for all the algorithm types (symmetric, asymmetric, hash functions), random number generation, and other utility functions.</span></span> <span data-ttu-id="a8292-118">Le modifiche a livello di protocollo sono più significative perché, in molti casi, le API del protocollo necessarie per aggiungere la selezione degli algoritmi e altre opzioni di flessibilità che non esistono in precedenza.</span><span class="sxs-lookup"><span data-stu-id="a8292-118">The protocol-level changes are more significant because in many cases the protocol APIs needed to add algorithm selection and other flexibility options that did not previously exist.</span></span>

<span data-ttu-id="a8292-119">CNG è disponibile per la prima volta in Windows Vista ed è posizionato per sostituire gli utilizzi esistenti di [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) in tutto lo stack di software Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a8292-119">CNG is first available in Windows Vista and is positioned to replace existing uses of [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) throughout the Microsoft software stack.</span></span> <span data-ttu-id="a8292-120">Gli sviluppatori di terze parti troveranno numerose nuove funzionalità di CNG, tra cui:</span><span class="sxs-lookup"><span data-stu-id="a8292-120">Third-party developers will find lots of new features in CNG, including:</span></span>

-   <span data-ttu-id="a8292-121">Un nuovo sistema di configurazione della crittografia, che supporta una migliore agilità crittografica.</span><span class="sxs-lookup"><span data-stu-id="a8292-121">A new crypto configuration system, supporting better cryptographic agility.</span></span>
-   <span data-ttu-id="a8292-122">Astrazione più granulare per l'archiviazione delle chiavi (e la separazione dell'archiviazione dalle operazioni degli algoritmi).</span><span class="sxs-lookup"><span data-stu-id="a8292-122">Finer-grained abstraction for key storage (and separation of storage from algorithm operations).</span></span>
-   <span data-ttu-id="a8292-123">Isolamento dei processi per le operazioni con chiavi a lungo termine.</span><span class="sxs-lookup"><span data-stu-id="a8292-123">Process isolation for operations with long-term keys.</span></span>
-   <span data-ttu-id="a8292-124">Generatori di numeri casuali sostituibili.</span><span class="sxs-lookup"><span data-stu-id="a8292-124">Replaceable random number generators.</span></span>
-   <span data-ttu-id="a8292-125">Sollievo dalle restrizioni di firma dell'esportazione.</span><span class="sxs-lookup"><span data-stu-id="a8292-125">Relief from export signing restrictions.</span></span>
-   <span data-ttu-id="a8292-126">Thread safety in tutto lo stack.</span><span class="sxs-lookup"><span data-stu-id="a8292-126">Thread-safety throughout the stack.</span></span>
-   <span data-ttu-id="a8292-127">API di crittografia in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-127">Kernel-mode cryptographic API.</span></span>

<span data-ttu-id="a8292-128">CNG include inoltre il supporto per tutti gli algoritmi di Suite B necessari, inclusa la [*crittografia a curva ellittica*](/windows/desktop/SecGloss/e-gly) (ecc).</span><span class="sxs-lookup"><span data-stu-id="a8292-128">In addition, CNG includes support for all required Suite B algorithms, including [*elliptic curve cryptography*](/windows/desktop/SecGloss/e-gly) (ECC).</span></span> <span data-ttu-id="a8292-129">Le applicazioni CryptoAPI esistenti continueranno a funzionare quando CNG diventerà disponibile.</span><span class="sxs-lookup"><span data-stu-id="a8292-129">Existing CryptoAPI applications will continue to work as CNG becomes available.</span></span>

## <a name="certification-and-compliance"></a><span data-ttu-id="a8292-130">Certificazione e conformità</span><span class="sxs-lookup"><span data-stu-id="a8292-130">Certification and Compliance</span></span>

<span data-ttu-id="a8292-131">CNG viene convalidato con FIPS (Federal Information Processing Standards) 140-2 ed è parte della destinazione della valutazione per la certificazione dei criteri comuni di Windows.</span><span class="sxs-lookup"><span data-stu-id="a8292-131">CNG is validated to Federal Information Processing Standards (FIPS) 140-2 and is part of the Target of Evaluation for the Windows Common Criteria certification.</span></span> <span data-ttu-id="a8292-132">CNG è stato progettato per essere utilizzato come componente in un sistema convalidato FIPS di livello 2.</span><span class="sxs-lookup"><span data-stu-id="a8292-132">CNG was designed to be usable as a component in a FIPS level 2 validated system.</span></span>

<span data-ttu-id="a8292-133">CNG soddisfa i requisiti dei criteri comuni archiviando e usando chiavi di lunga durata in un processo protetto.</span><span class="sxs-lookup"><span data-stu-id="a8292-133">CNG complies with Common Criteria requirements by storing and using long lived keys in a secure process.</span></span>

## <a name="suite-b-support"></a><span data-ttu-id="a8292-134">Supporto per Suite B</span><span class="sxs-lookup"><span data-stu-id="a8292-134">Suite B Support</span></span>

<span data-ttu-id="a8292-135">Una funzionalità importante di CNG è il supporto per gli algoritmi di Suite B.</span><span class="sxs-lookup"><span data-stu-id="a8292-135">An important feature of CNG is its support for the Suite B algorithms.</span></span> <span data-ttu-id="a8292-136">Nel febbraio del 2005, National Security Agency (NSA) del Stati Uniti ha annunciato un set coordinato di crittografia simmetrica, un contratto di segreto asimmetrico (noto anche come scambio di chiave), una firma digitale e funzioni hash per l'uso da parte del governo degli Stati Uniti in futuro chiamato *Suite B*. Il NSA ha annunciato il fatto che le implementazioni di Suite B certificate possono e verranno usate per la protezione delle informazioni indicate come Top Secret, Secret e private, che in passato venivano descritte come sensibili, ma non classificate.</span><span class="sxs-lookup"><span data-stu-id="a8292-136">In February of 2005, the National Security Agency (NSA) of the United States announced a coordinated set of symmetric encryption, asymmetric secret agreement (also known as key exchange), digital signature and hash functions for future U.S. government use called *Suite B*. The NSA has announced that certified Suite B implementations can and will be used for the protection of information designated as Top Secret, Secret, and private information that, in the past was described as Sensitive-But-Unclassified.</span></span> <span data-ttu-id="a8292-137">Per questo motivo, Suite B supporto è molto importante per i fornitori di software applicativi e gli integratori di sistemi, nonché per Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a8292-137">Because of this, Suite B support is very important to application software vendors and system integrators as well as to Microsoft.</span></span>

<span data-ttu-id="a8292-138">Tutti gli algoritmi di Suite B sono noti pubblicamente.</span><span class="sxs-lookup"><span data-stu-id="a8292-138">All Suite B algorithms are publicly known.</span></span> <span data-ttu-id="a8292-139">Sono state sviluppate al di fuori dell'ambito della segretezza del governo, storicamente associata allo sviluppo di algoritmi di crittografia.</span><span class="sxs-lookup"><span data-stu-id="a8292-139">They have been developed outside the scope of the government secrecy historically associated with cryptographic algorithm development.</span></span> <span data-ttu-id="a8292-140">In questo stesso intervallo di tempo, alcuni paesi e regioni europei hanno proposto anche le stesse Suite B requisiti per la protezione delle informazioni.</span><span class="sxs-lookup"><span data-stu-id="a8292-140">In this same time frame, some European countries and regions have also proposed the same Suite B requirements for protecting their information.</span></span>

<span data-ttu-id="a8292-141">Suite B crittografia consiglia l'uso di Diffie-Hellman a curva ellittica (ECDH) in molti protocolli esistenti, ad esempio protocollo IKE (IKE, usato principalmente in IPsec), [*Transport Layer Security*](/windows/desktop/SecGloss/t-gly) (TLS) e Secure MIME (S/MIME).</span><span class="sxs-lookup"><span data-stu-id="a8292-141">Suite B cryptography recommends use of elliptic curve Diffie-Hellman (ECDH) in many existing protocols such as the Internet Key Exchange (IKE, mainly used in IPsec), [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), and Secure MIME (S/MIME).</span></span>

<span data-ttu-id="a8292-142">CNG include il supporto per Suite B che si estende a tutti gli algoritmi necessari: AES (tutte le dimensioni delle chiavi), la famiglia SHA-2 (SHA-256, SHA-384 e SHA-512) degli algoritmi di hashing, ECDH e la curva ellittica DSA (ECDSA) sulle curve prime standard NIST P-256, P-384 e P-521.</span><span class="sxs-lookup"><span data-stu-id="a8292-142">CNG includes support for Suite B that extends to all required algorithms: AES (all key sizes), the SHA-2 family (SHA-256, SHA-384 and SHA-512) of hashing algorithms, ECDH, and elliptic curve DSA (ECDSA) over the NIST-standard prime curves P-256, P-384, and P-521.</span></span> <span data-ttu-id="a8292-143">Le curve binarie, le curve Koblitz, le curve prime personalizzate e la curva ellittica Menezes-qu-Vanstone (ECMQV) non sono supportate dai provider di algoritmi Microsoft inclusi in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="a8292-143">Binary curves, Koblitz curves, custom prime curves, and elliptic curve Menezes-Qu-Vanstone (ECMQV) are not supported by the Microsoft algorithm providers included with Windows Vista.</span></span>

## <a name="legacy-support"></a><span data-ttu-id="a8292-144">Supporto legacy</span><span class="sxs-lookup"><span data-stu-id="a8292-144">Legacy Support</span></span>

<span data-ttu-id="a8292-145">CNG fornisce supporto per il set di algoritmi corrente in [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1,0.</span><span class="sxs-lookup"><span data-stu-id="a8292-145">CNG provides support for the current set of algorithms in [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1.0.</span></span> <span data-ttu-id="a8292-146">Ogni algoritmo attualmente supportato in *CryptoAPI* 1,0 continuerà a essere supportato in CNG.</span><span class="sxs-lookup"><span data-stu-id="a8292-146">Every algorithm that is currently supported in *CryptoAPI* 1.0 will continue to be supported in CNG.</span></span>

## <a name="kernel-mode-support"></a><span data-ttu-id="a8292-147">Supporto della modalità kernel</span><span class="sxs-lookup"><span data-stu-id="a8292-147">Kernel Mode Support</span></span>

<span data-ttu-id="a8292-148">CNG supporta la crittografia in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-148">CNG supports cryptography in kernel mode.</span></span> <span data-ttu-id="a8292-149">Le stesse API vengono usate in modalità kernel e utente per supportare completamente le funzionalità di crittografia.</span><span class="sxs-lookup"><span data-stu-id="a8292-149">The same APIs are used in both kernel and user mode to fully support the cryptography features.</span></span> <span data-ttu-id="a8292-150">SSL/TLS e IPsec funzionano in modalità kernel, oltre ai processi di avvio che utilizzeranno CNG.</span><span class="sxs-lookup"><span data-stu-id="a8292-150">Both SSL/TLS and IPsec operate in kernel mode in addition to boot processes that will be using CNG.</span></span> <span data-ttu-id="a8292-151">Non tutte le funzioni CNG possono essere chiamate dalla modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-151">Not all CNG functions can be called from kernel mode.</span></span> <span data-ttu-id="a8292-152">L'argomento di riferimento per le funzioni che non possono essere chiamate dalla modalità kernel definirà in modo esplicito che la funzione non può essere chiamata dalla modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-152">The reference topic for the functions that cannot be called from kernel mode will explicitly state that the function cannot be called from kernel mode.</span></span> <span data-ttu-id="a8292-153">In caso contrario, tutte le funzioni CNG possono essere chiamate dalla modalità kernel se il chiamante è in esecuzione a **\_ livello passivo** [*livello IRQL*](/windows/desktop/SecGloss/i-gly).</span><span class="sxs-lookup"><span data-stu-id="a8292-153">Otherwise, all CNG functions can be called from kernel mode if the caller is running at **PASSIVE\_LEVEL** [*IRQL*](/windows/desktop/SecGloss/i-gly).</span></span> <span data-ttu-id="a8292-154">Inoltre, alcune funzioni CNG in modalità kernel possono essere richiamabili a **livello di invio \_ livello IRQL**, a seconda delle funzionalità del provider.</span><span class="sxs-lookup"><span data-stu-id="a8292-154">In addition, some kernel mode CNG functions may be callable at **DISPATCH\_LEVEL IRQL**, depending on the provider's capabilities.</span></span>

<span data-ttu-id="a8292-155">L'interfaccia di Microsoft kernel Security Support Provider (Ksecdd.sys) è un modulo di crittografia per utilizzo generico, basato sul software, che risiede al livello di modalità kernel di Windows.</span><span class="sxs-lookup"><span data-stu-id="a8292-155">The Microsoft kernel security support provider interface (Ksecdd.sys) is a general purpose, software-based, cryptographic module residing at the kernel mode level of Windows.</span></span> <span data-ttu-id="a8292-156">Ksecdd.sys viene eseguito come driver di esportazione in modalità kernel e fornisce servizi di crittografia tramite le interfacce documentate ai componenti del kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-156">Ksecdd.sys runs as a kernel mode export driver, and provides cryptographic services through their documented interfaces to kernel components.</span></span> <span data-ttu-id="a8292-157">L'unico algoritmo del provider Microsoft incorporato non supportato da Ksecdd.sys è DSA.</span><span class="sxs-lookup"><span data-stu-id="a8292-157">The only built-in Microsoft provider algorithm that is not supported by Ksecdd.sys is DSA.</span></span>

<span data-ttu-id="a8292-158">**Windows Server 2008 e Windows Vista:** CNG non supporta gli algoritmi e i provider plug-in in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-158">**Windows Server 2008 and Windows Vista:** CNG does not support pluggable algorithms and providers in kernel mode.</span></span> <span data-ttu-id="a8292-159">Gli unici algoritmi di crittografia supportati disponibili in modalità kernel sono le implementazioni fornite da Microsoft tramite le API CNG in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-159">The only supported cryptographic algorithms available in kernel mode are those implementations provided by Microsoft through the kernel mode CNG APIs.</span></span>

## <a name="auditing"></a><span data-ttu-id="a8292-160">Controllo</span><span class="sxs-lookup"><span data-stu-id="a8292-160">Auditing</span></span>

<span data-ttu-id="a8292-161">Per soddisfare alcuni dei requisiti comuni relativi ai criteri, oltre a fornire una protezione completa, molte azioni che si verificano nel livello CNG vengono controllate nel provider di archiviazione chiavi (KSP) del software Microsoft.</span><span class="sxs-lookup"><span data-stu-id="a8292-161">To comply with some of the Common Criteria requirements in addition to providing comprehensive security, many actions that happen in the CNG layer are audited in the Microsoft software key storage provider (KSP).</span></span> <span data-ttu-id="a8292-162">Il provider di archiviazione chiavi Microsoft rispetta le linee guida seguenti per creare record di controllo nel registro di sicurezza:</span><span class="sxs-lookup"><span data-stu-id="a8292-162">The Microsoft KSP adheres to the following guidelines to create audit records in the security log:</span></span>

-   <span data-ttu-id="a8292-163">Gli errori di generazione di chiavi e coppie di chiavi, inclusi errori di test Self-Service, devono essere controllati.</span><span class="sxs-lookup"><span data-stu-id="a8292-163">Key and key-pair generation failures, including self-test failures, must be audited.</span></span>
-   <span data-ttu-id="a8292-164">È necessario controllare l'importazione e l'esportazione di chiavi.</span><span class="sxs-lookup"><span data-stu-id="a8292-164">Key import and export must be audited.</span></span>
-   <span data-ttu-id="a8292-165">Gli errori di distruzione delle chiavi devono essere controllati.</span><span class="sxs-lookup"><span data-stu-id="a8292-165">Key destruction failures must be audited.</span></span>
-   <span data-ttu-id="a8292-166">È necessario controllare le chiavi permanenti quando vengono scritte e lette dai file.</span><span class="sxs-lookup"><span data-stu-id="a8292-166">Persistent keys need to be audited when they are written to and read from files.</span></span>
-   <span data-ttu-id="a8292-167">Gli errori di verifica della coerenza delle coppie devono essere controllati.</span><span class="sxs-lookup"><span data-stu-id="a8292-167">Pair-wise consistency check failures must be audited.</span></span>
-   <span data-ttu-id="a8292-168">Gli eventuali errori di convalida della chiave privata devono essere controllati, ad esempio, controlli di parità sulle chiavi 3DES.</span><span class="sxs-lookup"><span data-stu-id="a8292-168">Secret key validation failures, if any, must be audited, for example, parity checks on 3DES keys.</span></span>
-   <span data-ttu-id="a8292-169">Gli errori di crittografia, decrittografia, hashing, firma, verifica, scambio di chiave e generazione di numeri casuali devono essere controllati.</span><span class="sxs-lookup"><span data-stu-id="a8292-169">Failures in encryption, decryption, hashing, signature, verification, key exchange, and random number generation must be audited.</span></span>
-   <span data-ttu-id="a8292-170">I test autonomi crittografici devono essere controllati.</span><span class="sxs-lookup"><span data-stu-id="a8292-170">Cryptographic self-tests must be audited.</span></span>

<span data-ttu-id="a8292-171">In generale, se una chiave non ha un nome, si tratta di una chiave temporanea.</span><span class="sxs-lookup"><span data-stu-id="a8292-171">In general, if a key does not have a name, it is an ephemeral key.</span></span> <span data-ttu-id="a8292-172">Una chiave temporanea non viene manomessa e il KSP Microsoft non genera record di controllo per le chiavi temporanee.</span><span class="sxs-lookup"><span data-stu-id="a8292-172">An ephemeral key does not persist, and the Microsoft KSP does not generate audit records for ephemeral keys.</span></span> <span data-ttu-id="a8292-173">Microsoft KSP genera record di controllo in modalità utente solo nel processo LSA.</span><span class="sxs-lookup"><span data-stu-id="a8292-173">The Microsoft KSP generates audit records in user mode in the LSA process only.</span></span> <span data-ttu-id="a8292-174">Nessun record di controllo viene generato da CNG in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="a8292-174">No audit record is generated by kernel mode CNG.</span></span> <span data-ttu-id="a8292-175">Gli amministratori devono configurare i criteri di controllo per ottenere tutti i log di controllo KSP dal registro di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="a8292-175">Administrators need to configure the audit policy to obtain all KSP audit logs from the security log.</span></span> <span data-ttu-id="a8292-176">Per configurare controlli aggiuntivi generati da KSP, un amministratore deve eseguire la riga di comando seguente:</span><span class="sxs-lookup"><span data-stu-id="a8292-176">An administrator must run the following command line to configure additional audits generated by KSPs:</span></span>

<span data-ttu-id="a8292-177">**auditpol/set/SubCategory: "altri eventi di sistema"/Success: enable/failure: Enable**</span><span class="sxs-lookup"><span data-stu-id="a8292-177">**auditpol /set /subcategory:"other system events" /success:enable /failure:enable**</span></span>

## <a name="replaceable-random-number-generators"></a><span data-ttu-id="a8292-178">Generatori di numeri casuali sostituibili</span><span class="sxs-lookup"><span data-stu-id="a8292-178">Replaceable Random Number Generators</span></span>

<span data-ttu-id="a8292-179">Un altro miglioramento fornito da CNG è la possibilità di sostituire il generatore di numeri casuali (RNG) predefinito.</span><span class="sxs-lookup"><span data-stu-id="a8292-179">Another improvement that CNG provides is the ability to replace the default random number generator (RNG).</span></span> <span data-ttu-id="a8292-180">In CryptoAPI è possibile fornire un RNG alternativo come parte di un provider del servizio di crittografia (CSP), ma non è possibile reindirizzare i CSP di base di Microsoft per l'uso di un altro RNG.</span><span class="sxs-lookup"><span data-stu-id="a8292-180">In CryptoAPI, it is possible to provide an alternate RNG as part of a cryptographic service provider (CSP), but it is not possible to redirect the Microsoft Base CSPs to use another RNG.</span></span> <span data-ttu-id="a8292-181">CNG consente di specificare in modo esplicito un determinato RNG da usare all'interno di chiamate particolari.</span><span class="sxs-lookup"><span data-stu-id="a8292-181">CNG makes it possible to explicitly specify a particular RNG to use within particular calls.</span></span>

## <a name="thread-safety"></a><span data-ttu-id="a8292-182">Thread safety</span><span class="sxs-lookup"><span data-stu-id="a8292-182">Thread Safety</span></span>

<span data-ttu-id="a8292-183">Tutte le funzioni che modificano la stessa area di memoria nello stesso momento (sezioni critiche) quando vengono chiamate da thread distinti non sono thread-safe.</span><span class="sxs-lookup"><span data-stu-id="a8292-183">Any functions that modify the same area of memory at the same time (critical sections) when being called from separate threads are not thread safe.</span></span>

## <a name="mode-of-operation"></a><span data-ttu-id="a8292-184">Modalità di funzionamento</span><span class="sxs-lookup"><span data-stu-id="a8292-184">Mode of Operation</span></span>

<span data-ttu-id="a8292-185">CNG supporta cinque modalità di operazioni che possono essere usate con le crittografie a blocchi simmetriche tramite le API di crittografia.</span><span class="sxs-lookup"><span data-stu-id="a8292-185">CNG supports five modes of operations that can be used with symmetric block ciphers through the encryption APIs.</span></span> <span data-ttu-id="a8292-186">Queste modalità e il relativo supporto sono elencate nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="a8292-186">These modes and their supportability are listed in the following table.</span></span> <span data-ttu-id="a8292-187">È possibile modificare la modalità di operazione impostando la proprietà della [**\_ \_ modalità di concatenamento BCRYPT**](cng-property-identifiers.md) per il provider dell'algoritmo utilizzando la funzione [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) .</span><span class="sxs-lookup"><span data-stu-id="a8292-187">The mode of operation can be changed by setting the [**BCRYPT\_CHAINING\_MODE**](cng-property-identifiers.md) property for the algorithm provider by using the [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) function.</span></span>



| <span data-ttu-id="a8292-188">Modalità di funzionamento</span><span class="sxs-lookup"><span data-stu-id="a8292-188">Mode of operation</span></span>           | <span data-ttu-id="a8292-189">\_Valore della modalità di concatenamento BCRYPT \_</span><span class="sxs-lookup"><span data-stu-id="a8292-189">BCRYPT\_CHAINING\_MODE value</span></span> | <span data-ttu-id="a8292-190">Algoritmi</span><span class="sxs-lookup"><span data-stu-id="a8292-190">Algorithms</span></span>              | <span data-ttu-id="a8292-191">Standard</span><span class="sxs-lookup"><span data-stu-id="a8292-191">Standard</span></span>  |
|-----------------------------|------------------------------|-------------------------|-----------|
| <span data-ttu-id="a8292-192">BCE (Electronic Codebook)</span><span class="sxs-lookup"><span data-stu-id="a8292-192">ECB (Electronic Codebook)</span></span>   | <span data-ttu-id="a8292-193">**BCRYPT \_ Chain \_ mode \_ BCE**</span><span class="sxs-lookup"><span data-stu-id="a8292-193">**BCRYPT\_CHAIN\_MODE\_ECB**</span></span> | <span data-ttu-id="a8292-194">Crittografie a blocchi simmetriche</span><span class="sxs-lookup"><span data-stu-id="a8292-194">Symmetric block ciphers</span></span> | <span data-ttu-id="a8292-195">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="a8292-195">SP800-38A</span></span> |
| <span data-ttu-id="a8292-196">CBC (concatenamento di blocchi crittografici)</span><span class="sxs-lookup"><span data-stu-id="a8292-196">CBC (Cipher Block Chaining)</span></span> | <span data-ttu-id="a8292-197">**CBC (BCRYPT \_ Chain \_ mode) \_**</span><span class="sxs-lookup"><span data-stu-id="a8292-197">**BCRYPT\_CHAIN\_MODE\_CBC**</span></span> | <span data-ttu-id="a8292-198">Crittografie a blocchi simmetriche</span><span class="sxs-lookup"><span data-stu-id="a8292-198">Symmetric block ciphers</span></span> | <span data-ttu-id="a8292-199">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="a8292-199">SP800-38A</span></span> |
| <span data-ttu-id="a8292-200">CFB (commenti e suggerimenti per la crittografia)</span><span class="sxs-lookup"><span data-stu-id="a8292-200">CFB (Cipher Feedback)</span></span>       | <span data-ttu-id="a8292-201">**\_modalità a catena BCRYPT \_ \_ CFB**</span><span class="sxs-lookup"><span data-stu-id="a8292-201">**BCRYPT\_CHAIN\_MODE\_CFB**</span></span> | <span data-ttu-id="a8292-202">Crittografie a blocchi simmetriche</span><span class="sxs-lookup"><span data-stu-id="a8292-202">Symmetric block ciphers</span></span> | <span data-ttu-id="a8292-203">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="a8292-203">SP800-38A</span></span> |
| <span data-ttu-id="a8292-204">CCM (contatore con CBC)</span><span class="sxs-lookup"><span data-stu-id="a8292-204">CCM (Counter with CBC)</span></span>      | <span data-ttu-id="a8292-205">**\_ \_ CCM modalità a catena BCRYPT \_**</span><span class="sxs-lookup"><span data-stu-id="a8292-205">**BCRYPT\_CHAIN\_MODE\_CCM**</span></span> | <span data-ttu-id="a8292-206">AES</span><span class="sxs-lookup"><span data-stu-id="a8292-206">AES</span></span>                     | <span data-ttu-id="a8292-207">SP800-38C</span><span class="sxs-lookup"><span data-stu-id="a8292-207">SP800-38C</span></span> |
| <span data-ttu-id="a8292-208">GCM (modalità Galois/Counter)</span><span class="sxs-lookup"><span data-stu-id="a8292-208">GCM (Galois/Counter Mode)</span></span>   | <span data-ttu-id="a8292-209">**\_modalità a catena BCRYPT \_ \_ GCM**</span><span class="sxs-lookup"><span data-stu-id="a8292-209">**BCRYPT\_CHAIN\_MODE\_GCM**</span></span> | <span data-ttu-id="a8292-210">AES</span><span class="sxs-lookup"><span data-stu-id="a8292-210">AES</span></span>                     | <span data-ttu-id="a8292-211">SP800-38D</span><span class="sxs-lookup"><span data-stu-id="a8292-211">SP800-38D</span></span> |



 

> [!Note]  
> <span data-ttu-id="a8292-212">Solo le modalità di funzionamento BCE, CBC e CFB sono definite in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="a8292-212">Only ECB, CBC, and CFB modes of operation are defined in Windows Vista.</span></span> <span data-ttu-id="a8292-213">GCM e CCM richiedono Windows Vista con Service Pack 1 (SP1) o Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="a8292-213">GCM and CCM require Windows Vista with Service Pack 1 (SP1) or Windows Server 2008.</span></span>

 

 

 
