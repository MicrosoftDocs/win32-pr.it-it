---
description: In questo argomento viene descritto il supporto dei dispositivi multihomed in WSDAPI e vengono fornite indicazioni sull'implementazione per gli sviluppatori di client e dispositivi.
ms.assetid: d30ed536-d477-4f50-8c80-aacc35f948b9
title: Implementazione di un dispositivo WSD multihomed
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ac3537b96a577db47419d55cb5c6f732f8f7906
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104233664"
---
# <a name="implementing-a-multi-homed-wsd-device"></a><span data-ttu-id="acc8f-103">Implementazione di un dispositivo WSD multihomed</span><span class="sxs-lookup"><span data-stu-id="acc8f-103">Implementing a Multi-Homed WSD Device</span></span>

<span data-ttu-id="acc8f-104">[WS-Discovery](https://specs.xmlsoap.org/ws/2005/04/discovery/ws-discovery.pdf) e [Device Profile for Web Services](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) non descrivono l'implementazione di dispositivi multihomed.</span><span class="sxs-lookup"><span data-stu-id="acc8f-104">[WS-Discovery](https://specs.xmlsoap.org/ws/2005/04/discovery/ws-discovery.pdf) and the [Devices Profile for Web Services](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) do not describe the implementation of multi-homed devices.</span></span> <span data-ttu-id="acc8f-105">In questo argomento viene descritto il supporto dei dispositivi multihomed in WSDAPI e vengono fornite indicazioni sull'implementazione per gli sviluppatori di client e dispositivi.</span><span class="sxs-lookup"><span data-stu-id="acc8f-105">This topic describes multi-homed device support in WSDAPI, and provides implementation recommendations to client and device developers.</span></span> <span data-ttu-id="acc8f-106">In questo argomento si presuppone che i messaggi di individuazione vengano inviati su IPv4 e IPv6 (se disponibili) con lo stesso ID messaggio e le informazioni di sequenziazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="acc8f-106">In this topic, it is assumed that discovery messages are sent over both IPv4 and IPv6 (if available) with the same message ID and application sequencing information.</span></span>

## <a name="discovery-in-a-multi-homed-environment"></a><span data-ttu-id="acc8f-107">Individuazione in un ambiente multihomed</span><span class="sxs-lookup"><span data-stu-id="acc8f-107">Discovery in a multi-homed environment</span></span>

<span data-ttu-id="acc8f-108">Come indicato nella sezione [Hello](hello-message.md) e [XAddrs](xaddr-validation-rules.md) della [funzionalità WS-Discovery aggiuntive](additional-ws-discovery-functionality.md), WSDAPI non fornisce mai XAddrs in un messaggio Hello.</span><span class="sxs-lookup"><span data-stu-id="acc8f-108">As mentioned in [Hello](hello-message.md) and [XAddrs](xaddr-validation-rules.md) section of [Additional WS-Discovery Functionality](additional-ws-discovery-functionality.md), WSDAPI never provides XAddrs in a Hello message.</span></span> <span data-ttu-id="acc8f-109">Ciò significa che è possibile inviare lo stesso messaggio Hello su tutte le interfacce di rete con lo stesso ID messaggio e le informazioni di sequenziazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="acc8f-109">That means the same Hello message can be sent on all network interfaces with the same message ID and application sequencing information.</span></span> <span data-ttu-id="acc8f-110">Questo rende più semplice per il rilevamento di conflitti client eliminare più messaggi Hello dallo stesso dispositivo quando un client e il dispositivo condividono più subnet.</span><span class="sxs-lookup"><span data-stu-id="acc8f-110">This makes it easier for client collision detection to discard multiple Hello messages from the same device when a client and the device share more than one subnet.</span></span>

<span data-ttu-id="acc8f-111">Poiché [XAddrs](xaddr-validation-rules.md) non vengono inviati nel messaggio [Hello](hello-message.md) , le implementazioni client devono inviare un messaggio di [risoluzione](resolve-message.md) per ottenere l'indirizzo del dispositivo pertinente.</span><span class="sxs-lookup"><span data-stu-id="acc8f-111">Because the [XAddrs](xaddr-validation-rules.md) are not sent in the [Hello](hello-message.md) message, client implementations must send a [Resolve](resolve-message.md) message to get the relevant device address.</span></span> <span data-ttu-id="acc8f-112">La risoluzione deve essere inviata su tutte le interfacce client con lo stesso ID messaggio e il dispositivo deve filtrare i messaggi duplicati in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="acc8f-112">The Resolve should be sent on all client interfaces with the same message ID, and the device should filter duplicate messages as needed.</span></span> <span data-ttu-id="acc8f-113">L'utilizzo dello stesso ID messaggio per il messaggio di risoluzione consente al dispositivo di scegliere un'interfaccia preferita per la comunicazione con i client, se necessario.</span><span class="sxs-lookup"><span data-stu-id="acc8f-113">Using the same message ID for the Resolve message allows the device to pick a preferred interface for communicating with clients if necessary.</span></span>

<span data-ttu-id="acc8f-114">Quando si invia un messaggio [ResolveMatch](resolvematches-message.md) , un dispositivo deve fornire [XAddrs](xaddr-validation-rules.md) correlate all'interfaccia di rete su cui è in corso l'unicasting del messaggio.</span><span class="sxs-lookup"><span data-stu-id="acc8f-114">When sending a [ResolveMatch](resolvematches-message.md) message, a device should provide [XAddrs](xaddr-validation-rules.md) that relate to the network interface over which it is unicasting the message.</span></span> <span data-ttu-id="acc8f-115">Questa procedura consente di evitare più tentativi di connessione client e la logica di ripetizione dei tentativi complessa.</span><span class="sxs-lookup"><span data-stu-id="acc8f-115">This practice helps to avoid multiple client connection attempts and complicated retry logic.</span></span>

## <a name="metadata-exchange-in-a-multi-homed-environment"></a><span data-ttu-id="acc8f-116">Scambio di metadati in un ambiente multihomed</span><span class="sxs-lookup"><span data-stu-id="acc8f-116">Metadata exchange in a multi-homed environment</span></span>

<span data-ttu-id="acc8f-117">L'implementazione dello scambio di metadati in un ambiente multihomed è più difficile rispetto all'implementazione dell'individuazione a causa del controllo delle versioni dei metadati.</span><span class="sxs-lookup"><span data-stu-id="acc8f-117">Implementing metadata exchange in a multi-homed environment is more difficult than implementing discovery because of metadata versioning.</span></span> <span data-ttu-id="acc8f-118">Se un client richiede metadati su più interfacce, il client può ricevere più messaggi [GetResponse](getresponse--metadata-exchange--message.md) su interfacce differenti.</span><span class="sxs-lookup"><span data-stu-id="acc8f-118">If a client requests metadata over multiple interfaces, then the client can receive multiple [GetResponse](getresponse--metadata-exchange--message.md) messages over different interfaces.</span></span> <span data-ttu-id="acc8f-119">Questi messaggi GetResponse possono contenere sezioni di metadati di **relazione** diverse con la stessa versione dei metadati.</span><span class="sxs-lookup"><span data-stu-id="acc8f-119">These GetResponse messages can contain different **Relationship** metadata sections with the same metadata version.</span></span> <span data-ttu-id="acc8f-120">In questo modo si riduce il valore del numero di versione dei metadati.</span><span class="sxs-lookup"><span data-stu-id="acc8f-120">This reduces the value of the metadata version number.</span></span>

<span data-ttu-id="acc8f-121">Esiste un approccio alternativo, in cui un singolo messaggio [GetResponse](getresponse--metadata-exchange--message.md) viene inviato in risposta con tutti gli indirizzi del servizio.</span><span class="sxs-lookup"><span data-stu-id="acc8f-121">There is an alternative approach, where a single [GetResponse](getresponse--metadata-exchange--message.md) message is sent in response with all addresses for the service.</span></span> <span data-ttu-id="acc8f-122">Lo svantaggio di questo metodo è che le informazioni private, ad esempio la topologia di reti indirettamente accessibili, possono essere divulgate.</span><span class="sxs-lookup"><span data-stu-id="acc8f-122">The disadvantage of this method is that private information, such as the topology of indirectly accessible networks, may be disclosed.</span></span>

<span data-ttu-id="acc8f-123">In Windows Vista, i metadati forniti da WSDAPI contengono solo indirizzi validi per l'interfaccia su cui è stata ricevuta la richiesta di metadati.</span><span class="sxs-lookup"><span data-stu-id="acc8f-123">On Windows Vista, the metadata provided by WSDAPI contains only addresses that are valid for the interface upon which the metadata request was received.</span></span>

 

 



