---
description: Il servizio Web on Devices API (WSDAPI) è un'implementazione del profilo Devices per i servizi Web (DPWS) per Windows Vista e Windows Server 2008.
ms.assetid: 8eaeacb3-43db-4a57-8548-e5b81213269c
title: Informazioni sui servizi Web nei dispositivi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dca7f7dc97dabd3dde7af12f3cece992b4f0ef6d
ms.sourcegitcommit: 5b98bf8c68922f8f03c14f793fbe17504900559c
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/12/2021
ms.locfileid: "103885928"
---
# <a name="about-web-services-on-devices"></a><span data-ttu-id="4eb39-103">Informazioni sui servizi Web nei dispositivi</span><span class="sxs-lookup"><span data-stu-id="4eb39-103">About Web Services on Devices</span></span>

<span data-ttu-id="4eb39-104">Il servizio Web on Devices API (WSDAPI) è un'implementazione del [profilo Devices per i servizi Web](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) per Windows Vista e windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="4eb39-104">Web Service on Devices API (WSDAPI) is an implementation of the [Devices Profile for Web Services](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) for Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="4eb39-105">DPWS vincola le specifiche dei servizi Web in modo che i client possano individuare facilmente i dispositivi.</span><span class="sxs-lookup"><span data-stu-id="4eb39-105">The DPWS constrains Web Services specifications so clients can easily discover devices.</span></span> <span data-ttu-id="4eb39-106">Una volta individuato un dispositivo, un client può recuperare una descrizione dei servizi ospitati nel dispositivo e usarli.</span><span class="sxs-lookup"><span data-stu-id="4eb39-106">Once a device is discovered, a client can retrieve a description of services hosted on that device and use those services.</span></span>

## <a name="devices-and-services"></a><span data-ttu-id="4eb39-107">Dispositivi e servizi</span><span class="sxs-lookup"><span data-stu-id="4eb39-107">Devices and Services</span></span>

<span data-ttu-id="4eb39-108">I *dispositivi* sono componenti, in genere hardware, collegati alla rete.</span><span class="sxs-lookup"><span data-stu-id="4eb39-108">*Devices* are components, usually hardware, which are attached to the network.</span></span> <span data-ttu-id="4eb39-109">Tra gli esempi sono incluse stampanti, fotocamere Web e sistemi video.</span><span class="sxs-lookup"><span data-stu-id="4eb39-109">Examples include printers, Web cameras, and video systems.</span></span>

<span data-ttu-id="4eb39-110">I dispositivi possono includere zero o più *Servizi*.</span><span class="sxs-lookup"><span data-stu-id="4eb39-110">Devices may include zero or more *services*.</span></span> <span data-ttu-id="4eb39-111">Ad esempio, un dispositivo video può includere servizi che supportano l'accensione e la disattivazione, il controllo di riproduzione, l'espulsione dei supporti e il flusso video.</span><span class="sxs-lookup"><span data-stu-id="4eb39-111">For example, a video device may include services that support power on and off, play control, media ejection, and video streaming.</span></span> <span data-ttu-id="4eb39-112">Il controllo Play può supportare azioni quali riproduzione, sospensione, riavvolgimento e avanzamento rapido.</span><span class="sxs-lookup"><span data-stu-id="4eb39-112">Play control may support actions such as play, pause, rewind, and fast forward.</span></span>

## <a name="discovering-and-manipulating-a-device"></a><span data-ttu-id="4eb39-113">Individuazione e manipolazione di un dispositivo</span><span class="sxs-lookup"><span data-stu-id="4eb39-113">Discovering and Manipulating a Device</span></span>

<span data-ttu-id="4eb39-114">WSDAPI estende il modello di Plug and Play locale consentendo a un client di individuare e accedere a un dispositivo remoto e ai relativi servizi associati in una rete.</span><span class="sxs-lookup"><span data-stu-id="4eb39-114">WSDAPI extends the local Plug and Play model by allowing a client to discover and access a remote device and its associated services across a network.</span></span> <span data-ttu-id="4eb39-115">Supporta l'individuazione, la messaggistica unidirezionale e bidirezionale e la gestione degli eventi.</span><span class="sxs-lookup"><span data-stu-id="4eb39-115">It supports discovery, one-way and two-way control messaging, and eventing.</span></span>

![Diagramma che illustra come WSDAPI consente a un client di individuare e accedere a un dispositivo remoto.](images/overview01.png)

<span data-ttu-id="4eb39-117">I dispositivi DPWS annunciano la loro presenza ed espongono i servizi, se presenti, usando un indirizzo univoco e un set standardizzato di messaggi XML.</span><span class="sxs-lookup"><span data-stu-id="4eb39-117">DPWS devices announce their presence and expose services (if any) using a unique address and a standardized set of XML messages.</span></span> <span data-ttu-id="4eb39-118">I client DPWS possono usare il processo di individuazione per trovare il dispositivo, enumerarne i servizi e connettersi a tali servizi per eseguire azioni specifiche.</span><span class="sxs-lookup"><span data-stu-id="4eb39-118">DPWS clients can use the discovery process to find the device, enumerate its services, and connect to those services to perform specific actions.</span></span>

<span data-ttu-id="4eb39-119">Un client WSDAPI esegue prima una query sul dispositivo per completare una descrizione dei servizi, inclusi i tipi di servizio, ad esempio un tipo di servizio di stampa o un tipo di servizio scanner.</span><span class="sxs-lookup"><span data-stu-id="4eb39-119">A WSDAPI client first queries the device for complete descriptions of its services, including the service types (such as a printer service type or a scanner service type).</span></span> <span data-ttu-id="4eb39-120">Il client controlla quindi il dispositivo chiamando i comandi definiti da un tipo di servizio, ad esempio chiamando **CreatePrintJob** su un dispositivo con un tipo di servizio di stampa.</span><span class="sxs-lookup"><span data-stu-id="4eb39-120">The client then controls the device by calling commands defined by a service type (for example, by calling **CreatePrintJob** on a device with a printer service type).</span></span> <span data-ttu-id="4eb39-121">Facoltativamente, il client può anche monitorare le modifiche dello stato in ogni servizio sottoscrivendo gli eventi che si verificano durante l'esecuzione del comando.</span><span class="sxs-lookup"><span data-stu-id="4eb39-121">Optionally, the client can also monitor state changes in each service by subscribing to events that occur during command execution.</span></span>

![Diagramma che illustra il modo in cui un client WSDAPI esegue una query e interagisce con un dispositivo.](images/netdevice01.png)

<span data-ttu-id="4eb39-123">Per altre informazioni sui modelli di messaggistica del dispositivo, vedere [modelli di messaggio di scambio di metadati e individuazione](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="4eb39-123">For more information about device messaging patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

## <a name="logical-and-physical-addressing"></a><span data-ttu-id="4eb39-124">Indirizzamento logico e fisico</span><span class="sxs-lookup"><span data-stu-id="4eb39-124">Logical and Physical Addressing</span></span>

<span data-ttu-id="4eb39-125">L'indirizzamento logico viene usato per identificare in modo univoco i dispositivi indipendenti dai rispettivi indirizzi fisici.</span><span class="sxs-lookup"><span data-stu-id="4eb39-125">Logical addressing is used to uniquely identify devices independent of their physical addresses.</span></span> <span data-ttu-id="4eb39-126">WS-Discovery fornisce un meccanismo per risolvere gli indirizzi logici in indirizzi fisici, consentendo la messaggistica da client a dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4eb39-126">WS-Discovery provides a mechanism to resolve logical addresses into physical addresses, allowing client-to-device messaging to take place.</span></span> <span data-ttu-id="4eb39-127">Un esempio è il NAS (Network Attached Storage) che viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="4eb39-127">An example is network attached storage (NAS) that you carry with you.</span></span> <span data-ttu-id="4eb39-128">Se si dispone di un portatile e di un NAS, il computer portatile dovrebbe essere in grado di riconoscere che è lo stesso dispositivo, indipendentemente dall'indirizzo fisico (indirizzo IP) ottenuto dal NAS durante lo spostamento tra le subnet.</span><span class="sxs-lookup"><span data-stu-id="4eb39-128">If you have a laptop and a NAS, your laptop should be able to recognize that it is the same device, regardless of the physical address (IP address) that the NAS obtains as you move between subnets.</span></span> <span data-ttu-id="4eb39-129">Per eseguire questa operazione è necessario che il dispositivo disponga di un'identità indipendente dall'indirizzo IP ottenuto. Poiché i meccanismi tradizionali come il DNS non sono disponibili in uno scenario comune, WS-Addressing e WS-Discovery forniscono la risoluzione e l'indirizzamento logici come alternativa ad hoc.</span><span class="sxs-lookup"><span data-stu-id="4eb39-129">Accomplishing this requires the device have identity that is independent of the IP address it obtains; since traditional mechanisms like DNS are not available in a normal roaming scenario, WS-Addressing and WS-Discovery provide logical addressing and resolution as an ad-hoc alternative.</span></span>

<span data-ttu-id="4eb39-130">Quando un dispositivo viene prodotto, viene assegnato un identificatore univoco globale, rappresentato come un URI UUID.</span><span class="sxs-lookup"><span data-stu-id="4eb39-130">When a device is manufactured, it is given a globally unique identifier, represented as a UUID URI.</span></span> <span data-ttu-id="4eb39-131">Questo identificatore non verrà mai modificato per il dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4eb39-131">This identifier will never change for the device.</span></span> <span data-ttu-id="4eb39-132">Quando il dispositivo è acceso, l'indirizzo logico viene sempre annunciato tramite un messaggio WS-Discovery [Hello](hello-message.md) e accetta le richieste per convertirlo in un indirizzo fisico (in genere http) tramite WS-Discovery i messaggi di [risoluzione](resolve-message.md) o [Probe](probe-message.md) .</span><span class="sxs-lookup"><span data-stu-id="4eb39-132">When the device is powered on, it will always announce its logical address via a WS-Discovery [Hello](hello-message.md) message, and will accept requests to convert that to a physical address (typically HTTP) via WS-Discovery [Resolve](resolve-message.md) or [Probe](probe-message.md) messages.</span></span> <span data-ttu-id="4eb39-133">Una volta ottenuto un indirizzo fisico (indirizzo IP) valido, tutti i messaggi avvengono su tale indirizzo e WS-Discovery viene usato solo se l'indirizzo cambia, il dispositivo cambia stato e i client devono ricevere una notifica oppure il dispositivo passa alla modalità offline.</span><span class="sxs-lookup"><span data-stu-id="4eb39-133">Once a valid physical address (IP address) is obtained, all messaging happens over that address, and WS-Discovery is used only if the address changes, the device changes state and the clients need to be notified, or the device goes offline.</span></span>

## <a name="building-applications"></a><span data-ttu-id="4eb39-134">Compilazione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="4eb39-134">Building Applications</span></span>

<span data-ttu-id="4eb39-135">WSDAPI fornisce uno stack SOAP DPWS generico per l'uso da applicazioni client e di servizio.</span><span class="sxs-lookup"><span data-stu-id="4eb39-135">WSDAPI provides a generic DPWS SOAP stack for use by client and service applications.</span></span> <span data-ttu-id="4eb39-136">Il [Generatore di codice dei servizi Web in dispositivi](web-services-for-devices-code-generator.md) (WsdCodeGen.exe) può essere usato per convertire una descrizione del servizio (WSDL) in codice di proxy e stub che le applicazioni possono chiamare direttamente.</span><span class="sxs-lookup"><span data-stu-id="4eb39-136">The [Web Services on Devices Code Generator](web-services-for-devices-code-generator.md) (WsdCodeGen.exe) can be used to convert a service description (WSDL) into proxy and stub code that applications can call directly.</span></span> <span data-ttu-id="4eb39-137">Questo codice generato trasforma automaticamente le chiamate di funzione e i parametri in messaggi SOAP e campi XML, quindi chiama WSDAPI per emettere richieste al dispositivo remoto o al client.</span><span class="sxs-lookup"><span data-stu-id="4eb39-137">This generated code automatically transforms function calls and parameters into SOAP messages and XML fields, and then calls into WSDAPI to issue to requests to the remote device or client.</span></span>

<span data-ttu-id="4eb39-138">L'individuazione della funzione può essere utilizzata per la compilazione di applicazioni WSDAPI per la creazione e l'attivazione di istanze di funzione restituite da PnP.</span><span class="sxs-lookup"><span data-stu-id="4eb39-138">Function Discovery can be used when building WSDAPI applications to create and activate function instances returned by PnP.</span></span> <span data-ttu-id="4eb39-139">Queste istanze di funzioni contengono dati che possono essere utilizzati per ottenere ulteriori informazioni tramite le API PnP quando è necessaria una sola individuazione semplice.</span><span class="sxs-lookup"><span data-stu-id="4eb39-139">These function instances contain data that can be used to obtain more information through the PnP APIs when more than just simple discovery is required.</span></span> <span data-ttu-id="4eb39-140">Per ulteriori informazioni, vedere [individuazione di funzioni](/previous-versions/windows/desktop/fundisc/fd-portal) e [PnP-X](/previous-versions/windows/desktop/fundisc/pnp-x).</span><span class="sxs-lookup"><span data-stu-id="4eb39-140">For more information, see [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) and [PnP-X](/previous-versions/windows/desktop/fundisc/pnp-x).</span></span>

## <a name="related-topics"></a><span data-ttu-id="4eb39-141">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="4eb39-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4eb39-142">Modelli di messaggi di individuazione e scambio di metadati</span><span class="sxs-lookup"><span data-stu-id="4eb39-142">Discovery and Metadata Exchange Message Patterns</span></span>](discovery-and-metadata-exchange-message-patterns.md)
</dt> <dt>

[<span data-ttu-id="4eb39-143">Conformità della specifica WSDAPI</span><span class="sxs-lookup"><span data-stu-id="4eb39-143">WSDAPI Specification Compliance</span></span>](wsdapi-specification-compliance.md)
</dt> <dt>

[<span data-ttu-id="4eb39-144">Panoramica delle interfacce WSDAPI</span><span class="sxs-lookup"><span data-stu-id="4eb39-144">Overview of the WSDAPI Interfaces</span></span>](overview-of-the-wsdapi-interfaces.md)
</dt> </dl>

 

 
