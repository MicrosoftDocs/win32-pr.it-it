---
description: Un firewall non configurato correttamente può causare errori nelle applicazioni WSD.
ms.assetid: eba61235-29b4-463a-b7c5-d34d3b39b095
title: Controllo delle impostazioni di adapter e firewall
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 490909c9f3acdc3025e72350118f303bfdae73d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104344876"
---
# <a name="inspecting-adapter-and-firewall-settings"></a><span data-ttu-id="4a0d3-103">Controllo delle impostazioni di adapter e firewall</span><span class="sxs-lookup"><span data-stu-id="4a0d3-103">Inspecting Adapter and Firewall Settings</span></span>

<span data-ttu-id="4a0d3-104">Un firewall non configurato correttamente può causare errori nelle applicazioni WSD.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-104">A misconfigured firewall can cause WSD applications to fail.</span></span> <span data-ttu-id="4a0d3-105">In questo argomento vengono fornite alcune procedure per la risoluzione dei problemi da utilizzare quando i client e gli host WSD non possono vedersi reciprocamente nella rete.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-105">This topic provides some troubleshooting procedures to use when WSD clients and hosts cannot see each other on the network.</span></span> <span data-ttu-id="4a0d3-106">Le impostazioni del firewall devono essere ispezionate prima di utilizzare qualsiasi altra procedura di risoluzione dei problemi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-106">The firewall settings should be inspected before using any other application troubleshooting procedure.</span></span>

<span data-ttu-id="4a0d3-107">**Per esaminare le impostazioni dell'adapter e del firewall**</span><span class="sxs-lookup"><span data-stu-id="4a0d3-107">**To inspect the adapter and firewall settings**</span></span>

1.  <span data-ttu-id="4a0d3-108">Verificare che l'eccezione **individuazione di rete** sia abilitata.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-108">Verify that the **Network Discovery** exception is enabled.</span></span>
2.  <span data-ttu-id="4a0d3-109">Verificare che non siano presenti regole firewall specifiche per l'applicazione che bloccano l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-109">Check that there are no application-specific firewall rules blocking the application.</span></span>
3.  <span data-ttu-id="4a0d3-110">Abilitare in modo esplicito le porte utilizzate per l'individuazione e lo scambio di metadati.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-110">Explicitly enable the ports used for discovery and metadata exchange.</span></span>
4.  <span data-ttu-id="4a0d3-111">Disabilitare il firewall e rieseguire il test dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-111">Disable the firewall and retest the application.</span></span>
    > [!Note]  
    > <span data-ttu-id="4a0d3-112">Dopo aver completato questo passaggio, è necessario abilitare nuovamente il firewall.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-112">The firewall should be re-enabled after completing this step.</span></span>

     

## <a name="verifying-that-the-network-discovery-exception-is-enabled"></a><span data-ttu-id="4a0d3-113">Verifica per verificare se l'eccezione di individuazione della rete è abilitata</span><span class="sxs-lookup"><span data-stu-id="4a0d3-113">Verifying that the Network Discovery exception is enabled</span></span>

<span data-ttu-id="4a0d3-114">Se è in esecuzione un'applicazione WS-Discovery, è necessario consentire l'eccezione del firewall di **individuazione della rete** .</span><span class="sxs-lookup"><span data-stu-id="4a0d3-114">If any WS-Discovery applications are running, the **Network Discovery** firewall exception must be allowed.</span></span>

<span data-ttu-id="4a0d3-115">**Per abilitare l'eccezione del firewall di individuazione della rete**</span><span class="sxs-lookup"><span data-stu-id="4a0d3-115">**To enable the Network Discovery firewall exception**</span></span>

1.  <span data-ttu-id="4a0d3-116">Fare clic sul pulsante **Start**, scegliere **Esegui**, quindi digitare **firewall.cpl**.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-116">Click **Start**, click **Run**, and then type **firewall.cpl**.</span></span> <span data-ttu-id="4a0d3-117">Verrà visualizzata l'applet del **Pannello di controllo Windows Firewall** .</span><span class="sxs-lookup"><span data-stu-id="4a0d3-117">This opens the **Windows Firewall Control Panel** applet.</span></span>
2.  <span data-ttu-id="4a0d3-118">Scegliere **Consenti programma tramite Windows Firewall**.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-118">Choose **Allow a program through Windows Firewall**.</span></span>
3.  <span data-ttu-id="4a0d3-119">Nella scheda **eccezioni** selezionare la casella di controllo **individuazione di rete** .</span><span class="sxs-lookup"><span data-stu-id="4a0d3-119">On the **Exceptions** tab, select the **Network Discovery** check box.</span></span>
4.  <span data-ttu-id="4a0d3-120">Fare clic su **OK** per chiudere l'applet del firewall.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-120">Click **OK** to close the firewall applet.</span></span>

<span data-ttu-id="4a0d3-121">Eseguire nuovamente il test del programma dopo aver modificato il firewall.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-121">Retest the program after making this firewall change.</span></span> <span data-ttu-id="4a0d3-122">Se il programma funziona correttamente, è stata identificata la causa del problema e non è necessario eseguire ulteriori passaggi per la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-122">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="4a0d3-123">In caso contrario, passare al passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-123">Otherwise, move on to the next step.</span></span>

## <a name="checking-for-application-specific-firewall-rules"></a><span data-ttu-id="4a0d3-124">Verifica delle regole del firewall specifiche dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4a0d3-124">Checking for application-specific firewall rules</span></span>

<span data-ttu-id="4a0d3-125">La configurazione avanzata del Windows Firewall può essere eseguita in uno snap-in di Microsoft Management Control (MMC) denominato **Windows Firewall con sicurezza avanzata**.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-125">Advanced configuration of the Windows Firewall can take place in a Microsoft Management Control (MMC) snap-in named **Windows Firewall with Advanced Security**.</span></span> <span data-ttu-id="4a0d3-126">Questo snap-in può essere utilizzato per risolvere i problemi sospetti del firewall.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-126">This snap-in can be used to troubleshoot suspected firewall problems.</span></span>

<span data-ttu-id="4a0d3-127">Gli sviluppatori possono usare le API di [sicurezza avanzata di Windows Firewall](/previous-versions/windows/desktop/ics/windows-firewall-with-advanced-security-reference) per creare regole del firewall che si applicano alle applicazioni WSD.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-127">Developers can use the [Windows Firewall with Advanced Security](/previous-versions/windows/desktop/ics/windows-firewall-with-advanced-security-reference) APIs to create firewall rules that apply to their WSD applications.</span></span> <span data-ttu-id="4a0d3-128">In particolare, è possibile usare il metodo [**Add**](/previous-versions/windows/desktop/api/netfw/nf-netfw-inetfwrules-add) dell'interfaccia [**INetFwRules**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwrules) per aggiungere una nuova regola del firewall.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-128">Specifically, the [**Add**](/previous-versions/windows/desktop/api/netfw/nf-netfw-inetfwrules-add) method of the [**INetFwRules**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwrules) interface can be used to add a new firewall rule.</span></span> <span data-ttu-id="4a0d3-129">Se le regole del firewall non sono state create correttamente, i client e gli host potrebbero non essere in grado di vedere reciprocamente la rete.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-129">If firewall rules are created incorrectly, clients and hosts may not be able to see each other on the network.</span></span>

<span data-ttu-id="4a0d3-130">**Per verificare le regole del firewall specifiche dell'applicazione**</span><span class="sxs-lookup"><span data-stu-id="4a0d3-130">**To check for application-specific firewall rules**</span></span>

1.  <span data-ttu-id="4a0d3-131">Fare clic sul pulsante **Start**, scegliere **Esegui**, quindi digitare **WF. msc**.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-131">Click **Start**, click **Run**, and then type **wf.msc**.</span></span>
2.  <span data-ttu-id="4a0d3-132">Cercare regole specifiche dell'applicazione che potrebbero bloccare il traffico.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-132">Look for application-specific rules that may be blocking traffic.</span></span> <span data-ttu-id="4a0d3-133">Per ulteriori informazioni, vedere [Windows Firewall con sicurezza avanzata-diagnostica e strumenti per la risoluzione dei problemi](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc722062(v=ws.10)?ocid=fwlink).</span><span class="sxs-lookup"><span data-stu-id="4a0d3-133">For more information, see [Windows Firewall with Advanced Security - Diagnostics and Troubleshooting Tools](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc722062(v=ws.10)?ocid=fwlink).</span></span>
3.  <span data-ttu-id="4a0d3-134">Rimuovere le regole specifiche dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-134">Remove application-specific rules.</span></span>

<span data-ttu-id="4a0d3-135">Se non sono state trovate regole specifiche dell'applicazione, procedere al passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-135">If no application-specific rules were found, move on to the next step.</span></span> <span data-ttu-id="4a0d3-136">Se è stata rilevata e rimossa una regola specifica dell'applicazione, testare nuovamente il programma dopo aver modificato il firewall.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-136">If an application-specific rule was found and removed, retest the program after making the firewall change.</span></span> <span data-ttu-id="4a0d3-137">Se il programma funziona correttamente, è stata identificata la causa del problema e non è necessario eseguire ulteriori passaggi per la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-137">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="4a0d3-138">In caso contrario, passare al passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-138">Otherwise, move on to the next step.</span></span>

## <a name="enabling-the-ports-used-for-discovery-and-metadata-exchange"></a><span data-ttu-id="4a0d3-139">Abilitazione delle porte utilizzate per l'individuazione e lo scambio di metadati</span><span class="sxs-lookup"><span data-stu-id="4a0d3-139">Enabling the ports used for discovery and metadata exchange</span></span>

<span data-ttu-id="4a0d3-140">WS-Discovery utilizza la porta UDP 3702 per lo scambio di messaggi.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-140">WS-Discovery uses the UDP port 3702 for message exchange.</span></span> <span data-ttu-id="4a0d3-141">Inoltre, le porte TCP 5357 e 5358 vengono talvolta utilizzate per lo scambio di metadati.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-141">In addition, TCP ports 5357 and 5358 are sometimes used for metadata exchange.</span></span> <span data-ttu-id="4a0d3-142">Queste porte possono essere aperte in modo esplicito sul firewall usando le procedure descritte in [aprire una porta in Windows Firewall](https://windowshelp.microsoft.com/Windows/Help/4da18300-9044-47b6-9038-595c78db81ab1033.mspx).</span><span class="sxs-lookup"><span data-stu-id="4a0d3-142">These ports can be explicitly opened on the firewall using the procedures described in [Open a port in Windows Firewall](https://windowshelp.microsoft.com/Windows/Help/4da18300-9044-47b6-9038-595c78db81ab1033.mspx).</span></span>

<span data-ttu-id="4a0d3-143">Eseguire nuovamente il test del programma dopo aver modificato il firewall.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-143">Retest the program after making this firewall change.</span></span> <span data-ttu-id="4a0d3-144">Se il programma funziona correttamente, è stata identificata la causa del problema e non è necessario eseguire ulteriori passaggi per la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-144">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="4a0d3-145">In caso contrario, passare al passaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-145">Otherwise, move on to the next step.</span></span>

## <a name="disabling-the-firewall"></a><span data-ttu-id="4a0d3-146">Disabilitazione del firewall</span><span class="sxs-lookup"><span data-stu-id="4a0d3-146">Disabling the firewall</span></span>

<span data-ttu-id="4a0d3-147">Il Windows Firewall può essere disabilitato per risolvere i problemi sospetti.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-147">The Windows Firewall can be disabled to help troubleshoot suspected problems.</span></span> <span data-ttu-id="4a0d3-148">Altri firewall applicabili, ad esempio il firewall in un router, possono essere disabilitati anche per la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-148">Other applicable firewalls (such as the firewall on a router) can also be disabled for troubleshooting purposes.</span></span> <span data-ttu-id="4a0d3-149">Per informazioni sull'abilitazione e la disabilitazione dell'Windows Firewall, vedere [attivare o disattivare l'Windows Firewall](https://windowshelp.microsoft.com/Windows/Help/bfe523a9-7eec-4d3f-add1-2f68b9cfa1c01033.mspx).</span><span class="sxs-lookup"><span data-stu-id="4a0d3-149">For information about enabling and disabling the Windows Firewall, see [Turn Windows Firewall on or off](https://windowshelp.microsoft.com/Windows/Help/bfe523a9-7eec-4d3f-add1-2f68b9cfa1c01033.mspx).</span></span>

<span data-ttu-id="4a0d3-150">Eseguire nuovamente il test dell'applicazione dopo aver disattivato eventuali firewall applicabili.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-150">Retest the application after disabling any applicable firewalls.</span></span> <span data-ttu-id="4a0d3-151">Se il programma ora funziona correttamente, il firewall blocca il traffico.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-151">If the program now works successfully, then the firewall was blocking the traffic.</span></span> <span data-ttu-id="4a0d3-152">Esistono alcune possibili cause di traffico bloccato.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-152">There are a few possible causes of blocked traffic.</span></span>

-   <span data-ttu-id="4a0d3-153">Le eccezioni specifiche dell'applicazione hanno bloccato il traffico.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-153">Application-specific exceptions blocked the traffic.</span></span> <span data-ttu-id="4a0d3-154">Verificare la presenza di regole firewall specifiche per l'applicazione, come descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-154">Check for application-specific firewall rules as described above.</span></span>
-   <span data-ttu-id="4a0d3-155">Il dispositivo ha impiegato troppo tempo per rispondere alle richieste UDP.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-155">The device took too long to respond to UDP requests.</span></span> <span data-ttu-id="4a0d3-156">Il Windows Firewall può bloccare le risposte UDP che restituiscono più di 4 secondi dopo l'invio della richiesta iniziale.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-156">The Windows Firewall may block UDP responses that return more than 4 seconds after the initial request was sent.</span></span> <span data-ttu-id="4a0d3-157">Continuare la risoluzione dei problemi attenendosi alle procedure descritte in [utilizzo di un host e di un client generici per UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md) per verificare se il problema si riproduce con un host che risponde in meno di 4 secondi.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-157">Continue troubleshooting by following the procedures given in [Using a Generic Host and Client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md) to see if the problem reproduces with a host that responds in less than 4 seconds.</span></span>

<span data-ttu-id="4a0d3-158">Se l'applicazione non riesce ancora dopo la disabilitazione del firewall, il firewall non causa l'errore dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-158">If the application still fails after the firewall is disabled, then the firewall is not causing the application failure.</span></span> <span data-ttu-id="4a0d3-159">Riabilitare i firewall e continuare la risoluzione dei problemi attenendosi alle procedure fornite in [utilizzo di un host e un client generici per UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span><span class="sxs-lookup"><span data-stu-id="4a0d3-159">Re-enable the firewalls and continue troubleshooting by following the procedures given in [Using a Generic Host and Client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>

<span data-ttu-id="4a0d3-160">Al termine della risoluzione dei problemi, i firewall devono essere sempre riabilitati.</span><span class="sxs-lookup"><span data-stu-id="4a0d3-160">Firewalls should always be re-enabled after troubleshooting has finished.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4a0d3-161">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="4a0d3-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4a0d3-162">Procedure di diagnostica WSDAPI</span><span class="sxs-lookup"><span data-stu-id="4a0d3-162">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="4a0d3-163">Introduzione con la risoluzione dei problemi di WSDAPI</span><span class="sxs-lookup"><span data-stu-id="4a0d3-163">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> </dl>

 

 
