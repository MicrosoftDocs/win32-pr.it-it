---
description: Informazioni sul controllo delle tracce di rete per lo scambio di metadati HTTP. Usare un analizzatore di pacchetti di rete che visualizza i pacchetti non elaborati.
ms.assetid: b3b6c4d1-5fa3-41fb-ae1d-067638e385b0
title: Controllo delle tracce di rete per lo scambio di metadati HTTP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0e653b0852f84382873973cd63fbd3223a245dd4
ms.sourcegitcommit: d0eb44d0a95f5e5efbfec3d3e9c143f5cba25bc3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/17/2021
ms.locfileid: "112262683"
---
# <a name="inspecting-network-traces-for-http-metadata-exchange"></a><span data-ttu-id="48d28-104">Controllo delle tracce di rete per lo scambio di metadati HTTP</span><span class="sxs-lookup"><span data-stu-id="48d28-104">Inspecting Network Traces for HTTP Metadata Exchange</span></span>

<span data-ttu-id="48d28-105">Qualsiasi analizzatore di pacchetti di rete in grado di visualizzare pacchetti non elaborati può essere usato per esaminare le richieste di scambio di metadati HTTP.</span><span class="sxs-lookup"><span data-stu-id="48d28-105">Any network packet analyzer that can display raw packets can be used to inspect HTTP metadata exchange requests.</span></span> <span data-ttu-id="48d28-106">Microsoft Network Monitor 3 (Netmon) è consigliato.</span><span class="sxs-lookup"><span data-stu-id="48d28-106">Microsoft Network Monitor 3 (Netmon) is recommended.</span></span> <span data-ttu-id="48d28-107">Per altre informazioni su Netmon, vedere [Download di Netmon e filtri DPWS di esempio.](downloading-netmon-and-sample-dpws-filters.md)</span><span class="sxs-lookup"><span data-stu-id="48d28-107">For more information about Netmon, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>

<span data-ttu-id="48d28-108">Questa procedura di diagnostica potrebbe non essere utile per i client e gli host che usano un canale sicuro per le comunicazioni perché il contenuto del messaggio è crittografato.</span><span class="sxs-lookup"><span data-stu-id="48d28-108">This diagnostic procedure may not be as useful for clients and hosts using a secure channel for communications because the message contents are encrypted.</span></span>

<span data-ttu-id="48d28-109">**Per esaminare le tracce di rete per lo scambio di metadati HTTP**</span><span class="sxs-lookup"><span data-stu-id="48d28-109">**To inspect network traces for HTTP metadata exchange**</span></span>

1.  <span data-ttu-id="48d28-110">Configurare l'host e il client per l'esecuzione in rete, ovvero assicurarsi che l'host e il client funzionino in computer diversi.</span><span class="sxs-lookup"><span data-stu-id="48d28-110">Configure the host and client to run across the network (that is, make sure that the host and client will operate on different machines).</span></span>
2.  <span data-ttu-id="48d28-111">Installare l'analizzatore pacchetti (Netmon) nel client o nell'host.</span><span class="sxs-lookup"><span data-stu-id="48d28-111">Install the packet analyzer (Netmon) on either the client or the host.</span></span>
3.  <span data-ttu-id="48d28-112">Configurare l'analizzatore pacchetti per acquisire il traffico sulla scheda di rete che connette l'host e il client.</span><span class="sxs-lookup"><span data-stu-id="48d28-112">Configure the packet analyzer to capture traffic on the network adapter connecting the host and the client.</span></span>
4.  <span data-ttu-id="48d28-113">Riprodurre l'errore avviando l'host e il client o premendo F5 nel Esplora rete.</span><span class="sxs-lookup"><span data-stu-id="48d28-113">Reproduce the failure by starting the host and client or by pressing F5 in the Network Explorer.</span></span>
5.  <span data-ttu-id="48d28-114">Filtrare i risultati per isolare il traffico WS-Discovery scambio di metadati.</span><span class="sxs-lookup"><span data-stu-id="48d28-114">Filter the results to isolate WS-Discovery and metadata exchange traffic.</span></span> <span data-ttu-id="48d28-115">Per visualizzare i filtri Netmon di esempio, vedere [Download dei filtri Netmon e DPWS di esempio.](downloading-netmon-and-sample-dpws-filters.md)</span><span class="sxs-lookup"><span data-stu-id="48d28-115">To view sample Netmon filters, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>
    > [!Note]  
    > <span data-ttu-id="48d28-116">Questo passaggio è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="48d28-116">This step is optional.</span></span>

     

6.  <span data-ttu-id="48d28-117">Verificare che i messaggi inviati tra client e host soddisfino i requisiti di traffico di base.</span><span class="sxs-lookup"><span data-stu-id="48d28-117">Verify that messages sent between client and host meet basic traffic requirements.</span></span>

## <a name="verifying-that-messages-meet-traffic-requirements"></a><span data-ttu-id="48d28-118">Verifica che i messaggi soddisfino i requisiti di traffico</span><span class="sxs-lookup"><span data-stu-id="48d28-118">Verifying that messages meet traffic requirements</span></span>

<span data-ttu-id="48d28-119">I client e gli host WSDAPI devono inviare messaggi conformi ai criteri seguenti.</span><span class="sxs-lookup"><span data-stu-id="48d28-119">WSDAPI clients and hosts must send messages that conform to the following criteria.</span></span> <span data-ttu-id="48d28-120">Per informazioni generali sui modelli di messaggio, vedere [Individuazione e modelli di messaggi di scambio dei metadati.](discovery-and-metadata-exchange-message-patterns.md)</span><span class="sxs-lookup"><span data-stu-id="48d28-120">For general information about message patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

-   <span data-ttu-id="48d28-121">I messaggi devono soddisfare i requisiti di traffico specificati nell'argomento [Inspecting Network Traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md), a meno che non sia assolutamente certo che WS-Discovery non venga usato per lo scambio di metadati.</span><span class="sxs-lookup"><span data-stu-id="48d28-121">Messages must meet the traffic requirements provided in the topic [Inspecting Network Traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md), unless it is absolutely certain that WS-Discovery is not being used for metadata exchange.</span></span>
-   <span data-ttu-id="48d28-122">È necessario stabilire una connessione TCP tra il client e il primo indirizzo di trasporto fornito nell'elemento **XAddrs** di [un messaggio ProbeMatches](probematches-message.md) [o ResolveMatches.](resolvematches-message.md)</span><span class="sxs-lookup"><span data-stu-id="48d28-122">A TCP connection must be established between the client and the first transport address provided in the **XAddrs** element of a [ProbeMatches](probematches-message.md) or [ResolveMatches](resolvematches-message.md) message.</span></span> <span data-ttu-id="48d28-123">L'elenco seguente illustra un tipico scambio di pacchetti usato per stabilire una connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="48d28-123">The following list shows a typical packet exchange used to establish a TCP connection.</span></span>
    -   <span data-ttu-id="48d28-124">Il client invia un pacchetto SYN TCP all'host su una porta specificata.</span><span class="sxs-lookup"><span data-stu-id="48d28-124">The client sends a TCP SYN packet to the host at a specified port.</span></span>
    -   <span data-ttu-id="48d28-125">L'host invia un pacchetto SYN/ACK TCP al client.</span><span class="sxs-lookup"><span data-stu-id="48d28-125">The host sends a TCP SYN/ACK packet to the client.</span></span>
    -   <span data-ttu-id="48d28-126">Il client invia un pacchetto TCP ACK all'host su una porta specificata.</span><span class="sxs-lookup"><span data-stu-id="48d28-126">The client sends a TCP ACK packet to the host at a specified port.</span></span>

    <span data-ttu-id="48d28-127">Dopo che il client ha inviato un pacchetto TCP ACK, viene stabilita la connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="48d28-127">Once the client has sent a TCP ACK packet, the TCP connection is established.</span></span> <span data-ttu-id="48d28-128">Si noti che questo scambio di messaggi non si verifica se in precedenza è stata stabilita una connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="48d28-128">Note that this message exchange will not occur if a TCP connection has previously been established.</span></span>
-   <span data-ttu-id="48d28-129">Il client deve inviare una richiesta [e](get--metadata-exchange--http-request-and-message.md) un messaggio HTTP Get validi.</span><span class="sxs-lookup"><span data-stu-id="48d28-129">The client must send a valid [Get](get--metadata-exchange--http-request-and-message.md) HTTP request and message.</span></span>
-   <span data-ttu-id="48d28-130">L'host deve essere in ascolto sul percorso URL specificato nella [richiesta Get](get--metadata-exchange--http-request-and-message.md) HTTP.</span><span class="sxs-lookup"><span data-stu-id="48d28-130">The host must be listening on the URL path specified in the [Get](get--metadata-exchange--http-request-and-message.md) HTTP request.</span></span>
-   <span data-ttu-id="48d28-131">**L'elemento To** di un [messaggio di](get--metadata-exchange--http-request-and-message.md) metadati Get deve essere presente e non vuoto.</span><span class="sxs-lookup"><span data-stu-id="48d28-131">The **To** element of a [Get](get--metadata-exchange--http-request-and-message.md) metadata message must be present and not empty.</span></span> <span data-ttu-id="48d28-132">Il valore **dell'elemento To** deve corrispondere a uno degli indirizzi endpoint dell'host.</span><span class="sxs-lookup"><span data-stu-id="48d28-132">The value of the **To** element must match one of the host's endpoint addresses.</span></span> <span data-ttu-id="48d28-133">L'indirizzo endpoint di un host viene in genere annunciato in [un messaggio ProbeMatches](probematches-message.md) [o ResolveMatches.](resolvematches-message.md)</span><span class="sxs-lookup"><span data-stu-id="48d28-133">A host's endpoint address is typically advertised in a [ProbeMatches](probematches-message.md) or [ResolveMatches](resolvematches-message.md) message.</span></span>
-   <span data-ttu-id="48d28-134">L'host deve inviare un'intestazione di risposta HTTP valida.</span><span class="sxs-lookup"><span data-stu-id="48d28-134">The host must send a valid HTTP response header.</span></span> <span data-ttu-id="48d28-135">Se la richiesta iniziale ha avuto esito positivo, l'intestazione della risposta deve contenere il codice di stato HTTP/1.1 200.</span><span class="sxs-lookup"><span data-stu-id="48d28-135">If the initial request was successful, the response header should contain the HTTP/1.1 200 status code.</span></span>
-   <span data-ttu-id="48d28-136">L'host deve inviare un [messaggio GetResponse](getresponse--metadata-exchange--message.md) valido.</span><span class="sxs-lookup"><span data-stu-id="48d28-136">The host must send a valid [GetResponse](getresponse--metadata-exchange--message.md) message.</span></span>
-   <span data-ttu-id="48d28-137">**L'elemento RelatesTo** di [un messaggio GetResponse](getresponse--metadata-exchange--message.md) deve essere presente e non deve essere vuoto.</span><span class="sxs-lookup"><span data-stu-id="48d28-137">The **RelatesTo** element of a [GetResponse](getresponse--metadata-exchange--message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="48d28-138">Il valore deve corrispondere al valore **dell'elemento MessageId** del messaggio [Get](get--metadata-exchange--http-request-and-message.md) corrispondente.</span><span class="sxs-lookup"><span data-stu-id="48d28-138">Its value must match the value of the **MessageId** element from the corresponding [Get](get--metadata-exchange--http-request-and-message.md) message.</span></span>

<span data-ttu-id="48d28-139">Se le richieste HTTP o i messaggi di scambio di metadati inviati dal programma non sono conformi a questi requisiti di traffico, la causa del problema è stata identificata correttamente e non sono necessarie ulteriori procedure di risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="48d28-139">If the HTTP requests or metadata exchange messages sent by the program do not conform to these traffic requirements, the cause of the problem has been successfully identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="48d28-140">Riscrivere il programma in modo che generi messaggi e richieste conformi ed eseguire di nuovo il programma.</span><span class="sxs-lookup"><span data-stu-id="48d28-140">Rewrite the program so that it generates conformant messages and requests and retest the program.</span></span>

<span data-ttu-id="48d28-141">Se l'origine del problema non può ancora essere identificata, contattare il supporto tecnico Microsoft per assistenza.</span><span class="sxs-lookup"><span data-stu-id="48d28-141">If the source of the problem still cannot be identified, contact Microsoft support for assistance.</span></span> <span data-ttu-id="48d28-142">Prima di contattare il supporto tecnico, raccogliere i file di log appropriati per identificare la causa radice del problema.</span><span class="sxs-lookup"><span data-stu-id="48d28-142">Before contacting support, collect the appropriate log files to help identify the root cause of the problem.</span></span> <span data-ttu-id="48d28-143">Per altre informazioni, vedere [Abilitazione della traccia WSDAPI.](enabling-wsdapi-tracing.md)</span><span class="sxs-lookup"><span data-stu-id="48d28-143">For more information, see [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="48d28-144">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="48d28-144">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="48d28-145">Procedure di diagnostica WSDAPI</span><span class="sxs-lookup"><span data-stu-id="48d28-145">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="48d28-146">Attività iniziali risoluzione dei problemi relativi a WSDAPI</span><span class="sxs-lookup"><span data-stu-id="48d28-146">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> <dt>

[<span data-ttu-id="48d28-147">Download di Netmon e dei filtri DPWS di esempio</span><span class="sxs-lookup"><span data-stu-id="48d28-147">Downloading Netmon and Sample DPWS Filters</span></span>](downloading-netmon-and-sample-dpws-filters.md)
</dt> </dl>

 

 



