---
description: Qualsiasi analizzatore di pacchetti di rete in grado di visualizzare pacchetti non elaborati può essere utilizzato per controllare le richieste di scambio di metadati HTTP. È consigliabile Microsoft Network Monitor 3 (Netmon). Per ulteriori informazioni su Netmon, vedere Download di Netmon e Sample DPWS filters.
ms.assetid: b3b6c4d1-5fa3-41fb-ae1d-067638e385b0
title: Controllo delle tracce di rete per lo scambio di metadati HTTP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0c9993c542789b7f11eb35344dd6b0b03bfbafc3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104226923"
---
# <a name="inspecting-network-traces-for-http-metadata-exchange"></a><span data-ttu-id="2add8-105">Controllo delle tracce di rete per lo scambio di metadati HTTP</span><span class="sxs-lookup"><span data-stu-id="2add8-105">Inspecting Network Traces for HTTP Metadata Exchange</span></span>

<span data-ttu-id="2add8-106">Qualsiasi analizzatore di pacchetti di rete in grado di visualizzare pacchetti non elaborati può essere utilizzato per controllare le richieste di scambio di metadati HTTP.</span><span class="sxs-lookup"><span data-stu-id="2add8-106">Any network packet analyzer that can display raw packets can be used to inspect HTTP metadata exchange requests.</span></span> <span data-ttu-id="2add8-107">È consigliabile Microsoft Network Monitor 3 (Netmon).</span><span class="sxs-lookup"><span data-stu-id="2add8-107">Microsoft Network Monitor 3 (Netmon) is recommended.</span></span> <span data-ttu-id="2add8-108">Per ulteriori informazioni su Netmon, vedere [download di Netmon e Sample DPWS filters](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="2add8-108">For more information about Netmon, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>

<span data-ttu-id="2add8-109">Questa procedura di diagnostica potrebbe non essere utile per i client e gli host che utilizzano un canale sicuro per le comunicazioni perché il contenuto del messaggio è crittografato.</span><span class="sxs-lookup"><span data-stu-id="2add8-109">This diagnostic procedure may not be as useful for clients and hosts using a secure channel for communications because the message contents are encrypted.</span></span>

<span data-ttu-id="2add8-110">**Per esaminare le tracce di rete per lo scambio di metadati HTTP**</span><span class="sxs-lookup"><span data-stu-id="2add8-110">**To inspect network traces for HTTP metadata exchange**</span></span>

1.  <span data-ttu-id="2add8-111">Configurare l'host e il client in modo che vengano eseguiti attraverso la rete (ovvero, assicurarsi che l'host e il client operino in computer diversi).</span><span class="sxs-lookup"><span data-stu-id="2add8-111">Configure the host and client to run across the network (that is, make sure that the host and client will operate on different machines).</span></span>
2.  <span data-ttu-id="2add8-112">Installare Packet Analyzer (Netmon) nel client o nell'host.</span><span class="sxs-lookup"><span data-stu-id="2add8-112">Install the packet analyzer (Netmon) on either the client or the host.</span></span>
3.  <span data-ttu-id="2add8-113">Configurare l'analizzatore di pacchetti per acquisire il traffico sulla scheda di rete che connette l'host e il client.</span><span class="sxs-lookup"><span data-stu-id="2add8-113">Configure the packet analyzer to capture traffic on the network adapter connecting the host and the client.</span></span>
4.  <span data-ttu-id="2add8-114">Riprodurre l'errore avviando l'host e il client o premendo F5 in Network Explorer.</span><span class="sxs-lookup"><span data-stu-id="2add8-114">Reproduce the failure by starting the host and client or by pressing F5 in the Network Explorer.</span></span>
5.  <span data-ttu-id="2add8-115">Filtrare i risultati per isolare il traffico di WS-Discovery e di scambio dei metadati.</span><span class="sxs-lookup"><span data-stu-id="2add8-115">Filter the results to isolate WS-Discovery and metadata exchange traffic.</span></span> <span data-ttu-id="2add8-116">Per visualizzare i filtri Netmon di esempio, vedere [download di Netmon e Sample DPWS filters](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="2add8-116">To view sample Netmon filters, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>
    > [!Note]  
    > <span data-ttu-id="2add8-117">Questo passaggio è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="2add8-117">This step is optional.</span></span>

     

6.  <span data-ttu-id="2add8-118">Verificare che i messaggi inviati tra il client e l'host soddisfino i requisiti di traffico di base.</span><span class="sxs-lookup"><span data-stu-id="2add8-118">Verify that messages sent between client and host meet basic traffic requirements.</span></span>

## <a name="verifying-that-messages-meet-traffic-requirements"></a><span data-ttu-id="2add8-119">Verifica per verificare se i messaggi soddisfano i requisiti di traffico</span><span class="sxs-lookup"><span data-stu-id="2add8-119">Verifying that messages meet traffic requirements</span></span>

<span data-ttu-id="2add8-120">I client e gli host WSDAPI devono inviare messaggi conformi ai criteri seguenti.</span><span class="sxs-lookup"><span data-stu-id="2add8-120">WSDAPI clients and hosts must send messages that conform to the following criteria.</span></span> <span data-ttu-id="2add8-121">Per informazioni generali sui modelli di messaggio, vedere [modelli di messaggio di scambio di metadati e individuazione](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="2add8-121">For general information about message patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

-   <span data-ttu-id="2add8-122">I messaggi devono soddisfare i requisiti di traffico forniti nell'argomento [controllo delle tracce di rete per UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md), a meno che non sia assolutamente certo che WS-Discovery non venga utilizzato per lo scambio di metadati.</span><span class="sxs-lookup"><span data-stu-id="2add8-122">Messages must meet the traffic requirements provided in the topic [Inspecting Network Traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md), unless it is absolutely certain that WS-Discovery is not being used for metadata exchange.</span></span>
-   <span data-ttu-id="2add8-123">È necessario stabilire una connessione TCP tra il client e il primo indirizzo di trasporto fornito nell'elemento **XAddrs** di un messaggio [ProbeMatches](probematches-message.md) o [ResolveMatches](resolvematches-message.md) .</span><span class="sxs-lookup"><span data-stu-id="2add8-123">A TCP connection must be established between the client and the first transport address provided in the **XAddrs** element of a [ProbeMatches](probematches-message.md) or [ResolveMatches](resolvematches-message.md) message.</span></span> <span data-ttu-id="2add8-124">Nell'elenco seguente viene illustrato un tipico scambio di pacchetti utilizzato per stabilire una connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="2add8-124">The following list shows a typical packet exchange used to establish a TCP connection.</span></span>
    -   <span data-ttu-id="2add8-125">Il client invia un pacchetto SYN TCP all'host su una porta specificata.</span><span class="sxs-lookup"><span data-stu-id="2add8-125">The client sends a TCP SYN packet to the host at a specified port.</span></span>
    -   <span data-ttu-id="2add8-126">L'host invia al client un pacchetto SYN/ACK TCP.</span><span class="sxs-lookup"><span data-stu-id="2add8-126">The host sends a TCP SYN/ACK packet to the client.</span></span>
    -   <span data-ttu-id="2add8-127">Il client invia un pacchetto ACK TCP all'host in una porta specificata.</span><span class="sxs-lookup"><span data-stu-id="2add8-127">The client sends a TCP ACK packet to the host at a specified port.</span></span>

    <span data-ttu-id="2add8-128">Una volta che il client ha inviato un pacchetto ACK TCP, viene stabilita la connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="2add8-128">Once the client has sent a TCP ACK packet, the TCP connection is established.</span></span> <span data-ttu-id="2add8-129">Si noti che questo scambio di messaggi non verrà eseguito se è già stata stabilita una connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="2add8-129">Note that this message exchange will not occur if a TCP connection has previously been established.</span></span>
-   <span data-ttu-id="2add8-130">Il client deve inviare una richiesta HTTP [Get](get--metadata-exchange--http-request-and-message.md) e un messaggio validi.</span><span class="sxs-lookup"><span data-stu-id="2add8-130">The client must send a valid [Get](get--metadata-exchange--http-request-and-message.md) HTTP request and message.</span></span>
-   <span data-ttu-id="2add8-131">L'host deve essere in ascolto sul percorso URL specificato nella richiesta HTTP [Get](get--metadata-exchange--http-request-and-message.md) .</span><span class="sxs-lookup"><span data-stu-id="2add8-131">The host must be listening on the URL path specified in the [Get](get--metadata-exchange--http-request-and-message.md) HTTP request.</span></span>
-   <span data-ttu-id="2add8-132">L'elemento **to** di un messaggio [Get](get--metadata-exchange--http-request-and-message.md) Metadata deve essere presente e non vuoto.</span><span class="sxs-lookup"><span data-stu-id="2add8-132">The **To** element of a [Get](get--metadata-exchange--http-request-and-message.md) metadata message must be present and not empty.</span></span> <span data-ttu-id="2add8-133">Il valore dell'elemento **to** deve corrispondere a uno degli indirizzi endpoint dell'host.</span><span class="sxs-lookup"><span data-stu-id="2add8-133">The value of the **To** element must match one of the host's endpoint addresses.</span></span> <span data-ttu-id="2add8-134">L'indirizzo endpoint di un host viene in genere annunciato in un messaggio [ProbeMatches](probematches-message.md) o [ResolveMatches](resolvematches-message.md) .</span><span class="sxs-lookup"><span data-stu-id="2add8-134">A host's endpoint address is typically advertised in a [ProbeMatches](probematches-message.md) or [ResolveMatches](resolvematches-message.md) message.</span></span>
-   <span data-ttu-id="2add8-135">L'host deve inviare un'intestazione di risposta HTTP valida.</span><span class="sxs-lookup"><span data-stu-id="2add8-135">The host must send a valid HTTP response header.</span></span> <span data-ttu-id="2add8-136">Se la richiesta iniziale ha avuto esito positivo, l'intestazione della risposta deve contenere il codice di stato HTTP/1.1 200.</span><span class="sxs-lookup"><span data-stu-id="2add8-136">If the initial request was successful, the response header should contain the HTTP/1.1 200 status code.</span></span>
-   <span data-ttu-id="2add8-137">L'host deve inviare un messaggio [GetResponse](getresponse--metadata-exchange--message.md) valido.</span><span class="sxs-lookup"><span data-stu-id="2add8-137">The host must send a valid [GetResponse](getresponse--metadata-exchange--message.md) message.</span></span>
-   <span data-ttu-id="2add8-138">L'elemento **Repiù recente** di un messaggio [GetResponse](getresponse--metadata-exchange--message.md) deve essere presente e non deve essere vuoto.</span><span class="sxs-lookup"><span data-stu-id="2add8-138">The **RelatesTo** element of a [GetResponse](getresponse--metadata-exchange--message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="2add8-139">Il valore deve corrispondere al valore dell'elemento **MessageID** del messaggio [Get](get--metadata-exchange--http-request-and-message.md) corrispondente.</span><span class="sxs-lookup"><span data-stu-id="2add8-139">Its value must match the value of the **MessageId** element from the corresponding [Get](get--metadata-exchange--http-request-and-message.md) message.</span></span>

<span data-ttu-id="2add8-140">Se le richieste HTTP o i messaggi di scambio di metadati inviati dal programma non sono conformi a questi requisiti di traffico, la causa del problema è stata identificata e non sono necessarie ulteriori passaggi per la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="2add8-140">If the HTTP requests or metadata exchange messages sent by the program do not conform to these traffic requirements, the cause of the problem has been successfully identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="2add8-141">Riscrivere il programma in modo da generare messaggi e richieste conformi e testare nuovamente il programma.</span><span class="sxs-lookup"><span data-stu-id="2add8-141">Rewrite the program so that it generates conformant messages and requests and retest the program.</span></span>

<span data-ttu-id="2add8-142">Se non è ancora possibile identificare l'origine del problema, contattare il supporto tecnico Microsoft per assistenza.</span><span class="sxs-lookup"><span data-stu-id="2add8-142">If the source of the problem still cannot be identified, contact Microsoft support for assistance.</span></span> <span data-ttu-id="2add8-143">Prima di contattare il supporto tecnico, raccogliere i file di log appropriati per identificare la causa principale del problema.</span><span class="sxs-lookup"><span data-stu-id="2add8-143">Before contacting support, collect the appropriate log files to help identify the root cause of the problem.</span></span> <span data-ttu-id="2add8-144">Per ulteriori informazioni, vedere [Abilitazione della traccia WSDAPI](enabling-wsdapi-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="2add8-144">For more information, see [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="2add8-145">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="2add8-145">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2add8-146">Procedure di diagnostica WSDAPI</span><span class="sxs-lookup"><span data-stu-id="2add8-146">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="2add8-147">Introduzione con la risoluzione dei problemi di WSDAPI</span><span class="sxs-lookup"><span data-stu-id="2add8-147">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> <dt>

[<span data-ttu-id="2add8-148">Download dei filtri Netmon e DPWS di esempio</span><span class="sxs-lookup"><span data-stu-id="2add8-148">Downloading Netmon and Sample DPWS Filters</span></span>](downloading-netmon-and-sample-dpws-filters.md)
</dt> </dl>

 

 



