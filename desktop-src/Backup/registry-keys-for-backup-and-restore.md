---
title: Chiavi e valori del Registro di sistema per il backup e il ripristino
ms.assetid: 83449f78-cca1-449b-8c5f-3c8a91c8b3e7
description: 'Altre informazioni su: Chiavi e valori del Registro di sistema per il backup e il ripristino'
keywords:
- backup, chiavi del Registro di sistema
- Backup delle chiavi del Registro di sistema
- CustomPerformanceSettings Backup
- DisableMonitoring Backup
- FilesNotToBackup Backup
- FilesNotToSnapshot Backup
- KeysNotToRestore Backup
- LastInstance Backup
- LastRestoreId Backup
- MaxShadowCopies Backup
- MinDiffAreaFileSize Backup
- OverallPerformanceSetting Backup
- SYSVOL Backup
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7058378561072bdc0f51abb455c098a22a9ad5e
ms.sourcegitcommit: cb87082135319cbdc5df541e3071eebb83a58972
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/04/2021
ms.locfileid: "111386790"
---
# <a name="registry-keys-and-values-for-backup-and-restore"></a><span data-ttu-id="def1e-116">Chiavi e valori del Registro di sistema per il backup e il ripristino</span><span class="sxs-lookup"><span data-stu-id="def1e-116">Registry Keys and Values for Backup and Restore</span></span>

<span data-ttu-id="def1e-117">Le applicazioni che richiedono o eseguono operazioni di backup e ripristino devono usare le chiavi e i valori del Registro di sistema seguenti per comunicare tra loro o con funzionalità quali [Servizio Copia Shadow del volume (VSS)](/windows/desktop/VSS/volume-shadow-copy-service-portal) e Windows Backup:</span><span class="sxs-lookup"><span data-stu-id="def1e-117">Applications that request or perform backup and restore operations should use the following registry keys and values to communicate with each other or with features such as the [Volume Shadow Copy Service (VSS)](/windows/desktop/VSS/volume-shadow-copy-service-portal) and Windows Backup:</span></span>

-   [<span data-ttu-id="def1e-118">CustomPerformanceSettings</span><span class="sxs-lookup"><span data-stu-id="def1e-118">CustomPerformanceSettings</span></span>](#customperformancesettings)
-   [<span data-ttu-id="def1e-119">DisableMonitoring</span><span class="sxs-lookup"><span data-stu-id="def1e-119">DisableMonitoring</span></span>](#disablemonitoring)
-   [<span data-ttu-id="def1e-120">FilesNotToBackup</span><span class="sxs-lookup"><span data-stu-id="def1e-120">FilesNotToBackup</span></span>](#filesnottobackup)
-   [<span data-ttu-id="def1e-121">FilesNotToSnapshot</span><span class="sxs-lookup"><span data-stu-id="def1e-121">FilesNotToSnapshot</span></span>](#filesnottosnapshot)
-   [<span data-ttu-id="def1e-122">IdleTimeout</span><span class="sxs-lookup"><span data-stu-id="def1e-122">IdleTimeout</span></span>](#idletimeout)
-   [<span data-ttu-id="def1e-123">KeysNotToRestore</span><span class="sxs-lookup"><span data-stu-id="def1e-123">KeysNotToRestore</span></span>](#keysnottorestore)
-   [<span data-ttu-id="def1e-124">LastInstance</span><span class="sxs-lookup"><span data-stu-id="def1e-124">LastInstance</span></span>](#lastinstance)
-   [<span data-ttu-id="def1e-125">LastRestoreId</span><span class="sxs-lookup"><span data-stu-id="def1e-125">LastRestoreId</span></span>](#lastrestoreid)
-   [<span data-ttu-id="def1e-126">MaxShadowCopies</span><span class="sxs-lookup"><span data-stu-id="def1e-126">MaxShadowCopies</span></span>](#maxshadowcopies)
-   [<span data-ttu-id="def1e-127">MinDiffAreaFileSize</span><span class="sxs-lookup"><span data-stu-id="def1e-127">MinDiffAreaFileSize</span></span>](#mindiffareafilesize)
-   [<span data-ttu-id="def1e-128">OverallPerformanceSetting e CustomPerformanceSettings</span><span class="sxs-lookup"><span data-stu-id="def1e-128">OverallPerformanceSetting and CustomPerformanceSettings</span></span>](#overallperformancesetting-and-customperformancesettings)
-   [<span data-ttu-id="def1e-129">SYSVOL</span><span class="sxs-lookup"><span data-stu-id="def1e-129">SYSVOL</span></span>](#sysvol)

## <a name="customperformancesettings"></a><span data-ttu-id="def1e-130">CustomPerformanceSettings</span><span class="sxs-lookup"><span data-stu-id="def1e-130">CustomPerformanceSettings</span></span>

<span data-ttu-id="def1e-131">Vedere [OverallPerformanceSetting e CustomPerformanceSettings.](#overallperformancesetting-and-customperformancesettings)</span><span class="sxs-lookup"><span data-stu-id="def1e-131">See [OverallPerformanceSetting and CustomPerformanceSettings](#overallperformancesetting-and-customperformancesettings).</span></span>

## <a name="disablemonitoring"></a><span data-ttu-id="def1e-132">DisableMonitoring</span><span class="sxs-lookup"><span data-stu-id="def1e-132">DisableMonitoring</span></span>

<span data-ttu-id="def1e-133">Nelle piattaforme client Windows a partire da Windows 7, agli utenti viene automaticamente richiesto di configurare la funzionalità Windows Backup, se non lo hanno già fatto.</span><span class="sxs-lookup"><span data-stu-id="def1e-133">On Windows client platforms beginning with Windows 7, users are automatically prompted to configure the Windows Backup feature if they have not already done so.</span></span> <span data-ttu-id="def1e-134">Queste notifiche vengono visualizzate all'avvio del computer, a partire da sette giorni dopo l'installazione del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="def1e-134">These notifications appear at computer startup time, beginning seven days after the operating system is installed.</span></span> <span data-ttu-id="def1e-135">Vengono visualizzati anche quando l'utente collega un'unità disco rigido; In questo caso, le notifiche vengono visualizzate immediatamente.</span><span class="sxs-lookup"><span data-stu-id="def1e-135">They also appear when the user plugs in a hard disk drive; in this case, the notifications appear immediately.</span></span>

<span data-ttu-id="def1e-136">Gli OEM e gli sviluppatori di applicazioni di backup di terze parti possono usare il valore del Registro di sistema **DisableMonitoring** per disattivare queste notifiche automatiche.</span><span class="sxs-lookup"><span data-stu-id="def1e-136">OEMs and developers of third-party backup applications can use the **DisableMonitoring** registry value to turn off these automatic notifications.</span></span>

<span data-ttu-id="def1e-137">Questo valore non esiste per impostazione predefinita, quindi deve essere creato con la chiave del Registro di sistema seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-137">This value does not exist by default, so it must be created under the following registry key:</span></span>

<span data-ttu-id="def1e-138">**HKEY \_ LOCAL \_ MACHINE** \\ **SOFTWARE** \\ **Microsoft** \\ **Windows** \\ **CurrentVersion** \\ **WindowsBackup**</span><span class="sxs-lookup"><span data-stu-id="def1e-138">**HKEY\_LOCAL\_MACHINE**\\**SOFTWARE**\\**Microsoft**\\**Windows**\\**CurrentVersion**\\**WindowsBackup**</span></span>

<span data-ttu-id="def1e-139">Il valore del Registro di sistema **DisableMonitoring** ha il tipo di dati REG \_ DWORD e viene interpretato come segue:</span><span class="sxs-lookup"><span data-stu-id="def1e-139">The **DisableMonitoring** registry value has the data type REG\_DWORD and is interpreted as follows:</span></span>

-   <span data-ttu-id="def1e-140">Se i dati del valore sono impostati su 1 e se gli utenti non hanno già configurato la funzionalità Windows Backup, le notifiche automatiche vengono disattivate.</span><span class="sxs-lookup"><span data-stu-id="def1e-140">If the value's data is set to 1 and if users have not already configured the Windows Backup feature, the automatic notifications are turned off.</span></span> <span data-ttu-id="def1e-141">Se nel Centro notifiche è già presente una notifica automatica, l'impostazione di questo valore del Registro di sistema determina la rimozione della notifica alle 10:00 della mattina seguente.</span><span class="sxs-lookup"><span data-stu-id="def1e-141">If an automatic notification is already present in Action Center, setting this registry value causes the notification to be removed at 10:00 the following morning.</span></span>
-   <span data-ttu-id="def1e-142">Se il valore non esiste, se i relativi dati non sono impostati o se i relativi dati sono impostati su zero, le notifiche automatiche non vengono disattivate.</span><span class="sxs-lookup"><span data-stu-id="def1e-142">If the value does not exist, if its data is not set, or if its data is set to zero, the automatic notifications are not turned off.</span></span>

<span data-ttu-id="def1e-143">**Windows Vista e Windows XP:** Questo valore del Registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="def1e-143">**Windows Vista and Windows XP:** This registry value is not supported.</span></span>

## <a name="filesnottobackup"></a><span data-ttu-id="def1e-144">FilesNotToBackup</span><span class="sxs-lookup"><span data-stu-id="def1e-144">FilesNotToBackup</span></span>

<span data-ttu-id="def1e-145">La chiave del Registro di sistema **FilesNotToBackup** specifica i nomi dei file e delle directory di cui le applicazioni di backup non devono eseguire il backup o il ripristino.</span><span class="sxs-lookup"><span data-stu-id="def1e-145">The **FilesNotToBackup** registry key specifies the names of the files and directories that backup applications should not backup or restore.</span></span> <span data-ttu-id="def1e-146">Ognuna delle voci in questa chiave è una stringa REG \_ MULTI \_ SZ nel formato seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-146">Each of the entries in this key is a REG\_MULTI\_SZ string in the following format:</span></span>

<span data-ttu-id="def1e-147">\[ \] Unità \[  \] Percorso \\ *FileName* \[ /s\]</span><span class="sxs-lookup"><span data-stu-id="def1e-147">\[*Drive*\]\[*Path*\]\\*FileName* \[/s\]</span></span>

-   <span data-ttu-id="def1e-148">*L'unità* specifica l'unità ed è facoltativa.</span><span class="sxs-lookup"><span data-stu-id="def1e-148">*Drive* specifies the drive and is optional.</span></span> <span data-ttu-id="def1e-149">Ad esempio, c:.</span><span class="sxs-lookup"><span data-stu-id="def1e-149">For example, c:.</span></span> <span data-ttu-id="def1e-150">Per specificare tutte le unità, usare una barra rovesciata ( \\ ); non sono necessarie lettere di unità.</span><span class="sxs-lookup"><span data-stu-id="def1e-150">To specify all drives, use a backslash (\\); no drive letters are needed.</span></span>
-   <span data-ttu-id="def1e-151">*Path* specifica il percorso ed è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="def1e-151">*Path* specifies the path and is optional.</span></span> <span data-ttu-id="def1e-152">Non può contenere caratteri jolly.</span><span class="sxs-lookup"><span data-stu-id="def1e-152">It cannot contain wildcard characters.</span></span>
-   <span data-ttu-id="def1e-153">*FileName* specifica il file o la directory ed è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="def1e-153">*FileName* specifies the file or directory and is required.</span></span> <span data-ttu-id="def1e-154">Può contenere caratteri jolly.</span><span class="sxs-lookup"><span data-stu-id="def1e-154">It can contain wildcard characters.</span></span>
-   <span data-ttu-id="def1e-155">/s specifica che devono essere incluse tutte le sottodirectory del percorso specificato.</span><span class="sxs-lookup"><span data-stu-id="def1e-155">/s specifies that all subdirectories of the specified path are to be included.</span></span>
-   <span data-ttu-id="def1e-156">Le variabili di ambiente come %Systemroot% possono essere sostituite per tutta o parte dell'intera stringa.</span><span class="sxs-lookup"><span data-stu-id="def1e-156">Environment variables such as %Systemroot% can be substituted for all or part of the entire string.</span></span>

<span data-ttu-id="def1e-157">La tabella seguente illustra alcune voci tipiche.</span><span class="sxs-lookup"><span data-stu-id="def1e-157">The following table shows some typical entries.</span></span>

| <span data-ttu-id="def1e-158">Nome voce</span><span class="sxs-lookup"><span data-stu-id="def1e-158">Entry name</span></span>                             | <span data-ttu-id="def1e-159">Valore predefinito</span><span class="sxs-lookup"><span data-stu-id="def1e-159">Default value</span></span>                                                                             |
|----------------------------------------|-------------------------------------------------------------------------------------------|
| <span data-ttu-id="def1e-160">Internet Explorer</span><span class="sxs-lookup"><span data-stu-id="def1e-160">Internet Explorer</span></span>                      | <span data-ttu-id="def1e-161">File temporanei</span><span class="sxs-lookup"><span data-stu-id="def1e-161">Temporary Files</span></span>                                                                           |
| <span data-ttu-id="def1e-162">File di pagine di memoria</span><span class="sxs-lookup"><span data-stu-id="def1e-162">Memory Page File</span></span>                       | <span data-ttu-id="def1e-163">\\Pagefile.sys</span><span class="sxs-lookup"><span data-stu-id="def1e-163">\\Pagefile.sys</span></span>                                                                            |
| <span data-ttu-id="def1e-164">MS Distributed Transaction Coordinator</span><span class="sxs-lookup"><span data-stu-id="def1e-164">MS Distributed Transaction Coordinator</span></span> | <span data-ttu-id="def1e-165">C: \\ \\ \\ msdtc MSDTC di sistema \\ Windows32. LOG C: \\ Windows \\ system32 \\ MSDtc \\ trace \\ dtctrace.log</span><span class="sxs-lookup"><span data-stu-id="def1e-165">C:\\Windows\\system32\\MSDtc\\MSDTC.LOG C:\\Windows\\system32\\MSDtc\\trace\\dtctrace.log</span></span> |
| <span data-ttu-id="def1e-166">File offline cache</span><span class="sxs-lookup"><span data-stu-id="def1e-166">Offline Files Cache</span></span>                    | <span data-ttu-id="def1e-167">%Systemroot% \\ CSC \\ \* /s</span><span class="sxs-lookup"><span data-stu-id="def1e-167">%Systemroot%\\CSC\\\* /s</span></span>                                                                  |
| <span data-ttu-id="def1e-168">Risparmio energia</span><span class="sxs-lookup"><span data-stu-id="def1e-168">Power Management</span></span>                       | <span data-ttu-id="def1e-169">\\hiberfil.sys</span><span class="sxs-lookup"><span data-stu-id="def1e-169">\\hiberfil.sys</span></span>                                                                            |
| <span data-ttu-id="def1e-170">Single Instance Storage (SIS)</span><span class="sxs-lookup"><span data-stu-id="def1e-170">Single Instance Storage</span></span>                | <span data-ttu-id="def1e-171">\\Archivio comune SIS \\ \* . \* /s</span><span class="sxs-lookup"><span data-stu-id="def1e-171">\\SIS Common Store\\\*.\* /s</span></span>                                                              |
| <span data-ttu-id="def1e-172">File temporanei</span><span class="sxs-lookup"><span data-stu-id="def1e-172">Temporary Files</span></span>                        | <span data-ttu-id="def1e-173">%TEMP% \\ \* /s</span><span class="sxs-lookup"><span data-stu-id="def1e-173">%TEMP%\\\* /s</span></span>                                                                             |



 

> [!Note]  
> <span data-ttu-id="def1e-174">Le applicazioni che eseguono backup a livello di volume in genere copiano l'intero volume a livello di blocco, quindi non possono rispettare la chiave del Registro di sistema **FilesNotToBackup** in fase di backup.</span><span class="sxs-lookup"><span data-stu-id="def1e-174">Applications that perform volume-level backups generally do so by copying the entire volume at the block level, so they cannot honor the **FilesNotToBackup** registry key at backup time.</span></span> <span data-ttu-id="def1e-175">Al contrario, attendono il tempo di ripristino per eliminare i file di cui non è stato eseguito il backup.</span><span class="sxs-lookup"><span data-stu-id="def1e-175">Instead, they wait until restore time to delete the files that were not to be backed up.</span></span> <span data-ttu-id="def1e-176">Nella maggior parte dei casi si tratta di una strategia ragionevole.</span><span class="sxs-lookup"><span data-stu-id="def1e-176">In most cases, this is a reasonable strategy.</span></span> <span data-ttu-id="def1e-177">Tuttavia, nel caso di file di archiviazione a istanza singola, i file di archivio comune SIS non devono essere eliminati in fase di ripristino.</span><span class="sxs-lookup"><span data-stu-id="def1e-177">However, in the case of Single Instance Storage files, the SIS Common Store files must not be deleted at restore time.</span></span>

 

<span data-ttu-id="def1e-178">Per i backup di volumi a livello di blocco, Windows Server Backup e l'utilità Wbadmin di Windows rispettano la chiave del Registro di sistema **FilesNotToBackup** eliminando i file appropriati in fase di ripristino.</span><span class="sxs-lookup"><span data-stu-id="def1e-178">For block-level volume backups, Windows Server Backup and the Windows Wbadmin utility honor the **FilesNotToBackup** registry key by deleting the appropriate files at restore time.</span></span> <span data-ttu-id="def1e-179">Ripristino configurazione di sistema e il backup dello stato del sistema non rispettano la chiave del Registro di **sistema FilesNotToBackup.**</span><span class="sxs-lookup"><span data-stu-id="def1e-179">System Restore and System State Backup do not honor the **FilesNotToBackup** registry key.</span></span>

<span data-ttu-id="def1e-180">**Windows XP:** Ripristino configurazione di sistema rispetta la chiave **del Registro di sistema FilesNotToBackup.**</span><span class="sxs-lookup"><span data-stu-id="def1e-180">**Windows XP:** System Restore honors the **FilesNotToBackup** registry key.</span></span>

## <a name="filesnottosnapshot"></a><span data-ttu-id="def1e-181">FilesNotToSnapshot</span><span class="sxs-lookup"><span data-stu-id="def1e-181">FilesNotToSnapshot</span></span>

<span data-ttu-id="def1e-182">VSS supporta la chiave **del Registro di sistema FilesNotToSnapshot.**</span><span class="sxs-lookup"><span data-stu-id="def1e-182">VSS supports the **FilesNotToSnapshot** registry key.</span></span> <span data-ttu-id="def1e-183">Le applicazioni e i servizi possono usare questa chiave per specificare i file da eliminare dalle nuove copie shadow create.</span><span class="sxs-lookup"><span data-stu-id="def1e-183">Applications and services can use this key to specify files to be deleted from newly created shadow copies.</span></span> <span data-ttu-id="def1e-184">Per altre informazioni, vedere [Esclusione di file da copie shadow.](/windows/desktop/VSS/excluding-files-from-shadow-copies)</span><span class="sxs-lookup"><span data-stu-id="def1e-184">For more information, see [Excluding Files from Shadow Copies](/windows/desktop/VSS/excluding-files-from-shadow-copies).</span></span>

<span data-ttu-id="def1e-185">**Windows Server 2003 e Windows XP:** Questa chiave del Registro di sistema non è supportata.</span><span class="sxs-lookup"><span data-stu-id="def1e-185">**Windows Server 2003 and Windows XP:** This registry key is not supported.</span></span>

<span data-ttu-id="def1e-186">Per i backup di volumi a livello di blocco, Windows Server Backup rispetta la chiave del Registro di sistema **FilesNotToSnapshot** eliminando i file appropriati in fase di ripristino.</span><span class="sxs-lookup"><span data-stu-id="def1e-186">For block-level volume backups, Windows Server Backup honors the **FilesNotToSnapshot** registry key by deleting the appropriate files at restore time.</span></span>

## <a name="idletimeout"></a><span data-ttu-id="def1e-187">IdleTimeout</span><span class="sxs-lookup"><span data-stu-id="def1e-187">IdleTimeout</span></span>

<span data-ttu-id="def1e-188">Il valore del Registro di sistema **IdleTimeout** specifica la quantità di tempo, in secondi, di attesa del servizio VsS quando è inattivo.</span><span class="sxs-lookup"><span data-stu-id="def1e-188">The **IdleTimeout** registry value specifies the amount of time, in seconds, that the VSS service will wait when it is idle.</span></span> <span data-ttu-id="def1e-189">Se questo valore di timeout viene raggiunto e non sono presenti attività da eseguire, il servizio VsS verrà arrestato.</span><span class="sxs-lookup"><span data-stu-id="def1e-189">If this timeout value is reached and there are no tasks for it to perform, the VSS service will shut down.</span></span>

<span data-ttu-id="def1e-190">Questo valore del Registro di sistema è disponibile nella chiave del Registro di sistema seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-190">This registry value can be found under the following registry key:</span></span>

<span data-ttu-id="def1e-191">**HKEY \_ Local \_ MACHINE System** \\  \\ **CurrentControlSet** \\ **Services** \\ **VSS** \\ **Settings**</span><span class="sxs-lookup"><span data-stu-id="def1e-191">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Services**\\**VSS**\\**Settings**</span></span>

<span data-ttu-id="def1e-192">Se questo valore del Registro di sistema non esiste:</span><span class="sxs-lookup"><span data-stu-id="def1e-192">If this registry value does not exist:</span></span>

-   <span data-ttu-id="def1e-193">Il valore di timeout effettivo usato è 180 secondi (3 minuti) per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="def1e-193">The actual timeout value that is used is 180 seconds (3 minutes) by default.</span></span>
-   <span data-ttu-id="def1e-194">È possibile creare un valore con il nome **IdleTimeout** e il tipo DWORD e impostarlo sul valore desiderato.</span><span class="sxs-lookup"><span data-stu-id="def1e-194">You can create a value with the name **IdleTimeout** and the type DWORD and set it to the desired value.</span></span>

<span data-ttu-id="def1e-195">Se questo valore del Registro di sistema è impostato su 0 secondi:</span><span class="sxs-lookup"><span data-stu-id="def1e-195">If this registry value is set to 0 seconds:</span></span>

-   <span data-ttu-id="def1e-196">Il valore di timeout effettivo usato è 180 secondi (3 minuti).</span><span class="sxs-lookup"><span data-stu-id="def1e-196">The actual timeout value that is used is 180 seconds (3 minutes).</span></span>

<span data-ttu-id="def1e-197">Se si imposta questo valore del Registro di sistema:</span><span class="sxs-lookup"><span data-stu-id="def1e-197">If you set this registry value:</span></span>

-   <span data-ttu-id="def1e-198">VSS usa il valore di timeout impostato.</span><span class="sxs-lookup"><span data-stu-id="def1e-198">VSS uses the timeout value that you set.</span></span>
-   <span data-ttu-id="def1e-199">È possibile specificare qualsiasi valore compreso tra 1 e FFFFFFFF secondi.</span><span class="sxs-lookup"><span data-stu-id="def1e-199">You can specify any value between 1 and FFFFFFFF seconds.</span></span> <span data-ttu-id="def1e-200">È tuttavia consigliabile scegliere un valore compreso tra 1 e 180 secondi.</span><span class="sxs-lookup"><span data-stu-id="def1e-200">However, it is recommended that you choose a value between 1 and 180 seconds.</span></span>

<span data-ttu-id="def1e-201">**Windows Server 2003 e Windows XP:** Questa chiave del Registro di sistema non è supportata.</span><span class="sxs-lookup"><span data-stu-id="def1e-201">**Windows Server 2003 and Windows XP:** This registry key is not supported.</span></span>

## <a name="keysnottorestore"></a><span data-ttu-id="def1e-202">KeysNotToRestore</span><span class="sxs-lookup"><span data-stu-id="def1e-202">KeysNotToRestore</span></span>

<span data-ttu-id="def1e-203">La chiave del Registro di sistema **KeysNotToRestore** specifica i nomi delle sottochiavi del Registro di sistema e i valori che le applicazioni di backup non devono ripristinare.</span><span class="sxs-lookup"><span data-stu-id="def1e-203">The **KeysNotToRestore** registry key specifies the names of the registry subkeys and values that backup applications should not restore.</span></span> <span data-ttu-id="def1e-204">Per altre informazioni, vedere [KeysNotToRestore.](/previous-versions/windows/it-pro/windows-server-2003/cc737538(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="def1e-204">For more information, see [KeysNotToRestore](/previous-versions/windows/it-pro/windows-server-2003/cc737538(v=ws.10)).</span></span> <span data-ttu-id="def1e-205">Non è necessario rispettare la chiave **del Registro di sistema KeysNotToRestore.**</span><span class="sxs-lookup"><span data-stu-id="def1e-205">It is not necessary to honor the **KeysNotToRestore** registry key.</span></span>

<span data-ttu-id="def1e-206">**Windows Server 2003 e Windows XP:** È necessario rispettare la chiave **del Registro di sistema KeysNotToRestore.**</span><span class="sxs-lookup"><span data-stu-id="def1e-206">**Windows Server 2003 and Windows XP:** You must honor the **KeysNotToRestore** registry key.</span></span>

<span data-ttu-id="def1e-207">Per i backup di volumi a livello di blocco, Windows Server Backup rispetta la chiave del Registro di sistema **KeysNotToRestore** eliminando i file appropriati in fase di ripristino.</span><span class="sxs-lookup"><span data-stu-id="def1e-207">For block-level volume backups, Windows Server Backup honors the **KeysNotToRestore** registry key by deleting the appropriate files at restore time.</span></span>

<span data-ttu-id="def1e-208">Il backup dello stato del sistema rispetta la **chiave del Registro di sistema KeysNotToRestore.**</span><span class="sxs-lookup"><span data-stu-id="def1e-208">System State Backup honors the **KeysNotToRestore** registry key.</span></span>

## <a name="lastinstance"></a><span data-ttu-id="def1e-209">LastInstance</span><span class="sxs-lookup"><span data-stu-id="def1e-209">LastInstance</span></span>

<span data-ttu-id="def1e-210">Il valore del Registro di sistema **LastInstance** indica che è stata eseguita un'operazione di ripristino bare metal e che i volumi sono stati sovrascritti ma non formattati.</span><span class="sxs-lookup"><span data-stu-id="def1e-210">The **LastInstance** registry value indicates that a bare-metal restore operation has been performed and that the volumes have been overwritten but not formatted.</span></span> <span data-ttu-id="def1e-211">Per altre informazioni, vedere [Using VSS Automated Ripristino di sistema for Disaster Recovery](/windows/desktop/VSS/using-vss-automated-system-recovery-for-disaster-recovery).</span><span class="sxs-lookup"><span data-stu-id="def1e-211">For more information, see [Using VSS Automated System Recovery for Disaster Recovery](/windows/desktop/VSS/using-vss-automated-system-recovery-for-disaster-recovery).</span></span>

<span data-ttu-id="def1e-212">**Windows Server 2003 e Windows XP:** Questo valore del Registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="def1e-212">**Windows Server 2003 and Windows XP:** This registry value is not supported.</span></span>

## <a name="lastrestoreid"></a><span data-ttu-id="def1e-213">LastRestoreId</span><span class="sxs-lookup"><span data-stu-id="def1e-213">LastRestoreId</span></span>

<span data-ttu-id="def1e-214">Quando un'applicazione di backup esegue un ripristino dello stato del sistema, deve indicare che l'operazione è stata eseguita impostando il valore del Registro di sistema **LastRestoreId.**</span><span class="sxs-lookup"><span data-stu-id="def1e-214">When a backup application performs a system state restore, it must indicate that it has done so by setting the **LastRestoreId** registry value.</span></span> <span data-ttu-id="def1e-215">"Ripristino dello stato del sistema" in questo caso si riferisce a qualsiasi ripristino che ripristina in modo selettivo i file binari e i driver del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="def1e-215">"System state restore" in this case refers to any restore that selectively restores operating system binaries and drivers.</span></span>

<span data-ttu-id="def1e-216">Se l'intero volume di avvio e di sistema viene ripristinato a livello di volume, questo valore non deve essere impostato.</span><span class="sxs-lookup"><span data-stu-id="def1e-216">If the entire boot and system volume are restored at the volume level, this value must not be set.</span></span>

<span data-ttu-id="def1e-217">Se il valore del Registro di sistema **LastRestoreId** non esiste, l'applicazione di backup deve crearlo nella chiave del Registro di sistema seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-217">If the **LastRestoreId** registry value does not exist, the backup application should create it under the following registry key:</span></span>

<span data-ttu-id="def1e-218">**HKEY \_ Local \_ MACHINE** \\ **System** \\ **CurrentControlSet** \\ **Control** \\ **BackupRestore** \\ **SystemStateRestore**</span><span class="sxs-lookup"><span data-stu-id="def1e-218">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Control**\\**BackupRestore**\\**SystemStateRestore**</span></span>

<span data-ttu-id="def1e-219">Creare un valore con il nome **LastRestoreId** e digitare REG \_ SZ.</span><span class="sxs-lookup"><span data-stu-id="def1e-219">Create a value with the name **LastRestoreId** and type REG\_SZ.</span></span> <span data-ttu-id="def1e-220">Il valore deve essere un valore opaco univoco, ad esempio un GUID.</span><span class="sxs-lookup"><span data-stu-id="def1e-220">The value should be a unique opaque value such as a GUID.</span></span>

<span data-ttu-id="def1e-221">Ogni volta che viene eseguito un nuovo ripristino dello stato del sistema, l'applicazione di backup deve modificare i dati del **valore LastRestoreId.**</span><span class="sxs-lookup"><span data-stu-id="def1e-221">Whenever a new system state restore is performed, the backup application should change the data of the **LastRestoreId** value.</span></span>

<span data-ttu-id="def1e-222">Le altre applicazioni che devono monitorare i ripristini dello stato del sistema devono archiviare i dati di questo valore del Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="def1e-222">Other applications that need to monitor system state restores should store the data of this registry value.</span></span> <span data-ttu-id="def1e-223">Questi dati possono essere confrontati con i dati correnti del valore del Registro di **sistema LastRestoreId** per determinare se è stato eseguito un nuovo ripristino dello stato del sistema.</span><span class="sxs-lookup"><span data-stu-id="def1e-223">This data can be compared against the current data of the **LastRestoreId** registry value to determine whether a new system state restore has been performed.</span></span>

<span data-ttu-id="def1e-224">**Windows Vista, Windows Server 2003 e Windows XP:** Questo valore del Registro di sistema non è supportato fino a Windows Vista con Service Pack 1 (SP1) e Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="def1e-224">**Windows Vista, Windows Server 2003 and Windows XP:** This registry value is not supported until Windows Vista with Service Pack 1 (SP1) and Windows Server 2008.</span></span>

## <a name="maxshadowcopies"></a><span data-ttu-id="def1e-225">MaxShadowCopies</span><span class="sxs-lookup"><span data-stu-id="def1e-225">MaxShadowCopies</span></span>

<span data-ttu-id="def1e-226">Il valore del Registro di sistema **MaxShadowCopies** specifica il numero massimo di [*copie shadow*](/windows/desktop/VSS/vssgloss-c) accessibili dal client che possono essere archiviate in ogni volume del computer.</span><span class="sxs-lookup"><span data-stu-id="def1e-226">The **MaxShadowCopies** registry value specifies the maximum number of [*client-accessible shadow copies*](/windows/desktop/VSS/vssgloss-c) that can be stored on each volume of the computer.</span></span> <span data-ttu-id="def1e-227">Una copia shadow accessibile dal client è una copia shadow creata usando il valore ACCESSIBLE di **VSS \_ CTX \_ CLIENT \_** dell'enumerazione [**\_ VSS \_ SNAPSHOT \_ CONTEXT.**](/windows/desktop/api/vss/ne-vss-vss_snapshot_context)</span><span class="sxs-lookup"><span data-stu-id="def1e-227">A client-accessible shadow copy is a shadow copy that is created using the **VSS\_CTX\_CLIENT\_ACCESSIBLE** value of the [**\_VSS\_SNAPSHOT\_CONTEXT**](/windows/desktop/api/vss/ne-vss-vss_snapshot_context) enumeration.</span></span> <span data-ttu-id="def1e-228">Le copie shadow accessibili dal client vengono usate da Copie shadow di cartelle condivise.</span><span class="sxs-lookup"><span data-stu-id="def1e-228">Client-accessible shadow copies are used by Shadow Copies for Shared Folders.</span></span> <span data-ttu-id="def1e-229">Per altre informazioni sulle copie shadow, vedere la documentazione [del Servizio Copia](/windows/desktop/VSS/volume-shadow-copy-service-portal) Shadow del volume.</span><span class="sxs-lookup"><span data-stu-id="def1e-229">For more information about shadow copies, see the [VSS](/windows/desktop/VSS/volume-shadow-copy-service-portal) documentation.</span></span>

<span data-ttu-id="def1e-230">Se il valore del Registro di sistema **MaxShadowCopies** non esiste, l'applicazione di backup può crearlo nella chiave del Registro di sistema seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-230">If the **MaxShadowCopies** registry value does not exist, the backup application can create it under the following registry key:</span></span>

<span data-ttu-id="def1e-231">**HKEY \_ Local \_ MACHINE System** \\  \\ **CurrentControlSet** \\ **Services** \\ **VSS** \\ **Settings**</span><span class="sxs-lookup"><span data-stu-id="def1e-231">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Services**\\**VSS**\\**Settings**</span></span>

<span data-ttu-id="def1e-232">Creare un valore con il nome **MaxShadowCopies** e digitare DWORD.</span><span class="sxs-lookup"><span data-stu-id="def1e-232">Create a value with the name **MaxShadowCopies** and type DWORD.</span></span> <span data-ttu-id="def1e-233">I dati predefiniti per questo valore sono 64.</span><span class="sxs-lookup"><span data-stu-id="def1e-233">The default data for this value is 64.</span></span> <span data-ttu-id="def1e-234">Il valore minimo è 1.</span><span class="sxs-lookup"><span data-stu-id="def1e-234">The minimum is 1.</span></span> <span data-ttu-id="def1e-235">Il valore massimo è 512.</span><span class="sxs-lookup"><span data-stu-id="def1e-235">The maximum is 512.</span></span>

> [!Note]  
> <span data-ttu-id="def1e-236">Per altri tipi di copie shadow, non esiste alcun valore del Registro di sistema corrispondente a **MaxShadowCopies.**</span><span class="sxs-lookup"><span data-stu-id="def1e-236">For other types of shadow copies, there is no registry value that corresponds to **MaxShadowCopies**.</span></span> <span data-ttu-id="def1e-237">Il numero massimo di copie shadow è 512 per volume.</span><span class="sxs-lookup"><span data-stu-id="def1e-237">The maximum number of shadow copies is 512 per volume.</span></span>

 

<span data-ttu-id="def1e-238">**Nota**  **L'impostazione MaxShadowCopies** è supportata in Windows Server 2003 o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="def1e-238">**Note**  The **MaxShadowCopies** setting is supported on Windows Server 2003 or later.</span></span>

<span data-ttu-id="def1e-239">**Windows Server 2003:** Nei server del cluster, potrebbe essere necessario impostare i dati del valore del Registro di sistema **MaxShadowCopies** su un numero inferiore.</span><span class="sxs-lookup"><span data-stu-id="def1e-239">**Windows Server 2003:** On cluster servers, **MaxShadowCopies** registry value's data may need to be set to a lower number.</span></span> <span data-ttu-id="def1e-240">Per altre informazioni, vedere "Quando si usa il Servizio Copia Shadow del volume nei computer basati su Windows Server 2003 che eseguono molte operazioni di I/O, i volumi del disco possono richiedere più tempo per passare alla modalità online" in Guida e supporto tecnico Knowledge Base all'indirizzo [https://support.microsoft.com/kb/945058](https://support.microsoft.com/kb/945058) .</span><span class="sxs-lookup"><span data-stu-id="def1e-240">For more information, see "When you use the Volume Shadow Copy Service on Windows Server 2003-based computers that run many I/O operations, disk volumes take longer to go online" in the Help and Support Knowledge Base at [https://support.microsoft.com/kb/945058](https://support.microsoft.com/kb/945058).</span></span>

<span data-ttu-id="def1e-241">**Windows XP:** Questo valore del Registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="def1e-241">**Windows XP:** This registry value is not supported.</span></span>

## <a name="mindiffareafilesize"></a><span data-ttu-id="def1e-242">MinDiffAreaFileSize</span><span class="sxs-lookup"><span data-stu-id="def1e-242">MinDiffAreaFileSize</span></span>

<span data-ttu-id="def1e-243">[VSS alloca](/windows/desktop/VSS/volume-shadow-copy-service-portal) un'area di archiviazione delle copie shadow (o "area diff") per archiviare i dati per le copie shadow.</span><span class="sxs-lookup"><span data-stu-id="def1e-243">[VSS](/windows/desktop/VSS/volume-shadow-copy-service-portal) allocates a shadow copy storage area (or "diff area") to store data for shadow copies.</span></span> <span data-ttu-id="def1e-244">La dimensione minima dell'area di archiviazione della copia shadow è un'impostazione per computer che può essere specificata usando il valore del Registro di sistema **MinDiffAreaFileSize.**</span><span class="sxs-lookup"><span data-stu-id="def1e-244">The minimum size of the shadow copy storage area is a per-computer setting that can be specified by using the **MinDiffAreaFileSize** registry value.</span></span>

<span data-ttu-id="def1e-245">Se il valore del Registro di sistema **MinDiffAreaFileSize** non è impostato, la dimensione minima dell'area di archiviazione della copia shadow è 32 MB per i volumi inferiori a 500 MB e 320 MB per i volumi di dimensioni superiori a 500 MB.</span><span class="sxs-lookup"><span data-stu-id="def1e-245">If the **MinDiffAreaFileSize** registry value is not set, the minimum size of the shadow copy storage area is 32 MB for volumes that are smaller than 500 MB and 320 MB for volumes that are larger than 500 MB.</span></span>

<span data-ttu-id="def1e-246">**Windows Server 2008, Windows Server 2003 con SP1 e Windows Vista:** Se il valore del Registro di sistema **MinDiffAreaFileSize** non è impostato, l'area di archiviazione della copia shadow ha una dimensione minima di 300 MB.</span><span class="sxs-lookup"><span data-stu-id="def1e-246">**Windows Server 2008, Windows Server 2003 with SP1 and Windows Vista:** If the **MinDiffAreaFileSize** registry value is not set, the shadow copy storage area has a minimum size of 300 MB.</span></span> <span data-ttu-id="def1e-247">Se il valore del Registro di sistema **MinDiffAreaFileSize** è impostato, i relativi dati devono essere compresi tra 300 MB e 3000 MB (3 GB) e devono essere un multiplo di 300 MB.</span><span class="sxs-lookup"><span data-stu-id="def1e-247">If the **MinDiffAreaFileSize** registry value is set, its data must be between 300 MB and 3000 MB (3 GB), and it must be a multiple of 300 MB.</span></span>

<span data-ttu-id="def1e-248">**Windows Server 2003:** Se il valore del Registro di sistema **MinDiffAreaFileSize** non è impostato, la dimensione minima dell'area di archiviazione della copia shadow è 100 MB.</span><span class="sxs-lookup"><span data-stu-id="def1e-248">**Windows Server 2003:** If the **MinDiffAreaFileSize** registry value is not set, the minimum size of the shadow copy storage area is 100 MB.</span></span>

<span data-ttu-id="def1e-249">**Windows XP:** Questo valore del Registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="def1e-249">**Windows XP:** This registry value is not supported.</span></span>

<span data-ttu-id="def1e-250">Se il valore del Registro di sistema **MinDiffAreaFileSize** non esiste, l'applicazione di backup può crearlo nella chiave del Registro di sistema seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-250">If the **MinDiffAreaFileSize** registry value does not exist, the backup application can create it under the following registry key:</span></span>

<span data-ttu-id="def1e-251">**HKEY \_ Local \_ MACHINE** \\ **System** \\ **CurrentControlSet** \\ **Services** \\ **VolSnap**</span><span class="sxs-lookup"><span data-stu-id="def1e-251">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Services**\\**VolSnap**</span></span>

<span data-ttu-id="def1e-252">Creare un valore con il nome **MinDiffAreaFileSize** e digitare REG \_ DWORD.</span><span class="sxs-lookup"><span data-stu-id="def1e-252">Create a value with the name **MinDiffAreaFileSize** and type REG\_DWORD.</span></span> <span data-ttu-id="def1e-253">I dati per questa chiave sono specificati in megabyte.</span><span class="sxs-lookup"><span data-stu-id="def1e-253">The data for this key is specified in megabytes.</span></span> <span data-ttu-id="def1e-254">320 equivale a 320 MB e 3200 a 3,2 GB.</span><span class="sxs-lookup"><span data-stu-id="def1e-254">320 is equal to 320 MB, and 3200 is equal to 3.2 GB.</span></span> <span data-ttu-id="def1e-255">È necessario specificare un numero multiplo di 32.</span><span class="sxs-lookup"><span data-stu-id="def1e-255">You should specify a number that is a multiple of 32.</span></span> <span data-ttu-id="def1e-256">Se si specifica un valore che non è un multiplo di 32, verrà usato il multiplo successivo di 32.</span><span class="sxs-lookup"><span data-stu-id="def1e-256">If you specify a value that is not a multiple of 32, the next multiple of 32 will be used.</span></span>

<span data-ttu-id="def1e-257">Le copie shadow potrebbero non funzionare correttamente se il valore del Registro di sistema **MinDiffAreaFileSize** specifica una dimensione minima maggiore della dimensione massima dell'area di archiviazione della copia shadow.</span><span class="sxs-lookup"><span data-stu-id="def1e-257">Shadow copies might not function correctly if the **MinDiffAreaFileSize** registry value specifies a minimum size that is larger than the maximum size of the shadow copy storage area.</span></span> <span data-ttu-id="def1e-258">Per specificare le dimensioni massime dell'area di archiviazione della copia shadow, usare il comando [Vssadmin](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/cc754968(v=ws.11)) add shadowstorage o vssadmin resize shadowstorage.</span><span class="sxs-lookup"><span data-stu-id="def1e-258">To specify the maximum size of the shadow copy storage area, use the [Vssadmin](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/cc754968(v=ws.11)) add shadowstorage or the Vssadmin resize shadowstorage command.</span></span> <span data-ttu-id="def1e-259">Per visualizzare le dimensioni massime correnti, usare il [comando Vssadmin list shadowstorage.](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/cc754968(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="def1e-259">To see the current maximum size, use the [Vssadmin list shadowstorage](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/cc754968(v=ws.11)) command.</span></span> <span data-ttu-id="def1e-260">Se non è stata impostata una dimensione massima, non esiste alcun limite alla quantità di spazio che può essere usata.</span><span class="sxs-lookup"><span data-stu-id="def1e-260">If you have not set a maximum size, there is no limit to the amount of space that can be used.</span></span>

## <a name="overallperformancesetting-and-customperformancesettings"></a><span data-ttu-id="def1e-261">OverallPerformanceSetting e CustomPerformanceSettings</span><span class="sxs-lookup"><span data-stu-id="def1e-261">OverallPerformanceSetting and CustomPerformanceSettings</span></span>

<span data-ttu-id="def1e-262">I valori del Registro di sistema **OverallPerformanceSetting** e **CustomPerformanceSettings** vengono usati per specificare le impostazioni delle prestazioni per Windows Server Backup.</span><span class="sxs-lookup"><span data-stu-id="def1e-262">The **OverallPerformanceSetting** and **CustomPerformanceSettings** registry values are used to specify performance settings for Windows Server Backup.</span></span> <span data-ttu-id="def1e-263">Questi valori del Registro di sistema sono supportati solo nei sistemi operativi Windows Server.</span><span class="sxs-lookup"><span data-stu-id="def1e-263">These registry values are supported only on Windows server operating systems.</span></span>

<span data-ttu-id="def1e-264">**Windows Server 2003:** Questi valori del Registro di sistema non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="def1e-264">**Windows Server 2003:** These registry values are not supported.</span></span>

<span data-ttu-id="def1e-265">Se questi valori del Registro di sistema non esistono, l'applicazione di backup può crearli nella chiave del Registro di sistema seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-265">If these registry values do not exist, the backup application can create them under the following registry key:</span></span>

<span data-ttu-id="def1e-266">**HKEY \_ LOCAL \_ MACHINE** \\ **SOFTWARE** \\ **Microsoft** \\ **Windows** \\ **CurrentVersion** \\ **Windows Block Level Backup**</span><span class="sxs-lookup"><span data-stu-id="def1e-266">**HKEY\_LOCAL\_MACHINE**\\**SOFTWARE**\\**Microsoft**\\**Windows**\\**CurrentVersion**\\**Windows Block Level Backup**</span></span>

<span data-ttu-id="def1e-267">Per specificare le impostazioni relative alle prestazioni per tutti i volumi, creare un valore con il nome **OverallPerformanceSetting** e digitare REG \_ DWORD.</span><span class="sxs-lookup"><span data-stu-id="def1e-267">To specify performances settings for all volumes, create a value with the name **OverallPerformanceSetting** and type REG\_DWORD.</span></span> <span data-ttu-id="def1e-268">I dati del valore devono essere impostati su uno dei valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="def1e-268">The value's data should be set to one of the following values.</span></span>

| <span data-ttu-id="def1e-269">Valore</span><span class="sxs-lookup"><span data-stu-id="def1e-269">Value</span></span> | <span data-ttu-id="def1e-270">Significato</span><span class="sxs-lookup"><span data-stu-id="def1e-270">Meaning</span></span>                                                                                                                                                                                                                                   |
|-------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="def1e-271">1</span><span class="sxs-lookup"><span data-stu-id="def1e-271">1</span></span>     | <span data-ttu-id="def1e-272">Normali prestazioni di backup (tramite backup completi).</span><span class="sxs-lookup"><span data-stu-id="def1e-272">Normal backup performance (by using full backups).</span></span> <span data-ttu-id="def1e-273">Questa impostazione corrisponde all'impostazione Prestazioni normali del backup descritta in [Ottimizzazione delle prestazioni del backup e del server.](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd759145(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="def1e-273">This setting corresponds to the Normal backup performance setting described in [Optimizing Backup and Server Performance](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd759145(v=ws.11)).</span></span>            |
| <span data-ttu-id="def1e-274">2</span><span class="sxs-lookup"><span data-stu-id="def1e-274">2</span></span>     | <span data-ttu-id="def1e-275">Prestazioni di backup più veloci (tramite backup incrementali).</span><span class="sxs-lookup"><span data-stu-id="def1e-275">Faster backup performance (by using incremental backups).</span></span> <span data-ttu-id="def1e-276">Questa impostazione corrisponde all'impostazione Prestazioni di backup più veloci descritta in [Ottimizzazione delle prestazioni del backup e del server.](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd759145(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="def1e-276">This setting corresponds to the Faster backup performance setting described in [Optimizing Backup and Server Performance](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd759145(v=ws.11)).</span></span>     |
| <span data-ttu-id="def1e-277">3</span><span class="sxs-lookup"><span data-stu-id="def1e-277">3</span></span>     | <span data-ttu-id="def1e-278">Prestazioni di backup personalizzate (specificando un'impostazione delle prestazioni per ogni volume).</span><span class="sxs-lookup"><span data-stu-id="def1e-278">Custom backup performance (by specifying a performance setting for each volume).</span></span> <span data-ttu-id="def1e-279">Questa impostazione corrisponde all'impostazione Personalizzata descritta in [Ottimizzazione del backup e delle prestazioni del server.](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd759145(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="def1e-279">This setting corresponds to the Custom setting described in [Optimizing Backup and Server Performance](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd759145(v=ws.11)).</span></span> |



 

<span data-ttu-id="def1e-280">Se si imposta **OverallPerformanceSetting** su 3, è necessario specificare anche le impostazioni relative alle prestazioni per ogni singolo volume.</span><span class="sxs-lookup"><span data-stu-id="def1e-280">If you set **OverallPerformanceSetting** to 3, you must also specify performances settings for each volume individually.</span></span> <span data-ttu-id="def1e-281">A tale scopo, creare un valore con il nome **CustomPerformanceSettings** e digitare REG \_ MULTI \_ SZ.</span><span class="sxs-lookup"><span data-stu-id="def1e-281">To do this, create a value with the name **CustomPerformanceSettings** and type REG\_MULTI\_SZ.</span></span> <span data-ttu-id="def1e-282">I dati di questo valore devono essere impostati come segue:</span><span class="sxs-lookup"><span data-stu-id="def1e-282">This value's data should be set as follows:</span></span>

-   <span data-ttu-id="def1e-283">Ogni stringa nella sequenza di stringhe REG \_ MULTI \_ SZ contiene l'impostazione per un volume.</span><span class="sxs-lookup"><span data-stu-id="def1e-283">Each string in the REG\_MULTI\_SZ sequence of strings contains the setting for a volume.</span></span>
-   <span data-ttu-id="def1e-284">Ogni stringa è costituita da un GUID del volume, seguito da una virgola, seguita da un valore DWORD.</span><span class="sxs-lookup"><span data-stu-id="def1e-284">Each string consists of a volume GUID, followed by a comma, followed by a DWORD value.</span></span>
-   <span data-ttu-id="def1e-285">Ognuno dei valori DWORD è 1 (backup completo) o 2 (backup incrementale).</span><span class="sxs-lookup"><span data-stu-id="def1e-285">Each of the DWORD values is either 1 (full backup) or 2 (incremental backup).</span></span>

<span data-ttu-id="def1e-286">Si supponga, ad esempio, che il computer abbia due volumi come segue:</span><span class="sxs-lookup"><span data-stu-id="def1e-286">For example, suppose the computer has two volumes as follows:</span></span>

-   <span data-ttu-id="def1e-287">I due volumi sono C: \\ e D: \\ .</span><span class="sxs-lookup"><span data-stu-id="def1e-287">The two volumes are C:\\ and D:\\.</span></span>
-   <span data-ttu-id="def1e-288">Il GUID per il volume C: è \\ 07c473ca4-2df8-11de-9d80-806e6f6e6963 e il GUID per il volume D: è \\ 0ac22ea6c-712f-11de-adb0-00215a67606e.</span><span class="sxs-lookup"><span data-stu-id="def1e-288">The GUID for volume C:\\ is 07c473ca4-2df8-11de-9d80-806e6f6e6963, and the GUID for volume D:\\ is 0ac22ea6c-712f-11de-adb0-00215a67606e.</span></span>
-   <span data-ttu-id="def1e-289">Si vuole specificare una normale perforazione di backup per il volume C: e prestazioni di backup più veloci \\ per il volume D: \\ .</span><span class="sxs-lookup"><span data-stu-id="def1e-289">You want to specify normal backup perfornance for volume C:\\ and faster backup performance for volume D:\\.</span></span>

<span data-ttu-id="def1e-290">A tale scopo, È necessario impostare **OverallPerformanceSetting** su 3 e **CustomPerformanceSettings** su "07c473ca4-2df8-11de-9d80-806e6f6e6963,1 \\ 00ac22ea6c-712f-11de-adb0-00215a67606e,2".</span><span class="sxs-lookup"><span data-stu-id="def1e-290">To do this, you would set **OverallPerformanceSetting** to 3 and **CustomPerformanceSettings** to "07c473ca4-2df8-11de-9d80-806e6f6e6963,1\\00ac22ea6c-712f-11de-adb0-00215a67606e,2".</span></span>

<span data-ttu-id="def1e-291">Se si imposta **OverallPerformanceSetting** su 1 o 2, i dati nel **valore CustomPerformanceSettings** vengono ignorati.</span><span class="sxs-lookup"><span data-stu-id="def1e-291">If you set **OverallPerformanceSetting** to 1 or 2, the data in the **CustomPerformanceSettings** value is ignored.</span></span>

## <a name="sysvol"></a><span data-ttu-id="def1e-292">SYSVOL</span><span class="sxs-lookup"><span data-stu-id="def1e-292">SYSVOL</span></span>

<span data-ttu-id="def1e-293">Il valore del Registro di sistema **SYSVOL** consente di notificare al servizio replica file system distribuito (DFSR) che è stata avviata un'operazione di ripristino dello stato del sistema.</span><span class="sxs-lookup"><span data-stu-id="def1e-293">The **SYSVOL** registry value is a way to notify the Distributed File System Replication (DFSR) service that a system state restore operation has been initiated.</span></span> <span data-ttu-id="def1e-294">Qualsiasi applicazione di backup che esegue il ripristino dello stato del sistema di SYSVOL deve utilizzare questo valore per indicare se l'operazione di ripristino è autorevole o non autorevole.</span><span class="sxs-lookup"><span data-stu-id="def1e-294">Any backup application that performs system state restore of SYSVOL should use this value to indicate whether the restore operation is authoritative or nonauthoritative.</span></span> <span data-ttu-id="def1e-295">Questo valore viene letto dal servizio DFSR.</span><span class="sxs-lookup"><span data-stu-id="def1e-295">This value is read by the DFSR service.</span></span> <span data-ttu-id="def1e-296">Se questo valore non è impostato, il ripristino SYSVOL viene eseguito in modo non autorevole per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="def1e-296">If this value is not set, the SYSVOL restore is performed nonauthoritatively by default.</span></span>

<span data-ttu-id="def1e-297">Se il valore del Registro di sistema **SYSVOL** non esiste, l'applicazione di backup deve crearlo nella chiave del Registro di sistema seguente:</span><span class="sxs-lookup"><span data-stu-id="def1e-297">If the **SYSVOL** registry value does not exist, the backup application should create it under the following registry key:</span></span>

<span data-ttu-id="def1e-298">**HKEY \_ Local \_ MACHINE System** \\  \\ **CurrentControlSet** \\ **Services** \\ **DFSR** \\ **Restore**</span><span class="sxs-lookup"><span data-stu-id="def1e-298">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Services**\\**DFSR**\\**Restore**</span></span>

<span data-ttu-id="def1e-299">Creare un valore con il nome **SYSVOL** e digitare REG \_ SZ.</span><span class="sxs-lookup"><span data-stu-id="def1e-299">Create a value with the name **SYSVOL** and type REG\_SZ.</span></span> <span data-ttu-id="def1e-300">I dati del valore devono essere impostati su "autorevole" o "non autorevole" in base alla richiesta dell'amministratore di sistema.</span><span class="sxs-lookup"><span data-stu-id="def1e-300">The value's data should be set to either "authoritative" or "non-authoritative" based on the system administrator's request.</span></span>

<span data-ttu-id="def1e-301">**Windows Vista, Windows Server 2003 e Windows XP:** Questo valore del Registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="def1e-301">**Windows Vista, Windows Server 2003 and Windows XP:** This registry value is not supported.</span></span>

 

 
