---
title: Linee guida per i servizi
description: I servizi devono rispettare queste linee guida per assicurarsi che Gestione riavvio possa arrestare e riavviare i servizi, se necessario, per installare gli aggiornamenti. Le applicazioni possono utilizzare le linee guida descritte in linee guida per le applicazioni.
ms.assetid: 69a98f82-71bb-4780-8a3f-294cc5629900
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51374c0a4c6fc561b8259aadf15e3d5487e12483
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104047085"
---
# <a name="guidelines-for-services"></a><span data-ttu-id="37008-104">Linee guida per i servizi</span><span class="sxs-lookup"><span data-stu-id="37008-104">Guidelines for Services</span></span>

<span data-ttu-id="37008-105">I servizi devono rispettare queste linee guida per assicurarsi che Gestione riavvio possa arrestare e riavviare i servizi, se necessario, per installare gli aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="37008-105">Services should adhere to these guidelines to ensure that the Restart Manager can shut down and restart services if necessary to install updates.</span></span> <span data-ttu-id="37008-106">Le applicazioni possono utilizzare le linee guida descritte in [linee guida per le applicazioni](guidelines-for-applications.md).</span><span class="sxs-lookup"><span data-stu-id="37008-106">Applications can use the guidelines that are described in [Guidelines for Applications](guidelines-for-applications.md).</span></span>

-   <span data-ttu-id="37008-107">I servizi devono essere in grado di essere arrestati e riavviati utilizzando [Gestione controllo servizi](/windows/desktop/Services/service-control-manager) senza richiedere un riavvio del sistema.</span><span class="sxs-lookup"><span data-stu-id="37008-107">Services should be capable of being shut down and restarted using the [Service Control Manager](/windows/desktop/Services/service-control-manager) without requiring a system restart.</span></span> <span data-ttu-id="37008-108">Le eccezioni a questa linea guida sono processi di sistema critici che vengono eseguiti nel contesto di lsass.exe o services.exe.</span><span class="sxs-lookup"><span data-stu-id="37008-108">The exceptions to this guideline are critical system processes that run in the context of lsass.exe or services.exe.</span></span>
-   <span data-ttu-id="37008-109">Gestione riavvio rispetta le dipendenze del servizio.</span><span class="sxs-lookup"><span data-stu-id="37008-109">Restart Manager honors service dependencies.</span></span> <span data-ttu-id="37008-110">Quando un servizio viene arrestato e riavviato, i servizi dipendenti vengono arrestati e riavviati.</span><span class="sxs-lookup"><span data-stu-id="37008-110">When a service is shut down and restarted, its dependent services are shut down and restarted.</span></span>
-   <span data-ttu-id="37008-111">I servizi devono specificare l'intervallo di recupero e il periodo di ripristino in [Gestione controllo servizi (SCM)](/windows/desktop/Services/service-control-manager).</span><span class="sxs-lookup"><span data-stu-id="37008-111">Services should specify the recovery interval and reset period in the [Service Control Manager (SCM)](/windows/desktop/Services/service-control-manager).</span></span> <span data-ttu-id="37008-112">L'intervallo di recupero è il tempo, in millisecondi, dopo l'ultimo errore che il controllo SCM attende prima di intraprendere l'azione di ripristino.</span><span class="sxs-lookup"><span data-stu-id="37008-112">The recovery interval is the time, in msecs, after the last failure that the SCM waits before taking the recovery action.</span></span> <span data-ttu-id="37008-113">Il periodo di reimpostazione è il tempo, in secondi, dopo l'ultimo errore che Gestione controllo servizi attende prima di reimpostare il numero di errori su 0.</span><span class="sxs-lookup"><span data-stu-id="37008-113">The reset period is the time, in seconds, after the last failure that the Service Control Manager waits before resetting the failure count to 0.</span></span> <span data-ttu-id="37008-114">I servizi possono usare la funzione [**ChangeServiceConfig2**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfig2a) per modificare le impostazioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="37008-114">Services can use [**ChangeServiceConfig2**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfig2a) function to change the configuration settings.</span></span>

    <span data-ttu-id="37008-115">Per specificare che il servizio deve essere riavviato un minuto dopo il primo errore di riavvio del servizio, i [servizi critici](critical-system-services.md) devono usare le impostazioni di ripristino seguenti, riavviate due minuti dopo il secondo errore e che il computer venga riavviato un minuto dopo il terzo errore.</span><span class="sxs-lookup"><span data-stu-id="37008-115">[Critical services](critical-system-services.md) should use the following recovery settings to specify that the service be restarted one minute after the first failure to restart the service, restarted two minutes after the second failure, and that the computer be restarted one minute after the third failure.</span></span> <span data-ttu-id="37008-116">Il numero di errori viene reimpostato su 0 dopo 300 secondi.</span><span class="sxs-lookup"><span data-stu-id="37008-116">The failure count is reset to 0 after 300 seconds.</span></span>

    <dl> <span data-ttu-id="37008-117">Azioni di ripristino: Restart/60000/restart/120000/reboot/60000 & Reset = 300</span><span class="sxs-lookup"><span data-stu-id="37008-117">Recovery Actions: Restart/60000/Restart/120000/Reboot/60000 & Reset =300</span></span>  
    </dl>

    <span data-ttu-id="37008-118">I [servizi critici](critical-system-services.md) devono essere avviati prima di servizi non critici.</span><span class="sxs-lookup"><span data-stu-id="37008-118">[Critical services](critical-system-services.md) should be started before non-critical services.</span></span> <span data-ttu-id="37008-119">I servizi che non sono servizi critici devono usare le impostazioni di ripristino seguenti per specificare che il servizio venga riavviato due minuti dopo il primo errore per riavviare il servizio.</span><span class="sxs-lookup"><span data-stu-id="37008-119">Services that are not critical services should use the following recovery settings to specify that the service be restarted two minutes after the first failure to restart the service.</span></span> <span data-ttu-id="37008-120">Il servizio non viene riavviato dopo il secondo errore e un amministratore deve intervenire in questo caso.</span><span class="sxs-lookup"><span data-stu-id="37008-120">The service is not restarted after the second failure, and an administrator would need to intervene in this case.</span></span> <span data-ttu-id="37008-121">Il numero di errori viene reimpostato su 0 dopo 900 secondi.</span><span class="sxs-lookup"><span data-stu-id="37008-121">The failure count is reset to 0 after 900 seconds.</span></span>

    <dl> <span data-ttu-id="37008-122">Azioni di ripristino: riavvio/120000/riavvio/300.000/None/0 & Reset = 900</span><span class="sxs-lookup"><span data-stu-id="37008-122">Recovery Actions: Restart/120000/Restart/300000/None/0 & Reset = 900</span></span>  
    </dl>

 

 