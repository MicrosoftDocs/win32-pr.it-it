---
description: Uso di VDS
ms.assetid: aa4be499-625d-4dbd-828c-4a55ff2dba2c
title: Uso di VDS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c648c5cc2507c4819f98367c367099248a0e723f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104233678"
---
# <a name="using-vds"></a><span data-ttu-id="4805e-103">Uso di VDS</span><span class="sxs-lookup"><span data-stu-id="4805e-103">Using VDS</span></span>

<span data-ttu-id="4805e-104">\[A partire da Windows 8 e Windows Server 2012, l'interfaccia com del [servizio dischi virtuali](virtual-disk-service-portal.md) viene sostituita dall' [API di gestione archiviazione di Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span><span class="sxs-lookup"><span data-stu-id="4805e-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="4805e-105">VDS fornisce un'interfaccia per lo sviluppo di script e GUI in grado di semplificare le attività eseguite da un amministratore di Windows Server che gestisce un set eterogeneo di sistemi di archiviazione, eseguendo la migrazione dei dati tra diverse configurazioni hardware nel tempo.</span><span class="sxs-lookup"><span data-stu-id="4805e-105">VDS supplies an interface for scripting and GUI development that can simplify the activities that are performed by a Windows server administrator who manages a heterogeneous set of storage systems, migrating data across different hardware configurations over time.</span></span> <span data-ttu-id="4805e-106">Se non si ha familiarità con gli oggetti usati nello sviluppo VDS, vedere il [modello a oggetti VDS](vds-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="4805e-106">If you are unfamiliar with the objects that are used in VDS development, see the [VDS Object Model](vds-object-model.md).</span></span>

<span data-ttu-id="4805e-107">Pochi punti prima di iniziare:</span><span class="sxs-lookup"><span data-stu-id="4805e-107">A few points before you begin:</span></span>

-   <span data-ttu-id="4805e-108">Sebbene VDS includa un provider di software, è necessario acquistare un provider hardware e l'hardware associato separatamente per sfruttare i vantaggi delle operazioni del provider hardware.</span><span class="sxs-lookup"><span data-stu-id="4805e-108">While VDS includes a software provider, you must purchase a hardware provider and the associated hardware separately to take advantage of the hardware provider operations.</span></span> <span data-ttu-id="4805e-109">Per le istruzioni di installazione, vedere la documentazione fornita dal produttore dell'hardware.</span><span class="sxs-lookup"><span data-stu-id="4805e-109">For installation instructions, see the documentation that is provided by the hardware manufacturer.</span></span>
-   <span data-ttu-id="4805e-110">Alcune operazioni richiedono volumi formattati in NTFS.</span><span class="sxs-lookup"><span data-stu-id="4805e-110">Some operations require NTFS-formatted volumes.</span></span> <span data-ttu-id="4805e-111">Ad esempio, quando si monta un volume in una directory esistente, il volume che contiene la directory deve essere formattato con NTFS.</span><span class="sxs-lookup"><span data-stu-id="4805e-111">For example, when you mount a volume on an existing directory, the volume that contains the directory must be formatted with NTFS.</span></span> <span data-ttu-id="4805e-112">Questa operazione non è supportata dagli altri file System.</span><span class="sxs-lookup"><span data-stu-id="4805e-112">Other file systems do not support this operation.</span></span> <span data-ttu-id="4805e-113">Per informazioni sulle operazioni che richiedono NTFS, vedere la pagina relativa a ogni metodo in [riferimento a VDS](vds-reference.md).</span><span class="sxs-lookup"><span data-stu-id="4805e-113">For information about operations that require NTFS, see each method page in [VDS Reference](vds-reference.md).</span></span>

## <a name="programming-languages"></a><span data-ttu-id="4805e-114">Linguaggi di programmazione</span><span class="sxs-lookup"><span data-stu-id="4805e-114">Programming Languages</span></span>

<span data-ttu-id="4805e-115">Usare qualsiasi linguaggio di programmazione adatto per lo sviluppo con COM, ad esempio il linguaggio C o C++.</span><span class="sxs-lookup"><span data-stu-id="4805e-115">Use any programming language that is suitable for development with COM, such as the C language or C++.</span></span>

## <a name="security"></a><span data-ttu-id="4805e-116">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="4805e-116">Security</span></span>

<span data-ttu-id="4805e-117">Windows Firewall è abilitato per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="4805e-117">Windows Firewall is enabled by default.</span></span> <span data-ttu-id="4805e-118">Questo può causare l'esito negativo dell'autenticazione per le interfacce di callback, ad esempio [**IVdsAdviseSink**](/windows/desktop/api/Vds/nn-vds-ivdsadvisesink), che possono essere eseguite in modalità remota.</span><span class="sxs-lookup"><span data-stu-id="4805e-118">This can cause authentication to fail for callback interfaces, such as [**IVdsAdviseSink**](/windows/desktop/api/Vds/nn-vds-ivdsadvisesink), that can be executed remotely.</span></span> <span data-ttu-id="4805e-119">Se Windows Firewall è abilitato nel client o nel server, è necessario aggiungere Remote Volume Management alla scheda **Exceptions** in Windows Firewall.</span><span class="sxs-lookup"><span data-stu-id="4805e-119">If Windows Firewall is enabled on either the client or the server, you must add Remote Volume Management to the **Exceptions** tab in Windows Firewall.</span></span>

<span data-ttu-id="4805e-120">**Windows Server 2003:** In Windows Server 2003 con Service Pack 2 (SP2) e Windows Server 2003 con Service Pack 1 (SP1), se Windows Firewall è abilitato nel client o nel server e se il server è configurato per l'utilizzo dell'autenticazione NTLM, è necessario aggiungere le impostazioni seguenti alla scheda **eccezioni** Windows Firewall per il computer appropriato.</span><span class="sxs-lookup"><span data-stu-id="4805e-120">**Windows Server 2003:** In Windows Server 2003 with Service Pack 2 (SP2) and Windows Server 2003 with Service Pack 1 (SP1), if Windows Firewall is enabled on either the client or the server and if the server is configured to use NTLM authentication, you must add the following settings to the **Exceptions** tab in Windows Firewall for the appropriate computer.</span></span>

| <span data-ttu-id="4805e-121">Computer</span><span class="sxs-lookup"><span data-stu-id="4805e-121">Computer</span></span>                 | <span data-ttu-id="4805e-122">Impostazioni eccezioni</span><span class="sxs-lookup"><span data-stu-id="4805e-122">Exceptions settings</span></span>                                                                 |
|--------------------------|-------------------------------------------------------------------------------------|
| <span data-ttu-id="4805e-123">Computer client (locale)</span><span class="sxs-lookup"><span data-stu-id="4805e-123">Client computer (local)</span></span>  | <span data-ttu-id="4805e-124">Dmremote.exe</span><span class="sxs-lookup"><span data-stu-id="4805e-124">Dmremote.exe</span></span><br/> <span data-ttu-id="4805e-125">Mmc.exe</span><span class="sxs-lookup"><span data-stu-id="4805e-125">Mmc.exe</span></span><br/> <span data-ttu-id="4805e-126">Vdsldr.exe</span><span class="sxs-lookup"><span data-stu-id="4805e-126">Vdsldr.exe</span></span><br/> <span data-ttu-id="4805e-127">TCP 135</span><span class="sxs-lookup"><span data-stu-id="4805e-127">TCP 135</span></span><br/> |
| <span data-ttu-id="4805e-128">Computer server (remoto)</span><span class="sxs-lookup"><span data-stu-id="4805e-128">Server computer (remote)</span></span> | <span data-ttu-id="4805e-129">Dmadmin.exe</span><span class="sxs-lookup"><span data-stu-id="4805e-129">Dmadmin.exe</span></span><br/> <span data-ttu-id="4805e-130">Vds.exe</span><span class="sxs-lookup"><span data-stu-id="4805e-130">Vds.exe</span></span><br/> <span data-ttu-id="4805e-131">TCP 135</span><span class="sxs-lookup"><span data-stu-id="4805e-131">TCP 135</span></span><br/>                        |



 

<span data-ttu-id="4805e-132">Si noti che Windows Firewall non è abilitato per impostazione predefinita fino a Windows Server 2003 con SP1.</span><span class="sxs-lookup"><span data-stu-id="4805e-132">Note that Windows Firewall is not enabled by default until Windows Server 2003 with SP1.</span></span>

<span data-ttu-id="4805e-133">Un'applicazione che usa VDS deve essere eseguita con l'account di gruppo Backup Operator o Administrators.</span><span class="sxs-lookup"><span data-stu-id="4805e-133">An application that is using VDS must run under the Backup Operator or Administrators group account.</span></span> <span data-ttu-id="4805e-134">Senza il privilegio appropriato, un'applicazione può creare un oggetto caricatore del servizio, ma l'oggetto non caricherà la funzione VDS.</span><span class="sxs-lookup"><span data-stu-id="4805e-134">Without the appropriate privilege, an application can create a service loader object, but the object will not load VDS.</span></span> <span data-ttu-id="4805e-135">Viene invece restituito un errore che indica che l'accesso a VDS è stato negato.</span><span class="sxs-lookup"><span data-stu-id="4805e-135">Instead, it returns an error indicating that access to VDS is denied.</span></span>

<span data-ttu-id="4805e-136">Se la rete usa l'autenticazione NTLM, il computer client deve consentire l'accesso anonimo.</span><span class="sxs-lookup"><span data-stu-id="4805e-136">If the network uses NTLM authentication, the client computer should allow anonymous access.</span></span> <span data-ttu-id="4805e-137">In questo caso, se nel computer client è in esecuzione un sistema operativo Windows Server, l'accesso anonimo è abilitato per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="4805e-137">In this case, if the client computer is running a Windows Server operating system, anonymous access is enabled by default.</span></span> <span data-ttu-id="4805e-138">Se è in esecuzione un sistema operativo client Windows, è necessario abilitare l'accesso anonimo usando Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="4805e-138">If it is running a Windows Client operating system, anonymous access must be enabled using Dcomcnfg.exe.</span></span>

## <a name="configuration-and-query-operations"></a><span data-ttu-id="4805e-139">Operazioni di configurazione e query</span><span class="sxs-lookup"><span data-stu-id="4805e-139">Configuration and Query Operations</span></span>

<span data-ttu-id="4805e-140">Le operazioni di configurazione e query sono limitate dall'ambito del computer, del provider, del sottosistema o del pacchetto più rilevante.</span><span class="sxs-lookup"><span data-stu-id="4805e-140">Configuration and query operations are scoped by the most relevant computer, provider, subsystem, or pack.</span></span> <span data-ttu-id="4805e-141">Le query attraversano solo un provider o un livello della gerarchia di binding.</span><span class="sxs-lookup"><span data-stu-id="4805e-141">Queries traverse only one provider or one level of the binding hierarchy.</span></span> <span data-ttu-id="4805e-142">Per compilare una visualizzazione completa, il chiamante deve eseguire una query su tutti i livelli.</span><span class="sxs-lookup"><span data-stu-id="4805e-142">To build a full view, the caller must query across and down each level.</span></span> <span data-ttu-id="4805e-143">Nell'elenco seguente sono inclusi alcuni esempi:</span><span class="sxs-lookup"><span data-stu-id="4805e-143">The following list includes examples:</span></span>

-   <span data-ttu-id="4805e-144">Per visualizzare tutti i dischi in un computer, i chiamanti devono eseguire una query su tutti i provider di software per i dischi richiesti da tali provider.</span><span class="sxs-lookup"><span data-stu-id="4805e-144">To view all disks on a computer, callers must query across all software providers for the disks that are claimed by those providers.</span></span>
-   <span data-ttu-id="4805e-145">Per determinare quali dischi contribuiscono a un volume in pila software, i chiamanti determinano innanzitutto i plex che contribuiscono e quindi eseguono una query per gli extent del disco per ogni plex.</span><span class="sxs-lookup"><span data-stu-id="4805e-145">To determine which disks contribute to a software-stacked volume, callers first determine the contributing plexes and then query for the disk extents for each plex.</span></span>
-   <span data-ttu-id="4805e-146">Per visualizzare tutte le unità collegate a un determinato sottosistema, i chiamanti devono eseguire una query sul sottosistema.</span><span class="sxs-lookup"><span data-stu-id="4805e-146">To view all the drives that are attached to a given subsystem, callers must query the subsystem.</span></span>
-   <span data-ttu-id="4805e-147">Per visualizzare tutti i LUN esposti da un determinato sottosistema, i chiamanti devono eseguire una query sul sottosistema.</span><span class="sxs-lookup"><span data-stu-id="4805e-147">To view all the LUNs that are exposed by a given subsystem, callers must query the subsystem.</span></span>
-   <span data-ttu-id="4805e-148">Per visualizzare tutte le risorse di archiviazione in una rete SAN o un cluster, i chiamanti devono eseguire una query su ogni computer per tutti i provider hardware, eseguire una query su ogni provider per tutti i sottosistemi, quindi eseguire una query su ogni sottosistema.</span><span class="sxs-lookup"><span data-stu-id="4805e-148">To view all storage on a SAN or a cluster, callers must query each computer for all hardware providers, query each provider for all subsystems, and then query each subsystem.</span></span>

<span data-ttu-id="4805e-149">Mentre ogni singola query non restituirà duplicati, le query ripetute tra più computer o tra i provider possono accumulare duplicati.</span><span class="sxs-lookup"><span data-stu-id="4805e-149">While each individual query will not return duplicates, repeated queries across computers or across providers can accumulate duplicates.</span></span> <span data-ttu-id="4805e-150">I chiamanti devono implementare qualsiasi filtro.</span><span class="sxs-lookup"><span data-stu-id="4805e-150">Callers must implement any filtering.</span></span> <span data-ttu-id="4805e-151">Si noti inoltre che le applicazioni di gestione SAN possono utilizzare il Active Directory o un repository per salvare in modo permanente le informazioni di configurazione; potrebbe non essere necessario eseguire una query su ogni computer.</span><span class="sxs-lookup"><span data-stu-id="4805e-151">Note also that SAN management applications can use the Active Directory or a repository to persist configuration information; it might not be necessary to query each computer.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4805e-152">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="4805e-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4805e-153">Servizio dischi virtuali</span><span class="sxs-lookup"><span data-stu-id="4805e-153">Virtual Disk Service</span></span>](virtual-disk-service-portal.md)
</dt> <dt>

[<span data-ttu-id="4805e-154">Modello a oggetti VDS</span><span class="sxs-lookup"><span data-stu-id="4805e-154">VDS Object Model</span></span>](vds-object-model.md)
</dt> <dt>

[<span data-ttu-id="4805e-155">Riferimento VDS</span><span class="sxs-lookup"><span data-stu-id="4805e-155">VDS Reference</span></span>](vds-reference.md)
</dt> </dl>

 

