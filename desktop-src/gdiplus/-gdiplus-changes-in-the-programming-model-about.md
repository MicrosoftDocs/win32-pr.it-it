---
description: Le sezioni seguenti descrivono diversi modi in cui la programmazione con Windows GDI+ è diversa dalla programmazione con Windows Graphics Device Interface (GDI).
ms.assetid: 89a154c1-6a49-45d6-a73c-94b0b1567408
title: Modifiche al modello di programmazione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a90cd6f1c3a6ebab1e55562e67cb4926f0ffedf9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104049868"
---
# <a name="changes-in-the-programming-model"></a><span data-ttu-id="9ecd1-103">Modifiche al modello di programmazione</span><span class="sxs-lookup"><span data-stu-id="9ecd1-103">Changes in the Programming Model</span></span>

<span data-ttu-id="9ecd1-104">Le sezioni seguenti descrivono diversi modi in cui la programmazione con Windows GDI+ è diversa dalla programmazione con Windows Graphics Device Interface (GDI).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-104">The following sections describe several ways that programming with Windows GDI+ is different from programming with Windows Graphics Device Interface (GDI).</span></span>

-   [<span data-ttu-id="9ecd1-105">Contesti di dispositivo, handle e oggetti grafici</span><span class="sxs-lookup"><span data-stu-id="9ecd1-105">Device Contexts, Handles, and Graphics Objects</span></span>](#device-contexts-handles-and-graphics-objects)
-   [<span data-ttu-id="9ecd1-106">Due modi per creare una linea</span><span class="sxs-lookup"><span data-stu-id="9ecd1-106">Two Ways to Draw a Line</span></span>](#two-ways-to-draw-a-line)
    -   [<span data-ttu-id="9ecd1-107">Disegno di una linea con GDI</span><span class="sxs-lookup"><span data-stu-id="9ecd1-107">Drawing a line with GDI</span></span>](#drawing-a-line-with-gdi)
    -   [<span data-ttu-id="9ecd1-108">Disegno di una linea con GDI+ e interfaccia della classe C++</span><span class="sxs-lookup"><span data-stu-id="9ecd1-108">Drawing a line with GDI+ and the C++ class interface</span></span>](#drawing-a-line-with-gdi-and-the-c-class-interface)
-   [<span data-ttu-id="9ecd1-109">Penne, pennelli, percorsi, immagini e tipi di carattere come parametri</span><span class="sxs-lookup"><span data-stu-id="9ecd1-109">Pens, Brushes, Paths, Images, and Fonts as Parameters</span></span>](#pens-brushes-paths-images-and-fonts-as-parameters)
-   [<span data-ttu-id="9ecd1-110">Overload di metodi</span><span class="sxs-lookup"><span data-stu-id="9ecd1-110">Method Overloading</span></span>](#method-overloading)
-   [<span data-ttu-id="9ecd1-111">Non sono più presenti posizioni correnti</span><span class="sxs-lookup"><span data-stu-id="9ecd1-111">No More Current Position</span></span>](#no-more-current-position)
-   [<span data-ttu-id="9ecd1-112">Metodi distinti per l'estrazione e il riempimento</span><span class="sxs-lookup"><span data-stu-id="9ecd1-112">Separate Methods for Draw and Fill</span></span>](#separate-methods-for-draw-and-fill)
-   [<span data-ttu-id="9ecd1-113">Creazione di aree</span><span class="sxs-lookup"><span data-stu-id="9ecd1-113">Constructing Regions</span></span>](#constructing-regions)

## <a name="device-contexts-handles-and-graphics-objects"></a><span data-ttu-id="9ecd1-114">Contesti di dispositivo, handle e oggetti grafici</span><span class="sxs-lookup"><span data-stu-id="9ecd1-114">Device Contexts, Handles, and Graphics Objects</span></span>

<span data-ttu-id="9ecd1-115">Se sono stati scritti programmi che usano GDI (l'interfaccia grafica del dispositivo inclusa nelle versioni precedenti di Windows), si ha familiarità con l'idea di un contesto di dispositivo (DC).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-115">If you have written programs using GDI (the graphics device interface included in previous versions of Windows), you are familiar with the idea of a device context (DC).</span></span> <span data-ttu-id="9ecd1-116">Un contesto di dispositivo è una struttura usata da Windows per archiviare informazioni sulle funzionalità di uno specifico dispositivo di visualizzazione e gli attributi che specificano la modalità di disegno degli elementi su tale dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-116">A device context is a structure used by Windows to store information about the capabilities of a particular display device and attributes that specify how items will be drawn on that device.</span></span> <span data-ttu-id="9ecd1-117">Un contesto di dispositivo per una visualizzazione video è associato anche a una particolare finestra sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-117">A device context for a video display is also associated with a particular window on the display.</span></span> <span data-ttu-id="9ecd1-118">Per prima cosa si ottiene un handle per un contesto di dispositivo (HDC), quindi si passa tale handle come argomento alle funzioni GDI che eseguono effettivamente il disegno.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-118">First you obtain a handle to a device context (HDC), and then you pass that handle as an argument to GDI functions that actually do the drawing.</span></span> <span data-ttu-id="9ecd1-119">È anche possibile passare l'handle come argomento alle funzioni GDI che ottengono o impostano gli attributi del contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-119">You also pass the handle as an argument to GDI functions that obtain or set the attributes of the device context.</span></span>

<span data-ttu-id="9ecd1-120">Quando si utilizza GDI+, non è necessario preoccuparsi degli handle e dei contesti di dispositivo come si fa quando si utilizza GDI.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-120">When you use GDI+, you don't have to be as concerned with handles and device contexts as you do when you use GDI.</span></span> <span data-ttu-id="9ecd1-121">È sufficiente creare un oggetto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) e richiamarne i metodi nel familiare stile orientato a oggetti, ovvero MyGraphicsObject. DrawLine (*Parameters*).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-121">You simply create a [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object and then invoke its methods in the familiar object-oriented style — myGraphicsObject.DrawLine(*parameters*).</span></span> <span data-ttu-id="9ecd1-122">L'oggetto **Graphics** si trova all'interno di GDI+ esattamente come il contesto del dispositivo è alla base di GDI.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-122">The **Graphics** object is at the core of GDI+ just as the device context is at the core of GDI.</span></span> <span data-ttu-id="9ecd1-123">Il contesto di dispositivo e l'oggetto **Graphics** svolgono ruoli simili, ma esistono alcune differenze fondamentali tra il modello di programmazione basato su handle usato con i contesti di dispositivo (GDI) e il modello orientato a oggetti usato con gli oggetti **grafici** (GDI+).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-123">The device context and the **Graphics** object play similar roles, but there are some fundamental differences between the handle-based programming model used with device contexts (GDI) and the object-oriented model used with **Graphics** objects (GDI+).</span></span>

<span data-ttu-id="9ecd1-124">L'oggetto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) , come il contesto di dispositivo, è associato a una particolare finestra sullo schermo e contiene attributi, ad esempio modalità di smussatura e hint per il rendering del testo, che specificano la modalità di disegno degli elementi.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-124">The [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object, like the device context, is associated with a particular window on the screen and contains attributes (for example, smoothing mode and text rendering hint) that specify how items are to be drawn.</span></span> <span data-ttu-id="9ecd1-125">Tuttavia, l'oggetto **Graphics** non è associato a una penna, un pennello, un percorso, un'immagine o un tipo di carattere come contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-125">However, the **Graphics** object is not tied to a pen, brush, path, image, or font as a device context is.</span></span> <span data-ttu-id="9ecd1-126">Ad esempio, in GDI, prima di poter usare un contesto di dispositivo per creare una linea, è necessario chiamare [SelezionaOggetto](/windows/win32/api/wingdi/nf-wingdi-selectobject) per associare un oggetto Pen al contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-126">For example, in GDI, before you can use a device context to draw a line, you must call [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) to associate a pen object with the device context.</span></span> <span data-ttu-id="9ecd1-127">Questa operazione viene definita selezione della penna nel contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-127">This is referred to as selecting the pen into the device context.</span></span> <span data-ttu-id="9ecd1-128">Tutte le linee disegnate nel contesto di dispositivo useranno tale penna fino a quando non si seleziona una penna diversa.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-128">All lines drawn in the device context will use that pen until you select a different pen.</span></span> <span data-ttu-id="9ecd1-129">Con GDI+, viene passato un oggetto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) come argomento al metodo [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) della classe **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-129">With GDI+, you pass a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object as an argument to the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the **Graphics** class.</span></span> <span data-ttu-id="9ecd1-130">È possibile usare un oggetto **Pen** diverso in ognuna di una serie di chiamate DrawLine senza dover associare un oggetto **penna** specificato a un oggetto **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-130">You can use a different **Pen** object in each of a series of DrawLine calls without having to associate a given **Pen** object with a **Graphics** object.</span></span>

## <a name="two-ways-to-draw-a-line"></a><span data-ttu-id="9ecd1-131">Due modi per creare una linea</span><span class="sxs-lookup"><span data-stu-id="9ecd1-131">Two Ways to Draw a Line</span></span>

<span data-ttu-id="9ecd1-132">I due esempi seguenti consentono di creare una linea rossa di larghezza 3 dalla posizione (20, 10) alla posizione (200.100).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-132">The following two examples each draw a red line of width 3 from location (20, 10) to location (200,100).</span></span> <span data-ttu-id="9ecd1-133">Nel primo esempio viene chiamato GDI e il secondo chiama GDI+ tramite l'interfaccia della classe C++.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-133">The first example calls GDI, and the second calls GDI+ through the C++ class interface.</span></span>

-   [<span data-ttu-id="9ecd1-134">Disegno di una linea con GDI</span><span class="sxs-lookup"><span data-stu-id="9ecd1-134">Drawing a line with GDI</span></span>](#drawing-a-line-with-gdi)
-   [<span data-ttu-id="9ecd1-135">Disegno di una linea con GDI+ e interfaccia della classe C++</span><span class="sxs-lookup"><span data-stu-id="9ecd1-135">Drawing a line with GDI+ and the C++ class interface</span></span>](#drawing-a-line-with-gdi-and-the-c-class-interface)

### <a name="drawing-a-line-with-gdi"></a><span data-ttu-id="9ecd1-136">Disegno di una linea con GDI</span><span class="sxs-lookup"><span data-stu-id="9ecd1-136">Drawing a line with GDI</span></span>

<span data-ttu-id="9ecd1-137">Per creare una linea con GDI, sono necessari due oggetti: un contesto di dispositivo e una penna.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-137">To draw a line with GDI, you need two objects: a device context and a pen.</span></span> <span data-ttu-id="9ecd1-138">Si ottiene un handle per un contesto di dispositivo chiamando [**BeginPaint**](/windows/win32/api/winuser/nf-winuser-beginpaint)e un handle a una penna chiamando [CreatePen](/windows/win32/api/wingdi/nf-wingdi-createpen).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-138">You get a handle to a device context by calling [**BeginPaint**](/windows/win32/api/winuser/nf-winuser-beginpaint), and a handle to a pen by calling [CreatePen](/windows/win32/api/wingdi/nf-wingdi-createpen).</span></span> <span data-ttu-id="9ecd1-139">Chiamare quindi [SelezionaOggetto](/windows/win32/api/wingdi/nf-wingdi-selectobject) per selezionare la penna nel contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-139">Next, you call [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) to select the pen into the device context.</span></span> <span data-ttu-id="9ecd1-140">Per impostare la posizione della penna su (20, 10), chiamare [MoveToEx](/windows/win32/api/wingdi/nf-wingdi-movetoex) , quindi creare una linea da tale posizione nella penna (200, 100) chiamando **LineTo**.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-140">You set the pen position to (20, 10) by calling [MoveToEx](/windows/win32/api/wingdi/nf-wingdi-movetoex) and then draw a line from that pen position to (200, 100) by calling **LineTo**.</span></span> <span data-ttu-id="9ecd1-141">Si noti che MoveToEx e [LineTo](/windows/win32/api/wingdi/nf-wingdi-lineto) entrambi ricevono **HDC** come argomento.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-141">Note that MoveToEx and [LineTo](/windows/win32/api/wingdi/nf-wingdi-lineto) both receive **hdc** as an argument.</span></span>


```
HDC          hdc;
PAINTSTRUCT  ps;
HPEN         hPen;
HPEN         hPenOld;
hdc = BeginPaint(hWnd, &ps);
   hPen = CreatePen(PS_SOLID, 3, RGB(255, 0, 0));
   hPenOld = (HPEN)SelectObject(hdc, hPen);
   MoveToEx(hdc, 20, 10, NULL);
   LineTo(hdc, 200, 100);
   SelectObject(hdc, hPenOld);
   DeleteObject(hPen);
EndPaint(hWnd, &ps);
```



### <a name="drawing-a-line-with-gdi-and-the-c-class-interface"></a><span data-ttu-id="9ecd1-142">Disegno di una linea con GDI+ e interfaccia della classe C++</span><span class="sxs-lookup"><span data-stu-id="9ecd1-142">Drawing a line with GDI+ and the C++ class interface</span></span>

<span data-ttu-id="9ecd1-143">Per creare una linea con GDI+ e l'interfaccia della classe C++, sono necessari un oggetto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) e un oggetto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-143">To draw a line with GDI+ and the C++ class interface, you need a [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object and a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object.</span></span> <span data-ttu-id="9ecd1-144">Si noti che gli handle di questi oggetti non vengono richiesti da Windows.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-144">Note that you don't ask Windows for handles to these objects.</span></span> <span data-ttu-id="9ecd1-145">Usare invece i costruttori per creare un'istanza della classe **grafica** (un oggetto **Graphics** ) e un'istanza della classe **Pen** (un oggetto **Pen** ).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-145">Instead, you use constructors to create an instance of the **Graphics** class (a **Graphics** object) and an instance of the **Pen** class (a **Pen** object).</span></span> <span data-ttu-id="9ecd1-146">Il disegno di una linea richiede la chiamata del metodo [**Graphics::D rawline**](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) della classe **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-146">Drawing a line involves calling the [**Graphics::DrawLine**](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the **Graphics** class.</span></span> <span data-ttu-id="9ecd1-147">Il primo parametro del metodo **Graphics::D rawline** è un puntatore all'oggetto **Pen** .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-147">The first parameter of the **Graphics::DrawLine** method is a pointer to your **Pen** object.</span></span> <span data-ttu-id="9ecd1-148">Si tratta di uno schema più semplice e flessibile rispetto alla selezione di una penna in un contesto di dispositivo, come illustrato nell'esempio GDI precedente.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-148">This is a simpler and more flexible scheme than selecting a pen into a device context as shown in the preceding GDI example.</span></span>


```
HDC          hdc;
PAINTSTRUCT  ps;
Pen*         myPen;
Graphics*    myGraphics;
hdc = BeginPaint(hWnd, &ps);
   myPen = new Pen(Color(255, 255, 0, 0), 3);
   myGraphics = new Graphics(hdc);
   myGraphics->DrawLine(myPen, 20, 10, 200, 100);
   delete myGraphics;
   delete myPen;
EndPaint(hWnd, &ps);
```



## <a name="pens-brushes-paths-images-and-fonts-as-parameters"></a><span data-ttu-id="9ecd1-149">Penne, pennelli, percorsi, immagini e tipi di carattere come parametri</span><span class="sxs-lookup"><span data-stu-id="9ecd1-149">Pens, Brushes, Paths, Images, and Fonts as Parameters</span></span>

<span data-ttu-id="9ecd1-150">Gli esempi precedenti mostrano che gli oggetti [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) possono essere creati e gestiti separatamente dall'oggetto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) , che fornisce i metodi di disegno.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-150">The preceding examples show that [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) objects can be created and maintained separately from the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object, which supplies the drawing methods.</span></span> <span data-ttu-id="9ecd1-151">Gli oggetti [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush), [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath), [**Image**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image)e [**font**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-font) possono anche essere creati e gestiti separatamente dall'oggetto **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-151">[**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush), [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath), [**Image**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image), and [**Font**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-font) objects can also be created and maintained separately from the **Graphics** object.</span></span> <span data-ttu-id="9ecd1-152">Molti dei metodi di disegno forniti dalla classe **Graphics** ricevono un oggetto **Brush**, **GraphicsPath**, **Image** o **font** come argomento.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-152">Many of the drawing methods provided by the **Graphics** class receive a **Brush**, **GraphicsPath**, **Image**, or **Font** object as an argument.</span></span> <span data-ttu-id="9ecd1-153">Ad esempio, l'indirizzo di un oggetto **Brush** viene passato come argomento al metodo [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) e l'indirizzo di un oggetto **GraphicsPath** viene passato come argomento al metodo [**Graphics::D rawpath**](/windows/win32/api/Gdiplusgraphics/nf-gdiplusgraphics-graphics-drawpath) .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-153">For example, the address of a **Brush** object is passed as an argument to the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) method, and the address of a **GraphicsPath** object is passed as an argument to the [**Graphics::DrawPath**](/windows/win32/api/Gdiplusgraphics/nf-gdiplusgraphics-graphics-drawpath) method.</span></span> <span data-ttu-id="9ecd1-154">Analogamente, gli indirizzi degli oggetti **Image** e **font** vengono passati ai metodi [DrawImage](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inconstpointf_)) e [DrawString](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawstring(constwchar_int_constfont_constpointf__constbrush)) .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-154">Similarly, addresses of **Image** and **Font** objects are passed to the [DrawImage](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inconstpointf_)) and [DrawString](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawstring(constwchar_int_constfont_constpointf__constbrush)) methods.</span></span> <span data-ttu-id="9ecd1-155">Questo si differenzia da GDI in cui si seleziona un pennello, un percorso, un'immagine o un tipo di carattere nel contesto di dispositivo, quindi si passa un handle al contesto di dispositivo come argomento a una funzione di disegno.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-155">This is in contrast to GDI where you select a brush, path, image, or font into the device context and then pass a handle to the device context as an argument to a drawing function.</span></span>

## <a name="method-overloading"></a><span data-ttu-id="9ecd1-156">Overload di metodi</span><span class="sxs-lookup"><span data-stu-id="9ecd1-156">Method Overloading</span></span>

<span data-ttu-id="9ecd1-157">Molti dei metodi GDI+ sono in overload. ovvero, diversi metodi condividono lo stesso nome ma hanno elenchi di parametri diversi.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-157">Many of the GDI+ methods are overloaded; that is, several methods share the same name but have different parameter lists.</span></span> <span data-ttu-id="9ecd1-158">Ad esempio, il metodo [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) della classe [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) è costituito dai formati seguenti:</span><span class="sxs-lookup"><span data-stu-id="9ecd1-158">For example, the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) class comes in the following forms:</span></span>


```
Status DrawLine(IN const Pen* pen,
                IN REAL x1,
                IN REAL y1,
                IN REAL x2,
                IN REAL y2);
Status DrawLine(IN const Pen* pen,
                IN const PointF& pt1,
                IN const PointF& pt2);
Status DrawLine(IN const Pen* pen,
                IN INT x1,
                IN INT y1,
                IN INT x2,
                IN INT y2);
    
Status DrawLine(IN const Pen* pen,
                IN const Point& pt1,
                IN const Point& pt2);
```



<span data-ttu-id="9ecd1-159">Tutte e quattro le varianti di [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) precedenti ricevono un puntatore a un oggetto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) , le coordinate del punto iniziale e le coordinate del punto finale.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-159">All four of the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) variations above receive a pointer to a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object, the coordinates of the starting point, and the coordinates of the ending point.</span></span> <span data-ttu-id="9ecd1-160">Le prime due varianti ricevono le coordinate come numeri a virgola mobile e le ultime due varianti ricevono le coordinate come numeri interi.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-160">The first two variations receive the coordinates as floating point numbers, and the last two variations receive the coordinates as integers.</span></span> <span data-ttu-id="9ecd1-161">La prima e la terza variante ricevono le coordinate come un elenco di quattro numeri distinti, mentre la seconda e la quarta variazione ricevono le coordinate come coppia di oggetti [**Point**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-point) (o [**PointF**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-pointf)).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-161">The first and third variations receive the coordinates as a list of four separate numbers, while the second and fourth variations receive the coordinates as a pair of [**Point**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-point) (or [**PointF**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-pointf)) objects.</span></span>

## <a name="no-more-current-position"></a><span data-ttu-id="9ecd1-162">Non sono più presenti posizioni correnti</span><span class="sxs-lookup"><span data-stu-id="9ecd1-162">No More Current Position</span></span>

<span data-ttu-id="9ecd1-163">Si noti che nei metodi [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) illustrati in precedenza il punto iniziale e il punto finale della linea vengono ricevuti come argomenti.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-163">Note that in the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) methods shown previously both the starting point and the ending point of the line are received as arguments.</span></span> <span data-ttu-id="9ecd1-164">Si tratta di una partenza dallo schema GDI in cui si **chiama MoveToEx** per impostare la posizione corrente della penna seguita da **LineTo** per creare una riga che inizia con (**X1**, **Y1**) e termina in corrispondenza di (**X2**, **Y2**).</span><span class="sxs-lookup"><span data-stu-id="9ecd1-164">This is a departure from the GDI scheme where you call **MoveToEx** to set the current pen position followed by **LineTo** in order to draw a line starting at (**x1**, **y1**) and ending at (**x2**, **y2**).</span></span> <span data-ttu-id="9ecd1-165">GDI+ nel suo complesso ha abbandonato la nozione di posizione corrente.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-165">GDI+ as a whole has abandoned the notion of current position.</span></span>

## <a name="separate-methods-for-draw-and-fill"></a><span data-ttu-id="9ecd1-166">Metodi distinti per l'estrazione e il riempimento</span><span class="sxs-lookup"><span data-stu-id="9ecd1-166">Separate Methods for Draw and Fill</span></span>

<span data-ttu-id="9ecd1-167">GDI+ è più flessibile di GDI quando si tratta di disegnare i profili e di riempire gli interni di forme come i rettangoli.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-167">GDI+ is more flexible than GDI when it comes to drawing the outlines and filling the interiors of shapes like rectangles.</span></span> <span data-ttu-id="9ecd1-168">GDI dispone di una funzione [Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) che disegna la struttura e riempie l'area interna di un rettangolo in un unico passaggio.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-168">GDI has a [Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) function that draws the outline and fills the interior of a rectangle all in one step.</span></span> <span data-ttu-id="9ecd1-169">Il contorno viene disegnato con la penna attualmente selezionata e la parte interna viene riempita con il pennello attualmente selezionato.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-169">The outline is drawn with the currently selected pen, and the interior is filled with the currently selected brush.</span></span>


```
hBrush = CreateHatchBrush(HS_CROSS, RGB(0, 0, 255));
hPen = CreatePen(PS_SOLID, 3, RGB(255, 0, 0));
SelectObject(hdc, hBrush);
SelectObject(hdc, hPen);
Rectangle(hdc, 100, 50, 200, 80);
```



<span data-ttu-id="9ecd1-170">GDI+ dispone di metodi distinti per disegnare la struttura e riempire l'area interna di un rettangolo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-170">GDI+ has separate methods for drawing the outline and filling the interior of a rectangle.</span></span> <span data-ttu-id="9ecd1-171">Il metodo [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) della classe [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) ha l'indirizzo di un oggetto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) come uno dei relativi parametri e il metodo [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) ha l'indirizzo di un oggetto [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush) come uno dei relativi parametri.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-171">The [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) method of the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) class has the address of a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object as one of its parameters, and the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) method has the address of a [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush) object as one of its parameters.</span></span>


```
HatchBrush* myHatchBrush = new HatchBrush(
   HatchStyleCross,
   Color(255, 0, 255, 0),
   Color(255, 0, 0, 255));
Pen* myPen = new Pen(Color(255, 255, 0, 0), 3);
myGraphics.FillRectangle(myHatchBrush, 100, 50, 100, 30);
myGraphics.DrawRectangle(myPen, 100, 50, 100, 30);
```



<span data-ttu-id="9ecd1-172">Si noti che i metodi [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) e [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) in GDI+ ricevono argomenti che specificano il bordo sinistro, superiore, larghezza e altezza del rettangolo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-172">Note that the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) and [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) methods in GDI+ receive arguments that specify the rectangle's left edge, top, width, and height.</span></span> <span data-ttu-id="9ecd1-173">Si differenzia dalla funzione[Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) GDI, che accetta argomenti che specificano il bordo sinistro, il bordo destro, l'inizio e la fine del rettangolo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-173">This is in contrast to the GDI[Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) function, which takes arguments that specify the rectangle's left edge, right edge, top, and bottom.</span></span> <span data-ttu-id="9ecd1-174">Si noti inoltre che il costruttore per la classe [**color**](/windows/win32/api/gdipluscolor/nl-gdipluscolor-color) in GDI+ dispone di quattro parametri.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-174">Also note that the constructor for the [**Color**](/windows/win32/api/gdipluscolor/nl-gdipluscolor-color) class in GDI+ has four parameters.</span></span> <span data-ttu-id="9ecd1-175">Gli ultimi tre parametri sono i normali valori rosso, verde e blu; il primo parametro è il valore alfa, che specifica la misura in cui il colore da disegnare viene mescolato con il colore di sfondo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-175">The last three parameters are the usual red, green, and blue values; the first parameter is the alpha value, which specifies the extent to which the color being drawn is blended with the background color.</span></span>

## <a name="constructing-regions"></a><span data-ttu-id="9ecd1-176">Creazione di aree</span><span class="sxs-lookup"><span data-stu-id="9ecd1-176">Constructing Regions</span></span>

<span data-ttu-id="9ecd1-177">GDI fornisce diverse funzioni per la creazione di aree: CreateRectRgn, CreateEllpticRgn, CreateRoundRectRgn, CreatePolygonRgn e CreatePolyPolygonRgn.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-177">GDI provides several functions for creating regions: CreateRectRgn, CreateEllpticRgn, CreateRoundRectRgn, CreatePolygonRgn, and CreatePolyPolygonRgn.</span></span> <span data-ttu-id="9ecd1-178">Ci si potrebbe aspettare che la classe [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) in GDI+ abbia costruttori analoghi che accettano rettangoli, ellissi, rettangoli arrotondati e poligoni come argomenti, ma questo non è il caso.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-178">You might expect the [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) class in GDI+ to have analogous constructors that take rectangles, ellipses, rounded rectangles, and polygons as arguments, but that is not the case.</span></span> <span data-ttu-id="9ecd1-179">La classe **Region** in GDI+ fornisce un costruttore che riceve un riferimento a un oggetto [**Rect**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-rect) e un altro costruttore che riceve l'indirizzo di un oggetto [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-179">The **Region** class in GDI+ provides a constructor that receives a [**Rect**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-rect) object reference and another constructor that receives the address of a [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) object.</span></span> <span data-ttu-id="9ecd1-180">Per costruire un'area in base a un'ellisse, a un rettangolo arrotondato o a un poligono, è possibile creare facilmente un oggetto **GraphicsPath** (che contiene un'ellisse, ad esempio) e quindi passare l'indirizzo dell'oggetto **GraphicsPath** a un costruttore di **area** .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-180">If you want to construct a region based on an ellipse, rounded rectangle, or polygon, you can easily do so by creating a **GraphicsPath** object (that contains an ellipse, for example) and then passing the address of that **GraphicsPath** object to a **Region** constructor.</span></span>

<span data-ttu-id="9ecd1-181">GDI+ consente di creare facilmente aree complesse combinando forme e percorsi.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-181">GDI+ makes it easy to form complex regions by combining shapes and paths.</span></span> <span data-ttu-id="9ecd1-182">La classe [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) dispone di metodi [Union](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-union(inconstrectf_)) e [Intersect](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-intersect(inconstgraphicspath)) che è possibile usare per aumentare un'area esistente con un percorso o un'altra area.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-182">The [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) class has [Union](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-union(inconstrectf_)) and [Intersect](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-intersect(inconstgraphicspath)) methods that you can use to augment an existing region with a path or another region.</span></span> <span data-ttu-id="9ecd1-183">Una funzionalità interessante dello schema GDI+ è che un oggetto [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) non viene eliminato definitivamente quando viene passato come argomento a un costruttore di **area** .</span><span class="sxs-lookup"><span data-stu-id="9ecd1-183">One nice feature of the GDI+ scheme is that a [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) object is not destroyed when it is passed as an argument to a **Region** constructor.</span></span> <span data-ttu-id="9ecd1-184">In GDI è possibile convertire un percorso in un'area con la funzione [PathToRegion](/windows/win32/api/wingdi/nf-wingdi-pathtoregion) , ma il percorso viene eliminato definitivamente nel processo.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-184">In GDI, you can convert a path to a region with the [PathToRegion](/windows/win32/api/wingdi/nf-wingdi-pathtoregion) function, but the path is destroyed in the process.</span></span> <span data-ttu-id="9ecd1-185">Inoltre, un oggetto **GraphicsPath** non viene eliminato definitivamente quando il relativo indirizzo viene passato come argomento a un metodo Union o Intersect, quindi è possibile utilizzare un percorso specificato come blocco predefinito per diverse aree separate.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-185">Also, a **GraphicsPath** object is not destroyed when its address is passed as an argument to a Union or Intersect method, so you can use a given path as a building block for several separate regions.</span></span> <span data-ttu-id="9ecd1-186">come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-186">This is shown in the following example.</span></span> <span data-ttu-id="9ecd1-187">Si supponga che **OnePath** sia un puntatore a un oggetto **GraphicsPath** (semplice o complesso) che è già stato inizializzato.</span><span class="sxs-lookup"><span data-stu-id="9ecd1-187">Assume that **onePath** is a pointer to a **GraphicsPath** object (simple or complex) that has already been initialized.</span></span>


```
Region  region1(rect1);
Region  region2(rect2);
region1.Union(onePath);
region2.Intersect(onePath);
```



 

 
