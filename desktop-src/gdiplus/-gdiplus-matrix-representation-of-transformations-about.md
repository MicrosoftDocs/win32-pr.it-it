---
description: Un m&\# 215; n matrice è un set di numeri disposti in m righe e n colonne. Nella figura seguente sono illustrate diverse matrici.
ms.assetid: 62215ae0-b095-42b2-911c-aa7607a8b61a
title: Rappresentazione tramite matrici delle trasformazioni
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0577cae38c401e842cff2ff14179594f9118dfd2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103751335"
---
# <a name="matrix-representation-of-transformations"></a><span data-ttu-id="ff7fe-104">Rappresentazione tramite matrici delle trasformazioni</span><span class="sxs-lookup"><span data-stu-id="ff7fe-104">Matrix Representation of Transformations</span></span>

<span data-ttu-id="ff7fe-105">Una matrice *m × n* è un set di numeri disposti in *m* righe e *n* colonne.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-105">An *m×n* matrix is a set of numbers arranged in *m* rows and *n* columns.</span></span> <span data-ttu-id="ff7fe-106">Nella figura seguente sono illustrate diverse matrici.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-106">The following illustration shows several matrices.</span></span>

![illustrazione che mostra sei matrici di dimensioni variabili](images/aboutgdip05-art04.png)

<span data-ttu-id="ff7fe-108">È possibile aggiungere due matrici con le stesse dimensioni aggiungendo singoli elementi.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-108">You can add two matrices of the same size by adding individual elements.</span></span> <span data-ttu-id="ff7fe-109">Nella figura seguente sono illustrati due esempi di aggiunta di matrici.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-109">The following illustration shows two examples of matrix addition.</span></span>

![illustrazione che Mostra come eseguire l'aggiunta di matrici](images/aboutgdip05-art05.png)

<span data-ttu-id="ff7fe-111">Una matrice *m × n* può essere moltiplicata per una matrice *n × p* e il risultato è una matrice *m × p* .</span><span class="sxs-lookup"><span data-stu-id="ff7fe-111">An *m×n* matrix can be multiplied by an *n×p* matrix, and the result is an *m×p* matrix.</span></span> <span data-ttu-id="ff7fe-112">Il numero di colonne nella prima matrice deve corrispondere al numero di righe della seconda matrice.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-112">The number of columns in the first matrix must be the same as the number of rows in the second matrix.</span></span> <span data-ttu-id="ff7fe-113">Ad esempio, una matrice di 4 × 2 può essere moltiplicata per una matrice 2 × 3 per produrre una matrice 4 × 3.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-113">For example, a 4 ×2 matrix can be multiplied by a 2 ×3 matrix to produce a 4 ×3 matrix.</span></span>

<span data-ttu-id="ff7fe-114">I punti del piano e delle righe e delle colonne di una matrice possono essere considerati vettori.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-114">Points in the plane and rows and columns of a matrix can be thought of as vectors.</span></span> <span data-ttu-id="ff7fe-115">Ad esempio, (2, 5) è un vettore con due componenti e (3, 7, 1) è un vettore con tre componenti.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-115">For example, (2, 5) is a vector with two components, and (3, 7, 1) is a vector with three components.</span></span> <span data-ttu-id="ff7fe-116">Il prodotto punto di due vettori viene definito come segue:</span><span class="sxs-lookup"><span data-stu-id="ff7fe-116">The dot product of two vectors is defined as follows:</span></span>

<span data-ttu-id="ff7fe-117">(a, b) • (c, d) = AC + BD</span><span class="sxs-lookup"><span data-stu-id="ff7fe-117">(a, b) • (c, d) = ac + bd</span></span>

<span data-ttu-id="ff7fe-118">(a, b, c) • (d, e, f) = ad + be + CF</span><span class="sxs-lookup"><span data-stu-id="ff7fe-118">(a, b, c) • (d, e, f) = ad + be + cf</span></span>

<span data-ttu-id="ff7fe-119">Ad esempio, il prodotto punto di (2, 3) e (5, 4) è (2) (5) + (3) (4) = 22.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-119">For example, the dot product of (2, 3) and (5, 4) is (2)(5) + (3)(4) = 22.</span></span> <span data-ttu-id="ff7fe-120">Il prodotto punto di (2, 5, 1) e (4, 3, 1) è (2) (4) + (5) (3) + (1) (1) = 24.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-120">The dot product of (2, 5, 1) and (4, 3, 1) is (2)(4) + (5)(3) + (1)(1) = 24.</span></span> <span data-ttu-id="ff7fe-121">Si noti che il prodotto punto di due vettori è un numero, non un altro vettore.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-121">Note that the dot product of two vectors is a number, not another vector.</span></span> <span data-ttu-id="ff7fe-122">Si noti anche che è possibile calcolare il prodotto punto solo se i due vettori hanno lo stesso numero di componenti.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-122">Also note that you can calculate the dot product only if the two vectors have the same number of components.</span></span>

<span data-ttu-id="ff7fe-123">Lasciare a (i, j) la voce della matrice a nella riga i **th** e **della colonna j** .</span><span class="sxs-lookup"><span data-stu-id="ff7fe-123">Let A(i, j) be the entry in matrix A in the i **th** row and the j **th** column.</span></span> <span data-ttu-id="ff7fe-124">Ad esempio A (3, 2) è la voce nella matrice a nella riga 3 **Rd** e la colonna 2 **ND** .</span><span class="sxs-lookup"><span data-stu-id="ff7fe-124">For example A(3, 2) is the entry in matrix A in the 3 **rd** row and the 2 **nd** column.</span></span> <span data-ttu-id="ff7fe-125">Si supponga che A, B e C siano matrici e AB = C. Le voci di C vengono calcolate come segue:</span><span class="sxs-lookup"><span data-stu-id="ff7fe-125">Suppose A, B, and C are matrices, and AB = C. The entries of C are calculated as follows:</span></span>

<span data-ttu-id="ff7fe-126">C (i, j) = (riga i di A) • (colonna j di B)</span><span class="sxs-lookup"><span data-stu-id="ff7fe-126">C(i, j) = (row i of A) • (column j of B)</span></span>

<span data-ttu-id="ff7fe-127">Nella figura seguente vengono illustrati alcuni esempi di moltiplicazione di matrici.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-127">The following illustration shows several examples of matrix multiplication.</span></span>

![illustrazione che illustra come eseguire la moltiplicazione di matrici](images/aboutgdip05-art06.png)

<span data-ttu-id="ff7fe-129">Se si pensa a un punto nel piano come una matrice da 1 × 2, è possibile trasformare tale punto moltiplicando il punto per una matrice 2 × 2.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-129">If you think of a point in the plane as a 1 × 2 matrix, you can transform that point by multiplying it by a 2 × 2 matrix.</span></span> <span data-ttu-id="ff7fe-130">Nella figura seguente sono illustrate diverse trasformazioni applicate al punto (2, 1).</span><span class="sxs-lookup"><span data-stu-id="ff7fe-130">The following illustration shows several transformations applied to the point (2, 1).</span></span>

![illustrazione che Mostra come usare la moltiplicazione di matrici per ridimensionare, ruotare o riflettere un punto in un piano](images/aboutgdip05-art07.png)

<span data-ttu-id="ff7fe-132">Tutte le trasformazioni mostrate nella figura precedente sono trasformazioni lineari.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-132">All the transformations shown in the previous figure are linear transformations.</span></span> <span data-ttu-id="ff7fe-133">Alcune altre trasformazioni, ad esempio la traduzione, non sono lineari e non possono essere espresse come moltiplicazione da una matrice 2 × 2.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-133">Certain other transformations, such as translation, are not linear, and cannot be expressed as multiplication by a 2 × 2 matrix.</span></span> <span data-ttu-id="ff7fe-134">Si supponga di voler iniziare con il punto (2, 1), ruotarlo 90 gradi, tradurlo 3 unità nella direzione x e tradurlo 4 unità nella direzione y.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-134">Suppose you want to start with the point (2, 1), rotate it 90 degrees, translate it 3 units in the x direction, and translate it 4 units in the y direction.</span></span> <span data-ttu-id="ff7fe-135">È possibile eseguire questa operazione eseguendo una moltiplicazione di matrici seguita da un'aggiunta della matrice.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-135">You can accomplish this by performing a matrix multiplication followed by a matrix addition.</span></span>

![illustrazione che Mostra come la moltiplicazione e l'addizione della matrice possono ruotare un punto e tradurlo due volte](images/aboutgdip05-art08.png)

<span data-ttu-id="ff7fe-137">Una trasformazione lineare (moltiplicazione per una matrice 2 × 2) seguita da una traduzione (aggiunta di una matrice 1 × 2) viene definita trasformazione affine.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-137">A linear transformation (multiplication by a 2 × 2 matrix) followed by a translation (addition of a 1 × 2 matrix) is called an affine transformation.</span></span> <span data-ttu-id="ff7fe-138">Un'alternativa all'archiviazione di una trasformazione affine in una coppia di matrici (una per la parte lineare e una per la traduzione) consiste nell'archiviare l'intera trasformazione in una matrice di 3 × 3.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-138">An alternative to storing an affine transformation in a pair of matrices (one for the linear part and one for the translation) is to store the entire transformation in a 3 × 3 matrix.</span></span> <span data-ttu-id="ff7fe-139">Per eseguire questa operazione, un punto nel piano deve essere archiviato in una matrice da 1 × 3 con una terza coordinata fittizia.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-139">To make this work, a point in the plane must be stored in a 1 × 3 matrix with a dummy 3rd coordinate.</span></span> <span data-ttu-id="ff7fe-140">La tecnica usuale consiste nel rendere tutte le 3 Coordinate uguali a 1.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-140">The usual technique is to make all 3rd coordinates equal to 1.</span></span> <span data-ttu-id="ff7fe-141">Il punto (2, 1), ad esempio, è rappresentato dalla matrice \[ 2 1 1 \] .</span><span class="sxs-lookup"><span data-stu-id="ff7fe-141">For example, the point (2, 1) is represented by the matrix \[2 1 1\].</span></span> <span data-ttu-id="ff7fe-142">Nella figura seguente viene illustrata una trasformazione affine (ruota 90 gradi; trasla 3 unità nella direzione x, 4 unità nella direzione y) espresse come moltiplicazione da una singola matrice 3 × 3.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-142">The following illustration shows an affine transformation (rotate 90 degrees; translate 3 units in the x direction, 4 units in the y direction) expressed as multiplication by a single 3 × 3 matrix.</span></span>

![illustrazione che Mostra come la moltiplicazione di matrici può eseguire una trasformazione affine](images/aboutgdip05-art09.png)

<span data-ttu-id="ff7fe-144">Nell'esempio precedente, il punto (2, 1) viene mappato al punto (2, 6).</span><span class="sxs-lookup"><span data-stu-id="ff7fe-144">In the previous example, the point (2, 1) is mapped to the point (2, 6).</span></span> <span data-ttu-id="ff7fe-145">Si noti che la terza colonna della matrice 3 × 3 contiene i numeri 0, 0, 1.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-145">Note that the third column of the 3 × 3 matrix contains the numbers 0, 0, 1.</span></span> <span data-ttu-id="ff7fe-146">Questo sarà sempre il caso della matrice 3 × 3 di una trasformazione affine.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-146">This will always be the case for the 3 × 3 matrix of an affine transformation.</span></span> <span data-ttu-id="ff7fe-147">I numeri importanti sono i sei numeri nelle colonne 1 e 2.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-147">The important numbers are the six numbers in columns 1 and 2.</span></span> <span data-ttu-id="ff7fe-148">La parte superiore sinistra 2 × 2 della matrice rappresenta la parte lineare della trasformazione e le prime due voci della terza riga rappresentano la traduzione.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-148">The upper-left 2 × 2 portion of the matrix represents the linear part of the transformation, and the first two entries in the 3rd row represent the translation.</span></span>

![illustrazione che mostra che le prime due colonne sono più significative per una matrice 3x3 di una trasformazione affine](images/aboutgdip05-art10.png)

<span data-ttu-id="ff7fe-150">In Windows GDI+ è possibile archiviare una trasformazione affine in un oggetto [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) .</span><span class="sxs-lookup"><span data-stu-id="ff7fe-150">In Windows GDI+ you can store an affine transformation in a [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span> <span data-ttu-id="ff7fe-151">Poiché la terza colonna di una matrice che rappresenta una trasformazione affine è sempre (0, 0, 1), si specificano solo i sei numeri nelle prime due colonne quando si costruisce un oggetto **Matrix** .</span><span class="sxs-lookup"><span data-stu-id="ff7fe-151">Because the third column of a matrix that represents an affine transformation is always (0, 0, 1), you specify only the six numbers in the first two columns when you construct a **Matrix** object.</span></span> <span data-ttu-id="ff7fe-152">L'istruzione `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` costruisce la matrice mostrata nella figura precedente.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-152">The statement `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` constructs the matrix shown in the previous figure.</span></span>

## <a name="composite-transformations"></a><span data-ttu-id="ff7fe-153">Trasformazioni composite</span><span class="sxs-lookup"><span data-stu-id="ff7fe-153">Composite Transformations</span></span>

<span data-ttu-id="ff7fe-154">Una trasformazione composita è una sequenza di trasformazioni, una seguita dall'altra.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-154">A composite transformation is a sequence of transformations, one followed by the other.</span></span> <span data-ttu-id="ff7fe-155">Prendere in considerazione le matrici e le trasformazioni nell'elenco seguente:</span><span class="sxs-lookup"><span data-stu-id="ff7fe-155">Consider the matrices and transformations in the following list:</span></span>

-   <span data-ttu-id="ff7fe-156">Matrice A ruota 90 gradi</span><span class="sxs-lookup"><span data-stu-id="ff7fe-156">Matrix A    Rotate 90 degrees</span></span>
-   <span data-ttu-id="ff7fe-157">Matrice B scala per fattore 2 nella direzione x</span><span class="sxs-lookup"><span data-stu-id="ff7fe-157">Matrix B    Scale by a factor of 2 in the x direction</span></span>
-   <span data-ttu-id="ff7fe-158">Matrice C trasla 3 unità nella direzione y</span><span class="sxs-lookup"><span data-stu-id="ff7fe-158">Matrix C    Translate 3 units in the y direction</span></span>

<span data-ttu-id="ff7fe-159">Se si inizia con il punto (2, 1), rappresentato dalla matrice \[ 2 1 1 \] , e si moltiplica per a, quindi B, quindi C, il punto (2, 1) subirà le tre trasformazioni nell'ordine indicato.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-159">If you start with the point (2, 1) — represented by the matrix \[2 1 1\] — and multiply by A, then B, then C, the point (2,1) will undergo the three transformations in the order listed.</span></span>

<span data-ttu-id="ff7fe-160">\[2 1 1 \] ABC = \[ -2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="ff7fe-160">\[2 1 1\]ABC = \[ –2 5 1\]</span></span>

<span data-ttu-id="ff7fe-161">Anziché archiviare le tre parti della trasformazione composita in tre matrici separate, è possibile moltiplicare a, B e C per ottenere una singola matrice da 3 × 3 che archivia l'intera trasformazione composita.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-161">Rather than store the three parts of the composite transformation in three separate matrices, you can multiply A, B, and C together to get a single 3 × 3 matrix that stores the entire composite transformation.</span></span> <span data-ttu-id="ff7fe-162">Si supponga ABC = D. Un punto moltiplicato per D restituisce lo stesso risultato di un punto moltiplicato per A, quindi B, quindi C.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-162">Suppose ABC = D. Then a point multiplied by D gives the same result as a point multiplied by A, then B, then C.</span></span>

<span data-ttu-id="ff7fe-163">\[2 1 1 \] D = \[ -2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="ff7fe-163">\[2 1 1\]D = \[ –2 5 1\]</span></span>

<span data-ttu-id="ff7fe-164">Nella figura seguente sono illustrate le matrici A, B, C e D.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-164">The following illustration shows the matrices A, B, C, and D.</span></span>

![illustrazione che illustra come eseguire più trasformazioni moltiplicando le matrici costitutive](images/aboutgdip05-art12.png)

<span data-ttu-id="ff7fe-166">Il fatto che la matrice di una trasformazione composita possa essere formata moltiplicando le singole matrici di trasformazione significa che qualsiasi sequenza di trasformazioni affini può essere archiviata in un singolo oggetto [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) .</span><span class="sxs-lookup"><span data-stu-id="ff7fe-166">The fact that the matrix of a composite transformation can be formed by multiplying the individual transformation matrices means that any sequence of affine transformations can be stored in a single [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span>

> [!Note]  
> <span data-ttu-id="ff7fe-167">L'ordine di una trasformazione composita è importante.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-167">The order of a composite transformation is important.</span></span> <span data-ttu-id="ff7fe-168">In generale, ruotare, quindi ridimensionare, quindi tradurre non corrisponde a scala, quindi ruotare e quindi traslare.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-168">In general, rotate, then scale, then translate is not the same as scale, then rotate, then translate.</span></span> <span data-ttu-id="ff7fe-169">Analogamente, l'ordine di moltiplicazione della matrice è importante.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-169">Similarly, the order of matrix multiplication is important.</span></span> <span data-ttu-id="ff7fe-170">In generale, ABC non corrisponde a BAC.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-170">In general, ABC is not the same as BAC.</span></span>

 

<span data-ttu-id="ff7fe-171">La classe [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) offre diversi metodi per la compilazione di una trasformazione composita: [**Matrix:: Multiply**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix:: Rotate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix:: RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix:: scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix:: Shear**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear)e [**Matrix:: translate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span><span class="sxs-lookup"><span data-stu-id="ff7fe-171">The [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) class provides several methods for building a composite transformation: [**Matrix::Multiply**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix::Rotate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix::RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix::Scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix::Shear**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear), and [**Matrix::Translate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span></span> <span data-ttu-id="ff7fe-172">Nell'esempio seguente viene creata la matrice di una trasformazione composita che ruota per prima 30 gradi, quindi viene ridimensionata in base a un fattore 2 nella direzione y, quindi vengono convertite 5 unità nella direzione x.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-172">The following example creates the matrix of a composite transformation that first rotates 30 degrees, then scales by a factor of 2 in the y direction, and then translates 5 units in the x direction.</span></span>


```
Matrix myMatrix;
myMatrix.Rotate(30.0f);
myMatrix.Scale(1.0f, 2.0f, MatrixOrderAppend);
myMatrix.Translate(5.0f, 0.0f, MatrixOrderAppend);
```



<span data-ttu-id="ff7fe-173">Nella figura seguente viene illustrata la matrice.</span><span class="sxs-lookup"><span data-stu-id="ff7fe-173">The following illustration shows the matrix.</span></span>

![illustrazione che mostra una matrice con valori espressi come funzioni trigonometriche e una matrice con valori approssimativi di tali funzioni](images/aboutgdip05-art13.png)

 

 



