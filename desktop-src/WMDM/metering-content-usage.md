---
title: Misurazione dell'utilizzo del contenuto
description: Misurazione dell'utilizzo del contenuto
ms.assetid: f87b5d95-a497-4356-817f-49ac3819df08
keywords:
- Windows Media Gestione dispositivi, utilizzo del contenuto di misurazione
- Gestione dispositivi, utilizzo del contenuto di misurazione
- Guida per programmatori, utilizzo del contenuto di misurazione
- applicazioni desktop, utilizzo del contenuto di misurazione
- creazione di applicazioni Windows Media Gestione dispositivi, utilizzo del contenuto di misurazione
- misurazione dell'utilizzo del contenuto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 649eee810e7bbdbc2ea93a32c6368ec345fa7364
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/09/2020
ms.locfileid: "106300621"
---
# <a name="metering-content-usage"></a><span data-ttu-id="90166-109">Misurazione dell'utilizzo del contenuto</span><span class="sxs-lookup"><span data-stu-id="90166-109">Metering Content Usage</span></span>

<span data-ttu-id="90166-110">Con la tecnologia Windows Media 10, è ora possibile misurare l'utilizzo del contenuto su un dispositivo portatile.</span><span class="sxs-lookup"><span data-stu-id="90166-110">With Windows Media 10 technology, you can now meter content usage on a portable device.</span></span> <span data-ttu-id="90166-111">Se una licenza Windows Media 10 consente la misurazione, il dispositivo può archiviare il numero di giochi per i brani e caricare di nuovo l'uso nell'autorità emittente della licenza tramite Internet.</span><span class="sxs-lookup"><span data-stu-id="90166-111">If a Windows Media 10 license allows metering, the device can store the play count for songs and upload usage back to the license issuer over the Internet.</span></span> <span data-ttu-id="90166-112">Questo sistema consente ai provider di contenuti di modificare i canoni di royalty, misurando accuratamente l'utilizzo del contenuto.</span><span class="sxs-lookup"><span data-stu-id="90166-112">This system enables content providers to adjust their royalty fees by accurately measuring content usage.</span></span>

<span data-ttu-id="90166-113">Per misurare il contenuto, l'applicazione deve disporre di un certificato di misurazione fornito da un servizio di gestione delle licenze basato su Windows Media Rights Manager 10 SDK.</span><span class="sxs-lookup"><span data-stu-id="90166-113">To meter content, the application must have a metering certificate provided by a licensing service built on the Windows Media Rights Manager 10 SDK.</span></span> <span data-ttu-id="90166-114">È possibile misurare solo i contenuti concessi in licenza da questo stesso servizio.</span><span class="sxs-lookup"><span data-stu-id="90166-114">Only content licensed by this same service can be metered.</span></span> <span data-ttu-id="90166-115">Per ulteriori informazioni sul funzionamento del controllo e su come creare un servizio di controllo delle licenze, vedere la [documentazione di Windows Media Rights Manager SDK](/previous-versions/ms986509(v=msdn.10)) su MSDN.</span><span class="sxs-lookup"><span data-stu-id="90166-115">For more information on how metering works, and how to build a license metering service, see the [Windows Media Rights Manager SDK documentation](/previous-versions/ms986509(v=msdn.10)) on MSDN.</span></span> <span data-ttu-id="90166-116">L'SDK può essere acquisito compilando le informazioni necessarie nella [pagina Windows Media Licensing](https://www.microsoft.com/licensing/default).</span><span class="sxs-lookup"><span data-stu-id="90166-116">The SDK can be acquired by filling out the necessary information on the [Windows Media Licensing Page](https://www.microsoft.com/licensing/default).</span></span>

<span data-ttu-id="90166-117">Un'applicazione può disporre di un controllo incorporato oppure è possibile creare un plug-in COM per un'applicazione esistente, ad esempio Windows Media Player, se l'applicazione accetta plug-in di misurazione.</span><span class="sxs-lookup"><span data-stu-id="90166-117">An application can have metering built in to it, or you can build a COM plug-in for an existing application, such as the Windows Media Player, if the application accepts metering plug-ins.</span></span>

<span data-ttu-id="90166-118">Un'applicazione deve avvertire gli utenti se l'utilizzo del contenuto verrà misurato.</span><span class="sxs-lookup"><span data-stu-id="90166-118">An application should warn users if content usage will be metered.</span></span> <span data-ttu-id="90166-119">Per ulteriori informazioni, vedere le pagine Web Microsoft elencate nell' [informativa sulla privacy](privacy-statement.md).</span><span class="sxs-lookup"><span data-stu-id="90166-119">For more information, see the Microsoft Web pages listed in the [Privacy Statement](privacy-statement.md).</span></span>

<span data-ttu-id="90166-120">L'acquisizione di dati di misurazione da un dispositivo può essere lenta.</span><span class="sxs-lookup"><span data-stu-id="90166-120">Acquiring metering data from a device can be slow.</span></span> <span data-ttu-id="90166-121">Di conseguenza, se l'uso di un contatore di applicazioni, questa operazione deve essere eseguita spesso per impedire l'accumulo di grandi quantità di dati nel dispositivo e il rallentamento del trasferimento dei dati.</span><span class="sxs-lookup"><span data-stu-id="90166-121">Therefore, if an application meters usage, it should do so frequently to prevent large amounts of data from accumulating on the device and slowing down the data transfer.</span></span> <span data-ttu-id="90166-122">Per evitare trasferimenti di dati troppo lenti, i produttori di dispositivi possono inviare subset di dati di misurazione disponibili.</span><span class="sxs-lookup"><span data-stu-id="90166-122">To prevent data transfers that would be too slow, device manufacturers can send subsets of available metering data.</span></span> <span data-ttu-id="90166-123">L'applicazione deve monitorare i flag recuperati da [**IWMDRMDeviceApp::P rocessmeterresponse**](iwmdrmdeviceapp-processmeterresponse.md) per verificare se sono presenti altri dati di misurazione nel dispositivo.</span><span class="sxs-lookup"><span data-stu-id="90166-123">The application should monitor the flags retrieved by [**IWMDRMDeviceApp::ProcessMeterResponse**](iwmdrmdeviceapp-processmeterresponse.md) to see if any more metering data remains on the device.</span></span>

<span data-ttu-id="90166-124">Nei passaggi seguenti viene illustrato come un'applicazione può misurare l'utilizzo del contenuto.</span><span class="sxs-lookup"><span data-stu-id="90166-124">The following steps show how an application can meter content usage.</span></span>

1.  <span data-ttu-id="90166-125">Poiché la misurazione è disponibile solo nei dispositivi che supportano Windows Media DRM 10 per i dispositivi portatili, l'applicazione dovrebbe a un certo punto chiamare **QueryDeviceStatus**, come descritto in [gestione del contenuto protetto nell'applicazione](handling-protected-content-in-the-application.md), per assicurarsi che il dispositivo sia valido e aggiornato.</span><span class="sxs-lookup"><span data-stu-id="90166-125">Because metering is only available on devices that support Windows Media DRM 10 for Portable Devices, your application should at some point call **QueryDeviceStatus**, as described in [Handling Protected Content in the Application](handling-protected-content-in-the-application.md), to ensure that the device is valid and up to date.</span></span>
2.  <span data-ttu-id="90166-126">Richiedere informazioni di misurazione dal dispositivo chiamando [**IWMDRMDeviceApp:: GenerateMeterChallenge**](iwmdrmdeviceapp-generatemeterchallenge.md).</span><span class="sxs-lookup"><span data-stu-id="90166-126">Request metering information from the device by calling [**IWMDRMDeviceApp::GenerateMeterChallenge**](iwmdrmdeviceapp-generatemeterchallenge.md).</span></span>
3.  <span data-ttu-id="90166-127">Inviare i dati di controllo recuperati al servizio di misurazione nell'URL recuperato da **GenerateMeterChallenge**.</span><span class="sxs-lookup"><span data-stu-id="90166-127">Send the retrieved metering data to the metering service at the URL retrieved by **GenerateMeterChallenge**.</span></span> <span data-ttu-id="90166-128">Il formato dei dati inviati al servizio dipende dallo scripting in quel particolare servizio.</span><span class="sxs-lookup"><span data-stu-id="90166-128">The format of data sent to the service depends on the scripting on that particular service.</span></span> <span data-ttu-id="90166-129">Ad esempio, alcuni servizi potrebbero richiedere che i dati vengano inviati come un comando POST come una coppia nome/valore.</span><span class="sxs-lookup"><span data-stu-id="90166-129">For example, some services might require the data sent as a POST command as a name/value pair.</span></span> <span data-ttu-id="90166-130">Il provider di servizi deve consentire di conoscerne i requisiti di formattazione specifici.</span><span class="sxs-lookup"><span data-stu-id="90166-130">The service provider should let you know their particular formatting requirements.</span></span>
4.  <span data-ttu-id="90166-131">Ottenere una risposta dal servizio di misurazione e inviarla al dispositivo chiamando [**IWMDRMDeviceApp::P rocessmeterresponse**](iwmdrmdeviceapp-processmeterresponse.md).</span><span class="sxs-lookup"><span data-stu-id="90166-131">Get a response from the metering service, and send it to the device by calling [**IWMDRMDeviceApp::ProcessMeterResponse**](iwmdrmdeviceapp-processmeterresponse.md).</span></span> <span data-ttu-id="90166-132">In questo modo, il dispositivo Reimposta i conteggi di riproduzione e restituisce anche un valore che indica se nel dispositivo sono presenti più dati di controllo che devono essere recuperati chiamando di nuovo **GenerateMeterChallenge** .</span><span class="sxs-lookup"><span data-stu-id="90166-132">This causes the device to reset play counts, and also returns a value indicating whether more metering data exists on the device that should be retrieved by calling **GenerateMeterChallenge** again.</span></span>

<span data-ttu-id="90166-133">Per informazioni complete e codice di esempio per la misurazione, vedere il [sito Web Windows Media](/previous-versions//bb614723(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="90166-133">For extensive information and sample code for metering, see the [Windows Media Web site](/previous-versions//bb614723(v=vs.85)).</span></span>

 

 