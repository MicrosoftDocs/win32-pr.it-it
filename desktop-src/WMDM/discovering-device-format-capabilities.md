---
title: Individuazione delle funzionalità del formato del dispositivo
description: Individuazione delle funzionalità del formato del dispositivo
ms.assetid: dd139816-dc8c-4e73-9a21-67287bfe6405
keywords:
- Windows Media Gestione dispositivi, funzionalità del dispositivo
- Gestione dispositivi, funzionalità del dispositivo
- Guida per programmatori, funzionalità del dispositivo
- applicazioni desktop, funzionalità del dispositivo
- creazione di applicazioni Windows Media Gestione dispositivi, funzionalità del dispositivo
- scrittura di file nei dispositivi, funzionalità del dispositivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c0ee05476f6b84bc85bb81cc7cff5815649f5842
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "106298044"
---
# <a name="discovering-device-format-capabilities"></a><span data-ttu-id="f6b38-109">Individuazione delle funzionalità del formato del dispositivo</span><span class="sxs-lookup"><span data-stu-id="f6b38-109">Discovering Device Format Capabilities</span></span>

<span data-ttu-id="f6b38-110">L'applicazione potrebbe provare a determinare le funzionalità di riproduzione di un dispositivo prima di inviare un file.</span><span class="sxs-lookup"><span data-stu-id="f6b38-110">Your application might try to determine a device's playback capabilities before sending a file to it.</span></span> <span data-ttu-id="f6b38-111">Se un dispositivo non è in grado di gestire il formato di un file che si vuole inviare, l'applicazione potrebbe provare a transcodificare il file in un formato che il dispositivo può usare oppure informare l'utente che il dispositivo non può supportare il file richiesto.</span><span class="sxs-lookup"><span data-stu-id="f6b38-111">If a device cannot handle the format of a file you want to send, your application might attempt to transcode the file into a format that the device can use, or notify the user that the device cannot support the requested file.</span></span>

<span data-ttu-id="f6b38-112">Si noti che alcuni dispositivi, ad esempio i dispositivi della classe di archiviazione di massa, possono fungere solo da supporti di archiviazione rimovibili senza funzionalità di riproduzione.</span><span class="sxs-lookup"><span data-stu-id="f6b38-112">Note that some devices, such as mass storage class devices, might serve only as removable storage media without playback capabilities.</span></span> <span data-ttu-id="f6b38-113">In questo caso, non sarebbe appropriato per l'applicazione eseguire la transcodifica di un file prima di inviarlo al dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f6b38-113">In this case, it would be inappropriate for your application to transcode a file before sending it to the device.</span></span>

<span data-ttu-id="f6b38-114">Sebbene il metodo [**IWMDMDevice:: GetType**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-gettype) consenta a un dispositivo di segnalare le proprie funzionalità, alcuni dispositivi restituiscono valori non corretti per questo metodo.</span><span class="sxs-lookup"><span data-stu-id="f6b38-114">Although the [**IWMDMDevice::GetType**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-gettype) method enables a device to report its capabilities, some devices return incorrect values for this method.</span></span> <span data-ttu-id="f6b38-115">Prima di copiare un file in un dispositivo, potrebbe essere necessario chiedere all'utente se la riproduzione è intenzionale e, in tal caso, provare a transcodificare il file in uno dei formati segnalati del dispositivo (o in un formato ragionevole se il dispositivo richiede il supporto per qualsiasi formato).</span><span class="sxs-lookup"><span data-stu-id="f6b38-115">Before copying a file to a device, you might want to ask the user whether playback is intended, and if so, attempt to transcode the file to one of the device's reported formats (or a reasonable format, if the device claims support for any format).</span></span> <span data-ttu-id="f6b38-116">Un altro approccio consiste nel presupporre che tutti i formati elencati in modo specifico come supportati dal dispositivo siano destinati alla riproduzione e che tutti gli altri file vengano trasferiti senza modifiche.</span><span class="sxs-lookup"><span data-stu-id="f6b38-116">Another approach is to assume that any formats specifically listed as supported by the device are intended for playback, and all other files should be transferred unmodified.</span></span>

<span data-ttu-id="f6b38-117">Dopo aver individuato il formato del file da trasferire e i formati supportati da un dispositivo, è possibile decidere quale sia il formato di destinazione migliore per la transcodifica.</span><span class="sxs-lookup"><span data-stu-id="f6b38-117">After discovering the format of the file to be transferred, and the formats supported by a device, you can decide which is the best target format for transcoding.</span></span>

<span data-ttu-id="f6b38-118">In passato era comune per un'applicazione restituire zero per una proprietà, in modo da indicare il supporto per tutti i valori della proprietà.</span><span class="sxs-lookup"><span data-stu-id="f6b38-118">In the past, it was common for an application to return zero for a property to indicate support for any values of that property.</span></span> <span data-ttu-id="f6b38-119">Ad esempio, un valore pari a zero per [**\_ WAVEFORMATEX**](-waveformatex.md). nSamplesPerSec indicherà il supporto per qualsiasi velocità in bit.</span><span class="sxs-lookup"><span data-stu-id="f6b38-119">For example, a value of zero for [**\_WAVEFORMATEX**](-waveformatex.md).nSamplesPerSec would indicate support for any bit rate.</span></span> <span data-ttu-id="f6b38-120">A questo punto, il metodo consigliato per indicare il supporto per qualsiasi valore consiste nel specificare WMDM \_ enum \_ prop \_ valid \_ Values \_ any in [**WMDM \_ prop \_ desc**](wmdm-prop-desc.md). ValidValuesForm.</span><span class="sxs-lookup"><span data-stu-id="f6b38-120">Now, the recommended way to indicate support for any value is to specify WMDM\_ENUM\_PROP\_VALID\_VALUES\_ANY in [**WMDM\_PROP\_DESC**](wmdm-prop-desc.md).ValidValuesForm.</span></span> <span data-ttu-id="f6b38-121">Alcune proprietà, tuttavia, possono restituire in modo legittimo zero per indicare un supporto specifico.</span><span class="sxs-lookup"><span data-stu-id="f6b38-121">Some properties, though, can legitimately return zero to indicate specific support.</span></span> <span data-ttu-id="f6b38-122">Ad esempio, se [**\_ BITMAPINFOHEADER**](-bitmapinfoheader.md). biSizeImage è impostato su zero, indica una \_ bitmap RGB bi.</span><span class="sxs-lookup"><span data-stu-id="f6b38-122">For example, if [**\_BITMAPINFOHEADER**](-bitmapinfoheader.md).biSizeImage is set to zero, this indicates a BI\_RGB bitmap.</span></span> <span data-ttu-id="f6b38-123">Le eccezioni per i valori zero sono indicate nella documentazione per le strutture pertinenti.</span><span class="sxs-lookup"><span data-stu-id="f6b38-123">Exceptions for zero values are noted in the documentation for the relevant structures.</span></span>

<span data-ttu-id="f6b38-124">Tuttavia, è importante notare che i dispositivi spesso non segnalano correttamente le proprie funzionalità di formato o in modo standard.</span><span class="sxs-lookup"><span data-stu-id="f6b38-124">However, it is important to note that devices often do not report their format capabilities properly, or in a standard way.</span></span> <span data-ttu-id="f6b38-125">Ad esempio, i dispositivi spesso segnalano che supportano qualsiasi formato, quando in realtà possono gestire solo formati specifici o frequenze di bit specifiche all'interno di un tipo di formato.</span><span class="sxs-lookup"><span data-stu-id="f6b38-125">For example, devices often report that they support any format, when in fact they can only handle specific formats, or specific bit rates within a format type.</span></span> <span data-ttu-id="f6b38-126">È necessario decidere se l'applicazione deve accettare tali report o se deve presupporre un certo tipo di limite superiore alle capacità di riproduzione di un dispositivo, ad esempio 192 kbps.</span><span class="sxs-lookup"><span data-stu-id="f6b38-126">It is up to you to decide whether your application should accept such reports, or whether it should assume some kind of upper limit to a device's playback abilities (for example, 192 kbps).</span></span>

<span data-ttu-id="f6b38-127">Il metodo consigliato per la richiesta del supporto del formato del dispositivo è [**IWMDMDevice3:: GetFormatCapability**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice3-getformatcapability).</span><span class="sxs-lookup"><span data-stu-id="f6b38-127">The recommended method for requesting a device's format support is [**IWMDMDevice3::GetFormatCapability**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice3-getformatcapability).</span></span> <span data-ttu-id="f6b38-128">Se questo metodo non è supportato, l'applicazione deve eseguire il fallback in [**IWMDMDevice:: GetFormatSupport**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-getformatsupport).</span><span class="sxs-lookup"><span data-stu-id="f6b38-128">If this method is not supported, your application should fall back on [**IWMDMDevice::GetFormatSupport**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-getformatsupport).</span></span> <span data-ttu-id="f6b38-129">**GetFormatSupport**, a differenza di **GetFormatSupport2**, non restituisce informazioni sul video.</span><span class="sxs-lookup"><span data-stu-id="f6b38-129">**GetFormatSupport**, unlike **GetFormatSupport2**, does not return video information.</span></span>

<span data-ttu-id="f6b38-130">Il modo in cui un'applicazione richiede le funzionalità di formato del dispositivo dipende dall'interfaccia supportata dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f6b38-130">How an application requests a device's format capabilities depends on which interface the application supports.</span></span> <span data-ttu-id="f6b38-131">Per informazioni dettagliate, vedere gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="f6b38-131">For more details, see the following topics:</span></span>

-   [<span data-ttu-id="f6b38-132">Ottenere le funzionalità di formato nei dispositivi che supportano IWMDMDevice3</span><span class="sxs-lookup"><span data-stu-id="f6b38-132">Getting Format Capabilities on Devices That Support IWMDMDevice3</span></span>](getting-format-capabilities-on-devices-that-support-iwmdmdevice3.md)
-   [<span data-ttu-id="f6b38-133">Ottenere le funzionalità di formato nei dispositivi che supportano solo IWMDMDevice</span><span class="sxs-lookup"><span data-stu-id="f6b38-133">Getting Format Capabilities on Devices That Support Only IWMDMDevice</span></span>](getting-format-capabilities-on-devices-that-support-only-iwmdmdevice.md)

## <a name="related-topics"></a><span data-ttu-id="f6b38-134">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="f6b38-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f6b38-135">**Scrittura di file nel dispositivo**</span><span class="sxs-lookup"><span data-stu-id="f6b38-135">**Writing Files to the Device**</span></span>](writing-files-to-the-device.md)
</dt> </dl>

 

 




