---
title: Pattern di controllo TextEdit
description: Introduce le linee guida e le convenzioni per l'implementazione di ITextEditProvider, incluse informazioni su proprietà e metodi.
ms.assetid: AA9E04AC-1AC0-6434-ADEF-9FF82ADA7CD9
keywords:
- Automazione interfaccia utente, implementazione del pattern di controllo TextEdit
- Automazione interfaccia utente, pattern di controllo TextEdit
- pattern di controllo, TextEdit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bdf8512db4f676a263bf46bdbdfea7b6b7eaba11
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104339094"
---
# <a name="textedit-control-pattern"></a><span data-ttu-id="a87f3-106">Pattern di controllo TextEdit</span><span class="sxs-lookup"><span data-stu-id="a87f3-106">TextEdit Control Pattern</span></span>

<span data-ttu-id="a87f3-107">Introduce le linee guida e le convenzioni per l'implementazione di [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), incluse informazioni su proprietà e metodi.</span><span class="sxs-lookup"><span data-stu-id="a87f3-107">Introduces guidelines and conventions for implementing [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), including information about properties and methods.</span></span> <span data-ttu-id="a87f3-108">Il pattern di controllo **TextEdit** viene usato per l'accesso a livello di codice a un controllo che modifica il testo, ad esempio un controllo che esegue la correzione automatica o Abilita la composizione di input.</span><span class="sxs-lookup"><span data-stu-id="a87f3-108">The **TextEdit** control pattern is used for programmatic access to a control that modifies text, for example a control that performs auto-correction or enables input composition.</span></span>

> [!Note]  
> <span data-ttu-id="a87f3-109">Le note di implementazione in questo argomento fanno riferimento alle API che provengono da Text Services Framework (TSF).</span><span class="sxs-lookup"><span data-stu-id="a87f3-109">Implementation notes in this topic refer to APIs that come from Text Services Framework (TSF).</span></span> <span data-ttu-id="a87f3-110">Per altre informazioni su TSF e sui riferimenti alle API, vedere [Text Services Framework](/windows/desktop/TSF/text-services-framework).</span><span class="sxs-lookup"><span data-stu-id="a87f3-110">For more info about TSF and the API reference, see [Text Services Framework](/windows/desktop/TSF/text-services-framework).</span></span>

 

## <a name="required-members-for-itexteditprovider"></a><span data-ttu-id="a87f3-111">Membri obbligatori per **ITextEditProvider**</span><span class="sxs-lookup"><span data-stu-id="a87f3-111">Required Members for **ITextEditProvider**</span></span>

<span data-ttu-id="a87f3-112">Queste proprietà e questi metodi sono necessari per implementare l'interfaccia [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) .</span><span class="sxs-lookup"><span data-stu-id="a87f3-112">These properties and methods are required for implementing the [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) interface.</span></span>



| <span data-ttu-id="a87f3-113">Membri obbligatori</span><span class="sxs-lookup"><span data-stu-id="a87f3-113">Required members</span></span>                                                              | <span data-ttu-id="a87f3-114">Tipo di membro</span><span class="sxs-lookup"><span data-stu-id="a87f3-114">Member type</span></span> | <span data-ttu-id="a87f3-115">Note</span><span class="sxs-lookup"><span data-stu-id="a87f3-115">Notes</span></span>                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------------------------------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="a87f3-116">**GetActiveComposition**</span><span class="sxs-lookup"><span data-stu-id="a87f3-116">**GetActiveComposition**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getactivecomposition) | <span data-ttu-id="a87f3-117">Metodo</span><span class="sxs-lookup"><span data-stu-id="a87f3-117">Method</span></span>      | <span data-ttu-id="a87f3-118">Restituisce l'intervallo della conversione corrente (nessuno se non esiste alcuna conversione).</span><span class="sxs-lookup"><span data-stu-id="a87f3-118">Returns the range of the current conversion (none if there is no conversion).</span></span> <span data-ttu-id="a87f3-119">Restituisce la composizione attiva (in TSF, questo è l'intervallo contrassegnato dalla **\_ \_ composizione della prop GUID**).</span><span class="sxs-lookup"><span data-stu-id="a87f3-119">Return the active composition (in TSF, this is the range marked by **GUID\_PROP\_COMPOSING**).</span></span> <span data-ttu-id="a87f3-120">Ad esempio, con Microsoft Japanese input Method Editor (IME), si tratta del testo sottolineato completo.</span><span class="sxs-lookup"><span data-stu-id="a87f3-120">For example with the Microsoft Japanese Input Method Editor (IME), this would be the full underlined text.</span></span> |
| [<span data-ttu-id="a87f3-121">**GetConversionTarget**</span><span class="sxs-lookup"><span data-stu-id="a87f3-121">**GetConversionTarget**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getconversiontarget)   | <span data-ttu-id="a87f3-122">Metodo</span><span class="sxs-lookup"><span data-stu-id="a87f3-122">Method</span></span>      | <span data-ttu-id="a87f3-123">Restituisce l'intervallo di destinazione della conversione corrente (nessuno se nessuna conversione).</span><span class="sxs-lookup"><span data-stu-id="a87f3-123">Returns the current conversion target range (none if no conversion).</span></span> <span data-ttu-id="a87f3-124">In TSF, questo è l'intervallo di caratteri contrassegnati come **tf \_ attr \_ target \_ NOTCONVERTED** o **tf \_ attr \_ target \_ convertito** dalla struttura **tf \_ DISPLAYATTRIBUTE** .</span><span class="sxs-lookup"><span data-stu-id="a87f3-124">In TSF, this is the range of characters marked as **TF\_ATTR\_TARGET\_NOTCONVERTED** or **TF\_ATTR\_TARGET\_CONVERTED** from the **TF\_DISPLAYATTRIBUTE** structure.</span></span>                                               |



 

<span data-ttu-id="a87f3-125">Gli eventi **TextEditTextChanged** e **ConversionTargetChanged** devono essere generati dagli elementi di automazione interfaccia utente Microsoft che supportano il modello **TextEdit** .</span><span class="sxs-lookup"><span data-stu-id="a87f3-125">The **TextEditTextChanged** and **ConversionTargetChanged** events are required to be raised by Microsoft UI Automation elements supporting the **TextEdit** pattern.</span></span>

### <a name="textedittextchanged"></a><span data-ttu-id="a87f3-126">**TextEditTextChanged**</span><span class="sxs-lookup"><span data-stu-id="a87f3-126">**TextEditTextChanged**</span></span>

-   <span data-ttu-id="a87f3-127">Utilizzare la funzione [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) per generare l'evento **TextEditTextChanged** .</span><span class="sxs-lookup"><span data-stu-id="a87f3-127">Use the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) function to raise the **TextEditTextChanged** event.</span></span>
-   <span data-ttu-id="a87f3-128">La tabella seguente elenca i casi in cui è necessario generare l'evento e i parametri [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) da usare.</span><span class="sxs-lookup"><span data-stu-id="a87f3-128">The following table lists the cases when you should raise the event and the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) parameters to use.</span></span>



| <span data-ttu-id="a87f3-129">TextEditChangeType</span><span class="sxs-lookup"><span data-stu-id="a87f3-129">TextEditChangeType</span></span>                                            | <span data-ttu-id="a87f3-130">Payload dell'evento</span><span class="sxs-lookup"><span data-stu-id="a87f3-130">Event Payload</span></span>                                | <span data-ttu-id="a87f3-131">Note</span><span class="sxs-lookup"><span data-stu-id="a87f3-131">Notes</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------------------------------------|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="a87f3-132">**Correzione automatica**</span><span class="sxs-lookup"><span data-stu-id="a87f3-132">**AutoCorrect**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="a87f3-133">Nuova stringa con correzione</span><span class="sxs-lookup"><span data-stu-id="a87f3-133">New corrected string</span></span>                         | <span data-ttu-id="a87f3-134">Generato quando viene apportata una correzione automatica dal controllo.</span><span class="sxs-lookup"><span data-stu-id="a87f3-134">Raised when an auto-correction is made by the control.</span></span> <span data-ttu-id="a87f3-135">O ogni volta che viene eseguita una sostituzione tramite TSF e l'intervallo ha un **GUID \_ prop \_ TKB \_ alternations** valore di **TKB \_ alterna la \_ correzione automatica \_ applicata**.</span><span class="sxs-lookup"><span data-stu-id="a87f3-135">Or whenever a replacement is made through TSF and the range has a **GUID\_PROP\_TKB\_ALTERNATES** value of **TKB\_ALTERNATES\_AUTOCORRECTION\_APPLIED**.</span></span><br/>                                                                                                                                                                   |
| [<span data-ttu-id="a87f3-136">**Composizione**</span><span class="sxs-lookup"><span data-stu-id="a87f3-136">**Composition**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="a87f3-137">Stringa aggiornata</span><span class="sxs-lookup"><span data-stu-id="a87f3-137">The updated string</span></span>                           | <span data-ttu-id="a87f3-138">Il payload deve includere solo i caratteri modificati (non inviare l'intera stringa di composizione).</span><span class="sxs-lookup"><span data-stu-id="a87f3-138">The payload must only include the characters that changed (do not send the entire composition string).</span></span> <span data-ttu-id="a87f3-139">Generato ogni volta che viene eseguita una sostituzione della composizione.</span><span class="sxs-lookup"><span data-stu-id="a87f3-139">Raised whenever a composition replacement is made.</span></span> <span data-ttu-id="a87f3-140">In TSF, una sostituzione di composizione viene definita come sostituzione con il flag di composizione **GUID \_ prop \_** impostato.</span><span class="sxs-lookup"><span data-stu-id="a87f3-140">In TSF, a composition replacement is defined as a replacement that has the **GUID\_PROP\_COMPOSING** flag set.</span></span> <span data-ttu-id="a87f3-141">I controlli di modifica che implementano TSF possono monitorare queste modifiche tramite la notifica **OnEndEdit** .</span><span class="sxs-lookup"><span data-stu-id="a87f3-141">Edit controls implementing TSF can monitor for these changes via the **OnEndEdit** notification.</span></span><br/>         |
| [<span data-ttu-id="a87f3-142">**CompositionFinalized**</span><span class="sxs-lookup"><span data-stu-id="a87f3-142">**CompositionFinalized**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype) | <span data-ttu-id="a87f3-143">Stringa di composizione finalizzata (vedere le note)</span><span class="sxs-lookup"><span data-stu-id="a87f3-143">The finalized composition string (see Notes)</span></span> | <span data-ttu-id="a87f3-144">In TSF la stringa di conversione da finalizzare è definita dal flag **di \_ \_ composizione del GUID** che viene rimosso da una composizione.</span><span class="sxs-lookup"><span data-stu-id="a87f3-144">In TSF, the conversion string being finalized is defined by the **GUID\_PROP\_COMPOSING** flag being removed from a composition.</span></span> <span data-ttu-id="a87f3-145">I controlli di modifica che implementano TSF devono determinare la stringa finalizzata da **EndComposition** e generare l'evento quando viene chiamato **OnEndEdit** .</span><span class="sxs-lookup"><span data-stu-id="a87f3-145">Edit controls implementing TSF should determine the finalized string from **EndComposition** and raise the event when **OnEndEdit** is called.</span></span><br/> <span data-ttu-id="a87f3-146">La stringa di composizione finalizzata può essere vuota se la composizione è stata annullata o eliminata.</span><span class="sxs-lookup"><span data-stu-id="a87f3-146">The finalized composition string may be empty if composition was cancelled or deleted.</span></span><br/> |



 

### <a name="conversiontargetchanged"></a><span data-ttu-id="a87f3-147">**ConversionTargetChanged**</span><span class="sxs-lookup"><span data-stu-id="a87f3-147">**ConversionTargetChanged**</span></span>

-   <span data-ttu-id="a87f3-148">**ConversionTargetChanged** si verifica quando la destinazione della conversione viene modificata da una destinazione a un'altra.</span><span class="sxs-lookup"><span data-stu-id="a87f3-148">**ConversionTargetChanged** occurs when conversion target changes from one target to another.</span></span>
-   <span data-ttu-id="a87f3-149">Usare la funzione [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) per generare l'evento **ConversionTargetChanged** (passare l'identificatore dell'evento [**ConversionTargetChangedEventId per UIA \_ TextEdit \_**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) ).</span><span class="sxs-lookup"><span data-stu-id="a87f3-149">Use the [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) function to raise the **ConversionTargetChanged** event (pass the [**UIA\_TextEdit\_ConversionTargetChangedEventId**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) event identifier).</span></span>
-   <span data-ttu-id="a87f3-150">**ConversionTargetChanged** non deve essere generato quando viene modificato il contenuto della destinazione.</span><span class="sxs-lookup"><span data-stu-id="a87f3-150">**ConversionTargetChanged** should not be raised when the content of the target changes.</span></span> <span data-ttu-id="a87f3-151">Se la modifica di destinazione si verifica simultaneamente con una modifica della composizione, l'evento di modifica di destinazione deve essere generato dopo che sono già stati generati eventi di composizione.</span><span class="sxs-lookup"><span data-stu-id="a87f3-151">If the target change occurs simultaneous with a composition change, the target change event must be raised after any composition events have already been raised.</span></span>
-   <span data-ttu-id="a87f3-152">In TSF la destinazione della conversione viene definita dal valore di **\_ destinazione TF \_ attr \_ convertito** da impostato dalla struttura **tf \_ DISPLAYATTRIBUTE** .</span><span class="sxs-lookup"><span data-stu-id="a87f3-152">In TSF, the conversion target is defined by the value **TF\_ATTR\_TARGET\_CONVERTED** being set from the **TF\_DISPLAYATTRIBUTE** structure.</span></span> <span data-ttu-id="a87f3-153">È possibile monitorare le modifiche utilizzando **OnEndEdit**.</span><span class="sxs-lookup"><span data-stu-id="a87f3-153">Changes can be monitored using **OnEndEdit**.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a87f3-154">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="a87f3-154">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="a87f3-155">**Informazioni concettuali**</span><span class="sxs-lookup"><span data-stu-id="a87f3-155">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="a87f3-156">Tipi di controllo e i pattern di controllo supportati</span><span class="sxs-lookup"><span data-stu-id="a87f3-156">Control Types and Their Supported Control Patterns</span></span>](uiauto-controlpatternmapping.md)
</dt> <dt>

[<span data-ttu-id="a87f3-157">Cenni preliminari sui pattern di controllo per l'automazione interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="a87f3-157">UI Automation Control Patterns Overview</span></span>](uiauto-controlpatternsoverview.md)
</dt> <dt>

[<span data-ttu-id="a87f3-158">Panoramica dell'albero di automazione dell'interfaccia utente</span><span class="sxs-lookup"><span data-stu-id="a87f3-158">UI Automation Tree Overview</span></span>](uiauto-treeoverview.md)
</dt> </dl>

 

