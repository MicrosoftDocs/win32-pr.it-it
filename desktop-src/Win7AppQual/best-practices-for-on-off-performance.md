---
description: .
ms.assetid: 872c2a33-327e-41a8-81db-905c46673f13
title: Procedure consigliate per le prestazioni on/off
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6fda45cb1ec7fb66b8afdcdebab7c92bdb071a79
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106318891"
---
# <a name="best-practices-for-onoff-performance"></a><span data-ttu-id="0ba3b-103">Procedure consigliate per le prestazioni on/off</span><span class="sxs-lookup"><span data-stu-id="0ba3b-103">Best Practices for On/Off Performance</span></span>

## <a name="platform"></a><span data-ttu-id="0ba3b-104">Piattaforma</span><span class="sxs-lookup"><span data-stu-id="0ba3b-104">Platform</span></span>

<span data-ttu-id="0ba3b-105">**Client-** Windows Vista \| Windows 7</span><span class="sxs-lookup"><span data-stu-id="0ba3b-105">**Clients -** Windows Vista \| Windows 7</span></span>  
<span data-ttu-id="0ba3b-106">**Server-** Windows Server 2008 \| Windows server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="0ba3b-106">**Servers -** Windows Server 2008 \| Windows Server 2008 R2</span></span>  

## <a name="description"></a><span data-ttu-id="0ba3b-107">Descrizione</span><span class="sxs-lookup"><span data-stu-id="0ba3b-107">Description</span></span>

<span data-ttu-id="0ba3b-108">Gli Stati di alimentazione del sistema (o gli Stati), come definito nella specifica di Advanced computer Power Interface (ACPI), sono comunemente chiamati stati on/off, perché la transizione dello stato S più comune è un computer che si sta attivando e disattivando.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-108">The system power states (or S-states), as defined in the Advanced Computer Power Interface (ACPI) specification, are colloquially called on/off states since the most common S-state transition is a computer turning on and off.</span></span> <span data-ttu-id="0ba3b-109">Le diverse transizioni di stato on/off in un sistema che esegue Windows Vista o Windows 7 sono avvio, sospensione (ACPI S3), ibernazione (ACPI S4) e Shutdown.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-109">The different on/off state transitions on a system running Windows Vista or Windows 7 are boot, sleep (ACPI S3), hibernate (ACPI S4), and shutdown.</span></span>

<span data-ttu-id="0ba3b-110">Le prestazioni ottimali durante queste transizioni on/off non solo migliorano la qualità percepita di un computer, ma influiscono notevolmente sui modelli di utilizzo del computer e sull'affidabilità del sistema.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-110">Good performance during these on/off transitions not only improves the perceived quality of a computer, but also greatly affects daily computer usage patterns and system reliability.</span></span> <span data-ttu-id="0ba3b-111">I clienti possono essere frustrati dai sistemi che imprendono troppo tempo per l'avvio o l'arresto.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-111">Customers can become frustrated by systems that take too long to boot or to shut down.</span></span> <span data-ttu-id="0ba3b-112">I sistemi mobili con lunghe transizioni di sospensione e ibernazione possono esaurire inutilmente la durata della batteria.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-112">Mobile systems that have lengthy sleep and hibernation transitions can unnecessarily deplete battery life.</span></span> <span data-ttu-id="0ba3b-113">Tempi di arresto più lunghi possono anche influire negativamente sull'affidabilità dei sistemi mobili.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-113">Longer shutdown times can also adversely affect the reliability of mobile systems.</span></span> <span data-ttu-id="0ba3b-114">Ad esempio, aumentano il rischio di tagli di energia imprevisti.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-114">For example, they increase the risk of unexpected power cut-offs.</span></span>

<span data-ttu-id="0ba3b-115">Le estensioni di sistema come driver, applicazioni e servizi possono avere un impatto significativo sui tempi di transizione on/off.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-115">System extensions like drivers, applications, and services can have a significant impact on on/off transition times.</span></span> <span data-ttu-id="0ba3b-116">In questa sezione vengono illustrate alcune delle procedure consigliate che gli sviluppatori di applicazioni e servizi possono seguire per evitare ritardi durante l'avvio, la standby e l'arresto e per garantire un'esperienza utente di post-avvio e post-ripresa reattiva.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-116">This section discusses some of the best practices that application and service developers can follow to avoid delays during boot, standby, and shutdown, and to ensure a responsive post-boot and post-resume user experience.</span></span> <span data-ttu-id="0ba3b-117">Per altri dettagli su come identificare i problemi di prestazioni in base all'uso di Windows Performance Toolkit e implementare le raccomandazioni seguenti per l'applicazione o il servizio, fare riferimento a white paper nella sezione "collegamenti ad altre risorse".</span><span class="sxs-lookup"><span data-stu-id="0ba3b-117">For more details on how to identify on/off performance issues using the Windows Performance Toolkit and implement the below recommendations for your application or service, please refer to the whitepapers in the 'Links to other Resources' section.</span></span>

## <a name="best-practices"></a><span data-ttu-id="0ba3b-118">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="0ba3b-118">Best Practices</span></span>

-   <span data-ttu-id="0ba3b-119">Usare Windows Performance Toolkit per misurare le prestazioni durante tutte le transizioni on/off.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-119">Use the Windows Performance Toolkit to measure performance during all on/off transitions.</span></span>
-   <span data-ttu-id="0ba3b-120">Eseguire i test in modo controllato e confrontare i risultati con una baseline valida:</span><span class="sxs-lookup"><span data-stu-id="0ba3b-120">Perform testing in a controlled way, and make comparisons against a valid baseline:</span></span>
    -   <span data-ttu-id="0ba3b-121">Ottenere una misurazione di base in un sistema con il minor numero possibile di estensioni di sistema</span><span class="sxs-lookup"><span data-stu-id="0ba3b-121">Obtain a baseline measurement on a system with as few system extensions as possible</span></span>
    -   <span data-ttu-id="0ba3b-122">Aggiungere applicazioni e servizi uno alla volta</span><span class="sxs-lookup"><span data-stu-id="0ba3b-122">Add applications and services one at a time</span></span>
    -   <span data-ttu-id="0ba3b-123">Verificare la presenza di regressioni inaccettabili in tempi di transizione on/off</span><span class="sxs-lookup"><span data-stu-id="0ba3b-123">Test for unacceptable regressions in on/off transition times</span></span>
-   <span data-ttu-id="0ba3b-124">Evitare di usare codice gestito per le applicazioni nel percorso di avvio critico.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-124">Avoid using managed code for applications on the critical boot path.</span></span>
-   <span data-ttu-id="0ba3b-125">Assicurarsi che tutte le applicazioni rispondano rapidamente alle notifiche di arresto ( \_ messaggi WM QUERYENDSESSION e WM \_ ENDSESSION).</span><span class="sxs-lookup"><span data-stu-id="0ba3b-125">Ensure that all applications respond quickly to shutdown notifications (WM\_QUERYENDSESSION and WM\_ENDSESSION messages).</span></span>
-   <span data-ttu-id="0ba3b-126">Ridurre i ritardi nel percorso di arresto dei servizi e delle applicazioni riducendo al minimo le attività di CPU, disco e rete in risposta alle notifiche di arresto.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-126">Reduce delays in the shutdown path of services and applications by minimizing CPU, disk, and network activity in response to shutdown notifications.</span></span>
-   <span data-ttu-id="0ba3b-127">Evitare ritardi nell'elaborazione della notifica di sospensione ( \_ messaggio WM POWERBROADCAST).</span><span class="sxs-lookup"><span data-stu-id="0ba3b-127">Avoid delays in processing the suspend notification (WM\_POWERBROADCAST message).</span></span>
-   <span data-ttu-id="0ba3b-128">Rispondere rapidamente per riprendere gli eventi e ridurre al minimo l'utilizzo della CPU, del disco e della rete dopo la riattivazione.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-128">Respond quickly to resume events and minimize post-resume CPU, disk, and network usage.</span></span>
-   <span data-ttu-id="0ba3b-129">Ridurre il consumo di risorse dell'applicazione dopo l'avvio.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-129">Reduce application resource consumption post-boot.</span></span>
-   <span data-ttu-id="0ba3b-130">Non avviare le applicazioni dalla chiave RunOnce a ogni avvio.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-130">Do not start applications from the RunOnce key on every boot.</span></span>
-   <span data-ttu-id="0ba3b-131">Per rendere disponibili le risorse di sistema durante l'avvio, convertire tutti i servizi non essenziali per avviare la richiesta o avviare il trigger.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-131">Convert all nonessential services to demand start or trigger start in order to make system resources available during boot.</span></span>
-   <span data-ttu-id="0ba3b-132">Evitare di utilizzare i gruppi di ordini di caricamento per esprimere le dipendenze del servizio.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-132">Avoid using load order groups to express service dependencies.</span></span>
-   <span data-ttu-id="0ba3b-133">Verificare che tutti i servizi in esecuzione segnalino questo stato il prima possibile durante l'avvio per evitare di bloccare Gestione controllo servizi (SCM).</span><span class="sxs-lookup"><span data-stu-id="0ba3b-133">Ensure that all running services report this status as soon as possible during boot to avoid blocking the Service Control Manager (SCM).</span></span>
-   <span data-ttu-id="0ba3b-134">Evitare di usare codice gestito per i servizi nel percorso di avvio.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-134">Avoid using managed code for services on the startup path.</span></span>
-   <span data-ttu-id="0ba3b-135">Non consentire ai servizi di acconsentire esplicitamente a ricevere notifiche di pre-arresto e arresto ( \_ PREspegnimento del controllo del servizio \_ e codici di controllo di arresto del controllo del servizio \_ ) a \_ meno che non sia assolutamente necessario.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-135">Do not allow services to opt in to receive pre-shutdown and shutdown notifications (SERVICE\_CONTROL\_PRESHUTDOWN and SERVICE\_CONTROL\_SHUTDOWN control codes) unless absolutely required.</span></span>
-   <span data-ttu-id="0ba3b-136">Assicurarsi che tutti i servizi che hanno scelto di ricevere le notifiche di chiusura rispondano rapidamente a SCM.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-136">Ensure that all services that have opted to receive shutdown notifications respond quickly to the SCM.</span></span>
-   <span data-ttu-id="0ba3b-137">Verificare che i servizi non optino per ricevere notifiche di sospensione, a meno che non sia assolutamente necessario.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-137">Verify that services do not opt in to receive suspend notifications unless absolutely required.</span></span>
-   <span data-ttu-id="0ba3b-138">Assicurarsi che tutti i servizi rispondano rapidamente per riprendere gli eventi e ridurre al minimo l'utilizzo della CPU, del disco e della rete dopo la riattivazione.</span><span class="sxs-lookup"><span data-stu-id="0ba3b-138">Ensure that all services respond quickly to resume events and minimize post-resume CPU, disk, and network usage.</span></span>

## <a name="links-to-other-resources"></a><span data-ttu-id="0ba3b-139">Collegamenti ad altre risorse</span><span class="sxs-lookup"><span data-stu-id="0ba3b-139">Links to Other Resources</span></span>

-   -   [<span data-ttu-id="0ba3b-140">Guida alle soluzioni per le transizioni on/off di Windows</span><span class="sxs-lookup"><span data-stu-id="0ba3b-140">Windows On/Off Transitions Solutions Guide</span></span>](/windows-hardware/test/assessments/onoff-transition-performance)
-   [<span data-ttu-id="0ba3b-141">Analisi delle prestazioni di transizione on/off di Windows Vista</span><span class="sxs-lookup"><span data-stu-id="0ba3b-141">On/Off Transition Performance Analysis of Windows Vista</span></span>](/windows-hardware/test/assessments/onoff-transition-performance)
-   [<span data-ttu-id="0ba3b-142">Analisi delle prestazioni di Windows</span><span class="sxs-lookup"><span data-stu-id="0ba3b-142">Windows Performance Analysis</span></span>](https://msdn.microsoft.com/performance/default.aspx)
-   [<span data-ttu-id="0ba3b-143">Documentazione di Windows Performance Toolkit su MSDN</span><span class="sxs-lookup"><span data-stu-id="0ba3b-143">Windows Performance Toolkit documentation on MSDN</span></span>](/previous-versions/windows/desktop/xperf/windows-performance-analyzer--wpa-)
-   [<span data-ttu-id="0ba3b-144">Forum di analisi delle prestazioni di Windows</span><span class="sxs-lookup"><span data-stu-id="0ba3b-144">Windows Performance Analysis forum</span></span>](https://social.msdn.microsoft.com/Forums/wptk_v4/threads/)
-   [<span data-ttu-id="0ba3b-145">Event Tracing for Windows su MSDN</span><span class="sxs-lookup"><span data-stu-id="0ba3b-145">Event Tracing for Windows on MSDN</span></span>](../etw/event-tracing-portal.md)

 

 
