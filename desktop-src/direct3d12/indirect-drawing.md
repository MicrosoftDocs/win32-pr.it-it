---
title: Disegno indiretto
description: Il disegno indiretto consente lo spostamento da parte della CPU alla GPU di alcuni attraversamenti della scena, che possono migliorare le prestazioni. Il buffer dei comandi può essere generato dalla CPU o dalla GPU.
ms.assetid: F8D6C88A-101E-4F66-999F-43206F6527B6
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7731a662bc6064e635d68942e6b0b222adf1eda8
ms.sourcegitcommit: 56f8e4d5119e5018363fa2dc3472cdff203c6913
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/19/2020
ms.locfileid: "104548793"
---
# <a name="indirect-drawing"></a><span data-ttu-id="2ef3e-104">Disegno indiretto</span><span class="sxs-lookup"><span data-stu-id="2ef3e-104">Indirect Drawing</span></span>

<span data-ttu-id="2ef3e-105">Il disegno indiretto consente lo spostamento da parte della CPU alla GPU di alcuni attraversamenti della scena, che possono migliorare le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-105">Indirect drawing enables some scene-traversal and culling to be moved from the CPU to the GPU, which can improve performance.</span></span> <span data-ttu-id="2ef3e-106">Il buffer dei comandi può essere generato dalla CPU o dalla GPU.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-106">The command buffer can be generated by the CPU or GPU.</span></span>

-   [<span data-ttu-id="2ef3e-107">Firme del comando</span><span class="sxs-lookup"><span data-stu-id="2ef3e-107">Command Signatures</span></span>](#command-signatures)
-   [<span data-ttu-id="2ef3e-108">Strutture di buffer di argomenti indiretti</span><span class="sxs-lookup"><span data-stu-id="2ef3e-108">Indirect Argument Buffer Structures</span></span>](#indirect-argument-buffer-structures)
-   [<span data-ttu-id="2ef3e-109">Creazione della firma del comando</span><span class="sxs-lookup"><span data-stu-id="2ef3e-109">Command Signature Creation</span></span>](#command-signature-creation)
    -   [<span data-ttu-id="2ef3e-110">Nessun argomento modificato</span><span class="sxs-lookup"><span data-stu-id="2ef3e-110">No Argument Changes</span></span>](#no-argument-changes)
    -   [<span data-ttu-id="2ef3e-111">Costanti radice e buffer dei vertici</span><span class="sxs-lookup"><span data-stu-id="2ef3e-111">Root Constants and Vertex Buffers</span></span>](#root-constants-and-vertex-buffers)
-   [<span data-ttu-id="2ef3e-112">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="2ef3e-112">Related topics</span></span>](#related-topics)

## <a name="command-signatures"></a><span data-ttu-id="2ef3e-113">Firme del comando</span><span class="sxs-lookup"><span data-stu-id="2ef3e-113">Command Signatures</span></span>

<span data-ttu-id="2ef3e-114">L'oggetto della firma del comando ([**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature)) consente alle app di specificare il disegno indiretto, in particolare impostando quanto segue:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-114">The command signature object ([**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature)) enables apps to specify indirect drawing, in particular setting the following:</span></span>

-   <span data-ttu-id="2ef3e-115">Formato del buffer dell'argomento indiretto.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-115">The indirect argument buffer format.</span></span>
-   <span data-ttu-id="2ef3e-116">Tipo di comando che verrà usato (dai metodi [**ID3D12GraphicsCommandList**](/windows/desktop/api/d3d12/nn-d3d12-id3d12graphicscommandlist) [**DrawInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawinstanced), [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced)o [**Dispatch**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-dispatch)).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-116">The command type that will be used (from the [**ID3D12GraphicsCommandList**](/windows/desktop/api/d3d12/nn-d3d12-id3d12graphicscommandlist) methods [**DrawInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawinstanced), [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced), or [**Dispatch**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-dispatch)).</span></span>
-   <span data-ttu-id="2ef3e-117">Il set di associazioni di risorse che cambieranno la chiamata per ogni comando rispetto al set che verrà ereditato.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-117">The set of resource bindings which will change per-command call versus the set which will be inherited.</span></span>

<span data-ttu-id="2ef3e-118">All'avvio, un'app crea un piccolo set di **firme dei comandi**.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-118">At startup, an app creates a small set of **command signatures**.</span></span> <span data-ttu-id="2ef3e-119">In fase di esecuzione, l'applicazione riempie un buffer con i comandi (tramite qualsiasi altro strumento scelto dallo sviluppatore di app).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-119">At runtime, the application fills a buffer with commands (via whatever means the app developer chooses).</span></span> <span data-ttu-id="2ef3e-120">I comandi contengono facoltativamente lo stato da impostare per le visualizzazioni dei buffer di vertici, le visualizzazioni dei buffer di indice, le costanti radice e i descrittori radice (non elaborato o strutturato SRV/UAV/CBVs).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-120">The commands optionally containing state to set for vertex buffer views, index buffer views, root constants and root descriptors (raw or structured SRV/UAV/CBVs).</span></span> <span data-ttu-id="2ef3e-121">Questi layout degli argomenti non sono specifici dell'hardware, quindi le app possono generare direttamente i buffer.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-121">These argument layouts are not hardware specific so apps can generate the buffers directly.</span></span> <span data-ttu-id="2ef3e-122">La firma del comando eredita lo stato rimanente dall'elenco dei comandi.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-122">The command signature inherits the remaining state from the command list.</span></span> <span data-ttu-id="2ef3e-123">L'app chiama quindi [**ExecuteIndirect**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executeindirect) per indicare alla GPU di interpretare il contenuto del buffer di argomenti indiretto in base al formato definito da una particolare firma del comando.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-123">Then the app calls [**ExecuteIndirect**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-executeindirect) to instruct the GPU to interpret the contents of the indirect argument buffer according to the format defined by a particular command signature.</span></span>

<span data-ttu-id="2ef3e-124">Se la firma del comando modifica qualsiasi argomento radice, viene archiviato nella firma del comando come subset di una firma radice.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-124">If the command signature changes any root arguments, this is stored within the command signature as a subset of a root signature.</span></span>

<span data-ttu-id="2ef3e-125">Si noti che nessuno stato della firma del comando perde l'elenco dei comandi al termine dell'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-125">Note that no command signature state leaks back to the command list when the execution is complete.</span></span>

<span data-ttu-id="2ef3e-126">Si supponga, ad esempio, che uno sviluppatore di app voglia specificare una costante radice univoca per la chiamata per ogni progetto nel buffer degli argomenti indiretti.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-126">For example, suppose an app developer wants a unique root constant to be specified per-draw call in the indirect argument buffer.</span></span> <span data-ttu-id="2ef3e-127">L'app crea una firma del comando che consente al buffer di argomenti indiretto di specificare i seguenti parametri per chiamata di traccia:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-127">The app would create a command signature that enables the indirect argument buffer to specify the following parameters per draw call:</span></span>

-   <span data-ttu-id="2ef3e-128">Valore di una costante radice.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-128">The value of one root constant.</span></span>
-   <span data-ttu-id="2ef3e-129">Argomenti di estrazione (conteggio vertici, numero di istanze e così via).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-129">The draw arguments (vertex count, instance count, etc).</span></span>

<span data-ttu-id="2ef3e-130">Il buffer di argomento indiretto generato dall'applicazione conterrà una matrice di record di dimensioni fisse.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-130">The indirect argument buffer generated by the application would contain an array of fixed-size records.</span></span> <span data-ttu-id="2ef3e-131">Ogni struttura corrisponde a una chiamata di progetto.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-131">Each structure corresponds to one draw call.</span></span> <span data-ttu-id="2ef3e-132">Ogni struttura contiene gli argomenti del disegno e il valore della costante radice.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-132">Each structure contains the drawing arguments, and the value of the root constant.</span></span> <span data-ttu-id="2ef3e-133">Il numero di chiamate di progetto viene specificato in un buffer visibile GPU separato.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-133">The number of draw calls is specified in a separate GPU-visible buffer.</span></span>

<span data-ttu-id="2ef3e-134">Di seguito è riportato un esempio di buffer dei comandi generato dall'app:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-134">An example command buffer generated by the app follows:</span></span>

![formato del buffer dei comandi](images/indirect-drawing-command-buffer.png)

## <a name="indirect-argument-buffer-structures"></a><span data-ttu-id="2ef3e-136">Strutture di buffer di argomenti indiretti</span><span class="sxs-lookup"><span data-stu-id="2ef3e-136">Indirect Argument Buffer Structures</span></span>

<span data-ttu-id="2ef3e-137">Le strutture seguenti definiscono la modalità di visualizzazione di argomenti specifici in un buffer di argomento indiretto.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-137">The following structures define how particular arguments appear in an indirect argument buffer.</span></span> <span data-ttu-id="2ef3e-138">Queste strutture non vengono visualizzate in alcuna API D3D12.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-138">These structures do not appear in any D3D12 API.</span></span> <span data-ttu-id="2ef3e-139">Le applicazioni usano queste definizioni durante la scrittura in un buffer di argomenti indiretto (con CPU o GPU):</span><span class="sxs-lookup"><span data-stu-id="2ef3e-139">Applications use these definitions when writing to an indirect argument buffer (with the CPU or GPU):</span></span>

-   [<span data-ttu-id="2ef3e-140">**Argomenti di D3D12 \_ \_**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-140">**D3D12\_DRAW\_ARGUMENTS**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_draw_arguments)
-   [<span data-ttu-id="2ef3e-141">**D3D12 \_ creare \_ argomenti indicizzati \_**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-141">**D3D12\_DRAW\_INDEXED\_ARGUMENTS**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_draw_indexed_arguments)
-   [<span data-ttu-id="2ef3e-142">**\_Argomenti dispatch \_ D3D12**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-142">**D3D12\_DISPATCH\_ARGUMENTS**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_dispatch_arguments)
-   [<span data-ttu-id="2ef3e-143">**\_ \_ Visualizzazione buffer vertex \_ D3D12**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-143">**D3D12\_VERTEX\_BUFFER\_VIEW**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_vertex_buffer_view)
-   [<span data-ttu-id="2ef3e-144">**\_ \_ Visualizzazione buffer dell'indice D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-144">**D3D12\_INDEX\_BUFFER\_VIEW**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_index_buffer_view)
-   <span data-ttu-id="2ef3e-145">\_ \_ Indirizzo virtuale della GPU D3D12 \_ (sinonimo di UInt64).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-145">D3D12\_GPU\_VIRTUAL\_ADDRESS (a typedef'd synonym of UINT64).</span></span>
-   [<span data-ttu-id="2ef3e-146">**\_ \_ Visualizzazione buffer costante \_ D3D12**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-146">**D3D12\_CONSTANT\_BUFFER\_VIEW**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_constant_buffer_view_desc)

## <a name="command-signature-creation"></a><span data-ttu-id="2ef3e-147">Creazione della firma del comando</span><span class="sxs-lookup"><span data-stu-id="2ef3e-147">Command Signature Creation</span></span>

<span data-ttu-id="2ef3e-148">Per creare una firma del comando, usare gli elementi API seguenti:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-148">To create a command signature, use the following API items:</span></span>

-   <span data-ttu-id="2ef3e-149">[**ID3D12Device:: CreateCommandSignature**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandsignature) (restituisce un [**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature))</span><span class="sxs-lookup"><span data-stu-id="2ef3e-149">[**ID3D12Device::CreateCommandSignature**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandsignature) (outputs an [**ID3D12CommandSignature**](/windows/win32/api/d3d12/nn-d3d12-id3d12commandsignature))</span></span>
-   [<span data-ttu-id="2ef3e-150">**\_Tipo di \_ argomento INdiretto D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-150">**D3D12\_INDIRECT\_ARGUMENT\_TYPE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_indirect_argument_type)
-   [<span data-ttu-id="2ef3e-151">**\_Desc D3D12 \_ argomento indiretto \_**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-151">**D3D12\_INDIRECT\_ARGUMENT\_DESC**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_indirect_argument_desc)
-   [<span data-ttu-id="2ef3e-152">**\_Descrizione della \_ firma del comando D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="2ef3e-152">**D3D12\_COMMAND\_SIGNATURE\_DESC**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_command_signature_desc)

<span data-ttu-id="2ef3e-153">L'ordinamento degli argomenti all'interno di un buffer di argomento indiretto viene definito in modo da corrispondere esattamente all'ordine degli argomenti specificato nel parametro *pArguments* della [**firma del \_ comando D3D12 \_ \_ desc**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_command_signature_desc).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-153">The ordering of arguments within an indirect argument buffer is defined to exactly match the order of arguments specified in the *pArguments* parameter of [**D3D12\_COMMAND\_SIGNATURE\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_command_signature_desc).</span></span> <span data-ttu-id="2ef3e-154">Tutti gli argomenti per una chiamata/dispatch (Compute) di un grafico (calcolo) all'interno di un buffer di argomento indiretto sono strettamente compressi.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-154">All of the arguments for one draw (graphics)/dispatch (compute) call within an indirect argument buffer are tightly packed.</span></span> <span data-ttu-id="2ef3e-155">Tuttavia, le applicazioni possono specificare uno stride di byte arbitrario tra i comandi di estrazione/invio in un buffer di argomento indiretto.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-155">However, applications are allowed to specify an arbitrary byte stride between draw/dispatch commands in an indirect argument buffer.</span></span>

<span data-ttu-id="2ef3e-156">La firma radice deve essere specificata solo se la firma del comando modifica uno degli argomenti radice.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-156">The root signature must be specified if and only if the command signature changes one of the root arguments.</span></span>

<span data-ttu-id="2ef3e-157">Per la radice SRV/UAV/CBV, le dimensioni specificate per l'applicazione sono in byte.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-157">For root SRV/UAV/CBV, the application specified size is in bytes.</span></span> <span data-ttu-id="2ef3e-158">Il livello di debug convaliderà le restrizioni seguenti per l'indirizzo:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-158">The debug layer will validate the following restrictions on the address:</span></span>

-   <span data-ttu-id="2ef3e-159">CBV: l'indirizzo deve essere un multiplo di 256 byte.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-159">CBV – address must be a multiple of 256 bytes.</span></span>
-   <span data-ttu-id="2ef3e-160">SRV/UAV non elaborato: l'indirizzo deve essere un multiplo di 4 byte.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-160">Raw SRV/UAV – address must be a multiple of 4 bytes.</span></span>
-   <span data-ttu-id="2ef3e-161">SRV/UAV strutturato: l'indirizzo deve essere un multiplo dello stride di byte della struttura (dichiarato nello shader).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-161">Structured SRV/UAV – address must be a multiple of the structure byte stride (declared in the shader).</span></span>

<span data-ttu-id="2ef3e-162">Una firma del comando specificata è una firma del comando di calcolo o di traccia.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-162">A given command signature is either a draw or a compute command signature.</span></span> <span data-ttu-id="2ef3e-163">Se una firma del comando contiene un'operazione di disegno, si tratta di una firma del comando grafica.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-163">If a command signature contains a drawing operation, then it is a graphics command signature.</span></span> <span data-ttu-id="2ef3e-164">In caso contrario, la firma del comando deve contenere un'operazione di invio ed è una firma del comando COMPUTE.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-164">Otherwise, the command signature must contain a dispatch operation, and it is a compute command signature.</span></span>

<span data-ttu-id="2ef3e-165">Le sezioni seguenti illustrano alcune firme dei comandi di esempio.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-165">The following sections show some example command signatures.</span></span>

### <a name="no-argument-changes"></a><span data-ttu-id="2ef3e-166">Nessun argomento modificato</span><span class="sxs-lookup"><span data-stu-id="2ef3e-166">No Argument Changes</span></span>

<span data-ttu-id="2ef3e-167">In questo esempio, il buffer di argomenti indiretto generato dall'applicazione include una matrice di strutture a 36 byte.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-167">In this example, the indirect argument buffer generated by the application holds an array of 36-byte structures.</span></span> <span data-ttu-id="2ef3e-168">Ogni struttura contiene solo i cinque parametri passati a [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced) (più la spaziatura interna).</span><span class="sxs-lookup"><span data-stu-id="2ef3e-168">Each structure only contains the five parameters passed to [**DrawIndexedInstanced**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-drawindexedinstanced) (plus padding).</span></span>

<span data-ttu-id="2ef3e-169">Di seguito è riportato il codice per creare la descrizione della firma del comando:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-169">The code to create the command signature description follows:</span></span>

``` syntax
D3D12_INDIRECT_ARGUMENT_DESC Args[1];
Args[0].Type = D3D12_INDIRECT_ARGUMENT_TYPE_DRAW_INDEXED;

D3D12_COMMAND_SIGNATURE_DESC ProgramDesc;
ProgramDesc.ByteStride = 36;
ProgramDesc.NumArgumentDescs = 1;
ProgramDesc.pArguments = Args;
```

<span data-ttu-id="2ef3e-170">Il layout di una singola struttura all'interno di un buffer di argomento indiretto è:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-170">The layout of a single structure within an indirect argument buffer is:</span></span>



| <span data-ttu-id="2ef3e-171">Byte</span><span class="sxs-lookup"><span data-stu-id="2ef3e-171">Bytes</span></span> | <span data-ttu-id="2ef3e-172">Descrizione</span><span class="sxs-lookup"><span data-stu-id="2ef3e-172">Description</span></span>           |
|-------|-----------------------|
| <span data-ttu-id="2ef3e-173">0:3</span><span class="sxs-lookup"><span data-stu-id="2ef3e-173">0:3</span></span>   | <span data-ttu-id="2ef3e-174">IndexCountPerInstance</span><span class="sxs-lookup"><span data-stu-id="2ef3e-174">IndexCountPerInstance</span></span> |
| <span data-ttu-id="2ef3e-175">4:7</span><span class="sxs-lookup"><span data-stu-id="2ef3e-175">4:7</span></span>   | <span data-ttu-id="2ef3e-176">InstanceCount</span><span class="sxs-lookup"><span data-stu-id="2ef3e-176">InstanceCount</span></span>         |
| <span data-ttu-id="2ef3e-177">8:11</span><span class="sxs-lookup"><span data-stu-id="2ef3e-177">8:11</span></span>  | <span data-ttu-id="2ef3e-178">StartIndexLocation</span><span class="sxs-lookup"><span data-stu-id="2ef3e-178">StartIndexLocation</span></span>    |
| <span data-ttu-id="2ef3e-179">12:15</span><span class="sxs-lookup"><span data-stu-id="2ef3e-179">12:15</span></span> | <span data-ttu-id="2ef3e-180">BaseVertexLocation</span><span class="sxs-lookup"><span data-stu-id="2ef3e-180">BaseVertexLocation</span></span>    |
| <span data-ttu-id="2ef3e-181">16:19</span><span class="sxs-lookup"><span data-stu-id="2ef3e-181">16:19</span></span> | <span data-ttu-id="2ef3e-182">StartInstanceLocation</span><span class="sxs-lookup"><span data-stu-id="2ef3e-182">StartInstanceLocation</span></span> |
| <span data-ttu-id="2ef3e-183">20:35</span><span class="sxs-lookup"><span data-stu-id="2ef3e-183">20:35</span></span> | <span data-ttu-id="2ef3e-184">Riempimento</span><span class="sxs-lookup"><span data-stu-id="2ef3e-184">Padding</span></span>               |



 

### <a name="root-constants-and-vertex-buffers"></a><span data-ttu-id="2ef3e-185">Costanti radice e buffer dei vertici</span><span class="sxs-lookup"><span data-stu-id="2ef3e-185">Root Constants and Vertex Buffers</span></span>

<span data-ttu-id="2ef3e-186">In questo esempio, ogni struttura in un buffer di argomento indiretto modifica due costanti radice, modifica un'associazione di buffer di Vertex ed esegue un'operazione di disegno non indicizzata.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-186">In this example, each structure in an indirect argument buffer changes two root constants, changes one vertex buffer binding, and performs one drawing non-indexed operation.</span></span> <span data-ttu-id="2ef3e-187">Nessun riempimento tra le strutture.</span><span class="sxs-lookup"><span data-stu-id="2ef3e-187">There is no padding between structures.</span></span>

<span data-ttu-id="2ef3e-188">Il codice per creare la descrizione della firma del comando è:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-188">The code to create the command signature description is:</span></span>

``` syntax
D3D12_INDIRECT_ARGUMENT_DESC Args[4];
Args[0].Type = D3D12_INDIRECT_ARGUMENT_TYPE_CONSTANT;
Args[0].Constant.RootParameterIndex = 2;

Args[1].Type = D3D12_INDIRECT_ARGUMENT_TYPE_CONSTANT;
Args[1].Constant.RootParameterIndex = 6;

Args[2].Type = D3D12_INDIRECT_ARGUMENT_TYPE_VERTEX_BUFFER_VIEW;
Args[2].VertexBuffer.VBSlot = 3;

Args[3].Type = D3D12_INDIRECT_ARGUMENT_TYPE_DRAW_INSTANCED;

D3D12_COMMAND_SIGNATURE_DESC ProgramDesc;
ProgramDesc.ByteStride = 40;
ProgramDesc.NumArgumentDescs = 4;
ProgramDesc.pArguments = Args;
```

<span data-ttu-id="2ef3e-189">Il layout di una singola struttura all'interno del buffer degli argomenti indiretti è il seguente:</span><span class="sxs-lookup"><span data-stu-id="2ef3e-189">The layout of a single structure within the indirect argument buffer is the following:</span></span>



| <span data-ttu-id="2ef3e-190">Byte</span><span class="sxs-lookup"><span data-stu-id="2ef3e-190">Bytes</span></span> | <span data-ttu-id="2ef3e-191">Descrizione</span><span class="sxs-lookup"><span data-stu-id="2ef3e-191">Description</span></span>                     |
|-------|---------------------------------|
| <span data-ttu-id="2ef3e-192">0:3</span><span class="sxs-lookup"><span data-stu-id="2ef3e-192">0:3</span></span>   | <span data-ttu-id="2ef3e-193">Dati per il parametro root index 2</span><span class="sxs-lookup"><span data-stu-id="2ef3e-193">Data for root parameter index 2</span></span> |
| <span data-ttu-id="2ef3e-194">4:7</span><span class="sxs-lookup"><span data-stu-id="2ef3e-194">4:7</span></span>   | <span data-ttu-id="2ef3e-195">Dati per il parametro root index 6</span><span class="sxs-lookup"><span data-stu-id="2ef3e-195">Data for root parameter index 6</span></span> |
| <span data-ttu-id="2ef3e-196">8:15</span><span class="sxs-lookup"><span data-stu-id="2ef3e-196">8:15</span></span>  | <span data-ttu-id="2ef3e-197">Indirizzo virtuale di VB (64 bit)</span><span class="sxs-lookup"><span data-stu-id="2ef3e-197">Virtual address of VB (64-bit)</span></span>  |
| <span data-ttu-id="2ef3e-198">16:19</span><span class="sxs-lookup"><span data-stu-id="2ef3e-198">16:19</span></span> | <span data-ttu-id="2ef3e-199">Dimensioni di VB</span><span class="sxs-lookup"><span data-stu-id="2ef3e-199">VB size</span></span>                         |
| <span data-ttu-id="2ef3e-200">20:23</span><span class="sxs-lookup"><span data-stu-id="2ef3e-200">20:23</span></span> | <span data-ttu-id="2ef3e-201">Stride VB</span><span class="sxs-lookup"><span data-stu-id="2ef3e-201">VB stride</span></span>                       |
| <span data-ttu-id="2ef3e-202">24:27</span><span class="sxs-lookup"><span data-stu-id="2ef3e-202">24:27</span></span> | <span data-ttu-id="2ef3e-203">VertexCountPerInstance</span><span class="sxs-lookup"><span data-stu-id="2ef3e-203">VertexCountPerInstance</span></span>          |
| <span data-ttu-id="2ef3e-204">28:31</span><span class="sxs-lookup"><span data-stu-id="2ef3e-204">28:31</span></span> | <span data-ttu-id="2ef3e-205">InstanceCount</span><span class="sxs-lookup"><span data-stu-id="2ef3e-205">InstanceCount</span></span>                   |
| <span data-ttu-id="2ef3e-206">32:35</span><span class="sxs-lookup"><span data-stu-id="2ef3e-206">32:35</span></span> | <span data-ttu-id="2ef3e-207">StartVertexLocation</span><span class="sxs-lookup"><span data-stu-id="2ef3e-207">StartVertexLocation</span></span>             |
| <span data-ttu-id="2ef3e-208">36:39</span><span class="sxs-lookup"><span data-stu-id="2ef3e-208">36:39</span></span> | <span data-ttu-id="2ef3e-209">StartInstanceLocation</span><span class="sxs-lookup"><span data-stu-id="2ef3e-209">StartInstanceLocation</span></span>           |



 

## <a name="related-topics"></a><span data-ttu-id="2ef3e-210">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="2ef3e-210">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2ef3e-211">Esercitazioni video su DirectX Advanced Learning: eseguire l'abbattimento indiretto e asincrono della GPU</span><span class="sxs-lookup"><span data-stu-id="2ef3e-211">DirectX advanced learning video tutorials : Execute Indirect and Async GPU culling</span></span>](https://www.youtube.com/watch?v=fKD-VKJeeds)
</dt> <dt>

[<span data-ttu-id="2ef3e-212">Disegno indiretto e eliminazione della GPU: procedura dettagliata del codice</span><span class="sxs-lookup"><span data-stu-id="2ef3e-212">Indirect drawing and GPU culling : code walk-through</span></span>](indirect-drawing-and-gpu-culling-.md)
</dt> <dt>

[<span data-ttu-id="2ef3e-213">Rendering</span><span class="sxs-lookup"><span data-stu-id="2ef3e-213">Rendering</span></span>](rendering.md)
</dt> </dl>

 

 