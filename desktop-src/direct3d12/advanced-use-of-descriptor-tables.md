---
title: Uso avanzato di tabelle di descrittori
description: Nelle sezioni seguenti vengono fornite informazioni sull'utilizzo avanzato delle tabelle dei descrittori.
ms.assetid: BB0CA29C-65CB-48B1-8351-EE13CC470B54
ms.date: 05/31/2018
ms.localizationpriority: high
ms.topic: article
ms.openlocfilehash: 79dad6914cff07726c2d40ed2ee27cccb6a0cf1e
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "74104925"
---
# <a name="advanced-use-of-descriptor-tables"></a><span data-ttu-id="6d16c-103">Uso avanzato di tabelle di descrittori</span><span class="sxs-lookup"><span data-stu-id="6d16c-103">Advanced use of Descriptor Tables</span></span>

<span data-ttu-id="6d16c-104">Nelle sezioni seguenti vengono fornite informazioni sull'utilizzo avanzato delle tabelle dei descrittori.</span><span class="sxs-lookup"><span data-stu-id="6d16c-104">The following sections provide information about the advanced use of descriptor tables.</span></span>

-   [<span data-ttu-id="6d16c-105">Modifica delle voci della tabella descrittore tra chiamate di rendering</span><span class="sxs-lookup"><span data-stu-id="6d16c-105">Changing Descriptor Table Entries between Rendering Calls</span></span>](#changing-descriptor-table-entries-between-rendering-calls)
-   [<span data-ttu-id="6d16c-106">Indicizzazione fuori limite</span><span class="sxs-lookup"><span data-stu-id="6d16c-106">Out of Bounds Indexing</span></span>](#out-of-bounds-indexing)
-   [<span data-ttu-id="6d16c-107">Derivati dello shader e indicizzazione divergente</span><span class="sxs-lookup"><span data-stu-id="6d16c-107">Shader Derivatives and Divergent Indexing</span></span>](#shader-derivatives-and-divergent-indexing)
-   [<span data-ttu-id="6d16c-108">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="6d16c-108">Related topics</span></span>](#related-topics)

## <a name="changing-descriptor-table-entries-between-rendering-calls"></a><span data-ttu-id="6d16c-109">Modifica delle voci della tabella descrittore tra chiamate di rendering</span><span class="sxs-lookup"><span data-stu-id="6d16c-109">Changing Descriptor Table Entries between Rendering Calls</span></span>

<span data-ttu-id="6d16c-110">Dopo che gli elenchi di comandi che consentono di impostare le tabelle dei descrittori sono stati inviati a una coda per l'esecuzione, l'applicazione non deve modificare dalla CPU le parti degli heap del descrittore a cui può fare riferimento la GPU fino a quando l'applicazione non è in grado di utilizzare i riferimenti.</span><span class="sxs-lookup"><span data-stu-id="6d16c-110">After command lists that set descriptor tables have been submitted to a queue for execution, the application must not edit from the CPU the portions of descriptor heaps that the GPU might reference until the application knows that the GPU has finished using the references.</span></span>

<span data-ttu-id="6d16c-111">Il completamento del lavoro può essere determinato a una stretta associazione usando le schermate dell'API per tenere traccia dello stato di avanzamento della GPU o meccanismi più grossolani, ad esempio in attesa di osservare che il rendering è stato inviato a display, a prescindere dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6d16c-111">Work completion can be determined at a tight bound using API fences for tracking GPU progress, or more coarse mechanisms like waiting to see that rendering has been sent to display - whatever suits the application.</span></span> <span data-ttu-id="6d16c-112">Se un'applicazione sa che verrà eseguito l'accesso solo a un subset dell'area a cui punta una tabella del descrittore (ad indicare che il controllo di flusso è nello shader), gli altri descrittori privi di riferimenti possono comunque essere modificati.</span><span class="sxs-lookup"><span data-stu-id="6d16c-112">If an application knows that only a subset of the region a descriptor table points to will be accessed (say due to flow control in the shader), the other unreferenced descriptors are still free to be changed.</span></span> <span data-ttu-id="6d16c-113">Se un'applicazione deve passare tra diverse tabelle dei descrittori tra le chiamate di rendering, è possibile scegliere tra alcuni approcci:</span><span class="sxs-lookup"><span data-stu-id="6d16c-113">If an application needs to switch between different descriptor tables between rendering calls, there are a few approaches the application can choose from:</span></span>

-   <span data-ttu-id="6d16c-114">Controllo delle versioni delle tabelle dei descrittori: creare o riutilizzare una tabella descrittore separata per ogni raccolta univoca di descrittori a cui fa riferimento un elenco di comandi.</span><span class="sxs-lookup"><span data-stu-id="6d16c-114">Descriptor Table Versioning: Create (or reuse) a separate descriptor table for every unique collection of descriptors that is to be referenced by a command list.</span></span> <span data-ttu-id="6d16c-115">Quando si modificano e si riutilizzano aree popolate in precedenza negli heap dei descrittori, le applicazioni devono innanzitutto assicurarsi che la GPU abbia terminato di utilizzare una parte di un heap dei descrittori che verrà riciclata.</span><span class="sxs-lookup"><span data-stu-id="6d16c-115">When editing and reusing previously populated areas on descriptor heaps, applications must first ensure that the GPU has finished using any portion of a descriptor heap that will be recycled.</span></span>
-   <span data-ttu-id="6d16c-116">Indicizzazione dinamica: le applicazioni possono disporre gli oggetti che variano in base a un oggetto di estrazione (o addirittura variare all'interno di un progetto) in un intervallo di un heap dei descrittori, definire una tabella dei descrittori che si estende a tutti gli oggetti e dallo shader, usare l'indicizzazione dinamica della tabella durante l'esecuzione dello shader per selezionare l'oggetto da usare.</span><span class="sxs-lookup"><span data-stu-id="6d16c-116">Dynamic Indexing: Applications can arrange objects that vary across draw/dispatch (or even vary within a draw) in a range of a descriptor heap, define a descriptor table that spans all of them, and from the shader, use dynamic indexing of the table during shader execution to select which object to use.</span></span>
-   <span data-ttu-id="6d16c-117">Inserimento diretto dei descrittori nella firma radice.</span><span class="sxs-lookup"><span data-stu-id="6d16c-117">Putting descriptors in the root signature directly.</span></span> <span data-ttu-id="6d16c-118">In questo modo è possibile gestire solo un numero molto ridotto di descrittori perché lo spazio della firma radice è limitato.</span><span class="sxs-lookup"><span data-stu-id="6d16c-118">Only a very small number of descriptors can be managed this way because root signature space is limited.</span></span>

<span data-ttu-id="6d16c-119">L'implicazione dell'uso del controllo delle versioni della tabella descrittore è che la memoria del descrittore fuori da un heap dei descrittori deve essere bruciata per ogni set univoco di descrittori a cui fa riferimento la pipeline grafica per ogni elenco di comandi che potrebbe essere in esecuzione, accodato per l'esecuzione o registrato in un determinato momento.</span><span class="sxs-lookup"><span data-stu-id="6d16c-119">The implication of using descriptor table versioning is that descriptor memory out of a descriptor heap must be burned through for every unique set of descriptors referenced by the graphics pipeline for every command list that could be either executing, queued for execution, or being recorded at any given time.</span></span>

<span data-ttu-id="6d16c-120">D3D12 lascia la responsabilità di gestire il controllo delle versioni all'applicazione per i tipi di oggetto gestiti tramite gli heap dei descrittori e le tabelle descrittore.</span><span class="sxs-lookup"><span data-stu-id="6d16c-120">D3D12 leaves the responsibility of managing versioning to the application for the object types managed via descriptor heaps and descriptor tables.</span></span> <span data-ttu-id="6d16c-121">Un vantaggio è che le applicazioni possono scegliere di riutilizzare il contenuto della tabella descrittore quanto più possibile anziché definire sempre una nuova versione della tabella dei descrittori per ogni invio dell'elenco dei comandi.</span><span class="sxs-lookup"><span data-stu-id="6d16c-121">One benefit of this is that applications can choose to reuse descriptor table contents as much as possible rather than always defining a new descriptor table version for every command list submission.</span></span> <span data-ttu-id="6d16c-122">La firma radice è uno spazio in cui il driver D3D12 è automaticamente in versione.</span><span class="sxs-lookup"><span data-stu-id="6d16c-122">The root signature is a space that the D3D12 driver automatically versions.</span></span>

<span data-ttu-id="6d16c-123">La possibilità di associare più tabelle dei descrittori alla firma radice (e quindi alla pipeline) per volta consente alle applicazioni di raggruppare e comportare set di riferimenti a descrittori a frequenze diverse, se lo si desidera.</span><span class="sxs-lookup"><span data-stu-id="6d16c-123">The ability to bind multiple descriptor tables to the root signature (and thus to the pipeline) at a time allows applications to group and switch sets of descriptor references at different frequencies if desired.</span></span> <span data-ttu-id="6d16c-124">Ad esempio, un'applicazione può usare un numero ridotto (forse solo uno) di tabelle descrittori statiche di grandi dimensioni che cambiano raramente o in quali aree della memoria heap del descrittore sottostante vengono popolate in base alle esigenze, con l'uso dell'indicizzazione dinamica dello shader per selezionare le trame.</span><span class="sxs-lookup"><span data-stu-id="6d16c-124">For example, an application could use a small number (perhaps just one) of large static descriptor tables that rarely change, or in which regions in the underlying descriptor heap memory are being populated as needed, with the use of dynamic indexing from the shader to select textures.</span></span> <span data-ttu-id="6d16c-125">Allo stesso tempo, l'applicazione potrebbe mantenere un'altra classe di risorse in cui il set a cui viene fatto riferimento da ogni chiamata di progetto viene passato dalla CPU utilizzando la tecnica di controllo delle versioni delle tabelle dei descrittori.</span><span class="sxs-lookup"><span data-stu-id="6d16c-125">At the same time, the application could maintain another class of resources where the set referenced by each draw call is switched from the CPU using the descriptor table versioning technique.</span></span>

## <a name="out-of-bounds-indexing"></a><span data-ttu-id="6d16c-126">Indicizzazione fuori limite</span><span class="sxs-lookup"><span data-stu-id="6d16c-126">Out of Bounds Indexing</span></span>

<span data-ttu-id="6d16c-127">L'indicizzazione fuori limite di qualsiasi tabella dei descrittori dello shader produce un accesso di memoria non definito in gran parte, inclusa la possibilità di leggere una memoria arbitraria in-process come se si trattasse di un descrittore di stato hardware e di vivere con la conseguenza dell'operazione eseguita dall'hardware.</span><span class="sxs-lookup"><span data-stu-id="6d16c-127">Out of bounds indexing of any descriptor table from the shader results in a largely undefined memory access, including the possibility of reading arbitrary in-process memory as if it is a hardware state descriptor and living with the consequence of what the hardware does with that.</span></span> <span data-ttu-id="6d16c-128">Questo potrebbe produrre una reimpostazione del dispositivo, ma non arresterà l'arresto anomalo di Windows.</span><span class="sxs-lookup"><span data-stu-id="6d16c-128">This could produce a device reset, but will not crash Windows.</span></span>

## <a name="shader-derivatives-and-divergent-indexing"></a><span data-ttu-id="6d16c-129">Derivati dello shader e indicizzazione divergente</span><span class="sxs-lookup"><span data-stu-id="6d16c-129">Shader Derivatives and Divergent Indexing</span></span>

<span data-ttu-id="6d16c-130">Se pixel shader chiamate che sono in esecuzione in un timbro 2x2 (per supportare calcoli derivati), scegliere diversi indici di trama da campionare da una tabella descrittore, se la configurazione e la trama del campionatore selezionato per un determinato pixel richiedono un calcolo LOD da derivati da coordinate di trama, il calcolo del LOD e il processo di campionamento della trama vengono eseguiti dall'hardware indipendentemente per ogni ricerca di trama nell'indicatore 2x2 , che avrà un effetto sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="6d16c-130">If pixel shader invocations that are executing in a 2x2 stamp (to support derivative calculations) choose different texture indices to sample from out of a descriptor table, and if the selected sampler configuration and texture for any given pixel requires an LOD calculation from texture coordinate derivatives, then the LOD calculation and texture sampling process is done by the hardware independently for each texture lookup in the 2x2 stamp, which will impact performance.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6d16c-131">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="6d16c-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6d16c-132">Tabelle descrittore</span><span class="sxs-lookup"><span data-stu-id="6d16c-132">Descriptor Tables</span></span>](descriptor-tables.md)
</dt> </dl>

 

 




