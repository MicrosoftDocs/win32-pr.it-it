---
title: Esecuzione e sincronizzazione degli elenchi di comandi
description: In Microsoft Direct3D 12 la modalità immediata delle versioni precedenti non è più presente.
ms.assetid: D5013102-2302-4D66-8F59-079C03BA65FD
keywords:
- Elenco comandi
- sincronizzazione
- esecuzione
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2ef910463ba3a771ac142d41309ae590884e3bc9
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104548900"
---
# <a name="executing-and-synchronizing-command-lists"></a><span data-ttu-id="df5ed-106">Esecuzione e sincronizzazione degli elenchi di comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-106">Executing and Synchronizing Command Lists</span></span>

<span data-ttu-id="df5ed-107">In Microsoft Direct3D 12 la modalità immediata delle versioni precedenti non è più presente.</span><span class="sxs-lookup"><span data-stu-id="df5ed-107">In Microsoft Direct3D 12, the immediate mode of previous versions is no longer present.</span></span> <span data-ttu-id="df5ed-108">Al contrario, le app creano elenchi di comandi e bundle, quindi registrano set di comandi GPU.</span><span class="sxs-lookup"><span data-stu-id="df5ed-108">Instead, apps create command lists and bundles and then record sets of GPU commands.</span></span> <span data-ttu-id="df5ed-109">Le code di comando vengono usate per inviare elenchi di comandi da eseguire.</span><span class="sxs-lookup"><span data-stu-id="df5ed-109">Command queues are used to submit command lists to be executed.</span></span> <span data-ttu-id="df5ed-110">Questo modello consente agli sviluppatori di avere un maggiore controllo sull'utilizzo efficiente di GPU (Graphics Processing Unit) e CPU.</span><span class="sxs-lookup"><span data-stu-id="df5ed-110">This model allows developers to have more control over the efficient usage of both graphics processing unit (GPU) and CPU.</span></span>

-   [<span data-ttu-id="df5ed-111">Panoramica della coda di comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-111">Command queue overview</span></span>](#command-queue-overview)
-   [<span data-ttu-id="df5ed-112">Inizializzazione di una coda di comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-112">Initializing a command queue</span></span>](#initializing-a-command-queue)
-   [<span data-ttu-id="df5ed-113">Esecuzione di elenchi di comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-113">Executing command Lists</span></span>](#executing-command-lists)
-   [<span data-ttu-id="df5ed-114">Accesso alle risorse da più code dei comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-114">Accessing resources from multiple command queues</span></span>](#accessing-resources-from-multiple-command-queues)
-   [<span data-ttu-id="df5ed-115">Sincronizzazione dell'esecuzione dell'elenco dei comandi mediante le schermate della coda dei comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-115">Synchronizing command list execution using command queue fences</span></span>](#synchronizing-command-list-execution-using-command-queue-fences)
-   [<span data-ttu-id="df5ed-116">Sincronizzazione delle risorse accessibili dalle code dei comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-116">Synchronizing resources accessed by command queues</span></span>](#synchronizing-resources-accessed-by-command-queues)
-   [<span data-ttu-id="df5ed-117">Supporto della coda dei comandi per le risorse affiancate</span><span class="sxs-lookup"><span data-stu-id="df5ed-117">Command queue support for tiled resources</span></span>](#command-queue-support-for-tiled-resources)
-   [<span data-ttu-id="df5ed-118">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="df5ed-118">Related topics</span></span>](#related-topics)

## <a name="command-queue-overview"></a><span data-ttu-id="df5ed-119">Panoramica della coda di comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-119">Command queue overview</span></span>

<span data-ttu-id="df5ed-120">Le code dei comandi Direct3D 12 sostituiscono la sincronizzazione del runtime e del driver dell'invio del lavoro in modalità immediata, in precedenza non esposto allo sviluppatore, con le API per la gestione esplicita della concorrenza, il parallelismo e la sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="df5ed-120">Direct3D 12 command queues replace runtime and driver synchronization of immediate mode work submission, previously not-exposed to the developer, with APIs for explicitly managing concurrency, parallelism and synchronization.</span></span> <span data-ttu-id="df5ed-121">Le code dei comandi offrono i miglioramenti seguenti per gli sviluppatori:</span><span class="sxs-lookup"><span data-stu-id="df5ed-121">Command queues provide the following improvements for developers:</span></span>

-   <span data-ttu-id="df5ed-122">Consente agli sviluppatori di evitare inefficienze accidentali dovute a una sincronizzazione imprevista.</span><span class="sxs-lookup"><span data-stu-id="df5ed-122">Allows developers to avoid accidental inefficiencies caused by unexpected synchronization.</span></span>
-   <span data-ttu-id="df5ed-123">Consente agli sviluppatori di introdurre la sincronizzazione a un livello superiore in cui la sincronizzazione necessaria può essere determinata in modo più efficiente e accurato.</span><span class="sxs-lookup"><span data-stu-id="df5ed-123">Allows developers to introduce synchronization at a higher level where the required synchronization can be determined more efficiently and accurately.</span></span> <span data-ttu-id="df5ed-124">Ciò significa che il runtime e il driver di grafica dedicano meno tempo al parallelismo ingegneristico.</span><span class="sxs-lookup"><span data-stu-id="df5ed-124">This means the runtime and the graphics driver will spend less time reactively engineering parallelism.</span></span>
-   <span data-ttu-id="df5ed-125">Semplifica le operazioni di costo più esplicite.</span><span class="sxs-lookup"><span data-stu-id="df5ed-125">Makes expensive operations more explicit.</span></span>

<span data-ttu-id="df5ed-126">Questi miglioramenti abilitano o migliorano gli scenari seguenti:</span><span class="sxs-lookup"><span data-stu-id="df5ed-126">These improvements enable or enhance the following scenarios:</span></span>

-   <span data-ttu-id="df5ed-127">Maggiore parallelismo: le applicazioni possono usare code più profonde per i carichi di lavoro in background, ad esempio la decodifica video, quando hanno code separate per il lavoro in primo piano.</span><span class="sxs-lookup"><span data-stu-id="df5ed-127">Increased parallelism - Applications can use deeper queues for background workloads, such as video decoding, when they have separate queues for foreground work.</span></span>
-   <span data-ttu-id="df5ed-128">Lavoro GPU asincrono e con priorità bassa: il modello di coda dei comandi consente l'esecuzione simultanea di operazioni di GPU a priorità bassa e operazioni atomiche che consentono a un thread GPU di utilizzare i risultati di un altro thread non sincronizzato senza bloccarsi.</span><span class="sxs-lookup"><span data-stu-id="df5ed-128">Asynchronous and low-priority GPU work - The command queue model enables concurrent execution of low-priority GPU work and atomic operations that enable one GPU thread to consume the results of another unsynchronized thread without blocking.</span></span>
-   <span data-ttu-id="df5ed-129">Lavoro di calcolo ad alta priorità: questa progettazione consente scenari che richiedono l'interruzione del rendering 3D per eseguire una piccola quantità di lavoro di calcolo con priorità alta, in modo che il risultato possa essere ottenuto in anticipo per un'ulteriore elaborazione della CPU.</span><span class="sxs-lookup"><span data-stu-id="df5ed-129">High-priority compute work - This design enables scenarios that require interrupting 3D rendering to do a small amount of high-priority compute work so that the result can be obtained early for additional processing on the CPU.</span></span>

## <a name="initializing-a-command-queue"></a><span data-ttu-id="df5ed-130">Inizializzazione di una coda di comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-130">Initializing a command queue</span></span>

<span data-ttu-id="df5ed-131">È possibile creare le code dei comandi chiamando [**ID3D12Device:: CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span><span class="sxs-lookup"><span data-stu-id="df5ed-131">Command queues can be created by calling [**ID3D12Device::CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span></span> <span data-ttu-id="df5ed-132">Questo metodo accetta un [**\_ tipo di \_ elenco \_ di comandi D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) che indica il tipo di coda da creare e, di conseguenza, il tipo di comandi che possono essere inviati a tale coda.</span><span class="sxs-lookup"><span data-stu-id="df5ed-132">This method takes a [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) indicating what type of queue should be created, and therefore, what type of commands can be submitted to that queue.</span></span> <span data-ttu-id="df5ed-133">Tenere presente che i bundle possono essere chiamati solo da elenchi di comandi diretti e non possono essere inviati direttamente a una coda.</span><span class="sxs-lookup"><span data-stu-id="df5ed-133">Remember that bundles can only be called from direct command lists and can't be submitted directly to a queue.</span></span> <span data-ttu-id="df5ed-134">I tipi di coda supportati sono:</span><span class="sxs-lookup"><span data-stu-id="df5ed-134">The supported queue types are:</span></span>

-   [<span data-ttu-id="df5ed-135">**\_Tipo di elenco comandi di D3D12 \_ \_ \_ diretto**</span><span class="sxs-lookup"><span data-stu-id="df5ed-135">**D3D12\_COMMAND\_LIST\_TYPE\_DIRECT**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="df5ed-136">**\_Tipo di \_ elenco di comandi \_ D3D12 \_**</span><span class="sxs-lookup"><span data-stu-id="df5ed-136">**D3D12\_COMMAND\_LIST\_TYPE\_COMPUTE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="df5ed-137">**\_ \_ \_ Copia tipo elenco comandi \_ D3D12**</span><span class="sxs-lookup"><span data-stu-id="df5ed-137">**D3D12\_COMMAND\_LIST\_TYPE\_COPY**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)

<span data-ttu-id="df5ed-138">In generale, le code e gli elenchi di comandi diretti accettano qualsiasi comando, le code di calcolo e gli elenchi di comandi accettano i comandi di calcolo e copia e le code e gli elenchi di comandi accettano solo i comandi di copia.</span><span class="sxs-lookup"><span data-stu-id="df5ed-138">In general, DIRECT queues and command lists accept any command, COMPUTE queues and command lists accept compute and copy related commands, and COPY queues and command lists accept only copy commands.</span></span>

## <a name="executing-command-lists"></a><span data-ttu-id="df5ed-139">Esecuzione di elenchi di comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-139">Executing command Lists</span></span>

<span data-ttu-id="df5ed-140">Una volta registrato un elenco di comandi e recuperato la coda dei comandi predefinita o ne è stato creato uno nuovo, è possibile eseguire gli elenchi di comandi chiamando [**ID3D12CommandQueue:: oggetti executecommandlist**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span><span class="sxs-lookup"><span data-stu-id="df5ed-140">After you have recorded a command list and either retrieved the default command queue or created a new one, you execute command lists by calling [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

<span data-ttu-id="df5ed-141">Le applicazioni possono inviare elenchi di comandi a qualsiasi coda dei comandi da più thread.</span><span class="sxs-lookup"><span data-stu-id="df5ed-141">Applications can submit command lists to any command queue from multiple threads.</span></span> <span data-ttu-id="df5ed-142">Il runtime eseguirà il lavoro di serializzazione di queste richieste nell'ordine di invio.</span><span class="sxs-lookup"><span data-stu-id="df5ed-142">The runtime will perform the work of serializing these requests in the order of submission.</span></span>

<span data-ttu-id="df5ed-143">Il runtime convaliderà l'elenco dei comandi inviati ed eliminerà la chiamata a [**oggetti executecommandlist**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) se viene violata una qualsiasi restrizione.</span><span class="sxs-lookup"><span data-stu-id="df5ed-143">The runtime will validate the submitted command list and will drop the call to [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) if any of the restrictions are violated.</span></span> <span data-ttu-id="df5ed-144">Le chiamate verranno eliminate per i motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="df5ed-144">Calls will be dropped for the following reasons:</span></span>

-   <span data-ttu-id="df5ed-145">L'elenco dei comandi fornito è un bundle, non un elenco di comandi diretto.</span><span class="sxs-lookup"><span data-stu-id="df5ed-145">The supplied command list is a bundle, not a direct command list.</span></span>
-   <span data-ttu-id="df5ed-146">[**ID3D12GraphicsCommandList:: Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) non è stato chiamato sull'elenco di comandi fornito per completare la registrazione.</span><span class="sxs-lookup"><span data-stu-id="df5ed-146">[**ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) has not been called on the supplied command list to complete recording.</span></span>
-   <span data-ttu-id="df5ed-147">[**ID3D12CommandAllocator:: Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) è stato chiamato sull'allocatore di comandi associato all'elenco di comandi perché è stato registrato.</span><span class="sxs-lookup"><span data-stu-id="df5ed-147">[**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) has been called on the command allocator associated with the command list since it was recorded.</span></span> <span data-ttu-id="df5ed-148">Per altre informazioni sugli allocatori di comandi, vedere [creazione e registrazione di elenchi di comandi e bundle](recording-command-lists-and-bundles.md).</span><span class="sxs-lookup"><span data-stu-id="df5ed-148">For more information about command allocators, see [Creating and recording command lists and bundles](recording-command-lists-and-bundles.md).</span></span>
-   <span data-ttu-id="df5ed-149">Il limite della coda dei comandi indica che un'esecuzione precedente dell'elenco di comandi non è ancora stata completata.</span><span class="sxs-lookup"><span data-stu-id="df5ed-149">The command queue fence indicates that a previous execution of the command list has not yet completed.</span></span> <span data-ttu-id="df5ed-150">Le barriere della coda di comandi sono descritte in dettaglio di seguito.</span><span class="sxs-lookup"><span data-stu-id="df5ed-150">Command queue fences are discussed in detail below.</span></span>
-   <span data-ttu-id="df5ed-151">Gli Stati before e After delle query, impostati con chiamate a [**ID3D12GraphicsCommandList:: BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) e [**ID3D12GraphicsCommandList:: EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), non corrispondono correttamente.</span><span class="sxs-lookup"><span data-stu-id="df5ed-151">The before and after states of queries, set with calls to [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), are not matched properly.</span></span>
-   <span data-ttu-id="df5ed-152">Gli Stati before e After degli ostacoli alla transizione delle risorse non corrispondono correttamente.</span><span class="sxs-lookup"><span data-stu-id="df5ed-152">The before and after states of resource transition barriers are not matched properly.</span></span> <span data-ttu-id="df5ed-153">Per ulteriori informazioni, vedere [utilizzo delle barriere delle risorse per sincronizzare gli Stati delle risorse](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="df5ed-153">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="accessing-resources-from-multiple-command-queues"></a><span data-ttu-id="df5ed-154">Accesso alle risorse da più code dei comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-154">Accessing resources from multiple command queues</span></span>

<span data-ttu-id="df5ed-155">Esistono un paio di regole imposte dal runtime che limitano l'accesso alle risorse da più code dei comandi.</span><span class="sxs-lookup"><span data-stu-id="df5ed-155">There are a couple of rules imposed by the runtime that restrict the access of resources from multiple command queues.</span></span> <span data-ttu-id="df5ed-156">Le regole sono le seguenti:</span><span class="sxs-lookup"><span data-stu-id="df5ed-156">These rules are as follows:</span></span>

<dl> <span data-ttu-id="df5ed-157">1. Non è possibile scrivere una risorsa da più code di comando contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="df5ed-157">1. A resource cannot be written to from multiple command queues simultaneously.</span></span> <span data-ttu-id="df5ed-158">Quando una risorsa è passata a uno stato scrivibile in una coda, viene considerata esclusivamente di proprietà di tale coda ed è necessario passare a uno stato di lettura o comune (vedere <a href="/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states">**\_ \_ gli Stati delle risorse D3D12**</a>) prima che sia possibile accedervi da un'altra coda.</span><span class="sxs-lookup"><span data-stu-id="df5ed-158">When a resource has transitioned to a writeable state on a queue, it is considered exclusively owned by that queue, and must transition to a read or COMMON state (refer to <a href="/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states">**D3D12\_RESOURCE\_STATES**</a>) before it can be accessed by another queue.</span></span>  </dl>
<dl> <span data-ttu-id="df5ed-159">2. Quando si trova in uno stato di lettura, una risorsa può essere letta simultaneamente da più code di comandi, inclusi tra i processi, in base allo stato di lettura.</span><span class="sxs-lookup"><span data-stu-id="df5ed-159">2. When in a read state, a resource can be read from multiple command queues simultaneously, including across processes, based on its read state.</span></span> </dl>

<span data-ttu-id="df5ed-160">Per altre informazioni sulle restrizioni di accesso alle risorse e sull'uso di barriere per la sincronizzazione dell'accesso alle risorse, vedere [uso delle barriere delle risorse per sincronizzare gli Stati delle risorse](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="df5ed-160">For more information about resource access restrictions and using resource barriers to synchronize access to resources, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="synchronizing-command-list-execution-using-command-queue-fences"></a><span data-ttu-id="df5ed-161">Sincronizzazione dell'esecuzione dell'elenco dei comandi mediante le schermate della coda dei comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-161">Synchronizing command list execution using command queue fences</span></span>

<span data-ttu-id="df5ed-162">Il supporto per più code di comandi parallele in Direct3D 12 offre maggiore flessibilità e controllo sulla definizione delle priorità del lavoro asincrono sulla GPU.</span><span class="sxs-lookup"><span data-stu-id="df5ed-162">The support for multiple parallel command queues in Direct3D 12 gives you more flexibility and control over the prioritization of asynchronous work on the GPU.</span></span> <span data-ttu-id="df5ed-163">Questo progetto significa anche che le app devono gestire in modo esplicito la sincronizzazione del lavoro, soprattutto quando gli elenchi di comandi in una coda dipendono dalle risorse che vengono gestite da un'altra coda dei comandi.</span><span class="sxs-lookup"><span data-stu-id="df5ed-163">This design also means that apps need to explicitly manage the synchronization of work, especially when the command lists in one queue depend on resources that are being operated on by another command queue.</span></span> <span data-ttu-id="df5ed-164">Alcuni esempi includono l'attesa del completamento di un'operazione in una coda di calcolo in modo che il risultato possa essere usato per un'operazione di rendering nella coda 3D e in attesa del completamento di un'operazione 3D in modo che un'operazione nella coda di calcolo possa accedere a una risorsa per la scrittura.</span><span class="sxs-lookup"><span data-stu-id="df5ed-164">Some examples of this include waiting for an operation on a compute queue to complete so that the result can be used for a rendering operation on the 3D queue, and waiting for a 3D operation to complete so that an operation on the compute queue can access a resource for writing.</span></span> <span data-ttu-id="df5ed-165">Per abilitare la sincronizzazione del lavoro tra le code, Direct3D 12 USA il concetto di recinzioni, rappresentate nell'API dall'interfaccia [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) .</span><span class="sxs-lookup"><span data-stu-id="df5ed-165">To enable the synchronization of work between queues, Direct3D 12 uses the concept of fences, which are represented in the API by the [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) interface.</span></span>

<span data-ttu-id="df5ed-166">Una recinzione è un numero intero che rappresenta l'unità di lavoro corrente in fase di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="df5ed-166">A fence is an integer that represents the current unit of work being processed.</span></span> <span data-ttu-id="df5ed-167">Quando l'app sposta il limite, chiamando [**ID3D12CommandQueue:: Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), viene aggiornato l'intero.</span><span class="sxs-lookup"><span data-stu-id="df5ed-167">When the app advances the fence, by calling [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), the integer is updated.</span></span> <span data-ttu-id="df5ed-168">Le app possono verificare il valore di una recinzione e determinare se un'unità di lavoro è stata completata per decidere se un'operazione successiva può essere avviata.</span><span class="sxs-lookup"><span data-stu-id="df5ed-168">Apps can check the value of a fence and determine if a unit of work has been completed in order to decide whether a subsequent operation can be started.</span></span>

## <a name="synchronizing-resources-accessed-by-command-queues"></a><span data-ttu-id="df5ed-169">Sincronizzazione delle risorse accessibili dalle code dei comandi</span><span class="sxs-lookup"><span data-stu-id="df5ed-169">Synchronizing resources accessed by command queues</span></span>

<span data-ttu-id="df5ed-170">In Direct3D 12 la sincronizzazione dello stato di alcune risorse viene implementata con le barriere delle risorse.</span><span class="sxs-lookup"><span data-stu-id="df5ed-170">In Direct3D 12, synchronizing the state of some resources is implemented with resource barriers.</span></span> <span data-ttu-id="df5ed-171">In ogni barriera delle risorse, un'applicazione dichiara gli Stati before e after di una risorsa.</span><span class="sxs-lookup"><span data-stu-id="df5ed-171">At each resource barrier, an app declares the before and after states of a resource.</span></span> <span data-ttu-id="df5ed-172">Un esempio comune è la transizione di una risorsa tra una visualizzazione delle risorse dello shader e la visualizzazione di una destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="df5ed-172">A common example is for a resource to transition between a shader resource view to a render target view.</span></span> <span data-ttu-id="df5ed-173">Nella maggior parte dei casi, queste barriere delle risorse vengono gestite all'interno degli elenchi di comandi.</span><span class="sxs-lookup"><span data-stu-id="df5ed-173">For the most part, these resource barriers are managed within command lists.</span></span> <span data-ttu-id="df5ed-174">Quando i livelli di debug sono abilitati, il sistema impone che gli Stati before e after di tutte le risorse corrispondano, garantendo che la risorsa si trovi nello stato corretto per una determinata operazione in una transizione di barriera.</span><span class="sxs-lookup"><span data-stu-id="df5ed-174">When the debug layers are enabled, the system enforces that the before and after states of all resources match up, guaranteeing that the resource is in the correct state for a particular operation at a barrier transition.</span></span>

<span data-ttu-id="df5ed-175">Per ulteriori informazioni sulla sincronizzazione dello stato delle risorse, vedere [utilizzo delle barriere delle risorse per sincronizzare gli Stati delle risorse](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="df5ed-175">For more information about synchronizing resource state, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="command-queue-support-for-tiled-resources"></a><span data-ttu-id="df5ed-176">Supporto della coda dei comandi per le risorse affiancate</span><span class="sxs-lookup"><span data-stu-id="df5ed-176">Command queue support for tiled resources</span></span>

<span data-ttu-id="df5ed-177">I metodi per la gestione delle risorse affiancate, esposti tramite l'interfaccia [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) in Direct3D 11, sono forniti dall'interfaccia [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) in Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="df5ed-177">Methods for managing tiled resources, which were exposed through the [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) interface in Direct3D 11, are provided by the [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) interface in Direct3D 12.</span></span> <span data-ttu-id="df5ed-178">Questi metodi includono:</span><span class="sxs-lookup"><span data-stu-id="df5ed-178">These methods include:</span></span>



| <span data-ttu-id="df5ed-179">Metodo</span><span class="sxs-lookup"><span data-stu-id="df5ed-179">Method</span></span>                                                              | <span data-ttu-id="df5ed-180">Descrizione</span><span class="sxs-lookup"><span data-stu-id="df5ed-180">Description</span></span>                                                                                              |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="df5ed-181">**CopyTileMappings**</span><span class="sxs-lookup"><span data-stu-id="df5ed-181">**CopyTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-copytilemappings)     | <span data-ttu-id="df5ed-182">Copia i mapping da una risorsa di origine affiancata a una risorsa affiancata di destinazione.</span><span class="sxs-lookup"><span data-stu-id="df5ed-182">Copies mappings from a source tiled resource to a destination tiled resource.</span></span><br/>                 |
| [<span data-ttu-id="df5ed-183">**UpdateTileMappings**</span><span class="sxs-lookup"><span data-stu-id="df5ed-183">**UpdateTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) | <span data-ttu-id="df5ed-184">Aggiorna i mapping delle posizioni dei riquadri nelle risorse affiancate alle posizioni di memoria in un heap delle risorse.</span><span class="sxs-lookup"><span data-stu-id="df5ed-184">Updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span><br/> |



 

<span data-ttu-id="df5ed-185">Per altre informazioni sull'uso di risorse affiancate in app Direct3D 12, vedere [risorse affiancate di Direct3D11](/windows/desktop/direct3d11/tiled-resources).</span><span class="sxs-lookup"><span data-stu-id="df5ed-185">For more information about using tiled resources in Direct3D 12 apps, refer to [Direct3D11 Tiled Resources](/windows/desktop/direct3d11/tiled-resources).</span></span>

## <a name="related-topics"></a><span data-ttu-id="df5ed-186">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="df5ed-186">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="df5ed-187">Invio di lavoro in Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="df5ed-187">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)
</dt> </dl>

 

