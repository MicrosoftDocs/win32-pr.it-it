---
description: Questa sezione contiene un elenco dei messaggi nell'interfaccia TSPI (telefonia Service Provider Interface).
ms.assetid: 3d8bf980-81d6-49db-954f-af72458365dc
title: Messaggi TSPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f5772a1ccb0c07f03b2a17348ecf5e4834bb97a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106317632"
---
# <a name="tspi-messages"></a><span data-ttu-id="7b08e-103">Messaggi TSPI</span><span class="sxs-lookup"><span data-stu-id="7b08e-103">TSPI Messages</span></span>

<span data-ttu-id="7b08e-104">Questa sezione contiene un elenco dei messaggi nell'interfaccia TSPI (telefonia Service Provider Interface).</span><span class="sxs-lookup"><span data-stu-id="7b08e-104">This section contains a list of the messages in the Telephony Service Provider Interface (TSPI).</span></span> <span data-ttu-id="7b08e-105">Questi messaggi vengono utilizzati per notificare a TAPI l'occorrenza di eventi asincroni che si verificano spontaneamente all'interno del provider di servizi.</span><span class="sxs-lookup"><span data-stu-id="7b08e-105">These messages are used to notify TAPI of the occurrence of asynchronous events that spontaneously occur within the service provider.</span></span> <span data-ttu-id="7b08e-106">Il provider di servizi passa questi eventi a TAPI chiamando una funzione di callback [**LineEvent**](/windows/win32/api/tspi/nc-tspi-lineevent) o [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) , a seconda che il provider di servizi stia segnalando un evento su una riga, una chiamata o un dispositivo telefonico.</span><span class="sxs-lookup"><span data-stu-id="7b08e-106">The service provider passes these events to TAPI by calling a [**LINEEVENT**](/windows/win32/api/tspi/nc-tspi-lineevent) or [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) callback function, depending on whether the service provider is reporting an event on a line, call, or phone device.</span></span> <span data-ttu-id="7b08e-107">La procedura **LineEvent** per la creazione di report sugli eventi che si verificano su una riga o una chiamata viene fornita al provider di servizi al momento dell'apertura della riga con la funzione [**TSPI \_ lineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) .</span><span class="sxs-lookup"><span data-stu-id="7b08e-107">The **LINEEVENT** procedure for reporting events occurring on a line or call is supplied to the service provider at the time the line is opened with the [**TSPI\_lineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) function.</span></span> <span data-ttu-id="7b08e-108">La procedura **PHONEEVENT** per la creazione di report sugli eventi che si verificano in un telefono viene fornita con la funzione [**TSPI \_ phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen) .</span><span class="sxs-lookup"><span data-stu-id="7b08e-108">The **PHONEEVENT** procedure for reporting events occurring on a phone is supplied with the [**TSPI\_phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen) function.</span></span>

<span data-ttu-id="7b08e-109">Questi eventi spontanei non vengono richiesti da TAPI nel senso che non sono una risposta diretta a qualsiasi richiesta.</span><span class="sxs-lookup"><span data-stu-id="7b08e-109">These spontaneous events are unsolicited by TAPI in the sense that they are not a direct response to any request.</span></span> <span data-ttu-id="7b08e-110">Questi eventi si differenziano con quelli che segnalano il completamento delle richieste effettuate da TAPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-110">These events contrast with those reporting completion of requests made by TAPI.</span></span> <span data-ttu-id="7b08e-111">Tali eventi di completamento vengono segnalati tramite la funzione di callback di [**\_ completamento asincrono**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="7b08e-111">Such completion events are reported through the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback function.</span></span>

<span data-ttu-id="7b08e-112">I profili di parametro per le procedure di evento spontaneo includono parametri che identificano l'oggetto pertinente per il quale viene segnalato l'evento (telefono, riga o chiamata).</span><span class="sxs-lookup"><span data-stu-id="7b08e-112">The parameter profiles for the spontaneous event procedures include parameters that identify the relevant object for which the event is being reported (phone, line, or call).</span></span> <span data-ttu-id="7b08e-113">L'identificazione è sotto forma di handle opaco la cui interpretazione esatta non è pubblicata da TSPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-113">The identification is in the form of an opaque handle whose exact interpretation is not published by TSPI.</span></span> <span data-ttu-id="7b08e-114">TAPI internamente determina la relazione tra questi handle opachi e tutte le strutture di dati usate per rappresentare i dispositivi.</span><span class="sxs-lookup"><span data-stu-id="7b08e-114">TAPI internally determines the relationship between these opaque handles and whatever data structures it used to represent the devices.</span></span>

<span data-ttu-id="7b08e-115">Il profilo del parametro per le procedure di evento spontaneo include anche un parametro del messaggio che identifica il tipo del messaggio.</span><span class="sxs-lookup"><span data-stu-id="7b08e-115">The parameter profile for spontaneous event procedures also includes a message parameter identifying the type of the message.</span></span> <span data-ttu-id="7b08e-116">Ogni tipo di messaggio ha una definizione corrispondente che determina gli handle inclusi, insieme ad altri parametri e ai relativi significati.</span><span class="sxs-lookup"><span data-stu-id="7b08e-116">Each message type has a corresponding definition that determines the handles that are included, along with other parameters and their meanings.</span></span> <span data-ttu-id="7b08e-117">Esiste una corrispondenza molto forte tra i messaggi visualizzati a livello di TSPI e quelli visualizzati a livello di TAPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-117">There is a very strong correspondence between the messages appearing at the TSPI level and those that appear at the TAPI level.</span></span> <span data-ttu-id="7b08e-118">Queste sono le regole generali di corrispondenza:</span><span class="sxs-lookup"><span data-stu-id="7b08e-118">These are the general rules of correspondence:</span></span>

-   <span data-ttu-id="7b08e-119">Il set di messaggi è quasi identico.</span><span class="sxs-lookup"><span data-stu-id="7b08e-119">The set of messages is nearly identical.</span></span> <span data-ttu-id="7b08e-120">Quando i messaggi corrispondono, lo stesso nome e valore del messaggio viene usato a livello di TSPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-120">Where messages correspond, the same message name and value is used at the TSPI level.</span></span>
-   <span data-ttu-id="7b08e-121">Gli handle visualizzati a livello di TSPI sono i tipi opachi definiti dalla specifica TSPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-121">Handles appearing at the TSPI level are the opaque types defined by the TSPI specification.</span></span> <span data-ttu-id="7b08e-122">Questi tipi (e le relative interpretazioni) differiscono da quelli a livello di TAPI, sebbene facciano riferimento alla stessa classe di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7b08e-122">These types (and their interpretation) differ from those at the TAPI level, although they refer to the same class of device.</span></span> <span data-ttu-id="7b08e-123">Se, ad esempio, un messaggio TAPI include un handle HLINE, il messaggio TSPI corrispondente include in genere un handle [**HTAPILINE**](htapiline.md) .</span><span class="sxs-lookup"><span data-stu-id="7b08e-123">For example, where a TAPI message includes an HLINE handle, the corresponding TSPI message would typically include an [**HTAPILINE**](htapiline.md) handle.</span></span>
-   <span data-ttu-id="7b08e-124">Nessun dato *dwCallbackInstance* passato al callback.</span><span class="sxs-lookup"><span data-stu-id="7b08e-124">There is no *dwCallbackInstance* data passed to the callback.</span></span>
-   <span data-ttu-id="7b08e-125">I parametri *dwParam1*, *dwParam2* e *dwParam3* sono in genere identici ai parametri corrispondenti per il messaggio TAPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-125">The *dwParam1*, *dwParam2*, and *dwParam3* parameters are usually identical to the corresponding parameters for the TAPI message.</span></span>
-   <span data-ttu-id="7b08e-126">I messaggi orientati alle righe e orientati alle chiamate vengono passati a una procedura di callback diversa rispetto ai messaggi orientati al telefono.</span><span class="sxs-lookup"><span data-stu-id="7b08e-126">Line-oriented and call-oriented messages are passed to a different callback procedure than phone-oriented messages.</span></span>

<span data-ttu-id="7b08e-127">Per ogni messaggio, in questa sezione sono elencati gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="7b08e-127">For each message, this section lists the following items:</span></span>

-   <span data-ttu-id="7b08e-128">Scopo del messaggio</span><span class="sxs-lookup"><span data-stu-id="7b08e-128">The purpose of the message</span></span>
-   <span data-ttu-id="7b08e-129">Procedura di callback a cui viene passato questo messaggio</span><span class="sxs-lookup"><span data-stu-id="7b08e-129">The callback procedure to which this message is passed</span></span>
-   <span data-ttu-id="7b08e-130">Descrizione dei parametri del messaggio</span><span class="sxs-lookup"><span data-stu-id="7b08e-130">A description of the message parameters</span></span>
-   <span data-ttu-id="7b08e-131">Commenti facoltativi sull'utilizzo del messaggio</span><span class="sxs-lookup"><span data-stu-id="7b08e-131">Optional comments about using the message</span></span>
-   <span data-ttu-id="7b08e-132">Riferimenti facoltativi ad altre funzioni, messaggi e strutture di dati</span><span class="sxs-lookup"><span data-stu-id="7b08e-132">Optional references to other functions, messages, and data structures</span></span>
-   <span data-ttu-id="7b08e-133">Commenti facoltativi che confrontano questo messaggio con l'interfaccia TAPI</span><span class="sxs-lookup"><span data-stu-id="7b08e-133">Optional comments comparing this message to the TAPI interface</span></span>

<span data-ttu-id="7b08e-134">Alcuni messaggi vengono utilizzati per notificare a TAPI informazioni su una modifica nello stato di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="7b08e-134">Certain messages are used to notify TAPI about a change in an object's status.</span></span> <span data-ttu-id="7b08e-135">Questi messaggi forniscono l'handle dell'oggetto opaco TAPI e un'indicazione dell'elemento di stato modificato.</span><span class="sxs-lookup"><span data-stu-id="7b08e-135">These messages provide the TAPI opaque object handle and an indication of which status item has changed.</span></span> <span data-ttu-id="7b08e-136">In seguito, TAPI può chiamare una funzione "Get status" appropriata dell'oggetto per ottenere lo stato completo dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="7b08e-136">TAPI can subsequently call an appropriate "get status" function of the object to obtain the object's full status.</span></span>

<span data-ttu-id="7b08e-137">Quando si verifica un evento, un messaggio può essere inviato o meno a TAPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-137">When an event occurs, a message may or may not be sent to TAPI.</span></span> <span data-ttu-id="7b08e-138">Per alcuni tipi di evento, ad esempio le modifiche dello stato, TAPI specifica un set di modifiche dello stato a cui è interessato.</span><span class="sxs-lookup"><span data-stu-id="7b08e-138">For some event types, such as status changes, TAPI specifies a set of status changes in which it is interested.</span></span> <span data-ttu-id="7b08e-139">Il provider di servizi è consigliato per limitare gli eventi del messaggio di modifica dello stato segnalati a quelli inclusi in questo set.</span><span class="sxs-lookup"><span data-stu-id="7b08e-139">The service provider is advised to limit the status-change message events it reports to those included in this set.</span></span> <span data-ttu-id="7b08e-140">Non è necessario che il provider di servizi rispetti questo limite.</span><span class="sxs-lookup"><span data-stu-id="7b08e-140">The service provider is not required to adhere to this limit.</span></span> <span data-ttu-id="7b08e-141">In altre parole, può segnalare un numero maggiore di modifiche rispetto a quelle strettamente necessarie.</span><span class="sxs-lookup"><span data-stu-id="7b08e-141">In other words, it may report more changes than are strictly necessary.</span></span> <span data-ttu-id="7b08e-142">Tuttavia, deve tentare di osservare il limite per motivi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="7b08e-142">However, it should try to observe the limit for performance reasons.</span></span>

<span data-ttu-id="7b08e-143">Il \_ messaggio di risposta di riga non viene utilizzato a livello di TSPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-143">The LINE\_REPLY message is not used at the TSPI level.</span></span> <span data-ttu-id="7b08e-144">Il completamento di una richiesta asincrona viene segnalato utilizzando il callback di [**\_ completamento asincrono**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="7b08e-144">Completion of an asynchronous request is reported using the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback.</span></span>

<span data-ttu-id="7b08e-145">Il \_ messaggio di risposta telefonica non viene usato a livello di TSPI.</span><span class="sxs-lookup"><span data-stu-id="7b08e-145">The PHONE\_REPLY message is not used at the TSPI level.</span></span> <span data-ttu-id="7b08e-146">Il completamento di una richiesta asincrona viene segnalato utilizzando il callback di [**\_ completamento asincrono**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="7b08e-146">Completion of an asynchronous request is reported using the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback.</span></span>

<span data-ttu-id="7b08e-147">Per altre informazioni, vedere gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="7b08e-147">For more information see the following topics:</span></span>

-   [<span data-ttu-id="7b08e-148">Messaggi di dispositivo linea TSPI</span><span class="sxs-lookup"><span data-stu-id="7b08e-148">TSPI Line Device Messages</span></span>](tspi-line-device-messages.md)
-   [<span data-ttu-id="7b08e-149">Messaggi di TSPI Phone Device</span><span class="sxs-lookup"><span data-stu-id="7b08e-149">TSPI Phone Device Messages</span></span>](tspi-phone-device-messages.md)

 

 
