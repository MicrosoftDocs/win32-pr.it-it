---
description: Come indicato nella panoramica dell'identificatore di sessione, un handle di chiamata è il mezzo mediante il quale un'applicazione TAPI 2,2 identifica una determinata sessione di comunicazione.
ms.assetid: 5f6a7adf-c074-4bf6-9828-76604eb7609c
title: Handle di chiamata
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aacad5b73d9d22caa006b734acaf8b992203d7d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106308087"
---
# <a name="call-handles"></a><span data-ttu-id="ddf18-103">Handle di chiamata</span><span class="sxs-lookup"><span data-stu-id="ddf18-103">Call Handles</span></span>

<span data-ttu-id="ddf18-104">Come indicato nella panoramica dell' [identificatore di sessione](./session-identifier-ovr.md) , un handle di chiamata è il mezzo mediante il quale un'applicazione TAPI 2,2 identifica una determinata sessione di comunicazione.</span><span class="sxs-lookup"><span data-stu-id="ddf18-104">As is mentioned in the [Session Identifier](./session-identifier-ovr.md) overview, a call handle is the means by which a TAPI 2.2 application identifies a particular communications session.</span></span> <span data-ttu-id="ddf18-105">Quando un'applicazione avvia una sessione, TAPI restituisce un handle di chiamata per l'uso in ulteriori operazioni o query.</span><span class="sxs-lookup"><span data-stu-id="ddf18-105">When an application initiates a session, TAPI returns a call handle for use in further operations or queries.</span></span> <span data-ttu-id="ddf18-106">Quando un'applicazione riceve una notifica di una sessione in ingresso, TAPI passa anche un handle di chiamata.</span><span class="sxs-lookup"><span data-stu-id="ddf18-106">When an application is notified of an incoming session, TAPI also passes in a call handle.</span></span>

<span data-ttu-id="ddf18-107">Dopo che una sessione è terminata e lo stato della sessione è inattivo, l'handle di chiamata rimane valido fino a quando l'applicazione non dealloca l'handle o la riga non viene chiusa.</span><span class="sxs-lookup"><span data-stu-id="ddf18-107">After a session has ended and the session state is idle, the call handle remains valid until the application deallocates the handle or the line is closed.</span></span> <span data-ttu-id="ddf18-108">La riga potrebbe essere chiusa dall'applicazione o potrebbe ricevere un messaggio di [**\_ chiusura riga**](line-close.md) .</span><span class="sxs-lookup"><span data-stu-id="ddf18-108">The line might be closed by the application, or it may receive a [**LINE\_CLOSE**](line-close.md) message.</span></span> <span data-ttu-id="ddf18-109">Se una riga è chiusa, tutti gli handle di chiamata alle chiamate sulla riga diventano immediatamente non validi.</span><span class="sxs-lookup"><span data-stu-id="ddf18-109">If a line is closed, all call handles to calls on the line instantly become invalid.</span></span>

<span data-ttu-id="ddf18-110">Quando una chiamata viene ripristinata allo stato *inattivo* , l'applicazione è ancora in grado di leggere la struttura e lo stato delle informazioni della chiamata.</span><span class="sxs-lookup"><span data-stu-id="ddf18-110">After a call reverts to the *idle* state, the application is still allowed to read the call's information structure and status.</span></span> <span data-ttu-id="ddf18-111">Questo consente alle applicazioni di usare operazioni come [**lineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) per recuperare le informazioni sulle chiamate a scopo di registrazione.</span><span class="sxs-lookup"><span data-stu-id="ddf18-111">This enables applications to use operations such as [**lineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) to retrieve call information for logging purposes.</span></span>

<span data-ttu-id="ddf18-112">Quando l'applicazione non viene utilizzata ulteriormente per l'handle di una chiamata inattiva, deve chiamare [**lineDeallocateCall**](/windows/desktop/api/Tapi/nf-tapi-linedeallocatecall) per liberare la memoria allocata dal sistema relativa alla chiamata.</span><span class="sxs-lookup"><span data-stu-id="ddf18-112">When the application has no further use for the handle of an idle call, it must call [**lineDeallocateCall**](/windows/desktop/api/Tapi/nf-tapi-linedeallocatecall) to free system-allocated memory related to the call.</span></span> <span data-ttu-id="ddf18-113">TAPI alloca memoria per ogni chiamata per ogni applicazione che dispone di un handle per la chiamata.</span><span class="sxs-lookup"><span data-stu-id="ddf18-113">TAPI allocates memory for each call for each application that has a handle to the call.</span></span> <span data-ttu-id="ddf18-114">È probabile che i provider di servizi allocheranno memoria per conservare anche le informazioni sulle chiamate.</span><span class="sxs-lookup"><span data-stu-id="ddf18-114">It is likely that service providers will allocate memory to hold call information as well.</span></span> <span data-ttu-id="ddf18-115">La deallocazione dell'handle di chiamata di un'applicazione consente alla libreria e al provider di servizi di recuperare tali risorse di memoria.</span><span class="sxs-lookup"><span data-stu-id="ddf18-115">Deallocation of an application's call handle allows the library and the service provider to reclaim these memory resources.</span></span> <span data-ttu-id="ddf18-116">L'handle di un'applicazione per una chiamata diventa void dopo una deallocazione riuscita.</span><span class="sxs-lookup"><span data-stu-id="ddf18-116">An application's handle for a call becomes void after a successful deallocation.</span></span>

<span data-ttu-id="ddf18-117">L'applicazione deve disporre di memoria libera relativa alla chiamata allocata per i propri scopi.</span><span class="sxs-lookup"><span data-stu-id="ddf18-117">The application must itself free memory related to the call that it allocated for its own purposes.</span></span>

 

 
