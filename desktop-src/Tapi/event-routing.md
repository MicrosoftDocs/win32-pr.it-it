---
description: Con la funzione lineSetTerminal, l'applicazione può controllare o escludere il routing degli eventi di basso livello specificati (scambiati tra il commutatore e la stazione) a un dispositivo.
ms.assetid: 36658d83-0ea4-4f62-b2e5-c0f6d6569d0d
title: Routing di eventi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df6749969faf89ac0212c19049fe02c9dad57a96
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106307197"
---
# <a name="event-routing"></a><span data-ttu-id="82e26-103">Routing di eventi</span><span class="sxs-lookup"><span data-stu-id="82e26-103">Event Routing</span></span>

<span data-ttu-id="82e26-104">Con la funzione [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal) , l'applicazione può controllare o escludere il routing degli eventi di basso livello specificati (scambiati tra il commutatore e la stazione) a un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="82e26-104">With the [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal) function, the application can control or suppress the routing of specified low-level events (exchanged between the switch and the station) to a device.</span></span> <span data-ttu-id="82e26-105">Con **lineSetTerminal**, l'applicazione specifica il terminale del dispositivo a cui vengono indirizzati questi eventi, ad esempio gli eventi di flusso multimediale di tipo riga, indirizzo o chiamata.</span><span class="sxs-lookup"><span data-stu-id="82e26-105">With **lineSetTerminal**, the application specifies the terminal device to which these events (such as line, address, or call media-stream events) are routed.</span></span>

<span data-ttu-id="82e26-106">Il routing delle diverse classi di eventi può essere controllato singolarmente, consentendo di specificare terminali distinti per ogni classe di evento.</span><span class="sxs-lookup"><span data-stu-id="82e26-106">The routing of the different classes of events can be individually controlled, allowing separate terminals to be specified for each event class.</span></span> <span data-ttu-id="82e26-107">Le classi di evento includono lampade, pulsanti, schermo, suoneria, hookswitch e flusso multimediale.</span><span class="sxs-lookup"><span data-stu-id="82e26-107">Event classes include lamps, buttons, display, ringer, hookswitch, and media stream.</span></span>

<span data-ttu-id="82e26-108">Ad esempio, il flusso multimediale di una chiamata (voce, ad esempio) può essere inviato a qualsiasi dispositivo trasduttore se il provider di servizi e l'hardware è in grado di farlo.</span><span class="sxs-lookup"><span data-stu-id="82e26-108">For example, the media stream of a call (voice, for example) can be sent to any transducer device if the service provider and the hardware is capable of doing so.</span></span> <span data-ttu-id="82e26-109">In generale, un *trasduttore* equivale a quello definito come un dispositivo *hookswitch* in TAPI, un elemento con un microfono e un altoparlante.</span><span class="sxs-lookup"><span data-stu-id="82e26-109">In general, a *transducer* means the same as what is referred to as a *hookswitch* device in TAPI, something that has a microphone and a speaker.</span></span> <span data-ttu-id="82e26-110">Gli eventi ring dallo switch al telefono possono essere mappati a un avviso visivo sullo schermo del computer oppure possono essere instradati a un dispositivo telefonico.</span><span class="sxs-lookup"><span data-stu-id="82e26-110">Ring events from the switch to the phone can be mapped into a visual alert on the computer's screen or they can be routed to a phone device.</span></span> <span data-ttu-id="82e26-111">Gli eventi LAMP e gli eventi di visualizzazione possono essere ignorati o indirizzati a un dispositivo telefonico, che sembra comportarsi come un normale set di telefono.</span><span class="sxs-lookup"><span data-stu-id="82e26-111">Lamp events and display events can be ignored or routed to a phone device (which appears to behave as a normal phone set).</span></span> <span data-ttu-id="82e26-112">Infine, le pressioni dei pulsanti in un dispositivo telefonico possono essere passate o meno alla riga.</span><span class="sxs-lookup"><span data-stu-id="82e26-112">Finally, button presses at a phone device may or may not be passed to the line.</span></span> <span data-ttu-id="82e26-113">In ogni caso, questo routing di segnali di basso livello dalla riga non influisce sul funzionamento della parte della riga di TAPI, che esegue sempre il mapping degli eventi di basso livello all'equivalente funzionale.</span><span class="sxs-lookup"><span data-stu-id="82e26-113">In any case, this routing of low-level signals from the line does not affect the operation of the line portion of TAPI, which always maps low-level events to their functional equivalent.</span></span> <span data-ttu-id="82e26-114">Per determinare i terminali disponibili in un dispositivo linea (e le relative funzionalità), consultare le funzionalità del dispositivo line con [**lineGetDevCaps**](/windows/desktop/api/Tapi/nf-tapi-linegetdevcaps).</span><span class="sxs-lookup"><span data-stu-id="82e26-114">To determine the terminals a line device has available (and their capabilities), consult the line device's capabilities with [**lineGetDevCaps**](/windows/desktop/api/Tapi/nf-tapi-linegetdevcaps).</span></span>

<span data-ttu-id="82e26-115">Si supponga inizialmente che l'applicazione abbia eliminato il routing di tutti gli eventi (con [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal)) e che l'utente selezioni una cuffia come periferica di i/O corrente.</span><span class="sxs-lookup"><span data-stu-id="82e26-115">Assume initially that the application has suppressed the routing of all events (with [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal)), and the user selects a headset as the current I/O device.</span></span> <span data-ttu-id="82e26-116">Una chiamata in ingresso Invia un [**messaggio \_ CALLSTATE di riga**](line-callstate.md) e un messaggio di [**riga \_ LINEDEVSTATE**](line-linedevstate.md) con l'indicazione della *suoneria* .</span><span class="sxs-lookup"><span data-stu-id="82e26-116">An incoming call sends a [**LINE\_CALLSTATE**](line-callstate.md) message, and a [**LINE\_LINEDEVSTATE**](line-linedevstate.md) message with the *ringing* indication.</span></span> <span data-ttu-id="82e26-117">Poiché il routing di tutti gli eventi viene eliminato, gli eventi Ring non vengono indirizzati al telefono, quindi la suoneria viene annullata.</span><span class="sxs-lookup"><span data-stu-id="82e26-117">Because routing of all events is suppressed, ring events are not routed to the phone, so ringing is suppressed.</span></span> <span data-ttu-id="82e26-118">Al contrario, l'applicazione invia una notifica all'utente con una finestra di dialogo popup e un segnale acustico di sistema nell'auricolare.</span><span class="sxs-lookup"><span data-stu-id="82e26-118">Instead, the application notifies the user with a pop-up dialog box and a system beep in the headset.</span></span>

<span data-ttu-id="82e26-119">L'utente decide di rispondere alla chiamata.</span><span class="sxs-lookup"><span data-stu-id="82e26-119">The user decides to answer the call.</span></span> <span data-ttu-id="82e26-120">Poiché il dispositivo di I/O corrente dell'utente è l'auricolare, l'applicazione di telefonia richiama [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal) sulla chiamata in ingresso per indirizzare il supporto della chiamata alla cuffia e rispondere alla chiamata.</span><span class="sxs-lookup"><span data-stu-id="82e26-120">Because the user's current I/O device is the headset, the telephony application invokes [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal) on the incoming call to route the call's media to the headset and answer the call.</span></span> <span data-ttu-id="82e26-121">L'applicazione può anche richiamare **lineSetTerminal** per instradare la lampada e visualizzare gli eventi informativi al set di telefono in modo che si comporti come di consueto.</span><span class="sxs-lookup"><span data-stu-id="82e26-121">The application may also invoke **lineSetTerminal** to route lamp and display information events to the phone set so that it will behave as usual.</span></span>

<span data-ttu-id="82e26-122">Come secondo esempio, si supponga che una chiamata in ingresso stia inviando avvisi sul computer dell'utente.</span><span class="sxs-lookup"><span data-stu-id="82e26-122">As a second example, assume that an incoming call is alerting at the user's computer.</span></span> <span data-ttu-id="82e26-123">Invece di selezionare l'opzione di risposta con il mouse, l'utente decide di selezionare semplicemente il telefono cellulare per rispondere alla chiamata.</span><span class="sxs-lookup"><span data-stu-id="82e26-123">Instead of selecting the answer option with the mouse, the user decides to just pick up the phone's handset to answer the call.</span></span> <span data-ttu-id="82e26-124">Lo stato Offhook al telefono invia un messaggio all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="82e26-124">The offhook status at the phone sends a message to the application.</span></span> <span data-ttu-id="82e26-125">L'applicazione può interpretare questo stato come richiesta da parte dell'utente per selezionare il telefono cellulare per condurre la conversazione.</span><span class="sxs-lookup"><span data-stu-id="82e26-125">The application can interpret this status as a request by the user to select the phone handset to conduct the conversation.</span></span> <span data-ttu-id="82e26-126">L'applicazione richiama quindi [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal) per instradare i dati vocali sulla chiamata al set di telefono.</span><span class="sxs-lookup"><span data-stu-id="82e26-126">The application then invokes [**lineSetTerminal**](/windows/desktop/api/Tapi/nf-tapi-linesetterminal) to route the voice data on the call to the phone set.</span></span>

 

 



