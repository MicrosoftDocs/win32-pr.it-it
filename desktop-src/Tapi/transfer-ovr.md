---
description: L'operazione di trasferimento consente a un'applicazione di inviare una sessione di comunicazione attualmente connessa a un indirizzo diverso.
ms.assetid: b1027f09-74e1-4da8-b718-bb55a56dda1d
title: Trasferimento
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 724b9ade43e41ab95a5baa6dfe7d3269f4e4a174
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104050063"
---
# <a name="transfer"></a><span data-ttu-id="5d459-103">Trasferimento</span><span class="sxs-lookup"><span data-stu-id="5d459-103">Transfer</span></span>

<span data-ttu-id="5d459-104">L'operazione di trasferimento consente a un'applicazione di inviare una sessione di comunicazione attualmente connessa a un indirizzo diverso.</span><span class="sxs-lookup"><span data-stu-id="5d459-104">The transfer operation allows an application to send a currently connected communications session to a different address.</span></span>

<span data-ttu-id="5d459-105">TAPI fornisce due meccanismi per trasferire una sessione corrente a un indirizzo diverso.</span><span class="sxs-lookup"><span data-stu-id="5d459-105">TAPI provides two mechanisms for transferring a current session to a different address.</span></span> <span data-ttu-id="5d459-106">Il trasferimento in modo *cieco* consente di trasferire una sessione esistente a un indirizzo di destinazione specificato in una fase.</span><span class="sxs-lookup"><span data-stu-id="5d459-106">*Blind transfer* allows an existing session to be transferred to a specified destination address in one phase.</span></span> <span data-ttu-id="5d459-107">Il *trasferimento di consultazioni* richiede l'esistenza di una sessione di consultazione oltre alla sessione corrente per la configurazione per il trasferimento e quindi il completamento del trasferimento.</span><span class="sxs-lookup"><span data-stu-id="5d459-107">*Consultation transfer* requires the existence of a consultation session in addition to the current session to set up for the transfer, and then completion of the transfer.</span></span> <span data-ttu-id="5d459-108">La scelta tra questi due tipi è spesso basata sulle funzionalità del provider di servizi perché alcuni provider di servizi non supportano il trasferimento in modalità cieca.</span><span class="sxs-lookup"><span data-stu-id="5d459-108">The choice between these two types is frequently based on service provider capabilities because some service providers do not support blind transfer.</span></span> <span data-ttu-id="5d459-109">In alcuni casi, le esigenze dell'applicazione possono far trasferire il consultivo al metodo preferito anche laddove è possibile il trasferimento cieco.</span><span class="sxs-lookup"><span data-stu-id="5d459-109">In some cases, application needs may make the consultative transfer the preferred method even where blind transfer is possible.</span></span>

<span data-ttu-id="5d459-110">L'operazione di trasferimento cieco è fondamentalmente la stessa in TAPI 2 e TAPI 3, ma il trasferimento consultivo segue modelli leggermente diversi.</span><span class="sxs-lookup"><span data-stu-id="5d459-110">The blind transfer operation is basically the same under TAPI 2 and TAPI 3, but consultative transfer follows slightly different patterns.</span></span>

<span data-ttu-id="5d459-111">**TAPI 2. x:** Il trasferimento consultivo inizia con la chiamata a [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), che inserisce la chiamata esistente sulla condizione di consultazione e identifica la chiamata come destinazione per la richiesta di completamento del trasferimento successiva.</span><span class="sxs-lookup"><span data-stu-id="5d459-111">**TAPI 2.x:** Consultative transfer starts with invoking [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), which places the existing call on consultation hold, and identifies this call as the target for the next transfer-completion request.</span></span> <span data-ttu-id="5d459-112">La funzione **lineSetupTransfer** alloca inoltre una chiamata di consultazione che può essere utilizzata per stabilire la chiamata di consultazione con l'entità alla quale verrà trasferita la chiamata.</span><span class="sxs-lookup"><span data-stu-id="5d459-112">The **lineSetupTransfer** function also allocates a consultation call that can be used to establish the consultation call with the party to which the call will be transferred.</span></span> <span data-ttu-id="5d459-113">L'applicazione può comporre l'estensione dell'entità di destinazione nella chiamata di consultazione (usando [**lineDial**](/windows/win32/api/tapi/nf-tapi-linedial)) oppure può eliminare e deallocare la chiamata di consultazione e attivare invece una chiamata a esistente (usando [**lineUnhold**](/windows/win32/api/tapi/nf-tapi-lineunhold)), se supportata dall'opzione.</span><span class="sxs-lookup"><span data-stu-id="5d459-113">The application can dial the extension of the destination party on the consultation call (using [**lineDial**](/windows/win32/api/tapi/nf-tapi-linedial)), or it can drop and deallocate the consultation call and instead activate an existing held call (using [**lineUnhold**](/windows/win32/api/tapi/nf-tapi-lineunhold)), if supported by the switch.</span></span> <span data-ttu-id="5d459-114">Mentre la chiamata iniziale è in attesa di consultazione e la chiamata di consultazione è attiva, l'applicazione può alternare queste chiamate usando [**lineSwapHold**](/windows/win32/api/tapi/nf-tapi-lineswaphold).</span><span class="sxs-lookup"><span data-stu-id="5d459-114">While the initial call is on consultation hold and the consultation call is active, the application can toggle between these calls using [**lineSwapHold**](/windows/win32/api/tapi/nf-tapi-lineswaphold).</span></span>

<span data-ttu-id="5d459-115">**TAPI 2. x:** Le applicazioni completano il trasferimento consultivo usando [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span><span class="sxs-lookup"><span data-stu-id="5d459-115">**TAPI 2.x:** Applications complete the consultative transfer using [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span></span> <span data-ttu-id="5d459-116">Entrambe le chiamate verranno ripristinate allo stato *inattivo* .</span><span class="sxs-lookup"><span data-stu-id="5d459-116">Both calls will revert to the *idle* state.</span></span>

<span data-ttu-id="5d459-117">Le applicazioni possono usare la funzionalità di trasferimento in un solo passaggio di molti PBX (un singolo pulsante premere per stabilire un trasferimento di consultazione) impostando il parametro *lpCallParams* sul membro **LINECALLPARAMFLAGS \_ ONESTEPTRANSFER** delle [ \_ costanti LINECALLPARAMFLAGS](./linecallparamflags--constants.md) quando si chiama [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer).</span><span class="sxs-lookup"><span data-stu-id="5d459-117">Applications can use the "one-step transfer" feature of many PBXs (a single button press to establish a consultation transfer) by setting the *lpCallParams* parameter to the **LINECALLPARAMFLAGS\_ONESTEPTRANSFER** member of the [LINECALLPARAMFLAGS\_ constants](./linecallparamflags--constants.md) when calling [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer).</span></span>

<span data-ttu-id="5d459-118">**TAPI 3. x:** Il trasferimento consultivo inizia con l'uso di [**ITAddress:: CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) per creare una chiamata di consultazione al nuovo indirizzo di destinazione.</span><span class="sxs-lookup"><span data-stu-id="5d459-118">**TAPI 3.x:** Consultative transfer starts with using [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) to create a consultation call to the new destination address.</span></span> <span data-ttu-id="5d459-119">[**ITBasicCallControl:: Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer) viene quindi chiamato sull'oggetto chiamata originale utilizzando un puntatore al nuovo oggetto chiamata di consultazione come parametro.</span><span class="sxs-lookup"><span data-stu-id="5d459-119">[**ITBasicCallControl::Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer) is then called on the original call object using a pointer to the new consultation call object as a parameter.</span></span> <span data-ttu-id="5d459-120">Se si chiama [**ITBasicCallControl:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) nell'oggetto chiamata di consultazione, il trasferimento viene completato.</span><span class="sxs-lookup"><span data-stu-id="5d459-120">Calling [**ITBasicCallControl::Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish) on the consultation call object then completes the transfer.</span></span>

<span data-ttu-id="5d459-121">L'applicazione deve rilasciare le risorse della sessione in seguito al completamento di un'operazione di trasferimento.</span><span class="sxs-lookup"><span data-stu-id="5d459-121">The application must release session resources following the successful completion of a transfer operation.</span></span>

<span data-ttu-id="5d459-122">Non tutti i provider di servizi supportano l'utilizzo di questa operazione.</span><span class="sxs-lookup"><span data-stu-id="5d459-122">Not all service providers support use of this operation.</span></span>

<span data-ttu-id="5d459-123">**TAPI 2. x:** Vedere [**lineBlindTransfer**](/windows/win32/api/tapi/nf-tapi-lineblindtransfer), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span><span class="sxs-lookup"><span data-stu-id="5d459-123">**TAPI 2.x:** See [**lineBlindTransfer**](/windows/win32/api/tapi/nf-tapi-lineblindtransfer), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), [**lineCompleteTransfer**](/windows/win32/api/tapi/nf-tapi-linecompletetransfer).</span></span>

<span data-ttu-id="5d459-124">**TAPI 3. x:** Vedere [**ITBasicCallControl:: BlindTransfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-blindtransfer), [**ITAddress:: CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), [**ITBasicCallControl:: Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer), [**ITBasicCallControl:: Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish).</span><span class="sxs-lookup"><span data-stu-id="5d459-124">**TAPI 3.x:** See [**ITBasicCallControl::BlindTransfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-blindtransfer), [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall), [**ITBasicCallControl::Transfer**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-transfer), [**ITBasicCallControl::Finish**](/windows/desktop/api/tapi3if/nf-tapi3if-itbasiccallcontrol-finish).</span></span>

 

 
