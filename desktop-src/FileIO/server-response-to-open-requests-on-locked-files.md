---
description: È possibile ridurre al minimo l'impatto dell'applicazione su altri client e l'impatto che hanno sull'applicazione concedendo il maggior numero possibile di condivisione, richiedendo il livello di accesso minimo necessario e usando il blocco opportunistico meno intrusivo adatto all'applicazione.
ms.assetid: c28b0ae0-0d35-4b59-9f54-87c55ca72716
title: Risposta server per l'apertura di richieste su file bloccati
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d397613f6b54f2b42c26a5674a787b796f5f19e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104526857"
---
# <a name="server-response-to-open-requests-on-locked-files"></a><span data-ttu-id="b86ac-103">Risposta server per l'apertura di richieste su file bloccati</span><span class="sxs-lookup"><span data-stu-id="b86ac-103">Server Response to Open Requests on Locked Files</span></span>

<span data-ttu-id="b86ac-104">Il ciclo di vita di un blocco opportunistico include tre intervalli di tempo distinti.</span><span class="sxs-lookup"><span data-stu-id="b86ac-104">The life of an opportunistic lock includes three distinct time spans.</span></span> <span data-ttu-id="b86ac-105">Durante ogni, il server determina con diversi significa la reazione a una richiesta da un client di aprire un file bloccato da un altro client.</span><span class="sxs-lookup"><span data-stu-id="b86ac-105">During each, the server determines by different means its reaction to a request from a client to open a file locked by another client.</span></span> <span data-ttu-id="b86ac-106">In generale, è possibile ridurre al minimo l'impatto dell'applicazione su altri client e l'impatto che hanno sull'applicazione concedendo il maggior numero possibile di condivisione, richiedendo il livello di accesso minimo necessario e usando il blocco opportunistico meno intrusivo adatto all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b86ac-106">In general, you can minimize the impact your application has on other clients and the impact they have on your application by granting as much sharing as possible, requesting the minimum access level necessary, and using the least intrusive opportunistic lock suitable for your application.</span></span>

<span data-ttu-id="b86ac-107">Il primo è il periodo dopo il quale il server apre un file per un client, ma prima di concedere un blocco.</span><span class="sxs-lookup"><span data-stu-id="b86ac-107">First is the period after the server opens a file for a client but before it grants a lock.</span></span> <span data-ttu-id="b86ac-108">Durante questo periodo di tempo non esiste alcun blocco nel file e il server dipende dalla condivisione, dalle modalità di accesso e dal tipo di blocco opportunistico richiesto per determinare la reazione a un'altra richiesta di apertura dello stesso file.</span><span class="sxs-lookup"><span data-stu-id="b86ac-108">During this time, no lock exists on the file, and the server depends on sharing, access modes, and the type of opportunistic lock you request to determine its reaction to another request to open the same file.</span></span> <span data-ttu-id="b86ac-109">Ad esempio, se si apre il file in questione per l'accesso in scrittura, è possibile impedire la concessione di blocchi opportunistici che consentono l'accesso in lettura alla cache ad altri client.</span><span class="sxs-lookup"><span data-stu-id="b86ac-109">For example, if you open the file in question for write access, you may inhibit granting opportunistic locks that allow read caching access to other clients.</span></span> <span data-ttu-id="b86ac-110">L'intervallo di tempo prima che il Server conceda un blocco si trova in genere nell'intervallo di millisecondi, ma potrebbe essere più lungo.</span><span class="sxs-lookup"><span data-stu-id="b86ac-110">The time span before the server grants a lock is typically in the millisecond range but may be longer.</span></span>

<span data-ttu-id="b86ac-111">Dopo la concessione del blocco opportunistico, il server esamina il blocco per determinare la risposta del server a una richiesta aperta su un file bloccato.</span><span class="sxs-lookup"><span data-stu-id="b86ac-111">After the opportunistic lock is granted, the server examines the lock to determine server reaction to an open request on a locked file.</span></span> <span data-ttu-id="b86ac-112">Anche in questo caso, il modo in cui l'applicazione ha aperto il file e il tipo di blocco che possiede influiscono sulle modalità di risposta del server.</span><span class="sxs-lookup"><span data-stu-id="b86ac-112">Again, how your application opened the file and the type of lock it holds affects how the server responds.</span></span> <span data-ttu-id="b86ac-113">Per ulteriori informazioni sul modo in cui il server risponde in ogni caso, vedere [tipi di blocchi opportunistici](types-of-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="b86ac-113">For more information on how the server responds in each case, see [Types of Opportunistic Locks](types-of-opportunistic-locks.md).</span></span>

<span data-ttu-id="b86ac-114">Infine, è presente l'intervallo dopo il quale il server determina che il blocco deve essere interrotto (terminato), ma prima che l'applicazione completi la propria reazione all'interruzione.</span><span class="sxs-lookup"><span data-stu-id="b86ac-114">Finally, there is the span after the server determines that your lock should be broken (ended) but before your application completes its reaction to the break.</span></span> <span data-ttu-id="b86ac-115">A seconda del tipo di blocco, l'applicazione può eseguire il downgrade del blocco a un livello inferiore o a nessuno.</span><span class="sxs-lookup"><span data-stu-id="b86ac-115">Depending on the type of lock, your application can downgrade the lock to a lower level or to none at all.</span></span> <span data-ttu-id="b86ac-116">L'applicazione può anche chiudere il file e il blocco.</span><span class="sxs-lookup"><span data-stu-id="b86ac-116">Your application can also close the file and the lock.</span></span> <span data-ttu-id="b86ac-117">Durante questo periodo di tempo, il server rimane in sospeso per tutte le richieste provenienti da altri client per aprire il file bloccato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="b86ac-117">During this time, the server holds in abeyance any requests from other clients to open the formerly locked file.</span></span> <span data-ttu-id="b86ac-118">Questo intervallo di tempo può variare da millisecondi a decine di secondi.</span><span class="sxs-lookup"><span data-stu-id="b86ac-118">This time span may range from milliseconds to tens of seconds.</span></span> <span data-ttu-id="b86ac-119">Per ulteriori informazioni, vedere la pagina relativa alla [suddivisione dei blocchi opportunistici](breaking-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="b86ac-119">For more information, see [Breaking Opportunistic Locks](breaking-opportunistic-locks.md).</span></span>

 

 



