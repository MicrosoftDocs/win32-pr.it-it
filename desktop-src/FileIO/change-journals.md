---
description: Quando viene apportata una modifica a un file o a una directory in un volume, il Journal delle modifiche USN per tale volume viene aggiornato con una descrizione della modifica e il nome del file o della directory.
ms.assetid: 9a158c2b-da8e-4ca9-b3c1-2185cf41eb7d
title: Journal delle modifiche
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fb5052ec87830a822270071a6ee00f1c3f7cffdd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103884898"
---
# <a name="change-journals"></a><span data-ttu-id="51e4b-103">Journal delle modifiche</span><span class="sxs-lookup"><span data-stu-id="51e4b-103">Change Journals</span></span>

<span data-ttu-id="51e4b-104">Un'applicazione di backup automatico è un esempio di programma che deve verificare la presenza di modifiche allo stato di un volume per eseguirne l'attività.</span><span class="sxs-lookup"><span data-stu-id="51e4b-104">An automatic backup application is one example of a program that must check for changes to the state of a volume to perform its task.</span></span> <span data-ttu-id="51e4b-105">Il metodo di forza bruta per verificare le modifiche nelle directory o nei file consiste nell'eseguire la scansione dell'intero volume.</span><span class="sxs-lookup"><span data-stu-id="51e4b-105">The brute force method of checking for changes in directories or files is to scan the entire volume.</span></span> <span data-ttu-id="51e4b-106">Questo approccio, tuttavia, non è spesso accettabile a causa della riduzione delle prestazioni del sistema.</span><span class="sxs-lookup"><span data-stu-id="51e4b-106">However, this is often not an acceptable approach because of the decrease in system performance it would cause.</span></span> <span data-ttu-id="51e4b-107">Un altro metodo prevede che l'applicazione registri una notifica di directory (chiamando le funzioni [**FindFirstChangeNotification**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstchangenotificationa) o [**ReadDirectoryChangesW**](/windows/desktop/api/WinBase/nf-winbase-readdirectorychangesw) ) per le directory di cui eseguire il backup.</span><span class="sxs-lookup"><span data-stu-id="51e4b-107">Another method is for the application to register a directory notification (by calling the [**FindFirstChangeNotification**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstchangenotificationa) or [**ReadDirectoryChangesW**](/windows/desktop/api/WinBase/nf-winbase-readdirectorychangesw) functions) for the directories to be backed up.</span></span> <span data-ttu-id="51e4b-108">Questa operazione è più efficiente rispetto al primo metodo, tuttavia, richiede l'esecuzione di un'applicazione in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="51e4b-108">This is more efficient than the first method, however, it requires that an application be running at all times.</span></span> <span data-ttu-id="51e4b-109">Inoltre, se è necessario eseguire il backup di un numero elevato di directory e file, la quantità di sovraccarico di elaborazione e memoria per tale applicazione potrebbe causare una riduzione delle prestazioni del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="51e4b-109">Also, if a large number of directories and files must be backed up, the amount of processing and memory overhead for such an application might also cause the operating system's performance to decrease.</span></span>

<span data-ttu-id="51e4b-110">Per evitare questi svantaggi, il file system NTFS gestisce un journal delle modifiche del numero di sequenza di aggiornamento (USN).</span><span class="sxs-lookup"><span data-stu-id="51e4b-110">To avoid these disadvantages, the NTFS file system maintains an update sequence number (USN) change journal.</span></span> <span data-ttu-id="51e4b-111">Quando viene apportata una modifica a un file o a una directory in un volume, il Journal delle modifiche USN per tale volume viene aggiornato con una descrizione della modifica e il nome del file o della directory.</span><span class="sxs-lookup"><span data-stu-id="51e4b-111">When any change is made to a file or directory in a volume, the USN change journal for that volume is updated with a description of the change and the name of the file or directory.</span></span>

<span data-ttu-id="51e4b-112">I journal delle modifiche sono necessari anche per ripristinare file system indicizzazione, ad esempio dopo un errore del computer o del volume.</span><span class="sxs-lookup"><span data-stu-id="51e4b-112">Change journals are also needed to recover file system indexing for example after a computer or volume failure.</span></span> <span data-ttu-id="51e4b-113">La possibilità di recuperare l'indicizzazione significa che il file system può evitare il processo che richiede molto tempo di reindicizzare l'intero volume in tali casi.</span><span class="sxs-lookup"><span data-stu-id="51e4b-113">The ability to recover indexing means the file system can avoid the time-consuming process of reindexing the entire volume in such cases.</span></span>

<span data-ttu-id="51e4b-114">Negli argomenti seguenti vengono illustrati i journal delle modifiche.</span><span class="sxs-lookup"><span data-stu-id="51e4b-114">The following topics discuss change journals.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="51e4b-115">Contenuto della sezione</span><span class="sxs-lookup"><span data-stu-id="51e4b-115">In this section</span></span>



| <span data-ttu-id="51e4b-116">Argomento</span><span class="sxs-lookup"><span data-stu-id="51e4b-116">Topic</span></span>                                                                                                                             | <span data-ttu-id="51e4b-117">Descrizione</span><span class="sxs-lookup"><span data-stu-id="51e4b-117">Description</span></span>                                                                                                                                                                                                                                          |
|-----------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="51e4b-118">Modificare i record del Journal</span><span class="sxs-lookup"><span data-stu-id="51e4b-118">Change Journal Records</span></span>](change-journal-records.md)<br/>                                                                   | <span data-ttu-id="51e4b-119">Quando vengono aggiunti, eliminati e modificati file, directory e altri oggetti di file system NTFS, il file system NTFS immette i record del journal delle modifiche nei flussi, uno per ogni volume del computer.</span><span class="sxs-lookup"><span data-stu-id="51e4b-119">As files, directories, and other NTFS file system objects are added, deleted, and modified, the NTFS file system enters change journal records in streams, one for each volume on the computer.</span></span><br/>                                           |
| [<span data-ttu-id="51e4b-120">Utilizzo dell'identificatore del journal delle modifiche</span><span class="sxs-lookup"><span data-stu-id="51e4b-120">Using the Change Journal Identifier</span></span>](using-the-change-journal-identifier.md)<br/>                                         | <span data-ttu-id="51e4b-121">Il file system NTFS associa un identificatore a 64 bit senza segno a ogni Journal delle modifiche.</span><span class="sxs-lookup"><span data-stu-id="51e4b-121">The NTFS file system associates an unsigned 64-bit identifier with each change journal.</span></span><br/>                                                                                                                                                   |
| [<span data-ttu-id="51e4b-122">Creazione, modifica ed eliminazione di un journal delle modifiche</span><span class="sxs-lookup"><span data-stu-id="51e4b-122">Creating, Modifying, and Deleting a Change Journal</span></span>](creating-modifying-and-deleting-a-change-journal.md)<br/>             | <span data-ttu-id="51e4b-123">Gli amministratori possono creare, eliminare e ricreare i journal delle modifiche.</span><span class="sxs-lookup"><span data-stu-id="51e4b-123">Administrators can create, delete, and re-create change journals.</span></span><br/>                                                                                                                                                                         |
| [<span data-ttu-id="51e4b-124">Ottenere un handle del volume per le operazioni del journal delle modifiche</span><span class="sxs-lookup"><span data-stu-id="51e4b-124">Obtaining a Volume Handle for Change Journal Operations</span></span>](obtaining-a-volume-handle-for-change-journal-operations.md)<br/> | <span data-ttu-id="51e4b-125">Per ottenere un handle per un volume da utilizzare con le operazioni del journal delle modifiche USN (Update Sequence Number), chiamare la funzione [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) con il parametro *lpFileName* impostato su una stringa nel formato seguente: \\ \\ . \\ *X*.</span><span class="sxs-lookup"><span data-stu-id="51e4b-125">To obtain a handle to a volume for use with update sequence number (USN) change journal operations, call the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function with the *lpFileName* parameter set to a string of the following form: \\\\.\\*X*.</span></span><br/> |
| [<span data-ttu-id="51e4b-126">Operazioni Journal delle modifiche</span><span class="sxs-lookup"><span data-stu-id="51e4b-126">Change Journal Operations</span></span>](change-journal-operations.md)<br/>                                                             | <span data-ttu-id="51e4b-127">Codici e strutture di controllo da utilizzare con il Journal delle modifiche del numero di sequenza di aggiornamento (USN) file system NTFS.</span><span class="sxs-lookup"><span data-stu-id="51e4b-127">Control codes and structures to use with the NTFS file system update sequence number (USN) change journal.</span></span><br/>                                                                                                                                |



 

 

 




