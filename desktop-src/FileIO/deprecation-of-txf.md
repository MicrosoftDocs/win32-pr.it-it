---
description: In questo argomento vengono illustrate le alternative all'utilizzo dell'API NTFS transazionale (TxF) negli scenari di utilizzo comuni.
ms.assetid: 9ee26e7e-990e-4cd3-8180-f0fcaac2b752
title: Alternative all'utilizzo di Transactional NTFS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cc69974f27abfba0323ea4d3f16a720e5e99e69d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106310029"
---
# <a name="alternatives-to-using-transactional-ntfs"></a><span data-ttu-id="93d3a-103">Alternative all'utilizzo di Transactional NTFS</span><span class="sxs-lookup"><span data-stu-id="93d3a-103">Alternatives to using Transactional NTFS</span></span>

-   [<span data-ttu-id="93d3a-104">Contenuto</span><span class="sxs-lookup"><span data-stu-id="93d3a-104">Abstract</span></span>](#abstract)
-   [<span data-ttu-id="93d3a-105">Introduzione</span><span class="sxs-lookup"><span data-stu-id="93d3a-105">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="93d3a-106">Alternative a TxF per scenario</span><span class="sxs-lookup"><span data-stu-id="93d3a-106">Alternatives to TxF by Scenario</span></span>](#alternatives-to-txf-by-scenario)
-   [<span data-ttu-id="93d3a-107">Applicazioni che aggiornano un singolo file con dati di tipo "documento"</span><span class="sxs-lookup"><span data-stu-id="93d3a-107">Applications updating a single file with "document-like" data</span></span>](#applications-updating-a-single-file-with-document-like-data)
-   [<span data-ttu-id="93d3a-108">Applicazioni che eseguono aggiornamenti a più file e/o all'hive del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="93d3a-108">Applications performing updates to multiple files and/or to the registry hive</span></span>](#applications-performing-updates-to-multiple-files-andor-to-the-registry-hive)
-   [<span data-ttu-id="93d3a-109">Applicazioni che gestiscono un set di dati strutturati</span><span class="sxs-lookup"><span data-stu-id="93d3a-109">Applications managing a set of structured data</span></span>](#applications-managing-a-set-of-structured-data)
-   [<span data-ttu-id="93d3a-110">Applicazioni con transazioni che coinvolgono file in un volume NTFS locale e tabelle in un database SQL esterno</span><span class="sxs-lookup"><span data-stu-id="93d3a-110">Applications with Transactions involving files on a local NTFS volume and Tables in an external SQL database</span></span>](#applications-with-transactions-involving-files-on-a-local-ntfs-volume-and-tables-in-an-external-sql-database)
-   [<span data-ttu-id="93d3a-111">Chiusura & azione consigliata</span><span class="sxs-lookup"><span data-stu-id="93d3a-111">Closing & Recommended Action</span></span>](/windows)

## <a name="abstract"></a><span data-ttu-id="93d3a-112">Contenuto</span><span class="sxs-lookup"><span data-stu-id="93d3a-112">Abstract</span></span>

<span data-ttu-id="93d3a-113">Microsoft consiglia vivamente agli sviluppatori di esaminare l'utilizzo delle alternative discusse (o, in alcuni casi, di analizzare altre alternative) invece di adottare una piattaforma API che potrebbe non essere disponibile nelle versioni future di Windows.</span><span class="sxs-lookup"><span data-stu-id="93d3a-113">Microsoft strongly recommends developers investigate utilizing the discussed alternatives (or in some cases, investigate other alternatives) rather than adopting an API platform which may not be available in future versions of Windows.</span></span>

## <a name="introduction"></a><span data-ttu-id="93d3a-114">Introduzione</span><span class="sxs-lookup"><span data-stu-id="93d3a-114">Introduction</span></span>

<span data-ttu-id="93d3a-115">TxF è stato introdotto con Windows Vista come mezzo per introdurre transazioni di file atomici in Windows.</span><span class="sxs-lookup"><span data-stu-id="93d3a-115">TxF was introduced with Windows Vista as a means to introduce atomic file transactions to Windows.</span></span> <span data-ttu-id="93d3a-116">Consente agli sviluppatori Windows di avere un'atomicità transazionale per le operazioni sui file in transazioni con un singolo file, in transazioni che coinvolgono più file e in transazioni che si estendono su più origini, ad esempio il registro (tramite TxR) e i database, ad esempio SQL.</span><span class="sxs-lookup"><span data-stu-id="93d3a-116">It allows for Windows developers to have transactional atomicity for file operations in transactions with a single file, in transactions involving multiple files, and in transactions spanning multiple sources – such as the Registry (through TxR), and databases (such as SQL).</span></span> <span data-ttu-id="93d3a-117">Sebbene TxF sia un potente set di API, l'interesse degli sviluppatori è molto limitato in questa piattaforma API, poiché Windows Vista è dovuto principalmente alla complessità e alle varie sfumature che gli sviluppatori devono considerare come parte dello sviluppo di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="93d3a-117">While TxF is a powerful set of APIs, there has been extremely limited developer interest in this API platform since Windows Vista primarily due to its complexity and various nuances which developers need to consider as part of application development.</span></span> <span data-ttu-id="93d3a-118">Di conseguenza, Microsoft prende in considerazione la deprecazione delle API TxF in una versione futura di Windows per concentrare lo sviluppo e le attività di manutenzione su altre funzionalità e API che hanno un valore maggiore per la maggior parte dei clienti.</span><span class="sxs-lookup"><span data-stu-id="93d3a-118">As a result, Microsoft is considering deprecating TxF APIs in a future version of Windows to focus development and maintenance efforts on other features and APIs which have more value to a larger majority of customers.</span></span> <span data-ttu-id="93d3a-119">Nella sezione successiva vengono descritti i metodi alternativi di esempio per ottenere risultati simili come TxF per diversi tipi di scenari di applicazione.</span><span class="sxs-lookup"><span data-stu-id="93d3a-119">The next section describes sample alternative methods to achieve similar results as TxF would for several types of application scenarios.</span></span>

## <a name="alternatives-to-txf-by-scenario"></a><span data-ttu-id="93d3a-120">Alternative a TxF per scenario</span><span class="sxs-lookup"><span data-stu-id="93d3a-120">Alternatives to TxF by Scenario</span></span>

<span data-ttu-id="93d3a-121">Con le limitazioni descritte in precedenza, gli sviluppatori dovrebbero esaminare le alternative a TxF per coprire scenari di applicazione non soddisfatti da TxF.</span><span class="sxs-lookup"><span data-stu-id="93d3a-121">With the limitations described above, developers should investigate alternatives to TxF to cover application scenarios which are not met by TxF.</span></span> <span data-ttu-id="93d3a-122">Di seguito sono illustrate alcune alternative suggerite agli usi comuni di TxF che gli sviluppatori possono prendere in considerazione.</span><span class="sxs-lookup"><span data-stu-id="93d3a-122">Discussed here are some suggested alternatives to common uses of TxF for developers to consider.</span></span> <span data-ttu-id="93d3a-123">Si noti che questo elenco non è esaustivo né completo.</span><span class="sxs-lookup"><span data-stu-id="93d3a-123">Note that this list is neither exhaustive nor complete.</span></span>

## <a name="applications-updating-a-single-file-with-document-like-data"></a><span data-ttu-id="93d3a-124">Applicazioni che aggiornano un singolo file con dati di tipo "documento"</span><span class="sxs-lookup"><span data-stu-id="93d3a-124">Applications updating a single file with "document-like" data</span></span>

<span data-ttu-id="93d3a-125">Molte applicazioni che gestiscono i dati di tipo "documento" tendono a caricare l'intero documento in memoria, a operare su di esso e quindi a scriverlo di nuovo per salvare le modifiche.</span><span class="sxs-lookup"><span data-stu-id="93d3a-125">Many applications which deal with "document-like" data tend to load the entire document into memory, operate on it, and then write it back out to save the changes.</span></span> <span data-ttu-id="93d3a-126">L'atomicità necessaria è che le modifiche siano completamente applicate o non applicate, perché uno stato incoerente renderebbe danneggiato il file.</span><span class="sxs-lookup"><span data-stu-id="93d3a-126">The needed atomicity here is that the changes either are completely applied or not applied at all, as an inconsistent state would render the file corrupt.</span></span> <span data-ttu-id="93d3a-127">Un approccio comune consiste nel scrivere il documento in un nuovo file, quindi sostituire il file originale con quello nuovo.</span><span class="sxs-lookup"><span data-stu-id="93d3a-127">A common approach is to write the document to a new file, then replace the original file with the new one.</span></span> <span data-ttu-id="93d3a-128">Un metodo per eseguire questa operazione è con l'API [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) .</span><span class="sxs-lookup"><span data-stu-id="93d3a-128">One method to do this is with the [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) API.</span></span>

## <a name="applications-performing-updates-to-multiple-files-andor-to-the-registry-hive"></a><span data-ttu-id="93d3a-129">Applicazioni che eseguono aggiornamenti a più file e/o all'hive del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="93d3a-129">Applications performing updates to multiple files and/or to the registry hive</span></span>

<span data-ttu-id="93d3a-130">Sono disponibili molte applicazioni che devono eseguire atomicamente un aggiornamento a un set di file e al registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="93d3a-130">There are many applications which need to atomically perform an update to a set of files and to the registry.</span></span> <span data-ttu-id="93d3a-131">Questo scenario viene in genere eseguito tramite un'applicazione di installazione, ad esempio Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="93d3a-131">This scenario is most commonly achieved through an installer application, such as Windows Installer.</span></span> <span data-ttu-id="93d3a-132">Per ulteriori informazioni su Windows Installer, vedere [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="93d3a-132">For more information on Windows Installer, please refer to [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="applications-managing-a-set-of-structured-data"></a><span data-ttu-id="93d3a-133">Applicazioni che gestiscono un set di dati strutturati</span><span class="sxs-lookup"><span data-stu-id="93d3a-133">Applications managing a set of structured data</span></span>

<span data-ttu-id="93d3a-134">Molte applicazioni gestiscono un set di strutture di dati proprietarie di tipi diversi come mezzo per archiviare i dati.</span><span class="sxs-lookup"><span data-stu-id="93d3a-134">Many applications manage some set of proprietary data structures of varying types as a means to store data.</span></span> <span data-ttu-id="93d3a-135">Una sfida significativa per queste applicazioni è il processo di gestione dell'integrità di puntatori/riferimenti interni se si verifica un errore durante un'operazione di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="93d3a-135">A significant challenge for these applications is the process of maintaining the integrity of internal pointers/references if a failure occurs during an update operation.</span></span> <span data-ttu-id="93d3a-136">La creazione del meccanismo per questo è effettivamente un "problema hardware" e pertanto la maggior parte delle applicazioni si basa su un server di database reale per gestire il set di dati.</span><span class="sxs-lookup"><span data-stu-id="93d3a-136">Creating the mechanism for this is indeed a "hard problem", and therefore most applications will rely on a true database server to manage their dataset.</span></span>

<span data-ttu-id="93d3a-137">Due suggerimenti per semplificare la gestione dei dati strutturati sono:</span><span class="sxs-lookup"><span data-stu-id="93d3a-137">Two suggestions to help manage structured data are:</span></span>

-   <span data-ttu-id="93d3a-138">Microsoft fornisce la posta in arrivo Extensible Storage Engine (ESE) in Windows per consentire alle applicazioni di eseguire operazioni di aggiornamento e recupero di dati transazionali.</span><span class="sxs-lookup"><span data-stu-id="93d3a-138">Microsoft provides the Extensible Storage Engine (ESE) inbox in Windows to enable applications to perform transacted data update and retrieval operations.</span></span> <span data-ttu-id="93d3a-139">Per ulteriori informazioni su Extensible Storage Engine (ESE), consultare <https://msdn.microsoft.com/library/gg269259.aspx> .</span><span class="sxs-lookup"><span data-stu-id="93d3a-139">For more information on the Extensible Storage Engine (ESE), please see <https://msdn.microsoft.com/library/gg269259.aspx>.</span></span>
-   <span data-ttu-id="93d3a-140">Per le applicazioni che richiedono un provider di database più potente, affidabile e scalabile, è consigliabile che i clienti utilizzino la funzionalità FILESTREAM disponibile con Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="93d3a-140">For applications that require a more powerful, robust, and scalable database provider, it is recommended that customers consider using the Filestream feature available with Microsoft SQL Server.</span></span> <span data-ttu-id="93d3a-141">Per ulteriori informazioni sui flussi di dati SQL, vedere <https://technet.microsoft.com/library/bb933993.aspx> .</span><span class="sxs-lookup"><span data-stu-id="93d3a-141">For more information on SQL Filestreams, please see <https://technet.microsoft.com/library/bb933993.aspx>.</span></span>

## <a name="applications-with-transactions-involving-files-on-a-local-ntfs-volume-and-tables-in-an-external-sql-database"></a><span data-ttu-id="93d3a-142">Applicazioni con transazioni che coinvolgono file in un volume NTFS locale e tabelle in un database SQL esterno</span><span class="sxs-lookup"><span data-stu-id="93d3a-142">Applications with Transactions involving files on a local NTFS volume and Tables in an external SQL database</span></span>

<span data-ttu-id="93d3a-143">Esistono classi di applicazioni che hanno esigenze di set di dati di grandi dimensioni o che devono avere atomicità transazionale in un'operazione che interessa un database esterno e l'archiviazione locale.</span><span class="sxs-lookup"><span data-stu-id="93d3a-143">There are classes of applications which either have large dataset needs, or need to have transactional atomicity in an operation involving an external database and local storage.</span></span> <span data-ttu-id="93d3a-144">Per questo scenario, è consigliabile che gli sviluppatori utilizzino i flussi di file SQL per eseguire operazioni di file transazionali.</span><span class="sxs-lookup"><span data-stu-id="93d3a-144">For this scenario, it is highly recommended that developers consider using SQL Filestreams to perform transactional file operations.</span></span> <span data-ttu-id="93d3a-145">Per ulteriori informazioni sui flussi di dati SQL, vedere <https://technet.microsoft.com/library/bb933993.aspx> .</span><span class="sxs-lookup"><span data-stu-id="93d3a-145">For more information on SQL Filestreams, please see <https://technet.microsoft.com/library/bb933993.aspx>.</span></span>

## <a name="closing--recommended-action"></a><span data-ttu-id="93d3a-146">Chiusura & azione consigliata</span><span class="sxs-lookup"><span data-stu-id="93d3a-146">Closing & Recommended Action</span></span>

<span data-ttu-id="93d3a-147">TxF è un set di API complesso e sfumato che non sono comunemente usati da applicazioni di terze parti.</span><span class="sxs-lookup"><span data-stu-id="93d3a-147">TxF is a complex and nuanced set of APIs which are not commonly used by 3rd party applications.</span></span> <span data-ttu-id="93d3a-148">Con la possibilità che queste API non siano disponibili nelle versioni future di Windows e il fatto che esistano metodi alternativi più semplici per realizzare molti degli scenari in cui TxF è stato sviluppato per, Microsoft consiglia vivamente agli sviluppatori di esaminare tali metodi alternativi anziché creare una dipendenza da TxF nelle proprie applicazioni.</span><span class="sxs-lookup"><span data-stu-id="93d3a-148">With the possibility that these APIs may not be available in future versions of Windows, and the fact that there are simpler alternative means to achieve many of the scenarios which TxF was developed for, Microsoft strongly recommends developers to investigate those alternative means instead of creating a dependency on TxF in their applications.</span></span>

 

 
