---
description: Tutte le informazioni su un file, incluse le dimensioni, gli indicatori di data e ora, le autorizzazioni e il contenuto dei dati, vengono archiviati nelle voci della tabella file master (MFT) o nello spazio esterno alla MFT descritta dalle voci MFT.
ms.assetid: e0933846-278e-4bc8-8982-c5819c252dad
title: Tabella file master (file system locali)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 260740c03e7b7e4ebe9c7e8ec90035431f6be649
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106317769"
---
# <a name="master-file-table-local-file-systems"></a><span data-ttu-id="e910e-103">Tabella file master (file system locali)</span><span class="sxs-lookup"><span data-stu-id="e910e-103">Master File Table (Local File Systems)</span></span>

<span data-ttu-id="e910e-104">Il file system NTFS contiene un file denominato *tabella file master* o MFT.</span><span class="sxs-lookup"><span data-stu-id="e910e-104">The NTFS file system contains a file called the *master file table*, or MFT.</span></span> <span data-ttu-id="e910e-105">In MFT è presente almeno una voce per ogni file in un volume file system NTFS, incluso il MFT stesso.</span><span class="sxs-lookup"><span data-stu-id="e910e-105">There is at least one entry in the MFT for every file on an NTFS file system volume, including the MFT itself.</span></span> <span data-ttu-id="e910e-106">Tutte le informazioni su un file, incluse le dimensioni, gli indicatori di data e ora, le autorizzazioni e il contenuto dei dati, vengono archiviati in voci MFT o nello spazio esterno alla MFT descritta dalle voci MFT.</span><span class="sxs-lookup"><span data-stu-id="e910e-106">All information about a file, including its size, time and date stamps, permissions, and data content, is stored either in MFT entries, or in space outside the MFT that is described by MFT entries.</span></span>

<span data-ttu-id="e910e-107">Man mano che i file vengono aggiunti a un volume di file system NTFS, più voci vengono aggiunte alla MFT e le dimensioni della MFT aumentano.</span><span class="sxs-lookup"><span data-stu-id="e910e-107">As files are added to an NTFS file system volume, more entries are added to the MFT and the MFT increases in size.</span></span> <span data-ttu-id="e910e-108">Quando i file vengono eliminati da un volume file system NTFS, le relative voci MFT sono contrassegnate come gratuite e possono essere riutilizzate.</span><span class="sxs-lookup"><span data-stu-id="e910e-108">When files are deleted from an NTFS file system volume, their MFT entries are marked as free and may be reused.</span></span> <span data-ttu-id="e910e-109">Tuttavia, lo spazio su disco allocato per queste voci non viene riallocato e la dimensione del MFT non diminuisce.</span><span class="sxs-lookup"><span data-stu-id="e910e-109">However, disk space that has been allocated for these entries is not reallocated, and the size of the MFT does not decrease.</span></span>

<span data-ttu-id="e910e-110">Il file system NTFS riserva spazio per la MFT, in modo che il MFT rimanga più contiguo possibile mentre cresce.</span><span class="sxs-lookup"><span data-stu-id="e910e-110">The NTFS file system reserves space for the MFT to keep the MFT as contiguous as possible as it grows.</span></span> <span data-ttu-id="e910e-111">Lo spazio riservato dal file system NTFS per il MFT in ogni volume è denominato zona MFT.</span><span class="sxs-lookup"><span data-stu-id="e910e-111">The space reserved by the NTFS file system for the MFT in each volume is called the MFT zone.</span></span> <span data-ttu-id="e910e-112">Lo spazio per file e directory viene inoltre allocato da questo spazio, ma solo dopo che è stato allocato tutto lo spazio del volume al di fuori della zona MFT.</span><span class="sxs-lookup"><span data-stu-id="e910e-112">Space for file and directories are also allocated from this space, but only after all of the volume space outside of the MFT zone has been allocated.</span></span>

<span data-ttu-id="e910e-113">A seconda della dimensione media del file e di altre variabili, è possibile allocare la zona MFT riservata o lo spazio non riservato sul disco prima di riempire la capacità del disco.</span><span class="sxs-lookup"><span data-stu-id="e910e-113">Depending on the average file size and other variables, either the reserved MFT zone or the unreserved space on the disk may be allocated first as the disk fills to capacity.</span></span> <span data-ttu-id="e910e-114">I volumi con un numero ridotto di file di dimensioni relativamente grandi allocano prima lo spazio riservato, mentre i volumi con un numero elevato di file di dimensioni relativamente ridotte allocano prima la zona MFT.</span><span class="sxs-lookup"><span data-stu-id="e910e-114">Volumes with a small number of relatively large files will allocate the unreserved space first, while volumes with a large number of relatively small files allocate the MFT zone first.</span></span> <span data-ttu-id="e910e-115">In entrambi i casi, la frammentazione di MFT inizia a essere eseguita quando un'area o l'altra viene allocata completamente.</span><span class="sxs-lookup"><span data-stu-id="e910e-115">In either case, fragmentation of the MFT starts to take place when one region or the other becomes fully allocated.</span></span> <span data-ttu-id="e910e-116">Se lo spazio non riservato è completamente allocato, lo spazio per i file e le directory utente verrà allocato dalla zona MFT.</span><span class="sxs-lookup"><span data-stu-id="e910e-116">If the unreserved space is completely allocated, space for user files and directories will be allocated from the MFT zone.</span></span> <span data-ttu-id="e910e-117">Se la zona MFT è completamente allocata, lo spazio per le nuove voci MFT verrà allocato dallo spazio non riservato.</span><span class="sxs-lookup"><span data-stu-id="e910e-117">If the MFT zone is completely allocated, space for new MFT entries will be allocated from the unreserved space.</span></span>

<span data-ttu-id="e910e-118">Il MFT può essere deframmentato.</span><span class="sxs-lookup"><span data-stu-id="e910e-118">The MFT itself can be defragmented.</span></span> <span data-ttu-id="e910e-119">Per ridurre la possibilità che la zona MFT venga allocata completamente prima del completamento del processo di deframmentazione, lasciare il numero massimo di spazio all'inizio della zona MFT prima di deframmentare il volume.</span><span class="sxs-lookup"><span data-stu-id="e910e-119">To reduce the chance of the MFT zone becoming fully allocated before the defragmentation process is complete, leave as much space at the beginning of the MFT zone as possible before defragmenting the volume.</span></span> <span data-ttu-id="e910e-120">Se la zona MFT viene allocata completamente prima del completamento della deframmentazione, è necessario che lo spazio non sia allocato all'esterno della zona MFT.</span><span class="sxs-lookup"><span data-stu-id="e910e-120">If the MFT zone becomes fully allocated before defragmentation has completed, there must be unallocated space outside of the MFT zone.</span></span>

<span data-ttu-id="e910e-121">L'area MFT predefinita viene calcolata e riservata dal sistema durante il montaggio del volume e si basa sulle dimensioni del volume.</span><span class="sxs-lookup"><span data-stu-id="e910e-121">The default MFT zone is calculated and reserved by the system when it mounts the volume, and is based on volume size.</span></span> <span data-ttu-id="e910e-122">È possibile aumentare la zona MFT per mezzo della voce del registro di sistema descritta in dettaglio nell' [articolo 174619 della Microsoft Knowledge base](https://support.microsoft.com/kb/174619), ma non è possibile rendere la zona MFT predefinita inferiore a quella calcolata.</span><span class="sxs-lookup"><span data-stu-id="e910e-122">You can increase the MFT zone by means of the registry entry detailed in [Microsoft Knowledge Base Article 174619](https://support.microsoft.com/kb/174619), but you cannot make the default MFT zone smaller than what is calculated.</span></span> <span data-ttu-id="e910e-123">L'aumento della zona MFT non riduce lo spazio su disco che gli utenti possono utilizzare per i file di dati.</span><span class="sxs-lookup"><span data-stu-id="e910e-123">Increasing the MFT zone does not decrease the disk space that users can use for data files.</span></span>

<span data-ttu-id="e910e-124">Per determinare le dimensioni correnti della MFT, analizzare l'unità di file system NTFS con utilità di deframmentazione dischi, quindi fare clic sul pulsante **Visualizza report** .</span><span class="sxs-lookup"><span data-stu-id="e910e-124">To determine the current size of the MFT, analyze the NTFS file system drive with Disk Defragmenter, then click the **View Report** button.</span></span> <span data-ttu-id="e910e-125">Verranno visualizzate le statistiche dell'unità, incluse le dimensioni MFT correnti e il numero di frammenti.</span><span class="sxs-lookup"><span data-stu-id="e910e-125">The drive statistics will be displayed, including the current MFT size, and number of fragments.</span></span> <span data-ttu-id="e910e-126">È anche possibile ottenere le dimensioni di MFT usando il codice di [**controllo \_ \_ \_ \_ dei dati del volume NTFS FSCTL**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) .</span><span class="sxs-lookup"><span data-stu-id="e910e-126">You can also obtain the size of the MFT by using the [**FSCTL\_GET\_NTFS\_VOLUME\_DATA**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) control code.</span></span>

 

 
