---
description: Quando un nuovo thread viene creato dalla funzione CreateThread o CreateRemoteThread, viene restituito un handle per il thread.
ms.assetid: ff91fe27-9773-4185-bc1e-57e897be3821
title: Handle di thread e identificatori
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 501d449bdb34d158ad14e52409967d4ef17f62f3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103881698"
---
# <a name="thread-handles-and-identifiers"></a><span data-ttu-id="84c0f-103">Handle di thread e identificatori</span><span class="sxs-lookup"><span data-stu-id="84c0f-103">Thread Handles and Identifiers</span></span>

<span data-ttu-id="84c0f-104">Quando un nuovo thread viene creato dalla funzione [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) o [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) , viene restituito un handle per il thread.</span><span class="sxs-lookup"><span data-stu-id="84c0f-104">When a new thread is created by the [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) or [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) function, a handle to the thread is returned.</span></span> <span data-ttu-id="84c0f-105">Per impostazione predefinita, questo handle dispone di diritti di accesso completi e, in base al controllo di accesso di sicurezza, può essere usato in qualsiasi funzione che accetta un handle di thread.</span><span class="sxs-lookup"><span data-stu-id="84c0f-105">By default, this handle has full access rights, and—subject to security access checking—can be used in any of the functions that accept a thread handle.</span></span> <span data-ttu-id="84c0f-106">Questo handle può essere ereditato dai processi figlio, a seconda del flag di ereditarietà specificato quando viene creato.</span><span class="sxs-lookup"><span data-stu-id="84c0f-106">This handle can be inherited by child processes, depending on the inheritance flag specified when it is created.</span></span> <span data-ttu-id="84c0f-107">L'handle può essere duplicato da [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle), che consente di creare un handle del thread con un subset dei diritti di accesso.</span><span class="sxs-lookup"><span data-stu-id="84c0f-107">The handle can be duplicated by [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle), which enables you to create a thread handle with a subset of the access rights.</span></span> <span data-ttu-id="84c0f-108">L'handle è valido fino alla chiusura, anche dopo che il thread che rappresenta è stato terminato.</span><span class="sxs-lookup"><span data-stu-id="84c0f-108">The handle is valid until closed, even after the thread it represents has been terminated.</span></span>

<span data-ttu-id="84c0f-109">Anche le funzioni [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) e [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) restituiscono un identificatore che identifica in modo univoco il thread in tutto il sistema.</span><span class="sxs-lookup"><span data-stu-id="84c0f-109">The [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) and [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) functions also return an identifier that uniquely identifies the thread throughout the system.</span></span> <span data-ttu-id="84c0f-110">Un thread può usare la funzione [**GetCurrentThreadID**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) per ottenere il proprio identificatore del thread.</span><span class="sxs-lookup"><span data-stu-id="84c0f-110">A thread can use the [**GetCurrentThreadId**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) function to get its own thread identifier.</span></span> <span data-ttu-id="84c0f-111">Gli identificatori sono validi dal momento in cui il thread viene creato fino a quando il thread non è stato terminato.</span><span class="sxs-lookup"><span data-stu-id="84c0f-111">The identifiers are valid from the time the thread is created until the thread has been terminated.</span></span> <span data-ttu-id="84c0f-112">Si noti che nessun identificatore del thread sarà mai 0.</span><span class="sxs-lookup"><span data-stu-id="84c0f-112">Note that no thread identifier will ever be 0.</span></span>

<span data-ttu-id="84c0f-113">Se si dispone di un identificatore di thread, è possibile ottenere l'handle del thread chiamando la funzione [**OpenThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) .</span><span class="sxs-lookup"><span data-stu-id="84c0f-113">If you have a thread identifier, you can get the thread handle by calling the [**OpenThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) function.</span></span> <span data-ttu-id="84c0f-114">**OpenThread** consente di specificare i diritti di accesso dell'handle e se può essere ereditato.</span><span class="sxs-lookup"><span data-stu-id="84c0f-114">**OpenThread** enables you to specify the handle's access rights and whether it can be inherited.</span></span>

<span data-ttu-id="84c0f-115">Un thread può usare la funzione [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) per recuperare un *handle pseudo* per il proprio oggetto thread.</span><span class="sxs-lookup"><span data-stu-id="84c0f-115">A thread can use the [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) function to retrieve a *pseudo handle* to its own thread object.</span></span> <span data-ttu-id="84c0f-116">Questo pseudo handle è valido solo per il processo chiamante. non può essere ereditato o duplicato per l'uso da altri processi.</span><span class="sxs-lookup"><span data-stu-id="84c0f-116">This pseudo handle is valid only for the calling process; it cannot be inherited or duplicated for use by other processes.</span></span> <span data-ttu-id="84c0f-117">Per ottenere l'handle reale al thread, in base a uno pseudo handle, usare la funzione [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .</span><span class="sxs-lookup"><span data-stu-id="84c0f-117">To get the real handle to the thread, given a pseudo handle, use the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function.</span></span>

<span data-ttu-id="84c0f-118">Per enumerare i thread di un processo, usare le funzioni [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) e [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) .</span><span class="sxs-lookup"><span data-stu-id="84c0f-118">To enumerate the threads of a process, use the [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) and [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) functions.</span></span>

 

 
