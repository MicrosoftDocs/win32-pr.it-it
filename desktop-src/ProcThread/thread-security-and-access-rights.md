---
description: Microsoft Windows consente di controllare l'accesso agli oggetti thread. Per ulteriori informazioni sulla sicurezza, vedere Access-Control Model.
ms.assetid: 72709446-5c59-4fac-8dc8-7912906ecc85
title: Sicurezza dei thread e diritti di accesso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e16b0ac5b4142f819d59775014a82a79a188bdd3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106311945"
---
# <a name="thread-security-and-access-rights"></a>Sicurezza dei thread e diritti di accesso

Microsoft Windows consente di controllare l'accesso agli oggetti thread. Per altre informazioni sulla sicurezza, vedere [modello di controllo di accesso](../secauthz/access-control-model.md).

È possibile specificare un [descrittore di sicurezza](../secauthz/security-descriptors.md) per un thread quando si chiama la funzione [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser ha**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw), [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread)o [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) . Se si specifica **null**, il thread riceve un descrittore di sicurezza predefinito. Gli ACL nel descrittore di sicurezza predefinito per un thread provengono dal token primario o di rappresentazione del creatore.

Per recuperare il descrittore di sicurezza di un thread, chiamare la funzione [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) . Per modificare il descrittore di sicurezza di un thread, chiamare la funzione [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .

L'handle restituito dalla funzione [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) ha l'accesso di **\_ \_ accesso** all'oggetto thread a tutti i thread. Quando si chiama la funzione [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) , il sistema restituisce un pseudohandle con l'accesso massimo consentito al chiamante da parte del descrittore di sicurezza del thread.

I diritti di accesso validi per gli oggetti thread includono i diritti di [accesso standard](../secauthz/standard-access-rights.md) e alcuni diritti di accesso specifici per i thread. La tabella seguente elenca i diritti di accesso standard usati da tutti gli oggetti.

| Valore                           | Significato                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Elimina** (0x00010000L)        | Obbligatorio per eliminare l'oggetto.                                                                                                                                                                                                                                                           |
| **Leggi \_ CONTROLLO** (0x00020000L) | Obbligatorio per leggere le informazioni nel descrittore di sicurezza per l'oggetto, escluse le informazioni nell'elenco SACL. Per leggere o scrivere il SACL, è necessario richiedere il diritto di accesso alla **\_ \_ sicurezza del sistema di accesso** . Per ulteriori informazioni, vedere il [diritto di accesso SACL](../secauthz/sacl-access-right.md). |
| **Sincronizza** (0x00100000L)   | Diritto di utilizzare l'oggetto per la sincronizzazione. Ciò consente a un thread di attendere fino a quando l'oggetto non è nello stato segnalato.                                                                                                                                                                |
| **Scrivi \_ Applicazione livello dati** (0x00040000L)    | Obbligatorio per modificare l'elenco DACL nel descrittore di sicurezza per l'oggetto.                                                                                                                                                                                                                   |
| **Scrivi \_ PROPRIETARIO** (0x00080000L)  | Obbligatorio per modificare il proprietario nel descrittore di sicurezza per l'oggetto.                                                                                                                                                                                                                  |



 

Nella tabella seguente sono elencati i diritti di accesso specifici dei thread.



| Valore                                            | Significato                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Sincronizza** (0x00100000L)                    | Consente di usare l'handle del thread in una qualsiasi delle [funzioni di attesa](../sync/wait-functions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **\_accesso a tutti i thread \_**                          | Tutti i diritti di accesso possibili per un oggetto thread. **Windows Server 2003 e Windows XP:** Il valore del flag **di \_ \_ accesso a tutti i thread** è aumentato in Windows Server 2008 e Windows Vista. Se un'applicazione compilata per Windows Server 2008 e Windows Vista viene eseguita in Windows Server 2003 o Windows XP, il flag di **\_ \_ accesso thread all** contiene i bit di accesso non supportati e la funzione che specifica questo flag ha esito negativo e l'accesso agli errori è stato **\_ \_ negato**. Per evitare questo problema, specificare il set minimo di diritti di accesso necessari per l'operazione. Se è necessario utilizzare **thread \_ All \_ Access** , impostare **\_ Win32 \_ WinNT** sul sistema operativo minimo di destinazione dell'applicazione (ad esempio, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ). Per ulteriori informazioni, vedere [utilizzo delle intestazioni di Windows](../winprog/using-the-windows-headers.md). <br/> |
| **Thread \_ di \_Rappresentazione diretta** (0x0200)       | Obbligatorio per un thread del server che rappresenta un client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Thread \_ di OTTENERE il \_ contesto** (0x0008)                | Obbligatorio per leggere il contesto di un thread utilizzando [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Thread \_ di RAPPRESENTAZIONE** (0x0100)                 | Obbligatorio per utilizzare direttamente le informazioni di sicurezza di un thread senza chiamarlo utilizzando un meccanismo di comunicazione che fornisce servizi di rappresentazione.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **Thread \_ di \_Informazioni sulle query** (0x0040)          | Obbligatorio per leggere determinate informazioni dall'oggetto thread, ad esempio il codice di uscita (vedere [**GetExitCodeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodethread)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Thread \_ di \_ \_ Informazioni sulle query limitate** (0x0800) | Obbligatorio per leggere determinate informazioni dagli oggetti thread (vedere [**GetProcessIdOfThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getprocessidofthread)). A un handle con il diritto di accesso alle **\_ \_ informazioni sulle query del thread** vengono concesse automaticamente **\_ \_ \_ informazioni limitate sulle query del thread**.**Windows Server 2003 e Windows XP:** questo diritto di accesso non è supportato.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Thread \_ di IMPOSTA \_ contesto** (0x0010)                | Obbligatorio per scrivere il contesto di un thread utilizzando [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Thread \_ di \_Informazioni sui set** (0x0020)            | Obbligatorio per impostare determinate informazioni nell'oggetto thread.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Thread \_ di IMPOSTARE \_ \_ informazioni limitate** (0x0400)   | Obbligatorio per impostare determinate informazioni nell'oggetto thread. A un handle A cui è associato il diritto di accesso alle **\_ \_ informazioni** vengono concesse automaticamente le **\_ \_ \_ informazioni limitate sui set** di thread.**Windows Server 2003 e Windows XP:** questo diritto di accesso non è supportato.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Thread \_ di IMPOSTAZIONE \_ del \_ token del thread** (0x0080)          | Obbligatorio per impostare il token di rappresentazione per un thread utilizzando [**SetThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadtoken).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Thread \_ di SOSPENDi \_ ripresa** (0x0002)             | Obbligatorio per sospendere o riprendere un thread (vedere [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Thread \_ di TERMINA** (0x0001)                   | Obbligatorio per terminare un thread utilizzando [**TerminateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminatethread).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



 

È possibile richiedere il diritto di accesso di **\_ \_ sicurezza del sistema di accesso** a un oggetto thread se si desidera leggere o scrivere il SACL dell'oggetto. Per altre informazioni, vedere [elenchi di controllo di accesso (ACL)](../secauthz/access-control-lists.md) e [accesso SACL diritto](../secauthz/sacl-access-right.md).

## <a name="protected-processes"></a>Processi protetti

*I processi protetti* migliorano il supporto per Rights Management digitali. Il sistema limita l'accesso ai processi protetti e ai thread dei processi protetti.

**Windows Server 2003 e Windows XP:** Sono stati aggiunti processi protetti a partire da Windows Vista.

I seguenti diritti di accesso specifici non sono consentiti da un processo ai thread di un processo protetto:

**\_accesso a tutti i thread \_**  
**\_rappresentazione diretta del thread \_**  
**\_contesto get \_ thread**  
**RAPPRESENTAZIONE del THREAD \_**  
**\_ \_ informazioni sulle query sui thread**  
**\_contesto del set di thread \_**  
**\_informazioni sui set di thread \_**  
**\_token set di thread \_**  
**\_terminazione thread**  


Per fornire l'accesso a un sottoinsieme delle informazioni disponibili tramite le **\_ \_ informazioni sulle query dei thread**, è stata introdotta la query sul thread con diritti **\_ \_ limitati \_** .

 

 
