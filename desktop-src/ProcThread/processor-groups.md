---
description: Le versioni a 64 bit di Windows 7 e Windows Server 2008 R2 e versioni successive di Windows supportano più di 64 processori logici in un singolo computer. Questa funzionalità non è disponibile nelle versioni di Windows a 32 bit.
ms.assetid: c627ac0f-96e8-48b5-9103-4316f487e173
title: Gruppi di processori
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cebc5b9ab1b386847b6561a9f6322c2fca0e2ae5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104050014"
---
# <a name="processor-groups"></a><span data-ttu-id="c82ae-104">Gruppi di processori</span><span class="sxs-lookup"><span data-stu-id="c82ae-104">Processor Groups</span></span>

<span data-ttu-id="c82ae-105">Le versioni a 64 bit di Windows 7 e Windows Server 2008 R2 e versioni successive di Windows supportano più di 64 processori logici in un singolo computer.</span><span class="sxs-lookup"><span data-stu-id="c82ae-105">The 64-bit versions of Windows 7 and Windows Server 2008 R2 and later versions of Windows support more than 64 logical processors on a single computer.</span></span> <span data-ttu-id="c82ae-106">Questa funzionalità non è disponibile nelle versioni di Windows a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="c82ae-106">This functionality is not available on 32-bit versions of Windows.</span></span>

<span data-ttu-id="c82ae-107">I sistemi con più processori fisici o sistemi con processori fisici che dispongono di più core forniscono il sistema operativo con più processori logici.</span><span class="sxs-lookup"><span data-stu-id="c82ae-107">Systems with more than one physical processor or systems with physical processors that have multiple cores provide the operating system with multiple logical processors.</span></span> <span data-ttu-id="c82ae-108">Un *processore logico* è un motore di calcolo logico dal punto di vista del sistema operativo, dell'applicazione o del driver.</span><span class="sxs-lookup"><span data-stu-id="c82ae-108">A *logical processor* is one logical computing engine from the perspective of the operating system, application or driver.</span></span> <span data-ttu-id="c82ae-109">Un *Core* è un'unità del processore, che può essere costituita da uno o più processori logici.</span><span class="sxs-lookup"><span data-stu-id="c82ae-109">A *core* is one processor unit, which can consist of one or more logical processors.</span></span> <span data-ttu-id="c82ae-110">Un *processore fisico* può essere costituito da uno o più core.</span><span class="sxs-lookup"><span data-stu-id="c82ae-110">A *physical processor* can consist of one or more cores.</span></span> <span data-ttu-id="c82ae-111">Un processore fisico corrisponde a un pacchetto del processore, un socket o una CPU.</span><span class="sxs-lookup"><span data-stu-id="c82ae-111">A physical processor is the same as a processor package, a socket, or a CPU.</span></span>

<span data-ttu-id="c82ae-112">Il supporto per i sistemi con più di 64 processori logici è basato sul concetto di un *gruppo* di processori, ovvero un set statico di un massimo di 64 processori logici considerati come una singola entità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="c82ae-112">Support for systems that have more than 64 logical processors is based on the concept of a *processor group*, which is a static set of up to 64 logical processors that is treated as a single scheduling entity.</span></span> <span data-ttu-id="c82ae-113">I gruppi di processori sono numerati a partire da 0.</span><span class="sxs-lookup"><span data-stu-id="c82ae-113">Processor groups are numbered starting with 0.</span></span> <span data-ttu-id="c82ae-114">I sistemi con meno di 64 processori logici hanno sempre un solo gruppo, gruppo 0.</span><span class="sxs-lookup"><span data-stu-id="c82ae-114">Systems with fewer than 64 logical processors always have a single group, Group 0.</span></span>

<span data-ttu-id="c82ae-115">**Windows server 2008, Windows Vista, Windows server 2003 e Windows XP:** I gruppi di processori non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="c82ae-115">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** Processor groups are not supported.</span></span>

<span data-ttu-id="c82ae-116">All'avvio del sistema, il sistema operativo crea gruppi di processori e assegna processori logici ai gruppi.</span><span class="sxs-lookup"><span data-stu-id="c82ae-116">When the system starts, the operating system creates processor groups and assigns logical processors to the groups.</span></span> <span data-ttu-id="c82ae-117">Se il sistema è in grado di aggiungere processori a caldo, il sistema operativo consente lo spazio in gruppi per i processori che potrebbero arrivare mentre il sistema è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="c82ae-117">If the system is capable of hot-adding processors, the operating system allows space in groups for processors that might arrive while the system is running.</span></span> <span data-ttu-id="c82ae-118">Il sistema operativo riduce al minimo il numero di gruppi in un sistema.</span><span class="sxs-lookup"><span data-stu-id="c82ae-118">The operating system minimizes the number of groups in a system.</span></span> <span data-ttu-id="c82ae-119">Ad esempio, un sistema con processori logici 128 avrà due gruppi di processori con processori 64 in ogni gruppo, non quattro gruppi con processori logici 32 in ogni gruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-119">For example, a system with 128 logical processors would have two processor groups with 64 processors in each group, not four groups with 32 logical processors in each group.</span></span>

<span data-ttu-id="c82ae-120">Per ottenere prestazioni migliori, il sistema operativo prende in considerazione la località fisica quando si assegnano processori logici ai gruppi.</span><span class="sxs-lookup"><span data-stu-id="c82ae-120">For better performance, the operating system takes physical locality into account when assigning logical processors to groups.</span></span> <span data-ttu-id="c82ae-121">Tutti i processori logici in un core e tutti i core in un processore fisico vengono assegnati allo stesso gruppo, se possibile.</span><span class="sxs-lookup"><span data-stu-id="c82ae-121">All of the logical processors in a core, and all of the cores in a physical processor, are assigned to the same group, if possible.</span></span> <span data-ttu-id="c82ae-122">I processori fisici che sono fisicamente vicini l'uno all'altro vengono assegnati allo stesso gruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-122">Physical processors that are physically close to one another are assigned to the same group.</span></span> <span data-ttu-id="c82ae-123">Un nodo NUMA viene assegnato a un singolo gruppo, a meno che la capacità del nodo non superi le dimensioni massime del gruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-123">A NUMA node is assigned to a single group unless the capacity of the node exceeds the maximum group size.</span></span> <span data-ttu-id="c82ae-124">Per ulteriori informazioni, vedere [supporto NUMA](numa-support.md).</span><span class="sxs-lookup"><span data-stu-id="c82ae-124">For more information, see [NUMA Support](numa-support.md).</span></span>

<span data-ttu-id="c82ae-125">Nei sistemi con 64 o un minor numero di processori, le applicazioni esistenti funzioneranno correttamente senza modifiche.</span><span class="sxs-lookup"><span data-stu-id="c82ae-125">On systems with 64 or fewer processors, existing applications will operate correctly without modification.</span></span> <span data-ttu-id="c82ae-126">Le applicazioni che non chiamano funzioni che utilizzano maschere di affinità processori o numeri di processore funzioneranno correttamente su tutti i sistemi, indipendentemente dal numero di processori.</span><span class="sxs-lookup"><span data-stu-id="c82ae-126">Applications that do not call any functions that use processor affinity masks or processor numbers will operate correctly on all systems, regardless of the number of processors.</span></span> <span data-ttu-id="c82ae-127">Per funzionare correttamente nei sistemi con più di 64 processori logici, potrebbe essere necessario modificare i tipi di applicazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="c82ae-127">To operate correctly on systems with more than 64 logical processors, the following kinds of applications might require modification:</span></span>

-   <span data-ttu-id="c82ae-128">Le applicazioni che gestiscono, gestiscono o visualizzano le informazioni per processore per l'intero sistema devono essere modificate per supportare più di 64 processori logici.</span><span class="sxs-lookup"><span data-stu-id="c82ae-128">Applications that manage, maintain, or display per-processor information for the entire system must be modified to support more than 64 logical processors.</span></span> <span data-ttu-id="c82ae-129">Un esempio di tale applicazione è gestione attività di Windows, che consente di visualizzare il carico di lavoro di ogni processore nel sistema.</span><span class="sxs-lookup"><span data-stu-id="c82ae-129">An example of such an application is Windows Task Manager, which displays the workload of each processor in the system.</span></span>
-   <span data-ttu-id="c82ae-130">Le applicazioni per le quali le prestazioni sono critiche e che possono essere ridimensionate in modo efficiente oltre 64 processori logici devono essere modificate per l'esecuzione su tali sistemi.</span><span class="sxs-lookup"><span data-stu-id="c82ae-130">Applications for which performance is critical and that can scale efficiently beyond 64 logical processors must be modified to run on such systems.</span></span> <span data-ttu-id="c82ae-131">Ad esempio, le applicazioni di database possono trarre vantaggio dalle modifiche.</span><span class="sxs-lookup"><span data-stu-id="c82ae-131">For example, database applications might benefit from modifications.</span></span>
-   <span data-ttu-id="c82ae-132">Se un'applicazione utilizza una DLL con strutture di dati per processore e la DLL non è stata modificata per supportare più di 64 processori logici, tutti i thread nell'applicazione che chiamano le funzioni esportate dalla DLL devono essere assegnati allo stesso gruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-132">If an application uses a DLL that has per-processor data structures, and the DLL has not been modified to support more than 64 logical processors, all threads in the application that call functions exported by the DLL must be assigned to the same group.</span></span>

<span data-ttu-id="c82ae-133">Per impostazione predefinita, un'applicazione è vincolata a un singolo gruppo, che dovrebbe offrire un'ampia funzionalità di elaborazione per l'applicazione tipica.</span><span class="sxs-lookup"><span data-stu-id="c82ae-133">By default, an application is constrained to a single group, which should provide ample processing capability for the typical application.</span></span> <span data-ttu-id="c82ae-134">Il sistema operativo assegna inizialmente ogni processo a un singolo gruppo in modo round robin tra i gruppi nel sistema.</span><span class="sxs-lookup"><span data-stu-id="c82ae-134">The operating system initially assigns each process to a single group in a round-robin manner across the groups in the system.</span></span> <span data-ttu-id="c82ae-135">Un processo inizia l'esecuzione assegnata a un gruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-135">A process begins its execution assigned to one group.</span></span> <span data-ttu-id="c82ae-136">Il primo thread di un processo viene inizialmente eseguito nel gruppo a cui è assegnato il processo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-136">The first thread of a process initially runs in the group to which the process is assigned.</span></span> <span data-ttu-id="c82ae-137">Ogni thread appena creato viene assegnato allo stesso gruppo del thread che lo ha creato.</span><span class="sxs-lookup"><span data-stu-id="c82ae-137">Each newly created thread is assigned to the same group as the thread that created it.</span></span>

<span data-ttu-id="c82ae-138">Un'applicazione che richiede l'uso di più gruppi, in modo che possa essere eseguita su più di 64 processori, deve determinare in modo esplicito dove eseguire i thread ed è responsabile dell'impostazione delle affinità del processore dei thread per i gruppi desiderati.</span><span class="sxs-lookup"><span data-stu-id="c82ae-138">An application that requires the use of multiple groups so that it can run on more than 64 processors must explicitly determine where to run its threads and is responsible for setting the threads' processor affinities to the desired groups.</span></span> <span data-ttu-id="c82ae-139">Il flag di [ \_ \_ affinità padre ereditato](process-creation-flags.md) può essere usato per specificare un processo padre, che può essere diverso dal processo corrente, da cui generare l'affinità per un nuovo processo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-139">The [INHERIT\_PARENT\_AFFINITY](process-creation-flags.md) flag can be used to specify a parent process (which can be different than the current process) from which to generate the affinity for a new process.</span></span> <span data-ttu-id="c82ae-140">Se il processo è in esecuzione in un singolo gruppo, può leggere e modificare l'affinità usando [**GetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) e [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) rimanendo nello stesso gruppo. Se l'affinità del processo viene modificata, la nuova affinità viene applicata ai relativi thread.</span><span class="sxs-lookup"><span data-stu-id="c82ae-140">If the process is running in a single group, it can read and modify its affinity using [**GetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) and [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) while remaining in the same group; if the process affinity is modified, the new affinity is applied to its threads.</span></span>

<span data-ttu-id="c82ae-141">È possibile specificare l'affinità di un thread in fase di creazione usando l'attributo esteso [**\_ \_ \_ \_ affinity Attribute del gruppo di thread proc**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-updateprocthreadattribute) con la funzione [**CreateRemoteThreadEx**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethreadex) .</span><span class="sxs-lookup"><span data-stu-id="c82ae-141">A thread's affinity can be specified at creation using the [**PROC\_THREAD\_ATTRIBUTE\_GROUP\_AFFINITY**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-updateprocthreadattribute) extended attribute with the [**CreateRemoteThreadEx**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethreadex) function.</span></span> <span data-ttu-id="c82ae-142">Dopo la creazione del thread, è possibile modificare l'affinità chiamando [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) o [**SetThreadGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-setthreadgroupaffinity).</span><span class="sxs-lookup"><span data-stu-id="c82ae-142">After the thread is created, its affinity can be changed by calling [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) or [**SetThreadGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-setthreadgroupaffinity).</span></span> <span data-ttu-id="c82ae-143">Se un thread viene assegnato a un gruppo diverso da quello del processo, l'affinità del processo viene aggiornata in modo da includere l'affinità del thread e il processo diventa un processo multigruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-143">If a thread is assigned to a different group than the process, the process's affinity is updated to include the thread's affinity and the process becomes a multi-group process.</span></span> <span data-ttu-id="c82ae-144">È necessario apportare ulteriori modifiche di affinità per i singoli thread; non è possibile modificare l'affinità del processo multigruppo con [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask).</span><span class="sxs-lookup"><span data-stu-id="c82ae-144">Further affinity changes must be made for individual threads; a multi-group process's affinity cannot be modified using [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask).</span></span> <span data-ttu-id="c82ae-145">La funzione [**GetProcessGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-getprocessgroupaffinity) Recupera il set di gruppi a cui sono assegnati un processo e i relativi thread.</span><span class="sxs-lookup"><span data-stu-id="c82ae-145">The [**GetProcessGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-getprocessgroupaffinity) function retrieves the set of groups to which a process and its threads are assigned.</span></span>

<span data-ttu-id="c82ae-146">Per specificare l'affinità per tutti i processi associati a un oggetto processo, usare la funzione [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) con la classe di informazioni **JobObjectGroupInformation** o **JobObjectGroupInformationEx** .</span><span class="sxs-lookup"><span data-stu-id="c82ae-146">To specify affinity for all processes associated with a job object, use the [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) function with the **JobObjectGroupInformation** or **JobObjectGroupInformationEx** information class.</span></span>

<span data-ttu-id="c82ae-147">Un processore logico viene identificato in base al numero di gruppo e al numero di processore relativo al gruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-147">A logical processor is identified by its group number and its group-relative processor number.</span></span> <span data-ttu-id="c82ae-148">Questa operazione è rappresentata da una struttura di [**\_ numeri di processore**](/windows/desktop/api/WinNT/ns-winnt-processor_number) .</span><span class="sxs-lookup"><span data-stu-id="c82ae-148">This is represented by a [**PROCESSOR\_NUMBER**](/windows/desktop/api/WinNT/ns-winnt-processor_number) structure.</span></span> <span data-ttu-id="c82ae-149">I numeri di processore numerici utilizzati dalle funzioni legacy sono relativi al gruppo.</span><span class="sxs-lookup"><span data-stu-id="c82ae-149">Numeric processor numbers used by legacy functions are group-relative.</span></span>

<span data-ttu-id="c82ae-150">Per informazioni sulle modifiche apportate all'architettura del sistema operativo per supportare più di 64 processori, vedere i sistemi di supporto white paper con [più di 64 processori](https://www.microsoft.com/whdc/system/Sysinternals/MoreThan64proc.mspx).</span><span class="sxs-lookup"><span data-stu-id="c82ae-150">For a discussion of operating system architecture changes to support more than 64 processors, see the white paper [Supporting Systems That Have More Than 64 Processors](https://www.microsoft.com/whdc/system/Sysinternals/MoreThan64proc.mspx).</span></span>

<span data-ttu-id="c82ae-151">Per un elenco delle nuove funzioni e strutture che supportano i gruppi di processori, vedere Novità di [processi e thread](what-s-new-in-processes-and-threads.md).</span><span class="sxs-lookup"><span data-stu-id="c82ae-151">For a list of new functions and structures that support processor groups, see [What's New in Processes and Threads](what-s-new-in-processes-and-threads.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="c82ae-152">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="c82ae-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c82ae-153">Processori multipli</span><span class="sxs-lookup"><span data-stu-id="c82ae-153">Multiple Processors</span></span>](multiple-processors.md)
</dt> <dt>

[<span data-ttu-id="c82ae-154">Supporto NUMA</span><span class="sxs-lookup"><span data-stu-id="c82ae-154">NUMA Support</span></span>](numa-support.md)
</dt> </dl>

 

 
