---
description: Il servizio Utilità di pianificazione classi multimediali (MMCSS) consente alle applicazioni multimediali di garantire che la loro elaborazione sensibile al tempo riceva l'accesso in ordine di priorità alle risorse della CPU.
ms.assetid: a7169938-1c72-4c4c-881a-cb08ad6182c7
title: Servizio Utilità di pianificazione classi multimediali
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 80656276af30495c084d0964534a04e11896bcd2
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/03/2021
ms.locfileid: "103968886"
---
# <a name="multimedia-class-scheduler-service"></a><span data-ttu-id="93c82-103">Servizio Utilità di pianificazione classi multimediali</span><span class="sxs-lookup"><span data-stu-id="93c82-103">Multimedia Class Scheduler Service</span></span>

<span data-ttu-id="93c82-104">Il servizio Utilità di pianificazione classi multimediali (MMCSS) consente alle applicazioni multimediali di garantire che la loro elaborazione sensibile al tempo riceva l'accesso in ordine di priorità alle risorse della CPU.</span><span class="sxs-lookup"><span data-stu-id="93c82-104">The Multimedia Class Scheduler service (MMCSS) enables multimedia applications to ensure that their time-sensitive processing receives prioritized access to CPU resources.</span></span> <span data-ttu-id="93c82-105">Questo servizio consente alle applicazioni multimediali di utilizzare il maggior quantità possibile di CPU senza negare risorse della CPU alle applicazioni con priorità più bassa.</span><span class="sxs-lookup"><span data-stu-id="93c82-105">This service enables multimedia applications to utilize as much of the CPU as possible without denying CPU resources to lower-priority applications.</span></span>

<span data-ttu-id="93c82-106">MMCSS utilizza le informazioni archiviate nel registro di sistema per identificare le attività supportate e determinare la priorità relativa dei thread che eseguono queste attività.</span><span class="sxs-lookup"><span data-stu-id="93c82-106">MMCSS uses information stored in the registry to identify supported tasks and determine the relative priority of threads performing these tasks.</span></span> <span data-ttu-id="93c82-107">Ogni thread che esegue lavoro correlato a una determinata attività chiama la funzione [**AvSetMmMaxThreadCharacteristics**](/windows/desktop/api/Avrt/nf-avrt-avsetmmmaxthreadcharacteristicsa) o [**AVSETMMTHREADCHARACTERISTICS**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadcharacteristicsa) per informare MMCSS che sta lavorando su tale attività.</span><span class="sxs-lookup"><span data-stu-id="93c82-107">Each thread that is performing work related to a particular task calls the [**AvSetMmMaxThreadCharacteristics**](/windows/desktop/api/Avrt/nf-avrt-avsetmmmaxthreadcharacteristicsa) or [**AvSetMmThreadCharacteristics**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadcharacteristicsa) function to inform MMCSS that it is working on that task.</span></span>

<span data-ttu-id="93c82-108">Per un esempio di un programma che usa MMCSS, vedere [flussi in modalità esclusiva](/previous-versions//bb614507(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="93c82-108">For an example of a program that uses MMCSS, see [Exclusive-Mode Streams](/previous-versions//bb614507(v=vs.85)).</span></span>

<span data-ttu-id="93c82-109">**Windows Server 2003 e Windows XP:** MMCSS non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="93c82-109">**Windows Server 2003 and Windows XP:** MMCSS is not available.</span></span>

## <a name="registry-settings"></a><span data-ttu-id="93c82-110">Impostazioni del Registro di sistema</span><span class="sxs-lookup"><span data-stu-id="93c82-110">Registry Settings</span></span>

<span data-ttu-id="93c82-111">Le impostazioni MMCSS vengono archiviate nella seguente chiave del registro di sistema:</span><span class="sxs-lookup"><span data-stu-id="93c82-111">The MMCSS settings are stored in the following registry key:</span></span>

<span data-ttu-id="93c82-112">**HKEY \_ Local \_ Machine \\ software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Multimedia \\ systemprofile**</span><span class="sxs-lookup"><span data-stu-id="93c82-112">**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile**</span></span>

<span data-ttu-id="93c82-113">Questa chiave contiene un valore **reg \_ DWORD** denominato **SystemResponsiveness** che determina la percentuale di risorse della CPU da garantire per le attività con priorità bassa.</span><span class="sxs-lookup"><span data-stu-id="93c82-113">This key contains a **REG\_DWORD** value named **SystemResponsiveness** that determines the percentage of CPU resources that should be guaranteed to low-priority tasks.</span></span> <span data-ttu-id="93c82-114">Se, ad esempio, questo valore è 20, il 20% delle risorse della CPU viene riservato per le attività con priorità bassa.</span><span class="sxs-lookup"><span data-stu-id="93c82-114">For example, if this value is 20, then 20% of CPU resources are reserved for low-priority tasks.</span></span> <span data-ttu-id="93c82-115">Si noti che i valori che non sono divisibile in modo uniforme per 10 vengono arrotondati al multiplo più vicino di 10.</span><span class="sxs-lookup"><span data-stu-id="93c82-115">Note that values that are not evenly divisible by 10 are rounded up to the nearest multiple of 10.</span></span> <span data-ttu-id="93c82-116">Anche il valore 0 viene considerato come 10.</span><span class="sxs-lookup"><span data-stu-id="93c82-116">A value of 0 is also treated as 10.</span></span>

<span data-ttu-id="93c82-117">La chiave contiene anche una sottochiave denominata **Tasks** che contiene l'elenco delle attività.</span><span class="sxs-lookup"><span data-stu-id="93c82-117">The key also contains a subkey named **Tasks** that contains the list of tasks.</span></span> <span data-ttu-id="93c82-118">Per impostazione predefinita, Windows supporta le attività seguenti:</span><span class="sxs-lookup"><span data-stu-id="93c82-118">By default, Windows supports the following tasks:</span></span>

-   <span data-ttu-id="93c82-119">**Audio**</span><span class="sxs-lookup"><span data-stu-id="93c82-119">**Audio**</span></span>
-   <span data-ttu-id="93c82-120">**Acquisire**</span><span class="sxs-lookup"><span data-stu-id="93c82-120">**Capture**</span></span>
-   <span data-ttu-id="93c82-121">**Distribuzione**</span><span class="sxs-lookup"><span data-stu-id="93c82-121">**Distribution**</span></span>
-   <span data-ttu-id="93c82-122">**Giochi**</span><span class="sxs-lookup"><span data-stu-id="93c82-122">**Games**</span></span>
-   <span data-ttu-id="93c82-123">**Riproduzione**</span><span class="sxs-lookup"><span data-stu-id="93c82-123">**Playback**</span></span>
-   <span data-ttu-id="93c82-124">**Audio Pro**</span><span class="sxs-lookup"><span data-stu-id="93c82-124">**Pro Audio**</span></span>
-   <span data-ttu-id="93c82-125">**Gestione finestre**</span><span class="sxs-lookup"><span data-stu-id="93c82-125">**Window Manager**</span></span>

<span data-ttu-id="93c82-126">Gli OEM possono aggiungere ulteriori attività, se necessario.</span><span class="sxs-lookup"><span data-stu-id="93c82-126">OEMs can add additional tasks as required.</span></span>

<span data-ttu-id="93c82-127">Ogni chiave dell'attività contiene il set di valori seguente che rappresenta le caratteristiche da applicare ai thread associati all'attività.</span><span class="sxs-lookup"><span data-stu-id="93c82-127">Each task key contains the following set of values that represent characteristics to be applied to threads that are associated with the task.</span></span>

| <span data-ttu-id="93c82-128">Valore</span><span class="sxs-lookup"><span data-stu-id="93c82-128">Value</span></span>                   | <span data-ttu-id="93c82-129">Formato</span><span class="sxs-lookup"><span data-stu-id="93c82-129">Format</span></span>         | <span data-ttu-id="93c82-130">Valori possibili</span><span class="sxs-lookup"><span data-stu-id="93c82-130">Possible values</span></span>                                                                                                                                                                                                                                                                                                                                                         |
|-------------------------|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="93c82-131">**Affinità**</span><span class="sxs-lookup"><span data-stu-id="93c82-131">**Affinity**</span></span>            | <span data-ttu-id="93c82-132">**REG \_ DWORD**</span><span class="sxs-lookup"><span data-stu-id="93c82-132">**REG\_DWORD**</span></span> | <span data-ttu-id="93c82-133">Maschera di maschera che indica l'affinità del processore.</span><span class="sxs-lookup"><span data-stu-id="93c82-133">A bitmask that indicates the processor affinity.</span></span> <span data-ttu-id="93c82-134">Sia 0x00 che 0xFFFFFFFF indicano che l'affinità del processore non viene utilizzata.</span><span class="sxs-lookup"><span data-stu-id="93c82-134">Both 0x00 and 0xFFFFFFFF indicate that processor affinity is not used.</span></span>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="93c82-135">**Solo sfondo**</span><span class="sxs-lookup"><span data-stu-id="93c82-135">**Background Only**</span></span>     | <span data-ttu-id="93c82-136">**REG \_ SZ**</span><span class="sxs-lookup"><span data-stu-id="93c82-136">**REG\_SZ**</span></span>    | <span data-ttu-id="93c82-137">Indica se si tratta di un'attività in background (nessuna interfaccia utente).</span><span class="sxs-lookup"><span data-stu-id="93c82-137">Indicates whether this is a background task (no user interface).</span></span> <span data-ttu-id="93c82-138">I thread di un'attività in background non cambiano a causa di una modifica nello stato attivo della finestra.</span><span class="sxs-lookup"><span data-stu-id="93c82-138">The threads of a background task do not change because of a change in window focus.</span></span> <span data-ttu-id="93c82-139">Questo valore può essere impostato su true o false.</span><span class="sxs-lookup"><span data-stu-id="93c82-139">This value can be set to True or False.</span></span>                                                                                                                                                                            |
| <span data-ttu-id="93c82-140">**BackgroundPriority**</span><span class="sxs-lookup"><span data-stu-id="93c82-140">**BackgroundPriority**</span></span>  | <span data-ttu-id="93c82-141">**REG \_ DWORD**</span><span class="sxs-lookup"><span data-stu-id="93c82-141">**REG\_DWORD**</span></span> | <span data-ttu-id="93c82-142">Priorità di sfondo.</span><span class="sxs-lookup"><span data-stu-id="93c82-142">The background priority.</span></span> <span data-ttu-id="93c82-143">L'intervallo di valori è 1-8.</span><span class="sxs-lookup"><span data-stu-id="93c82-143">The range of values is 1-8.</span></span>                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="93c82-144">**Frequenza di clock**</span><span class="sxs-lookup"><span data-stu-id="93c82-144">**Clock Rate**</span></span>          | <span data-ttu-id="93c82-145">**REG \_ DWORD**</span><span class="sxs-lookup"><span data-stu-id="93c82-145">**REG\_DWORD**</span></span> | <span data-ttu-id="93c82-146">Hint utilizzato da MMCSS per determinare la granularità della pianificazione delle risorse del processore. **Windows Server 2008 e Windows Vista:** Frequenza di clock massima garantita utilizzata dal sistema se un thread unisce questa attività, in intervalli di 100 nanosecondi.</span><span class="sxs-lookup"><span data-stu-id="93c82-146">A hint used by MMCSS to determine the granularity of processor resource scheduling.**Windows Server 2008 and Windows Vista:** The maximum guaranteed clock rate the system uses if a thread joins this task, in 100-nanosecond intervals.</span></span> <span data-ttu-id="93c82-147">A partire da Windows 7 e Windows Server 2008 R2, questa garanzia è stata rimossa per ridurre il consumo di energia del sistema.</span><span class="sxs-lookup"><span data-stu-id="93c82-147">Starting with Windows 7 and Windows Server 2008 R2, this guarantee was removed to reduce system power consumption.</span></span><br/> |
| <span data-ttu-id="93c82-148">**Priorità GPU**</span><span class="sxs-lookup"><span data-stu-id="93c82-148">**GPU Priority**</span></span>        | <span data-ttu-id="93c82-149">**REG \_ DWORD**</span><span class="sxs-lookup"><span data-stu-id="93c82-149">**REG\_DWORD**</span></span> | <span data-ttu-id="93c82-150">Priorità della GPU.</span><span class="sxs-lookup"><span data-stu-id="93c82-150">The GPU priority.</span></span> <span data-ttu-id="93c82-151">L'intervallo di valori è 0-31.</span><span class="sxs-lookup"><span data-stu-id="93c82-151">The range of values is 0-31.</span></span> <span data-ttu-id="93c82-152">Questa priorità non è ancora usata.</span><span class="sxs-lookup"><span data-stu-id="93c82-152">This priority is not yet used.</span></span>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="93c82-153">**Priorità**</span><span class="sxs-lookup"><span data-stu-id="93c82-153">**Priority**</span></span>            | <span data-ttu-id="93c82-154">**REG \_ DWORD**</span><span class="sxs-lookup"><span data-stu-id="93c82-154">**REG\_DWORD**</span></span> | <span data-ttu-id="93c82-155">Priorità dell'attività.</span><span class="sxs-lookup"><span data-stu-id="93c82-155">The task priority.</span></span> <span data-ttu-id="93c82-156">L'intervallo di valori è 1 (bassa) a 8 (alto). Per le attività con una **categoria di pianificazione** elevata, questo valore viene sempre considerato come 2.</span><span class="sxs-lookup"><span data-stu-id="93c82-156">The range of values is 1 (low) to 8 (high).For tasks with a **Scheduling Category** of High, this value is always treated as 2.</span></span><br/>                                                                                                                                                                                                           |
| <span data-ttu-id="93c82-157">**Categoria di pianificazione**</span><span class="sxs-lookup"><span data-stu-id="93c82-157">**Scheduling Category**</span></span> | <span data-ttu-id="93c82-158">**REG \_ SZ**</span><span class="sxs-lookup"><span data-stu-id="93c82-158">**REG\_SZ**</span></span>    | <span data-ttu-id="93c82-159">Categoria di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="93c82-159">The scheduling category.</span></span> <span data-ttu-id="93c82-160">Questo valore può essere impostato su alto, medio o basso.</span><span class="sxs-lookup"><span data-stu-id="93c82-160">This value can be set to High, Medium, or Low.</span></span>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="93c82-161">**Priorità SFIO**</span><span class="sxs-lookup"><span data-stu-id="93c82-161">**SFIO Priority**</span></span>       | <span data-ttu-id="93c82-162">**REG \_ SZ**</span><span class="sxs-lookup"><span data-stu-id="93c82-162">**REG\_SZ**</span></span>    | <span data-ttu-id="93c82-163">Priorità di I/O pianificata.</span><span class="sxs-lookup"><span data-stu-id="93c82-163">The scheduled I/O priority.</span></span> <span data-ttu-id="93c82-164">Questo valore può essere impostato su Idle, low, Normal o High.</span><span class="sxs-lookup"><span data-stu-id="93c82-164">This value can be set to Idle, Low, Normal, or High.</span></span> <span data-ttu-id="93c82-165">Questo valore non viene utilizzato.</span><span class="sxs-lookup"><span data-stu-id="93c82-165">This value is not used.</span></span>                                                                                                                                                                                                                                                                |



 

> [!Note]  
> <span data-ttu-id="93c82-166">Per conservare il potere, le applicazioni non devono impostare la risoluzione del timer a livello di sistema su un valore ridotto, a meno che non sia assolutamente necessario.</span><span class="sxs-lookup"><span data-stu-id="93c82-166">To conserve power, applications should not set the resolution of the system-wide timer to a small value unless absolutely necessary.</span></span> <span data-ttu-id="93c82-167">Per ulteriori informazioni, vedere [prestazioni](../win7devguide/performance.md) nella [Guida per gli sviluppatori di Windows 7](../win7devguide/windows-7-developer-guide.md).</span><span class="sxs-lookup"><span data-stu-id="93c82-167">For more information, see [Performance](../win7devguide/performance.md) in the [Windows 7 Developers Guide](../win7devguide/windows-7-developer-guide.md).</span></span>

 

## <a name="thread-priorities"></a><span data-ttu-id="93c82-168">Priorità dei thread</span><span class="sxs-lookup"><span data-stu-id="93c82-168">Thread Priorities</span></span>

<span data-ttu-id="93c82-169">MMCSS incrementa la priorità dei thread che lavorano sulle attività multimediali a priorità alta.</span><span class="sxs-lookup"><span data-stu-id="93c82-169">The MMCSS boosts the priority of threads that are working on high-priority multimedia tasks.</span></span>

<span data-ttu-id="93c82-170">MMCSS determina la priorità di un thread usando i fattori seguenti:</span><span class="sxs-lookup"><span data-stu-id="93c82-170">MMCSS determines the priority of a thread using the following factors:</span></span>

-   <span data-ttu-id="93c82-171">Priorità di base dell'attività.</span><span class="sxs-lookup"><span data-stu-id="93c82-171">The base priority of the task.</span></span>
-   <span data-ttu-id="93c82-172">Parametro *Priority* della funzione [**AvSetMmThreadPriority**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadpriority) .</span><span class="sxs-lookup"><span data-stu-id="93c82-172">The *Priority* parameter of the [**AvSetMmThreadPriority**](/windows/desktop/api/Avrt/nf-avrt-avsetmmthreadpriority) function.</span></span>
-   <span data-ttu-id="93c82-173">Indica se l'applicazione è in primo piano.</span><span class="sxs-lookup"><span data-stu-id="93c82-173">Whether the application is in the foreground.</span></span>
-   <span data-ttu-id="93c82-174">Quantità di tempo della CPU utilizzata dai thread in ogni categoria.</span><span class="sxs-lookup"><span data-stu-id="93c82-174">How much CPU time is being consumed by the threads in each category.</span></span>

<span data-ttu-id="93c82-175">MMCSS imposta la priorità dei thread client a seconda della categoria di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="93c82-175">MMCSS sets the priority of client threads depending on their scheduling category.</span></span>

| <span data-ttu-id="93c82-176">Category</span><span class="sxs-lookup"><span data-stu-id="93c82-176">Category</span></span> | <span data-ttu-id="93c82-177">Priorità</span><span class="sxs-lookup"><span data-stu-id="93c82-177">Priority</span></span> | <span data-ttu-id="93c82-178">Descrizione</span><span class="sxs-lookup"><span data-stu-id="93c82-178">Description</span></span>                                                                                                                               |
|----------|----------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="93c82-179">Alto</span><span class="sxs-lookup"><span data-stu-id="93c82-179">High</span></span>     | <span data-ttu-id="93c82-180">23-26</span><span class="sxs-lookup"><span data-stu-id="93c82-180">23-26</span></span>    | <span data-ttu-id="93c82-181">Questi thread vengono eseguiti con una priorità di thread inferiore a determinate attività a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="93c82-181">These threads run at a thread priority that is lower than only certain system-level tasks.</span></span> <span data-ttu-id="93c82-182">Questa categoria è progettata per le attività audio Pro.</span><span class="sxs-lookup"><span data-stu-id="93c82-182">This category is designed for Pro Audio tasks.</span></span> |
| <span data-ttu-id="93c82-183">Medio</span><span class="sxs-lookup"><span data-stu-id="93c82-183">Medium</span></span>   | <span data-ttu-id="93c82-184">16-22</span><span class="sxs-lookup"><span data-stu-id="93c82-184">16-22</span></span>    | <span data-ttu-id="93c82-185">Questi thread fanno parte dell'applicazione in primo piano.</span><span class="sxs-lookup"><span data-stu-id="93c82-185">These threads are part of the application that is in the foreground.</span></span>                                                                      |
| <span data-ttu-id="93c82-186">Basso</span><span class="sxs-lookup"><span data-stu-id="93c82-186">Low</span></span>      | <span data-ttu-id="93c82-187">8-15</span><span class="sxs-lookup"><span data-stu-id="93c82-187">8-15</span></span>     | <span data-ttu-id="93c82-188">Questa categoria contiene il resto dei thread.</span><span class="sxs-lookup"><span data-stu-id="93c82-188">This category contains the remainder of the threads.</span></span> <span data-ttu-id="93c82-189">Se necessario, viene garantita una percentuale minima delle risorse della CPU.</span><span class="sxs-lookup"><span data-stu-id="93c82-189">They are guaranteed a minimum percentage of the CPU resources if required.</span></span>           |
|          | <span data-ttu-id="93c82-190">1-7</span><span class="sxs-lookup"><span data-stu-id="93c82-190">1-7</span></span>      | <span data-ttu-id="93c82-191">Questi thread hanno usato la quota di risorse della CPU.</span><span class="sxs-lookup"><span data-stu-id="93c82-191">These threads have used their quota of CPU resource.</span></span> <span data-ttu-id="93c82-192">Possono continuare a funzionare se nessun thread con priorità bassa è pronto per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="93c82-192">They can continue to run if no low-priority threads are ready to run.</span></span>                |



 

 

 
