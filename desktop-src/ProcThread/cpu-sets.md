---
description: I set di CPU forniscono le API per dichiarare l'affinità dell'applicazione in un modo "flessibile" compatibile con il risparmio energia del sistema operativo.
ms.assetid: FF8BE790-19D9-473F-B184-C54FB392D61A
title: Set di CPU
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 801474591751f04a5bffe570d6b8caff4974203f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106311993"
---
# <a name="cpu-sets"></a><span data-ttu-id="6622d-103">Set di CPU</span><span class="sxs-lookup"><span data-stu-id="6622d-103">CPU Sets</span></span>

<span data-ttu-id="6622d-104">I set di CPU forniscono le API per dichiarare l'affinità dell'applicazione in un modo "flessibile" compatibile con il risparmio energia del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="6622d-104">CPU Sets provide APIs to declare application affinity in a 'soft' manner that is compatible with OS power management.</span></span> <span data-ttu-id="6622d-105">Inoltre, l'API offre alle applicazioni la possibilità di reaffinitize tutti i thread in background del processo a un subset di processori usando il meccanismo **predefinito di elaborazione** per evitare interferenze dai thread del sistema operativo all'interno del processo.</span><span class="sxs-lookup"><span data-stu-id="6622d-105">Additionally, the API provides applications with the ability to reaffinitize all background threads in the process to a subset of processors using the **Process Default** mechanism to avoid interference from OS threads within the process.</span></span> <span data-ttu-id="6622d-106">Alcune versioni di Windows supportano i criteri di prenotazione di base, in cui un subset dei set di CPU del sistema può essere dedicato all'uso esclusivo di singole applicazioni e carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="6622d-106">Some versions of Windows support Core Reservation policies, in which a subset of the system’s CPU Sets can be devoted to the exclusive use of individual applications and workloads.</span></span>

<span data-ttu-id="6622d-107">L'API set CPU funziona con ID set CPU, associati alle affinità del processore virtuale.</span><span class="sxs-lookup"><span data-stu-id="6622d-107">The CPU Set API works with CPU Set IDs, which are associated with virtual processor affinities.</span></span> <span data-ttu-id="6622d-108">Nella maggior parte dei sistemi e, nella maggior parte dei casi, ogni ID del set di CPU viene mappato direttamente a un singolo processore logico **Home** .</span><span class="sxs-lookup"><span data-stu-id="6622d-108">On most systems, and under most conditions, each CPU Set ID will map directly to a single **home** logical processor.</span></span> <span data-ttu-id="6622d-109">Un thread creata un'affinità a un set di CPU specificato viene in genere eseguito su uno dei processori nell'elenco degli ID dei set di CPU selezionati.</span><span class="sxs-lookup"><span data-stu-id="6622d-109">A thread affinitized to a given CPU Set will typically execute on one of the processors in its list of selected CPU Set IDs.</span></span>

<span data-ttu-id="6622d-110">I set di CPU riservati possono essere determinati controllando il flag **allocato** nelle informazioni sul \_ set di CPU del sistema \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="6622d-110">CPU Sets that are reserved can be determined by inspecting the **Allocated** flag in the SYSTEM\_CPU\_SET\_INFORMATION.</span></span> <span data-ttu-id="6622d-111">Il sistema controlla l'accesso ai set di CPU riservati ed è possibile eseguire query sull'assegnazione utilizzando il flag **AllocatedToTargetProcess** della \_ struttura delle informazioni del set di CPU di sistema \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="6622d-111">The system controls access to reserved CPU Sets and the assignment can be queried using the **AllocatedToTargetProcess** flag of the SYSTEM\_CPU\_SET\_INFORMATION structure.</span></span> <span data-ttu-id="6622d-112">Se un processo tenta di utilizzare un'assegnazione di set di CPU allocata esclusivamente ad altri processi, la richiesta viene ignorata e i thread assegnati a set di CPU non consentiti vengono pianificati altrove.</span><span class="sxs-lookup"><span data-stu-id="6622d-112">If a process attempts to use a CPU Set assignment which is allocated exclusively to other processes, its request is ignored and threads assigned to disallowed CPU sets are scheduled elsewhere.</span></span> <span data-ttu-id="6622d-113">I set di CPU possono essere assegnati a due livelli.</span><span class="sxs-lookup"><span data-stu-id="6622d-113">CPU Sets can be assigned at two levels.</span></span> <span data-ttu-id="6622d-114">I set di CPU predefiniti del processo vengono assegnati a tutti i thread in un processo che non dispongono di un'assegnazione a livello di thread selezionato.</span><span class="sxs-lookup"><span data-stu-id="6622d-114">The Process Default CPU sets are assigned to all threads in a process that do not have an assignment at the Thread Selected level.</span></span> <span data-ttu-id="6622d-115">Se per un thread o un processo è impostata una maschera di affinità restrittiva, la maschera di affinità viene rispettata sopra qualsiasi assegnazione del set di CPU in conflitto.</span><span class="sxs-lookup"><span data-stu-id="6622d-115">If a thread or process has a restrictive affinity mask set, the affinity mask is respected above any conflicting CPU Set assignment.</span></span> <span data-ttu-id="6622d-116">Nei sistemi a più gruppi, le assegnazioni di CPU vengono ignorate se si trovano in gruppi che non corrispondono al gruppo nella maschera di affinità del thread.</span><span class="sxs-lookup"><span data-stu-id="6622d-116">On multi-group systems, CPU assignments are ignored if they are in groups that do not match the group in the thread’s affinity mask.</span></span> <span data-ttu-id="6622d-117">Se un thread viene assegnato a più set di CPU validi, verrà eseguito su uno dei processori corrispondenti in base alle relative priorità e alle priorità dei thread in conflitto su tali processori.</span><span class="sxs-lookup"><span data-stu-id="6622d-117">If a thread is assigned to multiple valid CPU Sets, it will run on one of the corresponding processors according to its priorities and the priorities of competing threads on those processors.</span></span>

<span data-ttu-id="6622d-118">**Funzioni set CPU/enumerazioni/strutture**</span><span class="sxs-lookup"><span data-stu-id="6622d-118">**CPU Set Functions/Enumerations/Structures**</span></span>

-   <span data-ttu-id="6622d-119">[**GetProcessDefaultCpuSets**](getprocessdefaultcpusets.md) (funzione)</span><span class="sxs-lookup"><span data-stu-id="6622d-119">[**GetProcessDefaultCpuSets**](getprocessdefaultcpusets.md) function</span></span>
-   <span data-ttu-id="6622d-120">[**GetSystemCpuSetInformation**](getsystemcpusetinformation.md) (funzione)</span><span class="sxs-lookup"><span data-stu-id="6622d-120">[**GetSystemCpuSetInformation**](getsystemcpusetinformation.md) function</span></span>
-   <span data-ttu-id="6622d-121">[**GetThreadSelectedCpuSets**](getthreadselectedcpusets.md) (funzione)</span><span class="sxs-lookup"><span data-stu-id="6622d-121">[**GetThreadSelectedCpuSets**](getthreadselectedcpusets.md) function</span></span>
-   <span data-ttu-id="6622d-122">[**SetProcessDefaultCpuSets**](setprocessdefaultcpusets.md) (funzione)</span><span class="sxs-lookup"><span data-stu-id="6622d-122">[**SetProcessDefaultCpuSets**](setprocessdefaultcpusets.md) function</span></span>
-   <span data-ttu-id="6622d-123">[**SetThreadSelectedCpuSets**](setthreadselectedcpusets.md) (funzione)</span><span class="sxs-lookup"><span data-stu-id="6622d-123">[**SetThreadSelectedCpuSets**](setthreadselectedcpusets.md) function</span></span>
-   <span data-ttu-id="6622d-124">[**CPU \_ IMPOSTA \_ enumerazione \_ tipo informazioni**](cpu-set-information-type.md)</span><span class="sxs-lookup"><span data-stu-id="6622d-124">[**CPU\_SET\_INFORMATION\_TYPE**](cpu-set-information-type.md) enumeration</span></span>
-   <span data-ttu-id="6622d-125">[**Sistema \_ di Struttura \_ \_ delle informazioni sul set di CPU**](/windows/desktop/api/winnt/ns-winnt-system_cpu_set_information)</span><span class="sxs-lookup"><span data-stu-id="6622d-125">[**SYSTEM\_CPU\_SET\_INFORMATION**](/windows/desktop/api/winnt/ns-winnt-system_cpu_set_information) structure</span></span>

 

 



