---
description: Il modello di sicurezza di Microsoft Windows consente di controllare l'accesso agli oggetti di elaborazione. Per ulteriori informazioni sulla sicurezza, vedere Access-Control Model.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Sicurezza del processo e diritti di accesso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 668520a6f4e0eb8a81b55418033ff583bce8bddf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106311967"
---
# <a name="process-security-and-access-rights"></a>Sicurezza del processo e diritti di accesso

Il modello di sicurezza di Microsoft Windows consente di controllare l'accesso agli oggetti di elaborazione. Per altre informazioni sulla sicurezza, vedere [modello di controllo di accesso](../secauthz/access-control-model.md).

Quando un utente esegue l'accesso, il sistema raccoglie un set di dati che identifica in modo univoco l'utente durante il processo di autenticazione e lo archivia in un [token di accesso](../secauthz/access-tokens.md). Questo token di accesso descrive il contesto di sicurezza di tutti i processi associati all'utente. Il contesto di sicurezza di un processo è il set di credenziali assegnato al processo o all'account utente che ha creato il processo.

È possibile usare un token per specificare il contesto di sicurezza corrente per un processo usando la funzione [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) . È possibile specificare un [descrittore di sicurezza](../secauthz/security-descriptors.md) per un processo quando si chiama la funzione [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser ha**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)o [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) . Se si specifica **null**, il processo ottiene un descrittore di sicurezza predefinito. Gli ACL nel descrittore di sicurezza predefinito per un processo provengono dal token primario o di rappresentazione del creatore.

Per recuperare il descrittore di sicurezza di un processo, chiamare la funzione [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) . Per modificare il descrittore di sicurezza di un processo, chiamare la funzione [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .

I diritti di accesso validi per gli oggetti processo includono i [diritti di accesso standard](../secauthz/standard-access-rights.md) e alcuni diritti di accesso specifici del processo. La tabella seguente elenca i diritti di accesso standard usati da tutti gli oggetti.

| Valore                           | Significato                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Elimina** (0x00010000L)        | Obbligatorio per eliminare l'oggetto.                                                                                                                                                                                                                                                           |
| **Leggi \_ CONTROLLO** (0x00020000L) | Obbligatorio per leggere le informazioni nel descrittore di sicurezza per l'oggetto, escluse le informazioni nell'elenco SACL. Per leggere o scrivere il SACL, è necessario richiedere il diritto di accesso alla **\_ \_ sicurezza del sistema di accesso** . Per ulteriori informazioni, vedere il [diritto di accesso SACL](../secauthz/sacl-access-right.md). |
| **Sincronizza** (0x00100000L)   | Diritto di utilizzare l'oggetto per la sincronizzazione. Ciò consente a un thread di attendere fino a quando l'oggetto non è nello stato segnalato.                                                                                                                                                                |
| **Scrivi \_ Applicazione livello dati** (0x00040000L)    | Obbligatorio per modificare l'elenco DACL nel descrittore di sicurezza per l'oggetto.                                                                                                                                                                                                                   |
| **Scrivi \_ PROPRIETARIO** (0x00080000L)  | Obbligatorio per modificare il proprietario nel descrittore di sicurezza per l'oggetto.                                                                                                                                                                                                                  |



 

Nella tabella seguente sono elencati i diritti di accesso specifici del processo.



| Valore                                             | Significato                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **ELABORA \_ tutti gli \_ accessi**                          | Tutti i diritti di accesso possibili per un oggetto processo. **Windows Server 2003 e Windows XP:** Le dimensioni del flag **di \_ \_ accesso tutti i processi** sono aumentate in Windows Server 2008 e Windows Vista. Se un'applicazione compilata per Windows Server 2008 e Windows Vista viene eseguita in Windows Server 2003 o Windows XP, il flag di **\_ \_ accesso di tutti i processi** è troppo grande e la funzione che specifica questo flag ha esito negativo e l'accesso agli errori è stato **\_ \_ negato**. Per evitare questo problema, specificare il set minimo di diritti di accesso necessari per l'operazione. Se è necessario usare **\_ \_ l'accesso a tutti i processi** , impostare \_ Win32 WinNT sul \_ sistema operativo minimo di destinazione dell'applicazione (ad esempio, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ). Per ulteriori informazioni, vedere [utilizzo delle intestazioni di Windows](../winprog/using-the-windows-headers.md). <br/> |
| **Processo \_ di Crea \_ processo** (0x0080)             | Obbligatorio per la creazione di un processo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Processo \_ di Crea \_ thread** (0x0002)              | Obbligatorio per creare un thread.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Processo \_ di \_Handle duplicato** (0x0040)                 | Obbligatorio per duplicare un handle usando [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Processo \_ di \_Informazioni sulle query** (0x0400)          | Obbligatorio per recuperare determinate informazioni su un processo, ad esempio il token, il codice di uscita e la classe di priorità (vedere [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Processo \_ di \_ \_ Informazioni sulle query limitate** (0x1000) | Obbligatorio per recuperare determinate informazioni su un processo (vedere [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)). A un handle con il diritto di accesso per le **\_ \_ informazioni sulle query** di processo vengono concesse automaticamente **\_ \_ \_ informazioni limitate sulle query di processo**.**Windows Server 2003 e Windows XP:** questo diritto di accesso non è supportato.<br/>                                                                                                                                                                                                                                                                                                                         |
| **Processo \_ di \_Informazioni sui set** (0x0200)            | Obbligatorio per impostare determinate informazioni su un processo, ad esempio la classe di priorità (vedere [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Processo \_ di IMPOSTA \_ quota** (0x0100)                  | Obbligatorio per impostare i limiti di memoria usando [**SetProcessWorkingSetSize**](/windows/desktop/api/WinBase/nf-winbase-setprocessworkingsetsize).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Processo \_ di SOSPENDi \_ ripresa** (0x0800)             | Obbligatorio per sospendere o riprendere un processo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Processo \_ di TERMINA** (0x0001)                   | Obbligatorio per terminare un processo utilizzando [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Processo \_ di \_Operazione VM** (0x0008)               | Obbligatorio per eseguire un'operazione nello spazio degli indirizzi di un processo (vedere [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) e [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Processo \_ di \_Lettura VM** (0x0010)                    | Obbligatorio per leggere la memoria in un processo utilizzando [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Processo \_ di \_Scrittura VM** (0x0020)                   | Obbligatorio per scrivere in memoria in un processo utilizzando [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Sincronizza** (0x00100000L)                     | Necessario per attendere che il processo venga terminato utilizzando le [funzioni di attesa](../sync/wait-functions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

Per aprire un handle per un altro processo e ottenere i diritti di accesso completi, è necessario abilitare il privilegio **SeDebugPrivilege** . Per altre informazioni, vedere [modifica dei privilegi in un token](../secbp/changing-privileges-in-a-token.md).

L'handle restituito dalla funzione [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) dispone di accesso di **\_ \_ tutti i processi** all'oggetto processo. Quando si chiama la funzione [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) , il sistema controlla i [diritti di accesso](../secauthz/access-rights-and-access-masks.md) richiesti rispetto a DACL nel descrittore di sicurezza del processo. Quando si chiama la funzione [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) , il sistema restituisce un pseudohandle con l'accesso massimo consentito dal DACL al chiamante.

È possibile richiedere il diritto di accesso di **\_ \_ sicurezza del sistema di accesso** a un oggetto processo se si desidera leggere o scrivere il SACL dell'oggetto. Per altre informazioni, vedere [elenchi di controllo di accesso (ACL)](../secauthz/access-control-lists.md) e [accesso SACL diritto](../secauthz/sacl-access-right.md).

> [!WARNING]
> Un processo con alcuni dei diritti di accesso indicati qui può usarli per ottenere altri diritti di accesso. Se, ad esempio, il processo A dispone di un handle per elaborare B con l'accesso di **\_ \_ gestione duplicato del processo** , può duplicare lo pseudo handle per il processo b. Viene creato un handle con accesso massimo al processo B. Per ulteriori informazioni sugli handle pseudo, vedere [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).

 

## <a name="protected-processes"></a>Processi protetti

Windows Vista introduce *processi protetti* per migliorare il supporto di Rights Management digitali. Il sistema limita l'accesso ai processi protetti e ai thread dei processi protetti.

Non sono consentiti i seguenti diritti di accesso standard da un processo a un processo protetto:

- **DELETE**  
- **controllo di lettura \_**  
- **Scrivi \_ DAC**  
- **Scrivi \_ proprietario**  

I seguenti diritti di accesso specifici non sono consentiti da un processo a un processo protetto:

- **ELABORA \_ tutti gli \_ accessi**  
- **elabora \_ processo di creazione \_**  
- **ELABORA \_ thread di creazione \_**  
- **\_handle duplicato processo \_**  
- **ELABORA \_ \_ informazioni query**  
- **\_informazioni sui set di processi \_**  
- **\_quota del set di processi \_**  
- **operazione di elaborazione \_ macchina virtuale \_**  
- **\_lettura macchina virtuale processo \_**  
- **ELABORA \_ \_ scrittura VM**  

Il diritto di **\_ \_ \_ informazioni di query sul processo** è stato introdotto per fornire l'accesso a un subset delle informazioni disponibili tramite **\_ \_ le informazioni sulle query di processo**.
