---
description: Il modello di sicurezza di Microsoft Windows consente di controllare l'accesso agli oggetti processo. Per altre informazioni sulla sicurezza, vedere Access-Control modello.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Sicurezza dei processi e diritti di accesso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 93a5fb29599c5a769b9a7b63d653d24ec543e408
ms.sourcegitcommit: b01ad017c152c6756f3638623fe335877644d414
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/06/2021
ms.locfileid: "111549973"
---
# <a name="process-security-and-access-rights"></a>Sicurezza dei processi e diritti di accesso

Il modello di sicurezza di Microsoft Windows consente di controllare l'accesso agli oggetti processo. Per altre informazioni sulla sicurezza, vedere [Modello di controllo di accesso](../secauthz/access-control-model.md).

Quando un utente accede, il sistema raccoglie un set di dati che identifica in modo univoco l'utente durante il processo di autenticazione e lo archivia in un [token di accesso](../secauthz/access-tokens.md). Questo token di accesso descrive il contesto di sicurezza di tutti i processi associati all'utente. Il contesto di sicurezza di un processo è il set di credenziali assegnato al processo o all'account utente che ha creato il processo.

È possibile usare un token per specificare il contesto di sicurezza corrente per un processo usando la [**funzione CreateProcessWithTokenW.**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) È possibile specificare un [descrittore di sicurezza](../secauthz/security-descriptors.md) per un processo quando si chiama la [**funzione CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)o [**CreateProcessWithLogonW.**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) Se si specifica **NULL,** il processo ottiene un descrittore di sicurezza predefinito. Gli ACL nel descrittore di sicurezza predefinito per un processo provengono dal token primario o di rappresentazione dell'autore.

Per recuperare il descrittore di sicurezza di un processo, chiamare la [**funzione GetSecurityInfo.**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) Per modificare il descrittore di sicurezza di un processo, chiamare la [**funzione SetSecurityInfo.**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo)

I diritti di accesso validi per gli oggetti processo includono i [diritti di accesso standard](../secauthz/standard-access-rights.md) e alcuni diritti di accesso specifici del processo. Nella tabella seguente sono elencati i diritti di accesso standard usati da tutti gli oggetti.

| Valore                           | Significato                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **DELETE** (0x00010000L)        | Obbligatorio per eliminare l'oggetto.                                                                                                                                                                                                                                                           |
| **LETTURA \_ CONTROL** (0x00020000L) | Obbligatorio per leggere le informazioni nel descrittore di sicurezza per l'oggetto, senza includere le informazioni nell'elenco SACL. Per leggere o scrivere il SACL, è necessario richiedere il diritto **di accesso ACCESS SYSTEM \_ \_ SECURITY.** Per altre informazioni, vedere [Diritto di accesso SACL.](../secauthz/sacl-access-right.md) |
| **SYNCHRONIZE** (0x00100000L)   | Diritto di utilizzare l'oggetto per la sincronizzazione. Ciò consente a un thread di attendere finché l'oggetto non si trova nello stato segnalato.                                                                                                                                                                |
| **WRITE \_ Applicazione livello dati** (0x00040000L)    | Obbligatorio per modificare l'elenco DACL nel descrittore di sicurezza per l'oggetto.                                                                                                                                                                                                                   |
| **WRITE \_ OWNER** (0x00080000L)  | Obbligatorio per modificare il proprietario nel descrittore di sicurezza per l'oggetto.                                                                                                                                                                                                                  |



 

Nella tabella seguente sono elencati i diritti di accesso specifici del processo.



| Valore                                             | Significato                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **ELABORA \_ TUTTI GLI \_ ACCESSI**                          | Tutti i diritti di accesso possibili per un oggetto processo. **Windows Server 2003 e Windows XP:** Le dimensioni del flag **PROCESS \_ ALL \_ ACCESS** sono aumentate in Windows Server 2008 e Windows Vista. Se un'applicazione compilata per Windows Server 2008 e Windows Vista viene eseguita in Windows Server 2003 o Windows XP, il flag **PROCESS \_ ALL \_ ACCESS** è troppo grande e la funzione che specifica questo flag ha esito negativo con **ERRORE ACCESS \_ \_ DENIED**. Per evitare questo problema, specificare il set minimo di diritti di accesso necessari per l'operazione. Se **è necessario usare PROCESS ALL \_ \_ ACCESS,** impostare WIN32 WINNT sul sistema operativo minimo di destinazione \_ dell'applicazione \_ (ad esempio, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ). Per altre informazioni, vedere [Uso delle intestazioni di Windows](../winprog/using-the-windows-headers.md). <br/> |
| **PROCESSO \_ CREATE \_ PROCESS** (0x0080)             | Obbligatorio per creare un processo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **PROCESSO \_ CREATE \_ THREAD** (0x0002)              | Obbligatorio per creare un thread.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **PROCESSO \_ HANDLE \_ DUP** (0x0040)                 | Obbligatorio per duplicare un handle [**usando DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **PROCESSO \_ INFORMAZIONI \_ SULLE QUERY** (0x0400)          | Obbligatorio per recuperare determinate informazioni su un processo, ad esempio il token, il codice di uscita e la classe di priorità (vedere [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **PROCESSO \_ QUERY \_ SU \_ INFORMAZIONI LIMITATE** (0x1000) | Obbligatorio per recuperare determinate informazioni su un processo (vedere [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob,**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob) [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)). A un handle con diritto di accesso **PROCESS \_ QUERY \_ INFORMATION** viene concesso automaticamente **PROCESS QUERY LIMITED \_ \_ \_ INFORMATION**.**Windows Server 2003 e Windows XP: questo** diritto di accesso non è supportato.<br/>                                                                                                                                                                                                                                                                                                                         |
| **PROCESSO \_ SET \_ INFORMATION** (0x0200)            | Obbligatorio per impostare determinate informazioni su un processo, ad esempio la relativa classe di priorità (vedere [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **PROCESSO \_ SET \_ QUOTA** (0x0100)                  | Obbligatorio per impostare i limiti di memoria [**usando SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **PROCESSO \_ SUSPEND \_ RESUME** (0x0800)             | Necessario per sospendere o riprendere un processo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **PROCESSO \_ TERMINATE** (0x0001)                   | Obbligatorio per terminare un processo usando [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **PROCESSO \_ OPERAZIONE \_ DELLA** MACCHINA VIRTUALE (0x0008)               | Obbligatorio per eseguire un'operazione sullo spazio degli indirizzi di un processo (vedere [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) e [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **PROCESSO \_ VM \_ READ** (0x0010)                    | Necessario per leggere la memoria in un processo [**usando ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **PROCESSO \_ VM \_ WRITE** (0x0020)                   | Necessario per scrivere in memoria in un processo usando [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **SYNCHRONIZE** (0x00100000L)                     | Necessario per attendere l'interruzione del processo usando le [funzioni di attesa](../sync/wait-functions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

Per aprire un handle a un altro processo e ottenere diritti di accesso completi, è necessario abilitare il **privilegio SeDebugPrivilege.** Per altre informazioni, vedere [Modifica dei privilegi in un token](../secbp/changing-privileges-in-a-token.md).

L'handle restituito dalla [**funzione CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) dispone **dell'accesso PROCESS \_ ALL \_ ACCESS** all'oggetto processo. Quando si chiama la [**funzione OpenProcess,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) il sistema controlla i diritti di accesso richiesti rispetto all'elenco DACL nel descrittore di sicurezza del processo. [](../secauthz/access-rights-and-access-masks.md) Quando si chiama la [**funzione GetCurrentProcess,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) il sistema restituisce uno pseudohandle con l'accesso massimo consentito dall'elenco DACL al chiamante.

È possibile richiedere il diritto **di accesso ACCESS SYSTEM \_ \_ SECURITY** a un oggetto processo se si vuole leggere o scrivere il SACL dell'oggetto. Per altre informazioni, vedere [Elenchi di controllo di accesso (ACL)](../secauthz/access-control-lists.md) e Diritto di accesso [SACL.](../secauthz/sacl-access-right.md)

> [!WARNING]
> Un processo con alcuni dei diritti di accesso qui riportati può usarli per ottenere altri diritti di accesso. Ad esempio, se il processo A ha un handle per elaborare B con **l'accesso PROCESS \_ DUP \_ HANDLE,** può duplicare lo pseudo handle per il processo B. Verrà creato un handle con accesso massimo al processo B. Per altre informazioni sugli pseudo handle, vedere [**GetCurrentProcess.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess)

 

## <a name="protected-processes"></a>Processi protetti

Windows Vista introduce processi *protetti per migliorare* il supporto per l'Rights Management. Il sistema limita l'accesso ai processi protetti e ai thread dei processi protetti.

I diritti di accesso standard seguenti non sono consentiti da un processo a un processo protetto:

- **DELETE**  
- **CONTROLLO \_ LETTURA**  
- **APPLICAZIONE \_ LIVELLO DATI WRITE**  
- **WRITE \_ OWNER**  

I diritti di accesso specifici seguenti non sono consentiti da un processo a un processo protetto:

- **ELABORA \_ TUTTI GLI \_ ACCESSI**  
- **PROCESSO \_ DI \_ CREAZIONE PROCESSO**  
- **PROCESSO \_ CREATE \_ THREAD**  
- **HANDLE \_ DUP DI \_ ELABORAZIONE**  
- **ELABORARE \_ LE INFORMAZIONI SULLE \_ QUERY**  
- **INFORMAZIONI \_ SUI SET DI \_ PROCESSI**  
- **QUOTA \_ DEL SET DI \_ PROCESSI**  
- **ELABORARE \_ L'OPERAZIONE DELLA \_ MACCHINA VIRTUALE**  
- **PROCESS \_ VM \_ READ**  
- **ELABORARE \_ LA SCRITTURA DELLA MACCHINA \_ VIRTUALE**  

È stato introdotto il diritto **PROCESS \_ QUERY LIMITED \_ \_ INFORMATION** per fornire l'accesso a un subset delle informazioni disponibili tramite **PROCESS QUERY \_ \_ INFORMATION**.
