---
title: Recupero del DACL di un oggetto
description: Il descrittore di sicurezza di un oggetto può contenere un elenco di controllo di accesso discrezionale (DACL).
ms.assetid: 93b16094-9923-4886-804f-4e989fbf6977
ms.tgt_platform: multiple
keywords:
- ANNUNCIO DACL
- DACL AD, recupero del DACL di un oggetto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3db74cb235b5cb322f0edf3dc4cfb32f50b4c00c
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "104336774"
---
# <a name="retrieving-an-objects-dacl"></a><span data-ttu-id="ea0d9-105">Recupero del DACL di un oggetto</span><span class="sxs-lookup"><span data-stu-id="ea0d9-105">Retrieving an Object's DACL</span></span>

<span data-ttu-id="ea0d9-106">Il descrittore di sicurezza di un oggetto può contenere un elenco di controllo di accesso discrezionale (DACL).</span><span class="sxs-lookup"><span data-stu-id="ea0d9-106">An object's security descriptor may contain a discretionary access-control list (DACL).</span></span> <span data-ttu-id="ea0d9-107">Un DACL contiene zero o più voci di controllo di accesso (ACE) che identificano gli utenti e i gruppi che possono accedere all'oggetto.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-107">A DACL contains zero or more access-control entries (ACEs) that identify the users and groups who can access the object.</span></span> <span data-ttu-id="ea0d9-108">Se un DACL è vuoto (ovvero contiene zero assi), nessun accesso viene concesso in modo esplicito, quindi l'accesso viene negato in modo implicito.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-108">If a DACL is empty (that is, it contains zero ACEs), no access is explicitly granted, so access is implicitly denied.</span></span> <span data-ttu-id="ea0d9-109">Tuttavia, se il descrittore di sicurezza di un oggetto non dispone di un DACL, l'oggetto non è protetto e tutti hanno accesso completo.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-109">However, if an object's security descriptor does not have a DACL, the object is unprotected and everyone has complete access.</span></span>

<span data-ttu-id="ea0d9-110">Per recuperare l'elenco DACL di un oggetto, è necessario essere il proprietario dell'oggetto o avere accesso in **lettura al \_ controllo** dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-110">To retrieve an object's DACL, you must be the object's owner or have **READ\_CONTROL** access to the object.</span></span>

<span data-ttu-id="ea0d9-111">Per ottenere e impostare l'elenco DACL di un oggetto directory, utilizzare l'interfaccia [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) .</span><span class="sxs-lookup"><span data-stu-id="ea0d9-111">To get and set the DACL of a directory object, use the [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) interface.</span></span> <span data-ttu-id="ea0d9-112">Con C++, il metodo [**IADsSecurityDescriptor:: Get \_ DiscretionaryAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) restituisce un puntatore [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) .</span><span class="sxs-lookup"><span data-stu-id="ea0d9-112">Using C++, the [**IADsSecurityDescriptor::get\_DiscretionaryAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) method returns an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer.</span></span> <span data-ttu-id="ea0d9-113">Chiamare **QueryInterface** su tale puntatore **IDispatch** per ottenere un'interfaccia [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) e usare i metodi su tale interfaccia per accedere alle singole voci ACE nell'elenco DACL.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-113">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) interface, and use the methods on that interface to access the individual ACEs in the DACL.</span></span> <span data-ttu-id="ea0d9-114">La procedura per la modifica di un DACL è descritta in [impostazione dei diritti di accesso per un oggetto](setting-access-rights-on-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="ea0d9-114">The procedure for modifying a DACL is described in [Setting Access Rights on an Object](setting-access-rights-on-an-object.md).</span></span>

<span data-ttu-id="ea0d9-115">Per enumerare le voci ACE, usare il metodo [**IADsAccessControlList:: Get \_ \_ NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) .</span><span class="sxs-lookup"><span data-stu-id="ea0d9-115">To enumerate the ACEs, use the [**IADsAccessControlList::get\_\_NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) method.</span></span> <span data-ttu-id="ea0d9-116">Il metodo restituisce un puntatore [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) .</span><span class="sxs-lookup"><span data-stu-id="ea0d9-116">The method returns an [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) pointer.</span></span> <span data-ttu-id="ea0d9-117">Chiamare **QueryInterface** su quel puntatore **IUnknown** per ottenere un'interfaccia [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) .</span><span class="sxs-lookup"><span data-stu-id="ea0d9-117">Call **QueryInterface** on that **IUnknown** pointer to get an [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) interface.</span></span> <span data-ttu-id="ea0d9-118">Usare il metodo [**IEnumVARIANT:: Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) per enumerare le voci ACE nell'ACL.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-118">Use the [**IEnumVARIANT::Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) method to enumerate the ACEs in the ACL.</span></span> <span data-ttu-id="ea0d9-119">Ogni voce ACE viene restituita come **variante** contenente un puntatore [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) (il membro **VT** è **VT \_ Dispatch**).</span><span class="sxs-lookup"><span data-stu-id="ea0d9-119">Each ACE is returned as a **VARIANT** containing an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer (the **vt** member is **VT\_DISPATCH**).</span></span> <span data-ttu-id="ea0d9-120">Chiamare **QueryInterface** su tale puntatore **IDispatch** per ottenere un'interfaccia [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) per la voce ACE.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-120">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) interface for the ACE.</span></span> <span data-ttu-id="ea0d9-121">È possibile utilizzare i metodi dell'interfaccia **IADsAccessControlEntry** per impostare o recuperare i componenti di una voce ACE.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-121">You can use the methods of the **IADsAccessControlEntry** interface to set or retrieve the components of an ACE.</span></span>

<span data-ttu-id="ea0d9-122">Per ulteriori informazioni sugli elenchi DACL e le voci ACE, vedere gli argomenti seguenti nel Software Development Kit (SDK) della piattaforma.</span><span class="sxs-lookup"><span data-stu-id="ea0d9-122">For more information about DACLs and ACEs, see the following topics in the Platform Software Development Kit (SDK).</span></span>

-   [<span data-ttu-id="ea0d9-123">Elenchi di controllo di accesso (ACL)</span><span class="sxs-lookup"><span data-stu-id="ea0d9-123">Access-Control Lists (ACLs)</span></span>](/windows/desktop/SecAuthZ/access-control-lists)
-   [<span data-ttu-id="ea0d9-124">Voci di controllo di accesso (ACE)</span><span class="sxs-lookup"><span data-stu-id="ea0d9-124">Access-Control Entries (ACEs)</span></span>](/windows/desktop/SecAuthZ/access-control-entries)

 

 