---
title: Recupero del SACL di un oggetto
description: Il descrittore di sicurezza di un oggetto in Active Directory Domain Services può contenere un elenco di controllo di accesso di sistema (SACL).
ms.assetid: b1da91a2-d9b0-48a3-9de5-1e588209032d
ms.tgt_platform: multiple
keywords:
- AD SACL
- SACL AD, recupero del SACL di un oggetto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 537846f2080aecdab8e22f5fce5bdfa36298fb74
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "104336775"
---
# <a name="retrieving-an-objects-sacl"></a><span data-ttu-id="d21ea-105">Recupero del SACL di un oggetto</span><span class="sxs-lookup"><span data-stu-id="d21ea-105">Retrieving an Object's SACL</span></span>

<span data-ttu-id="d21ea-106">Il descrittore di sicurezza di un oggetto in Active Directory Domain Services può contenere un elenco di controllo di accesso di sistema (SACL).</span><span class="sxs-lookup"><span data-stu-id="d21ea-106">The security descriptor of an object in Active Directory Domain Services may contain a system access-control list (SACL).</span></span> <span data-ttu-id="d21ea-107">Un SACL contiene voci di controllo di accesso (ACE) che specificano i tipi di tentativi di accesso che generano record di controllo nel registro eventi di protezione di un controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="d21ea-107">A SACL contains access-control entries (ACEs) that specify the types of access attempts that generate audit records in the security event log of a domain controller.</span></span> <span data-ttu-id="d21ea-108">Tenere presente che un SACL genera voci di log solo sul controller di dominio in cui si è verificato il tentativo di accesso, non su ogni controller di dominio che contiene una replica dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="d21ea-108">Be aware that a SACL generates log entries only on the domain controller where the access attempt occurred, not on every DC that contains a replica of the object.</span></span>

<span data-ttu-id="d21ea-109">Per impostare o ottenere l'elenco SACL dal descrittore di sicurezza di un oggetto, il privilegio di **\_ sicurezza del \_ nome se** deve essere abilitato nel token di accesso del thread richiedente.</span><span class="sxs-lookup"><span data-stu-id="d21ea-109">To set or get the SACL from an object security descriptor, the **SE\_SECURITY\_NAME** privilege must be enabled in the access token of the requesting thread.</span></span> <span data-ttu-id="d21ea-110">Il gruppo Administrators dispone di questo privilegio per impostazione predefinita e può essere assegnato ad altri utenti o gruppi.</span><span class="sxs-lookup"><span data-stu-id="d21ea-110">The administrators group has this privilege by default, and it can be assigned to other users or groups.</span></span> <span data-ttu-id="d21ea-111">Per ulteriori informazioni, vedere il [diritto di accesso SACL](/windows/desktop/SecAuthZ/sacl-access-right).</span><span class="sxs-lookup"><span data-stu-id="d21ea-111">For more information, see [SACL Access Right](/windows/desktop/SecAuthZ/sacl-access-right).</span></span>

<span data-ttu-id="d21ea-112">Per ottenere e impostare l'elenco SACL di un oggetto directory, usare l'interfaccia [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) .</span><span class="sxs-lookup"><span data-stu-id="d21ea-112">To get and set the SACL of a directory object, use the [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) interface.</span></span> <span data-ttu-id="d21ea-113">Con C++, il metodo [**IADsSecurityDescriptor:: Get \_ SystemAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) restituisce un puntatore [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) .</span><span class="sxs-lookup"><span data-stu-id="d21ea-113">Using C++, the [**IADsSecurityDescriptor::get\_SystemAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) method returns an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer.</span></span> <span data-ttu-id="d21ea-114">Chiamare **QueryInterface** su tale puntatore **IDispatch** per ottenere un'interfaccia [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) e usare i metodi su tale interfaccia per accedere alle singole voci ACE nell'elenco SACL.</span><span class="sxs-lookup"><span data-stu-id="d21ea-114">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) interface, and use the methods on that interface to access the individual ACEs in the SACL.</span></span> <span data-ttu-id="d21ea-115">Per ulteriori informazioni sulla procedura per la modifica di un SACL, che è simile a quello per la modifica di un DACL, vedere [impostazione dei diritti di accesso per un oggetto](setting-access-rights-on-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="d21ea-115">For more information about the procedure for modifying a SACL, which is similar to that for modifying a DACL, see [Setting Access Rights on an Object](setting-access-rights-on-an-object.md).</span></span>

<span data-ttu-id="d21ea-116">Per enumerare le voci ACE in un SACL, usare il metodo [**IADsAccessControlList:: Get \_ \_ NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) , che restituisce un puntatore [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) .</span><span class="sxs-lookup"><span data-stu-id="d21ea-116">To enumerate the ACEs in a SACL, use the [**IADsAccessControlList::get\_\_NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) method, which returns an [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) pointer.</span></span> <span data-ttu-id="d21ea-117">Chiamare **QueryInterface** su quel puntatore **IUnknown** per ottenere un'interfaccia [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) .</span><span class="sxs-lookup"><span data-stu-id="d21ea-117">Call **QueryInterface** on that **IUnknown** pointer to get an [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) interface.</span></span> <span data-ttu-id="d21ea-118">Usare il metodo [**IEnumVARIANT:: Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) per enumerare le voci ACE nell'ACL.</span><span class="sxs-lookup"><span data-stu-id="d21ea-118">Use the [**IEnumVARIANT::Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) method to enumerate the ACEs in the ACL.</span></span> <span data-ttu-id="d21ea-119">Ogni voce ACE viene restituita come **variante** che contiene un puntatore [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) ; tenere presente che il membro **VT** è **VT \_ Dispatch**.</span><span class="sxs-lookup"><span data-stu-id="d21ea-119">Each ACE is returned as a **VARIANT** that contains an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer; be aware that the **vt** member is **VT\_DISPATCH**.</span></span> <span data-ttu-id="d21ea-120">Chiamare **QueryInterface** su tale puntatore **IDispatch** per ottenere un'interfaccia [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) per la voce ACE.</span><span class="sxs-lookup"><span data-stu-id="d21ea-120">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) interface for the ACE.</span></span> <span data-ttu-id="d21ea-121">Usare i metodi dell'interfaccia **IADsAccessControlEntry** per impostare o ottenere i componenti di una voce ACE.</span><span class="sxs-lookup"><span data-stu-id="d21ea-121">Use the **IADsAccessControlEntry** interface methods to set or get the components of an ACE.</span></span>

<span data-ttu-id="d21ea-122">Per ulteriori informazioni sui SACL, vedere:</span><span class="sxs-lookup"><span data-stu-id="d21ea-122">For more information about SACLs, see:</span></span>

-   [<span data-ttu-id="d21ea-123">Elenchi di controllo di accesso (ACL)</span><span class="sxs-lookup"><span data-stu-id="d21ea-123">Access-Control Lists (ACLs)</span></span>](/windows/desktop/SecAuthZ/access-control-lists)
-   [<span data-ttu-id="d21ea-124">Generazione di controllo</span><span class="sxs-lookup"><span data-stu-id="d21ea-124">Audit Generation</span></span>](/windows/desktop/SecAuthZ/audit-generation)

 

 