---
title: Controller di dominio e funzioni di gestione della replica
description: Questo argomento contiene un elenco di funzioni usate per il controller di dominio e la gestione della replica.
ms.assetid: a92783c2-ffb8-473e-8484-1c05ca5453ff
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 00660658874bad4e34a8f6917e08289007cec4d7
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "104046531"
---
# <a name="domain-controller-and-replication-management-functions"></a><span data-ttu-id="a7f1a-103">Controller di dominio e funzioni di gestione della replica</span><span class="sxs-lookup"><span data-stu-id="a7f1a-103">Domain Controller and Replication Management Functions</span></span>

<span data-ttu-id="a7f1a-104">Il controller di dominio (DC) e le funzioni di gestione della replica forniscono gli strumenti per individuare i dati relativi a un controller di dominio, convertendo i nomi degli oggetti di rete tra formati diversi, modificando i nomi dell'entità servizio (SPN) e gli agenti del servizio directory (DSA) e gestendo la replica dei server.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-104">The domain controller (DC) and replication management functions provide tools for finding data about a DC, converting the names of network objects between different formats, manipulating service principal names (SPNs) and directory service agents (DSAs), and managing replication of servers.</span></span> <span data-ttu-id="a7f1a-105">Le funzioni seguenti consentono agli sviluppatori di lavorare con i controller di dominio, la replica e il servizio directory:</span><span class="sxs-lookup"><span data-stu-id="a7f1a-105">The following functions enable developers to work with domain controllers, replication, and the directory service:</span></span>

-   [<span data-ttu-id="a7f1a-106">**DsAddSidHistory**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-106">**DsAddSidHistory**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsaddsidhistorya)
-   [<span data-ttu-id="a7f1a-107">**DsBind**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-107">**DsBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda)
-   [<span data-ttu-id="a7f1a-108">**DsBindingSetTimeout**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-108">**DsBindingSetTimeout**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindingsettimeout)
-   [<span data-ttu-id="a7f1a-109">**DsBindToISTG**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-109">**DsBindToISTG**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindtoistga)
-   [<span data-ttu-id="a7f1a-110">**DsBindWithCred**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-110">**DsBindWithCred**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda)
-   [<span data-ttu-id="a7f1a-111">**DsBindWithSpn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-111">**DsBindWithSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspna)
-   [<span data-ttu-id="a7f1a-112">**DsBindWithSpnEx**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-112">**DsBindWithSpnEx**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspnexa)
-   [<span data-ttu-id="a7f1a-113">**DsClientMakeSpnForTargetServer**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-113">**DsClientMakeSpnForTargetServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsclientmakespnfortargetservera)
-   [<span data-ttu-id="a7f1a-114">**DsCrackNames**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-114">**DsCrackNames**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dscracknamesa)
-   [<span data-ttu-id="a7f1a-115">**DsCrackSpn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-115">**DsCrackSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackspna)
-   [<span data-ttu-id="a7f1a-116">**DsCrackUnquotedMangledRdn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-116">**DsCrackUnquotedMangledRdn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackunquotedmangledrdna)
-   [<span data-ttu-id="a7f1a-117">**DsFreeDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-117">**DsFreeDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreedomaincontrollerinfoa)
-   [<span data-ttu-id="a7f1a-118">**DsFreeNameResult**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-118">**DsFreeNameResult**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreenameresulta)
-   [<span data-ttu-id="a7f1a-119">**DsFreePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-119">**DsFreePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreepasswordcredentials)
-   [<span data-ttu-id="a7f1a-120">**DsFreeSchemaGuidMap**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-120">**DsFreeSchemaGuidMap**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreeschemaguidmapa)
-   [<span data-ttu-id="a7f1a-121">**DsFreeSpnArray**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-121">**DsFreeSpnArray**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreespnarraya)
-   [<span data-ttu-id="a7f1a-122">**DsGetDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-122">**DsGetDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetdomaincontrollerinfoa)
-   [<span data-ttu-id="a7f1a-123">**DsGetRdnW**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-123">**DsGetRdnW**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsgetrdnw)
-   [<span data-ttu-id="a7f1a-124">**DsGetSpn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-124">**DsGetSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetspna)
-   [<span data-ttu-id="a7f1a-125">**DsInheritSecurityIdentity**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-125">**DsInheritSecurityIdentity**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsinheritsecurityidentitya)
-   [<span data-ttu-id="a7f1a-126">**DsIsMangledDn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-126">**DsIsMangledDn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangleddna)
-   [<span data-ttu-id="a7f1a-127">**DsIsMangledRdnValue**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-127">**DsIsMangledRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangledrdnvaluea)
-   [<span data-ttu-id="a7f1a-128">**DsListDomainsInSite**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-128">**DsListDomainsInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistdomainsinsitea)
-   [<span data-ttu-id="a7f1a-129">**DsListInfoForServer**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-129">**DsListInfoForServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistinfoforservera)
-   [<span data-ttu-id="a7f1a-130">**DsListRoles**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-130">**DsListRoles**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistrolesa)
-   [<span data-ttu-id="a7f1a-131">**DsListServersForDomainInSite**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-131">**DsListServersForDomainInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversfordomaininsitea)
-   [<span data-ttu-id="a7f1a-132">**DsListServersInSite**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-132">**DsListServersInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversinsitea)
-   [<span data-ttu-id="a7f1a-133">**DsListSites**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-133">**DsListSites**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistsitesa)
-   [<span data-ttu-id="a7f1a-134">**DsMakePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-134">**DsMakePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmakepasswordcredentialsa)
-   [<span data-ttu-id="a7f1a-135">**DsMakeSpn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-135">**DsMakeSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsmakespna)
-   [<span data-ttu-id="a7f1a-136">**DsMapSchemaGuids**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-136">**DsMapSchemaGuids**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmapschemaguidsa)
-   [<span data-ttu-id="a7f1a-137">**DsQuerySitesByCost**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-137">**DsQuerySitesByCost**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesbycosta)
-   [<span data-ttu-id="a7f1a-138">**DsQuerySitesFree**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-138">**DsQuerySitesFree**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesfree)
-   [<span data-ttu-id="a7f1a-139">**DsQuoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-139">**DsQuoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsquoterdnvaluea)
-   [<span data-ttu-id="a7f1a-140">**DsRemoveDsDomain**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-140">**DsRemoveDsDomain**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsdomaina)
-   [<span data-ttu-id="a7f1a-141">**DsRemoveDsServer**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-141">**DsRemoveDsServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsservera)
-   [<span data-ttu-id="a7f1a-142">**DsReplicaAdd**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-142">**DsReplicaAdd**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda)
-   [<span data-ttu-id="a7f1a-143">**DsReplicaConsistencyCheck**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-143">**DsReplicaConsistencyCheck**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaconsistencycheck)
-   [<span data-ttu-id="a7f1a-144">**DsReplicaDel**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-144">**DsReplicaDel**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela)
-   [<span data-ttu-id="a7f1a-145">**DsReplicaFreeInfo**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-145">**DsReplicaFreeInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicafreeinfo)
-   [<span data-ttu-id="a7f1a-146">**DsReplicaGetInfo**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-146">**DsReplicaGetInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfow)
-   [<span data-ttu-id="a7f1a-147">**DsReplicaGetInfo2**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-147">**DsReplicaGetInfo2**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfo2w)
-   [<span data-ttu-id="a7f1a-148">**DsReplicaModify**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-148">**DsReplicaModify**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya)
-   [<span data-ttu-id="a7f1a-149">**DsReplicaSync**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-149">**DsReplicaSync**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca)
-   [<span data-ttu-id="a7f1a-150">**DsReplicaSyncAll**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-150">**DsReplicaSyncAll**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla)
-   [<span data-ttu-id="a7f1a-151">**DsReplicaUpdateRefs**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-151">**DsReplicaUpdateRefs**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa)
-   [<span data-ttu-id="a7f1a-152">**DsReplicaVerifyObjects**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-152">**DsReplicaVerifyObjects**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaverifyobjectsa)
-   [<span data-ttu-id="a7f1a-153">**DsServerRegisterSpn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-153">**DsServerRegisterSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsserverregisterspna)
-   [<span data-ttu-id="a7f1a-154">**DsUnBind**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-154">**DsUnBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda)
-   [<span data-ttu-id="a7f1a-155">**DsUnquoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-155">**DsUnquoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsunquoterdnvaluea)
-   [<span data-ttu-id="a7f1a-156">**DsWriteAccountSpn**</span><span class="sxs-lookup"><span data-stu-id="a7f1a-156">**DsWriteAccountSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dswriteaccountspna)
-   <span data-ttu-id="a7f1a-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="a7f1a-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span></span>

<span data-ttu-id="a7f1a-158">La maggior parte di queste funzioni richiede un handle associato al servizio directory.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-158">Most of these functions require a handle bound to the directory service.</span></span> <span data-ttu-id="a7f1a-159">Le funzioni [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) e [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) avviano una sessione RPC con un controller di dominio specifico, quindi associano un handle al servizio directory e restituiscono l'handle.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-159">The [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) and [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) functions start an RPC session with a particular domain controller, then they bind a handle to the directory service and return the handle.</span></span> <span data-ttu-id="a7f1a-160">Quando l'handle non è più necessario, utilizzare la funzione [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) per terminare la sessione RPC e annullare il binding dell'handle.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-160">When the handle is no longer required, use the [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) function to end the RPC session and unbind the handle.</span></span>

<span data-ttu-id="a7f1a-161">La replica viene eseguita tra un server di origine e un server di destinazione.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-161">Replication occurs between a source server and a destination server.</span></span> <span data-ttu-id="a7f1a-162">Un server di origine gestisce un elenco dei server di destinazione in cui deve essere replicato e un server di destinazione gestisce un elenco dei server di origine da cui riceve la replica.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-162">A source server maintains a list of destination servers to which it should replicate, and a destination server maintains a list of source servers from which it receives replication.</span></span> <span data-ttu-id="a7f1a-163">Utilizzare la funzione [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) per aggiungere all'elenco dei server di origine in un server di destinazione e utilizzare la funzione [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) per rimuovere i riferimenti dall'elenco dei server di origine in un server di destinazione.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-163">Use the [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) function to add to the list of source servers on a destination server, and use the [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) function to remove references from the source server list on a destination server.</span></span> <span data-ttu-id="a7f1a-164">La funzione [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) può essere utilizzata per modificare un riferimento al server di origine esistente in un server di destinazione.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-164">The [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) function may be used to change an existing source server reference on a destination server.</span></span> <span data-ttu-id="a7f1a-165">Per modificare l'elenco dei server di destinazione in un server di origine, utilizzare la funzione [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) .</span><span class="sxs-lookup"><span data-stu-id="a7f1a-165">To change the list of destination servers on a source server, use the [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) function.</span></span>

<span data-ttu-id="a7f1a-166">La replica effettiva viene eseguita dalle funzioni [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) e [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) .</span><span class="sxs-lookup"><span data-stu-id="a7f1a-166">Actual replication is performed by the [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) and [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) functions.</span></span> <span data-ttu-id="a7f1a-167">La funzione **DsReplicaSync** sincronizza un server di destinazione specifico con un unico server di origine.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-167">The **DsReplicaSync** function synchronizes a specific destination server with a single source server.</span></span> <span data-ttu-id="a7f1a-168">Utilizzare la funzione **DsReplicaSyncAll** per sincronizzare un server di destinazione con tutti gli altri server del sito.</span><span class="sxs-lookup"><span data-stu-id="a7f1a-168">Use the **DsReplicaSyncAll** function to synchronize a destination server with all other servers in the site.</span></span>

 

 