---
title: Punti di connessione del servizio per i servizi replicati, basati su host e di database
description: Quando si pubblica un servizio usando un punto di connessione del servizio (SCP), prendere in considerazione il modo in cui i client troveranno il SCP per il servizio.
ms.assetid: 944e8ecd-f8ea-4506-992c-bbbfc82d11f3
ms.tgt_platform: multiple
keywords:
- Punti di connessione del servizio per i servizi replicati, basati su host e database di Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 63b69491dd84a9367f8fd05e9d23ca771551dfbb
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "104046485"
---
# <a name="service-connection-points-for-replicated-host-based-and-database-services"></a><span data-ttu-id="7706e-104">Punti di connessione del servizio per i servizi replicati, basati su host e di database</span><span class="sxs-lookup"><span data-stu-id="7706e-104">Service Connection Points for Replicated, Host-based, and Database Services</span></span>

<span data-ttu-id="7706e-105">Quando si pubblica un servizio usando un punto di connessione del servizio (SCP), prendere in considerazione il modo in cui i client troveranno il SCP per il servizio.</span><span class="sxs-lookup"><span data-stu-id="7706e-105">When you publish a service using a service connection point (SCP), consider how clients will locate the SCP for your service.</span></span> <span data-ttu-id="7706e-106">Se esistono più istanze del servizio, valutare il modo in cui i client distingueranno il servizio con le funzionalità desiderate da servizi simili con funzionalità diverse.</span><span class="sxs-lookup"><span data-stu-id="7706e-106">If multiple instances of the service exist, consider how clients will distinguish the service with the desired features from similar services with different features.</span></span> <span data-ttu-id="7706e-107">Se si pubblica un servizio replicato, considerare come un client sceglierà una replica.</span><span class="sxs-lookup"><span data-stu-id="7706e-107">If you publish a replicated service, consider how a client will choose a replica.</span></span> <span data-ttu-id="7706e-108">In questo argomento vengono illustrati questi problemi per diversi tipi di servizi.</span><span class="sxs-lookup"><span data-stu-id="7706e-108">This topic discusses these issues for various types of services.</span></span>

## <a name="replicable-services"></a><span data-ttu-id="7706e-109">Servizi replicabili</span><span class="sxs-lookup"><span data-stu-id="7706e-109">Replicable services</span></span>

<span data-ttu-id="7706e-110">Per un servizio replicabile è possibile che esistano una o più istanze o repliche del servizio e che i client non siano interessati dalla replica a cui si connettono perché ognuno fornisce lo stesso servizio.</span><span class="sxs-lookup"><span data-stu-id="7706e-110">For a replicable service there can be one or many instances, or replicas, of the service, and clients do not care which replica they connect to because each provides the same service.</span></span> <span data-ttu-id="7706e-111">Active Directory Domain Services sono esempi di servizi replicati: tutti i controller di dominio per un determinato dominio contengono dati identici, soggetti alla latenza di replica e forniscono servizi identici.</span><span class="sxs-lookup"><span data-stu-id="7706e-111">Active Directory Domain Services are examples of replicated services: all domain controllers for a given domain hold identical data, subject to replication latency, and provide identical services.</span></span>

<span data-ttu-id="7706e-112">I servizi replicabili possono archiviare convergenza e altri oggetti specifici del servizio per più repliche in un singolo contenitore.</span><span class="sxs-lookup"><span data-stu-id="7706e-112">Replicable services can store the SCPs and other service-specific objects for multiple replicas in a single container.</span></span> <span data-ttu-id="7706e-113">L'applicazione di installazione per la prima replica può creare il contenitore come figlio del contenitore di sistema del dominio locale.</span><span class="sxs-lookup"><span data-stu-id="7706e-113">The setup application for the first replica can create the container as a child of the local domain's System container.</span></span> <span data-ttu-id="7706e-114">Per ulteriori informazioni, vedere [pubblicazione in un contenitore di sistema del dominio](publishing-in-a-domain-system-container.md).</span><span class="sxs-lookup"><span data-stu-id="7706e-114">For more information, see [Publishing in a Domain System Container](publishing-in-a-domain-system-container.md).</span></span> <span data-ttu-id="7706e-115">Verificare che il descrittore di sicurezza per il contenitore consenta ai programmi di installazione per le repliche successive di creare gli oggetti nello stesso contenitore.</span><span class="sxs-lookup"><span data-stu-id="7706e-115">Ensure that the security descriptor for your container allows the setup programs for subsequent replicas to create their objects in the same container.</span></span> <span data-ttu-id="7706e-116">Concedere le autorizzazioni per l'amministratore che esegue l'installazione per specificare gli utenti o i gruppi che possono creare o modificare gli oggetti nel contenitore.</span><span class="sxs-lookup"><span data-stu-id="7706e-116">Grant permissions for the installing administrator to specify the users or groups that can create or modify objects in the container.</span></span>

<span data-ttu-id="7706e-117">Una strategia per un servizio replicabile consiste nel creare un SCP per ogni replica.</span><span class="sxs-lookup"><span data-stu-id="7706e-117">One strategy for a replicable service is to create an SCP for each replica.</span></span> <span data-ttu-id="7706e-118">Quando un client esegue una query per il GUID del prodotto del servizio o un'altra parola chiave di identificazione, trova gli oggetti SCP per tutte le repliche e ne seleziona uno in modo casuale o usando un algoritmo di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="7706e-118">When a client queries for the service's product GUID or other identifying keyword, it finds the SCP objects for all replicas and selects one at random or using some load-balancing algorithm.</span></span> <span data-ttu-id="7706e-119">Un amministratore può ad esempio specificare i dati di priorità e di bilanciamento del carico per ogni replica, in modo analogo ai campi Priority e Weight di un record DNS SRV.</span><span class="sxs-lookup"><span data-stu-id="7706e-119">For example, an administrator could specify priority and load-balancing data for each replica, similar to the priority and weight fields of a DNS SRV record.</span></span> <span data-ttu-id="7706e-120">L'applicazione di installazione del servizio può archiviare questi dati nell'attributo **serviceBindingInformation** dell'SCP di ogni replica.</span><span class="sxs-lookup"><span data-stu-id="7706e-120">The service's setup application can store this data in the **serviceBindingInformation** attribute of each replica's SCP.</span></span> <span data-ttu-id="7706e-121">I client recuperano i dati da ogni SCP e li usano per selezionare una replica.</span><span class="sxs-lookup"><span data-stu-id="7706e-121">Clients retrieve the data from each SCP and use it to select a replica.</span></span>

<span data-ttu-id="7706e-122">Un'altra strategia consiste nel creare un singolo SCP per tutte le repliche e impostare l'attributo SCP **serviceDNSName** sul nome di un record DNS SRV.</span><span class="sxs-lookup"><span data-stu-id="7706e-122">Another strategy is to create a single SCP for all replicas and set the SCP **serviceDNSName** attribute to the name of a DNS SRV record.</span></span> <span data-ttu-id="7706e-123">Quindi, l'applicazione di installazione per ogni replica registra un record SRV con tale nome.</span><span class="sxs-lookup"><span data-stu-id="7706e-123">Then the setup application for each replica registers a SRV record with that name.</span></span> <span data-ttu-id="7706e-124">Quando un client identifica l'SCP solitario del servizio, il client recupera il nome del record SRV e usa la funzione [**DnsQuery**](/windows/desktop/api/windns/nf-windns-dnsquery_a) per recuperare la matrice di record SRV per le repliche.</span><span class="sxs-lookup"><span data-stu-id="7706e-124">When a client identifies the service's lone SCP, the client retrieves the name of the SRV record and uses the [**DnsQuery**](/windows/desktop/api/windns/nf-windns-dnsquery_a) function to retrieve the array of SRV records for the replicas.</span></span> <span data-ttu-id="7706e-125">Ogni record SRV contiene il nome di un computer host e i dati aggiuntivi che il client può usare per selezionare una replica.</span><span class="sxs-lookup"><span data-stu-id="7706e-125">Each SRV record contains the name of a host computer and additional data that the client can use to select a replica.</span></span>

## <a name="database-services"></a><span data-ttu-id="7706e-126">Servizi di database</span><span class="sxs-lookup"><span data-stu-id="7706e-126">Database services</span></span>

<span data-ttu-id="7706e-127">Diverse istanze di un servizio di database possono contenere dati completamente diversi, anche se sono tutti dello stesso tipo di servizio, in genere chiamato classe del servizio.</span><span class="sxs-lookup"><span data-stu-id="7706e-127">Different instances of a database service may contain entirely different data, even though they are all the same kind of service, usually called service class.</span></span> <span data-ttu-id="7706e-128">Per pubblicare questo tipo di servizio, l'attributo **Keywords** dell'SCP può identificare sia la classe del servizio che il database specifico.</span><span class="sxs-lookup"><span data-stu-id="7706e-128">To publish this kind of service, the **keywords** attribute of the SCP can identify both the service class and the specific database.</span></span> <span data-ttu-id="7706e-129">Un client di uso generico che sa solo il GUID della classe del servizio può eseguire una query per tutti i database pubblicati da tale classe del servizio e quindi presentare un'interfaccia utente per consentire all'utente di selezionarne uno.</span><span class="sxs-lookup"><span data-stu-id="7706e-129">A general-purpose client that knows only the GUID of the service class can query for all databases published by that service class, and then present a user interface to allow the user to select one.</span></span> <span data-ttu-id="7706e-130">Per un client progettato in modo specifico per il database di destinazione, è possibile impostare come hardcoded il GUID del database nel codice client.</span><span class="sxs-lookup"><span data-stu-id="7706e-130">For a client that is designed specifically for the target database, you can hard-code the database GUID into the client code.</span></span>

## <a name="host-based-services"></a><span data-ttu-id="7706e-131">Servizi basati su host</span><span class="sxs-lookup"><span data-stu-id="7706e-131">Host-based services</span></span>

<span data-ttu-id="7706e-132">I servizi basati su host sono servizi strettamente legati a un singolo computer host.</span><span class="sxs-lookup"><span data-stu-id="7706e-132">Host-based services are services that are closely tied to a single host computer.</span></span> <span data-ttu-id="7706e-133">È possibile installare istanze della classe del servizio in molti computer e ogni istanza fornisce servizi identificati con il relativo computer host.</span><span class="sxs-lookup"><span data-stu-id="7706e-133">You can install instances of the service class on many computers and each instance provides services that are identified with its host computer.</span></span>

<span data-ttu-id="7706e-134">Ogni istanza di un servizio basato su host deve creare il proprio SCP nell'oggetto computer del relativo host.</span><span class="sxs-lookup"><span data-stu-id="7706e-134">Each instance of a host-based service should create its own SCP under the computer object of its host.</span></span> <span data-ttu-id="7706e-135">I client che utilizzano un GUID di prodotto per cercare l'SCP di un servizio basato su host in genere trovano molte istanze della classe del servizio nell'intera foresta aziendale.</span><span class="sxs-lookup"><span data-stu-id="7706e-135">Clients who use a product GUID to search for the SCP of a host-based service typically find many instances of the service class throughout the enterprise forest.</span></span> <span data-ttu-id="7706e-136">I client possono quindi utilizzare l'attributo **serviceDNSName** di convergenza per trovare il punto di SCP per l'istanza del servizio nel computer host desiderato.</span><span class="sxs-lookup"><span data-stu-id="7706e-136">Clients can then use the **serviceDNSName** attribute of the SCPs to find the SCP for the service instance on the desired host computer.</span></span>

 

 