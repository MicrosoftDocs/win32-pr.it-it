---
title: Attività di manutenzione dell'account di accesso
description: In questo argomento vengono descritti i problemi relativi alle attività di manutenzione degli account di accesso.
ms.assetid: 528be433-58ef-400b-ba9a-d114f3f94ec6
ms.tgt_platform: multiple
keywords:
- Attività di manutenzione account di accesso AD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa0f11f69d9a974fd666871833029eda0e059329
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "104398830"
---
# <a name="logon-account-maintenance-tasks"></a><span data-ttu-id="1b45e-104">Attività di manutenzione dell'account di accesso</span><span class="sxs-lookup"><span data-stu-id="1b45e-104">Logon Account Maintenance Tasks</span></span>

<span data-ttu-id="1b45e-105">In questo argomento vengono descritti i problemi relativi alle attività di manutenzione degli account di accesso.</span><span class="sxs-lookup"><span data-stu-id="1b45e-105">This topic describes issues that pertain to logon account maintenance tasks.</span></span>

<span data-ttu-id="1b45e-106">Esistono due problemi principali che riguardano le attività di manutenzione degli account di accesso:</span><span class="sxs-lookup"><span data-stu-id="1b45e-106">There are two primary issues that concern logon account maintenance tasks:</span></span>

-   <span data-ttu-id="1b45e-107">Aggiornamento della password dell'account per un'istanza del servizio in esecuzione con un account utente.</span><span class="sxs-lookup"><span data-stu-id="1b45e-107">Updating the account password for a service instance that runs under a user account.</span></span> <span data-ttu-id="1b45e-108">Per ulteriori informazioni, vedere [modifica della password nell'account utente di un servizio](changing-the-password-on-a-serviceampaposs-user-account.md).</span><span class="sxs-lookup"><span data-stu-id="1b45e-108">For more information, see [Changing the Password on a Service's User Account](changing-the-password-on-a-serviceampaposs-user-account.md).</span></span>
-   <span data-ttu-id="1b45e-109">Gestione delle modifiche apportate all'account di accesso di un'istanza del servizio.</span><span class="sxs-lookup"><span data-stu-id="1b45e-109">Handling changes to the logon account of a service instance.</span></span>

<span data-ttu-id="1b45e-110">Quest'ultimo è un caso raro, ma può verificarsi.</span><span class="sxs-lookup"><span data-stu-id="1b45e-110">The latter is a rare case, but can happen.</span></span> <span data-ttu-id="1b45e-111">Il sistema fornisce lo strumento di amministrazione Gestione computer che consente di passare a un account di accesso al servizio.</span><span class="sxs-lookup"><span data-stu-id="1b45e-111">The system provides the Computer Management administrative tool that enables change to a service logon account.</span></span> <span data-ttu-id="1b45e-112">Inoltre, altre applicazioni possono utilizzare la funzione [**ChangeServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfiga) per specificare un nuovo account di accesso per un servizio installato.</span><span class="sxs-lookup"><span data-stu-id="1b45e-112">In addition, other applications can use the [**ChangeServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfiga) function to specify a new logon account for an installed service.</span></span> <span data-ttu-id="1b45e-113">Per impostazione predefinita, i privilegi di amministratore locale sono necessari per modificare un account del servizio.</span><span class="sxs-lookup"><span data-stu-id="1b45e-113">By default, local administrator privileges are required to change a service account.</span></span> <span data-ttu-id="1b45e-114">In tal caso, potrebbe influire sul servizio in due modi:</span><span class="sxs-lookup"><span data-stu-id="1b45e-114">If this did happen, it could affect your service in two ways:</span></span>

-   <span data-ttu-id="1b45e-115">Se sono stati registrati nomi dell'entità servizio (SPN), questi verranno registrati nell'account errato.</span><span class="sxs-lookup"><span data-stu-id="1b45e-115">If you have registered service principal names (SPNs), they will be registered on the wrong account.</span></span>
-   <span data-ttu-id="1b45e-116">Se si impostano le voci ACE per concedere l'accesso al servizio, ora si concede l'accesso all'account errato.</span><span class="sxs-lookup"><span data-stu-id="1b45e-116">If you set ACEs to grant access to the service, they would now grant access to the wrong account.</span></span>

<span data-ttu-id="1b45e-117">Un approccio consiste nel fare in modo che il programma di installazione del servizio memorizzi i nomi SPN registrati per ogni istanza del servizio nel registro di sistema nel computer host.</span><span class="sxs-lookup"><span data-stu-id="1b45e-117">One approach is to have the service installer store the registered SPNs for each service instance in the registry on the host computer.</span></span> <span data-ttu-id="1b45e-118">È possibile usare la stessa chiave del registro di sistema nel \_ computer locale HKEY \_ usato per archiviare la stringa di binding per il servizio SCP.</span><span class="sxs-lookup"><span data-stu-id="1b45e-118">You could use the same registry key under HKEY\_LOCAL\_MACHINE that you used to store the binding string for the service SCP.</span></span> <span data-ttu-id="1b45e-119">All'avvio del servizio, viene chiamata la funzione [**QueryServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-queryserviceconfiga) per determinare il relativo account di accesso, quindi viene eseguita una query sul server Active Directory per determinare se gli SPN sono registrati nell'oggetto directory per l'account.</span><span class="sxs-lookup"><span data-stu-id="1b45e-119">When the service starts, it calls the [**QueryServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-queryserviceconfiga) function to determine its logon account and then queries the Active Directory server to determine whether the SPNs are registered on the directory object for that account.</span></span> <span data-ttu-id="1b45e-120">Se gli SPN non sono registrati o sono registrati nell'account errato, il servizio rifiuta di avviarsi e visualizza un messaggio che informa che un amministratore di dominio deve eseguire il programma di configurazione del servizio per aggiornare le impostazioni dell'account di accesso.</span><span class="sxs-lookup"><span data-stu-id="1b45e-120">If the SPNs are not registered, or are registered on the wrong account, the service refuses to start and displays a message saying that a domain administrator must run the service's configuration program to update the logon account settings.</span></span> <span data-ttu-id="1b45e-121">Tenere presente che questa riconfigurazione deve essere completata da un amministratore perché l'account del servizio non deve avere accesso per aggiornare il proprio nome SPN.</span><span class="sxs-lookup"><span data-stu-id="1b45e-121">Be aware that this reconfiguration must be completed by an administrator because the service account should not have access to update its own SPN.</span></span> <span data-ttu-id="1b45e-122">Tenere inoltre presente che i nomi SPN devono essere rimossi dall'account precedente; in caso contrario, gli SPN saranno inutili per l'autenticazione perché non sono univoci nella foresta.</span><span class="sxs-lookup"><span data-stu-id="1b45e-122">Also be aware that SPNs must be removed from the old account, otherwise the SPNs will be useless for authentication because they are not unique in the forest.</span></span>

 

 