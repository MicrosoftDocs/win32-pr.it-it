---
title: Modello di replica di un programmatore in Active Directory Domain Services
description: Di seguito è riportata una descrizione del modello di replica per Active Directory Domain Services.
ms.assetid: 45baf7ff-9474-4f86-81c8-03336901fec2
ms.tgt_platform: multiple
keywords:
- Modello di programmatore di Active Directory Active Directory Replication
- Modello di replica di un programmatore in Active Directory Domain Services
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9ada20bc07411528eaea4b7ff8c773c50ae8b6ec
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "104044021"
---
# <a name="a-programmers-model-of-replication-in-active-directory-domain-services"></a><span data-ttu-id="7d426-105">Modello di replica di un programmatore in Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="7d426-105">A Programmer's Model of Replication in Active Directory Domain Services</span></span>

<span data-ttu-id="7d426-106">Di seguito è riportata una descrizione del modello di replica per Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="7d426-106">The following is a description of the replication model for Active Directory Domain Services.</span></span>

<span data-ttu-id="7d426-107">Tutti gli aggiornamenti per il controller di Dominio di Active Directory (DC) vengono eseguiti tramite richieste LDAP che creano, modificano o eliminano un oggetto per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="7d426-107">All updates to the Active Directory Domain Controller (DC) are performed using LDAP requests that create, modify, or delete one object for each request.</span></span> <span data-ttu-id="7d426-108">Una singola richiesta può impostare o modificare più attributi in un oggetto.</span><span class="sxs-lookup"><span data-stu-id="7d426-108">A single request can set or modify multiple attributes on an object.</span></span>

<span data-ttu-id="7d426-109">Una richiesta di aggiornamento viene elaborata come transazione atomica in un controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="7d426-109">An update request is processed as an atomic transaction at some DC.</span></span> <span data-ttu-id="7d426-110">L'intero aggiornamento viene eseguito o nessuno di essi.</span><span class="sxs-lookup"><span data-stu-id="7d426-110">Either the entire update happens or none of it does.</span></span> <span data-ttu-id="7d426-111">Se il richiedente riceve una risposta corretta a una richiesta di aggiornamento, l'intera richiesta ha avuto esito positivo (eseguito il commit).</span><span class="sxs-lookup"><span data-stu-id="7d426-111">If the requester receives a successful response to an update request, that entire request has succeeded (committed).</span></span> <span data-ttu-id="7d426-112">Questa operazione viene definita "scrittura di origine".</span><span class="sxs-lookup"><span data-stu-id="7d426-112">This is called an "originating write."</span></span> <span data-ttu-id="7d426-113">Non è possibile raggruppare più richieste LDAP in un'unica transazione di dimensioni maggiori.</span><span class="sxs-lookup"><span data-stu-id="7d426-113">Multiple LDAP requests cannot be grouped into a single larger transaction.</span></span>

<span data-ttu-id="7d426-114">In una scrittura di origine, un controller di dominio calcola un "timbro" per ogni valore di attributo nuovo o modificato e connette questo timbro al valore in modo che, quando il valore viene replicato, il timbro viene replicato.</span><span class="sxs-lookup"><span data-stu-id="7d426-114">In an originating write, a DC computes a "stamp" for each new or modified attribute value, and attaches this stamp to the value so when the value is replicated, the stamp is replicated too.</span></span> <span data-ttu-id="7d426-115">Il nuovo timbro è univoco e, nel caso di un aggiornamento, il nuovo timbro è più grande del timbro sul valore precedente del controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="7d426-115">The new stamp is unique, and in case of an update, the new stamp is larger than the stamp on the old value at that DC.</span></span>

<span data-ttu-id="7d426-116">In alcuni casi, un controller di dominio seleziona il set di oggetti che sono stati modificati dall'ultima volta in cui il controller di dominio ha eseguito la replica.</span><span class="sxs-lookup"><span data-stu-id="7d426-116">Occasionally, a DC selects the set of objects that have changed since the last time the DC performed replication.</span></span> <span data-ttu-id="7d426-117">Quindi, per ogni oggetto, invia un singolo messaggio a tutti gli altri controller di dominio che contengono tutti i valori correnti degli attributi modificati dall'ultima volta in cui l'oggetto è stato replicato.</span><span class="sxs-lookup"><span data-stu-id="7d426-117">Then, for each object, it sends a single message to all other DCs that contain all the current values of attributes changed since the last time the object was replicated.</span></span> <span data-ttu-id="7d426-118">I messaggi di replica sono affidabili e vengono recapitati in ordine, ma possono richiedere più tempo per essere recapitati.</span><span class="sxs-lookup"><span data-stu-id="7d426-118">Replication messages are reliable and are delivered in order, but may require more time to be delivered.</span></span>

<span data-ttu-id="7d426-119">Quando un controller di dominio riceve un messaggio di replica da un altro controller di dominio, lo elabora come segue: per ogni attributo modificato, se il timbro sul valore nel messaggio di replica è maggiore del timbro sul valore corrente, il controller di dominio applica l'aggiornamento; in caso contrario, il controller di dominio ignora l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="7d426-119">When one DC receives a replication message from another DC, it processes it as follows: For each modified attribute, if the stamp on the value in the replication message is larger than the stamp on the current value, the DC applies the update; otherwise the DC discards the update.</span></span> <span data-ttu-id="7d426-120">Ogni messaggio di replica viene applicato come transazione atomica, proprio come una scrittura di origine.</span><span class="sxs-lookup"><span data-stu-id="7d426-120">Each replication message is applied as an atomic transaction, just like an originating write.</span></span>

<span data-ttu-id="7d426-121">Si tratta del modello di replica Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="7d426-121">That is the Active Directory Domain Services replication model.</span></span> <span data-ttu-id="7d426-122">Le proprietà chiave di questo modello includono:</span><span class="sxs-lookup"><span data-stu-id="7d426-122">Key properties of this model include:</span></span>

-   <span data-ttu-id="7d426-123">Una scrittura di origine in un singolo oggetto è atomica.</span><span class="sxs-lookup"><span data-stu-id="7d426-123">An originating write to a single object is atomic.</span></span>
-   <span data-ttu-id="7d426-124">Quando si replicano le modifiche, vengono inviate tutte le modifiche apportate da una scrittura di origine o nessuna di esse.</span><span class="sxs-lookup"><span data-stu-id="7d426-124">When replicating changes, either all the changes made by an originating write are sent or none of them are.</span></span>
-   <span data-ttu-id="7d426-125">Una scrittura replicata in un singolo oggetto è atomica, ma i conflitti vengono risolti in base all'attributo.</span><span class="sxs-lookup"><span data-stu-id="7d426-125">A replicated write to a single object is atomic, but conflicts are resolved attribute-by-attribute.</span></span>

<span data-ttu-id="7d426-126">Il modello non garantisce l'ordine di replica delle modifiche apportate a oggetti diversi.</span><span class="sxs-lookup"><span data-stu-id="7d426-126">The model does not guarantee the replication ordering of changes made to different objects.</span></span> <span data-ttu-id="7d426-127">Non scrivere applicazioni che presuppongono che le modifiche vengano replicate nell'ordine di scrittura di origine.</span><span class="sxs-lookup"><span data-stu-id="7d426-127">Do not write applications that assume that changes are replicated in originating-write order.</span></span> <span data-ttu-id="7d426-128">Il modello non garantisce che se un attributo di un oggetto viene modificato due volte, verranno replicati entrambi i valori. La replica invia solo il valore corrente al momento della replica.</span><span class="sxs-lookup"><span data-stu-id="7d426-128">The model does not guarantee that if an attribute of an object is changed twice, both values will be replicated; Replication sends only the current value at the time of replication.</span></span>

<span data-ttu-id="7d426-129">Il modello è diverso dalla realtà in diversi modi che influiscono solo sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="7d426-129">The model differs from reality in several ways that only affect performance.</span></span> <span data-ttu-id="7d426-130">Ad esempio, il server Active Directory Invia messaggi di replica contenenti le modifiche a più oggetti, ma elabora il contenuto di un messaggio multioggetto come se fosse una serie di messaggi a oggetto singolo.</span><span class="sxs-lookup"><span data-stu-id="7d426-130">For example, the Active Directory Server sends replication messages containing the changes to multiple objects, but processes the contents of such a multi-object message as if it were a series of single-object messages.</span></span> <span data-ttu-id="7d426-131">Il server Active Directory non esegue la replica Point-to-Point come descritto nel modello, ma esegue invece una replica transitiva più complessa e più efficiente, funzionalmente equivalente al modello.</span><span class="sxs-lookup"><span data-stu-id="7d426-131">The Active Directory Server does not perform point-to-point replication as described in the model, but instead performs a more complex and more efficient transitive replication that is functionally equivalent to the model.</span></span>

 

 




