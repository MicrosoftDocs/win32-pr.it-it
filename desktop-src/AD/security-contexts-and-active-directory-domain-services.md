---
title: Contesti di sicurezza e Active Directory Domain Services
description: Quando un'applicazione viene associata a un controller di Dominio di Active Directory (DC), viene eseguita nel contesto di sicurezza di un'entità di sicurezza, che può essere un utente o un'entità, ad esempio un computer o un servizio di sistema.
ms.assetid: 7ad0acbe-f81b-46d6-be87-3526b0bfbd1b
ms.tgt_platform: multiple
keywords:
- Active Directory Active Directory, contesti di sicurezza
- contesti di sicurezza Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c337cb05f8158dbb90f231652c42fb10a486aef4
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "104046486"
---
# <a name="security-contexts-and-active-directory-domain-services"></a><span data-ttu-id="7de49-105">Contesti di sicurezza e Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="7de49-105">Security Contexts and Active Directory Domain Services</span></span>

<span data-ttu-id="7de49-106">Quando un'applicazione viene associata a un controller di Dominio di Active Directory (DC), viene eseguita nel contesto di sicurezza di un'entità di sicurezza, che può essere un utente o un'entità, ad esempio un computer o un servizio di sistema.</span><span class="sxs-lookup"><span data-stu-id="7de49-106">When an application binds to an Active Directory Domain Controller (DC), it does so in the security context of a security principal, which can be a user or an entity such as a computer or a system service.</span></span> <span data-ttu-id="7de49-107">Il contesto di sicurezza è l'account utente utilizzato dal sistema per applicare la sicurezza quando un thread tenta di accedere a un oggetto a protezione diretta.</span><span class="sxs-lookup"><span data-stu-id="7de49-107">The security context is the user account that the system uses to enforce security when a thread attempts to access a securable object.</span></span> <span data-ttu-id="7de49-108">Questi dati includono l'ID di sicurezza (SID) dell'utente, le appartenenze ai gruppi e i privilegi.</span><span class="sxs-lookup"><span data-stu-id="7de49-108">This data includes the user security identifier (SID), group memberships, and privileges.</span></span>

<span data-ttu-id="7de49-109">Un utente stabilisce un contesto di sicurezza presentando le credenziali per l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="7de49-109">A user establishes a security context by presenting credentials for authentication.</span></span> <span data-ttu-id="7de49-110">Se le credenziali vengono autenticate, il sistema produce un token di accesso che identifica le appartenenze ai gruppi e i privilegi associati all'account utente.</span><span class="sxs-lookup"><span data-stu-id="7de49-110">If the credentials are authenticated, the system produces an access token that identifies the group memberships and privileges associated with the user account.</span></span> <span data-ttu-id="7de49-111">Il sistema verifica il token di accesso quando si tenta di accedere a un oggetto directory.</span><span class="sxs-lookup"><span data-stu-id="7de49-111">The system verifies your access token when you attempt to access a directory object.</span></span> <span data-ttu-id="7de49-112">Confronta i dati nel token di accesso con gli account e i gruppi a cui è stato concesso o negato l'accesso da parte del descrittore di sicurezza dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="7de49-112">It compares the data in your access token to the accounts and groups granted or denied access by the object security descriptor.</span></span>

<span data-ttu-id="7de49-113">Usare i metodi seguenti per controllare il contesto di sicurezza con cui si esegue l'associazione a un Active Directory DC:</span><span class="sxs-lookup"><span data-stu-id="7de49-113">Use the following methods to control the security context with which you bind to an Active Directory DC:</span></span>

-   <span data-ttu-id="7de49-114">Eseguire l'associazione con l'opzione **Ads \_ Secure \_ Authentication** con la funzione [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) o il metodo [**IADsOpenDSObject:: OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) e specificare in modo esplicito un nome utente e una password.</span><span class="sxs-lookup"><span data-stu-id="7de49-114">Bind using the **ADS\_SECURE\_AUTHENTICATION** option with the [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) function or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) method and explicitly specify a user name and password.</span></span> <span data-ttu-id="7de49-115">Il sistema autentica queste credenziali e genera un token di accesso usato per la verifica dell'accesso per la durata di tale associazione.</span><span class="sxs-lookup"><span data-stu-id="7de49-115">The system authenticates these credentials and generates an access token that it uses for access verification for the duration of that binding.</span></span> <span data-ttu-id="7de49-116">Per altre informazioni, vedere [Autenticazione](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="7de49-116">For more information, see [Authentication](authentication.md).</span></span>
-   <span data-ttu-id="7de49-117">Eseguire l'associazione con l'opzione **Ads \_ Secure \_ Authentication** , ma senza specificare le credenziali.</span><span class="sxs-lookup"><span data-stu-id="7de49-117">Bind using the **ADS\_SECURE\_AUTHENTICATION** option, but without specifying credentials.</span></span> <span data-ttu-id="7de49-118">Se non si esegue la rappresentazione di un utente, il sistema utilizza il contesto di sicurezza primario dell'applicazione, ovvero il contesto di sicurezza dell'utente che ha avviato l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7de49-118">If you are not impersonating a user, the system uses the primary security context of your application, that is, the security context of the user who started your application.</span></span> <span data-ttu-id="7de49-119">Nel caso di un servizio di sistema, si tratta del contesto di sicurezza dell'account del servizio o dell'account LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="7de49-119">In the case of a system service, this is the security context of the service account or the LocalSystem account.</span></span>
-   <span data-ttu-id="7de49-120">Rappresentare un utente e quindi eseguire l'associazione con **\_ \_ l'autenticazione protetta ADS**, ma senza specificare le credenziali.</span><span class="sxs-lookup"><span data-stu-id="7de49-120">Impersonate a user and then bind with **ADS\_SECURE\_AUTHENTICATION**, but without specifying credentials.</span></span> <span data-ttu-id="7de49-121">In questo caso, il sistema utilizza il contesto di sicurezza del client rappresentato.</span><span class="sxs-lookup"><span data-stu-id="7de49-121">In this case, the system uses the security context of the client that is impersonated.</span></span> <span data-ttu-id="7de49-122">Per ulteriori informazioni, vedere [rappresentazione client](/windows/desktop/SecAuthZ/client-impersonation).</span><span class="sxs-lookup"><span data-stu-id="7de49-122">For more information, see [Client Impersonation](/windows/desktop/SecAuthZ/client-impersonation).</span></span>
-   <span data-ttu-id="7de49-123">Eseguire l'associazione tramite [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) o [**IADsOpenDSObject:: OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) con l'opzione **Ads \_ No \_ Authentication** .</span><span class="sxs-lookup"><span data-stu-id="7de49-123">Bind using [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) with the **ADS\_NO\_AUTHENTICATION** option.</span></span> <span data-ttu-id="7de49-124">Questo metodo viene associato senza autenticazione e restituisce "Everyone" come contesto di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="7de49-124">This method binds without authentication and results in "Everyone" as the security context.</span></span> <span data-ttu-id="7de49-125">Questa opzione è supportata solo dal provider LDAP.</span><span class="sxs-lookup"><span data-stu-id="7de49-125">Only the LDAP provider supports this option.</span></span>

<span data-ttu-id="7de49-126">Se possibile, eseguire il binding senza specificare le credenziali.</span><span class="sxs-lookup"><span data-stu-id="7de49-126">If possible, bind without specifying credentials.</span></span> <span data-ttu-id="7de49-127">Ovvero utilizzare il contesto di sicurezza dell'utente connesso o il client rappresentato.</span><span class="sxs-lookup"><span data-stu-id="7de49-127">That is, use the security context of the logged-on user or the impersonated client.</span></span> <span data-ttu-id="7de49-128">Questo consente di evitare la memorizzazione delle credenziali nella cache.</span><span class="sxs-lookup"><span data-stu-id="7de49-128">This enables you to avoid caching credentials.</span></span> <span data-ttu-id="7de49-129">Se è necessario utilizzare credenziali utente alternative, richiedere le credenziali, associarle, ma non memorizzarle nella cache.</span><span class="sxs-lookup"><span data-stu-id="7de49-129">If you must use alternate user credentials, prompt for the credentials, bind with them, but do not cache them.</span></span> <span data-ttu-id="7de49-130">Per usare lo stesso contesto di sicurezza in più operazioni di binding, è possibile specificare il nome utente e la password per la prima operazione di binding e quindi specificare solo il nome utente per eseguire le associazioni successive.</span><span class="sxs-lookup"><span data-stu-id="7de49-130">To use the same security context in multiple bind operations, you can specify the user name and password for the first bind operation and then specify only the user name to make subsequent binds.</span></span> <span data-ttu-id="7de49-131">Per ulteriori informazioni sull'utilizzo di questa tecnica, vedere [Authentication](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="7de49-131">For more information about using this technique, see [Authentication](authentication.md).</span></span>

<span data-ttu-id="7de49-132">Alcuni contesti di sicurezza sono più potenti di altri.</span><span class="sxs-lookup"><span data-stu-id="7de49-132">Some security contexts are more powerful than others.</span></span> <span data-ttu-id="7de49-133">Ad esempio, l'account LocalSystem in un controller di dominio ha accesso completo ai Active Directory Domain Services, mentre un utente tipico ha solo accesso limitato a alcuni degli oggetti nella directory.</span><span class="sxs-lookup"><span data-stu-id="7de49-133">For example, the LocalSystem account on a domain controller has complete access to Active Directory Domain Services, whereas a typical user has only limited access to a some of the objects in the directory.</span></span> <span data-ttu-id="7de49-134">In generale, l'applicazione non deve essere eseguita in un contesto di sicurezza avanzato, ad esempio LocalSystem, quando un contesto di sicurezza meno potente è sufficiente per eseguire le operazioni.</span><span class="sxs-lookup"><span data-stu-id="7de49-134">In general, your application should not run in a powerful security context, such as LocalSystem, when a less powerful security context is sufficient to perform the operations.</span></span> <span data-ttu-id="7de49-135">Ciò significa che è possibile suddividere l'applicazione in componenti distinti, ognuno dei quali viene eseguito in un contesto di sicurezza appropriato per le operazioni da eseguire.</span><span class="sxs-lookup"><span data-stu-id="7de49-135">This means that you may want to divide your application into separate components, each of which runs in a security context appropriate to the operations to perform.</span></span> <span data-ttu-id="7de49-136">Ad esempio, il programma di installazione dell'applicazione può essere suddiviso nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="7de49-136">For example, your application setup can be divided as follows:</span></span>

-   <span data-ttu-id="7de49-137">Eseguire modifiche allo schema ed estensioni nel contesto di un utente membro del gruppo Schema Administrators.</span><span class="sxs-lookup"><span data-stu-id="7de49-137">Perform schema changes and extensions in the context of a user who is a member of the Schema Administrators group.</span></span>
-   <span data-ttu-id="7de49-138">Eseguire modifiche al contenitore di configurazione nel contesto di un utente membro del gruppo Enterprise Administrators.</span><span class="sxs-lookup"><span data-stu-id="7de49-138">Perform configuration container changes in the context of a user who is a member of the Enterprise Administrators group.</span></span>
-   <span data-ttu-id="7de49-139">Eseguire le modifiche del contenitore di dominio nel contesto di un utente membro del gruppo Domain Administrators.</span><span class="sxs-lookup"><span data-stu-id="7de49-139">Perform domain container changes in the context of a user who is a member of the Domain Administrators group.</span></span>

 

 