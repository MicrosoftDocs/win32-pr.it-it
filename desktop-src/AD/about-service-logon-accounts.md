---
title: Informazioni sugli account di accesso al servizio
description: Quando un servizio basato su Win32 viene avviato, accede al computer locale.
ms.assetid: 637ad0c0-118f-43e8-9d21-a93f6886f546
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 328b33d5dab36ccc5a803eb7c43ca3112e96ecf8
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "104117514"
---
# <a name="about-service-logon-accounts"></a><span data-ttu-id="340c3-103">Informazioni sugli account di accesso al servizio</span><span class="sxs-lookup"><span data-stu-id="340c3-103">About Service Logon Accounts</span></span>

<span data-ttu-id="340c3-104">Quando un servizio basato su Win32 viene avviato, accede al computer locale.</span><span class="sxs-lookup"><span data-stu-id="340c3-104">When a Win32-based service starts, it logs on to the local computer.</span></span> <span data-ttu-id="340c3-105">Può accedere come:</span><span class="sxs-lookup"><span data-stu-id="340c3-105">It can log on as:</span></span>

-   <span data-ttu-id="340c3-106">Un account utente locale o di dominio.</span><span class="sxs-lookup"><span data-stu-id="340c3-106">A local or domain user account.</span></span>
-   <span data-ttu-id="340c3-107">Account LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="340c3-107">The LocalSystem account.</span></span>

<span data-ttu-id="340c3-108">L'account di accesso determina l'identità di sicurezza del servizio in fase di esecuzione, ovvero il contesto di sicurezza primario del servizio.</span><span class="sxs-lookup"><span data-stu-id="340c3-108">The logon account determines the security identity of the service at run time, that is, the service's primary security context.</span></span> <span data-ttu-id="340c3-109">Il contesto di sicurezza determina la capacità del servizio di accedere alle risorse locali e di rete.</span><span class="sxs-lookup"><span data-stu-id="340c3-109">The security context determines the service's ability to access local and network resources.</span></span> <span data-ttu-id="340c3-110">Ad esempio, un servizio in esecuzione nel contesto di sicurezza di un account utente locale non può accedere alle risorse di rete.</span><span class="sxs-lookup"><span data-stu-id="340c3-110">For example, a service running in the security context of a local user account cannot access network resources.</span></span> <span data-ttu-id="340c3-111">Viceversa, un servizio in esecuzione nel contesto di sicurezza dell'account LocalSystem in un controller di dominio di Windows 2000 (DC) avrebbe accesso illimitato al controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="340c3-111">Conversely, a service running in the security context of the LocalSystem account on a Windows 2000 domain controller (DC), would have unrestricted access to the DC.</span></span> <span data-ttu-id="340c3-112">Per ulteriori informazioni e per una descrizione dei vantaggi e delle limitazioni tra gli account utente e LocalSystem, vedere [contesti di sicurezza e Active Directory Domain Services](security-contexts-and-active-directory-domain-services.md).</span><span class="sxs-lookup"><span data-stu-id="340c3-112">For more information, and a discussion of the benefits and limitations between user accounts and LocalSystem, see [Security Contexts and Active Directory Domain Services](security-contexts-and-active-directory-domain-services.md).</span></span>

<span data-ttu-id="340c3-113">Infine, gli amministratori del sistema in cui è installato il servizio hanno il controllo dell'account di accesso del servizio.</span><span class="sxs-lookup"><span data-stu-id="340c3-113">Ultimately, administrators on the system where the service is installed have control over the service's logon account.</span></span> <span data-ttu-id="340c3-114">Per motivi di sicurezza, alcuni amministratori potrebbero non consentire l'installazione del servizio con l'account LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="340c3-114">For security reasons, some administrators may not allow you to install your service under the LocalSystem account.</span></span> <span data-ttu-id="340c3-115">Il servizio deve essere in grado di essere eseguito con un account utente di dominio.</span><span class="sxs-lookup"><span data-stu-id="340c3-115">Your service must be able to run under a domain user account.</span></span> <span data-ttu-id="340c3-116">Il programmatore può esercitare un certo controllo sull'account di accesso del servizio.</span><span class="sxs-lookup"><span data-stu-id="340c3-116">As a programmer, you can exercise some control over your service's logon account.</span></span> <span data-ttu-id="340c3-117">Il programma di installazione del servizio specifica l'account di accesso del servizio quando chiama la funzione [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea) per installare il servizio in un computer host.</span><span class="sxs-lookup"><span data-stu-id="340c3-117">Your service installer specifies the service's logon account when it calls the [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea) function to install the service on a host computer.</span></span> <span data-ttu-id="340c3-118">Il programma di installazione può suggerire un account di accesso predefinito, ma deve consentire a un amministratore di specificare l'account effettivo.</span><span class="sxs-lookup"><span data-stu-id="340c3-118">Your installer can suggest a default logon account, but it should allow an administrator to specify the actual account.</span></span>

<span data-ttu-id="340c3-119">Il programma di installazione può inoltre eseguire le attività seguenti relative all'account di accesso del servizio:</span><span class="sxs-lookup"><span data-stu-id="340c3-119">Your installer can also perform the following tasks relating to your service's logon account:</span></span>

-   <span data-ttu-id="340c3-120">Installazione.</span><span class="sxs-lookup"><span data-stu-id="340c3-120">Installation.</span></span> <span data-ttu-id="340c3-121">Se si installa il servizio per l'esecuzione con un account utente, l'account deve esistere prima di chiamare [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea).</span><span class="sxs-lookup"><span data-stu-id="340c3-121">If installing your service to run under a user account, the account must exist before you call [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea).</span></span> <span data-ttu-id="340c3-122">È possibile usare un account esistente o crearne uno come parte del computer host installrt.</span><span class="sxs-lookup"><span data-stu-id="340c3-122">You can use an existing account or create one as part of the host-computer installrt.</span></span> <span data-ttu-id="340c3-123">Per ulteriori informazioni, vedere [configurazione di un account utente di un servizio](setting-up-a-serviceampaposs-user-account.md).</span><span class="sxs-lookup"><span data-stu-id="340c3-123">For more information, see [Setting up a Service's User Account](setting-up-a-serviceampaposs-user-account.md).</span></span>
-   <span data-ttu-id="340c3-124">Autenticazione.</span><span class="sxs-lookup"><span data-stu-id="340c3-124">Authentication.</span></span> <span data-ttu-id="340c3-125">Se si desidera che i client usino l'autenticazione reciproca Kerberos, registrare i nomi SPN nell'account di accesso del servizio.</span><span class="sxs-lookup"><span data-stu-id="340c3-125">If you want clients to use Kerberos mutual authentication, register the SPNs on the service's logon account.</span></span> <span data-ttu-id="340c3-126">Se il servizio viene eseguito con l'account LocalSystem, l'account di accesso del servizio è l'account computer del computer host.</span><span class="sxs-lookup"><span data-stu-id="340c3-126">If the service runs under the LocalSystem account, the service's logon account is the computer account of the host computer.</span></span> <span data-ttu-id="340c3-127">Per altre informazioni vedere [Service Principal Names](service-principal-names.md) (Nomi di entità servizio).</span><span class="sxs-lookup"><span data-stu-id="340c3-127">For more information, see [Service Principal Names](service-principal-names.md).</span></span>
-   <span data-ttu-id="340c3-128">Concessione dell'accesso.</span><span class="sxs-lookup"><span data-stu-id="340c3-128">Grant Access.</span></span> <span data-ttu-id="340c3-129">Verificare che il servizio in fase di esecuzione disponga dei diritti di accesso e dei privilegi necessari per eseguire le attività.</span><span class="sxs-lookup"><span data-stu-id="340c3-129">Ensure that the service at run time has the access rights and privileges that it requires to perform its tasks.</span></span> <span data-ttu-id="340c3-130">Questa operazione può richiedere l'impostazione di voci di controllo di accesso (ACE) nei descrittori di sicurezza di varie risorse, ovvero oggetti directory, condivisioni file e così via, per consentire i diritti di accesso necessari per l'account utente o computer.</span><span class="sxs-lookup"><span data-stu-id="340c3-130">This can require setting access-control entries (ACEs) in the security descriptors of various resources, that is directory objects, file shares, and so on, to allow the necessary access rights to the user or computer account.</span></span> <span data-ttu-id="340c3-131">Per ulteriori informazioni, vedere [concessione di diritti di accesso all'account di accesso al servizio](granting-access-rights-to-the-service-logon-account.md).</span><span class="sxs-lookup"><span data-stu-id="340c3-131">For more information, see [Granting Access Rights to the Service Logon Account](granting-access-rights-to-the-service-logon-account.md).</span></span>
-   <span data-ttu-id="340c3-132">Impostare i privilegi.</span><span class="sxs-lookup"><span data-stu-id="340c3-132">Set Privileges.</span></span> <span data-ttu-id="340c3-133">Assegnare privilegi all'account di accesso specificato, ad esempio il diritto di accedere come servizio al computer host.</span><span class="sxs-lookup"><span data-stu-id="340c3-133">Assign privileges to the specified logon account, such as the right to logon as a service to the host computer.</span></span> <span data-ttu-id="340c3-134">Per ulteriori informazioni, vedere [concessione dell'accesso come servizio direttamente nel computer host](granting-logon-as-service-right-on-the-host-computer.md).</span><span class="sxs-lookup"><span data-stu-id="340c3-134">For more information, see [Granting Logon as Service Right on the Host Computer](granting-logon-as-service-right-on-the-host-computer.md).</span></span>

<span data-ttu-id="340c3-135">Dopo l'installazione di un servizio, sono presenti attività di manutenzione correlate all'account di accesso al servizio.</span><span class="sxs-lookup"><span data-stu-id="340c3-135">After a service is installed, there are maintenance tasks that relate to your service logon account.</span></span> <span data-ttu-id="340c3-136">Per altre informazioni, vedere [attività di manutenzione degli account di accesso](logon-account-maintenance-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="340c3-136">For more information, see [Logon Account Maintenance Tasks](logon-account-maintenance-tasks.md).</span></span>

-   <span data-ttu-id="340c3-137">Manutenzione delle password.</span><span class="sxs-lookup"><span data-stu-id="340c3-137">Password maintenance.</span></span> <span data-ttu-id="340c3-138">Per un servizio eseguito con un account utente, è necessario modificare periodicamente la password e mantenuta la password sincronizzata con la password utilizzata da uno o più gestori di controlli del servizio locali per avviare il servizio.</span><span class="sxs-lookup"><span data-stu-id="340c3-138">For a service that runs under a user account, you must periodically change the password and keep the password in sync with the password used by one or more local service control managers to start the service.</span></span>
-   <span data-ttu-id="340c3-139">Manutenzione del nome SPN.</span><span class="sxs-lookup"><span data-stu-id="340c3-139">SPN maintenance.</span></span> <span data-ttu-id="340c3-140">Se viene modificato un account di accesso al servizio, rimuovere i nomi SPN registrati per l'account precedente e registrarli nel nuovo account.</span><span class="sxs-lookup"><span data-stu-id="340c3-140">If a service logon account changes, remove the SPNs registered on the old account and register them on the new account.</span></span> <span data-ttu-id="340c3-141">Tenere presente che quando viene installato un servizio, un amministratore di dominio può modificare l'account con cui viene eseguito il servizio. utilizzare le funzioni Win32 o l'interfaccia utente dello strumento di amministrazione Gestione computer.</span><span class="sxs-lookup"><span data-stu-id="340c3-141">Be aware that when a service is installed, a domain administrator can change the account under which your service runs; use Win32 functions or the user interface of the Computer Management administrative tool.</span></span>
-   <span data-ttu-id="340c3-142">Manutenzione ACE.</span><span class="sxs-lookup"><span data-stu-id="340c3-142">ACE maintenance.</span></span> <span data-ttu-id="340c3-143">Se un account di accesso al servizio viene modificato, è necessario aggiornare le voci ACE e l'appartenenza a gruppi per assicurarsi che il servizio possa comunque accedere alle risorse necessarie.</span><span class="sxs-lookup"><span data-stu-id="340c3-143">If a service logon account changes, you need to update ACEs and group memberships to ensure that the service can still access the necessary resources.</span></span>

 

 