---
title: Creazione di query efficienti
description: La tabella seguente identifica i concetti importanti da considerare quando si crea una query efficiente.
ms.assetid: 1eb92d74-0a17-43f9-b5bf-eed731a52551
ms.tgt_platform: multiple
keywords:
- Esempi di Active Directory Active Directory, creazione di query efficienti
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8902fd3d512b940890ebdfd4c2640786c88c82a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "103724578"
---
# <a name="creating-efficient-queries"></a><span data-ttu-id="1fe6f-104">Creazione di query efficienti</span><span class="sxs-lookup"><span data-stu-id="1fe6f-104">Creating Efficient Queries</span></span>

<span data-ttu-id="1fe6f-105">La tabella seguente identifica i concetti importanti da considerare quando si crea una query efficiente.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-105">The following table identifies important concepts to consider when creating an efficient query.</span></span>



| <span data-ttu-id="1fe6f-106">Area</span><span class="sxs-lookup"><span data-stu-id="1fe6f-106">Area</span></span>                  | <span data-ttu-id="1fe6f-107">Descrizione</span><span class="sxs-lookup"><span data-stu-id="1fe6f-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="1fe6f-108">Indicizzazione</span><span class="sxs-lookup"><span data-stu-id="1fe6f-108">Indexing</span></span>              | <span data-ttu-id="1fe6f-109">Verificare che il filtro query contenga almeno un attributo indicizzato.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-109">Ensure that the query filter contains at least one indexed attribute.</span></span><br/> <span data-ttu-id="1fe6f-110">Per ulteriori informazioni, vedere [attributi indicizzati](indexed-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="1fe6f-110">For more information, see [Indexed Attributes](indexed-attributes.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="1fe6f-111">Classe rispetto alla categoria</span><span class="sxs-lookup"><span data-stu-id="1fe6f-111">Class vs. Category</span></span>    | <span data-ttu-id="1fe6f-112">L'istruzione "objectClass = XYZ" si riferisce agli oggetti directory in cui "xyz" rappresenta una classe della gerarchia di classi di oggetti, mentre "objectCategory = XYZ" si riferisce agli oggetti directory in cui "xyz" identifica una classe specifica nella gerarchia di classi di oggetti.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-112">The statement "objectClass=xyz" refers to directory objects in which "xyz" represents any class in the object class hierarchy, whereas "objectCategory=xyz", refers to those directory objects in which "xyz" identifies a specific class in the object class hierarchy.</span></span> <span data-ttu-id="1fe6f-113">La proprietà [**objectClass**](/windows/desktop/ADSchema/a-objectclass) può assumere più valori, mentre [**objectCategory**](/windows/desktop/ADSchema/a-objectcategory) accetta un solo valore e, di conseguenza, è più adatta per la corrispondenza dei tipi di oggetti in una ricerca di directory.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-113">The [**objectClass**](/windows/desktop/ADSchema/a-objectclass) property can take multiple values, whereas [**objectCategory**](/windows/desktop/ADSchema/a-objectcategory) takes a single value and is, thus, better suited for type matching of objects in a directory search.</span></span><br/>                                                                                                                                                                                          |
| <span data-ttu-id="1fe6f-114">Ricerca di testo</span><span class="sxs-lookup"><span data-stu-id="1fe6f-114">Text searching</span></span>        | <span data-ttu-id="1fe6f-115">Evitare la ricerca di testo al centro e alla fine di una stringa.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-115">Avoid searching for text in the middle and on the end of a string.</span></span><br/> <span data-ttu-id="1fe6f-116">Ad esempio, "CN = \* Hille \* " o "CN = \* Larouse".</span><span class="sxs-lookup"><span data-stu-id="1fe6f-116">For example, "cn=\*hille\*" or "cn=\*larouse".</span></span><br/> <span data-ttu-id="1fe6f-117">L'utilizzo di criteri di corrispondenza più specifici tende a migliorare le prestazioni di ricerca.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-117">Using more specific matching criteria tends to increase search performance.</span></span> <span data-ttu-id="1fe6f-118">Questo perché Active Directory Domain Services valuterà tutti i predicati, identificherà gli indici e quindi sceglierà un indice con la probabilità di ottenere il set più piccolo di valori restituiti.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-118">This is because Active Directory Domain Services will evaluate all predicates, identifies the indices, and then chooses one index most likely to yield the smallest set of returned values.</span></span> <span data-ttu-id="1fe6f-119">Questa tecnica non funziona bene con le ricerche con stringhe Mid-and-end.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-119">This technique does not work well with mid- and end-string searches.</span></span> <span data-ttu-id="1fe6f-120">Se non si dispone di altre opzioni diverse dall'utilizzo di queste ricerche, è possibile definire un indice di tupla per l'attributo.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-120">If you have no other option other than using these searches, you can define a tuple index for the attribute.</span></span><br/> <span data-ttu-id="1fe6f-121">Per ulteriori informazioni sugli indici di tupla, vedere funzionamento dell' [indicizzazione delle tuple](how-tuple-indexing-works.md).</span><span class="sxs-lookup"><span data-stu-id="1fe6f-121">For more details about tuple indexes see [How Tuple Indexing Works](how-tuple-indexing-works.md).</span></span><br/> |
| <span data-ttu-id="1fe6f-122">Ricerca di sottoalbero</span><span class="sxs-lookup"><span data-stu-id="1fe6f-122">Subtree searching</span></span>     | <span data-ttu-id="1fe6f-123">Usare il catalogo globale se si stanno valutando ricerche di sottoalbero.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-123">Use the global catalog if you are considering subtree searches.</span></span> <span data-ttu-id="1fe6f-124">Per la ricerca di riferimenti sono necessarie risorse estese.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-124">Chasing referrals requires extensive resources.</span></span><br/> <span data-ttu-id="1fe6f-125">Per ulteriori informazioni, vedere [specifica di altre opzioni di ricerca](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="1fe6f-125">For more information, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="1fe6f-126">Uso del paging</span><span class="sxs-lookup"><span data-stu-id="1fe6f-126">Use of paging</span></span>         | <span data-ttu-id="1fe6f-127">Si supponga che una ricerca del sottoalbero restituisca un set di risultati di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-127">Assume that a subtree search will return a large result set.</span></span> <span data-ttu-id="1fe6f-128">Usare il paging quando si eseguono ricerche di sottoalbero.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-128">Use paging when performing subtree searches.</span></span> <span data-ttu-id="1fe6f-129">Il server produrrà un set di risultati di grandi dimensioni in blocchi riducendo le risorse di memoria sul lato server.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-129">The server will stream a large result set in chunks reducing the server side memory resources.</span></span> <span data-ttu-id="1fe6f-130">In questo modo è possibile ridurre l'utilizzo della rete e ridurre la necessità di inviare blocchi di dati di grandi dimensioni in una rete.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-130">This minimizes network usage and reduces the need for sending large chunks of data over a network.</span></span><br/> <span data-ttu-id="1fe6f-131">Per ulteriori informazioni, vedere [specifica di altre opzioni di ricerca](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="1fe6f-131">For more information, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span><br/>                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="1fe6f-132">Combinare le ricerche</span><span class="sxs-lookup"><span data-stu-id="1fe6f-132">Combine searches</span></span>      | <span data-ttu-id="1fe6f-133">Usare più attributi per una ricerca.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-133">Use multiple attributes for a search.</span></span> <span data-ttu-id="1fe6f-134">Una ricerca di un oggetto che legge due attributi è più efficiente di due ricerche dello stesso oggetto, ciascuna delle quali restituisce un attributo.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-134">One search of an object that reads two attributes is more efficient than two searches of the same object, each returning one attribute.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="1fe6f-135">Uso efficiente dell'associazione</span><span class="sxs-lookup"><span data-stu-id="1fe6f-135">Efficient use of bind</span></span> | <span data-ttu-id="1fe6f-136">Eseguire un'associazione a un oggetto una sola volta e mantenere il punto di controllo dell'associazione per il resto della sessione.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-136">Bind to an object one time and hold the binding handle for the rest of the session.</span></span> <span data-ttu-id="1fe6f-137">Non associare e annullare il binding per ogni chiamata.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-137">Do not bind and unbind for each call.</span></span> <span data-ttu-id="1fe6f-138">Se si utilizza ADO o OLE DB, non creare molti oggetti connessione.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-138">If you use ADO or OLE DB, do not create many connection objects.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="1fe6f-139">Caching RoodDSE</span><span class="sxs-lookup"><span data-stu-id="1fe6f-139">RoodDSE caching</span></span>       | <span data-ttu-id="1fe6f-140">Leggere il rootDSE una sola volta e ricordarne il contenuto per il resto della sessione.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-140">Read the rootDSE one time and remember its contents for the rest of your session.</span></span><br/> <span data-ttu-id="1fe6f-141">Per ulteriori informazioni, vedere [binding senza server e RootDSE](serverless-binding-and-rootdse.md).</span><span class="sxs-lookup"><span data-stu-id="1fe6f-141">For more information, see [Serverless Binding and RootDSE](serverless-binding-and-rootdse.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="1fe6f-142">Salvataggio permanente riferimenti</span><span class="sxs-lookup"><span data-stu-id="1fe6f-142">Reference persistance</span></span> | <span data-ttu-id="1fe6f-143">Consente di salvare in modo permanente i riferimenti agli oggetti come GUID, non nomi distinti, per poter essere rinominati ed eliminati in modo sicuro.</span><span class="sxs-lookup"><span data-stu-id="1fe6f-143">Persist references to objects as GUIDs, not distinguished names, in order to be rename and delete safe.</span></span><br/> <span data-ttu-id="1fe6f-144">Per ulteriori informazioni, vedere [utilizzo di objectGUID per l'associazione a un oggetto](using-objectguid-to-bind-to-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="1fe6f-144">For more information, see [Using objectGUID to Bind to an Object](using-objectguid-to-bind-to-an-object.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |



 

 

