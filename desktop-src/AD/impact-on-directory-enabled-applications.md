---
title: Effetti sulle applicazioni Directory-Enabled
description: In questo argomento viene descritto l'impatto sulle applicazioni abilitate alla directory quando si verificano differenze di versione, aggiornamenti parziali o collisioni.
ms.assetid: 0aec6fe3-7757-4472-bc18-add2327d4e1b
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 061818fc791e1c75d440d0c477a321b8c4e5edfb
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "103956319"
---
# <a name="impact-on-directory-enabled-applications"></a><span data-ttu-id="6cee6-103">Effetti sulle applicazioni Directory-Enabled</span><span class="sxs-lookup"><span data-stu-id="6cee6-103">Impact on Directory-Enabled Applications</span></span>

## <a name="version-skew"></a><span data-ttu-id="6cee6-104">Sfasamento della versione</span><span class="sxs-lookup"><span data-stu-id="6cee6-104">Version Skew</span></span>

<span data-ttu-id="6cee6-105">L'asimmetria della versione si verifica quando le applicazioni leggono gli stessi oggetti da repliche diverse prima che una modifica venga replicata.</span><span class="sxs-lookup"><span data-stu-id="6cee6-105">Version skew occurs when applications read the same objects from different replicas before a change has replicated.</span></span> <span data-ttu-id="6cee6-106">Le applicazioni che leggono la replica remota riconoscono l'oggetto non modificato.</span><span class="sxs-lookup"><span data-stu-id="6cee6-106">Applications reading the remote replica recognize the unchanged object.</span></span> <span data-ttu-id="6cee6-107">Lo sfasamento della versione è un problema quando una determinata applicazione o un set di applicazioni utilizza i dati nella directory per interagire.</span><span class="sxs-lookup"><span data-stu-id="6cee6-107">Version skew is an issue when a given application or set of applications use the data in the directory to interoperate.</span></span>

<span data-ttu-id="6cee6-108">Un servizio RPC, ad esempio, può pubblicare gli endpoint nella directory usando le API RPC standard, ad esempio [**RpcNsBindingExport**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindingexporta).</span><span class="sxs-lookup"><span data-stu-id="6cee6-108">For example, an RPC Service can publish its endpoints in the directory using standard RPC APIs (such as [**RpcNsBindingExport**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindingexporta)).</span></span> <span data-ttu-id="6cee6-109">I client si connettono al servizio tramite la ricerca dell'endpoint desiderato nella directory ( [**RpcNsBindingLookupBegin**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupbegina), [**RpcNsBindingLookupNext**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupnext)e così via) e l'associazione.</span><span class="sxs-lookup"><span data-stu-id="6cee6-109">Clients connect to the service by looking up the desired endpoint in the directory ( [**RpcNsBindingLookupBegin**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupbegina), [**RpcNsBindingLookupNext**](/windows/desktop/api/rpcnsi/nf-rpcnsi-rpcnsbindinglookupnext), and so on) and binding to it.</span></span>

<span data-ttu-id="6cee6-110">Si supponga che un servizio RPC ₁ pubblichi endpoint ES ₁ e successivamente si sposta in un altro computer.</span><span class="sxs-lookup"><span data-stu-id="6cee6-110">Assume that an RPC Service S₁ publishes endpoint Eₛ₁ and subsequently moves to a different computer.</span></span> <span data-ttu-id="6cee6-111">L'endpoint originale es ₁ viene modificato in E<sub>S2,</sub> riflettendo l'indirizzo del nuovo computer.</span><span class="sxs-lookup"><span data-stu-id="6cee6-111">The original endpoint Eₛ₁ is changed to E<sub>s2,</sub> reflecting the new computer's address.</span></span> <span data-ttu-id="6cee6-112">I client che leggono le repliche remote del servizio directory non sono in grado di connettersi al servizio fino a quando l'endpoint aggiornato non viene replicato.</span><span class="sxs-lookup"><span data-stu-id="6cee6-112">Clients reading remote replicas of the directory service are unable to connect to the service until the updated endpoint is replicated.</span></span> <span data-ttu-id="6cee6-113">Tuttavia, il trasferimento di un servizio da un computer a un altro è un evento raro; Pertanto, è consigliabile che si verifichino raramente interruzioni/ritardi, soprattutto se lo spostamento del servizio è ben pianificato.</span><span class="sxs-lookup"><span data-stu-id="6cee6-113">However, moving a service from one computer to another is a rare occurrence; therefore, this interruption/delay should rarely be encountered, especially if the movement of the service is well-planned.</span></span>

## <a name="partial-updates"></a><span data-ttu-id="6cee6-114">Aggiornamenti parziali</span><span class="sxs-lookup"><span data-stu-id="6cee6-114">Partial Updates</span></span>

<span data-ttu-id="6cee6-115">In generale, l'aggiornamento parziale si verifica quando un'applicazione legge un set di dati mentre un'altra applicazione scrive nello stesso set di dati.</span><span class="sxs-lookup"><span data-stu-id="6cee6-115">In general, partial update occurs when one application is reading a set of data while another application is writing to that same set of data.</span></span> <span data-ttu-id="6cee6-116">Si tratta di una situazione che può verificarsi con qualsiasi applicazione in un sistema multimaster.</span><span class="sxs-lookup"><span data-stu-id="6cee6-116">This is a situation that can occur with any application in a multi-mastered system.</span></span> <span data-ttu-id="6cee6-117">Questa situazione può verificarsi in molti modi.</span><span class="sxs-lookup"><span data-stu-id="6cee6-117">There are many ways this can occur.</span></span> <span data-ttu-id="6cee6-118">È possibile che più di un'applicazione scriva contemporaneamente nello stesso set di dati.</span><span class="sxs-lookup"><span data-stu-id="6cee6-118">You could have more than one application writing to the same data set at once.</span></span> <span data-ttu-id="6cee6-119">Se lo si osserva in questo modo, il servizio replica directory è semplicemente un'altra applicazione che potrebbe potenzialmente scrivere nello stesso set di dati che può essere letto da un'altra applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cee6-119">If you look at it this way, the directory replication service is just another application that could potentially be writing to the same data set that another application may be reading.</span></span> <span data-ttu-id="6cee6-120">Potrebbe trattarsi di un potenziale problema per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cee6-120">This could be a potential problem for an application.</span></span> <span data-ttu-id="6cee6-121">Tuttavia, l'intervallo di tempo in cui un aggiornamento parziale può influire sull'applicazione è relativamente piccolo.</span><span class="sxs-lookup"><span data-stu-id="6cee6-121">However, the window of time in which a partial update can affect your application is relatively small.</span></span> <span data-ttu-id="6cee6-122">Questo dovrebbe essere raramente un problema per le applicazioni che non dipendono dalla sincronizzazione di più oggetti.</span><span class="sxs-lookup"><span data-stu-id="6cee6-122">This should rarely if ever be an issue for applications that are not dependent on the synchronization of multiple objects.</span></span> <span data-ttu-id="6cee6-123">Se l'applicazione dipende in maniera elevata dalla sincronizzazione di un set correlato di oggetti, è opportuno considerare gli effetti di un aggiornamento parziale nella progettazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6cee6-123">If your application is highly dependent on the synchronization of a related set of objects, you should consider the effects of a partial update in your application design.</span></span>

<span data-ttu-id="6cee6-124">In termini di replica della directory, l'aggiornamento parziale si verifica quando le applicazioni leggono lo stesso set di oggetti da repliche diverse mentre è in corso la replica.</span><span class="sxs-lookup"><span data-stu-id="6cee6-124">In terms of the directory replication, partial update occurs when applications read the same set of objects from different replicas while replication is in progress.</span></span> <span data-ttu-id="6cee6-125">Le applicazioni nella replica remota visualizzano alcune, ma non tutte, le modifiche.</span><span class="sxs-lookup"><span data-stu-id="6cee6-125">Applications at the remote replica see some, but not all, of the changes.</span></span>

> [!Note]  
> <span data-ttu-id="6cee6-126">La finestra in cui l'aggiornamento parziale può influire su un'applicazione è di dimensioni ridotte: l'applicazione deve iniziare a leggere oggetti mentre è in corso la replica in ingresso, dopo la ricezione di uno o più oggetti modificati correlati, ma prima della ricezione di tutti.</span><span class="sxs-lookup"><span data-stu-id="6cee6-126">The window in which partial update can affect an application is small: the application must start reading objects while inbound replication is in progress, after one or more of the related, changed objects have been received but before all have been received.</span></span> <span data-ttu-id="6cee6-127">Il tempo tra gli aggiornamenti nella replica di origine influiscono direttamente sulle dimensioni di questa finestra. gli aggiornamenti che si verificano in modo ravvicinato nel tempo vengono replicati vicino nel tempo.</span><span class="sxs-lookup"><span data-stu-id="6cee6-127">The time between the updates at the source replica directly affects the size of this window—updates that occur close together in time are replicated close together in time.</span></span> <span data-ttu-id="6cee6-128">Un aggiornamento parziale può costituire un problema quando un'applicazione utilizza un set correlato di oggetti.</span><span class="sxs-lookup"><span data-stu-id="6cee6-128">Partial update can be an issue when an application uses a related set of objects.</span></span>

 

<span data-ttu-id="6cee6-129">Ad esempio, un servizio di accesso remoto può utilizzare la directory per archiviare i dati dei criteri e del profilo.</span><span class="sxs-lookup"><span data-stu-id="6cee6-129">For example, a remote access service can use the directory to store policy and profile data.</span></span> <span data-ttu-id="6cee6-130">I dati dei criteri vengono archiviati in un set di oggetti e il profilo in un altro set.</span><span class="sxs-lookup"><span data-stu-id="6cee6-130">The policy data is stored in one set of objects, and the profile in another set.</span></span> <span data-ttu-id="6cee6-131">Quando un utente si connette al servizio di accesso remoto, il servizio di accesso remoto legge i criteri per determinare se l'utente è autorizzato a connettersi e, in tal caso, il profilo da applicare alla sessione utente.</span><span class="sxs-lookup"><span data-stu-id="6cee6-131">When a user connects to the remote access service, the remote access service reads the policy to determine whether the user is allowed to connect, and if so what profile to apply to the user session.</span></span> <span data-ttu-id="6cee6-132">L'aggiornamento parziale può influire sul servizio di accesso remoto in diversi modi:</span><span class="sxs-lookup"><span data-stu-id="6cee6-132">Partial update can affect the remote access service in several ways:</span></span>

-   <span data-ttu-id="6cee6-133">Se il criterio è complesso ed è costituito da più oggetti, il servizio di accesso remoto potrebbe leggere un criterio parzialmente aggiornato, causando un rifiuto errato o la concessione del servizio all'utente, l'impossibilità di elaborare i criteri a causa di un'incoerenza interna e così via.</span><span class="sxs-lookup"><span data-stu-id="6cee6-133">If the policy is complex and consists of multiple objects, the remote access service might read a partially updated policy resulting in incorrect denial or granting of service to the user, inability to process the policy due to internal inconsistency, and so on.</span></span>
-   <span data-ttu-id="6cee6-134">Se i criteri e i profili sono stati aggiornati, il servizio potrebbe elaborare correttamente i criteri ma applicare un profilo non aggiornato, perché gli oggetti criteri sono stati replicati, ma gli oggetti profilo non lo sono.</span><span class="sxs-lookup"><span data-stu-id="6cee6-134">If both the policy and profiles have been updated, the service might correctly process the policy but apply a stale profile, because the policy objects have replicated but the profile objects have not.</span></span>
-   <span data-ttu-id="6cee6-135">Se il profilo è complesso ed è costituito da più oggetti, il servizio potrebbe elaborare correttamente il criterio, ma applicare un profilo parzialmente aggiornato perché gli oggetti criteri sono stati replicati, ma solo alcuni degli oggetti del profilo hanno eseguito questa operazione.</span><span class="sxs-lookup"><span data-stu-id="6cee6-135">If the profile is complex and consists of multiple objects, the service might correctly process the policy but apply a partially updated profile because the policy objects have replicated, but only some of the profile objects have done so.</span></span>

## <a name="collisions"></a><span data-ttu-id="6cee6-136">Conflitti</span><span class="sxs-lookup"><span data-stu-id="6cee6-136">Collisions</span></span>

<span data-ttu-id="6cee6-137">I conflitti si verificano quando gli stessi attributi di due o più repliche di un determinato oggetto vengono modificati durante lo stesso intervallo di replica.</span><span class="sxs-lookup"><span data-stu-id="6cee6-137">Collisions occur when the same attributes of two or more replicas of a given object are changed during the same replication interval.</span></span> <span data-ttu-id="6cee6-138">Il processo di replica riconcilia la collisione; a causa della riconciliazione, un utente o un'applicazione può "vedere" un valore diverso da quello che ha scritto.</span><span class="sxs-lookup"><span data-stu-id="6cee6-138">The replication process reconciles the collision; because of reconciliation a user or application may "see" a value other than the one they wrote.</span></span>

<span data-ttu-id="6cee6-139">Un esempio semplice è quello di informazioni sull'indirizzo utente: un utente modifica un indirizzo postale nella replica R1 e un amministratore modifica lo stesso indirizzo di posta elettronica presso replica R2.</span><span class="sxs-lookup"><span data-stu-id="6cee6-139">A simple example is user address information: A user changes a mailing address at replica R1 and an administrator changes the same mailing address at replica R2.</span></span> <span data-ttu-id="6cee6-140">Un valore scritto viene propagato fino a quando non viene selezionato un altro valore per quel valore dal meccanismo di riconciliazione dei conflitti.</span><span class="sxs-lookup"><span data-stu-id="6cee6-140">A written value propagates until another value is selected over that value by the collision reconciliation mechanism.</span></span> <span data-ttu-id="6cee6-141">Finché un valore continua a "vincere" con altri valori nel processo di risoluzione dei conflitti, il valore continua a propagarsi.</span><span class="sxs-lookup"><span data-stu-id="6cee6-141">As long as a value continues to "win" against other values in the collision resolution process, the value continues to propagate.</span></span> <span data-ttu-id="6cee6-142">In definitiva, questo valore "vincente" verrà propagato in R1, R2 e in tutte le altre repliche se non vengono apportate altre modifiche.</span><span class="sxs-lookup"><span data-stu-id="6cee6-142">Ultimately, this "winning" value will be propagated to R1,R2, and all other replicas if no other changes are made.</span></span>

<span data-ttu-id="6cee6-143">La risoluzione dei conflitti è un problema per le applicazioni che fanno supposizioni sulla coerenza interna degli oggetti o dei set di oggetti.</span><span class="sxs-lookup"><span data-stu-id="6cee6-143">Collision resolution is an issue for applications that make assumptions about the internal consistency of objects or sets of objects.</span></span> <span data-ttu-id="6cee6-144">Ad esempio, un servizio di gestione dell'allocazione della larghezza di banda di rete archivia i dati della larghezza di banda di rete per un determinato segmento di rete nella directory in un oggetto O1</span><span class="sxs-lookup"><span data-stu-id="6cee6-144">For example, a network bandwidth allocation management service stores network bandwidth data for a given network segment in the directory in an object O1.</span></span> <span data-ttu-id="6cee6-145">L'oggetto contiene la larghezza di banda disponibile in bit al secondo e la larghezza di banda massima che ogni singolo utente può riservare.</span><span class="sxs-lookup"><span data-stu-id="6cee6-145">The object contains the bandwidth available in bits-per-second and the maximum bandwidth any single user can reserve.</span></span> <span data-ttu-id="6cee6-146">Il servizio prevede che la larghezza di banda riservabile dall'utente sarà sempre minore o uguale alla larghezza di banda disponibile.</span><span class="sxs-lookup"><span data-stu-id="6cee6-146">The service expects that the user reservable bandwidth will always be less than or equal to the bandwidth available.</span></span>

<span data-ttu-id="6cee6-147">Considerare la sequenza di eventi seguente:</span><span class="sxs-lookup"><span data-stu-id="6cee6-147">Consider the following sequence of events:</span></span>

-   <span data-ttu-id="6cee6-148">L'oggetto nello stato iniziale con replica completa fornisce la larghezza di banda disponibile come 56 kilobit al secondo e la larghezza di banda riservata dall'utente come 9.600 bit al secondo.</span><span class="sxs-lookup"><span data-stu-id="6cee6-148">The object in the initial fully replicated state gives the available bandwidth as 56 kilobits-per-second, and the user reservable bandwidth as 9,600 bits-per-second.</span></span>
-   <span data-ttu-id="6cee6-149">Un amministratore della replica R ₁ modifica i valori rispettivamente in 64K e 19.200.</span><span class="sxs-lookup"><span data-stu-id="6cee6-149">An administrator at replica R₁ changes the values to 64k and 19,200 respectively.</span></span>
-   <span data-ttu-id="6cee6-150">Un amministratore presso la replica R ₂ modifica i valori rispettivamente in 10 milioni e 1 milione prima dell'arrivo dell'aggiornamento da R ₁.</span><span class="sxs-lookup"><span data-stu-id="6cee6-150">An administrator at replica R₂ changes the values to 10 million and 1 million respectively before the update from R₁ arrives.</span></span>

<span data-ttu-id="6cee6-151">Supponendo che gli attributi in questione abbiano numeri di versione uguali quando si verificano gli aggiornamenti, c'è una piccola, ma reale possibilità che l'oggetto finisca con una larghezza di banda massima di 64K e un massimo di 1 milione di utenti, se l'applicazione esegue gli aggiornamenti come operazioni di scrittura separate.</span><span class="sxs-lookup"><span data-stu-id="6cee6-151">Assuming the attributes in question have equal version numbers when the updates occur, there is a small, but real, possibility that the object will end up with a maximum bandwidth of 64k and a user reservable maximum of 1 million—if the application performs the updates as separate write operations.</span></span> <span data-ttu-id="6cee6-152">L'applicazione deve aggiornare sempre entrambe le proprietà in una singola operazione.</span><span class="sxs-lookup"><span data-stu-id="6cee6-152">The application should always update both properties in a single operation.</span></span>

 

 