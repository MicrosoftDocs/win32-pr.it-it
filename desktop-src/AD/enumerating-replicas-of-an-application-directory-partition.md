---
title: Enumerazione delle repliche di una partizione di directory applicativa
description: In questo argomento viene illustrato come enumerare le repliche per una partizione di directory applicativa.
ms.assetid: a1d6865b-ec77-4687-9da7-7fc717568bda
ms.tgt_platform: multiple
keywords:
- Enumerazione delle repliche di una partizione di directory applicativa AD
- Directory dell'applicazione partizioni di Active Directory, enumerazione delle repliche di
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d1415c147fe4320e5f8169487a656db4f365f03a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "103956335"
---
# <a name="enumerating-replicas-of-an-application-directory-partition"></a><span data-ttu-id="fd0e0-105">Enumerazione delle repliche di una partizione di directory applicativa</span><span class="sxs-lookup"><span data-stu-id="fd0e0-105">Enumerating Replicas of an Application Directory Partition</span></span>

<span data-ttu-id="fd0e0-106">Quando viene aggiunta una replica di una partizione di directory applicativa, il nome distinto dell'oggetto [**NTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) per il controller di dominio che conterrà la replica viene aggiunto all'attributo [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) dell'oggetto [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="fd0e0-106">When a replica of an application directory partition is added, the distinguished name of the [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object for the domain controller that will contain the replica is added to the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object.</span></span> <span data-ttu-id="fd0e0-107">L'oggetto **crossRef** usato rappresenta la partizione di directory applicativa.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-107">The **crossRef** object used represents the application directory partition.</span></span>

<span data-ttu-id="fd0e0-108">**Per enumerare le repliche per una partizione di directory applicativa**</span><span class="sxs-lookup"><span data-stu-id="fd0e0-108">**To enumerate the replicas for an application directory partition**</span></span>

1.  <span data-ttu-id="fd0e0-109">Cercare nel contenitore partizioni un oggetto [**crossRef**](/windows/desktop/ADSchema/c-crossref) con un valore di attributo [**NCName**](/windows/desktop/ADSchema/a-ncname) uguale al nome distinto della partizione di directory applicativa.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-109">Search the Partitions container for a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object that has an [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute value that is equal to the distinguished name of the application directory partition.</span></span>
2.  <span data-ttu-id="fd0e0-110">Utilizzare ogni valore dell'attributo [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) dell'oggetto [**crossRef**](/windows/desktop/ADSchema/c-crossref) per eseguire l'associazione all'oggetto [**NTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) del server.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-110">Use each value of the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to bind to the [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object of the server.</span></span>
3.  <span data-ttu-id="fd0e0-111">Ottenere ADsPath per l'elemento padre di ogni oggetto [**NTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) .</span><span class="sxs-lookup"><span data-stu-id="fd0e0-111">Obtain the ADsPath for the parent of each [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object.</span></span> <span data-ttu-id="fd0e0-112">Si tratta di un oggetto che rappresenta il server del controller di dominio.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-112">This is an object that represents the domain controller server.</span></span> <span data-ttu-id="fd0e0-113">Usare ADsPath per eseguire l'associazione all'oggetto server.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-113">Use the ADsPath to bind to the server object.</span></span>
4.  <span data-ttu-id="fd0e0-114">Ottenere il valore dell'attributo [**dNSHostName**](/windows/desktop/ADSchema/a-dnshostname) dell'oggetto server.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-114">Obtain the [**dNSHostName**](/windows/desktop/ADSchema/a-dnshostname) attribute value of the server object.</span></span> <span data-ttu-id="fd0e0-115">Si tratta di una proprietà a valore singolo che contiene il nome DNS del server.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-115">This is a single-value property that contains the DNS name of the server.</span></span>

<span data-ttu-id="fd0e0-116">A causa della latenza di replica e dei ritardi di esecuzione pianificata di KCC, è possibile che le repliche attive effettive per una partizione di directory applicativa non corrispondano all'elenco dei controller di dominio indicati dall'attributo [**msDS-NC-Replication-locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) dell'oggetto [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="fd0e0-116">Due to replication latency and scheduled KCC run delays, it is possible the actual active replicas for an application directory partition may not match the list of domain controllers indicated by the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object.</span></span> <span data-ttu-id="fd0e0-117">Un modo più accurato, ma meno efficace per determinare le repliche attive effettive di una partizione di directory applicativa consiste nel cercare tutti gli oggetti [**NTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) nella foresta che includono un attributo [**msDS-hasMasterNCs**](/windows/desktop/ADSchema/a-msds-hasmasterncs) che contiene il nome distinto della partizione di directory applicativa.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-117">A more accurate, but less efficient way to determine the actual active replicas of an application directory partition is to search for all [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) objects in the forest that have a [**msDS-hasMasterNCs**](/windows/desktop/ADSchema/a-msds-hasmasterncs) attribute that contains the distinguished name of the application directory partition.</span></span> <span data-ttu-id="fd0e0-118">L'attributo **msDS-hasMasterNCs** contiene i nomi distinti di tutte le partizioni di directory scrivibili che il controller di dominio ospita, incluse le partizioni di directory applicative.</span><span class="sxs-lookup"><span data-stu-id="fd0e0-118">The **msDS-hasMasterNCs** attribute contains the distinguished names of all writable directory partitions that the domain controller hosts, including application directory partitions.</span></span>

 

 