---
title: Riferimenti (AD DS)
description: Active Directory Domain Services mantenere i dati di riferimento negli oggetti crossRef archiviati nel contenitore partizioni (crossRefContainer) nel contenitore di configurazione.
ms.assetid: e4d6cc8a-9c2c-4e0f-acca-e9ecdd5e879b
ms.tgt_platform: multiple
keywords:
- Riferimenti AD
- Active Directory, riferimenti
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f63c87fb0248d85ab20191296f9659eb58e460f6
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/17/2020
ms.locfileid: "106299561"
---
# <a name="referrals-ad-ds"></a><span data-ttu-id="4d470-105">Riferimenti (AD DS)</span><span class="sxs-lookup"><span data-stu-id="4d470-105">Referrals (AD DS)</span></span>

<span data-ttu-id="4d470-106">Active Directory Domain Services mantenere i dati di riferimento negli oggetti [**crossRef**](/windows/desktop/ADSchema/c-crossref) archiviati nel contenitore partizioni ([**crossRefContainer**](/windows/desktop/ADSchema/c-crossrefcontainer)) nel contenitore di configurazione.</span><span class="sxs-lookup"><span data-stu-id="4d470-106">Active Directory Domain Services maintain referral data in [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects stored in the partitions container ([**crossRefContainer**](/windows/desktop/ADSchema/c-crossrefcontainer)) in the configuration container.</span></span> <span data-ttu-id="4d470-107">Nell'argomento [decidere dove eseguire la ricerca](where-to-search.md) i riferimenti vengono descritti nel contesto di un dominio all'interno di un albero di dominio e la generazione di riferimenti ai domini subordinati in una ricerca di sottoalbero.</span><span class="sxs-lookup"><span data-stu-id="4d470-107">In the [Deciding Where to Search](where-to-search.md) topic, referrals are discussed in the context of a domain within a domain tree and the generation of referrals to subordinate domains on a subtree search.</span></span>

<span data-ttu-id="4d470-108">Active Directory Domain Services creare e gestire gli oggetti [**crossRef**](/windows/desktop/ADSchema/c-crossref) per tutti i domini della foresta.</span><span class="sxs-lookup"><span data-stu-id="4d470-108">Active Directory Domain Services create and maintains [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects for all domains in the forest.</span></span> <span data-ttu-id="4d470-109">Sono inoltre disponibili oggetti **crossRef** per i contenitori di configurazione e di schema.</span><span class="sxs-lookup"><span data-stu-id="4d470-109">In addition, there are **crossRef** objects for the configuration and schema containers.</span></span> <span data-ttu-id="4d470-110">Questi oggetti **crossRef** vengono usati per generare riferimenti in risposta a query che richiedono dati sugli oggetti presenti nella foresta, ma non sono contenuti nel server di directory che gestisce la richiesta.</span><span class="sxs-lookup"><span data-stu-id="4d470-110">These **crossRef** objects are used to generate referrals in response to queries that request data about objects that exist in the forest, but not contained on the directory server handling the request.</span></span> <span data-ttu-id="4d470-111">Questi sono denominati *riferimenti incrociati interni*, perché fanno riferimento a domini, schemi e contenitori di configurazione all'interno della foresta.</span><span class="sxs-lookup"><span data-stu-id="4d470-111">These are called *internal cross references*, because they refer to domains, schema, and configuration containers within the forest.</span></span>

<span data-ttu-id="4d470-112">Se la ricerca di riferimenti non è abilitata e viene eseguita una ricerca del sottoalbero, la ricerca restituirà tutti gli oggetti all'interno del dominio specificato che soddisfano i criteri di ricerca.</span><span class="sxs-lookup"><span data-stu-id="4d470-112">If referral chasing is not enabled and a subtree search is performed, the search will return all objects within the specified domain that meet the search criteria.</span></span> <span data-ttu-id="4d470-113">La ricerca restituirà anche i riferimenti a tutti i domini subordinati che sono discendenti diretti del dominio del server di directory.</span><span class="sxs-lookup"><span data-stu-id="4d470-113">The search will also return referrals to any subordinate domains that are direct descendants of the directory server domain.</span></span> <span data-ttu-id="4d470-114">Il client deve risolvere i riferimenti eseguendo l'associazione al percorso specificato dal riferimento e inviando un'altra query.</span><span class="sxs-lookup"><span data-stu-id="4d470-114">The client must resolve the referrals by binding to the path specified by the referral and submitting another query.</span></span>

<span data-ttu-id="4d470-115">Se la ricerca dei riferimenti è attivata e viene eseguita una ricerca del sottoalbero, l'API LDAP sottostante tenterà automaticamente di eseguire l'associazione a tutti i riferimenti e di aggiungere i risultati della ricerca al set di risultati.</span><span class="sxs-lookup"><span data-stu-id="4d470-115">If referral chasing is turned on and a subtree search is performed, the underlying LDAP API will automatically attempt to bind to any referrals and add the search results to the result set.</span></span> <span data-ttu-id="4d470-116">Nella maggior parte dei casi, l'inseguimento dei riferimenti sarà trasparente per il chiamante.</span><span class="sxs-lookup"><span data-stu-id="4d470-116">In most cases, the referral chasing will be transparent to the caller.</span></span> <span data-ttu-id="4d470-117">Se il riferimento è a un oggetto in un dominio o in una foresta diversa, l'API LDAP sottostante tenterà di usare le credenziali correnti per eseguire il binding alla destinazione del riferimento.</span><span class="sxs-lookup"><span data-stu-id="4d470-117">If the referral is to an object in a different domain or forest, the underlying LDAP API will attempt to use the current credentials to bind to the target of the referral.</span></span> <span data-ttu-id="4d470-118">Se l'operazione ha esito positivo, l'inseguimento dei riferimenti sarà trasparente.</span><span class="sxs-lookup"><span data-stu-id="4d470-118">If this is successful, the referral chasing will be transparent.</span></span> <span data-ttu-id="4d470-119">Se l'operazione non riesce, verrà restituito il riferimento e un codice di errore di riferimento.</span><span class="sxs-lookup"><span data-stu-id="4d470-119">If this is not successful, the referral and a referral error code will be returned.</span></span>

<span data-ttu-id="4d470-120">Per ulteriori informazioni sull'impostazione delle preferenze di ricerca per il rinvio, vedere [specifica di altre opzioni di ricerca](specifying-other-search-options.md).</span><span class="sxs-lookup"><span data-stu-id="4d470-120">For more information about setting the referral chasing search preference, see [Specifying Other Search Options](specifying-other-search-options.md).</span></span>

<span data-ttu-id="4d470-121">Oltre alle proprietà [**dnsRoot**](/windows/desktop/ADSchema/a-dnsroot) (nome DNS del dominio) e [**NCName**](/windows/desktop/ADSchema/a-ncname) (nome distinto per il dominio), l'oggetto [**crossRef**](/windows/desktop/ADSchema/c-crossref) contiene anche **NetBiosName** (nome NetBIOS del dominio) e **trustParent** (nome distinto per l'oggetto **crossRef** che rappresenta il dominio padre diretto del dominio).</span><span class="sxs-lookup"><span data-stu-id="4d470-121">In addition to the [**dnsRoot**](/windows/desktop/ADSchema/a-dnsroot) (DNS name of the domain) and [**nCName**](/windows/desktop/ADSchema/a-ncname) (distinguished name for the domain) properties, the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object also contains the **nETBIOSName** (NetBIOS name of the domain) and **trustParent** (distinguished name for the **crossRef** object that represents the domain's direct parent domain) properties.</span></span>

<span data-ttu-id="4d470-122">Active Directory Domain Services possono anche avere *riferimenti incrociati esterni* che fanno riferimento a oggetti all'esterno della foresta.</span><span class="sxs-lookup"><span data-stu-id="4d470-122">Active Directory Domain Services can also have *external cross references* that refer to objects outside of the forest.</span></span> <span data-ttu-id="4d470-123">I riferimenti incrociati esterni devono essere aggiunti in modo esplicito da un amministratore.</span><span class="sxs-lookup"><span data-stu-id="4d470-123">External cross references must be added explicitly by an administrator.</span></span> <span data-ttu-id="4d470-124">Tenere presente che il server di destinazione del riferimento incrociato esterno deve avere una radice DNS. ovvero deve essere conforme allo standard RFC 2247.</span><span class="sxs-lookup"><span data-stu-id="4d470-124">Be aware that the target server of the external cross reference must have a DNS root; that is, it must adhere to RFC 2247.</span></span>

<span data-ttu-id="4d470-125">Un riferimento incrociato esterno fa riferimento a un oggetto in qualsiasi altra foresta, purché il nome sia univoco nella foresta di destinazione.</span><span class="sxs-lookup"><span data-stu-id="4d470-125">An external cross reference refers to an object on any other forest, as long as the name is unique in the target forest.</span></span> <span data-ttu-id="4d470-126">Ad esempio, le applicazioni client LDAP utilizzate dall'azienda possono inviare operazioni ai server di directory per Fabrikam.com.</span><span class="sxs-lookup"><span data-stu-id="4d470-126">For example, LDAP client applications that are used by your company can submit operations to your directory servers for Fabrikam.com.</span></span> <span data-ttu-id="4d470-127">Si crea un oggetto [**crossRef**](/windows/desktop/ADSchema/c-crossref) per fabrikam.com.</span><span class="sxs-lookup"><span data-stu-id="4d470-127">You create a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object for Fabrikam.com.</span></span> <span data-ttu-id="4d470-128">A questo punto, anziché restituire un errore di oggetto non trovato, i server di directory possono restituire un riferimento a un oggetto nel dominio Fabrikam.com e i client possono eseguire il rinvio.</span><span class="sxs-lookup"><span data-stu-id="4d470-128">Now, instead of returning an Object Not Found error, your directory servers can return a referral to an object in the Fabrikam.com domain and the clients can chase the referral.</span></span> <span data-ttu-id="4d470-129">Se, ad esempio, si dispone di un oggetto con il nome distinto seguente:</span><span class="sxs-lookup"><span data-stu-id="4d470-129">For example, if you have an object with the following distinguished name:</span></span>


```C++
CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



<span data-ttu-id="4d470-130">È possibile aggiungere un riferimento incrociato esterno per un oggetto denominato "ChildOfSomeObject".</span><span class="sxs-lookup"><span data-stu-id="4d470-130">You can add an external cross reference for an object with the name "ChildOfSomeObject".</span></span>


```C++
CN=ChildOfSomeObject,CN=SomeObject,OU=SomeOU,DC=Fabrikam,DC=Com
```



<span data-ttu-id="4d470-131">Una ricerca di sottoalbero che contiene "SomeObject" restituirà anche un riferimento a "ChildOfSomeObject".</span><span class="sxs-lookup"><span data-stu-id="4d470-131">A subtree search that contains "SomeObject" will also return a referral to "ChildOfSomeObject".</span></span> <span data-ttu-id="4d470-132">Tenere presente che deve essere presente un server LDAP all'indirizzo specificato dal riferimento (una delle proprietà nell'oggetto [**crossRef**](/windows/desktop/ADSchema/c-crossref) ) e che il server LDAP deve fornire lo spazio dei nomi identificato da "ChildOfSomeObject".</span><span class="sxs-lookup"><span data-stu-id="4d470-132">Be aware that there must be an LDAP server at the address that is specified by the referral (one of the properties on the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object) and that this LDAP server must serve the namespace that is identified by "ChildOfSomeObject".</span></span>

<span data-ttu-id="4d470-133">Poiché gli oggetti [**crossRef**](/windows/desktop/ADSchema/c-crossref) vengono archiviati nel contenitore di configurazione, ogni controller di dominio (DC) ha una copia di tutti gli oggetti **crossRef** .</span><span class="sxs-lookup"><span data-stu-id="4d470-133">Because [**crossRef**](/windows/desktop/ADSchema/c-crossref) objects are stored in the configuration container, each domain controller (DC) has a copy of all **crossRef** objects.</span></span> <span data-ttu-id="4d470-134">Pertanto, ogni controller di dominio contiene dati su ogni dominio della foresta, nonché sulle relazioni superiori/subordinate.</span><span class="sxs-lookup"><span data-stu-id="4d470-134">Therefore, every DC contains data about every domain in the forest as well as their superior/subordinate relationships.</span></span> <span data-ttu-id="4d470-135">Questo consente a ogni controller di dominio di generare riferimenti a qualsiasi dominio nella foresta e i riferimenti per i contenitori di dominio, schema o configurazione subordinati non esplorati in una ricerca di sottoalbero.</span><span class="sxs-lookup"><span data-stu-id="4d470-135">This enables each DC to generate referrals to any domain in the forest and referrals for unexplored subordinate domain, schema, or configuration containers on a subtree search.</span></span>

<span data-ttu-id="4d470-136">Per ulteriori informazioni sui riferimenti, vedere:</span><span class="sxs-lookup"><span data-stu-id="4d470-136">For more information about referrals, see:</span></span>

-   [<span data-ttu-id="4d470-137">Quando vengono generati i riferimenti</span><span class="sxs-lookup"><span data-stu-id="4d470-137">When Referrals Are Generated</span></span>](when-referrals-are-generated.md)
-   [<span data-ttu-id="4d470-138">Creazione di un riferimento esterno</span><span class="sxs-lookup"><span data-stu-id="4d470-138">Creating an External Referral</span></span>](creating-an-external-referral.md)

<span data-ttu-id="4d470-139">Per ulteriori informazioni e un esempio di codice in cui viene illustrato come ottenere il nome distinto del contenitore di partizioni, vedere [il codice di esempio per l'individuazione del contenitore di partizioni](example-code-for-locating-the-partitions-container.md).</span><span class="sxs-lookup"><span data-stu-id="4d470-139">For more information and a code example that shows how to obtain the distinguished name of the partitions container, see [Example Code for Locating the Partitions Container](example-code-for-locating-the-partitions-container.md).</span></span>

 

 