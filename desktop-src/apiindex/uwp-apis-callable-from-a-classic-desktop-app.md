---
description: La regola generale è che un'app desktop può chiamare un'API Windows Runtime (WinRT). Tuttavia, alcune API, incluse le API dell'interfaccia utente XAML, richiedono che l'app chiamante disponga di un'identità del pacchetto.
ms.assetid: F3808C28-72DE-49B5-A389-EB085EFC02CC
title: API WinRT chiamabili da un'app desktop
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9083fbfb16391c626f49b79176fed7a81068c028
ms.sourcegitcommit: 0c786b1682063d0cae0fc43180945183fa2c7981
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/24/2020
ms.locfileid: "104047587"
---
# <a name="calling-winrt-apis-from-a-desktop-app"></a><span data-ttu-id="e39bc-104">Chiamata di API WinRT da un'app desktop</span><span class="sxs-lookup"><span data-stu-id="e39bc-104">Calling WinRT APIs from a desktop app</span></span>

<span data-ttu-id="e39bc-105">La regola generale è che un'app desktop può chiamare un'API WinRT.</span><span class="sxs-lookup"><span data-stu-id="e39bc-105">The general rule is that a desktop app can call a WinRT API.</span></span> <span data-ttu-id="e39bc-106">Tuttavia, alcune API, incluse le API dell'interfaccia utente XAML, richiedono che l'app chiamante disponga di un'identità del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e39bc-106">However, some APIs, including the XAML UI APIs, require the calling app to have a package identity.</span></span> <span data-ttu-id="e39bc-107">Le app UWP hanno un modello di app ben definito e hanno un'identità del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e39bc-107">UWP apps have a well-defined app model, and they have a package identity.</span></span> <span data-ttu-id="e39bc-108">Gli altri tipi di app desktop non includono un modello di app ben definito, né un'identità del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e39bc-108">The other types of desktop apps have neither a well-defined app model, nor a package identity.</span></span> <span data-ttu-id="e39bc-109">Se quindi un'API richiede un'identità del pacchetto, un'app WPF, Windows Form o Win32 non può chiamarla a meno che l'app non [sia stata assemblata in un pacchetto MSIX](/windows/msix/desktop/desktop-to-uwp-root).</span><span class="sxs-lookup"><span data-stu-id="e39bc-109">Therefore, if an API requires a package identity, a WPF, Windows Forms, or Win32 app cannot call it unless the app [is packaged in an MSIX package](/windows/msix/desktop/desktop-to-uwp-root).</span></span>

## <a name="the-dualapipartition-attribute"></a><span data-ttu-id="e39bc-110">Attributo DualApiPartition</span><span class="sxs-lookup"><span data-stu-id="e39bc-110">The DualApiPartition attribute</span></span>

<span data-ttu-id="e39bc-111">Questo è il processo da seguire ogni volta che è presente un particolare WinRT che si vuole chiamare dall'app desktop.</span><span class="sxs-lookup"><span data-stu-id="e39bc-111">This is the process to follow whenever there's a particular WinRT that you'd like to call from your desktop app.</span></span> <span data-ttu-id="e39bc-112">Questo processo risponderà alla domanda se l'API può essere chiamata da un'app desktop.</span><span class="sxs-lookup"><span data-stu-id="e39bc-112">This process will answer the question of whether the API is allowed to be called from a desktop app.</span></span> <span data-ttu-id="e39bc-113">Per prima cosa, vedere le informazioni di [riferimento sulle API Windows per Windows Runtime app](/uwp/), trovare l'argomento di riferimento per la classe o l'API membro a cui si è interessati e verificare se l'attributo [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) è elencato nella sezione degli attributi.</span><span class="sxs-lookup"><span data-stu-id="e39bc-113">First, visit the [Windows API reference for Windows Runtime apps](/uwp/), find the reference topic for the class or member API you're interested in, and check whether the [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) attribute is listed in the Attributes section.</span></span>

## <a name="if-the-dualapipartition-attribute-is-listed"></a><span data-ttu-id="e39bc-114">Se l'attributo DualApiPartition è elencato</span><span class="sxs-lookup"><span data-stu-id="e39bc-114">If the DualApiPartition attribute is listed</span></span>

<span data-ttu-id="e39bc-115">Se l'attributo DualApiPartition è elencato, l'API non richiede che l'app chiamante disponga di un'identità del pacchetto e che l'API possa essere chiamata da qualsiasi app desktop.</span><span class="sxs-lookup"><span data-stu-id="e39bc-115">If the DualApiPartition attribute is listed, the API does not need the calling app to have a package identity, and the API is allowed to be called from any desktop app.</span></span> <span data-ttu-id="e39bc-116">[**Windows. Devices. Geolocation. Geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) è un esempio. non è necessario identificare in modo univoco un'app per eseguire le attività di posizione.</span><span class="sxs-lookup"><span data-stu-id="e39bc-116">[**Windows.Devices.Geolocation.Geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) is an example; an app does not need to be uniquely identified in order to perform location tasks.</span></span>

## <a name="if-the-dualapipartition-attribute-is-not-listed"></a><span data-ttu-id="e39bc-117">Se l'attributo DualApiPartition non è elencato</span><span class="sxs-lookup"><span data-stu-id="e39bc-117">If the DualApiPartition attribute is not listed</span></span>

<span data-ttu-id="e39bc-118">Se l'attributo DualApiPartition non è elencato, l'API richiede che l'app chiamante disponga di un'identità del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="e39bc-118">If the DualApiPartition attribute is not listed, the API does need the calling app to have a package identity.</span></span> <span data-ttu-id="e39bc-119">Pertanto, un'app WPF, Windows Form o Win32 non è autorizzata a chiamare l'API, a meno che l'app non sia stata convertita in un'app UWP.</span><span class="sxs-lookup"><span data-stu-id="e39bc-119">Therefore a WPF, Windows Forms, or Win32 app is not allowed to call the API unless the app has been converted to a UWP app.</span></span> <span data-ttu-id="e39bc-120">[**Windows. UI. XAML. Controls. Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) è un esempio.</span><span class="sxs-lookup"><span data-stu-id="e39bc-120">[**Windows.UI.Xaml.Controls.Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) is an example.</span></span>
