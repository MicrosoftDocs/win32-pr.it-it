---
title: Come compilare esempi
description: Per compilare un esempio COM, è necessario configurare l'ambiente del computer per la compilazione di applicazioni Microsoft Win32 C++.
ms.assetid: c62b8b4d-a9d2-4587-8bb6-7b2c30d1c00d
keywords:
- Come compilare esempi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 593d3465d3ebcc32a6768dd8b2dffe1f0a653d07
ms.sourcegitcommit: c2a1c4314550ea9bd202d28adfcc7bfe6180932f
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/11/2020
ms.locfileid: "106299535"
---
# <a name="how-to-build-samples"></a><span data-ttu-id="dd0b7-104">Come compilare esempi</span><span class="sxs-lookup"><span data-stu-id="dd0b7-104">How to Build Samples</span></span>

<span data-ttu-id="dd0b7-105">Per compilare un esempio COM, è necessario configurare l'ambiente del computer per la compilazione di applicazioni Microsoft Win32 C++.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-105">To build a COM sample, the computer environment must be set up to build Microsoft Win32 C++ applications.</span></span>

## <a name="preparing-a-computer-to-create-com-samples"></a><span data-ttu-id="dd0b7-106">Preparazione di un computer per la creazione di esempi COM</span><span class="sxs-lookup"><span data-stu-id="dd0b7-106">Preparing a Computer to Create COM Samples</span></span>

<span data-ttu-id="dd0b7-107">L'ambiente del computer deve essere configurato con un compilatore C++ a 32 bit installato correttamente, un linker e un compilatore di risorse compatibili con Microsoft Visual C++ 4. x o versione successiva e una Windows SDK installata correttamente.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-107">The computer environment must be set up with a properly installed 32-bit C++ compiler, linker, and resource compiler that are compatible with Microsoft Visual C++ 4.x or later, and a properly installed Windows SDK.</span></span> <span data-ttu-id="dd0b7-108">È preferibile installare il Windows SDK ultimo.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-108">It is best to install the Windows SDK last.</span></span> <span data-ttu-id="dd0b7-109">Il Windows SDK include i file di libreria con estensione h e lib necessari per la funzionalità COM codificata negli esempi.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-109">The Windows SDK provides .h include and .lib library files required for the COM functionality coded in the samples.</span></span>

<span data-ttu-id="dd0b7-110">Per eseguire correttamente gli esempi Remclien, Freserve e Freclien, sono necessarie funzionalità di sistema disponibili nei sistemi operativi Windows: Windows Server 2003, Windows XP, Windows 2000 o Windows NT 4,0.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-110">To successfully run the Remclien, Freserve, and Freclien samples requires system facilities that are available in the Windows operating systems: Windows Server 2003, Windows XP, Windows 2000, or Windows NT 4.0.</span></span> <span data-ttu-id="dd0b7-111">Gli esempi Remclien, Freserve e Freclien verranno compilati, ma non verranno eseguiti nei sistemi operativi Windows me, Windows 98 o Windows 95, a meno che il sistema operativo non distribuisca com (DCOM) e COM a thread libero.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-111">The Remclien, Freserve, and Freclien samples will build but will not run on the Windows Me, Windows 98, or Windows 95 operating systems unless Distributed COM (DCOM) and free threaded COM are part of the operating system.</span></span> <span data-ttu-id="dd0b7-112">Questo supporto è disponibile per i sistemi operativi Windows me, Windows 98 e Windows 95 nel componente aggiuntivo DCOM95.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-112">This support is available for the Windows Me, Windows 98, and Windows 95 operating systems in the DCOM95 add on.</span></span> <span data-ttu-id="dd0b7-113">Attualmente è possibile ottenere DCOM95 tramite [download da Microsoft](https://www.microsoft.com/download/details.aspx?id=31661).</span><span class="sxs-lookup"><span data-stu-id="dd0b7-113">DCOM95 can currently be obtained by [download from Microsoft](https://www.microsoft.com/download/details.aspx?id=31661).</span></span>

<span data-ttu-id="dd0b7-114">Ogni directory di esempio include i file di origine necessari per compilare ed eseguire l'esempio.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-114">Each sample directory has the necessary source files to build and run the sample.</span></span> <span data-ttu-id="dd0b7-115">La directory di esempio padre dispone di un file di Makeall.bat, che è possibile eseguire dal prompt dei comandi per eseguire tutti gli esempi di codice nel ramo riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-115">The parent sample directory has a Makeall.bat file, which you can run from the command prompt to make all the code samples in the branch below.</span></span> <span data-ttu-id="dd0b7-116">Per ulteriori informazioni, vedere il file di Makeall.bat.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-116">For more information, see the Makeall.bat file.</span></span> <span data-ttu-id="dd0b7-117">Se l'ambiente è configurato per la compilazione di applicazioni C++ Win32, è possibile eseguire semplicemente Makeall.bat dalla directory in cui risiede per compilare tutti gli esempi di codice nel branch seguente.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-117">If your environment is set up to build Win32 C++ applications, you can simply run Makeall.bat from the directory where it resides to build all the code samples in the branch below.</span></span> <span data-ttu-id="dd0b7-118">Makeall garantisce l'ordine corretto per la compilazione in modo che tutte le dipendenze di esempio di codice siano soddisfatte.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-118">Makeall ensures the correct order to the build so that all the code sample dependencies are satisfied.</span></span>

<span data-ttu-id="dd0b7-119">La directory principale dispone anche di un makefile che compila tutti gli esempi di codice dell'esercitazione usando opzioni simili a quelle supportate da Makeall.bat.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-119">The main directory also has a makefile that builds all the tutorial code samples using options similar to those supported by Makeall.bat.</span></span> <span data-ttu-id="dd0b7-120">Per ulteriori informazioni, vedere questo makefile.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-120">For more information, see this makefile.</span></span> <span data-ttu-id="dd0b7-121">Questo Makefile presuppone che l'intero ramo esempi di codice sia installato come parte del Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-121">This makefile assumes that the entire code samples branch is installed as part of the Windows SDK.</span></span> <span data-ttu-id="dd0b7-122">Attualmente questo percorso ha un percorso simile a *d: \\ MSSDK \\ Samples \\ com \\ TUTSAMP*, dove d: rappresenta l'unità di installazione.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-122">Currently this location has a path similar to *D:\\MSSDK\\SAMPLES\\COM\\TUTSAMP*, where D: represents the installation drive.</span></span> <span data-ttu-id="dd0b7-123">Se è stato estratto il ramo di esempio di codice dell'esercitazione (ad esempio, la directory com e le relative sottodirectory) in un'altra posizione all'esterno del Windows SDK (o se è stato ottenuto il set di esempio come download separato dal sito Web Microsoft), usare Makeall.bat per compilare tutti gli esempi nel ramo.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-123">If you have extracted the tutorial code sample branch (for example, the COM directory COM and its subdirectories) to another location outside the Windows SDK (or if you obtained the sample set as a separate download from the Microsoft website), then use Makeall.bat to compile all the samples in the branch.</span></span> <span data-ttu-id="dd0b7-124">In generale, è consigliabile Makeall.bat.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-124">In general, Makeall.bat is recommended.</span></span> <span data-ttu-id="dd0b7-125">Viene inoltre fornito un file di Logmall.bat.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-125">A Logmall.bat file is also provided.</span></span> <span data-ttu-id="dd0b7-126">Esegue la stessa operazione del file batch makeall, ad eccezione del fatto che registra tutti gli output di compilazione in file Errorlog.txt nella directory principale dell'esercitazione.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-126">It does the same as Makeall batch file except that it logs all compilation output to file Errorlog.txt in the main tutorial directory.</span></span>

<span data-ttu-id="dd0b7-127">Due file batch, Regall.bat e Unregall.bat, vengono forniti nella directory principale per registrare e annullare la registrazione di tutti i server COM nella serie di esempi di codice dell'esercitazione.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-127">Two batch files, Regall.bat and Unregall.bat, are also provided in the main directory to register and unregister all COM servers in the tutorial code sample series.</span></span> <span data-ttu-id="dd0b7-128">Per registrare tutti i server, eseguire Regall.bat file dalla directory principale.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-128">To register all servers, run Regall.bat file from the main directory.</span></span> <span data-ttu-id="dd0b7-129">Per annullare la registrazione di tutti i server, eseguire Unregall.bat nello stesso modo.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-129">To unregister all servers, run Unregall.bat in the same manner.</span></span> <span data-ttu-id="dd0b7-130">Questi file batch richiedono una compilazione precedente degli esempi di codice REGISTER, MARSHAL, DLLSERVE, LICSERVE, LOCSERVE, APTSERVE, FRESERVE e conserve.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-130">These batch files require a prior build of the REGISTER, MARSHAL, DLLSERVE, LICSERVE, LOCSERVE, APTSERVE, FRESERVE, and CONSERVE code samples.</span></span> <span data-ttu-id="dd0b7-131">Se si esegue una build normale degli esempi di codice, i makefile del server registreranno automaticamente i server.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-131">If you perform a normal build of the code samples, the server makefiles will automatically register the servers.</span></span> <span data-ttu-id="dd0b7-132">In questo caso, non è necessario eseguire il file batch Regal.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-132">In this case, it is not necessary to run the Regall batch file.</span></span>

<span data-ttu-id="dd0b7-133">Eseguire il file batch Cleanall.bat per eseguire un cleanall completo di tutti gli esempi di esercitazione COM.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-133">Run the Cleanall.bat batch file to perform an exhaustive Cleanall of all the COM Tutorial Samples.</span></span>

> [!WARNING]
> <span data-ttu-id="dd0b7-134">Questo file batch Elimina tutti i file di progetto di Visual Studio e altri file di lavoro temporanei creati da Visual C++ negli esempi.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-134">This batch file deletes all Visual Studio project files and other temporary work files created by Visual C++ in the samples.</span></span> <span data-ttu-id="dd0b7-135">A tutti i server COM incorporati negli esempi di codice dell'esercitazione viene annullata la registrazione dal registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-135">All of the COM servers built in the tutorial code samples are unregistered from the registry.</span></span> <span data-ttu-id="dd0b7-136">Tutti i file exe e dll eseguibili vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-136">All executable exe and .dll files are deleted.</span></span> <span data-ttu-id="dd0b7-137">Tutti i file di simboli di debug vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-137">All debug symbol files are deleted.</span></span> <span data-ttu-id="dd0b7-138">Vengono eliminati anche i file generati in un'ampia gamma di ambienti di compilazione.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-138">Files generated in a variety of build environments are also deleted.</span></span>

 

<span data-ttu-id="dd0b7-139">Eseguire ' makeall clean ' per eseguire una pulizia più veloce, ma più modesta, di tutti gli esempi di codice.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-139">Run 'Makeall Clean' to perform a faster, but more modest, cleanup of all the code samples.</span></span> <span data-ttu-id="dd0b7-140">Questa operazione di pulizia non tenta di essere completa come quella eseguita da Cleanall.bat.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-140">This cleaning operation does not attempt to be as comprehensive as that performed by Cleanall.bat.</span></span> <span data-ttu-id="dd0b7-141">I file con estensione obj vengono eliminati, ma i file binari di output vengono conservati.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-141">The .obj files are deleted, but the output binaries are retained.</span></span> <span data-ttu-id="dd0b7-142">Non è stata annullata la registrazione dei server COM dal registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-142">The COM servers are not unregistered from the registry.</span></span>

<span data-ttu-id="dd0b7-143">Questa serie di esempi è stata originata come parte integrante del Windows SDK, pertanto nella descrizione dell'esercitazione si presuppone che un ambiente con la Windows SDK installata correttamente.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-143">This sample series originated as an integral part of the Windows SDK, therefore the tutorial narrative assumes an environment with the Windows SDK properly installed.</span></span>

<span data-ttu-id="dd0b7-144">Tuttavia, le versioni di Microsoft Visual C++ versione 4,0 e successive possono fornire anche i file di libreria con estensione h e lib necessari per la compilazione.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-144">However, releases of Microsoft Visual C++ version 4.0 and later may also provide the .h include and .lib library files required for compilation.</span></span> <span data-ttu-id="dd0b7-145">In questi casi, l'installazione del Windows SDK potrebbe non essere necessaria per compilare gli esempi.</span><span class="sxs-lookup"><span data-stu-id="dd0b7-145">In such cases, installation of the Windows SDK may not be required to compile the samples.</span></span>

<span data-ttu-id="dd0b7-146">Per ulteriori informazioni e dettagli completi sulla compilazione di esempio, vedere:</span><span class="sxs-lookup"><span data-stu-id="dd0b7-146">For more information and complete sample build details, see:</span></span>

[<span data-ttu-id="dd0b7-147">Configurazione dell'ambiente</span><span class="sxs-lookup"><span data-stu-id="dd0b7-147">Environment Setup</span></span>](environment-setup.md)

[<span data-ttu-id="dd0b7-148">Makefile</span><span class="sxs-lookup"><span data-stu-id="dd0b7-148">Makefiles</span></span>](makefiles.md)

[<span data-ttu-id="dd0b7-149">Con Visual Studio</span><span class="sxs-lookup"><span data-stu-id="dd0b7-149">Using Visual Studio</span></span>](using-visual-studio.md)

[<span data-ttu-id="dd0b7-150">Estrazione degli esempi di codice</span><span class="sxs-lookup"><span data-stu-id="dd0b7-150">Extracting the Code Samples</span></span>](extracting-the-code-samples.md)

[<span data-ttu-id="dd0b7-151">Convenzioni di stile di codifica</span><span class="sxs-lookup"><span data-stu-id="dd0b7-151">Coding Style Conventions</span></span>](coding-style-conventions.md)

 

 




