---
description: In questo argomento vengono fornite alcune istruzioni per la gestione delle impostazioni locali personalizzate nelle applicazioni.
ms.assetid: 2622e2b3-b952-4666-a440-85d73d11c5e0
title: Utilizzo di impostazioni locali personalizzate
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ab0e59446496ae2985860c0fd6b1bd5bddde084
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103966974"
---
# <a name="working-with-custom-locales"></a><span data-ttu-id="9f39f-103">Utilizzo di impostazioni locali personalizzate</span><span class="sxs-lookup"><span data-stu-id="9f39f-103">Working with Custom Locales</span></span>

<span data-ttu-id="9f39f-104">In questo argomento vengono fornite alcune istruzioni per la gestione delle [impostazioni locali personalizzate](custom-locales.md) nelle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="9f39f-104">This topic provides some instructions for handling [custom locales](custom-locales.md) in your applications.</span></span> <span data-ttu-id="9f39f-105">È preferibile preparare tutto il codice sorgente tenendo presente queste considerazioni, in quanto l'applicazione non controlla se le impostazioni locali personalizzate sono installate nel sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="9f39f-105">It is best to prepare all your source code with these considerations in mind, as your application does not control whether custom locales are installed on the operating system.</span></span>

## <a name="handle-locale_stime-constant-correctly"></a><span data-ttu-id="9f39f-106">Gestire correttamente la \_ costante stime delle impostazioni locali</span><span class="sxs-lookup"><span data-stu-id="9f39f-106">Handle LOCALE\_STIME Constant Correctly</span></span>

<span data-ttu-id="9f39f-107">Se si dispone di un'applicazione precedente che usa [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) per ottenere il separatore dell'ora obsoleto indicato dalle [impostazioni locali \_ stime](locale-stime-constants.md), l'applicazione potrebbe non riuscire ad analizzare il formato dell'ora.</span><span class="sxs-lookup"><span data-stu-id="9f39f-107">If you have an older application that uses [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) to obtain the obsolete time separator indicated by [LOCALE\_STIME](locale-stime-constants.md), the application can fail to parse the time format.</span></span> <span data-ttu-id="9f39f-108">Tenere presente che il carattere che separa le ore dai minuti è diverso dal carattere che separa i minuti dai secondi.</span><span class="sxs-lookup"><span data-stu-id="9f39f-108">Remember that the character that separates hours from minutes is distinct from the character that separates minutes from seconds.</span></span>

> [!Note]  
> <span data-ttu-id="9f39f-109">Quando si programmano impostazioni locali personalizzate, tenere presente che sono insolite.</span><span class="sxs-lookup"><span data-stu-id="9f39f-109">When programming for custom locales, remember that they are unusual.</span></span> <span data-ttu-id="9f39f-110">Praticamente ogni campo disponibile per NLS deve far fronte a un comportamento insolito.</span><span class="sxs-lookup"><span data-stu-id="9f39f-110">Virtually every field available to NLS has to cope with unusual behavior.</span></span> <span data-ttu-id="9f39f-111">Il formato dell'ora 12H34 '12 '', ad esempio, è legittimo e generalmente comprensibile.</span><span class="sxs-lookup"><span data-stu-id="9f39f-111">For example, the time format 12H34'12'' is legitimate and generally understandable.</span></span> <span data-ttu-id="9f39f-112">Tuttavia, molte applicazioni fanno supposizioni sui separatori temporali che possono interrompere le lunghezze del buffer o visualizzare i campi.</span><span class="sxs-lookup"><span data-stu-id="9f39f-112">Yet many applications make assumptions about the time separators that can break buffer lengths or display fields.</span></span>

 

## <a name="distinguish-among-supplemental-locales"></a><span data-ttu-id="9f39f-113">Distinguere tra impostazioni locali aggiuntive</span><span class="sxs-lookup"><span data-stu-id="9f39f-113">Distinguish Among Supplemental Locales</span></span>

<span data-ttu-id="9f39f-114">Tutte le impostazioni locali aggiuntive utilizzano la costante non [ \_ \_ specificata locale personalizzata](locale-custom-constants.md) per l'identificatore delle [impostazioni locali](locale-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="9f39f-114">All supplemental locales use the [LOCALE\_CUSTOM\_UNSPECIFIED](locale-custom-constants.md) constant for the [locale identifier](locale-identifiers.md).</span></span> <span data-ttu-id="9f39f-115">Di norma, [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) non è in grado di distinguere tra le impostazioni locali supplementari, ma [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) può usare [i nomi delle impostazioni locali](locale-names.md) anziché gli identificatori delle impostazioni locali.</span><span class="sxs-lookup"><span data-stu-id="9f39f-115">As a rule, [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) cannot distinguish among supplemental locales, but [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) can because it uses [locale names](locale-names.md) instead of locale identifiers.</span></span> <span data-ttu-id="9f39f-116">L'applicazione può recuperare le informazioni relative a determinate impostazioni locali aggiuntive solo quando queste impostazioni locali sono le impostazioni locali dell'utente correntemente selezionate.</span><span class="sxs-lookup"><span data-stu-id="9f39f-116">Your application can retrieve information about a particular supplemental locale only when that locale is the currently selected user locale.</span></span> <span data-ttu-id="9f39f-117">L'applicazione può quindi chiamare [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) e passare il [ \_ \_ valore predefinito dell'utente delle impostazioni locali](locale-user-default.md) costante come identificatore delle impostazioni locali.</span><span class="sxs-lookup"><span data-stu-id="9f39f-117">Then, the application can call [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) and pass the constant [LOCALE\_USER\_DEFAULT](locale-user-default.md) as the locale identifier.</span></span>

## <a name="handle-replacement-locales"></a><span data-ttu-id="9f39f-118">Gestisci impostazioni locali sostitutive</span><span class="sxs-lookup"><span data-stu-id="9f39f-118">Handle Replacement Locales</span></span>

<span data-ttu-id="9f39f-119">Per mantenere l'affidabilità di Windows, tenere presente che le impostazioni locali sostitutive supportate dall'applicazione non possono modificare l'identificatore delle impostazioni locali sostituite.</span><span class="sxs-lookup"><span data-stu-id="9f39f-119">To preserve the reliability of Windows, remember that a replacement locale supported by your application cannot modify the locale identifier of the replaced locale.</span></span> <span data-ttu-id="9f39f-120">Nessuna delle impostazioni locali sostitutive consente di modificare le proprietà di ordinamento di Windows.</span><span class="sxs-lookup"><span data-stu-id="9f39f-120">Neither can a replacement locale modify the sorting properties of Windows.</span></span>

<span data-ttu-id="9f39f-121">Sebbene le impostazioni locali sostitutive possano modificare il calendario predefinito, è necessario mantenere il valore predefinito originale in un punto qualsiasi dell'elenco dei calendari disponibili.</span><span class="sxs-lookup"><span data-stu-id="9f39f-121">Although a replacement locale can change the default calendar, it must retain the original default somewhere in the list of available calendars.</span></span> <span data-ttu-id="9f39f-122">Ad esempio, le impostazioni locali Thai (Tailandia) usano il calendario buddista tailandese come valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="9f39f-122">For example, the Thai (Thailand) locale uses the Thai Buddhist calendar as the default.</span></span> <span data-ttu-id="9f39f-123">Un amministratore può creare le impostazioni locali sostitutive che usano il calendario localizzato gregoriano.</span><span class="sxs-lookup"><span data-stu-id="9f39f-123">An administrator can create a replacement locale that uses the Gregorian localized calendar.</span></span> <span data-ttu-id="9f39f-124">Tuttavia, l'elenco dei calendari disponibili continua a contenere una voce per il calendario buddista tailandese.</span><span class="sxs-lookup"><span data-stu-id="9f39f-124">However, the list of available calendars continues to contain an entry for the Thai Buddhist calendar.</span></span>

<span data-ttu-id="9f39f-125">Per le impostazioni locali sostitutive, l'applicazione in genere deve consultare le informazioni specifiche delle impostazioni locali anziché tentare un "collegamento" in base alla conoscenza di determinate impostazioni locali.</span><span class="sxs-lookup"><span data-stu-id="9f39f-125">For replacement locales, your application should generally consult locale-specific information instead of attempting a "shortcut" based on knowledge of a certain locale.</span></span> <span data-ttu-id="9f39f-126">Ad esempio, quando [**GetThreadLocale**](/windows/desktop/api/Winnls/nf-winnls-getthreadlocale) recupera le impostazioni locali correnti come inglese (Stati Uniti), potrebbe essere effettivamente un'impostazione locale sostitutiva che dovrebbe avere effetto.</span><span class="sxs-lookup"><span data-stu-id="9f39f-126">For example, when [**GetThreadLocale**](/windows/desktop/api/Winnls/nf-winnls-getthreadlocale) retrieves the current locale as English (United States), it might actually be a replacement locale that should be allowed to take effect.</span></span>

## <a name="customize-calendars"></a><span data-ttu-id="9f39f-127">Personalizzare i calendari</span><span class="sxs-lookup"><span data-stu-id="9f39f-127">Customize Calendars</span></span>

<span data-ttu-id="9f39f-128">Le applicazioni possono personalizzare i nomi dei giorni e dei mesi per i calendari gregoriani, ma non per i calendari non gregoriani.</span><span class="sxs-lookup"><span data-stu-id="9f39f-128">Your applications can customize day and month names for Gregorian calendars, but not for non-Gregorian calendars.</span></span> <span data-ttu-id="9f39f-129">Analogamente, NLS non supporta la creazione di calendari personalizzati definiti dall'utente.</span><span class="sxs-lookup"><span data-stu-id="9f39f-129">Similarly, NLS does not support creation of user-defined custom calendars.</span></span> <span data-ttu-id="9f39f-130">Per ulteriori informazioni, vedere [data e calendario](date-and-calendar.md).</span><span class="sxs-lookup"><span data-stu-id="9f39f-130">For more information, see [Date and Calendar](date-and-calendar.md).</span></span>

## <a name="handle-sorting-sequences"></a><span data-ttu-id="9f39f-131">Gestisci sequenze di ordinamento</span><span class="sxs-lookup"><span data-stu-id="9f39f-131">Handle Sorting Sequences</span></span>

<span data-ttu-id="9f39f-132">Le impostazioni locali aggiuntive possono usare qualsiasi sequenza di ordinamento definita da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="9f39f-132">A supplemental locale can use any Microsoft-defined sorting sequence.</span></span> <span data-ttu-id="9f39f-133">Le impostazioni locali di sostituzione devono usare la stessa sequenza di ordinamento delle impostazioni locali che sostituisce.</span><span class="sxs-lookup"><span data-stu-id="9f39f-133">A replacement locale must use the same sorting sequence as the locale it replaces.</span></span> <span data-ttu-id="9f39f-134">NLS non supporta la creazione di sequenze di ordinamento definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="9f39f-134">NLS does not support the creation of user-defined sorting sequences.</span></span> <span data-ttu-id="9f39f-135">Per ulteriori informazioni, vedere [gestione dell'ordinamento nelle applicazioni](handling-sorting-in-your-applications.md).</span><span class="sxs-lookup"><span data-stu-id="9f39f-135">For more information, see [Handling Sorting in Your Applications](handling-sorting-in-your-applications.md).</span></span>

## <a name="localize-custom-locale-information"></a><span data-ttu-id="9f39f-136">Localizzare le informazioni sulle impostazioni locali personalizzate</span><span class="sxs-lookup"><span data-stu-id="9f39f-136">Localize Custom Locale Information</span></span>

<span data-ttu-id="9f39f-137">NLS non fornisce un meccanismo per localizzare le informazioni sulle impostazioni locali personalizzate.</span><span class="sxs-lookup"><span data-stu-id="9f39f-137">NLS does not provide a mechanism for localizing custom locale information.</span></span> <span data-ttu-id="9f39f-138">In questo modo, le impostazioni locali costanti [ \_ SLANGUAGE](locale-slanguage.md) o [ \_ SLOCALIZEDLANGUAGENAME](locale-slocalized-constants.md) delle impostazioni locali usate come identificatore delle impostazioni locali per le impostazioni locali personalizzate recuperano sempre i valori associati alle impostazioni [locali \_ SNATIVELANGNAME](locale-snative-constants.md) o le [impostazioni locali \_ SNATIVELANGUAGENAME](locale-snative-constants.md).</span><span class="sxs-lookup"><span data-stu-id="9f39f-138">Thus the constant [LOCALE\_SLANGUAGE](locale-slanguage.md) or [LOCALE\_SLOCALIZEDLANGUAGENAME](locale-slocalized-constants.md) used as a locale identifier for a custom locale always retrieves values associated with [LOCALE\_SNATIVELANGNAME](locale-snative-constants.md) or [LOCALE\_SNATIVELANGUAGENAME](locale-snative-constants.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="9f39f-139">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="9f39f-139">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9f39f-140">Uso del supporto per le lingue nazionali</span><span class="sxs-lookup"><span data-stu-id="9f39f-140">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="9f39f-141">Impostazioni locali personalizzate</span><span class="sxs-lookup"><span data-stu-id="9f39f-141">Custom Locales</span></span>](custom-locales.md)
</dt> <dt>

[<span data-ttu-id="9f39f-142">Data e calendario</span><span class="sxs-lookup"><span data-stu-id="9f39f-142">Date and Calendar</span></span>](date-and-calendar.md)
</dt> <dt>

[<span data-ttu-id="9f39f-143">Gestione dell'ordinamento nelle applicazioni</span><span class="sxs-lookup"><span data-stu-id="9f39f-143">Handling Sorting in Your Applications</span></span>](handling-sorting-in-your-applications.md)
</dt> </dl>

 

 



