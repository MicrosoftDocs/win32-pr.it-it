---
description: Le applicazioni scrivono i caratteri definiti dall'utente finale (EUDCs) e i caratteri PUA (private use area) sullo schermo o sulla stampante nello stesso modo in cui scrivono altri caratteri, usando funzioni di output come Text out e ExtTextOut.
ms.assetid: c975c70d-4231-4a69-bec2-d51d6993fdd4
title: Scrittura, mapping e ordinamento dei caratteri EUDC e PUA
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6c34264d956bb6a87407e249f68b2bc03fb2c99
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104226128"
---
# <a name="writing-mapping-and-sorting-eudc-and-pua-characters"></a><span data-ttu-id="0d9e3-103">Scrittura, mapping e ordinamento dei caratteri EUDC e PUA</span><span class="sxs-lookup"><span data-stu-id="0d9e3-103">Writing, Mapping, and Sorting EUDC and PUA Characters</span></span>

<span data-ttu-id="0d9e3-104">Le applicazioni scrivono i caratteri definiti dall'utente finale (EUDCs) e i caratteri PUA (private use area) sullo schermo o sulla stampante nello stesso modo in cui scrivono altri caratteri, usando funzioni di output come [Text](/windows/win32/api/wingdi/nf-wingdi-textouta) out e [ExtTextOut](/windows/win32/api/wingdi/nf-wingdi-exttextouta).</span><span class="sxs-lookup"><span data-stu-id="0d9e3-104">Applications write end-user-defined characters (EUDCs) and private use area (PUA) characters to the screen or printer just as they write other characters, by using output functions such as [TextOut](/windows/win32/api/wingdi/nf-wingdi-textouta) and [ExtTextOut](/windows/win32/api/wingdi/nf-wingdi-exttextouta).</span></span> <span data-ttu-id="0d9e3-105">Queste funzioni recuperano automaticamente informazioni sui caratteri da caratteri carattere EUDC o PUA se EUDC è abilitato.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-105">These functions automatically retrieve character information from EUDC or PUA character fonts if EUDC is enabled.</span></span> <span data-ttu-id="0d9e3-106">Per ulteriori informazioni, vedere la pagina relativa ai [caratteri definiti dall'utente finale \_ e dall'area uso privato](end-user-defined-characters.md).</span><span class="sxs-lookup"><span data-stu-id="0d9e3-106">For more information, see [End-User\_Defined and Private Use Area Characters](end-user-defined-characters.md).</span></span>

<span data-ttu-id="0d9e3-107">Quando si scrivono caratteri EUDCs o PUA, l'operazione della funzione di output di testo dipende dal tipo di carattere correntemente selezionato.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-107">When writing EUDCs or PUA characters, the operation of the text output function depends on the currently selected font.</span></span> <span data-ttu-id="0d9e3-108">Se il tipo di carattere selezionato è un carattere EUDC o PUA integrato, la funzione recupera le informazioni sui caratteri da tale tipo di carattere.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-108">If the selected font is an integrated EUDC or PUA character font, the function retrieves character information from that font.</span></span> <span data-ttu-id="0d9e3-109">Se il tipo di carattere selezionato è un tipo di carattere TrueType DBCS ( [Double-byte character set](double-byte-character-sets.md) ) a cui è associato un tipo di carattere EUDC separato, la funzione recupera le informazioni dal tipo di carattere EUDC specificato.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-109">If the selected font is a [double-byte character set](double-byte-character-sets.md) (DBCS) TrueType font that has an associated separate EUDC font, the function retrieves information from the specified EUDC font.</span></span> <span data-ttu-id="0d9e3-110">Analogamente, se il tipo di carattere selezionato è un tipo di carattere TrueType [Unicode](unicode.md) a cui è associato un tipo di carattere PUA separato, la funzione recupera le informazioni dal tipo di carattere PUA.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-110">Similarly, if the selected font is a [Unicode](unicode.md) TrueType font that has an associated separate PUA character font, the function retrieves information from the PUA character font.</span></span> <span data-ttu-id="0d9e3-111">Se per il tipo di carattere selezionato non è associato un tipo di carattere EUDC o PUA, la funzione recupera le informazioni dal tipo di carattere EUDC predefinito del sistema.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-111">If the selected font does not have an associated EUDC or PUA character font, the function retrieves information from the system default EUDC font.</span></span> <span data-ttu-id="0d9e3-112">Se il carattere non è presente nel tipo di carattere EUDC predefinito di sistema o se non è presente alcun tipo di carattere EUDC predefinito di sistema, la funzione scrive il carattere predefinito definito dal tipo di carattere selezionato.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-112">If the character is not in the system default EUDC font or there is no system default EUDC font, the function writes the default character defined by the selected font.</span></span>

<span data-ttu-id="0d9e3-113">Le applicazioni possono eseguire il mapping di EUDCs a e da Unicode usando le funzioni [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) e [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) .</span><span class="sxs-lookup"><span data-stu-id="0d9e3-113">Applications can map EUDCs to and from Unicode by using the [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) functions.</span></span> <span data-ttu-id="0d9e3-114">La funzione **MultiByteToWideChar** esegue il mapping della maggior parte dei EUDCs ai caratteri nel PUA Unicode.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-114">The **MultiByteToWideChar** function maps most EUDCs to characters in the Unicode PUA.</span></span> <span data-ttu-id="0d9e3-115">Tuttavia, per supportare determinati standard nazionali o regionali, è possibile eseguire il mapping di alcuni EUDCs a punti di codice Unicode non PUA.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-115">However, to support certain national or regional standards, some EUDCs can be mapped to non-PUA Unicode code points.</span></span> <span data-ttu-id="0d9e3-116">La funzione **WideCharToMultiByte** esegue il mapping di un carattere in PUA alla relativa controparte EUDC, se tale mapping esiste e se il punto di codice non dispone di un mapping non PUA valido in Unicode.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-116">The **WideCharToMultiByte** function maps a character in the PUA to its EUDC counterpart, if such a mapping exists and if the code point does not have a valid non-PUA mapping in Unicode.</span></span> <span data-ttu-id="0d9e3-117">Non tutte le tabelle codici includono un intervallo di EUDC.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-117">Not all code pages have an EUDC range.</span></span> <span data-ttu-id="0d9e3-118">La tabella codici specificata in una chiamata a **WideCharToMultiByte** deve contenere un intervallo di codice EUDC per l'esecuzione del mapping all'intervallo EUDC.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-118">The code page specified in a call to **WideCharToMultiByte** must contain an EUDC code range for the mapping to the EUDC range to occur.</span></span> <span data-ttu-id="0d9e3-119">Se la tabella codici non contiene un intervallo di codice EUDC, la funzione recupera il carattere predefinito per tutti i caratteri nel PUA Unicode.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-119">If the code page does not contain an EUDC code range, the function retrieves the default character for any characters in the Unicode PUA.</span></span>

<span data-ttu-id="0d9e3-120">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) e [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) non garantiscono il mapping round trip.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-120">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) do not guarantee round-trip mapping.</span></span> <span data-ttu-id="0d9e3-121">In altre parole, è possibile iniziare con una particolare stringa multibyte contenente EUDCs, eseguire il mapping della stringa a Unicode con **MultiByteToWideChar** e mapparla di nuovo al DBCS originale con **WideCharToMultiByte** e finire con un risultato non identico alla stringa originale.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-121">In other words, it is possible to start with a particular multibyte string containing EUDCs, map the string to Unicode with **MultiByteToWideChar** and map it back to the original DBCS with **WideCharToMultiByte**, and end up with a result that is not identical to the original string.</span></span> <span data-ttu-id="0d9e3-122">Le applicazioni che si basano sul mapping di EUDCs a Unicode devono garantire che tutti i caratteri necessari possano eseguire il round trip tra l'area di EUDC della tabella codici appropriata e il PUA Unicode.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-122">Applications relying on mapping EUDCs to Unicode should ensure that all necessary characters can round-trip between the appropriate code page EUDC area and the Unicode PUA.</span></span>

<span data-ttu-id="0d9e3-123">Le applicazioni non devono tentare di eseguire il mapping di EUDCs da una tabella codici a un'altra.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-123">Applications should not attempt to map EUDCs from one code page to another.</span></span> <span data-ttu-id="0d9e3-124">Se un'applicazione inizia con un EUDC da una tabella codici, ne esegue il mapping a Unicode con [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar)e viene mappata a un DBCS diverso con [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte), non sono previste garanzie sui risultati.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-124">If an application starts with an EUDC from one code page, maps it to Unicode with [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar), and maps to a different DBCS with [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte), there are no guarantees about the results.</span></span> <span data-ttu-id="0d9e3-125">Il carattere originale potrebbe essere mappato a un EUDC diverso nella tabella codici di destinazione o potrebbe essere mappato come carattere non definito.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-125">The original character might be mapped to a different EUDC in the destination code page, or it might be mapped as an undefined character.</span></span> <span data-ttu-id="0d9e3-126">Analogamente, il mapping di una stringa Unicode a una tabella codici con un intervallo di EUDC può avere risultati imprevisti.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-126">Similarly, mapping a Unicode string to a code page that has an EUDC range can have unintended results.</span></span> <span data-ttu-id="0d9e3-127">Se la stringa Unicode contiene un punto di codice PUA, è possibile che il punto di codice venga mappato a un EUDC che non rappresenta lo stesso carattere.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-127">If the Unicode string contains a PUA code point, it is possible that the code point will be mapped to an EUDC that does not represent the same character.</span></span>

<span data-ttu-id="0d9e3-128">Le applicazioni possono confrontare le stringhe DBCS che contengono EUDCs usando la versione ANSI della funzione [CompareString](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) .</span><span class="sxs-lookup"><span data-stu-id="0d9e3-128">Applications can compare DBCS strings that contain EUDCs by using the ANSI version of the [CompareString](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) function.</span></span> <span data-ttu-id="0d9e3-129">La funzione esegue il mapping dei caratteri a Unicode prima di confrontare i valori dei caratteri.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-129">The function effectively maps the characters to Unicode before comparing character values.</span></span> <span data-ttu-id="0d9e3-130">Le applicazioni possono creare una chiave di ordinamento per la stringa usando la versione ANSI della funzione [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) e il \_ valore LCMAP SORTKEY.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-130">Applications can create a sort key for the string by using the ANSI version of the [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) function and the LCMAP\_SORTKEY value.</span></span> <span data-ttu-id="0d9e3-131">Questa funzione esegue in modo efficace il mapping di caratteri a Unicode.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-131">This function effectively maps characters to Unicode first.</span></span> <span data-ttu-id="0d9e3-132">Tutti i caratteri in PUA vengono ordinati dopo tutti gli altri caratteri Unicode.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-132">All characters in the PUA are sorted after all other Unicode characters.</span></span> <span data-ttu-id="0d9e3-133">All'interno dell'area, i caratteri vengono ordinati in ordine numerico.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-133">Within the area, characters are sorted in numerical order.</span></span> <span data-ttu-id="0d9e3-134">Se un'applicazione tenta di recuperare informazioni CTYPE per un EUDC tramite la funzione [GetStringTypeA](/windows/desktop/api/Winnls/nf-winnls-getstringtypea) , la funzione recupera il **valore null** per ogni carattere.</span><span class="sxs-lookup"><span data-stu-id="0d9e3-134">If an application attempts to retrieve CTYPE information for an EUDC by using the [GetStringTypeA](/windows/desktop/api/Winnls/nf-winnls-getstringtypea) function, the function retrieves **NULL** for each character.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0d9e3-135">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="0d9e3-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0d9e3-136">Utilizzo di set di caratteri e Unicode</span><span class="sxs-lookup"><span data-stu-id="0d9e3-136">Using Unicode and Character Sets</span></span>](using-unicode-and-character-sets.md)
</dt> </dl>

 

 
