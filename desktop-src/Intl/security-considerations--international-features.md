---
description: In questo argomento vengono fornite informazioni sulle considerazioni sulla sicurezza relative alle funzionalità di supporto internazionale.
ms.assetid: 4034f479-ad29-4c6f-82c6-977f420c4d4d
title: 'Considerazioni sulla sicurezza: funzionalità internazionali'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aeb9f8b849e9fb1a07f01031832449b9c9027ae5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104234053"
---
# <a name="security-considerations-international-features"></a><span data-ttu-id="ea44f-103">Considerazioni sulla sicurezza: funzionalità internazionali</span><span class="sxs-lookup"><span data-stu-id="ea44f-103">Security Considerations: International Features</span></span>

<span data-ttu-id="ea44f-104">In questo argomento vengono fornite informazioni sulle considerazioni sulla sicurezza relative alle funzionalità di supporto internazionale.</span><span class="sxs-lookup"><span data-stu-id="ea44f-104">This topic provides information about security considerations related to International Support features.</span></span> <span data-ttu-id="ea44f-105">È possibile usarlo come punto di partenza per visualizzare la documentazione relativa alla tecnologia internazionale di interesse per considerazioni sulla sicurezza specifiche della tecnologia.</span><span class="sxs-lookup"><span data-stu-id="ea44f-105">You can use it as a starting point and then see the documentation for the international technology of interest for technology-specific security considerations.</span></span>

<span data-ttu-id="ea44f-106">In questo argomento sono contenute le sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="ea44f-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="ea44f-107">Considerazioni sulla sicurezza per le funzioni di conversione dei caratteri</span><span class="sxs-lookup"><span data-stu-id="ea44f-107">Security Considerations for Character Conversion Functions</span></span>](#security-considerations-for-character-conversion-functions)
-   [<span data-ttu-id="ea44f-108">Considerazioni sulla sicurezza per le funzioni di confronto</span><span class="sxs-lookup"><span data-stu-id="ea44f-108">Security Considerations for Comparison Functions</span></span>](#security-considerations-for-comparison-functions)
-   [<span data-ttu-id="ea44f-109">Considerazioni sulla sicurezza per i set di caratteri nei nomi di file</span><span class="sxs-lookup"><span data-stu-id="ea44f-109">Security Considerations for Character Sets in File Names</span></span>](#security-considerations-for-character-sets-in-file-names)
-   [<span data-ttu-id="ea44f-110">Considerazioni sulla sicurezza per i nomi di dominio internazionalizzati</span><span class="sxs-lookup"><span data-stu-id="ea44f-110">Security Considerations for Internationalized Domain Names</span></span>](#security-considerations-for-internationalized-domain-names)
-   [<span data-ttu-id="ea44f-111">Considerazioni sulla sicurezza per le funzioni ANSI</span><span class="sxs-lookup"><span data-stu-id="ea44f-111">Security Considerations for ANSI Functions</span></span>](#security-considerations-for-ansi-functions)
-   [<span data-ttu-id="ea44f-112">Considerazioni sulla sicurezza per la normalizzazione Unicode</span><span class="sxs-lookup"><span data-stu-id="ea44f-112">Security Considerations for Unicode Normalization</span></span>](#security-considerations-for-unicode-normalization)

## <a name="security-considerations-for-character-conversion-functions"></a><span data-ttu-id="ea44f-113">Considerazioni sulla sicurezza per le funzioni di conversione dei caratteri</span><span class="sxs-lookup"><span data-stu-id="ea44f-113">Security Considerations for Character Conversion Functions</span></span>

<span data-ttu-id="ea44f-114">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) e [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) sono le funzioni del set di caratteri e Unicode utilizzate più di frequente per convertire i caratteri tra ANSI e Unicode.</span><span class="sxs-lookup"><span data-stu-id="ea44f-114">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) are the Unicode and character set functions most commonly used to convert characters between ANSI and Unicode.</span></span> <span data-ttu-id="ea44f-115">Queste funzioni hanno il rischio di causare rischi per la sicurezza in quanto contano gli elementi dei buffer di input e di output in modo diverso.</span><span class="sxs-lookup"><span data-stu-id="ea44f-115">These functions have the potential of causing security risks because they count the elements of the input and output buffers differently.</span></span> <span data-ttu-id="ea44f-116">Ad esempio, [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) accetta un buffer di input conteggiato in byte e inserisce i caratteri convertiti in un buffer con dimensioni in caratteri Unicode.</span><span class="sxs-lookup"><span data-stu-id="ea44f-116">For example, [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) takes an input buffer counted in bytes and puts the converted characters into a buffer sized in Unicode characters.</span></span> <span data-ttu-id="ea44f-117">Quando l'applicazione usa questa funzione, deve ridimensionare correttamente i buffer per evitare un sovraccarico del buffer.</span><span class="sxs-lookup"><span data-stu-id="ea44f-117">When your application uses this function, it must size the buffers correctly to avoid a buffer overrun.</span></span>

<span data-ttu-id="ea44f-118">Per impostazione predefinita, [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) è il mapping più appropriato per le tabelle codici, ad esempio 1252.</span><span class="sxs-lookup"><span data-stu-id="ea44f-118">[**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) defaults to "best fit" mapping for code pages, such as 1252.</span></span> <span data-ttu-id="ea44f-119">Tuttavia, questo tipo di mapping consente più rappresentazioni della stessa stringa, lasciando l'applicazione vulnerabile agli attacchi.</span><span class="sxs-lookup"><span data-stu-id="ea44f-119">However, this type of mapping allows multiple representations of the same string, potentially leaving your application vulnerable to attack.</span></span> <span data-ttu-id="ea44f-120">Ad esempio, la lettera maiuscola latina A con dieresis ("Ä") può essere mappata alla lettera maiuscola latina A ("A"); è possibile eseguire il mapping di un carattere Unicode in una lingua asiatica a una barra ("/").</span><span class="sxs-lookup"><span data-stu-id="ea44f-120">For example, Latin capital letter A with dieresis ("Ä") might map to Latin capital letter A ("A"); a Unicode character in an Asian language might map to a slash ("/").</span></span> <span data-ttu-id="ea44f-121">\_ \_ \_ \_ Per un punto di vista della sicurezza, è preferibile usare il flag WC non adatto per i caratteri.</span><span class="sxs-lookup"><span data-stu-id="ea44f-121">The use of the WC\_NO\_BEST\_FIT\_CHARS flag is preferred from a security perspective.</span></span>

<span data-ttu-id="ea44f-122">Alcune tabelle codici, ad esempio, le tabelle codici 5022x (ISO-2022-x), sono intrinsecamente non sicure perché consentono più rappresentazioni della stessa stringa.</span><span class="sxs-lookup"><span data-stu-id="ea44f-122">Some code pages, for example, the 5022x (iso-2022-x) code pages, are inherently insecure because they allow multiple representations of the same string.</span></span> <span data-ttu-id="ea44f-123">Il codice scritto correttamente esegue controlli di sicurezza nel formato Unicode, ma questi tipi di tabelle codici espandono la suscettibilità degli attacchi delle applicazioni e dovrebbero essere evitati, se possibile.</span><span class="sxs-lookup"><span data-stu-id="ea44f-123">Properly written code performs security checks in the Unicode form, but these types of code pages expand the attack susceptibility of your applications and should be avoided if possible.</span></span>

## <a name="security-considerations-for-comparison-functions"></a><span data-ttu-id="ea44f-124">Considerazioni sulla sicurezza per le funzioni di confronto</span><span class="sxs-lookup"><span data-stu-id="ea44f-124">Security Considerations for Comparison Functions</span></span>

<span data-ttu-id="ea44f-125">I confronti tra stringhe possono potenzialmente presentare problemi di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="ea44f-125">String comparisons can potentially present security issues.</span></span> <span data-ttu-id="ea44f-126">Poiché tutte le funzioni di confronto sono leggermente diverse, una funzione potrebbe segnalare due stringhe come uguali, mentre un'altra funzione potrebbe considerarle distinte.</span><span class="sxs-lookup"><span data-stu-id="ea44f-126">Because all comparison functions are slightly different, one function might report two strings as equal, while another function might consider them distinct.</span></span> <span data-ttu-id="ea44f-127">Di seguito sono riportate alcune funzioni che possono essere utilizzate dalle applicazioni per confrontare le stringhe:</span><span class="sxs-lookup"><span data-stu-id="ea44f-127">The following are several functions your applications can use to compare strings:</span></span>

-   <span data-ttu-id="ea44f-128">[due](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="ea44f-128">[lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span> <span data-ttu-id="ea44f-129">Confronta due stringhe di caratteri in base alle regole delle impostazioni locali, senza distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="ea44f-129">Compares two character strings according to the rules of the locale, without case-sensitivity.</span></span> <span data-ttu-id="ea44f-130">La funzione Confronta le stringhe controllando i primi caratteri l'una dall'altra, il secondo tra loro e così via, fino a quando non trova una disuguaglianza o raggiunge le estremità delle stringhe.</span><span class="sxs-lookup"><span data-stu-id="ea44f-130">The function compares the strings by checking the first characters against each other, the second characters against each other, and so on, until it finds an inequality or reaches the ends of the strings.</span></span>
-   <span data-ttu-id="ea44f-131">[lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa).</span><span class="sxs-lookup"><span data-stu-id="ea44f-131">[lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa).</span></span> <span data-ttu-id="ea44f-132">Confronta le stringhe usando tecniche simili a quelle di [due](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="ea44f-132">Compares strings using techniques similar to those of [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span> <span data-ttu-id="ea44f-133">L'unica differenza è che [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) esegue un confronto tra stringhe con distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="ea44f-133">The only difference is that [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) performs a case-sensitive string comparison.</span></span>
-   <span data-ttu-id="ea44f-134">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) (Windows Vista e versioni successive).</span><span class="sxs-lookup"><span data-stu-id="ea44f-134">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) (Windows Vista and later).</span></span> <span data-ttu-id="ea44f-135">Eseguire un confronto tra stringhe per le impostazioni locali fornite dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ea44f-135">Perform a string comparison on an application-supplied locale.</span></span> <span data-ttu-id="ea44f-136">[**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) è simile a [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), ma identifica le impostazioni locali in base al [nome](locale-names.md) delle impostazioni locali anziché all' [identificatore delle impostazioni locali](locale-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="ea44f-136">[**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is similar to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), but it identifies a locale by [locale name](locale-names.md) instead of [locale identifier](locale-identifiers.md).</span></span> <span data-ttu-id="ea44f-137">Queste funzioni sono simili a [due](/windows/win32/api/winbase/nf-winbase-lstrcmpia) e [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) , ad eccezione del fatto che operano su determinate impostazioni locali invece che sulle impostazioni locali selezionate dall'utente.</span><span class="sxs-lookup"><span data-stu-id="ea44f-137">These functions are similar to [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) except that they operate on a specific locale instead of a user-selected locale.</span></span>
-   <span data-ttu-id="ea44f-138">[**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) (Windows Vista e versioni successive).</span><span class="sxs-lookup"><span data-stu-id="ea44f-138">[**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) (Windows Vista and later).</span></span> <span data-ttu-id="ea44f-139">Confronta due stringhe Unicode per testare l'equivalenza binaria.</span><span class="sxs-lookup"><span data-stu-id="ea44f-139">Compares two Unicode strings to test binary equivalence.</span></span> <span data-ttu-id="ea44f-140">Ad eccezione dell'opzione di non fare distinzione tra maiuscole e minuscole, questa funzione ignora tutte le equivalenze non binarie e testa tutti i punti di codice per verificarne l'uguaglianza, inclusi i punti di codice a cui non è assegnato alcun peso negli schemi di [ordinamento](sorting.md) linguistico.</span><span class="sxs-lookup"><span data-stu-id="ea44f-140">Except for the option of being case-insensitive, this function disregards all non-binary equivalences, and tests all code points for equality, including code points that are not given any weight in linguistic [sorting](sorting.md) schemes.</span></span> <span data-ttu-id="ea44f-141">Si noti che le altre funzioni di confronto indicate in questo argomento non testano tutti i punti di codice per verificarne l'uguaglianza.</span><span class="sxs-lookup"><span data-stu-id="ea44f-141">Note that the other comparison functions mentioned in this topic do not test all code points for equality.</span></span>
-   <span data-ttu-id="ea44f-142">[**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) (Windows Vista e versioni successive).</span><span class="sxs-lookup"><span data-stu-id="ea44f-142">[**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) (Windows Vista and later).</span></span> <span data-ttu-id="ea44f-143">Individuare una stringa Unicode in un'altra stringa Unicode.</span><span class="sxs-lookup"><span data-stu-id="ea44f-143">Locate a Unicode string in another Unicode string.</span></span> <span data-ttu-id="ea44f-144">[**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) è simile a [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), ad eccezione del fatto che identifica le impostazioni locali in base al nome delle impostazioni locali anziché all'identificatore delle impostazioni locali.</span><span class="sxs-lookup"><span data-stu-id="ea44f-144">[**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) is similar to [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), except that it identifies a locale by locale name instead of locale identifier.</span></span>
-   <span data-ttu-id="ea44f-145">[**FindStringOrdinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal) (Windows 7 e versioni successive).</span><span class="sxs-lookup"><span data-stu-id="ea44f-145">[**FindStringOrdinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal) (Windows 7 and later).</span></span> <span data-ttu-id="ea44f-146">Individua una stringa Unicode in un'altra stringa Unicode.</span><span class="sxs-lookup"><span data-stu-id="ea44f-146">Locates one Unicode string in another Unicode string.</span></span> <span data-ttu-id="ea44f-147">L'applicazione deve usare questa funzione anziché [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) per tutti i confronti non linguistici.</span><span class="sxs-lookup"><span data-stu-id="ea44f-147">The application should use this function instead of [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) for all non-linguistic comparisons.</span></span>

<span data-ttu-id="ea44f-148">Analogamente a [due](/windows/win32/api/winbase/nf-winbase-lstrcmpia) e [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) valuta le stringhe per carattere.</span><span class="sxs-lookup"><span data-stu-id="ea44f-148">Like [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) evaluates strings character by character.</span></span> <span data-ttu-id="ea44f-149">Tuttavia, molti linguaggi hanno elementi a più caratteri, ad esempio l'elemento a due caratteri "CH" nello spagnolo tradizionale.</span><span class="sxs-lookup"><span data-stu-id="ea44f-149">However, many languages have multiple-character elements, for example, the two-character element "CH" in traditional Spanish.</span></span> <span data-ttu-id="ea44f-150">Poiché [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) utilizza le impostazioni locali fornite dall'applicazione per identificare gli elementi a più caratteri e [due](/windows/win32/api/winbase/nf-winbase-lstrcmpia) e [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) utilizzano le impostazioni locali del thread, le stringhe identiche potrebbero non essere uguali.</span><span class="sxs-lookup"><span data-stu-id="ea44f-150">Because [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) uses the locale furnished by the application to identify multiple-character elements and [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) use the thread locale, identical strings might not compare as equal.</span></span>

<span data-ttu-id="ea44f-151">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) ignora i caratteri non definiti e pertanto restituisce zero (che indica stringhe uguali) per molte coppie di stringhe che sono piuttosto distinte.</span><span class="sxs-lookup"><span data-stu-id="ea44f-151">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) ignores undefined characters, and thus returns zero (indicating equal strings) for many string pairs that are quite distinct.</span></span> <span data-ttu-id="ea44f-152">Una stringa può contenere valori che non eseguono il mapping a un carattere o che possono contenere caratteri con semantica all'esterno del dominio dell'applicazione, ad esempio i caratteri di controllo in un URL.</span><span class="sxs-lookup"><span data-stu-id="ea44f-152">A string might contain values that do not map to any character or it might contain characters with semantics outside the domain of the application, such as control characters in a URL.</span></span> <span data-ttu-id="ea44f-153">Le applicazioni che utilizzano questa funzione devono fornire gestori di errori e stringhe di test per assicurarsi che siano valide prima di utilizzarle.</span><span class="sxs-lookup"><span data-stu-id="ea44f-153">Applications using this function should provide error handlers and test strings to make sure that they are valid before using them.</span></span>

> [!Note]  
> <span data-ttu-id="ea44f-154">Per Windows Vista e versioni successive, [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) è simile a [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span><span class="sxs-lookup"><span data-stu-id="ea44f-154">For Windows Vista and later, [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is similar to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span></span> <span data-ttu-id="ea44f-155">I problemi di sicurezza sono identici per queste funzioni.</span><span class="sxs-lookup"><span data-stu-id="ea44f-155">The security issues are identical for these functions.</span></span>

 

<span data-ttu-id="ea44f-156">Problemi di sicurezza analoghi si applicano alle funzioni, ad esempio [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), che effettuano confronti impliciti.</span><span class="sxs-lookup"><span data-stu-id="ea44f-156">Similar security issues apply to functions, such as [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), that make implicit comparisons.</span></span> <span data-ttu-id="ea44f-157">A seconda dei flag impostati, i risultati della chiamata di [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) per la ricerca di una stringa all'interno di un'altra stringa possono variare notevolmente.</span><span class="sxs-lookup"><span data-stu-id="ea44f-157">Depending on the flags that are set, the results of calling [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) to search for one string within another string can differ considerably.</span></span>

> [!Note]  
> <span data-ttu-id="ea44f-158">Per Windows Vista e versioni successive, [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) è simile a [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring).</span><span class="sxs-lookup"><span data-stu-id="ea44f-158">For Windows Vista and later, [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) is similar to [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring).</span></span> <span data-ttu-id="ea44f-159">I problemi di sicurezza sono identici per queste funzioni.</span><span class="sxs-lookup"><span data-stu-id="ea44f-159">The security issues are identical for these functions.</span></span>

 

## <a name="security-considerations-for-character-sets-in-file-names"></a><span data-ttu-id="ea44f-160">Considerazioni sulla sicurezza per i set di caratteri nei nomi di file</span><span class="sxs-lookup"><span data-stu-id="ea44f-160">Security Considerations for Character Sets in File Names</span></span>

<span data-ttu-id="ea44f-161">La tabella codici di Windows e i set di caratteri OEM usati nei sistemi in lingua giapponese contengono il simbolo Yen (¥) invece di una barra rovesciata ( \\ ).</span><span class="sxs-lookup"><span data-stu-id="ea44f-161">Windows code page and OEM character sets used on Japanese-language systems contain the Yen symbol (¥) instead of a backslash (\\).</span></span> <span data-ttu-id="ea44f-162">Quindi, il carattere yen è un carattere non consentito per i file system NTFS e FAT.</span><span class="sxs-lookup"><span data-stu-id="ea44f-162">Thus, the Yen character is a prohibited character for NTFS and FAT file systems.</span></span> <span data-ttu-id="ea44f-163">Quando si esegue il mapping di Unicode a una tabella codici in lingua giapponese, le funzioni di conversione mappano sia la barra rovesciata (U + 005C) che il normale simbolo di yen Unicode (U + 00A5) allo stesso carattere.</span><span class="sxs-lookup"><span data-stu-id="ea44f-163">When mapping Unicode to a Japanese-language code page, conversion functions map both backslash (U+005C) and the normal Unicode Yen symbol (U+00A5) to this same character.</span></span> <span data-ttu-id="ea44f-164">Per motivi di sicurezza, le applicazioni non dovrebbero in genere consentire il carattere U + 00A5 in una stringa Unicode che potrebbe essere convertita per essere usata come nome file FAT.</span><span class="sxs-lookup"><span data-stu-id="ea44f-164">For security reasons, your applications should not typically allow the character U+00A5 in a Unicode string that might be converted for use as a FAT file name.</span></span>

## <a name="security-considerations-for-internationalized-domain-names"></a><span data-ttu-id="ea44f-165">Considerazioni sulla sicurezza per i nomi di dominio internazionalizzati</span><span class="sxs-lookup"><span data-stu-id="ea44f-165">Security Considerations for Internationalized Domain Names</span></span>

<span data-ttu-id="ea44f-166">I nomi di dominio internazionalizzati (IDN) vengono specificati dal gruppo di lavoro di rete [RFC 3490: internazionalizzazione Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span><span class="sxs-lookup"><span data-stu-id="ea44f-166">Internationalized Domain Names (IDNs) are specified by Network Working Group [RFC 3490: Internationalizing Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span></span> <span data-ttu-id="ea44f-167">Lo standard introduce una serie di problemi di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="ea44f-167">The standard introduces a number of security issues.</span></span>

<span data-ttu-id="ea44f-168">I glifi che rappresentano determinati caratteri di script diversi possono apparire simili o addirittura identici.</span><span class="sxs-lookup"><span data-stu-id="ea44f-168">Glyphs representing certain characters from different scripts might appear similar or even identical.</span></span> <span data-ttu-id="ea44f-169">In molti tipi di carattere, ad esempio, il cirillico minuscolo A ("a") non è distinguibile dalla minuscola latina A ("a").</span><span class="sxs-lookup"><span data-stu-id="ea44f-169">For example, in many fonts, Cyrillic lowercase A ("a") is indistinguishable from Latin lowercase A ("a").</span></span> <span data-ttu-id="ea44f-170">Non è possibile indicare visivamente che "example.com" e "example.com" sono due nomi di dominio diversi, uno con un minuscolo latino a nel nome, l'altro con un minuscolo cirillico. Un sito host senza scrupoli può utilizzare questa ambiguità visiva per fingersi di essere un altro sito in un attacco di spoofing.</span><span class="sxs-lookup"><span data-stu-id="ea44f-170">There is no way to tell visually that "example.com" and "example.com" are two different domain names,one with a Latin lowercase A in the name, the other with a Cyrillic lowercase A. An unscrupulous host site can use this visual ambiguity to pretend to be another site in a spoofing attack.</span></span>

<span data-ttu-id="ea44f-171">Il set di caratteri esteso che IDNA consente a IDN ha anche un potenziale di spoofing in uno script specifico.</span><span class="sxs-lookup"><span data-stu-id="ea44f-171">The extended character set that IDNA allows for IDNs also has spoofing potential within a particular script.</span></span> <span data-ttu-id="ea44f-172">Ad esempio, esiste una somiglianza forte tra il segno meno ("-" U + 002D), il trattino ("-" U + 2010), il trattino non di rilievo ("-" U + 2011), la figura Dash ("\u2012" U + 2012), il trattino ("–" U + 2013) e il segno meno ("−" U + 2212).</span><span class="sxs-lookup"><span data-stu-id="ea44f-172">For example, there is a strong resemblance among the hyphen-minus ("-" U+002D), the hyphen ("—" U+2010), the non-breaking hyphen ("‑" U+2011), the figure dash ("‒" U+2012), the en dash ("–" U+2013), and the minus sign ("−" U+2212).</span></span>

<span data-ttu-id="ea44f-173">Problemi simili derivano da determinate composizioni di compatibilità.</span><span class="sxs-lookup"><span data-stu-id="ea44f-173">Similar issues arise from certain compatibility compositions.</span></span> <span data-ttu-id="ea44f-174">Ad esempio, il singolo carattere Unicode numero TWENTY FULL STOP ("20.", U + 249B) viene convertito in "20".</span><span class="sxs-lookup"><span data-stu-id="ea44f-174">For example, the single Unicode character NUMBER TWENTY FULL STOP ("⒛", U+249B) is converted to "20."</span></span> <span data-ttu-id="ea44f-175">(U + 0032 U + 0030 U + 002E) in un passaggio profili Nameprep, prima della conversione in Punycode.</span><span class="sxs-lookup"><span data-stu-id="ea44f-175">(U+0032 U+0030 U+002E) in a NamePrep step, prior to conversion to Punycode.</span></span> <span data-ttu-id="ea44f-176">In altre parole, questa composizione inserisce un punto (arresto completo).</span><span class="sxs-lookup"><span data-stu-id="ea44f-176">In other words, this composition inserts a period (full stop).</span></span> <span data-ttu-id="ea44f-177">Tali composizioni hanno un potenziale di spoofing.</span><span class="sxs-lookup"><span data-stu-id="ea44f-177">Such compositions have spoofing potential.</span></span>

<span data-ttu-id="ea44f-178">La combinazione di script diversi in un IDN non indica necessariamente lo spoofing o lo scopo ingannevole.</span><span class="sxs-lookup"><span data-stu-id="ea44f-178">Mixing of different scripts in an IDN does not necessarily indicate spoofing or deceptive intent.</span></span> <span data-ttu-id="ea44f-179">[Rapporto tecnico \# 36: considerazioni sulla sicurezza Unicode](https://www.unicode.org/reports/tr36/#international_domain_names) offre diversi esempi di IDN ragionevoli che contengono una combinazione di script, ad esempio XML-Документы. com ("Документы" è il russo per "Documents").</span><span class="sxs-lookup"><span data-stu-id="ea44f-179">[Technical Report \#36: Unicode Security Considerations](https://www.unicode.org/reports/tr36/#international_domain_names) gives several examples of reasonable IDNs that contain a mix of scripts, such as XML-Документы.com ("Документы" is Russian for "documents").</span></span>

<span data-ttu-id="ea44f-180">Gli attacchi di spoofing non sono limitati a IDN.</span><span class="sxs-lookup"><span data-stu-id="ea44f-180">Spoofing attacks are not restricted to IDNs.</span></span> <span data-ttu-id="ea44f-181">Ad esempio, "rnicrosoft.com" ha un aspetto simile a "microsoft.com", ma è un nome ASCII.</span><span class="sxs-lookup"><span data-stu-id="ea44f-181">For example, "rnicrosoft.com" looks much like "microsoft.com", yet it is an ASCII name.</span></span> <span data-ttu-id="ea44f-182">Inoltre, un attacco di spoofing può essere eseguito tramite il danneggiamento di un nome.</span><span class="sxs-lookup"><span data-stu-id="ea44f-182">Additionally, a spoofing attack can be made by corruption of a name.</span></span> <span data-ttu-id="ea44f-183">Se si aggiungono etichette aggiuntive dopo un nome di marchio noto o si include il nome del marchio nel percorso di un URL con etichetta protetta, è possibile confondere gli utenti con il novizio, indipendentemente dall'uso di IDN.</span><span class="sxs-lookup"><span data-stu-id="ea44f-183">Adding extra labels after a well-known brand name, or including the brand name in the path of a URL labeled as secure, can confuse novice users, regardless of the use of the IDN.</span></span> <span data-ttu-id="ea44f-184">Per alcune impostazioni locali, IDN sono obbligatori e il form Punycode di questi nomi non è accettabile, perché rende i nomi simili.</span><span class="sxs-lookup"><span data-stu-id="ea44f-184">For some locales, IDNs are required and the Punycode form of these names is unacceptable, since it makes the names look like gibberish.</span></span>

<span data-ttu-id="ea44f-185">Per ulteriori informazioni sui problemi di sicurezza indicati qui, oltre a un numero elevato di altri problemi relativi a IDNA, vedere [Technical Report \# 36: Unicode Security Considerations](https://www.unicode.org/reports/tr36/#international_domain_names).</span><span class="sxs-lookup"><span data-stu-id="ea44f-185">For more information about the security issues mentioned here, plus a large number of other issues relevant to IDNA, see [Technical Report \#36: Unicode Security Considerations](https://www.unicode.org/reports/tr36/#international_domain_names).</span></span> <span data-ttu-id="ea44f-186">Insieme a discussioni dettagliate sui problemi di sicurezza correlati a IDNA, questo report offre suggerimenti per la gestione dei IDN sospetti nelle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="ea44f-186">Along with detailed discussions of IDNA-related security issues, this report offers suggestions for dealing with suspect IDNs in your applications.</span></span>

## <a name="security-considerations-for-ansi-functions"></a><span data-ttu-id="ea44f-187">Considerazioni sulla sicurezza per le funzioni ANSI</span><span class="sxs-lookup"><span data-stu-id="ea44f-187">Security Considerations for ANSI Functions</span></span>

> [!Note]  
> <span data-ttu-id="ea44f-188">È consigliabile usare Unicode nelle applicazioni globalizzate, in particolare quelle nuove, se possibile.</span><span class="sxs-lookup"><span data-stu-id="ea44f-188">You are recommended to use Unicode in your globalized applications, particularly new ones, if at all possible.</span></span> <span data-ttu-id="ea44f-189">È consigliabile utilizzare le funzioni ANSI solo se si dispone di motivi di override per non utilizzare Unicode, ad esempio la conformità a un protocollo precedente che non supporta Unicode.</span><span class="sxs-lookup"><span data-stu-id="ea44f-189">You should use ANSI functions only if you have overriding reasons for not using Unicode, for example, conformance to an older protocol that does not support Unicode.</span></span>

 

<span data-ttu-id="ea44f-190">Molte funzioni NLS (National Language Support), ad esempio [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) e [**GetCalendarInfo**](/windows/desktop/api/Winnls/nf-winnls-getcalendarinfoa), presentano versioni ANSI specifiche, in questo caso, rispettivamente **GetLocaleInfoA** e **GetCalendarInfoA**.</span><span class="sxs-lookup"><span data-stu-id="ea44f-190">Many National Language Support (NLS) functions, such as [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) and [**GetCalendarInfo**](/windows/desktop/api/Winnls/nf-winnls-getcalendarinfoa), have specific ANSI versions, in this case, **GetLocaleInfoA** and **GetCalendarInfoA**, respectively.</span></span> <span data-ttu-id="ea44f-191">Quando l'applicazione utilizza la versione ANSI di una funzione con un sistema operativo basato su Unicode, ad esempio Windows NT, Windows 2000, Windows XP o Windows Vista, la funzione può avere esito negativo o produrre risultati non definiti.</span><span class="sxs-lookup"><span data-stu-id="ea44f-191">When your application uses the ANSI version of a function with a Unicode-based operating system, such as Windows NT, Windows 2000, Windows XP, or Windows Vista, the function can fail or produce undefined results.</span></span> <span data-ttu-id="ea44f-192">Se è necessario usare funzioni ANSI con un sistema operativo di questo tipo, assicurarsi che i dati passati dall'applicazione siano validi per ANSI.</span><span class="sxs-lookup"><span data-stu-id="ea44f-192">If you have a compelling reason to use ANSI functions with such an operating system, ensure that the data passed by your application is valid for ANSI.</span></span>

## <a name="security-considerations-for-unicode-normalization"></a><span data-ttu-id="ea44f-193">Considerazioni sulla sicurezza per la normalizzazione Unicode</span><span class="sxs-lookup"><span data-stu-id="ea44f-193">Security Considerations for Unicode Normalization</span></span>

<span data-ttu-id="ea44f-194">Poiché la normalizzazione Unicode può modificare il formato di una stringa, i meccanismi di sicurezza o gli algoritmi di convalida dei caratteri devono essere implementati in genere dopo la normalizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea44f-194">Since Unicode normalization can change the form of a string, security mechanisms or character validation algorithms should usually be implemented after normalization.</span></span> <span data-ttu-id="ea44f-195">Si consideri, ad esempio, un'applicazione con un'interfaccia Web che accetta un nome di file, ma non accetta un nome di percorso.</span><span class="sxs-lookup"><span data-stu-id="ea44f-195">For example, consider an application with a Web interface that accepts a file name, but does not accept a path name.</span></span> <span data-ttu-id="ea44f-196">Un U + FF43 U + FF1A u + FF3C u + FF57 U + FF49 u + FF4E u + FF44 u + FF4F u + FF57 u + FF53 u + 0063 u + 001A u + 003C u + 0077 u + 0069 u + 006E u + 0064 u + 006F u + 0077 u + 0073 u + u + `(c : \ w i n d o w s)` `(c:\windows)` con la NORMALIzzazione KC del modulo.</span><span class="sxs-lookup"><span data-stu-id="ea44f-196">A full-width U+FF43 U+FF1A U+FF3C U+FF57 U+FF49 U+FF4E U+FF44 U+FF4F U+FF57 U+FF53 `(c : \ w i n d o w s)` changes to U+0063 U+001A U+003C U+0077 U+0069 U+006E U+0064 U+006F U+0077 U+0073 `(c:\windows)` with form KC normalization.</span></span> <span data-ttu-id="ea44f-197">Se un'applicazione verifica la presenza dei due punti e della barra rovesciata prima di implementare la normalizzazione, il risultato può essere l'accesso ai file non intenzionale.</span><span class="sxs-lookup"><span data-stu-id="ea44f-197">If an application tests for the presence of the colon and backslash characters before it implements normalization, the result can be unintentional file access.</span></span>

<span data-ttu-id="ea44f-198">Sebbene la normalizzazione Unicode sia un elemento per la sicurezza dei sistemi operativi, tenere presente che la normalizzazione non è una sostituzione per i criteri di sicurezza completi.</span><span class="sxs-lookup"><span data-stu-id="ea44f-198">While Unicode normalization is an element in making operating systems secure, remember that normalization is not a replacement for a comprehensive security policy.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ea44f-199">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="ea44f-199">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ea44f-200">Set di caratteri utilizzati nei nomi file</span><span class="sxs-lookup"><span data-stu-id="ea44f-200">Character Sets Used in File Names</span></span>](character-sets-used-in-file-names.md)
</dt> <dt>

[<span data-ttu-id="ea44f-201">Convenzioni per prototipi di funzione</span><span class="sxs-lookup"><span data-stu-id="ea44f-201">Conventions for Function Prototypes</span></span>](conventions-for-function-prototypes.md)
</dt> <dt>

[<span data-ttu-id="ea44f-202">Gestione dell'ordinamento nelle applicazioni</span><span class="sxs-lookup"><span data-stu-id="ea44f-202">Handling Sorting in Your Applications</span></span>](handling-sorting-in-your-applications.md)
</dt> <dt>

[<span data-ttu-id="ea44f-203">Gestione dei nomi di dominio internazionalizzati (IDN)</span><span class="sxs-lookup"><span data-stu-id="ea44f-203">Handling Internationalized Domain Names (IDNs)</span></span>](handling-internationalized-domain-names--idns.md)
</dt> <dt>

[<span data-ttu-id="ea44f-204">Unicode</span><span class="sxs-lookup"><span data-stu-id="ea44f-204">Unicode</span></span>](unicode.md)
</dt> </dl>

 

 
