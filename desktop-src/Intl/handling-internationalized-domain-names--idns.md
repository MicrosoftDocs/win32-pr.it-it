---
description: In questo argomento viene descritto come usare i nomi di dominio internazionalizzazione (IDN) nelle applicazioni.
ms.assetid: e0ca356e-f8c1-4845-ae1e-ce2ae8987515
title: Gestione dei nomi di dominio internazionalizzati (IDN)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 95e853f0ea3f62fc3e5ee848431417cc031eaa5a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104232451"
---
# <a name="handling-internationalized-domain-names-idns"></a><span data-ttu-id="2887a-103">Gestione dei nomi di dominio internazionalizzati (IDN)</span><span class="sxs-lookup"><span data-stu-id="2887a-103">Handling Internationalized Domain Names (IDNs)</span></span>

<span data-ttu-id="2887a-104">In questo argomento viene descritto come usare i nomi di dominio internazionalizzazione (IDN) nelle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="2887a-104">This topic describes how you can work with internationalized domain names (IDNs) in your applications.</span></span> <span data-ttu-id="2887a-105">IDN sono specificati dal gruppo di lavoro di rete [RFC 3490: internazionalizzazione Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span><span class="sxs-lookup"><span data-stu-id="2887a-105">IDNs are specified by Network Working Group [RFC 3490: Internationalizing Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span></span> <span data-ttu-id="2887a-106">Prima di questa bozza standard, IDN era limitato ai caratteri latini senza segni diacritici.</span><span class="sxs-lookup"><span data-stu-id="2887a-106">Prior to this draft standard, IDNs were limited to Latin characters without diacritics.</span></span> <span data-ttu-id="2887a-107">IDNA consente a IDN di includere caratteri latini con segni diacritici, insieme ai caratteri degli script non latini, ad esempio cirillico, arabo e cinese.</span><span class="sxs-lookup"><span data-stu-id="2887a-107">IDNA allows IDNs to include Latin characters with diacritics, along with characters from non-Latin scripts, such as Cyrillic, Arabic, and Chinese.</span></span> <span data-ttu-id="2887a-108">Lo standard stabilisce inoltre regole per il mapping di IDN a nomi di dominio solo ASCII.</span><span class="sxs-lookup"><span data-stu-id="2887a-108">The standard also establishes rules for mapping IDNs to ASCII-only domain names.</span></span> <span data-ttu-id="2887a-109">Di conseguenza, i problemi di IDNA possono essere gestiti sul lato client, senza richiedere modifiche di Domain Name Server (DNS).</span><span class="sxs-lookup"><span data-stu-id="2887a-109">Thus, IDNA issues can be handled on the client side, without requiring any domain name server (DNS) changes.</span></span>

> [!Caution]  
> <span data-ttu-id="2887a-110">RFC 3490 introduce una serie di problemi di sicurezza relativi all'uso di IDN.</span><span class="sxs-lookup"><span data-stu-id="2887a-110">RFC 3490 introduces a number of security issues related to the use of IDNs.</span></span> <span data-ttu-id="2887a-111">Per ulteriori informazioni, vedere la sezione relativa alle [considerazioni sulla sicurezza: funzionalità internazionali](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="2887a-111">For more information see the related section of [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

> [!Note]  
> <span data-ttu-id="2887a-112">IDNA è attualmente basato su Unicode 3,2.</span><span class="sxs-lookup"><span data-stu-id="2887a-112">IDNA is currently based on Unicode 3.2.</span></span>

 

## <a name="nls-api-functions-for-handling-idns"></a><span data-ttu-id="2887a-113">Funzioni di NLS API per la gestione di IDN</span><span class="sxs-lookup"><span data-stu-id="2887a-113">NLS API Functions for Handling IDNs</span></span>

<span data-ttu-id="2887a-114">NLS include le funzioni di conversione seguenti che l'applicazione può usare per convertire un IDN in rappresentazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="2887a-114">NLS includes the following conversion functions that your application can use to convert an IDN to different representations.</span></span> <span data-ttu-id="2887a-115">Per un esempio di utilizzo di queste funzioni, vedere [NLS: esempio di conversione IDN (International Domain Name)](nls--internationalized-domain-name--idn--conversion-sample.md).</span><span class="sxs-lookup"><span data-stu-id="2887a-115">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md).</span></span>

-   <span data-ttu-id="2887a-116">[**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span><span class="sxs-lookup"><span data-stu-id="2887a-116">[**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span></span> <span data-ttu-id="2887a-117">Converte un oggetto IDN in Punycode.</span><span class="sxs-lookup"><span data-stu-id="2887a-117">Converts an IDN to Punycode.</span></span>
-   <span data-ttu-id="2887a-118">[**IdnToNameprepUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span><span class="sxs-lookup"><span data-stu-id="2887a-118">[**IdnToNameprepUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span></span> <span data-ttu-id="2887a-119">Esegue la parte profili Nameprep della conversione di un oggetto IDN in un nome ASCII.</span><span class="sxs-lookup"><span data-stu-id="2887a-119">Performs the NamePrep portion of the conversion of an IDN to an ASCII name.</span></span> <span data-ttu-id="2887a-120">Questa funzione crea una rappresentazione Unicode canonica di una stringa.</span><span class="sxs-lookup"><span data-stu-id="2887a-120">This function creates a canonical Unicode representation of a string.</span></span>
-   <span data-ttu-id="2887a-121">[**IdnToUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span><span class="sxs-lookup"><span data-stu-id="2887a-121">[**IdnToUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span></span> <span data-ttu-id="2887a-122">Converte una stringa Punycode in una stringa UTF-16 normale.</span><span class="sxs-lookup"><span data-stu-id="2887a-122">Converts a Punycode string to a normal UTF-16 string.</span></span>

<span data-ttu-id="2887a-123">NLS definisce inoltre diverse funzioni API che possono essere utilizzate per attenuare alcuni dei rischi di sicurezza presentati dalla tecnologia IDN.</span><span class="sxs-lookup"><span data-stu-id="2887a-123">NLS also defines several API functions that can be used to mitigate some of the security risks presented by the IDN technology.</span></span> <span data-ttu-id="2887a-124">In Windows Vista e versioni successive vengono usate le funzioni seguenti per verificare che i caratteri in un determinato IDN siano disegnati interamente dagli script associati a impostazioni locali o impostazioni locali specifiche.</span><span class="sxs-lookup"><span data-stu-id="2887a-124">On Windows Vista and later, the following functions are used to verify that the characters in a given IDN are drawn entirely from the scripts associated with a particular locale or locales.</span></span> <span data-ttu-id="2887a-125">Per un esempio di utilizzo di queste funzioni, vedere [NLS: esempio di mitigazione di un nome di dominio internazionale (IDN)](nls--internationalized-domain-name--idn--mitigation-sample.md).</span><span class="sxs-lookup"><span data-stu-id="2887a-125">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md).</span></span>

-   <span data-ttu-id="2887a-126">[**GetStringScripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span><span class="sxs-lookup"><span data-stu-id="2887a-126">[**GetStringScripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span></span> <span data-ttu-id="2887a-127">Fornisce un elenco di script utilizzati in una determinata stringa.</span><span class="sxs-lookup"><span data-stu-id="2887a-127">Provides a list of scripts used in a particular string.</span></span>
-   <span data-ttu-id="2887a-128">[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span><span class="sxs-lookup"><span data-stu-id="2887a-128">[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span></span> <span data-ttu-id="2887a-129">Recuperare le informazioni sulle impostazioni locali.</span><span class="sxs-lookup"><span data-stu-id="2887a-129">Retrieve locale information.</span></span> <span data-ttu-id="2887a-130">L'uso delle funzioni con *LCType* impostato su [locale \_ SSCRIPTS](locale-sscripts.md) fornisce un elenco di script normalmente usati per determinate impostazioni locali.</span><span class="sxs-lookup"><span data-stu-id="2887a-130">Using the functions with *LCType* set to [LOCALE\_SSCRIPTS](locale-sscripts.md) provides a list of scripts normally used for a particular locale.</span></span>
-   <span data-ttu-id="2887a-131">[**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span><span class="sxs-lookup"><span data-stu-id="2887a-131">[**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span> <span data-ttu-id="2887a-132">Consente di confrontare elenchi di script.</span><span class="sxs-lookup"><span data-stu-id="2887a-132">Compares lists of scripts.</span></span> <span data-ttu-id="2887a-133">Per eseguire la verifica rispetto a più impostazioni locali, l'applicazione può effettuare più chiamate a [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) o [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) e [**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span><span class="sxs-lookup"><span data-stu-id="2887a-133">To verify against multiple locales, the application can make multiple calls to [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) or [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) and [**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span>

<span data-ttu-id="2887a-134">Per le applicazioni eseguite in Windows XP e Windows Server 2003, le funzioni [**DownlevelGetLocaleScripts**](downlevelgetlocalescripts.md), [**DownlevelGetStringScripts**](downlevelgetstringscripts.md)e [**DownlevelVerifyScripts**](downlevelverifyscripts.md) svolgono un ruolo simile alle funzioni elencate in precedenza per attenuare i rischi per la sicurezza.</span><span class="sxs-lookup"><span data-stu-id="2887a-134">For applications that run on Windows XP and Windows Server 2003, the functions [**DownlevelGetLocaleScripts**](downlevelgetlocalescripts.md), [**DownlevelGetStringScripts**](downlevelgetstringscripts.md), and [**DownlevelVerifyScripts**](downlevelverifyscripts.md) play a similar role to the functions listed above in mitigating security risk.</span></span> <span data-ttu-id="2887a-135">Il download di ["API di mitigazione del nome di dominio Microsoft (IDN)"](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) è disponibile nell' [area download MSDN](https://www.microsoft.com/?ref=go).</span><span class="sxs-lookup"><span data-stu-id="2887a-135">The ["Microsoft Internationalized Domain Name (IDN) Mitigation APIs"](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) download is available at the [MSDN Download Center](https://www.microsoft.com/?ref=go).</span></span>

## <a name="handle-unicode-strings"></a><span data-ttu-id="2887a-136">Gestisci stringhe Unicode</span><span class="sxs-lookup"><span data-stu-id="2887a-136">Handle Unicode Strings</span></span>

<span data-ttu-id="2887a-137">IDNA supporta la trasformazione di stringhe Unicode in etichette nome host legittime, fatta eccezione per le stringhe contenenti determinati caratteri non consentiti, ad esempio i caratteri di controllo, i caratteri dell'area di utilizzo privato (PUA) e l'oggetto like.</span><span class="sxs-lookup"><span data-stu-id="2887a-137">IDNA supports the transformation of Unicode strings into legitimate host name labels, with the exception of strings containing certain prohibited characters, such as control characters, characters from the private use area (PUA), and the like.</span></span> <span data-ttu-id="2887a-138">Nell'applicazione è possibile utilizzare il \_ \_ flag STD3 \_ ASCII \_ Rules con diverse funzioni di conversione NLS per forzare l'esito negativo delle funzioni se vengono rilevati caratteri ASCII diversi da lettere, numeri o il segno meno (-) carattere o se una stringa inizia o termina con il segno meno.</span><span class="sxs-lookup"><span data-stu-id="2887a-138">Your application can use the IDN\_USE\_STD3\_ASCII\_RULES flag with several NLS conversion functions to force the functions to fail if they encounter ASCII characters other than letters, numbers, or the hyphen-minus (-) character, or if a string begins or ends with the hyphen-minus character.</span></span> <span data-ttu-id="2887a-139">Questi caratteri sono sempre stati proibiti all'uso nei nomi di dominio e rimangono proibiti nello standard Draft.</span><span class="sxs-lookup"><span data-stu-id="2887a-139">These characters have always been prohibited from use in domain names, and remain prohibited in the draft standard.</span></span>

## <a name="handle-unassigned-code-points"></a><span data-ttu-id="2887a-140">Gestisci punti di codice non assegnati</span><span class="sxs-lookup"><span data-stu-id="2887a-140">Handle Unassigned Code Points</span></span>

<span data-ttu-id="2887a-141">IDN non può contenere punti di codice non assegnati.</span><span class="sxs-lookup"><span data-stu-id="2887a-141">IDNs cannot contain unassigned code points.</span></span> <span data-ttu-id="2887a-142">Pertanto, i punti di codice che non sono associati a un carattere ("assegnato") a partire da Unicode 3,2 non dispongono di mapping IDN definiti, anche se \_ il \_ flag IDN Allow unattributed in determinate funzioni di conversione ne consente il mapping a Punycode.</span><span class="sxs-lookup"><span data-stu-id="2887a-142">Therefore, code points that are not associated with a character ("assigned") as of Unicode 3.2 do not have defined IDN mappings, even though the IDN\_ALLOW\_UNASSIGNED flag in certain conversion functions allows them to be mapped to Punycode.</span></span> <span data-ttu-id="2887a-143">È possibile trovare un elenco di punti di codice non assegnati in [RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span><span class="sxs-lookup"><span data-stu-id="2887a-143">You can find a list of unassigned code points in [RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span></span>

> [!Caution]  
> <span data-ttu-id="2887a-144">Se l'applicazione codifica i punti di codice non assegnati come Punycode, i nomi di dominio risultanti non devono essere validi.</span><span class="sxs-lookup"><span data-stu-id="2887a-144">If your application encodes unassigned code points as Punycode, the resulting domain names should be illegal.</span></span> <span data-ttu-id="2887a-145">La sicurezza può essere compromessa se una versione successiva di IDNA rende validi questi nomi o se l'applicazione filtra i caratteri non validi per tentare di creare un nome di dominio valido.</span><span class="sxs-lookup"><span data-stu-id="2887a-145">Security can be compromised if a later version of IDNA makes these names legal or if the application filters out the illegal characters to try to create a legal domain name.</span></span>

 

<span data-ttu-id="2887a-146">I punti di codice non assegnati non sono consentiti nelle stringhe archiviate usate negli identificatori di protocollo e nelle entità denominate, ad esempio nomi in certificati digitali e parti del nome di dominio DNS.</span><span class="sxs-lookup"><span data-stu-id="2887a-146">Unassigned code points are not allowed in the stored strings used in protocol identifiers and named entities, such as names in digital certificates and DNS domain name parts.</span></span> <span data-ttu-id="2887a-147">Tuttavia, i punti di codice sono consentiti nelle stringhe di query, ad esempio i nomi immessi dall'utente per le autorità di certificazione digitali e le ricerche DNS, che vengono usate per la corrispondenza con gli identificatori archiviati.</span><span class="sxs-lookup"><span data-stu-id="2887a-147">However, the code points are allowed in query strings, for example, user-entered names for digital certificate authorities and DNS lookups, which are used to match against stored identifiers.</span></span>

> [!Caution]  
> <span data-ttu-id="2887a-148">Sebbene le stringhe di query possano usare i punti di codice non assegnati, è consigliabile non usarli nelle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="2887a-148">Although query strings can use unassigned code points, you should not use them in your applications.</span></span> <span data-ttu-id="2887a-149">Anche una stringa di query fornita dall'utente presenta il rischio di un attacco di "spoofing".</span><span class="sxs-lookup"><span data-stu-id="2887a-149">Even a user-supplied query string presents a risk of a "spoofing" attack.</span></span> <span data-ttu-id="2887a-150">In questo tipo di attacco, il sito host senza scrupoli reindirizza gli utenti del sito che intendono accedere a un altro sito che potrebbe fornire informazioni riservate a terze parti.</span><span class="sxs-lookup"><span data-stu-id="2887a-150">In this type of attack, the unscrupulous host site reroutes users from the site they intend to access to another site that might provide sensitive information to a third party.</span></span> <span data-ttu-id="2887a-151">Ad esempio, la copia di una stringa da un messaggio di posta elettronica in arrivo può presentare gli stessi rischi che si può fare facendo clic su un collegamento in un browser.</span><span class="sxs-lookup"><span data-stu-id="2887a-151">For example, copying a string from an incoming e-mail can present the same risks as clicking on a link in a browser.</span></span>

 

## <a name="convert-domain-names-to-ascii-names"></a><span data-ttu-id="2887a-152">Converte i nomi di dominio in nomi ASCII</span><span class="sxs-lookup"><span data-stu-id="2887a-152">Convert Domain Names to ASCII Names</span></span>

<span data-ttu-id="2887a-153">L'applicazione può usare la funzione [**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) e alcune funzioni di mitigazione per convertire IDN in ASCII.</span><span class="sxs-lookup"><span data-stu-id="2887a-153">Your application can use the [**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) function and certain mitigation functions to convert IDNs to ASCII.</span></span>

> [!Caution]  
> <span data-ttu-id="2887a-154">Poiché le stringhe con rappresentazioni binarie molto diverse possono essere paragonate allo stesso modo, questa funzione può generare determinati problemi di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="2887a-154">Because strings with very different binary representations can compare as identical, this function can raise certain security concerns.</span></span> <span data-ttu-id="2887a-155">Per ulteriori informazioni, vedere la discussione sulle funzioni di confronto in [considerazioni sulla sicurezza: funzionalità internazionali](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="2887a-155">For more information, see the discussion of comparison functions in [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

## <a name="examples"></a><span data-ttu-id="2887a-156">Esempio</span><span class="sxs-lookup"><span data-stu-id="2887a-156">Examples</span></span>

<span data-ttu-id="2887a-157">[NLS: l'esempio di conversione IDN (International Domain Name)](nls--internationalized-domain-name--idn--conversion-sample.md) illustra l'uso delle funzioni di conversione IDN.</span><span class="sxs-lookup"><span data-stu-id="2887a-157">[NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md) demonstrates the use of the IDN conversion functions.</span></span> <span data-ttu-id="2887a-158">[NLS: esempio di mitigazione del nome di dominio internazionale (IDN)](nls--internationalized-domain-name--idn--mitigation-sample.md) che illustra l'uso delle funzioni di mitigazione IDN.</span><span class="sxs-lookup"><span data-stu-id="2887a-158">[NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md) demonstrates the use of the IDN mitigation functions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2887a-159">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="2887a-159">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2887a-160">Uso del supporto per le lingue nazionali</span><span class="sxs-lookup"><span data-stu-id="2887a-160">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="2887a-161">Considerazioni sulla sicurezza: funzionalità internazionali</span><span class="sxs-lookup"><span data-stu-id="2887a-161">Security Considerations: International Features</span></span>](security-considerations--international-features.md)
</dt> </dl>

 

 



