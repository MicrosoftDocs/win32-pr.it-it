---
description: Viene illustrato come eseguire la registrazione come provider radice di sincronizzazione e come integrare un provider di archiviazione cloud nel livello radice del riquadro di spostamento.
ms.assetid: BB177EDC-8C88-4540-B2F8-994C1C8BA91C
title: Integrare un provider di archiviazione cloud
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21fdc5abfbf9881bfe23b00a924fce989aec7c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104571158"
---
# <a name="integrate-a-cloud-storage-provider"></a><span data-ttu-id="ea41d-103">Integrare un provider di archiviazione cloud</span><span class="sxs-lookup"><span data-stu-id="ea41d-103">Integrate a Cloud Storage Provider</span></span>

<span data-ttu-id="ea41d-104">Quando si dispone di un provider di archiviazione cloud, è necessario eseguire un paio di passaggi per offrire un'esperienza coerente e preferibile per l'utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-104">When you have a cloud storage provider, there are a couple of steps you should take in order to provide a consistent and preferred experience for the user.</span></span> <span data-ttu-id="ea41d-105">Questi due elementi sono la registrazione come provider radice di sincronizzazione e l'integrazione dell'applicazione nel livello radice del riquadro di spostamento.</span><span class="sxs-lookup"><span data-stu-id="ea41d-105">These two things are registering as a sync root provider and integrating your application into the root level of the Navigation Pane.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ea41d-106">L'integrazione del provider di archiviazione cloud è supportata solo a partire da Windows 10.</span><span class="sxs-lookup"><span data-stu-id="ea41d-106">Integrating your cloud storage provider is only supported starting in Windows 10.</span></span>

 

<span data-ttu-id="ea41d-107">La prima cosa da fare è registrarsi come provider radice di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-107">The first thing is to register as a sync root provider.</span></span> <span data-ttu-id="ea41d-108">In questo modo la shell di Windows è in grado di conoscere l'applicazione e che l'applicazione sarà responsabile della sincronizzazione dei file nella radice di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-108">This lets the Windows Shell know about your application and that your application will be responsible for synchronizing files under your sync root.</span></span> <span data-ttu-id="ea41d-109">Questo consentirà anche ad altre applicazioni di essere in grado di sincronizzare questi file in modo che possano rispondere in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="ea41d-109">This will also let other applications know that you are synchronizing these files so that they can respond appropriately.</span></span> <span data-ttu-id="ea41d-110">Altre applicazioni possono quindi usare [**StorageFile. provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) per ottenere il [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) e l' [**ID**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-110">Other applications can then use [**StorageFile.Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) to get the [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) and [**Id**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) of your application.</span></span>

<span data-ttu-id="ea41d-111">Per eseguire la registrazione come provider radice di sincronizzazione, sarà necessario creare più voci del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="ea41d-111">In order to register as a sync root provider, you will need to create multiple registry entries.</span></span> <span data-ttu-id="ea41d-112">Prima di fornire l'elenco di coppie chiave-valore, di seguito sono riportati alcuni segnaposto che è necessario sostituire con i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-112">Before providing the list of key-value pairs, here are some placeholders that you should replace with your own application data.</span></span>

-   <span data-ttu-id="ea41d-113">*\[ storage provider ID \]*: nome del provider di archiviazione cloud.</span><span class="sxs-lookup"><span data-stu-id="ea41d-113">*\[storage provider ID\]*: The name of your cloud storage provider.</span></span> <span data-ttu-id="ea41d-114">Questo nome deve essere coerente indipendentemente dalla versione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-114">This name should be consistent regardless of the version of your application.</span></span> <span data-ttu-id="ea41d-115">Un esempio è OneDrive.</span><span class="sxs-lookup"><span data-stu-id="ea41d-115">An example of this is OneDrive.</span></span>
-   <span data-ttu-id="ea41d-116">*\[ SID \] di Windows*: il SID di Windows univoco che identifica l'utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-116">*\[Windows SID\]*: The unique Windows SID that identifies the user.</span></span> <span data-ttu-id="ea41d-117">Se l'app supporta più installazioni per più utenti in un singolo computer, questo elemento è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="ea41d-117">If your app supports multiple installations for multiple users on a single machine, this piece is required.</span></span>
-   <span data-ttu-id="ea41d-118">*\[ ID \] account*: identificatore del provider di servizi per l'account corrente dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-118">*\[Account ID\]*: The service provider identifier for this user's current account.</span></span> <span data-ttu-id="ea41d-119">Alcuni provider richiedono la possibilità di fornire più radici di sincronizzazione per un utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-119">Some providers require the ability to provide multiple synchronization roots for a user.</span></span> <span data-ttu-id="ea41d-120">Un esempio è costituito da un account di lavoro e personale.</span><span class="sxs-lookup"><span data-stu-id="ea41d-120">One example of this is a work and a personal account.</span></span> <span data-ttu-id="ea41d-121">L' *ID account* consente la registrazione di più account per un utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-121">The *Account ID* enables you to have multiple accounts registered for one user.</span></span> <span data-ttu-id="ea41d-122">Se il provider supporta più radici di sincronizzazione per utente, questo elemento è obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="ea41d-122">If your provider does support multiple synchronization roots per user, this piece is required.</span></span>

<span data-ttu-id="ea41d-123">Questi segnaposto vengono combinati insieme per formare l'ID radice di sincronizzazione. È necessario inserire un **!**</span><span class="sxs-lookup"><span data-stu-id="ea41d-123">These placeholders are combined together to form the sync root id. You must place a **!**</span></span> <span data-ttu-id="ea41d-124">carattere tra i segnaposto quando si forma l'ID radice di sincronizzazione. Ecco le coppie chiave-valore che devono essere create.</span><span class="sxs-lookup"><span data-stu-id="ea41d-124">character between each of the placeholders when forming the sync root id. Here are the key-value pairs that need to be created.</span></span>

-   <span data-ttu-id="ea41d-125">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ storage provider ID \]_\*\* _\[ SID \] di Windows_\*\* _\[ ID \] account_*_\\ DisplayNameResource_* : punta alla risorsa in cui la shell di Windows o altre applicazioni possono ottenere un nome descrittivo per la radice di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-125">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\DisplayNameResource_* : Points to the resource where the Windows Shell or other applications can get a user-friendly name for your sync root.</span></span>
-   <span data-ttu-id="ea41d-126">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ storage provider ID \]_\*\* _\[ SID \] di Windows_\*\* _\[ ID \] account_*_\\ IconResource_* : punta alla risorsa in cui la shell di Windows o altre applicazioni possono ottenere un'icona per la radice di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-126">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\IconResource_* : Points to the resource where the Windows Shell or other applications can get an icon for your sync root.</span></span>
-   <span data-ttu-id="ea41d-127">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ storage provider ID \]_\*\* _\[ SID \] di Windows_\*\* _\[ ID \] account_*_\\ UserSyncRoots \\_*_\[ Windows SID \]_ : percorso su disco in cui si trova la radice di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-127">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\UserSyncRoots\\_*_\[Windows SID\]_ : The location on disk where the sync root is located.</span></span>

<span data-ttu-id="ea41d-128">Oltre alla registrazione come provider radice di sincronizzazione, si vuole che gli utenti abbiano accesso facile ai dati forniti.</span><span class="sxs-lookup"><span data-stu-id="ea41d-128">Other than registering as a sync root provider, you also want users to have easy access to the data you provide.</span></span> <span data-ttu-id="ea41d-129">Lo spazio dei nomi Esplora file è progettato per fornire un metodo per semplificare l'accesso.</span><span class="sxs-lookup"><span data-stu-id="ea41d-129">The File Explorer namespace is designed to provide a method for that easy access.</span></span> <span data-ttu-id="ea41d-130">La creazione di un'estensione dello spazio dei nomi per il provider e l'incorporamento nella finestra Esplora file consentirà agli utenti di interagire con il livello radice dei servizi esattamente come vengono usati con altri elementi di Esplora file.</span><span class="sxs-lookup"><span data-stu-id="ea41d-130">Creating a namespace extension for your provider and incorporating it into the File Explorer window will allow users to interact with the root level of your services just like they are used to with other File Explorer items.</span></span> <span data-ttu-id="ea41d-131">In questo argomento viene illustrato come estendere lo spazio dei nomi di Esplora file in modo che il provider venga visualizzato a livello di radice nel riquadro di spostamento.</span><span class="sxs-lookup"><span data-stu-id="ea41d-131">This topic explains how to extend the File Explorer namespace so that your provider will appear at the root level in the Navigation Pane.</span></span>

<span data-ttu-id="ea41d-132">Il riquadro di spostamento della finestra Esplora file è la parte della finestra visualizzata sul lato sinistro.</span><span class="sxs-lookup"><span data-stu-id="ea41d-132">The Navigation Pane of the File Explorer window is the portion of the window displayed on the left side.</span></span> <span data-ttu-id="ea41d-133">Nell'immagine seguente è possibile visualizzare la struttura dello spazio dei nomi per questo utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-133">In the image below, you can see the namespace structure for this user.</span></span> <span data-ttu-id="ea41d-134">Il livello radice nel riquadro di spostamento include gli oggetti per **OneDrive**, **questo PC** e la **rete**.</span><span class="sxs-lookup"><span data-stu-id="ea41d-134">The root level on the Navigation Pane includes the objects for **OneDrive**, **This PC**, and **Network**.</span></span> <span data-ttu-id="ea41d-135">Con la procedura seguente l'estensione viene aggiunta allo stesso livello.</span><span class="sxs-lookup"><span data-stu-id="ea41d-135">Following these steps will add your extension to the same level.</span></span>

![riquadro di spostamento](images/navigationpane.png)

<span data-ttu-id="ea41d-137">Per aggiungere l'estensione al riquadro di spostamento, è necessario disporre di quanto segue prima di modificare il registro di sistema:</span><span class="sxs-lookup"><span data-stu-id="ea41d-137">In order to add your extension to the Navigation Pane, you will need to have the following before editing the registry:</span></span>

-   <span data-ttu-id="ea41d-138">Una file system cartella che contiene i dati da visualizzare all'utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-138">A file system folder that contains the data to display to the user.</span></span>

-   <span data-ttu-id="ea41d-139">Nome del servizio cloud che verrà visualizzato nel riquadro di spostamento.</span><span class="sxs-lookup"><span data-stu-id="ea41d-139">Name of your cloud service that will appear in the Navigation Pane.</span></span> <span data-ttu-id="ea41d-140">Potrebbe anche essere il nome dell'istanza se il servizio supporta più account.</span><span class="sxs-lookup"><span data-stu-id="ea41d-140">This could also be the name of the instance if your service supports multiple accounts.</span></span>

-   <span data-ttu-id="ea41d-141">Icona identificabile per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-141">Identifiable icon for your application.</span></span>

-   <span data-ttu-id="ea41d-142">CLSID per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-142">A CLSID for your application.</span></span> <span data-ttu-id="ea41d-143">Un modo per generare un CLSID per l'applicazione consiste nell'usare il Uuidgen.exe.</span><span class="sxs-lookup"><span data-stu-id="ea41d-143">One way to generate a CLSID for your application is to use the Uuidgen.exe.</span></span> <span data-ttu-id="ea41d-144">Per ulteriori informazioni su CLSID, vedere la [chiave CLSID](../com/clsid-key-hklm.md) .</span><span class="sxs-lookup"><span data-stu-id="ea41d-144">See [CLSID Key](../com/clsid-key-hklm.md) for more information about CLSID.</span></span>

<span data-ttu-id="ea41d-145">La procedura seguente consente di modificare il registro di sistema per ottenere le informazioni necessarie nello spazio dei nomi di Esplora file.</span><span class="sxs-lookup"><span data-stu-id="ea41d-145">The following steps modify the registry in order to get the necessary information into the File Explorer namespace.</span></span> <span data-ttu-id="ea41d-146">I passaggi specifici eseguono tre operazioni.</span><span class="sxs-lookup"><span data-stu-id="ea41d-146">The specific steps do three things.</span></span>

-   <span data-ttu-id="ea41d-147">Creare le chiavi nel registro di sistema per il CLSID che include i valori per il nome e l'icona dell'estensione, nonché altre informazioni che ne definiscono il comportamento.</span><span class="sxs-lookup"><span data-stu-id="ea41d-147">Create keys in the registry for your CLSID that includes values for the name and icon for your extension as well as other information that defines its behavior.</span></span>

-   <span data-ttu-id="ea41d-148">Configurare l'estensione in modo che sia integrata nel riquadro di spostamento nella posizione corretta e con la visibilità corretta.</span><span class="sxs-lookup"><span data-stu-id="ea41d-148">Configure your extension to be integrated into the Navigation Pane in the proper location and with the proper visibility.</span></span>

-   <span data-ttu-id="ea41d-149">Configurare l'estensione in modo che abbia il comportamento previsto per un elemento nel riquadro di spostamento.</span><span class="sxs-lookup"><span data-stu-id="ea41d-149">Configure your extension to have the expected behavior for an element in the navigation pane.</span></span>

<span data-ttu-id="ea41d-150">Queste istruzioni usano in modo specifico il comando **reg.exe** , ma è possibile usare qualsiasi strumento di modifica del registro di sistema di propria scelta.</span><span class="sxs-lookup"><span data-stu-id="ea41d-150">These instructions specifically use the **reg.exe** command, however you can use any registry editing tool of your choice.</span></span> <span data-ttu-id="ea41d-151">È anche possibile integrare questi passaggi in un programma di installazione che aggiorna il registro di sistema a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="ea41d-151">You can even integrate these steps into an installer that updates the registry programmatically.</span></span>

## <a name="instructions"></a><span data-ttu-id="ea41d-152">Istruzioni</span><span class="sxs-lookup"><span data-stu-id="ea41d-152">Instructions</span></span>

### <a name="step-1-add-your-clsid-and-name-your-extension"></a><span data-ttu-id="ea41d-153">Passaggio 1: aggiungere il CLSID e assegnare un nome all'estensione</span><span class="sxs-lookup"><span data-stu-id="ea41d-153">Step 1: Add your CLSID and name your extension</span></span>

<span data-ttu-id="ea41d-154">Aggiungere il nome dell'estensione al registro di sistema in HKEY \_ Current \_ User.</span><span class="sxs-lookup"><span data-stu-id="ea41d-154">Add the name of your extension to the registry under HKEY\_CURRENT\_USER.</span></span> <span data-ttu-id="ea41d-155">Si aggiungerà anche l'identificatore univoco per questa estensione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-155">You will also be adding the unique identifier for this extension.</span></span> <span data-ttu-id="ea41d-156">È possibile aggiungere più di un'estensione per utente, ma in tal caso sarà necessario un nome univoco e un identificatore per ogni estensione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-156">It is possible to add more than one extension per user, but in that case you will need a unique name and identifier for each extension.</span></span> <span data-ttu-id="ea41d-157">Il nome e l'identificatore devono essere coerenti per tutti gli altri passaggi.</span><span class="sxs-lookup"><span data-stu-id="ea41d-157">This name and identifier must be consistent throughout the rest of these steps.</span></span> <span data-ttu-id="ea41d-158">In questo esempio il nome è *MyCloudStorageApp*.</span><span class="sxs-lookup"><span data-stu-id="ea41d-158">In this example, the name is *MyCloudStorageApp*.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ea41d-159">L'identificatore fornito (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) in questi passaggi viene usato solo come esempio.</span><span class="sxs-lookup"><span data-stu-id="ea41d-159">The identifier provided (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) in these steps is just used as a sample.</span></span> <span data-ttu-id="ea41d-160">È necessario modificarlo in un CLSID univoco.</span><span class="sxs-lookup"><span data-stu-id="ea41d-160">You will need to change this to your unique CLSID.</span></span>

 

<span data-ttu-id="ea41d-161">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3}/ve/t reg \_ SZ/d "MyCloudStorageApp"/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-161">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d "MyCloudStorageApp" /f**</span></span>

### <a name="step-2-set-the-image-for-your-icon"></a><span data-ttu-id="ea41d-162">Passaggio 2: impostare l'immagine per l'icona</span><span class="sxs-lookup"><span data-stu-id="ea41d-162">Step 2: Set the image for your icon</span></span>

<span data-ttu-id="ea41d-163">Consente di specificare il percorso dell'icona da visualizzare nel riquadro di spostamento.</span><span class="sxs-lookup"><span data-stu-id="ea41d-163">Provide the path to the icon that should be displayed in the Navigation Pane.</span></span> <span data-ttu-id="ea41d-164">Nell'esempio seguente, *1043* si riferisce all'identificatore di risorsa per l'icona nella dll indicata.</span><span class="sxs-lookup"><span data-stu-id="ea41d-164">In the example below, *1043* refers to the resource identifier for the icon in the indicated DLL.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ea41d-165">È necessario aggiornare il percorso dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="ea41d-165">You need to update the image path.</span></span> <span data-ttu-id="ea41d-166">Deve puntare a un percorso generico in cui l'app ha installato un'immagine.</span><span class="sxs-lookup"><span data-stu-id="ea41d-166">It should point to a generic path where your app installed an image.</span></span>

 

<span data-ttu-id="ea41d-167">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3} \\ DefaultIcon/ve/t reg \_ expand \_ SZ/d%% SystemRoot%% \\ system32 \\imageres.dll,-1043/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-167">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\DefaultIcon /ve /t REG\_EXPAND\_SZ /d %%SystemRoot%%\\system32\\imageres.dll,-1043 /f**</span></span>

### <a name="step-3-add-your-extension-to-the-navigation-pane-and-make-it-visible"></a><span data-ttu-id="ea41d-168">Passaggio 3: aggiungere l'estensione al riquadro di spostamento e renderla visibile</span><span class="sxs-lookup"><span data-stu-id="ea41d-168">Step 3: Add your extension to the Navigation Pane and make it visible</span></span>

<span data-ttu-id="ea41d-169">L'impostazione di questo valore su 0x1 indica che l'estensione deve essere bloccata.</span><span class="sxs-lookup"><span data-stu-id="ea41d-169">Setting this value to 0x1 indicates that the extension should be pinned.</span></span> <span data-ttu-id="ea41d-170">In questo modo gli utenti vengono visualizzati per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="ea41d-170">This will make sure it is shown to users by default.</span></span> <span data-ttu-id="ea41d-171">La configurazione predefinita per un utente è che solo gli elementi aggiunti verranno visualizzati nel riquadro di spostamento.</span><span class="sxs-lookup"><span data-stu-id="ea41d-171">The default configuration for a user is that only pinned items will be shown in the Navigation Pane.</span></span> <span data-ttu-id="ea41d-172">Un utente può modificare l'impostazione facendo clic con il pulsante destro del mouse nel riquadro di spostamento e selezionando **Mostra tutte le cartelle**.</span><span class="sxs-lookup"><span data-stu-id="ea41d-172">A user can change that setting by right-clicking in the Navigation Pane and selecting **Show all folders**.</span></span> <span data-ttu-id="ea41d-173">Se non si vuole aggiungere l'estensione, è possibile impostare questo valore su 0x0.</span><span class="sxs-lookup"><span data-stu-id="ea41d-173">If you don't want to pin your extension, you can set this value to 0x0.</span></span> <span data-ttu-id="ea41d-174">Questa operazione non rimuove l'estensione, ma impedisce semplicemente che venga visualizzata all'utente per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="ea41d-174">That will not remove your extension, but merely prevent it from being displayed to the user by default.</span></span>

<span data-ttu-id="ea41d-175">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3}/v System. IsPinnedToNameSpaceTree/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-175">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v System.IsPinnedToNameSpaceTree /t REG\_DWORD /d 0x1 /f**</span></span>

### <a name="step-4-set-the-location-for-your-extension-in-the-navigation-pane"></a><span data-ttu-id="ea41d-176">Passaggio 4: impostare il percorso per l'estensione nel riquadro di spostamento</span><span class="sxs-lookup"><span data-stu-id="ea41d-176">Step 4: Set the location for your extension in the Navigation Pane</span></span>

<span data-ttu-id="ea41d-177">Si tratta di una procedura fondamentale per assicurarsi che il riquadro di spostamento fornisca un'esperienza coerente per l'utente.</span><span class="sxs-lookup"><span data-stu-id="ea41d-177">This is critical in order to make sure the Navigation Pane provides a consistent experience for the user.</span></span>

<span data-ttu-id="ea41d-178">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3}/V SortOrderIndex/t reg \_ DWORD/d 0x42/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-178">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v SortOrderIndex /t REG\_DWORD /d 0x42 /f**</span></span>

### <a name="step-5-provide-the-dll-that-hosts-your-extension"></a><span data-ttu-id="ea41d-179">Passaggio 5: specificare la dll che ospita l'estensione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-179">Step 5: Provide the dll that hosts your extension.</span></span>

<span data-ttu-id="ea41d-180">Usare il shell32.dll per emulare le cartelle di Windows predefinite.</span><span class="sxs-lookup"><span data-stu-id="ea41d-180">Use the shell32.dll to emulate default windows folders.</span></span> <span data-ttu-id="ea41d-181">Modificare questa operazione solo se si dispone di un motivo specifico per eseguire questa operazione e si ha familiarità con le estensioni dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="ea41d-181">Only change this if you have a specific reason to do so and are familiar with namespace extensions.</span></span>

<span data-ttu-id="ea41d-182">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3} \\ InprocServer32/ve/t reg \_ expand \_ SZ/d%% SystemRoot%% \\ system32 \\shell32.dll/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-182">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\InProcServer32 /ve /t REG\_EXPAND\_SZ /d %%systemroot%%\\system32\\shell32.dll /f**</span></span>

### <a name="step-6-define-the-instance-object"></a><span data-ttu-id="ea41d-183">Passaggio 6: definire l'oggetto istanza</span><span class="sxs-lookup"><span data-stu-id="ea41d-183">Step 6: Define the instance object</span></span>

<span data-ttu-id="ea41d-184">Indica che l'estensione dello spazio dei nomi deve funzionare come altre strutture di cartelle di file in Esplora file.</span><span class="sxs-lookup"><span data-stu-id="ea41d-184">Indicate that your namespace extension should function like other file folder structures in File Explorer.</span></span> <span data-ttu-id="ea41d-185">Per altre informazioni sugli oggetti istanza della shell, vedere Creazione di estensioni della shell [con oggetti istanza della shell](/previous-versions/ms997573(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="ea41d-185">For more information about shell instance objects, see [Creating Shell Extensions with Shell Instance Objects](/previous-versions/ms997573(v=msdn.10)).</span></span>

<span data-ttu-id="ea41d-186">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3} \\ istanza/v CLSID/T reg \_ SZ/d {0E5AAE11-a475-4c5b-AB00-C66DE400274E}/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-186">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance /v CLSID /t REG\_SZ /d {0E5AAE11-A475-4c5b-AB00-C66DE400274E} /f**</span></span>

### <a name="step-7-provide-the-file-system-attributes-of-the-target-folder"></a><span data-ttu-id="ea41d-187">Passaggio 7: specificare gli attributi file system della cartella di destinazione</span><span class="sxs-lookup"><span data-stu-id="ea41d-187">Step 7: Provide the file system attributes of the target folder</span></span>

<span data-ttu-id="ea41d-188">Questa operazione è necessaria per garantire che Esplora file fornisca un'esperienza coerente e prevista per gli utenti.</span><span class="sxs-lookup"><span data-stu-id="ea41d-188">This is required to make sure that the File Explorer provides a consistent and expected experience for users.</span></span> <span data-ttu-id="ea41d-189">Questo comando imposta **la \_ \_ directory degli attributi** di file e l'attributo di **file \_ \_ ReadOnly**, che sono entrambi [**costanti di attributi di file**](../fileio/file-attribute-constants.md).</span><span class="sxs-lookup"><span data-stu-id="ea41d-189">This command sets **FILE\_ATTRIBUTE\_DIRECTORY** and **FILE\_ATTRIBUTE\_READONLY**, both of which are [**File Attribute Constants**](../fileio/file-attribute-constants.md).</span></span>

<span data-ttu-id="ea41d-190">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3} \\ instance \\ InitPropertyBag/v Attributes/t reg \_ DWORD/d 0x11/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-190">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v Attributes /t REG\_DWORD /d 0x11 /f**</span></span>

### <a name="step-8-set-the-path-for-the-sync-root"></a><span data-ttu-id="ea41d-191">Passaggio 8: impostare il percorso per la radice di sincronizzazione</span><span class="sxs-lookup"><span data-stu-id="ea41d-191">Step 8: Set the path for the sync root</span></span>

<span data-ttu-id="ea41d-192">Imposta il percorso per la radice di sincronizzazione.</span><span class="sxs-lookup"><span data-stu-id="ea41d-192">Set the path for the sync root.</span></span>

<span data-ttu-id="ea41d-193">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3} \\ istanza \\ InitPropertyBag/v TargetFolderPath/t reg \_ expand \_ SZ/d%% UserProfile%% \\ MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-193">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v TargetFolderPath /t REG\_EXPAND\_SZ /d %%USERPROFILE%%\\MyCloudStorageApp /f**</span></span>

### <a name="step-9-set-appropriate-shell-flags"></a><span data-ttu-id="ea41d-194">Passaggio 9: impostare i flag della shell appropriati</span><span class="sxs-lookup"><span data-stu-id="ea41d-194">Step 9: Set appropriate shell flags</span></span>

<span data-ttu-id="ea41d-195">Impostare alcuni flag necessari per aggiungere l'estensione dello spazio dei nomi all'albero di Esplora file.</span><span class="sxs-lookup"><span data-stu-id="ea41d-195">Set some flags necessary to pin your namespace extension to the File Explorer tree.</span></span>

<span data-ttu-id="ea41d-196">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3} \\ ShellFolder/v FolderValueFlags/t reg \_ DWORD/d 0x28/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-196">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v FolderValueFlags /t REG\_DWORD /d 0x28 /f**</span></span>

### <a name="step-10-set-the-appropriate-flags-to-control-your-shell-behavior"></a><span data-ttu-id="ea41d-197">Passaggio 10: impostare i flag appropriati per controllare il comportamento della shell</span><span class="sxs-lookup"><span data-stu-id="ea41d-197">Step 10: Set the appropriate flags to control your shell behavior</span></span>

<span data-ttu-id="ea41d-198">Impostare i flag [**SFGAO**](sfgao.md) appropriati.</span><span class="sxs-lookup"><span data-stu-id="ea41d-198">Set the appropriate [**SFGAO**](sfgao.md) flags.</span></span> <span data-ttu-id="ea41d-199">I flag rilevanti sono SFGAO \_ CANCOPY, SFGAO \_ CANLINK, SFGAO \_ storage, SFGAO HASPROPSHEET \_ , SFGAO STORAGEANCESTOR, \_ SFGAO \_ FILESYSANCESTOR, SFGAO \_ Folder, SFGAO \_ filesystem e SFGAO HASSUBFOLDER \_ .</span><span class="sxs-lookup"><span data-stu-id="ea41d-199">The relevant flags are SFGAO\_CANCOPY, SFGAO\_CANLINK, SFGAO\_STORAGE, SFGAO\_HASPROPSHEET, SFGAO\_STORAGEANCESTOR, SFGAO\_FILESYSANCESTOR, SFGAO\_FOLDER, SFGAO\_FILESYSTEM, and SFGAO\_HASSUBFOLDER.</span></span>

<span data-ttu-id="ea41d-200">**reg add HKCU \\ software \\ Classes \\ CLSID \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3} \\ SHELLFOLDER/V Attributes/t reg \_ DWORD/d 0xF080004D/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-200">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v Attributes /t REG\_DWORD /d 0xF080004D /f**</span></span>

### <a name="step-11-register-your-extension-in-the-namespace-root"></a><span data-ttu-id="ea41d-201">Passaggio 11: registrare l'estensione nella radice dello spazio dei nomi</span><span class="sxs-lookup"><span data-stu-id="ea41d-201">Step 11: Register your extension in the namespace root</span></span>

<span data-ttu-id="ea41d-202">Configurare l'estensione dello spazio dei nomi in modo che sia un elemento figlio della cartella desktop.</span><span class="sxs-lookup"><span data-stu-id="ea41d-202">Configure the namespace extension to be a child of the desktop folder.</span></span>

<span data-ttu-id="ea41d-203">**reg add HKCU \\ software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ Desktop \\ Namespace \\ {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3}/ve/t reg \_ SZ/d MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-203">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Desktop\\NameSpace\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d MyCloudStorageApp /f**</span></span>

### <a name="step-12-hide-your-extension-from-the-desktop"></a><span data-ttu-id="ea41d-204">Passaggio 12: nascondere l'estensione dal desktop</span><span class="sxs-lookup"><span data-stu-id="ea41d-204">Step 12: Hide your extension from the Desktop</span></span>

<span data-ttu-id="ea41d-205">È importante che l'estensione venga visualizzata solo nel riquadro di spostamento di Esplora file.</span><span class="sxs-lookup"><span data-stu-id="ea41d-205">It is important that your extension only appears on the Navigation Pane of the File Explorer.</span></span> <span data-ttu-id="ea41d-206">Un'estensione dello spazio dei nomi non funziona come un collegamento normale.</span><span class="sxs-lookup"><span data-stu-id="ea41d-206">A namespace extension does not function like a normal shortcut.</span></span> <span data-ttu-id="ea41d-207">Pertanto, non è consigliabile utilizzare questo metodo per creare un collegamento sul desktop.</span><span class="sxs-lookup"><span data-stu-id="ea41d-207">Therefore, you should not use this method to create a Desktop shortcut.</span></span>

<span data-ttu-id="ea41d-208">**reg add HKCU \\ software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ HideDesktopIcons \\ NewStartPanel/v {0672A6D1-A6E0-40fe-AB16-F25BADC6D9E3}/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="ea41d-208">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\HideDesktopIcons\\NewStartPanel /v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /t REG\_DWORD /d 0x1 /f**</span></span>

 

 
