---
title: Panoramica del provider
description: Panoramica concettuale di un'applicazione provider.
ms.assetid: <GUID-GOES-HERE>
ms.date: 01/17/2020
ms.topic: article
ms.openlocfilehash: 89b49096b7b68a723b52b4eb998c446661b7d3c9
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/10/2020
ms.locfileid: "104474800"
---
# <a name="provider-overview"></a><span data-ttu-id="7f645-103">Panoramica del provider</span><span class="sxs-lookup"><span data-stu-id="7f645-103">Provider Overview</span></span>

<span data-ttu-id="7f645-104">Il provider è un'applicazione in modalità utente che gestisce e riconosce un archivio dati di supporto.</span><span class="sxs-lookup"><span data-stu-id="7f645-104">The provider is a user-mode application that maintains and understands a backing data store.</span></span>  <span data-ttu-id="7f645-105">Il provider implementa i callback ProjFS e usa l'API ProjFS per proiettare questo archivio dati nel file system in cui viene visualizzato all'utente come file e directory.</span><span class="sxs-lookup"><span data-stu-id="7f645-105">The provider implements ProjFS callbacks and uses the ProjFS API to project this data store into the file system where it appears to the user as files and directories.</span></span>  <span data-ttu-id="7f645-106">L'archivio di backup del provider può essere locale nel sistema dell'utente oppure potrebbe trovarsi in modalità remota.</span><span class="sxs-lookup"><span data-stu-id="7f645-106">The provider’s backing store may be local to the user’s system, or it may be located remotely.</span></span>

## <a name="data-projection"></a><span data-ttu-id="7f645-107">Proiezione dati</span><span class="sxs-lookup"><span data-stu-id="7f645-107">Data Projection</span></span>

<span data-ttu-id="7f645-108">La parte del file system di proprietà del provider, in cui vengono proiettati i dati, è radicata in una directory denominata "radice di virtualizzazione".</span><span class="sxs-lookup"><span data-stu-id="7f645-108">The part of the file system that the provider owns, where its data is projected, is rooted in a directory called the “virtualization root”.</span></span>  <span data-ttu-id="7f645-109">Quando il provider vuole iniziare a proiettare i dati, avvia una "istanza di virtualizzazione", ovvero un oggetto che gestisce la comunicazione tra il provider e ProjFS per il set di file e directory che si trovano in una particolare radice di virtualizzazione.</span><span class="sxs-lookup"><span data-stu-id="7f645-109">When the provider wants to start projecting its data it starts a "virtualization instance", which is an object that manages communication between the provider and ProjFS for the set of files and directories located under a particular virtualization root.</span></span>  <span data-ttu-id="7f645-110">Tutti i file e le directory discendenti dalla radice di virtualizzazione che non sono stati creati localmente dall'utente vengono materializzati dal provider tramite l'API ProjFS.</span><span class="sxs-lookup"><span data-stu-id="7f645-110">Any files and directories that are descendants of the virtualization root that have not been created locally by the user are materialized by the provider via the ProjFS API.</span></span>  <span data-ttu-id="7f645-111">Questi elementi iniziano come file e directory virtuali, ovvero non esistono nel dispositivo di archiviazione locale dell'utente, ma vengono inseriti in risultati di enumerazione per ProjFS.</span><span class="sxs-lookup"><span data-stu-id="7f645-111">These items start off as virtual files and directories, meaning that they do not exist on the user’s local storage device, but are injected into enumeration results by ProjFS.</span></span>  <span data-ttu-id="7f645-112">Quando gli elementi vengono aperti e letti, ProjFS richiama i callback implementati dal provider per richiedere i dati e il provider usa le API ProjFS per inviare i dati alla risorsa di archiviazione locale in cui viene memorizzata nella cache per l'accesso successivo.</span><span class="sxs-lookup"><span data-stu-id="7f645-112">As the items are opened and read, ProjFS invokes callbacks implemented by the provider to request data, and the provider uses ProjFS APIs to send that data to the local storage where it is cached for subsequent access.</span></span>  <span data-ttu-id="7f645-113">Se è necessario modificare la visualizzazione dell'archivio dati di supporto, ad esempio se il contenuto dell'archivio dati è stato modificato, il provider può utilizzare le API ProjFS per aggiornare o eliminare gli elementi locali in modo da riflettere la nuova visualizzazione dell'archivio dati.</span><span class="sxs-lookup"><span data-stu-id="7f645-113">If the user's view of the backing data store needs to change, for instance if the contents of the data store have changed, the provider can use ProjFS APIs to update or delete local items to reflect the new view of the data store.</span></span>

## <a name="callback-return-codes"></a><span data-ttu-id="7f645-114">Codici restituiti di callback</span><span class="sxs-lookup"><span data-stu-id="7f645-114">Callback return codes</span></span>

<span data-ttu-id="7f645-115">Ogni callback elenca un numero di possibili valori restituiti specifici di tale callback.</span><span class="sxs-lookup"><span data-stu-id="7f645-115">Each callback lists a number of possible return values specific to that callback.</span></span>  <span data-ttu-id="7f645-116">Oltre ai valori restituiti elencati per un determinato callback, un callback può restituire anche altri codici di errore.</span><span class="sxs-lookup"><span data-stu-id="7f645-116">In addition to the return values listed for a given callback, a callback may also return certain other error codes.</span></span>  <span data-ttu-id="7f645-117">Si tratta dell'elenco completo dei codici di errore che possono essere restituiti da un callback:</span><span class="sxs-lookup"><span data-stu-id="7f645-117">This is the complete list of error codes that a callback may return:</span></span>

| <span data-ttu-id="7f645-118">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="7f645-118">Error Code</span></span>                                    | <span data-ttu-id="7f645-119">Significato</span><span class="sxs-lookup"><span data-stu-id="7f645-119">Meaning</span></span>
|-----------------------------------------------|--------
| <span data-ttu-id="7f645-120">S_OK</span><span class="sxs-lookup"><span data-stu-id="7f645-120">S_OK</span></span>                                          | <span data-ttu-id="7f645-121">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="7f645-121">Operation Successful</span></span>
| <span data-ttu-id="7f645-122">E_OUTOFMEMORY</span><span class="sxs-lookup"><span data-stu-id="7f645-122">E_OUTOFMEMORY</span></span>                                 | <span data-ttu-id="7f645-123">Non è stato possibile allocare la memoria necessaria.</span><span class="sxs-lookup"><span data-stu-id="7f645-123">Failed to allocate necessary memory.</span></span>
| <span data-ttu-id="7f645-124">HRESULT_FROM_WIN32 (ERROR_IO_PENDING)</span><span class="sxs-lookup"><span data-stu-id="7f645-124">HRESULT_FROM_WIN32(ERROR_IO_PENDING)</span></span>          | <span data-ttu-id="7f645-125">Il provider desidera completare l'operazione in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="7f645-125">The provider wishes to complete the operation at a later time.</span></span>
| <span data-ttu-id="7f645-126">HRESULT_FROM_WIN32(ERROR_INSUFFICIENT_BUFFER)</span><span class="sxs-lookup"><span data-stu-id="7f645-126">HRESULT_FROM_WIN32(ERROR_INSUFFICIENT_BUFFER)</span></span> | <span data-ttu-id="7f645-127">Un buffer passato a un callback è troppo piccolo.</span><span class="sxs-lookup"><span data-stu-id="7f645-127">A buffer passed to a callback was too small.</span></span>
| <span data-ttu-id="7f645-128">HRESULT_FROM_WIN32(ERROR_FILE_NOT_FOUND)</span><span class="sxs-lookup"><span data-stu-id="7f645-128">HRESULT_FROM_WIN32(ERROR_FILE_NOT_FOUND)</span></span>      | <span data-ttu-id="7f645-129">Il file non esiste nell'archivio di backup del provider.</span><span class="sxs-lookup"><span data-stu-id="7f645-129">The file does not exist in the provider’s backing store.</span></span>
| <span data-ttu-id="7f645-130">HRESULT_FROM_WIN32 (ERROR_INVALID_PARAMETER)</span><span class="sxs-lookup"><span data-stu-id="7f645-130">HRESULT_FROM_WIN32(ERROR_INVALID_PARAMETER)</span></span>   | <span data-ttu-id="7f645-131">Un argomento di callback non è valido.</span><span class="sxs-lookup"><span data-stu-id="7f645-131">A callback argument is invalid.</span></span>  <span data-ttu-id="7f645-132">Ad esempio, un ID di enumerazione non corrisponde a una sessione di enumerazione attiva.</span><span class="sxs-lookup"><span data-stu-id="7f645-132">For example, an enumeration ID doesn't correspond to an active enumeration session.</span></span>
| <span data-ttu-id="7f645-133">HRESULT_FROM_WIN32(ERROR_ACCESS_DENIED)</span><span class="sxs-lookup"><span data-stu-id="7f645-133">HRESULT_FROM_WIN32(ERROR_ACCESS_DENIED)</span></span>       | <span data-ttu-id="7f645-134">Il provider desidera impedire l'esecuzione di un'operazione, ad esempio una ridenominazione o un'eliminazione.</span><span class="sxs-lookup"><span data-stu-id="7f645-134">The provider wishes to prevent an operation, such as a rename or delete, from taking place.</span></span>

<span data-ttu-id="7f645-135">I callback possono inoltre restituire eventuali errori che possono ricevere dalle chiamate alle API ProjFS.</span><span class="sxs-lookup"><span data-stu-id="7f645-135">Callbacks may also return any errors they may receive from calls to ProjFS APIs.</span></span>
<span data-ttu-id="7f645-136">Se un callback restituisce un codice di errore non presente nell'elenco precedente o che non proviene da un'API ProjFS, ProjFS lo restituirà al file system come STATUS_INTERNAL_ERROR.</span><span class="sxs-lookup"><span data-stu-id="7f645-136">If a callback returns an error code that is not on the preceding list or that did not come from a ProjFS API, ProjFS will return it to the file system as STATUS_INTERNAL_ERROR.</span></span>
