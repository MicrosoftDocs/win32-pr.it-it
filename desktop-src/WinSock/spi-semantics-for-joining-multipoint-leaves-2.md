---
description: Nell'esempio seguente un socket multipoint è spesso caratterizzato dalla descrizione del ruolo in uno dei due piani (controllo o dati).
ms.assetid: 35e4a8c9-d943-44b8-be61-605b60a6cf5d
title: Semantica SPI per l'Unione di foglie multipoint
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa0e77203e5405f6cb820baba5d545de03e3a8ce
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106313692"
---
# <a name="spi-semantics-for-joining-multipoint-leaves"></a><span data-ttu-id="87c21-103">Semantica SPI per l'Unione di foglie multipoint</span><span class="sxs-lookup"><span data-stu-id="87c21-103">SPI Semantics for Joining Multipoint Leaves</span></span>

<span data-ttu-id="87c21-104">Nell'esempio seguente un socket multipoint è spesso caratterizzato dalla descrizione del ruolo in uno dei due piani (controllo o dati).</span><span class="sxs-lookup"><span data-stu-id="87c21-104">In the following, a multipoint socket is frequently characterized by describing its role in one of the two planes (control or data).</span></span> <span data-ttu-id="87c21-105">Si noti che lo stesso socket ha un ruolo nell'altro piano, ma questo non è indicato per tenere i riferimenti brevi.</span><span class="sxs-lookup"><span data-stu-id="87c21-105">It should be understood that this same socket has a role in the other plane, but this is not mentioned in order to keep the references short.</span></span> <span data-ttu-id="87c21-106">Ad esempio, un riferimento a un \_ socket radice c può fare riferimento a una radice c \_ /d \_ o a un \_ socket foglia radice c/d \_ .</span><span class="sxs-lookup"><span data-stu-id="87c21-106">For example a reference to a c\_root socket could refer to either a c\_root/d\_root or a c\_root/d\_leaf socket.</span></span>

<span data-ttu-id="87c21-107">Negli schemi del piano di controllo rooted i nuovi nodi foglia vengono aggiunti a una sessione multipoint in uno o in due modi diversi.</span><span class="sxs-lookup"><span data-stu-id="87c21-107">In rooted control plane schemes, new leaf nodes are added to a multipoint session in one or both of two different ways.</span></span> <span data-ttu-id="87c21-108">Nel primo metodo, la radice USA [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) per avviare una connessione con un nodo foglia e invitarla a diventare un partecipante.</span><span class="sxs-lookup"><span data-stu-id="87c21-108">In the first method, the root uses [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) to initiate a connection with a leaf node and invite it to become a participant.</span></span> <span data-ttu-id="87c21-109">Sul nodo foglia, l'applicazione peer deve avere creato un \_ socket foglia c e usato [**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85)) per impostarlo in modalità di ascolto.</span><span class="sxs-lookup"><span data-stu-id="87c21-109">On the leaf node, the peer application must have created a c\_leaf socket and used [**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85)) to set it into listen mode.</span></span> <span data-ttu-id="87c21-110">Il nodo foglia riceverà un' \_ indicazione di accettazione FD quando viene invitato per partecipare alla sessione e segnala la volontà di partecipare chiamando [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span><span class="sxs-lookup"><span data-stu-id="87c21-110">The leaf node will receive an FD\_ACCEPT indication when invited to join the session, and signals its willingness to join by calling [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span></span> <span data-ttu-id="87c21-111">\_Quando l'operazione di join è stata completata, l'applicazione radice riceverà un'indicazione di connessione FD.</span><span class="sxs-lookup"><span data-stu-id="87c21-111">The root application will receive an FD\_CONNECT indication when the join operation has been completed.</span></span>

<span data-ttu-id="87c21-112">Nel secondo metodo, i ruoli sono essenzialmente invertiti.</span><span class="sxs-lookup"><span data-stu-id="87c21-112">In the second method, the roles are essentially reversed.</span></span> <span data-ttu-id="87c21-113">Il client radice crea un \_ socket radice c e lo imposta in modalità ascolto.</span><span class="sxs-lookup"><span data-stu-id="87c21-113">The root client creates a c\_root socket and sets it into listen mode.</span></span> <span data-ttu-id="87c21-114">Un nodo foglia che desidera partecipare alla sessione crea un \_ socket foglia c e USA [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) per avviare la connessione e richiedere l'ammissione.</span><span class="sxs-lookup"><span data-stu-id="87c21-114">A leaf node wishing to join the session creates a c\_leaf socket and uses [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) to initiate the connection and request admittance.</span></span> <span data-ttu-id="87c21-115">Il client radice riceve l' \_ accettazione FD quando arriva una richiesta di ammissione in ingresso e ammette il nodo foglia chiamando [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span><span class="sxs-lookup"><span data-stu-id="87c21-115">The root client receives FD\_ACCEPT when an incoming admittance request arrives, and admits the leaf node by calling [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span></span> <span data-ttu-id="87c21-116">Il nodo foglia riceve la \_ connessione FD quando è stata accettata.</span><span class="sxs-lookup"><span data-stu-id="87c21-116">The leaf node receives FD\_CONNECT when it has been admitted.</span></span>

<span data-ttu-id="87c21-117">In un piano di controllo non radice, in cui tutti i nodi sono \_ foglia c, viene usata la funzione [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) per avviare l'inclusione di un nodo in una sessione multipoint esistente.</span><span class="sxs-lookup"><span data-stu-id="87c21-117">In a nonrooted control plane, where all nodes are c\_leafs, the [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) function is used to initiate the inclusion of a node into an existing multipoint session.</span></span> <span data-ttu-id="87c21-118">\_Quando il join è stato completato e il descrittore di socket restituito è utilizzabile nella sessione MultiPoint, viene fornita un'indicazione di connessione FD.</span><span class="sxs-lookup"><span data-stu-id="87c21-118">An FD\_CONNECT indication is provided when the join has been completed and the returned socket descriptor is usable in the multipoint session.</span></span> <span data-ttu-id="87c21-119">Nel caso del multicast IP, questo corrisponderebbe all'opzione del socket di aggiunta dell'indirizzo IP \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="87c21-119">In the case of IP multicast, this would correspond to the IP\_ADD\_MEMBERSHIP socket option.</span></span>

<span data-ttu-id="87c21-120">Esistono, quindi, tre istanze in cui un client usa [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf):</span><span class="sxs-lookup"><span data-stu-id="87c21-120">There are, therefore, three instances where a client would use [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf):</span></span>

-   <span data-ttu-id="87c21-121">Fungere da radice multipoint e invitare una nuova foglia a partecipare alla sessione.</span><span class="sxs-lookup"><span data-stu-id="87c21-121">Acting as a multipoint root and inviting a new leaf to join the session.</span></span>
-   <span data-ttu-id="87c21-122">Fungendo da foglia che effettua una richiesta di ammissione a una sessione multipoint radice.</span><span class="sxs-lookup"><span data-stu-id="87c21-122">Acting as a leaf making an admittance request to a rooted multipoint session.</span></span>
-   <span data-ttu-id="87c21-123">Fungendo da foglia che cerca l'ammissione a una sessione MultiPoint non radice (ad esempio, multicast IP).</span><span class="sxs-lookup"><span data-stu-id="87c21-123">Acting as a leaf seeking admittance to a nonrooted multipoint session (for example, IP multicast.)</span></span>

 

 
