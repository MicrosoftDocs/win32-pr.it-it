---
description: Lo sviluppo di un'infrastruttura di rete di alto livello protetta è una priorità per la maggior parte degli sviluppatori di applicazioni di rete. Tuttavia, la sicurezza del socket viene spesso trascurata anche se è molto importante quando si considera una soluzione completamente sicura.
ms.assetid: b37a3e33-65ee-43b1-bc8b-3280db7ebee4
title: Utilizzo di SO_REUSEADDR e SO_EXCLUSIVEADDRUSE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aaa4024f031102cbd634c235bb39f4c7860e6c1d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103756998"
---
# <a name="using-so_reuseaddr-and-so_exclusiveaddruse"></a><span data-ttu-id="d1077-104">Con \_ REUSEADDR e \_ EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-104">Using SO\_REUSEADDR and SO\_EXCLUSIVEADDRUSE</span></span>

<span data-ttu-id="d1077-105">Lo sviluppo di un'infrastruttura di rete di alto livello protetta è una priorità per la maggior parte degli sviluppatori di applicazioni di rete.</span><span class="sxs-lookup"><span data-stu-id="d1077-105">Developing a secure high-level network infrastructure is a priority for most network application developers.</span></span> <span data-ttu-id="d1077-106">Tuttavia, la sicurezza del socket viene spesso trascurata anche se è molto importante quando si considera una soluzione completamente sicura.</span><span class="sxs-lookup"><span data-stu-id="d1077-106">However, socket security is often overlooked despite being very critical when considering a fully secure solution.</span></span> <span data-ttu-id="d1077-107">La sicurezza dei socket, in particolare, gestisce i processi che si associano alla stessa porta precedentemente associata da un altro processo dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d1077-107">Socket security, specifically, deals with processes that bind to the same port previously bound by another application process.</span></span> <span data-ttu-id="d1077-108">In passato era possibile che un'applicazione di rete "Hijack" la porta di un'altra applicazione, causando un attacco di tipo Denial of Service o un furto di dati.</span><span class="sxs-lookup"><span data-stu-id="d1077-108">In the past, it was possible for a network application to "hijack" the port of another application, which could easily lead to a "denial of service" attack or data theft.</span></span>

<span data-ttu-id="d1077-109">In generale, la sicurezza del socket si applica ai processi sul lato server.</span><span class="sxs-lookup"><span data-stu-id="d1077-109">In general, socket security applies to server-side processes.</span></span> <span data-ttu-id="d1077-110">In particolare, la sicurezza del socket si applica a qualsiasi applicazione di rete che accetta connessioni e riceve il traffico del datagramma IP.</span><span class="sxs-lookup"><span data-stu-id="d1077-110">More specifically, socket security applies to any network application that accepts connections and receives IP datagram traffic.</span></span> <span data-ttu-id="d1077-111">Queste applicazioni in genere si associano a una porta nota e sono destinazioni comuni per il codice di rete dannoso.</span><span class="sxs-lookup"><span data-stu-id="d1077-111">These applications typically bind to a well-known port and are common targets for malicious network code.</span></span>

<span data-ttu-id="d1077-112">È meno probabile che le applicazioni client siano le destinazioni di tali attacchi, non perché sono meno vulnerabili, ma poiché la maggior parte dei client si associa a porte locali "effimere" invece che a porte "Service" statiche.</span><span class="sxs-lookup"><span data-stu-id="d1077-112">Client applications are less likely to be the targets of such attacks — not because they are less susceptible, but because most clients bind to "ephemeral" local ports rather than static "service" ports.</span></span> <span data-ttu-id="d1077-113">Le applicazioni di rete client devono sempre essere associate a porte temporanee (specificando la porta 0 nella struttura [**sockaddr**](sockaddr-2.md) a cui punta il parametro *Name* quando si chiama la funzione di [**Binding**](/windows/win32/api/winsock/nf-winsock-bind) ) a meno che non esista un motivo architetturale interessante per non farlo.</span><span class="sxs-lookup"><span data-stu-id="d1077-113">Client network applications should always bind to ephemeral ports (by specifying port 0 in the [**SOCKADDR**](sockaddr-2.md) structure pointed to by the *name* parameter when calling the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) function) unless there is a compelling architectural reason not to.</span></span> <span data-ttu-id="d1077-114">Le porte locali effimere sono costituite da porte di dimensioni maggiori della porta 49151.</span><span class="sxs-lookup"><span data-stu-id="d1077-114">The ephemeral local ports consist of ports greater than port 49151.</span></span> <span data-ttu-id="d1077-115">La maggior parte delle applicazioni server per i servizi dedicati è associata a una porta riservata nota che è minore o uguale alla porta 49151.</span><span class="sxs-lookup"><span data-stu-id="d1077-115">Most server applications for dedicated services bind to a well-known reserved port that is less than or equal to port 49151.</span></span> <span data-ttu-id="d1077-116">Per la maggior parte delle applicazioni, pertanto, non esiste in genere un conflitto per le richieste di binding tra applicazioni client e server.</span><span class="sxs-lookup"><span data-stu-id="d1077-116">So for most applications, there is not usually a conflict for bind requests between client and server applications.</span></span>

<span data-ttu-id="d1077-117">In questa sezione viene descritto il livello di sicurezza predefinito per le varie piattaforme Microsoft Windows e il modo in cui le opzioni socket specifiche **\_ REUSEADDR** e [così \_ EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) influiscono sulla sicurezza delle applicazioni di rete.</span><span class="sxs-lookup"><span data-stu-id="d1077-117">This section describes the default level of security on various Microsoft Windows platforms and how the specific socket options **SO\_REUSEADDR** and [SO\_EXCLUSIVEADDRUSE](so-exclusiveaddruse.md) impact and affect network application security.</span></span> <span data-ttu-id="d1077-118">Una funzionalità aggiuntiva denominata sicurezza avanzata del socket è disponibile in Windows Server 2003 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="d1077-118">An additional feature called enhanced socket security is available on Windows Server 2003 and later.</span></span> <span data-ttu-id="d1077-119">La disponibilità di queste opzioni di socket e la protezione avanzata dei socket variano in base alle versioni dei sistemi operativi Microsoft, come illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="d1077-119">The availability of these socket options and enhanced socket security varies across versions of Microsoft operating systems, as shown in the table below.</span></span>

| <span data-ttu-id="d1077-120">Piattaforma</span><span class="sxs-lookup"><span data-stu-id="d1077-120">Platform</span></span>            | <span data-ttu-id="d1077-121">\_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-121">SO\_REUSEADDR</span></span> | <span data-ttu-id="d1077-122">\_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-122">SO\_EXCLUSIVEADDRUSE</span></span>                  | <span data-ttu-id="d1077-123">Sicurezza avanzata del socket</span><span class="sxs-lookup"><span data-stu-id="d1077-123">Enhanced socket security</span></span> |
|---------------------|---------------|---------------------------------------|--------------------------|
| <span data-ttu-id="d1077-124">Windows 95</span><span class="sxs-lookup"><span data-stu-id="d1077-124">Windows 95</span></span>          | <span data-ttu-id="d1077-125">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-125">Available</span></span>     | <span data-ttu-id="d1077-126">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-126">Not Available</span></span>                         | <span data-ttu-id="d1077-127">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-127">Not Available</span></span>            |
| <span data-ttu-id="d1077-128">Windows 98</span><span class="sxs-lookup"><span data-stu-id="d1077-128">Windows 98</span></span>          | <span data-ttu-id="d1077-129">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-129">Available</span></span>     | <span data-ttu-id="d1077-130">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-130">Not Available</span></span>                         | <span data-ttu-id="d1077-131">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-131">Not Available</span></span>            |
| <span data-ttu-id="d1077-132">Windows me</span><span class="sxs-lookup"><span data-stu-id="d1077-132">Windows Me</span></span>          | <span data-ttu-id="d1077-133">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-133">Available</span></span>     | <span data-ttu-id="d1077-134">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-134">Not Available</span></span>                         | <span data-ttu-id="d1077-135">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-135">Not Available</span></span>            |
| <span data-ttu-id="d1077-136">Windows NT 4.0</span><span class="sxs-lookup"><span data-stu-id="d1077-136">Windows NT 4.0</span></span>      | <span data-ttu-id="d1077-137">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-137">Available</span></span>     | <span data-ttu-id="d1077-138">Disponibile in Service Pack 4 e versioni successive</span><span class="sxs-lookup"><span data-stu-id="d1077-138">Available in Service Pack 4 and later</span></span> | <span data-ttu-id="d1077-139">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-139">Not Available</span></span>            |
| <span data-ttu-id="d1077-140">Windows 2000</span><span class="sxs-lookup"><span data-stu-id="d1077-140">Windows 2000</span></span>        | <span data-ttu-id="d1077-141">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-141">Available</span></span>     | <span data-ttu-id="d1077-142">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-142">Available</span></span>                             | <span data-ttu-id="d1077-143">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-143">Not Available</span></span>            |
| <span data-ttu-id="d1077-144">Windows XP</span><span class="sxs-lookup"><span data-stu-id="d1077-144">Windows XP</span></span>          | <span data-ttu-id="d1077-145">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-145">Available</span></span>     | <span data-ttu-id="d1077-146">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-146">Available</span></span>                             | <span data-ttu-id="d1077-147">Non disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-147">Not Available</span></span>            |
| <span data-ttu-id="d1077-148">Windows Server 2003</span><span class="sxs-lookup"><span data-stu-id="d1077-148">Windows Server 2003</span></span> | <span data-ttu-id="d1077-149">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-149">Available</span></span>     | <span data-ttu-id="d1077-150">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-150">Available</span></span>                             | <span data-ttu-id="d1077-151">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-151">Available</span></span>                |
| <span data-ttu-id="d1077-152">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="d1077-152">Windows Vista</span></span>       | <span data-ttu-id="d1077-153">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-153">Available</span></span>     | <span data-ttu-id="d1077-154">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-154">Available</span></span>                             | <span data-ttu-id="d1077-155">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-155">Available</span></span>                |
| <span data-ttu-id="d1077-156">Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="d1077-156">Windows Server 2008</span></span> | <span data-ttu-id="d1077-157">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-157">Available</span></span>     | <span data-ttu-id="d1077-158">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-158">Available</span></span>                             | <span data-ttu-id="d1077-159">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-159">Available</span></span>                |
| <span data-ttu-id="d1077-160">Windows 7and più recente</span><span class="sxs-lookup"><span data-stu-id="d1077-160">Windows 7and newer</span></span>  | <span data-ttu-id="d1077-161">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-161">Available</span></span>     | <span data-ttu-id="d1077-162">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-162">Available</span></span>                             | <span data-ttu-id="d1077-163">Disponibile</span><span class="sxs-lookup"><span data-stu-id="d1077-163">Available</span></span>                |

## <a name="using-so_reuseaddr"></a><span data-ttu-id="d1077-164">Uso di \_ REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-164">Using SO\_REUSEADDR</span></span>

<span data-ttu-id="d1077-165">L' **opzione \_ REUSEADDR** socket consente a un socket di associarsi forzatamente a una porta usata da un altro socket.</span><span class="sxs-lookup"><span data-stu-id="d1077-165">The **SO\_REUSEADDR** socket option allows a socket to forcibly bind to a port in use by another socket.</span></span> <span data-ttu-id="d1077-166">Il secondo socket chiama [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) con il parametro *optname* impostato su **\_ REUSEADDR** e il parametro *optVal* impostato su un valore booleano **true** prima di chiamare [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) sulla stessa porta del socket originale.</span><span class="sxs-lookup"><span data-stu-id="d1077-166">The second socket calls [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) with the *optname* parameter set to **SO\_REUSEADDR** and the *optval* parameter set to a boolean value of **TRUE** before calling [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the same port as the original socket.</span></span> <span data-ttu-id="d1077-167">Una volta che il secondo socket è stato associato correttamente, il comportamento per tutti i socket associati a tale porta è indeterminato.</span><span class="sxs-lookup"><span data-stu-id="d1077-167">Once the second socket has successfully bound, the behavior for all sockets bound to that port is indeterminate.</span></span> <span data-ttu-id="d1077-168">Se, ad esempio, tutti i socket sulla stessa porta forniscono il servizio TCP, non è possibile garantire che le richieste di connessione TCP in ingresso sulla porta siano gestite dal socket corretto. il comportamento è non deterministico.</span><span class="sxs-lookup"><span data-stu-id="d1077-168">For example, if all of the sockets on the same port provide TCP service, any incoming TCP connection requests over the port cannot be guaranteed to be handled by the correct socket — the behavior is non-deterministic.</span></span> <span data-ttu-id="d1077-169">Un programma dannoso può utilizzare **così \_ REUSEADDR** per associare in modo forzato i socket già in uso per i servizi del protocollo di rete standard per negare l'accesso a tali servizi.</span><span class="sxs-lookup"><span data-stu-id="d1077-169">A malicious program can use **SO\_REUSEADDR** to forcibly bind sockets already in use for standard network protocol services in order to deny access to those service.</span></span> <span data-ttu-id="d1077-170">Per usare questa opzione non sono necessari privilegi speciali.</span><span class="sxs-lookup"><span data-stu-id="d1077-170">No special privileges are required to use this option.</span></span>

<span data-ttu-id="d1077-171">Se un'applicazione client è associata a una porta prima che un'applicazione server sia in grado di eseguire il binding alla stessa porta, potrebbero verificarsi dei problemi.</span><span class="sxs-lookup"><span data-stu-id="d1077-171">If a client application binds to a port before a server application is able to bind to the same port, then problems may result.</span></span> <span data-ttu-id="d1077-172">Se l'applicazione server si associa forzatamente utilizzando l'opzione **\_ REUSEADDR** socket, alla stessa porta, il comportamento per tutti i socket associati a tale porta è indeterminato.</span><span class="sxs-lookup"><span data-stu-id="d1077-172">If the server application forcibly binds using the **SO\_REUSEADDR** socket option to the same port, then the behavior for all sockets bound to that port is indeterminate.</span></span>

<span data-ttu-id="d1077-173">L'eccezione a questo comportamento non deterministico è socket multicast.</span><span class="sxs-lookup"><span data-stu-id="d1077-173">The exception to this non-deterministic behavior is multicast sockets.</span></span> <span data-ttu-id="d1077-174">Se due socket sono associati alla stessa interfaccia e alla stessa porta e sono membri dello stesso gruppo multicast, i dati verranno recapitati a entrambi i socket, anziché a una scelta arbitraria.</span><span class="sxs-lookup"><span data-stu-id="d1077-174">If two sockets are bound to the same interface and port and are members of the same multicast group, data will be delivered to both sockets, rather than an arbitrarily chosen one.</span></span>

## <a name="using-so_exclusiveaddruse"></a><span data-ttu-id="d1077-175">Uso di \_ EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-175">Using SO\_EXCLUSIVEADDRUSE</span></span>

<span data-ttu-id="d1077-176">Prima che venisse introdotta l'opzione di socket **\_ EXCLUSIVEADDRUSE** , era possibile che uno sviluppatore di applicazioni di rete potesse impedire a un programma dannoso di associarsi alla porta in cui l'applicazione di rete aveva i propri socket associati.</span><span class="sxs-lookup"><span data-stu-id="d1077-176">Before the **SO\_EXCLUSIVEADDRUSE** socket option was introduced, there was very little a network application developer could do to prevent a malicious program from binding to the port on which the network application had its own sockets bound.</span></span> <span data-ttu-id="d1077-177">Per risolvere questo problema di sicurezza, Windows Sockets ha introdotto l'opzione **\_ EXCLUSIVEADDRUSE** socket, che è stata resa disponibile in Windows NT 4,0 con Service Pack 4 (SP4) e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="d1077-177">In order to address this security issue, Windows Sockets introduced the **SO\_EXCLUSIVEADDRUSE** socket option, which became available on Windows NT 4.0 with Service Pack 4 (SP4) and later.</span></span>

<span data-ttu-id="d1077-178">L'opzione di socket **\_ EXCLUSIVEADDRUSE** può essere utilizzata solo dai membri del gruppo di sicurezza Administrators in Windows XP e versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="d1077-178">The **SO\_EXCLUSIVEADDRUSE** socket option can only be used by members of the Administrators security group on Windows XP and earlier.</span></span> <span data-ttu-id="d1077-179">I motivi per cui questo requisito è stato modificato in Windows Server 2003 e versioni successive sono descritti più avanti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="d1077-179">The reasons why this requirement was changed on Windows Server 2003 and later are discussed later in the article.</span></span>

<span data-ttu-id="d1077-180">L' **opzione so \_ EXCLUSIVEADDRUSE** viene impostata chiamando la funzione [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) con il parametro *optname* impostato su **\_ EXCLUSIVEADDRUSE** e il parametro *optVal* impostato su **true** prima che il socket venga associato.</span><span class="sxs-lookup"><span data-stu-id="d1077-180">The **SO\_EXCLUSIVEADDRUSE** option is set by calling the [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) function with the *optname* parameter set to **SO\_EXCLUSIVEADDRUSE** and the *optval* parameter set to a boolean value of **TRUE** before the socket is bound.</span></span> <span data-ttu-id="d1077-181">Una volta impostata l'opzione, il comportamento delle chiamate di [**Binding**](/windows/win32/api/winsock/nf-winsock-bind) successive differisce a seconda dell'indirizzo di rete specificato in ogni chiamata di **Binding** .</span><span class="sxs-lookup"><span data-stu-id="d1077-181">After the option is set, the behavior of subsequent [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls differs depending on the network address specified in each **bind** call.</span></span>

<span data-ttu-id="d1077-182">La tabella seguente descrive il comportamento che si verifica in Windows XP e versioni precedenti quando un secondo socket tenta di eseguire l'associazione a un indirizzo precedentemente associato da un primo socket usando opzioni socket specifiche.</span><span class="sxs-lookup"><span data-stu-id="d1077-182">The table below describes the behavior that occurs in Windows XP and earlier when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options.</span></span>

> [!NOTE]  
> <span data-ttu-id="d1077-183">Nella tabella seguente, "wildcard" indica l'indirizzo jolly per il protocollo specificato (ad esempio "0.0.0.0" per IPv4 e "::" per IPv6).</span><span class="sxs-lookup"><span data-stu-id="d1077-183">In the table below, "wildcard" denotes the wildcard address for the given protocol (such as "0.0.0.0" for IPv4 and "::" for IPv6).</span></span> <span data-ttu-id="d1077-184">"Specific" indica che a un indirizzo IP specifico è stata assegnata un'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="d1077-184">"Specific" denotes a specific IP address assigned an interface.</span></span> <span data-ttu-id="d1077-185">Le celle della tabella indicano se l'associazione ha avuto esito positivo ("operazione riuscita") o se viene restituito un errore ("INUSE" per l'errore [WSAEADDRINUSE](windows-sockets-error-codes-2.md) ; "Accesso" per l'errore [WSAEACCES](windows-sockets-error-codes-2.md) .</span><span class="sxs-lookup"><span data-stu-id="d1077-185">The table cells indicate whether or not the bind is successful ("Success") or an error is returned ("INUSE" for the [WSAEADDRINUSE](windows-sockets-error-codes-2.md) error; "ACCESS" for the [WSAEACCES](windows-sockets-error-codes-2.md) error).</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="d1077-186">Prima chiamata di <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>Binding</strong></a></span><span class="sxs-lookup"><span data-stu-id="d1077-186">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="d1077-187">Seconda chiamata di <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>Binding</strong></a></span><span class="sxs-lookup"><span data-stu-id="d1077-187">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-188">Predefinito</span><span class="sxs-lookup"><span data-stu-id="d1077-188">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-189">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-189">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-190">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-190">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-191">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-191">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-192">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-192">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-193">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-193">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-194">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-194">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-195">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-195">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-196">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-196">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-197">Predefinito</span><span class="sxs-lookup"><span data-stu-id="d1077-197">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-198">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-198">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-199">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-199">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-200">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-200">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-201">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-201">Success</span></span></td>
        <td><span data-ttu-id="d1077-202">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-202">Success</span></span></td>
        <td><span data-ttu-id="d1077-203">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-203">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-204">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-204">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-205">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-205">Specific</span></span></td>
        <td><span data-ttu-id="d1077-206">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-206">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-207">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-207">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-208">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-208">Success</span></span></td>
        <td><span data-ttu-id="d1077-209">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-209">Success</span></span></td>
        <td><span data-ttu-id="d1077-210">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-210">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-211">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-211">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-212">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-212">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-213">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-213">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-214">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-214">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-215">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-215">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-216">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-216">Success</span></span></td>
        <td><span data-ttu-id="d1077-217">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-217">Success</span></span></td>
        <td><span data-ttu-id="d1077-218">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-218">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-219">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-219">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-220">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-220">Specific</span></span></td>
        <td><span data-ttu-id="d1077-221">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-221">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-222">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-222">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-223">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-223">Success</span></span></td>
        <td><span data-ttu-id="d1077-224">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-224">Success</span></span></td>
        <td><span data-ttu-id="d1077-225">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-225">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-226">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-226">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-227">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-227">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-228">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-228">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-229">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-229">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-230">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-230">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-231">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-231">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-232">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-232">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-233">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-233">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-234">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-234">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-235">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-235">Specific</span></span></td>
        <td><span data-ttu-id="d1077-236">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-236">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-237">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-237">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-238">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-238">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-239">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-239">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-240">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-240">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-241">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-241">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="d1077-242">Quando due socket sono associati allo stesso numero di porta ma su interfacce esplicite diverse, non si verifica alcun conflitto.</span><span class="sxs-lookup"><span data-stu-id="d1077-242">When two sockets are bound to the same port number but on different explicit interfaces, there is no conflict.</span></span> <span data-ttu-id="d1077-243">Ad esempio, nel caso in cui un computer disponga di due interfacce IP, 10.0.0.1 e 10.99.99.99, se la prima chiamata a [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) si trova in 10.0.0.1 con la porta impostata su 5150 e **quindi \_ EXCLUSIVEADDRUSE** specificato, una seconda chiamata a **Bind** su 10.99.99.99 con la porta è impostata anche su 5150 e nessuna opzione specificata avrà esito positivo.</span><span class="sxs-lookup"><span data-stu-id="d1077-243">For example, in the case where a computer has two IP interfaces, 10.0.0.1 and 10.99.99.99, if the first call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) is on 10.0.0.1 with the port set to 5150 and **SO\_EXCLUSIVEADDRUSE** specified, then a second call to **bind** on 10.99.99.99 with the port also set to 5150 and no options specified will succeed.</span></span> <span data-ttu-id="d1077-244">Tuttavia, se il primo socket è associato all'indirizzo con caratteri jolly e alla porta 5150, eventuali chiamate di binding successive alla porta 5150 con tale set di **\_ EXCLUSIVEADDRUSE** avranno esito negativo con [WSAEADDRINUSE](windows-sockets-error-codes-2.md) o [WSAEACCES](windows-sockets-error-codes-2.md) restituito dall'operazione di **associazione** .</span><span class="sxs-lookup"><span data-stu-id="d1077-244">However, if the first socket is bound to the wildcard address and port 5150, then any subsequent bind call to port 5150 with **SO\_EXCLUSIVEADDRUSE** set will fail with either [WSAEADDRINUSE](windows-sockets-error-codes-2.md) or [WSAEACCES](windows-sockets-error-codes-2.md) returned by the **bind** operation.</span></span>

<span data-ttu-id="d1077-245">Nel caso in cui la prima chiamata a [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) imposta in **modo che \_ REUSEADDR** o nessuna opzione di socket, la seconda chiamata di **Binding** "dirotta" la porta e l'applicazione non sarà in grado di determinare quale dei due socket ha ricevuto pacchetti specifici inviati alla porta "condivisa".</span><span class="sxs-lookup"><span data-stu-id="d1077-245">In the case where the first call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) sets either **SO\_REUSEADDR** or no socket options at all, the second **bind** call will "hijack" the port and the application will be unable to determine which of the two sockets received specific packets sent to the "shared" port.</span></span>

<span data-ttu-id="d1077-246">Un'applicazione tipica che chiama la funzione [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) non alloca il socket associato per l'utilizzo esclusivo, a meno che l'opzione **\_ EXCLUSIVEADDRUSE** socket non venga chiamata sul socket prima della chiamata alla funzione di **Binding** .</span><span class="sxs-lookup"><span data-stu-id="d1077-246">A typical application that calls the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) function does not allocate the bound socket for exclusive use, unless the **SO\_EXCLUSIVEADDRUSE** socket option is called on the socket before the call to the **bind** function.</span></span> <span data-ttu-id="d1077-247">Se un'applicazione client si associa a una porta temporanea o a una porta specifica prima che un'applicazione server venga associata alla stessa porta, potrebbero verificarsi problemi.</span><span class="sxs-lookup"><span data-stu-id="d1077-247">If a client application binds to an ephemeral port or a specific port before a server application binds to the same port, then problems can result.</span></span> <span data-ttu-id="d1077-248">L'applicazione server è in grado di eseguire il binding forzato alla stessa porta utilizzando l'opzione **\_ REUSEADDR** socket sul socket prima di chiamare la funzione **Bind** , ma il comportamento per tutti i socket associati a tale porta è quindi indeterminato.</span><span class="sxs-lookup"><span data-stu-id="d1077-248">The server application can forcibly bind to the same port by using the **SO\_REUSEADDR** socket option on the socket before calling the **bind** function, but the behavior for all sockets bound to that port is then indeterminate.</span></span> <span data-ttu-id="d1077-249">Se l'applicazione server tenta di utilizzare l'opzione socket **\_ EXCLUSIVEADDRUSE** per l'utilizzo esclusivo della porta, la richiesta avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="d1077-249">If the server application tries to use the **SO\_EXCLUSIVEADDRUSE** socket option for exclusive use of the port, the request will fail.</span></span>

<span data-ttu-id="d1077-250">Viceversa, non è possibile riutilizzare un socket con il set **\_ EXCLUSIVEADDRUSE** , immediatamente dopo la chiusura del socket.</span><span class="sxs-lookup"><span data-stu-id="d1077-250">Conversely, a socket with the **SO\_EXCLUSIVEADDRUSE** set cannot necessarily be reused immediately after socket closure.</span></span> <span data-ttu-id="d1077-251">Se, ad esempio, un socket di ascolto con **\_ EXCLUSIVEADDRUSE** impostato accetta una connessione e viene successivamente chiuso, un altro socket (anche **con \_ EXCLUSIVEADDRUSE**) non può essere associato alla stessa porta del primo socket fino a quando la connessione originale non diventa inattiva.</span><span class="sxs-lookup"><span data-stu-id="d1077-251">For example, if a listening socket with **SO\_EXCLUSIVEADDRUSE** set accepts a connection and is then subsequently closed, another socket (also with **SO\_EXCLUSIVEADDRUSE**) cannot bind to the same port as the first socket until the original connection becomes inactive.</span></span>

<span data-ttu-id="d1077-252">Questo problema può diventare complicato perché il protocollo di trasporto sottostante potrebbe non terminare la connessione anche se il socket è stato chiuso.</span><span class="sxs-lookup"><span data-stu-id="d1077-252">This issue can become complicated because the underlying transport protocol may not terminate the connection even though the socket has been closed.</span></span> <span data-ttu-id="d1077-253">Anche dopo la chiusura del socket da parte dell'applicazione, il sistema deve trasmettere tutti i dati memorizzati nel buffer, inviare un messaggio di disconnessione normale al peer e attendere un messaggio di disconnessione normale corrispondente dal peer.</span><span class="sxs-lookup"><span data-stu-id="d1077-253">Even after the socket has been closed by the application, the system must transmit any buffered data, send a graceful disconnect message to the peer, and wait for a corresponding graceful disconnect message from the peer.</span></span> <span data-ttu-id="d1077-254">È possibile che il protocollo di trasporto sottostante possa non rilasciare mai la connessione; ad esempio, il peer che partecipa alla connessione originale potrebbe annunciare una finestra di dimensioni pari a zero o un'altra forma di configurazione di "attacco".</span><span class="sxs-lookup"><span data-stu-id="d1077-254">It is possible that the underlying transport protocol might never release the connection; for example, the peer participating in the original connection might advertise a zero-size window, or some other form of "attack" configuration.</span></span> <span data-ttu-id="d1077-255">In tal caso, la connessione client rimane in uno stato attivo nonostante la richiesta di chiusura, poiché i dati non riconosciuti rimangono nel buffer.</span><span class="sxs-lookup"><span data-stu-id="d1077-255">In such a case, the client connection remains in an active state despite the request to close it, since unacknowledged data remains in the buffer.</span></span>

<span data-ttu-id="d1077-256">Per evitare questa situazione, le applicazioni di rete devono garantire un arresto normale chiamando [**Shutdown**](/windows/win32/api/winsock/nf-winsock-shutdown) con il \_ flag di invio SD impostato e quindi attendere il completamento di un ciclo [**ricezione**](/windows/win32/api/winsock/nf-winsock-recv) fino a quando non vengono restituiti zero byte sulla connessione.</span><span class="sxs-lookup"><span data-stu-id="d1077-256">To avoid this situation, network applications should ensure a graceful shutdown by calling [**shutdown**](/windows/win32/api/winsock/nf-winsock-shutdown) with the SD\_SEND flag set, and then wait in a [**recv**](/windows/win32/api/winsock/nf-winsock-recv) loop until zero bytes are returned over the connection.</span></span> <span data-ttu-id="d1077-257">In questo modo si garantisce che tutti i dati vengano ricevuti dal peer e che confermino con il peer che ha ricevuto tutti i dati trasmessi, oltre a evitare il problema di riutilizzo delle porte menzionato.</span><span class="sxs-lookup"><span data-stu-id="d1077-257">This guarantees that all data is received by the peer and likewise confirms with the peer that it has received all of the transmitted data, as well as avoiding the aforementioned port reuse issue.</span></span>

<span data-ttu-id="d1077-258">\_Per impedire che la porta passi a uno stato di attesa "attivo", è possibile impostare l'opzione per il socket Linger, in modo che possa causare effetti desiderati, ad esempio la reimpostazione delle connessioni.</span><span class="sxs-lookup"><span data-stu-id="d1077-258">The SO\_LINGER socket option may be set on a socket to prevent the port from transitioning to an "active" wait state; however, this is discouraged as it can lead to desired effects, such as reset connections.</span></span> <span data-ttu-id="d1077-259">Se, ad esempio, i dati vengono ricevuti dal peer ma non vengono riconosciuti da tale peer e il computer locale chiude il socket con l' \_ impostazione Linger, la connessione tra i due computer viene reimpostata e i dati non riconosciuti vengono rimossi dal peer.</span><span class="sxs-lookup"><span data-stu-id="d1077-259">For example, if data is received by the peer but remains unacknowledged by it, and the local computer closes the socket with SO\_LINGER set on it, the connection between the two computers is reset and the unacknowledged data discarded by the peer.</span></span> <span data-ttu-id="d1077-260">La scelta di un intervallo di tempo appropriato è difficile perché un valore di timeout più basso comporta spesso connessioni interrotte improvvisamente, mentre i valori di timeout maggiori lasciano il sistema vulnerabile agli attacchi Denial of Service (stabilendo molte connessioni e bloccando potenzialmente i thread dell'applicazione).</span><span class="sxs-lookup"><span data-stu-id="d1077-260">Picking a suitable time to linger is difficult as a smaller timeout value often results in suddenly aborted connections, whereas larger timeout values leave the system vulnerable to denial-of-service attacks (by establishing many connections and potentially stalling/blocking application threads).</span></span> <span data-ttu-id="d1077-261">La chiusura di un socket con un valore di timeout di attesa diverso da zero può causare il blocco della chiamata [**chiamata closesocket**](/windows/win32/api/winsock/nf-winsock-closesocket) .</span><span class="sxs-lookup"><span data-stu-id="d1077-261">Closing a socket that has a nonzero linger timeout value may also cause the [**closesocket**](/windows/win32/api/winsock/nf-winsock-closesocket) call to block.</span></span>

## <a name="enhanced-socket-security"></a><span data-ttu-id="d1077-262">Sicurezza avanzata del socket</span><span class="sxs-lookup"><span data-stu-id="d1077-262">Enhanced Socket Security</span></span>

<span data-ttu-id="d1077-263">È stata aggiunta la protezione avanzata dei socket con la versione di Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="d1077-263">Enhanced socket security was added with the release of Windows Server 2003.</span></span> <span data-ttu-id="d1077-264">Nelle versioni precedenti del sistema operativo di Microsoft Server la sicurezza del socket predefinita consentiva facilmente ai processi di eseguire il Hijack delle porte da applicazioni non sospette.</span><span class="sxs-lookup"><span data-stu-id="d1077-264">In previous Microsoft server operating system releases, the default socket security easily allowed processes to hijack ports from unsuspecting applications.</span></span> <span data-ttu-id="d1077-265">Per impostazione predefinita, in Windows Server 2003 i socket non sono in uno stato condivisibile.</span><span class="sxs-lookup"><span data-stu-id="d1077-265">In Windows Server 2003, sockets are not in a sharable state by default.</span></span> <span data-ttu-id="d1077-266">Se quindi un'applicazione vuole consentire ad altri processi di riutilizzare una porta a cui è già associato un socket, deve abilitarla in modo specifico.</span><span class="sxs-lookup"><span data-stu-id="d1077-266">Therefore, if an application wants to allow other processes to reuse a port on which a socket is already bound, it must specifically enable it.</span></span> <span data-ttu-id="d1077-267">In tal caso, il primo socket per chiamare [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) sulla porta deve avere **\_ REUSEADDR** impostato sul socket.</span><span class="sxs-lookup"><span data-stu-id="d1077-267">If that is the case, the first socket to call [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the port must have **SO\_REUSEADDR** set on the socket.</span></span> <span data-ttu-id="d1077-268">L'unica eccezione a questo caso si verifica quando la seconda chiamata di **Binding** viene eseguita dallo stesso account utente che ha eseguito la chiamata originale per l' **associazione**.</span><span class="sxs-lookup"><span data-stu-id="d1077-268">The only exception to this case occurs when the second **bind** call is performed by the same user account that made the original call to **bind**.</span></span> <span data-ttu-id="d1077-269">Questa eccezione esiste esclusivamente per garantire la compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="d1077-269">This exception exists solely to provide backward compatibility.</span></span>

<span data-ttu-id="d1077-270">La tabella seguente descrive il comportamento che si verifica in Windows Server 2003 e nei sistemi operativi successivi quando un secondo socket tenta di eseguire l'associazione a un indirizzo precedentemente associato da un primo socket usando opzioni socket specifiche.</span><span class="sxs-lookup"><span data-stu-id="d1077-270">The table below describes the behavior that occurs in Windows Server 2003 and later operating systems when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options.</span></span>

> [!NOTE]
> <span data-ttu-id="d1077-271">Nella tabella seguente, "wildcard" indica l'indirizzo jolly per il protocollo specificato (ad esempio "0.0.0.0" per IPv4 e "::" per IPv6).</span><span class="sxs-lookup"><span data-stu-id="d1077-271">In the table below, "wildcard" denotes the wildcard address for the given protocol (such as "0.0.0.0" for IPv4 and "::" for IPv6).</span></span> <span data-ttu-id="d1077-272">"Specific" indica che a un indirizzo IP specifico è stata assegnata un'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="d1077-272">"Specific" denotes a specific IP address assigned an interface.</span></span> <span data-ttu-id="d1077-273">Le celle della tabella indicano se l'associazione ha avuto esito positivo ("operazione riuscita") o se è stato restituito l'errore ("INUSE" per l'errore [WSAEADDRINUSE](windows-sockets-error-codes-2.md) ; "Accesso" per l'errore [WSAEACCES](windows-sockets-error-codes-2.md) .</span><span class="sxs-lookup"><span data-stu-id="d1077-273">The table cells indicate whether or not the bind is successful ("Success") or the error returned ("INUSE" for the [WSAEADDRINUSE](windows-sockets-error-codes-2.md) error; "ACCESS" for the [WSAEACCES](windows-sockets-error-codes-2.md) error).</span></span>
>
> <span data-ttu-id="d1077-274">Si noti inoltre che in questa tabella specifica entrambe le chiamate di [**Binding**](/windows/win32/api/winsock/nf-winsock-bind) vengono eseguite con lo stesso account utente.</span><span class="sxs-lookup"><span data-stu-id="d1077-274">Also note that in this specific table, both [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls are made under the same user account.</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="d1077-275">Prima chiamata di <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>Binding</strong></a></span><span class="sxs-lookup"><span data-stu-id="d1077-275">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="d1077-276">Seconda chiamata di <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>Binding</strong></a></span><span class="sxs-lookup"><span data-stu-id="d1077-276">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-277">Predefinito</span><span class="sxs-lookup"><span data-stu-id="d1077-277">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-278">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-278">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-279">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-279">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-280">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-280">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-281">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-281">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-282">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-282">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-283">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-283">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-284">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-284">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-285">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-285">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-286">Predefinito</span><span class="sxs-lookup"><span data-stu-id="d1077-286">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-287">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-287">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-288">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-288">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-289">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-289">Success</span></span></td>
        <td><span data-ttu-id="d1077-290">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-290">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-291">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-291">Success</span></span></td>
        <td><span data-ttu-id="d1077-292">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-292">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-293">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-293">Success</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-294">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-294">Specific</span></span></td>
        <td><span data-ttu-id="d1077-295">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-295">Success</span></span></td>
        <td><span data-ttu-id="d1077-296">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-296">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-297">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-297">Success</span></span></td>
        <td><span data-ttu-id="d1077-298">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-298">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-299">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-299">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-300">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-300">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-301">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-301">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-302">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-302">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-303">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-303">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-304">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-304">Success</span></span></td>
        <td><span data-ttu-id="d1077-305">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-305">Success</span></span></td>
        <td><span data-ttu-id="d1077-306">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-306">Success</span></span></td>
        <td><span data-ttu-id="d1077-307">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-307">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-308">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-308">Success</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-309">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-309">Specific</span></span></td>
        <td><span data-ttu-id="d1077-310">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-310">Success</span></span></td>
        <td><span data-ttu-id="d1077-311">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-311">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-312">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-312">Success</span></span></td>
        <td><span data-ttu-id="d1077-313">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-313">Success</span></span></td>
        <td><span data-ttu-id="d1077-314">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-314">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-315">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-315">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-316">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-316">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-317">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-317">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-318">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-318">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-319">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-319">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-320">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-320">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-321">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-321">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-322">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-322">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-323">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-323">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-324">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-324">Specific</span></span></td>
        <td><span data-ttu-id="d1077-325">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-325">Success</span></span></td>
        <td><span data-ttu-id="d1077-326">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-326">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-327">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-327">Success</span></span></td>
        <td><span data-ttu-id="d1077-328">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-328">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-329">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-329">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-330">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-330">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="d1077-331">Alcune voci della tabella sopra la spiegazione Merit.</span><span class="sxs-lookup"><span data-stu-id="d1077-331">A few entries in the table above merit explanation.</span></span>

<span data-ttu-id="d1077-332">Se, ad esempio, il primo chiamante **imposta \_ EXCLUSIVEADDRUSE** su un indirizzo specifico e il secondo chiamante tenta di chiamare [**Bind**](/windows/win32/api/winsock/nf-winsock-bind) con un indirizzo jolly sulla stessa porta, la seconda chiamata di **Binding** avrà esito positivo.</span><span class="sxs-lookup"><span data-stu-id="d1077-332">For example, if the first caller sets **SO\_EXCLUSIVEADDRUSE** on a specific address, and second caller attempts to call [**bind**](/windows/win32/api/winsock/nf-winsock-bind) with a wildcard address on the same port, the second **bind** call will succeed.</span></span> <span data-ttu-id="d1077-333">In questo caso particolare, il secondo chiamante è associato a tutte le interfacce ad eccezione dell'indirizzo specifico a cui è associato il primo chiamante.</span><span class="sxs-lookup"><span data-stu-id="d1077-333">In this particular case, the second caller is bound to all interfaces except the specific address to which the first caller is bound.</span></span> <span data-ttu-id="d1077-334">Si noti che il contrario di questo caso non è vero: se il primo chiamante **imposta \_ EXCLUSIVEADDRUSE** e chiama **Bind** con il flag jolly, il secondo chiamante non è in grado di chiamare **Bind** con la stessa porta.</span><span class="sxs-lookup"><span data-stu-id="d1077-334">Note that the reverse of this case is not true: if the first caller sets **SO\_EXCLUSIVEADDRUSE** and calls **bind** with the wildcard flag, the second caller is not able to call **bind** with the same port.</span></span>

<span data-ttu-id="d1077-335">Il comportamento di associazione del socket cambia quando le chiamate di binding del socket vengono effettuate con account utente diversi.</span><span class="sxs-lookup"><span data-stu-id="d1077-335">The socket binding behavior changes when the socket bind calls are made under different user accounts.</span></span> <span data-ttu-id="d1077-336">La tabella seguente specifica il comportamento che si verifica in Windows Server 2003 e nei sistemi operativi successivi quando un secondo socket tenta di eseguire l'associazione a un indirizzo precedentemente associato da un primo socket usando opzioni socket specifiche e un account utente diverso.</span><span class="sxs-lookup"><span data-stu-id="d1077-336">The table below specifies the behavior that occurs in Windows Server 2003 and later operating systems when a second socket attempts to bind to an address previously bound to by a first socket using specific socket options and a different user account.</span></span>

<table>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2" rowspan="3"><span data-ttu-id="d1077-337">Prima chiamata di <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>Binding</strong></a></span><span class="sxs-lookup"><span data-stu-id="d1077-337">First <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
        <td bgcolor="#C0C0C0" colspan="6"><span data-ttu-id="d1077-338">Seconda chiamata di <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>Binding</strong></a></span><span class="sxs-lookup"><span data-stu-id="d1077-338">Second <a href="/windows/win32/api/winsock/nf-winsock-bind"><strong>bind</strong></a> call</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-339">Predefinito</span><span class="sxs-lookup"><span data-stu-id="d1077-339">Default</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-340">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-340">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0" colspan="2"><span data-ttu-id="d1077-341">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-341">SO_EXCLUSIVEADDRUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-342">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-342">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-343">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-343">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-344">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-344">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-345">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-345">Specific</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-346">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-346">Wildcard</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-347">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-347">Specific</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-348">Predefinito</span><span class="sxs-lookup"><span data-stu-id="d1077-348">Default</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-349">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-349">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-350">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-350">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-351">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-351">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-352">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-352">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-353">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-353">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-354">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-354">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-355">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-355">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-356">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-356">Specific</span></span></td>
        <td><span data-ttu-id="d1077-357">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-357">Success</span></span></td>
        <td><span data-ttu-id="d1077-358">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-358">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-359">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-359">Success</span></span></td>
        <td><span data-ttu-id="d1077-360">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-360">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-361">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-361">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-362">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-362">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-363">SO_REUSEADDR</span><span class="sxs-lookup"><span data-stu-id="d1077-363">SO_REUSEADDR</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-364">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-364">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-365">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-365">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-366">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-366">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-367">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-367">Success</span></span></td>
        <td><span data-ttu-id="d1077-368">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-368">Success</span></span></td>
        <td><span data-ttu-id="d1077-369">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-369">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-370">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-370">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-371">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-371">Specific</span></span></td>
        <td><span data-ttu-id="d1077-372">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-372">Success</span></span></td>
        <td><span data-ttu-id="d1077-373">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-373">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-374">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-374">Success</span></span></td>
        <td><span data-ttu-id="d1077-375">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="d1077-375">Success</span></span></td>
        <td><span data-ttu-id="d1077-376">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-376">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-377">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-377">INUSE</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0" rowspan="2"><span data-ttu-id="d1077-378">SO_EXCLUSIVEADDRUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-378">SO_EXCLUSIVEADDRUSE</span></span></td>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-379">Wildcard (Carattere jolly)</span><span class="sxs-lookup"><span data-stu-id="d1077-379">Wildcard</span></span></td>
        <td><span data-ttu-id="d1077-380">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-380">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-381">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-381">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-382">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-382">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-383">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-383">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-384">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-384">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-385">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-385">ACCESS</span></span></td>
    </tr>
    <tr>
        <td bgcolor="#C0C0C0"><span data-ttu-id="d1077-386">Specifica</span><span class="sxs-lookup"><span data-stu-id="d1077-386">Specific</span></span></td>
        <td><span data-ttu-id="d1077-387">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-387">Success</span></span></td>
        <td><span data-ttu-id="d1077-388">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-388">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-389">Operazione riuscita</span><span class="sxs-lookup"><span data-stu-id="d1077-389">Success</span></span></td>
        <td><span data-ttu-id="d1077-390">ACCESS</span><span class="sxs-lookup"><span data-stu-id="d1077-390">ACCESS</span></span></td>
        <td><span data-ttu-id="d1077-391">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-391">INUSE</span></span></td>
        <td><span data-ttu-id="d1077-392">INUSE</span><span class="sxs-lookup"><span data-stu-id="d1077-392">INUSE</span></span></td>
    </tr>
</table>

<span data-ttu-id="d1077-393">Si noti che il comportamento predefinito è diverso quando le chiamate di [**Binding**](/windows/win32/api/winsock/nf-winsock-bind) vengono eseguite con account utente diversi.</span><span class="sxs-lookup"><span data-stu-id="d1077-393">Note that the default behavior is different when the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) calls are made under different user accounts.</span></span> <span data-ttu-id="d1077-394">Se il primo chiamante non imposta alcuna opzione sul socket e si associa all'indirizzo con caratteri jolly, il secondo chiamante non può impostare l'opzione **\_ REUSEADDR** e associare correttamente la stessa porta.</span><span class="sxs-lookup"><span data-stu-id="d1077-394">If the first caller does not set any options on the socket and binds to the wildcard address, then the second caller cannot set the **SO\_REUSEADDR** option and successfully bind to the same port.</span></span> <span data-ttu-id="d1077-395">Il comportamento predefinito senza set di opzioni restituisce anche un errore.</span><span class="sxs-lookup"><span data-stu-id="d1077-395">The default behavior with no options set returns an error, as well.</span></span>

<span data-ttu-id="d1077-396">In Windows Vista e versioni successive è possibile creare un socket a doppio stack che opera su IPv6 e IPv4.</span><span class="sxs-lookup"><span data-stu-id="d1077-396">On Windows Vista and later, a dual stack socket can be created which operates over both IPv6 and IPv4.</span></span> <span data-ttu-id="d1077-397">Quando un socket dello stack doppio è associato all'indirizzo con caratteri jolly, la porta specificata è riservata sia negli stack di rete IPv4 che IPv6 e i controlli associati a **tale \_ REUSEADDR** , **quindi \_ EXCLUSIVEADDRUSE** (se impostati).</span><span class="sxs-lookup"><span data-stu-id="d1077-397">When a dual stack socket is bound to the wildcard address, the given port is reserved on both the IPv4 and IPv6 networking stacks and the checks associated with **SO\_REUSEADDR** and **SO\_EXCLUSIVEADDRUSE** (if set) are made.</span></span> <span data-ttu-id="d1077-398">Questi controlli devono avere esito positivo in entrambi gli stack di rete.</span><span class="sxs-lookup"><span data-stu-id="d1077-398">These checks must succeed on both networking stacks.</span></span> <span data-ttu-id="d1077-399">Se, ad esempio, un socket TCP a doppio stack imposta **\_ EXCLUSIVEADDRUSE** e tenta di eseguire l'associazione alla porta 5000, nessun altro socket TCP può essere associato in precedenza alla porta 5000 (carattere jolly o specifico).</span><span class="sxs-lookup"><span data-stu-id="d1077-399">For example, if a dual stack TCP socket sets **SO\_EXCLUSIVEADDRUSE** and then tries to bind to port 5000, then no other TCP socket can be previously bound to port 5000 (either wildcard or specific).</span></span> <span data-ttu-id="d1077-400">In questo caso, se un socket TCP IPv4 è stato precedentemente associato all'indirizzo di loopback sulla porta 5000, la chiamata di [**Binding**](/windows/win32/api/winsock/nf-winsock-bind) per il socket dello stack doppio avrebbe esito negativo con [WSAEACCES](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="d1077-400">In this case if an IPv4 TCP socket was previously bound to the loopback address on port 5000, the [**bind**](/windows/win32/api/winsock/nf-winsock-bind) call for the dual stack socket would fail with [WSAEACCES](windows-sockets-error-codes-2.md).</span></span>

## <a name="application-strategies"></a><span data-ttu-id="d1077-401">Strategie delle applicazioni</span><span class="sxs-lookup"><span data-stu-id="d1077-401">Application Strategies</span></span>

<span data-ttu-id="d1077-402">Quando si sviluppa un'applicazione di rete che opera a livello di socket, è importante considerare il tipo di sicurezza del socket necessario.</span><span class="sxs-lookup"><span data-stu-id="d1077-402">When developing network application that operate at the socket layer, it is important to consider the type of socket security necessary.</span></span> <span data-ttu-id="d1077-403">Le applicazioni client, ovvero le applicazioni che si connettono o inviano dati a un servizio, richiedono raramente passaggi aggiuntivi poiché si associano a una porta casuale locale (temporanea).</span><span class="sxs-lookup"><span data-stu-id="d1077-403">Client applications — applications that connect or send data to a service — rarely require any additional steps since they bind to a random local (ephemeral) port.</span></span> <span data-ttu-id="d1077-404">Se il client richiede un binding della porta locale specifico per funzionare correttamente, è necessario prendere in considerazione la sicurezza del socket.</span><span class="sxs-lookup"><span data-stu-id="d1077-404">If the client does require a specific local port binding in order to function correctly, then you must consider socket security.</span></span>

<span data-ttu-id="d1077-405">L'opzione **so \_ REUSEADDR** ha pochissimi usi nelle applicazioni normali, a parte i socket multicast in cui i dati vengono recapitati a tutti i socket associati sulla stessa porta.</span><span class="sxs-lookup"><span data-stu-id="d1077-405">The **SO\_REUSEADDR** option has very few uses in normal applications aside from multicast sockets where data is delivered to all of the sockets bound on the same port.</span></span> <span data-ttu-id="d1077-406">In caso contrario, qualsiasi applicazione che imposta questa opzione socket deve essere riprogettata per rimuovere la dipendenza perché è particolarmente vulnerabile al "hijack del socket".</span><span class="sxs-lookup"><span data-stu-id="d1077-406">Otherwise, any application that sets this socket option should be redesigned to remove the dependency since it is eminently vulnerable to "socket hijacking".</span></span> <span data-ttu-id="d1077-407">Fino a quando l'opzione socket **\_ REUSEADDR** può essere usata per eseguire potenzialmente il Hijack di una porta in un'applicazione server, l'applicazione deve essere considerata non sicura.</span><span class="sxs-lookup"><span data-stu-id="d1077-407">As long as **SO\_REUSEADDR** socket option can be used to potentially hijack a port in a server application, the application must be considered to be not secure.</span></span>

<span data-ttu-id="d1077-408">Tutte le applicazioni server devono impostare in **modo che \_ EXCLUSIVEADDRUSE** per un livello elevato di sicurezza del socket.</span><span class="sxs-lookup"><span data-stu-id="d1077-408">All server applications must set **SO\_EXCLUSIVEADDRUSE** for a strong level of socket security.</span></span> <span data-ttu-id="d1077-409">Non solo impedisce al software dannoso di eseguire il Hijack della porta, ma indica anche se un'altra applicazione è associata alla porta richiesta.</span><span class="sxs-lookup"><span data-stu-id="d1077-409">Not only does it prevent malicious software from hijacking the port, but it also indicates whether or not another application is bound to the requested port.</span></span> <span data-ttu-id="d1077-410">Ad esempio, una chiamata per [**associare**](/windows/win32/api/winsock/nf-winsock-bind) l'indirizzo con carattere jolly da un processo con il set di opzioni di **\_ EXCLUSIVEADDRUSE** socket non riuscirà se un altro processo è attualmente associato alla stessa porta su un'interfaccia specifica.</span><span class="sxs-lookup"><span data-stu-id="d1077-410">For example, a call to [**bind**](/windows/win32/api/winsock/nf-winsock-bind) on the wildcard address by a process with the **SO\_EXCLUSIVEADDRUSE** socket option set will fail if another process is currently bound to the same port on a specific interface.</span></span>

<span data-ttu-id="d1077-411">Infine, anche se la sicurezza del socket è stata migliorata in Windows Server 2003, un'applicazione deve sempre impostare l'opzione **\_ EXCLUSIVEADDRUSE** socket per assicurarsi che venga associata a tutte le interfacce specifiche richieste dal processo.</span><span class="sxs-lookup"><span data-stu-id="d1077-411">Lastly, even though socket security has been improved in Windows Server 2003, an application should always set the **SO\_EXCLUSIVEADDRUSE** socket option to ensure that it binds to all the specific interfaces the process has requested.</span></span> <span data-ttu-id="d1077-412">La protezione dei socket in Windows Server 2003 aggiunge un livello di sicurezza maggiore per le applicazioni legacy, ma gli sviluppatori di applicazioni devono comunque progettare i prodotti con tutti gli aspetti della sicurezza.</span><span class="sxs-lookup"><span data-stu-id="d1077-412">The socket security in Windows Server 2003 adds an increased level of security for legacy applications, but application developers must still design their products with all aspects of security in mind.</span></span>
