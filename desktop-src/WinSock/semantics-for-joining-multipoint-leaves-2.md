---
description: Nell'esempio seguente viene spesso descritto un socket multipoint definendone il ruolo in uno dei due piani (controllo o dati).
ms.assetid: 34f639e2-9363-4f3f-a8de-b7c5d12618c9
title: Semantica per l'Unione di foglie multipoint
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df12683838fbad89f717b08d7a19802f24556761
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106310436"
---
# <a name="semantics-for-joining-multipoint-leaves"></a><span data-ttu-id="4a6a7-103">Semantica per l'Unione di foglie multipoint</span><span class="sxs-lookup"><span data-stu-id="4a6a7-103">Semantics for Joining Multipoint Leaves</span></span>

<span data-ttu-id="4a6a7-104">Nell'esempio seguente viene spesso descritto un socket multipoint definendone il ruolo in uno dei due piani (controllo o dati).</span><span class="sxs-lookup"><span data-stu-id="4a6a7-104">In the following, a multipoint socket is frequently described by defining its role in one of the two planes (control or data).</span></span> <span data-ttu-id="4a6a7-105">Si noti che lo stesso socket ha un ruolo nell'altro piano, ma questo non è indicato per tenere i riferimenti brevi.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-105">It should be understood that this same socket has a role in the other plane, but this is not mentioned in order to keep the references short.</span></span> <span data-ttu-id="4a6a7-106">Ad esempio, quando viene creato un riferimento a un " \_ socket radice c", può essere una radice c \_ /d \_ o un \_ socket foglia radice c/d \_ .</span><span class="sxs-lookup"><span data-stu-id="4a6a7-106">For example when a reference is made to a "c\_root socket", this could be either a c\_root/d\_root or a c\_root/d\_leaf socket.</span></span>

<span data-ttu-id="4a6a7-107">Negli schemi del piano di controllo rooted i nuovi nodi foglia vengono aggiunti a una sessione multipoint in uno o in due modi diversi.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-107">In rooted control plane schemes, new leaf nodes are added to a multipoint session in one or both of two different ways.</span></span> <span data-ttu-id="4a6a7-108">Nel primo metodo, la radice USA [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) per avviare una connessione con un nodo foglia e invitarla a diventare un partecipante.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-108">In the first method, the root uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate a connection with a leaf node and to invite it to become a participant.</span></span> <span data-ttu-id="4a6a7-109">Sul nodo foglia, l'applicazione peer deve avere creato un \_ socket foglia c ed essere usato in [**ascolto**](/windows/desktop/api/Winsock2/nf-winsock2-listen) per impostarlo in modalità di ascolto.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-109">On the leaf node, the peer application must have created a c\_leaf socket and used [**listen**](/windows/desktop/api/Winsock2/nf-winsock2-listen) to set it into listen mode.</span></span> <span data-ttu-id="4a6a7-110">Il nodo foglia riceve un' \_ indicazione di accettazione FD quando viene invitato per partecipare alla sessione e segnala la volontà di partecipare chiamando [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="4a6a7-110">The leaf node receives an FD\_ACCEPT indication when invited to join the session, and signals its willingness to join by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="4a6a7-111">L'applicazione radice riceve quindi un' \_ indicazione di connessione FD quando l'operazione di **join** è stata completata.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-111">The root application then receives an FD\_CONNECT indication when the **join** operation has been completed.</span></span>

<span data-ttu-id="4a6a7-112">Nel secondo metodo, i ruoli sono essenzialmente invertiti.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-112">In the second method, the roles are essentially reversed.</span></span> <span data-ttu-id="4a6a7-113">L'applicazione radice crea un \_ socket radice c e lo imposta in modalità ascolto.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-113">The root application creates a c\_root socket and sets it into listen mode.</span></span> <span data-ttu-id="4a6a7-114">Un nodo foglia che desidera partecipare alla sessione crea un \_ socket foglia c e USA [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) per avviare la connessione e richiedere l'ammissione.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-114">A leaf node wishing to join the session creates a c\_leaf socket and uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate the connection and request admittance.</span></span> <span data-ttu-id="4a6a7-115">L'applicazione radice riceve l' \_ accettazione FD quando arriva una richiesta di ammissione in ingresso e ammette il nodo foglia chiamando [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="4a6a7-115">The root application receives FD\_ACCEPT when an incoming admittance request arrives, and admits the leaf node by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="4a6a7-116">Il nodo foglia riceve la \_ connessione FD quando è stata accettata.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-116">The leaf node receives FD\_CONNECT when it has been admitted.</span></span>

<span data-ttu-id="4a6a7-117">In un piano di controllo non radice, in cui tutti i nodi sono \_ di foglia c, [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) viene usato per avviare l'inclusione di un nodo in una sessione multipoint esistente.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-117">In a nonrooted control plane, where all nodes are c\_leaf's, the [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) is used to initiate the inclusion of a node into an existing multipoint session.</span></span> <span data-ttu-id="4a6a7-118">\_Quando il join è stato completato e il descrittore di socket restituito è utilizzabile nella sessione MultiPoint, viene fornita un'indicazione di connessione FD.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-118">An FD\_CONNECT indication is provided when the join has been completed and the returned socket descriptor is usable in the multipoint session.</span></span> <span data-ttu-id="4a6a7-119">Nel caso del multicast IP, questo corrisponderebbe all'opzione del socket di aggiunta dell'indirizzo IP \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="4a6a7-119">In the case of IP multicast, this would correspond to the IP\_ADD\_MEMBERSHIP socket option.</span></span>

<span data-ttu-id="4a6a7-120">I lettori che hanno familiarità con l'uso del protocollo UDP senza connessione del multicast IP potrebbero essere interessati dalla semantica orientata alla connessione presentata qui.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-120">(Readers familiar with IP multicast's use of the connectionless UDP protocol may be concerned by the connection-oriented semantics presented here.</span></span> <span data-ttu-id="4a6a7-121">In particolare, la nozione di utilizzo di [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) su un socket UDP e l'attesa di un' \_ indicazione di connessione FD potrebbe essere problematica.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-121">In particular the notion of using [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) on a UDP socket and waiting for an FD\_CONNECT indication may be troubling.</span></span> <span data-ttu-id="4a6a7-122">Esiste, tuttavia, un ampio precedente per l'applicazione di semantica orientata alla connessione a protocolli senza connessione.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-122">There is, however, ample precedent for applying connection-oriented semantics to connectionless protocols.</span></span> <span data-ttu-id="4a6a7-123">È consentita e talvolta utile, ad esempio, per richiamare la funzione di [**connessione**](/windows/desktop/api/Winsock2/nf-winsock2-connect) standard su un socket UDP.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-123">It is allowed and sometimes useful, for example, to invoke the standard [**connect**](/windows/desktop/api/Winsock2/nf-winsock2-connect) function on a UDP socket.</span></span> <span data-ttu-id="4a6a7-124">Il risultato generale dell'applicazione della semantica orientata alla connessione a socket senza connessione è una restrizione del modo in cui tali socket possono essere utilizzati, anche in questo caso.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-124">The general result of applying connection-oriented semantics to connectionless sockets is a restriction in how such sockets may be used, and this is the case here, as well.</span></span> <span data-ttu-id="4a6a7-125">Un socket UDP usato in **WSAJoinLeaf** avrà alcune restrizioni e in attesa di un'indicazione di \_ connessione FD, che in questo caso indica semplicemente che il messaggio IGMP corrispondente è stato inviato, è una limitazione di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="4a6a7-125">A UDP socket used in **WSAJoinLeaf** will have certain restrictions, and waiting for an FD\_CONNECT indication (which in this case simply indicates that the corresponding IGMP message has been sent) is one such limitation.)</span></span>

<span data-ttu-id="4a6a7-126">Ci sono pertanto tre istanze in cui un'applicazione utilizzerebbe [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) che funge da:</span><span class="sxs-lookup"><span data-stu-id="4a6a7-126">There are therefore, three instances where an application would use [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) acting as a:</span></span>

-   <span data-ttu-id="4a6a7-127">Radice multipoint e invito a una nuova foglia per partecipare alla sessione</span><span class="sxs-lookup"><span data-stu-id="4a6a7-127">Multipoint root and inviting a new leaf to join the session</span></span>
-   <span data-ttu-id="4a6a7-128">Foglia che effettua una richiesta di ammissione a una sessione multipoint radice</span><span class="sxs-lookup"><span data-stu-id="4a6a7-128">Leaf making an admittance request to a rooted multipoint session</span></span>
-   <span data-ttu-id="4a6a7-129">Foglia che cerca l'ammissione a una sessione MultiPoint non radice (ad esempio, multicast IP)</span><span class="sxs-lookup"><span data-stu-id="4a6a7-129">Leaf seeking admittance to a nonrooted multipoint session (for example, IP multicast)</span></span>

 

 



