---
description: Un provider dello spazio dei nomi implementa un mapping di interfaccia tra lo spazio dei nomi di Winsock e l'interfaccia a livello di codice nativo di un servizio dei nomi esistente, ad esempio DNS, X. 500 o servizi directory NetWare (NDS).
ms.assetid: 9b35aa58-9011-4e0d-8c93-02714952b4a5
title: Provider di servizi dello spazio dei nomi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e975c7ad0e5df29910624bb8f0b9d94fd24d9b8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306918"
---
# <a name="namespace-service-providers"></a><span data-ttu-id="f1759-103">Provider di servizi dello spazio dei nomi</span><span class="sxs-lookup"><span data-stu-id="f1759-103">Namespace Service Providers</span></span>

<span data-ttu-id="f1759-104">Un provider dello spazio dei nomi implementa un mapping di interfaccia tra lo spazio dei nomi di Winsock e l'interfaccia a livello di codice nativo di un servizio dei nomi esistente, ad esempio DNS, X. 500 o servizi directory NetWare (NDS).</span><span class="sxs-lookup"><span data-stu-id="f1759-104">A namespace provider implements an interface mapping between the Winsock namespace SPI and the native programmatic interface of an existing name service such as DNS, X.500, or NetWare Directory Services (NDS).</span></span> <span data-ttu-id="f1759-105">Mentre un provider dello spazio dei nomi supporta esattamente uno spazio dei nomi, è possibile che vengano installati più provider per uno spazio dei nomi specifico.</span><span class="sxs-lookup"><span data-stu-id="f1759-105">While a namespace provider supports exactly one namespace, it is possible for multiple providers for a given namespace to be installed.</span></span> <span data-ttu-id="f1759-106">È anche possibile che una singola DLL crei un'istanza di più provider dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="f1759-106">It is also possible for a single DLL to create an instance of multiple namespace providers.</span></span> <span data-ttu-id="f1759-107">Quando vengono installati i provider dello spazio dei nomi, viene mantenuto un catalogo di strutture di [**\_ informazioni WSANAMESPACE**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infow) .</span><span class="sxs-lookup"><span data-stu-id="f1759-107">As namespace providers are installed, a catalog of [**WSANAMESPACE\_INFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infow) structures is maintained.</span></span> <span data-ttu-id="f1759-108">Un'applicazione può utilizzare [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa) per individuare gli spazi dei nomi supportati in un computer.</span><span class="sxs-lookup"><span data-stu-id="f1759-108">An application may use [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa) to discover which namespaces are supported on a computer.</span></span>

<span data-ttu-id="f1759-109">In Windows Vista e versioni successive, vengono fornite una struttura [**WSANAMESPACE \_ INFOEX**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infoexw) avanzata e una funzione [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa) .</span><span class="sxs-lookup"><span data-stu-id="f1759-109">On Windows Vista and later, an enhanced [**WSANAMESPACE\_INFOEX**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infoexw) structure and [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa) function are provided.</span></span>

<span data-ttu-id="f1759-110">Sulle piattaforme a 64 bit sono disponibili funzioni [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32) e [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) simili per enumerare il catalogo a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="f1759-110">On 64-bit platforms, similar [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32) and [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) functions are provided to enumerate the 32-bit catalog.</span></span>

<span data-ttu-id="f1759-111">Per informazioni dettagliate, vedere [requisiti del provider di servizi dello spazio dei nomi Winsock](winsock-namespace-service-provider-requirements.md) .</span><span class="sxs-lookup"><span data-stu-id="f1759-111">Refer to [Winsock Namespace Service Provider Requirements](winsock-namespace-service-provider-requirements.md) for detailed information.</span></span>

## <a name="legacy-getxbyy-service-providers"></a><span data-ttu-id="f1759-112">Provider di servizi GetXbyY legacy</span><span class="sxs-lookup"><span data-stu-id="f1759-112">Legacy GetXbyY Service Providers</span></span>

<span data-ttu-id="f1759-113">Windows Sockets 2 supporta completamente le funzionalità di risoluzione dei nomi specifiche di TCP/IP disponibili in Windows Sockets versione 1,1.</span><span class="sxs-lookup"><span data-stu-id="f1759-113">Windows Sockets 2 fully supports the TCP/IP-specific name resolution facilities found in Windows Sockets version 1.1.</span></span> <span data-ttu-id="f1759-114">Questa operazione viene eseguita includendo il set di funzioni **GetXbyY** in spi.</span><span class="sxs-lookup"><span data-stu-id="f1759-114">It does this by including the set of **GetXbyY** functions in the SPI.</span></span> <span data-ttu-id="f1759-115">Tuttavia, il trattamento di questo set di funzioni è leggermente diverso dal resto delle funzioni SPI.</span><span class="sxs-lookup"><span data-stu-id="f1759-115">However, the treatment of this set of functions is somewhat different from the rest of the SPI functions.</span></span> <span data-ttu-id="f1759-116">Le funzioni **GetXbyY** visualizzate in SPI sono precedute da GETXBYYSP \_ e sono riepilogate nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="f1759-116">The **GetXbyY** functions appearing in the SPI are prefaced with GETXBYYSP\_, and are summarized in the following table.</span></span>

<span data-ttu-id="f1759-117">Funzioni di stile Berkeley</span><span class="sxs-lookup"><span data-stu-id="f1759-117">Berkeley Style Functions</span></span>



| <span data-ttu-id="f1759-118">Nome della funzione SPI</span><span class="sxs-lookup"><span data-stu-id="f1759-118">SPI function name</span></span>           | <span data-ttu-id="f1759-119">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f1759-119">Description</span></span>                                                                              |
|-----------------------------|------------------------------------------------------------------------------------------|
| <span data-ttu-id="f1759-120">\_GETHOSTBYADDR GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-120">GETXBYYSP\_gethostbyaddr</span></span>    | <span data-ttu-id="f1759-121">Fornisce una struttura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) per l'indirizzo host specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-121">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host address.</span></span>        |
| <span data-ttu-id="f1759-122">\_Gethostbyname GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-122">GETXBYYSP\_gethostbyname</span></span>    | <span data-ttu-id="f1759-123">Fornisce una struttura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) per il nome host specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-123">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host name.</span></span>           |
| <span data-ttu-id="f1759-124">\_GETPROTOBYNAME GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-124">GETXBYYSP\_getprotobyname</span></span>   | <span data-ttu-id="f1759-125">Fornisce una struttura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) per il nome di protocollo specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-125">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol name.</span></span>     |
| <span data-ttu-id="f1759-126">\_GETPROTOBYNUMBER GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-126">GETXBYYSP\_getprotobynumber</span></span> | <span data-ttu-id="f1759-127">Fornisce una struttura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) per il numero di protocollo specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-127">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol number.</span></span>   |
| <span data-ttu-id="f1759-128">\_GETSERVBYNAME GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-128">GETXBYYSP\_getservbyname</span></span>    | <span data-ttu-id="f1759-129">Fornisce una struttura [**Servent**](/windows/desktop/api/winsock/ns-winsock-servent) per il servizio specificato Nam. e</span><span class="sxs-lookup"><span data-stu-id="f1759-129">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the specified service nam.e</span></span>        |
| <span data-ttu-id="f1759-130">\_GETSERVBYPORT GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-130">GETXBYYSP\_getservbyport</span></span>    | <span data-ttu-id="f1759-131">Fornisce una struttura [**Servent**](/windows/desktop/api/winsock/ns-winsock-servent) per il servizio sulla porta specificata.</span><span class="sxs-lookup"><span data-stu-id="f1759-131">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the service at the specified port.</span></span> |
| <span data-ttu-id="f1759-132">GETXBYYSP \_ GetHostName</span><span class="sxs-lookup"><span data-stu-id="f1759-132">GETXBYYSP\_gethostname</span></span>      | <span data-ttu-id="f1759-133">Restituisce il nome host standard per il computer locale.</span><span class="sxs-lookup"><span data-stu-id="f1759-133">Returns the standard host name for the local computer.</span></span>                                   |



 

<span data-ttu-id="f1759-134">Funzioni di stile asincrono</span><span class="sxs-lookup"><span data-stu-id="f1759-134">Async Style Functions</span></span>



| <span data-ttu-id="f1759-135">Nome della funzione SPI</span><span class="sxs-lookup"><span data-stu-id="f1759-135">SPI function name</span></span>                   | <span data-ttu-id="f1759-136">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f1759-136">Description</span></span>                                                                              |
|-------------------------------------|------------------------------------------------------------------------------------------|
| <span data-ttu-id="f1759-137">\_WSAASYNCGETHOSTBYADDR GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-137">GETXBYYSP\_WSAAsyncGetHostByAddr</span></span>    | <span data-ttu-id="f1759-138">Fornisce una struttura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) per l'indirizzo host specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-138">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host address.</span></span>        |
| <span data-ttu-id="f1759-139">\_WSAASYNCGETHOSTBYNAME GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-139">GETXBYYSP\_WSAAsyncGetHostByName</span></span>    | <span data-ttu-id="f1759-140">Fornisce una struttura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) per il nome host specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-140">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host name.</span></span>           |
| <span data-ttu-id="f1759-141">\_WSAASYNCGETPROTOBYNAME GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-141">GETXBYYSP\_WSAAsyncGetProtoByName</span></span>   | <span data-ttu-id="f1759-142">Fornisce una struttura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) per il nome di protocollo specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-142">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol name.</span></span>     |
| <span data-ttu-id="f1759-143">\_WSAASYNCGETPROTOBYNUMBER GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-143">GETXBYYSP\_WSAAsyncGetProtoByNumber</span></span> | <span data-ttu-id="f1759-144">Fornisce una struttura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) per il numero di protocollo specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-144">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol number.</span></span>   |
| <span data-ttu-id="f1759-145">\_WSAASYNCGETSERVBYNAME GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-145">GETXBYYSP\_WSAAsyncGetServByName</span></span>    | <span data-ttu-id="f1759-146">Fornisce una struttura [**Servent**](/windows/desktop/api/winsock/ns-winsock-servent) per il nome del servizio specificato.</span><span class="sxs-lookup"><span data-stu-id="f1759-146">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the specified service name.</span></span>        |
| <span data-ttu-id="f1759-147">\_WSAASYNCGETSERVBYPORT GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-147">GETXBYYSP\_WSAAsyncGetServByPort</span></span>    | <span data-ttu-id="f1759-148">Fornisce una struttura [**Servent**](/windows/desktop/api/winsock/ns-winsock-servent) per il servizio sulla porta specificata.</span><span class="sxs-lookup"><span data-stu-id="f1759-148">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the service at the specified port.</span></span> |
| <span data-ttu-id="f1759-149">\_WSACANCELASYNCREQUEST GETXBYYSP</span><span class="sxs-lookup"><span data-stu-id="f1759-149">GETXBYYSP\_WSACancelAsyncRequest</span></span>    | <span data-ttu-id="f1759-150">Annulla un'operazione **GetXbyY** asincrona.</span><span class="sxs-lookup"><span data-stu-id="f1759-150">Cancels an asynchronous **GetXbyY** operation.</span></span>                                           |



 

<span data-ttu-id="f1759-151">La sintassi e la semantica di queste funzioni **GetXbyY** in SPI sono esattamente le stesse di quelle documentate nella specifica API e, pertanto, non vengono ripetute qui.</span><span class="sxs-lookup"><span data-stu-id="f1759-151">The syntax and semantics of these **GetXbyY** functions in the SPI are exactly the same as those documented in the API Specification and are, therefore, not repeated here.</span></span>

<span data-ttu-id="f1759-152">La DLL di Windows Sockets 2 consente esattamente a un provider di servizi di offrire questi servizi.</span><span class="sxs-lookup"><span data-stu-id="f1759-152">The Windows Sockets 2 DLL allows exactly one service provider to offer these services.</span></span> <span data-ttu-id="f1759-153">Non è pertanto necessario includere i puntatori a queste funzioni nella tabella delle procedure ricevuta dai provider di servizi all'avvio.</span><span class="sxs-lookup"><span data-stu-id="f1759-153">Therefore, there is no need to include pointers to these functions in the procedure table received from service providers at startup.</span></span> <span data-ttu-id="f1759-154">Negli ambienti Windows il percorso della DLL che implementa queste funzioni viene recuperato dal valore trovato nel seguente percorso del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="f1759-154">In Windows environments the path to the DLL that implements these functions is retrieved from the value found in the following registry path.</span></span> <span data-ttu-id="f1759-155">Questa voce del registro di sistema non esiste per impostazione predefinita:</span><span class="sxs-lookup"><span data-stu-id="f1759-155">This registry entry does not exist by default:</span></span>

<span data-ttu-id="f1759-156">**HKEY \_ \_Computer locale** \\ **sistema** \\ **CurrentControlSet** \\ **Servizi** \\ **WinSock2** \\ **parametri** \\ **GetXByYLibraryPath**</span><span class="sxs-lookup"><span data-stu-id="f1759-156">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Services**\\**WinSock2**\\**Parameters**\\**GetXByYLibraryPath**</span></span>

## <a name="built-in-default-getxbyy-service-provider"></a><span data-ttu-id="f1759-157">Built-In provider di servizi GetXbyY predefinito</span><span class="sxs-lookup"><span data-stu-id="f1759-157">Built-In Default GetXbyY Service Provider</span></span>

<span data-ttu-id="f1759-158">Un provider di servizi **GetXbyY** predefinito è integrato nei componenti della fase di esecuzione standard di Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="f1759-158">A default **GetXbyY** service provider is integrated into the standard Windows Sockets 2 run-time components.</span></span> <span data-ttu-id="f1759-159">Questo provider predefinito implementa tutte le funzioni descritte in precedenza, pertanto non è necessario che queste funzioni vengano implementate da alcun provider dello spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="f1759-159">This default provider implements all of the above functions, thus it is not required for these functions to be implemented by any namespace provider.</span></span> <span data-ttu-id="f1759-160">Tuttavia, un provider dello spazio dei nomi è libero di fornire una o tutte le funzioni (e di conseguenza eseguire l'override delle impostazioni predefinite) semplicemente archiviando la stringa che rappresenta il percorso della DLL che implementa queste funzioni nella chiave del registro di sistema indicata.</span><span class="sxs-lookup"><span data-stu-id="f1759-160">However, a namespace provider is free to provide any or all of these functions (and thus override the defaults) by simply storing the string which is the path to the DLL that implements these functions in the indicated registry key.</span></span> <span data-ttu-id="f1759-161">Le funzioni **GetXbyY** non esportate dalla dll del provider denominato verranno fornite tramite le impostazioni predefinite predefinite.</span><span class="sxs-lookup"><span data-stu-id="f1759-161">Any of the **GetXbyY** functions not exported by the named provider DLL will be supplied through the built-in defaults.</span></span> <span data-ttu-id="f1759-162">Si noti, tuttavia, che se un provider sceglie di fornire una qualsiasi versione asincrona delle funzioni **GetXbyY** , deve fornire tutte le funzioni asincrone in modo che l'operazione di annullamento funzioni correttamente.</span><span class="sxs-lookup"><span data-stu-id="f1759-162">Note, however, that if a provider elects to supply any of the async version of the **GetXbyY** functions, he should supply all of the async functions so that the cancel operation will work appropriately.</span></span>

<span data-ttu-id="f1759-163">L'implementazione corrente del provider di servizi **GetXbyY** predefinito risiede all'interno del Wsock32.dll.</span><span class="sxs-lookup"><span data-stu-id="f1759-163">The current implementation of the default **GetXbyY** service provider resides within the Wsock32.dll.</span></span> <span data-ttu-id="f1759-164">A seconda del modo in cui sono state stabilite le impostazioni TCP/IP tramite il pannello di controllo, la risoluzione dei nomi viene eseguita utilizzando i file host DNS o locali.</span><span class="sxs-lookup"><span data-stu-id="f1759-164">Depending on how the TCP/IP settings have been established through Control Panel, name resolution will occur using either DNS or local host files.</span></span> <span data-ttu-id="f1759-165">Quando si usa DNS, il provider di servizi **GetXbyY** predefinito usa le chiamate API standard di Windows sockets 1,1 per comunicare con il server DNS.</span><span class="sxs-lookup"><span data-stu-id="f1759-165">When DNS is used, the default **GetXbyY** service provider uses standard Windows Sockets 1.1 API calls to communicate with the DNS server.</span></span> <span data-ttu-id="f1759-166">Queste transazioni vengono eseguite utilizzando qualsiasi stack TCP/IP configurato come lo stack TCP/IP predefinito.</span><span class="sxs-lookup"><span data-stu-id="f1759-166">These transactions will occur using whatever TCP/IP stack is configured as the default TCP/IP stack.</span></span> <span data-ttu-id="f1759-167">Tuttavia, due casi particolari meritano una menzione speciale.</span><span class="sxs-lookup"><span data-stu-id="f1759-167">Two special cases however, deserve special mention.</span></span>

<span data-ttu-id="f1759-168">L'implementazione predefinita di GETXBYYSP \_ GetHostName ottiene il nome host locale dal registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="f1759-168">The default implementation of GETXBYYSP\_gethostname obtains the local host name from the registry.</span></span> <span data-ttu-id="f1759-169">Corrisponderà al nome assegnato a "Computer locale".</span><span class="sxs-lookup"><span data-stu-id="f1759-169">This will correspond to the name assigned to "My Computer".</span></span> <span data-ttu-id="f1759-170">L'implementazione predefinita di GETXBYYSP \_ gethostbyname e GETXBYYSP \_ WSAAsyncGetHostByName confronta sempre il nome host specificato con il nome host locale.</span><span class="sxs-lookup"><span data-stu-id="f1759-170">The default implementation of GETXBYYSP\_gethostbyname and GETXBYYSP\_WSAAsyncGetHostByName always compares the supplied host name with the local host name.</span></span> <span data-ttu-id="f1759-171">Se corrispondono, l'implementazione predefinita usa un'interfaccia privata per eseguire il probe dello stack TCP/IP Microsoft per individuare l'indirizzo IP locale.</span><span class="sxs-lookup"><span data-stu-id="f1759-171">If they match, the default implementation uses a private interface to probe the Microsoft TCP/IP stack in order to discover its local IP address.</span></span> <span data-ttu-id="f1759-172">Pertanto, per essere completamente indipendenti dallo stack Microsoft TCP/IP, un provider dello spazio dei nomi deve implementare GETXBYYSP \_ gethostbyname e GETXBYYSP \_ WSAAsyncGetHostByName.</span><span class="sxs-lookup"><span data-stu-id="f1759-172">Thus, in order to be completely independent of the Microsoft TCP/IP stack, a namespace provider must implement both GETXBYYSP\_gethostbyname and GETXBYYSP\_WSAAsyncGetHostByName.</span></span>

 

 



