---
description: Poiché la DLL Winsock non è più fornita da ogni singolo fornitore dello stack, non è possibile che un fornitore di stack offra funzionalità estese aggiungendo punti di ingresso alla DLL Winsock.
ms.assetid: 5c71532a-c565-4f65-ab36-ca0e23190718
title: Meccanismo di estensione della funzione in SPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7cfa6c9dfaf3afcec8e6861a9a0d3545a7ed0c5d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306980"
---
# <a name="function-extension-mechanism-in-the-spi"></a><span data-ttu-id="b7408-103">Meccanismo di estensione della funzione in SPI</span><span class="sxs-lookup"><span data-stu-id="b7408-103">Function Extension Mechanism in the SPI</span></span>

<span data-ttu-id="b7408-104">Poiché la DLL Winsock non è più fornita da ogni singolo fornitore dello stack, non è possibile che un fornitore di stack offra funzionalità estese aggiungendo punti di ingresso alla DLL Winsock.</span><span class="sxs-lookup"><span data-stu-id="b7408-104">Because the Winsock DLL itself is no longer supplied by each individual stack vendor, it is not possible for a stack vendor to offer extended functionality by adding entry points to the Winsock DLL.</span></span> <span data-ttu-id="b7408-105">Per ovviare a questa limitazione, Winsock sfrutta la nuova funzione [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) per ospitare i provider di servizi che desiderano offrire estensioni della funzionalità specifiche del provider.</span><span class="sxs-lookup"><span data-stu-id="b7408-105">To overcome this limitation, Winsock takes advantage of the new [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function to accommodate service providers who wish to offer provider-specific functionality extensions.</span></span> <span data-ttu-id="b7408-106">Questo meccanismo presuppone che un'applicazione sia in grado di riconoscere un'estensione specifica e conosca sia la semantica che la sintassi.</span><span class="sxs-lookup"><span data-stu-id="b7408-106">This mechanism presupposes that an application is aware of a particular extension and understands both the semantics and syntax involved.</span></span> <span data-ttu-id="b7408-107">Tali informazioni vengono in genere fornite dal fornitore del provider di servizi.</span><span class="sxs-lookup"><span data-stu-id="b7408-107">Such information would typically be supplied by the service provider vendor.</span></span>

<span data-ttu-id="b7408-108">Per richiamare una funzione di estensione, l'applicazione deve innanzitutto richiedere un puntatore alla funzione desiderata.</span><span class="sxs-lookup"><span data-stu-id="b7408-108">To invoke an extension function, the application must first ask for a pointer to the desired function.</span></span> <span data-ttu-id="b7408-109">Questa operazione viene eseguita tramite la funzione [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) usando il \_ codice di comando del puntatore della funzione di estensione sio Get \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="b7408-109">This is done through the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function using the SIO\_GET\_EXTENSION\_FUNCTION\_POINTER command code.</span></span> <span data-ttu-id="b7408-110">Il buffer di input per la funzione **WSAIoctl** contiene un identificatore per la funzione di estensione desiderata e il buffer di output conterrà il puntatore alla funzione stessa.</span><span class="sxs-lookup"><span data-stu-id="b7408-110">The input buffer to the **WSAIoctl** function contains an identifier for the desired extension function and the output buffer will contain the function pointer itself.</span></span> <span data-ttu-id="b7408-111">L'applicazione può quindi richiamare la funzione di estensione direttamente senza passare attraverso la \_32.dll di WS2.</span><span class="sxs-lookup"><span data-stu-id="b7408-111">The application can then invoke the extension function directly without passing through the Ws2\_32.dll.</span></span>

<span data-ttu-id="b7408-112">Gli identificatori assegnati alle funzioni di estensione sono identificatori univoci globali (GUID) allocati dai fornitori del provider di servizi.</span><span class="sxs-lookup"><span data-stu-id="b7408-112">The identifiers assigned to extension functions are globally unique identifiers (GUIDs) that are allocated by service provider vendors.</span></span> <span data-ttu-id="b7408-113">Ai fornitori che creano funzioni di estensione viene chiesto di pubblicare i dettagli completi sulla funzione, inclusa la sintassi del prototipo di funzione.</span><span class="sxs-lookup"><span data-stu-id="b7408-113">Vendors who create extension functions are urged to publish full details about the function including the syntax of the function prototype.</span></span> <span data-ttu-id="b7408-114">Questo semplifica le funzioni di estensione comuni e/o più diffuse che possono essere offerte da più provider di servizi.</span><span class="sxs-lookup"><span data-stu-id="b7408-114">This facilitates common and/or popular extension functions to be offered by multiple service providers.</span></span> <span data-ttu-id="b7408-115">Un'applicazione può ottenere il puntatore a funzione e utilizzare la funzione senza che sia necessario conoscere il particolare provider di servizi che implementa la funzione.</span><span class="sxs-lookup"><span data-stu-id="b7408-115">An application can obtain the function pointer and use the function without needing to know anything about the particular service provider that implements the function.</span></span>

 

 



