---
description: Argomento di navigazione per le IOCTL socket di Windows Sockets (Winsock).
ms.assetid: 6a63c2c9-4e09-4a62-b39f-3ccb26287da8
title: IOCTL Winsock (Winsock2.h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: de7094f802b815bfbd7511bd67eb4e6b1767cb94
ms.sourcegitcommit: 392c0a56f99f4d19686e734291abcac887fc5ba2
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/22/2021
ms.locfileid: "106320080"
---
# <a name="winsock-ioctls"></a><span data-ttu-id="ea915-103">IOCTL Winsock</span><span class="sxs-lookup"><span data-stu-id="ea915-103">Winsock IOCTLs</span></span>

<span data-ttu-id="ea915-104">Questa sezione descrive i controlli di input/output (IOCTL) del socket Winsock per varie edizioni dei sistemi operativi Windows.</span><span class="sxs-lookup"><span data-stu-id="ea915-104">This section describes Winsock Socket input/output controls (IOCTLs) for various editions of Windows operating systems.</span></span> <span data-ttu-id="ea915-105">Utilizzare la funzione [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) o [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) per emettere un IOCTL Winsock per controllare la modalità di un socket, il protocollo di trasporto o il sottosistema di comunicazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-105">Use the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) function to issue a Winsock IOCTL to control the mode of a socket, the transport protocol, or the communications subsystem.</span></span>

<span data-ttu-id="ea915-106">Alcune IOCTL Winsock richiedono una spiegazione maggiore di quella concessa da questa tabella; tali opzioni contengono collegamenti ad argomenti aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="ea915-106">Some Winsock IOCTLs require more explanation than this table can convey; such options contain links to additional topics.</span></span>

<span data-ttu-id="ea915-107">È possibile adottare uno schema di codifica che conserva i codici operativi [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) attualmente definiti, offrendo un modo pratico per partizionare lo spazio degli identificatori opcode in, in quanto il parametro *dwIoControlCode* è ora un'entità a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="ea915-107">It is possible to adopt an encoding scheme that preserves the currently defined [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) opcodes while providing a convenient way to partition the opcode identifier space in as much as the *dwIoControlCode* parameter is now a 32-bit entity.</span></span> <span data-ttu-id="ea915-108">Il parametro *dwIoControlCode* è progettato per consentire il protocollo e l'indipendenza del fornitore quando si aggiungono nuovi codici di controllo mantenendo la compatibilità con i codici di controllo Windows sockets 1,1 e UNIX.</span><span class="sxs-lookup"><span data-stu-id="ea915-108">The *dwIoControlCode* parameter is built to allow for protocol and vendor independence when adding new control codes while retaining backward compatibility with the Windows Sockets 1.1 and Unix control codes.</span></span> <span data-ttu-id="ea915-109">Il parametro *dwIoControlCode* ha il formato seguente.</span><span class="sxs-lookup"><span data-stu-id="ea915-109">The *dwIoControlCode* parameter has the following form.</span></span>

| <span data-ttu-id="ea915-110">I</span><span class="sxs-lookup"><span data-stu-id="ea915-110">I</span></span>  | <span data-ttu-id="ea915-111">O</span><span class="sxs-lookup"><span data-stu-id="ea915-111">O</span></span>  | <span data-ttu-id="ea915-112">V</span><span class="sxs-lookup"><span data-stu-id="ea915-112">V</span></span>  | <span data-ttu-id="ea915-113">T</span><span class="sxs-lookup"><span data-stu-id="ea915-113">T</span></span>  | <span data-ttu-id="ea915-114">Gruppo fornitore/Indirizzo</span><span class="sxs-lookup"><span data-stu-id="ea915-114">Vendor/address family</span></span> | <span data-ttu-id="ea915-115">Codice</span><span class="sxs-lookup"><span data-stu-id="ea915-115">Code</span></span>                   |
|-|-|-|-|-|-|
| <span data-ttu-id="ea915-116">3</span><span class="sxs-lookup"><span data-stu-id="ea915-116">3</span></span>  | <span data-ttu-id="ea915-117">3</span><span class="sxs-lookup"><span data-stu-id="ea915-117">3</span></span>  | <span data-ttu-id="ea915-118">2</span><span class="sxs-lookup"><span data-stu-id="ea915-118">2</span></span>  | <span data-ttu-id="ea915-119">2 2</span><span class="sxs-lookup"><span data-stu-id="ea915-119">2 2</span></span> | <span data-ttu-id="ea915-120">2 2 2 2 2 2 2 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="ea915-120">2 2 2 2 2 2 2 1 1 1 1</span></span> | <span data-ttu-id="ea915-121">1 1 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="ea915-121">1 1 1 1 1 1</span></span>              |
| <span data-ttu-id="ea915-122">1</span><span class="sxs-lookup"><span data-stu-id="ea915-122">1</span></span>  | <span data-ttu-id="ea915-123">0</span><span class="sxs-lookup"><span data-stu-id="ea915-123">0</span></span>  | <span data-ttu-id="ea915-124">9</span><span class="sxs-lookup"><span data-stu-id="ea915-124">9</span></span>  | <span data-ttu-id="ea915-125">8 7</span><span class="sxs-lookup"><span data-stu-id="ea915-125">8 7</span></span> | <span data-ttu-id="ea915-126">6 5 4 3 2 1 0 9 8 7 6</span><span class="sxs-lookup"><span data-stu-id="ea915-126">6 5 4 3 2 1 0 9 8 7 6</span></span> | <span data-ttu-id="ea915-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span><span class="sxs-lookup"><span data-stu-id="ea915-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span></span> |

> [!Note] 
> <span data-ttu-id="ea915-128">Il bit nel parametro *dwIoControlCode* visualizzato nella tabella deve essere letto verticalmente dall'alto verso il basso per colonna.</span><span class="sxs-lookup"><span data-stu-id="ea915-128">The bits in *dwIoControlCode* parameter displayed in the table must be read vertically from top to bottom by column.</span></span> <span data-ttu-id="ea915-129">Quindi, il bit più a sinistra è il bit 31, il bit successivo è il bit 30 e il bit più a destra è il bit 0.</span><span class="sxs-lookup"><span data-stu-id="ea915-129">So the left-most bit is bit 31, the next bit is bit 30, and the right-most bit is bit 0.</span></span>

<span data-ttu-id="ea915-130">Viene impostato se il buffer di input è valido per il codice, come per **IOC_IN**.</span><span class="sxs-lookup"><span data-stu-id="ea915-130">I is set if the input buffer is valid for the code, as with **IOC_IN**.</span></span>

<span data-ttu-id="ea915-131">O viene impostato se il buffer di output è valido per il codice, come con **IOC_OUT**.</span><span class="sxs-lookup"><span data-stu-id="ea915-131">O is set if the output buffer is valid for the code, as with **IOC_OUT**.</span></span> <span data-ttu-id="ea915-132">I codici di controllo che usano I buffer di input e di output impostano sia I che O.</span><span class="sxs-lookup"><span data-stu-id="ea915-132">Control codes using both input and output buffers set both I and O.</span></span>

<span data-ttu-id="ea915-133">V viene impostato se non sono presenti parametri per il codice, come con **IOC_VOID**.</span><span class="sxs-lookup"><span data-stu-id="ea915-133">V is set if there are no parameters for the code, as with **IOC_VOID**.</span></span>

<span data-ttu-id="ea915-134">T è una quantità a 2 bit che definisce il tipo di IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ea915-134">T is a 2-bit quantity that defines the type of the IOCTL.</span></span> <span data-ttu-id="ea915-135">Vengono definiti i valori seguenti:</span><span class="sxs-lookup"><span data-stu-id="ea915-135">The following values are defined:</span></span>

<span data-ttu-id="ea915-136">0 il IOCTL è un codice IOCTL standard di UNIX, come con **FIONREAD** e **FIONBIO**.</span><span class="sxs-lookup"><span data-stu-id="ea915-136">0 The IOCTL is a standard Unix IOCTL code, as with **FIONREAD** and **FIONBIO**.</span></span>

<span data-ttu-id="ea915-137">1 il IOCTL è un codice IOCTL generico di Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="ea915-137">1 The IOCTL is a generic Windows Sockets 2 IOCTL code.</span></span> <span data-ttu-id="ea915-138">I nuovi codici IOCTL definiti per Windows Sockets 2 avranno T = = 1.</span><span class="sxs-lookup"><span data-stu-id="ea915-138">New IOCTL codes defined for Windows Sockets 2 will have T == 1.</span></span>

<span data-ttu-id="ea915-139">2 il IOCTL si applica solo a una famiglia di indirizzi specifica.</span><span class="sxs-lookup"><span data-stu-id="ea915-139">2 The IOCTL applies only to a specific address family.</span></span>

<span data-ttu-id="ea915-140">3 il IOCTL si applica solo al provider di un fornitore specifico, come con **IOC_VENDOR**.</span><span class="sxs-lookup"><span data-stu-id="ea915-140">3 The IOCTL applies only to a specific vendor's provider, as with **IOC_VENDOR**.</span></span> <span data-ttu-id="ea915-141">Questo tipo consente alle aziende di essere assegnato un numero di fornitore visualizzato nel parametro della **famiglia di fornitori/indirizzi** .</span><span class="sxs-lookup"><span data-stu-id="ea915-141">This type allows companies to be assigned a vendor number that appears in the **Vendor/Address family** parameter.</span></span> <span data-ttu-id="ea915-142">Quindi, il fornitore può definire nuovi IOCTL specifici del fornitore senza dover registrare il IOCTL con una compensazione, garantendo così la flessibilità e la privacy del fornitore.</span><span class="sxs-lookup"><span data-stu-id="ea915-142">Then, the vendor can define new IOCTLs specific to that vendor without having to register the IOCTL with a clearinghouse, thereby providing vendor flexibility and privacy.</span></span>

<span data-ttu-id="ea915-143">**Gruppo fornitore/Indirizzo** Quantità a 11 bit che definisce il fornitore proprietario del codice (se T = = 3) o che contiene la famiglia di indirizzi a cui si applica il codice (se T = = 2).</span><span class="sxs-lookup"><span data-stu-id="ea915-143">**Vendor/Address family** An 11-bit quantity that defines the vendor who owns the code (if T == 3) or that contains the address family to which the code applies (if T == 2).</span></span> <span data-ttu-id="ea915-144">Se si tratta di un codice IOCTL UNIX (T = = 0), questo parametro ha lo stesso valore del codice in UNIX.</span><span class="sxs-lookup"><span data-stu-id="ea915-144">If this is a Unix IOCTL code (T == 0) then this parameter has the same value as the code on Unix.</span></span> <span data-ttu-id="ea915-145">Se si tratta di un comando IOCTL Windows Sockets 2 generico (T = = 1), questo parametro può essere utilizzato come estensione del parametro code per fornire valori di codice aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="ea915-145">If this is a generic Windows Sockets 2 IOCTL (T == 1) then this parameter can be used as an extension of the code parameter to provide additional code values.</span></span>

<span data-ttu-id="ea915-146">**Codice** Quantità a 16 bit che contiene il codice IOCTL specifico per l'operazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-146">**Code** The 16-bit quantity that contains the specific IOCTL code for the operation.</span></span>

## <a name="unix-ioctl-codes"></a><span data-ttu-id="ea915-147">Codici IOCTL UNIX</span><span class="sxs-lookup"><span data-stu-id="ea915-147">Unix IOCTL codes</span></span>

<span data-ttu-id="ea915-148">Sono supportati i seguenti codici IOCTL UNIX (comandi).</span><span class="sxs-lookup"><span data-stu-id="ea915-148">The following Unix IOCTL codes (commands) are supported.</span></span>

### <a name="fionbio"></a><span data-ttu-id="ea915-149">FIONBIO</span><span class="sxs-lookup"><span data-stu-id="ea915-149">FIONBIO</span></span>

<span data-ttu-id="ea915-150">Abilitare o disabilitare la modalità non di blocco nei socket *s*.</span><span class="sxs-lookup"><span data-stu-id="ea915-150">Enable or disable non-blocking mode on socket *s*.</span></span> <span data-ttu-id="ea915-151">Il parametro *lpvInBuffer* punta a un **unsigned long** (QoS), che è diverso da zero se è necessario abilitare la modalità non di blocco e zero se deve essere disabilitato.</span><span class="sxs-lookup"><span data-stu-id="ea915-151">The *lpvInBuffer* parameter points at an **unsigned long** (QoS), which is nonzero if non-blocking mode is to be enabled and zero if it is to be disabled.</span></span> <span data-ttu-id="ea915-152">Quando un socket viene creato, viene eseguito in modalità di blocco, ovvero la modalità non di blocco è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="ea915-152">When a socket is created, it operates in blocking mode (that is, non-blocking mode is disabled).</span></span> <span data-ttu-id="ea915-153">Questo è coerente con i socket BSD.</span><span class="sxs-lookup"><span data-stu-id="ea915-153">This is consistent with BSD sockets.</span></span>

<span data-ttu-id="ea915-154">La routine [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) o [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) imposta automaticamente un socket in modalità non di blocco.</span><span class="sxs-lookup"><span data-stu-id="ea915-154">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) or [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) routine automatically sets a socket to non-blocking mode.</span></span> <span data-ttu-id="ea915-155">Se **WSAAsyncSelect** o **WSAEventSelect** è stato emesso su un socket, qualsiasi tentativo di usare [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) per impostare il socket sulla modalità di blocco avrà esito negativo con WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="ea915-155">If **WSAAsyncSelect** or **WSAEventSelect** has been issued on a socket, then any attempt to use [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) to set the socket back to blocking mode will fail with WSAEINVAL.</span></span> <span data-ttu-id="ea915-156">Per impostare di nuovo il socket sulla modalità di blocco, un'applicazione deve prima disabilitare **WSAAsyncSelect** chiamando **WSAAsyncSelect** con il parametro *Levent* uguale a zero oppure disabilitare **WSAEventSelect** chiamando **WSAEventSelect** con il parametro *lNetworkEvents* uguale a zero.</span><span class="sxs-lookup"><span data-stu-id="ea915-156">To set the socket back to blocking mode, an application must first disable **WSAAsyncSelect** by calling **WSAAsyncSelect** with the *lEvent* parameter equal to zero, or disable **WSAEventSelect** by calling **WSAEventSelect** with the *lNetworkEvents* parameter equal to zero.</span></span>

### <a name="fionread"></a><span data-ttu-id="ea915-157">FIONREAD</span><span class="sxs-lookup"><span data-stu-id="ea915-157">FIONREAD</span></span>

<span data-ttu-id="ea915-158">Determinare la quantità di dati che possono essere letti in modo atomico da socket *s*.</span><span class="sxs-lookup"><span data-stu-id="ea915-158">Determine the amount of data that can be read atomically from socket *s*.</span></span> <span data-ttu-id="ea915-159">Il parametro *lpvOutBuffer* punta a un oggetto **Long senza segno** in cui [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) archivia il risultato.</span><span class="sxs-lookup"><span data-stu-id="ea915-159">The *lpvOutBuffer* parameter points at an **unsigned long** in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

<span data-ttu-id="ea915-160">Se il socket passato nel parametro *s* è orientato al flusso, ad esempio il tipo Sock \_ Stream, **FIONREAD** restituisce la quantità totale di dati che è possibile leggere in una singola operazione di ricezione. si tratta in genere dello stesso valore della quantità totale di dati accodati nel socket (poiché un flusso di dati è orientato ai byte, questa operazione non è garantita).</span><span class="sxs-lookup"><span data-stu-id="ea915-160">If the socket passed in the *s* parameter is stream oriented (for example, type SOCK\_STREAM), **FIONREAD** returns the total amount of data that can be read in a single receive operation; this is normally the same as the total amount of data queued on the socket (since a data stream is byte-oriented, this is not guaranteed).</span></span>

<span data-ttu-id="ea915-161">Se il socket passato nel parametro *s* è orientato ai messaggi (ad esempio, digitare Sock \_ DGRAM), **FIONREAD** restituisce il numero totale di byte disponibili per la lettura e non le dimensioni del primo datagramma (messaggio) accodato nel socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-161">If the socket passed in the *s* parameter is message oriented (for example, type SOCK\_DGRAM), **FIONREAD** returns the reports the total number of bytes available to read, not the size of the first datagram (message) queued on the socket.</span></span>

### <a name="siocatmark"></a><span data-ttu-id="ea915-162">SIOCATMARK</span><span class="sxs-lookup"><span data-stu-id="ea915-162">SIOCATMARK</span></span>

<span data-ttu-id="ea915-163">Determinare se tutti i dati di OOB sono stati letti o meno.</span><span class="sxs-lookup"><span data-stu-id="ea915-163">Determine whether or not all OOB data has been read.</span></span> <span data-ttu-id="ea915-164">Si applica solo a un socket di tipo Stream, ad esempio il tipo SOCK \_ Stream, che è stato configurato per la ricezione inline di qualsiasi dato OOB ( \_ OOBINLINE).</span><span class="sxs-lookup"><span data-stu-id="ea915-164">This applies only to a socket of stream-style (for example, type SOCK\_STREAM) that has been configured for inline reception of any OOB data (SO\_OOBINLINE).</span></span> <span data-ttu-id="ea915-165">Se nessun dato OOB è in attesa di essere letto, l'operazione restituisce TRUE.</span><span class="sxs-lookup"><span data-stu-id="ea915-165">If no OOB data is waiting to be read, the operation returns TRUE.</span></span> <span data-ttu-id="ea915-166">In caso contrario, restituisce **false** e la successiva operazione di ricezione eseguita sul socket recupererà alcuni o tutti i dati che precedono il contrassegno; l'applicazione deve usare l'operazione **SIOCATMARK** per determinare se rimane.</span><span class="sxs-lookup"><span data-stu-id="ea915-166">Otherwise, it returns **FALSE**, and the next receive operation performed on the socket will retrieve some or all of the data preceding the mark; the application should use the **SIOCATMARK** operation to determine whether any remains.</span></span> <span data-ttu-id="ea915-167">Se sono presenti dati normali che precedono i dati urgenti (fuori banda), verranno ricevuti in ordine.</span><span class="sxs-lookup"><span data-stu-id="ea915-167">If there is any normal data preceding the urgent (out of band) data, it will be received in order.</span></span> <span data-ttu-id="ea915-168">Si noti che le operazioni [**ricezione**](/windows/desktop/api/winsock/nf-winsock-recv) non mescoleranno mai OOB e i dati normali nella stessa chiamata. *lpvOutBuffer* punta a un bool in cui [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) archivia il risultato.</span><span class="sxs-lookup"><span data-stu-id="ea915-168">(Note that [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operations will never mix OOB and normal data in the same call.) *lpvOutBuffer* points at a BOOL in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

## <a name="windows-sockets-2-commands"></a><span data-ttu-id="ea915-169">Comandi di Windows Sockets 2</span><span class="sxs-lookup"><span data-stu-id="ea915-169">Windows Sockets 2 commands</span></span>

<span data-ttu-id="ea915-170">Sono supportati i seguenti comandi di Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="ea915-170">The following Windows Sockets 2 commands are supported.</span></span>

### <a name="sio_acquire_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="ea915-171">SIO_ACQUIRE_PORT_RESERVATION (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-171">SIO_ACQUIRE_PORT_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-172">Richiedere una prenotazione di runtime per un blocco di porte TCP o UDP.</span><span class="sxs-lookup"><span data-stu-id="ea915-172">Request a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="ea915-173">Per le prenotazioni di porte di runtime, il pool di porte richiede che le prenotazioni vengano utilizzate dal processo sul cui socket è stata concessa la prenotazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-173">For runtime port reservations, the port pool requires that reservations be consumed from the process on whose socket the reservation was granted.</span></span> <span data-ttu-id="ea915-174">Le prenotazioni di porte di runtime durano solo fino a quando la durata del socket in cui è stata chiamata la [**\_ porta di acquisizione \_ \_ sio**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) è stata chiamata.</span><span class="sxs-lookup"><span data-stu-id="ea915-174">Runtime port reservations last only as long as the lifetime of the socket on which the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL was called.</span></span> <span data-ttu-id="ea915-175">Al contrario, le prenotazioni di porte permanenti create utilizzando la funzione [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) o [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) possono essere utilizzate da qualsiasi processo con la possibilità di ottenere prenotazioni permanenti.</span><span class="sxs-lookup"><span data-stu-id="ea915-175">In contrast, persistent port reservations created using the [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) or [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) function may be consumed by any process with the ability to obtain persistent reservations.</span></span>

<span data-ttu-id="ea915-176">Per informazioni più dettagliate, vedere le informazioni di riferimento sulla [**\_ prenotazione della \_ porta \_ sio Acquire**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-176">For more detailed information, see the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) reference.</span></span>

<span data-ttu-id="ea915-177">[**Sio \_ La \_ \_ prenotazione della porta di acquisizione**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) è supportata in Windows Vista e nelle versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-177">[**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_address_list_change-opcode-setting-v-t1"></a><span data-ttu-id="ea915-178">\_Modifica dell' \_ elenco di indirizzi sio \_ (impostazione opcode: V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-178">SIO\_ADDRESS\_LIST\_CHANGE (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ea915-179">Per ricevere la notifica delle modifiche nell'elenco degli indirizzi di trasporto locali della famiglia di protocolli del socket a cui l'applicazione può eseguire il binding.</span><span class="sxs-lookup"><span data-stu-id="ea915-179">To receive notification of changes in the list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="ea915-180">Al completamento di questo IOCTL non verranno fornite informazioni di output; il completamento indica semplicemente che l'elenco di indirizzi locali disponibili è stato modificato ed è necessario eseguire di nuovo la query tramite la **\_ query dell' \_ elenco \_ di indirizzi sio**.</span><span class="sxs-lookup"><span data-stu-id="ea915-180">No output information will be provided upon completion of this IOCTL; the completion merely indicates that list of available local address has changed and should be queried again through **SIO\_ADDRESS\_LIST\_QUERY**.</span></span>

<span data-ttu-id="ea915-181">Viene presupposto (sebbene non necessario) che l'applicazione utilizzi l'I/O sovrapposto per ricevere una notifica di modifica tramite il completamento della richiesta di **\_ modifica dell' \_ elenco \_ di indirizzi sio** .</span><span class="sxs-lookup"><span data-stu-id="ea915-181">It is assumed (although not required) that the application uses overlapped I/O to be notified of change by completion of **SIO\_ADDRESS\_LIST\_CHANGE** request.</span></span> <span data-ttu-id="ea915-182">In alternativa, se la **\_ modifica dell' \_ elenco \_ di indirizzi sio** viene eseguita su un socket non bloccante e senza parametri sovrapposti (*lpOverlapped* /  *il lpCompletionRoutine* sono impostati su **null**), il comando verrà completato immediatamente con l'errore [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-182">Alternatively, if the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL is issued on a non-blocking socket and without overlapped parameters (*lpOverlapped*/ *lpCompletionRoutine* are set to **NULL**), it will complete immediately with error [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="ea915-183">L'applicazione può quindi attendere gli eventi di modifica dell'elenco indirizzi tramite una chiamata a [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) o [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) con il \_ bit di \_ modifica elenco indirizzi FD \_ impostato nella maschera di bit dell'evento di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-183">The application can then wait for address list change events through a call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ADDRESS\_LIST\_CHANGE bit set in the network event bitmask.</span></span>

### <a name="sio_address_list_query-opcode-setting-o-t1"></a><span data-ttu-id="ea915-184">\_Query di \_ elenco indirizzi sio \_ (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-184">SIO\_ADDRESS\_LIST\_QUERY (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-185">Ottiene un elenco degli indirizzi di trasporto locali della famiglia di protocolli del socket a cui l'applicazione può eseguire il binding.</span><span class="sxs-lookup"><span data-stu-id="ea915-185">Obtains a list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="ea915-186">L'elenco di indirizzi varia in base alla famiglia di indirizzi e alcuni indirizzi sono esclusi dall'elenco.</span><span class="sxs-lookup"><span data-stu-id="ea915-186">The list of addresses varies based on address family and some addresses are excluded from the list.</span></span>

> [!Note] 
> <span data-ttu-id="ea915-187">Negli ambienti plug-n-Play di Windows gli indirizzi possono essere aggiunti e rimossi dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="ea915-187">In Windows Plug-n-Play environments, addresses can be added and removed dynamically.</span></span> <span data-ttu-id="ea915-188">Pertanto, le applicazioni non possono basarsi sulle informazioni restituite dalla **\_ query dell' \_ elenco \_ di indirizzi sio** per essere persistenti.</span><span class="sxs-lookup"><span data-stu-id="ea915-188">Therefore, applications cannot rely on the information returned by **SIO\_ADDRESS\_LIST\_QUERY** to be persistent.</span></span> <span data-ttu-id="ea915-189">Le applicazioni possono registrarsi per le notifiche di modifica degli indirizzi tramite l' **\_ elenco indirizzi sio \_ \_ modificare** IOCTL, che fornisce la notifica tramite l' \_ \_ evento di modifica elenco indirizzi I/o sovrapposto o FD \_ .</span><span class="sxs-lookup"><span data-stu-id="ea915-189">Applications may register for address change notifications through the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL which provides for notification through either overlapped I/O or FD\_ADDRESS\_LIST\_CHANGE event.</span></span> <span data-ttu-id="ea915-190">La sequenza di azioni seguente può essere utilizzata per garantire che l'applicazione disponga sempre di informazioni sull'elenco di indirizzi correnti:</span><span class="sxs-lookup"><span data-stu-id="ea915-190">The following sequence of actions can be used to guarantee that the application always has current address list information:</span></span>

-  <span data-ttu-id="ea915-191">Rilascia IOCTL di **\_ \_ \_ modifica elenco indirizzi sio**</span><span class="sxs-lookup"><span data-stu-id="ea915-191">Issue **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL</span></span>
-  <span data-ttu-id="ea915-192">Errore **di \_ \_ \_ query elenco indirizzi sio**</span><span class="sxs-lookup"><span data-stu-id="ea915-192">Issue **SIO\_ADDRESS\_LIST\_QUERY** IOCTL</span></span>
-  <span data-ttu-id="ea915-193">Ogni volta che la **\_ \_ \_ modifica** dell'elenco di indirizzi sio invia una notifica all'applicazione della modifica dell'elenco di indirizzi (tramite i/o sovrapposti o segnalando \_ \_ l'evento di modifica dell'elenco di indirizzi FD \_ ), l'intera sequenza di azioni deve essere ripetuta.</span><span class="sxs-lookup"><span data-stu-id="ea915-193">Whenever **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL notifies the application of address list change (either through overlapped I/O or by signaling FD\_ADDRESS\_LIST\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="ea915-194">Per informazioni più dettagliate, vedere il riferimento alla [**\_ \_ \_ query dell'elenco indirizzi sio**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-194">For more detailed information, see the [**SIO\_ADDRESS\_LIST\_QUERY**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-195">**Sio \_ La \_ \_ query elenco indirizzi** è supportata in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-195">**SIO\_ADDRESS\_LIST\_QUERY** is supported on Windows 2000 and later.</span></span>

### <a name="sio_apply_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="ea915-196">\_Impostazione applica \_ trasporto sio \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-196">SIO\_APPLY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-197">Applica un'impostazione di trasporto a un socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-197">Applies a transport setting to a socket.</span></span> <span data-ttu-id="ea915-198">L'impostazione di trasporto da applicare è basata sull' [**\_ \_ ID di impostazione del trasporto**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passato nel parametro *lpvInBuffer* .</span><span class="sxs-lookup"><span data-stu-id="ea915-198">The transport setting being applied is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="ea915-199">L'unica impostazione del trasporto attualmente definita è per la funzionalità di **\_ notifica in tempo \_ \_ reale** in un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="ea915-199">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="ea915-200">Se l' [**\_ \_ ID di impostazione del trasporto**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passato ha il membro **GUID** impostato sulla **\_ \_ \_ funzionalità di notifica in tempo reale**, si tratta di una richiesta per applicare le impostazioni di notifica in tempo reale per il socket TCP usato con [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) per ricevere notifiche di rete in background in un'app di Windows Store.</span><span class="sxs-lookup"><span data-stu-id="ea915-200">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to apply real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span>

<span data-ttu-id="ea915-201">Per informazioni più dettagliate, vedere la Guida di riferimento per l' [**\_ impostazione del \_ trasporto \_ sio Apply**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-201">For more detailed information, see the [**SIO\_APPLY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-202">**Sio \_ L' \_ \_ impostazione applica trasporto** è supportata in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-202">**SIO\_APPLY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_associate_handle-opcode-setting-i-t1"></a><span data-ttu-id="ea915-203">\_Handle di associazione sio \_ (impostazione opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-203">SIO\_ASSOCIATE\_HANDLE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ea915-204">Associa il socket all'handle specificato di un'interfaccia correlata.</span><span class="sxs-lookup"><span data-stu-id="ea915-204">Associate this socket with the specified handle of a companion interface.</span></span> <span data-ttu-id="ea915-205">Il buffer di input contiene il valore integer corrispondente alla costante del manifesto per l'interfaccia complementare, ad esempio \_ netdev e \_ TAPI., seguito da un valore che rappresenta un handle dell'interfaccia complementare specificata, insieme a qualsiasi altra informazione richiesta.</span><span class="sxs-lookup"><span data-stu-id="ea915-205">The input buffer contains the integer value corresponding to the manifest constant for the companion interface (for example, TH\_NETDEV and TH\_TAPI.), followed by a value that is a handle of the specified companion interface, along with any other required information.</span></span> <span data-ttu-id="ea915-206">Per informazioni dettagliate specifiche su una particolare interfaccia complementare, vedere la sezione appropriata negli [allegati di Winsock](winsock-annexes.md) .</span><span class="sxs-lookup"><span data-stu-id="ea915-206">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="ea915-207">La dimensione totale viene riflessa nella lunghezza del buffer di input.</span><span class="sxs-lookup"><span data-stu-id="ea915-207">The total size is reflected in the input buffer length.</span></span> <span data-ttu-id="ea915-208">Non è necessario alcun buffer di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-208">No output buffer is required.</span></span> <span data-ttu-id="ea915-209">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ea915-209">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span> <span data-ttu-id="ea915-210">È possibile recuperare l'handle associato da questo IOCTL usando **l' \_ \_ handle di conversione sio**.</span><span class="sxs-lookup"><span data-stu-id="ea915-210">The handle associated by this IOCTL can be retrieved using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="ea915-211">È possibile utilizzare un'interfaccia complementare, ad esempio, se un particolare provider fornisce (1) una grande quantità di controlli aggiuntivi sul comportamento di un socket e (2) i controlli sono sufficientemente specifici del provider e non eseguono il mapping alle funzioni socket Windows esistenti o a quelle che potrebbero essere definite in futuro.</span><span class="sxs-lookup"><span data-stu-id="ea915-211">A companion interface might be used, for example, if a particular provider provides (1) a great deal of additional controls over the behavior of a socket and (2) the controls are provider-specific enough that they do not map to existing Windows Socket functions or ones likely to be defined in the future.</span></span> <span data-ttu-id="ea915-212">È consigliabile utilizzare il Component Object Model (COM) invece di questo IOCTL per individuare e rilevare altre interfacce che potrebbero essere supportate da un socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-212">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="ea915-213">Questo IOCTL è presente per la compatibilità (inversa) con i sistemi in cui COM non è disponibile o non può essere usato per altri motivi.</span><span class="sxs-lookup"><span data-stu-id="ea915-213">This IOCTL is present for (reverse) compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_associate_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="ea915-214">\_Prenotazione porta di associazione sio \_ \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-214">SIO\_ASSOCIATE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-215">Associare un socket a una prenotazione di runtime o permanente per un blocco di porte TCP o UDP identificato dal token di prenotazione della porta.</span><span class="sxs-lookup"><span data-stu-id="ea915-215">Associate a socket with a persistent or runtime reservation for a block of TCP or UDP ports identified by the port reservation token.</span></span> <span data-ttu-id="ea915-216">Prima di associare il socket, è necessario emettere l'IOCTL di [**\_ prenotazione della \_ porta \_ di associazione sio**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-216">The [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) IOCTL must be issued before the socket is bound.</span></span> <span data-ttu-id="ea915-217">Se e quando il socket è associato, la porta assegnata verrà selezionata dalla prenotazione della porta identificata dal token specificato.</span><span class="sxs-lookup"><span data-stu-id="ea915-217">If and when the socket is bound, the port assigned to it will be selected from the port reservation identified by the given token.</span></span> <span data-ttu-id="ea915-218">Se non è disponibile alcuna porta dalla prenotazione specificata, la chiamata della funzione [**Bind**](/windows/desktop/api/winsock/nf-winsock-bind) avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-218">If no ports are available from the specified reservation, the [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) function call will fail.</span></span>

<span data-ttu-id="ea915-219">Per informazioni più dettagliate, vedere il riferimento alla [**\_ prenotazione della \_ porta \_ di associazione sio**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-219">For more detailed information, see the [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) reference.</span></span>

<span data-ttu-id="ea915-220">[**Sio \_ La \_ \_ prenotazione delle porte associate**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) è supportata in Windows Vista e nelle versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-220">[**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_base_handle-opcode-setting-o-t1"></a><span data-ttu-id="ea915-221">\_ \_ Handle di base SIO (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-221">SIO\_BASE\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-222">Recupera l'handle del provider di servizi di base per un socket specificato.</span><span class="sxs-lookup"><span data-stu-id="ea915-222">Retrieves the base service provider handle for a given socket.</span></span> <span data-ttu-id="ea915-223">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="ea915-223">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ea915-224">Un provider di servizi su più livelli non intercetta mai questo IOCTL poiché il valore restituito deve essere l'handle del socket del provider di servizi di base.</span><span class="sxs-lookup"><span data-stu-id="ea915-224">A layered service provider would never intercept this IOCTL since the return value must be the socket handle from the base service provider.</span></span>

<span data-ttu-id="ea915-225">Se il buffer di output non è sufficientemente grande per un handle di socket (il valore di *cbOutBuffer* è inferiore alla dimensione di un **socket**) o il parametro *lpvOutBuffer* è un puntatore **null** , viene restituito un **\_ errore socket** come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-225">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ea915-226">**Sio \_ L' \_ handle di base** è definito nel file di intestazione *mswsock. h* e supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-226">**SIO\_BASE\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle-opcode-setting-o-t1"></a><span data-ttu-id="ea915-227">\_Handle BSP sio \_ (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-227">SIO\_BSP\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-228">Recupera l'handle del provider di servizi di base per un socket usato dalla funzione [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="ea915-228">Retrieves the base service provider handle for a socket used by the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span> <span data-ttu-id="ea915-229">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="ea915-229">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ea915-230">Questo IOCTL viene usato da un provider di servizi su più livelli per assicurarsi che il provider intercetta la funzione [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="ea915-230">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span>

<span data-ttu-id="ea915-231">Se il buffer di output non è sufficientemente grande per un handle di socket (il valore di *cbOutBuffer* è inferiore alla dimensione di un **socket**) o il parametro *lpvOutBuffer* è un puntatore **null** , viene restituito un **\_ errore socket** come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-231">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ea915-232">**Sio \_ L' \_ handle BSP** è definito nel file di intestazione *mswsock. h* e supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-232">**SIO\_BSP\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_select-opcode-setting-o-t1"></a><span data-ttu-id="ea915-233">\_ \_ Selezione handle BSP sio \_ (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-233">SIO\_BSP\_HANDLE\_SELECT (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-234">Recupera l'handle del provider di servizi di base per un socket utilizzato dalla funzione [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) .</span><span class="sxs-lookup"><span data-stu-id="ea915-234">Retrieves the base service provider handle for a socket used by the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span> <span data-ttu-id="ea915-235">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="ea915-235">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ea915-236">Questo IOCTL viene usato da un provider di servizi su più livelli per assicurarsi che il provider intercetta la funzione [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) .</span><span class="sxs-lookup"><span data-stu-id="ea915-236">This Ioctl is used by a layered service provider to ensure the provider intercept the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span>

<span data-ttu-id="ea915-237">Se il buffer di output non è sufficientemente grande per un handle di socket (il valore di *cbOutBuffer* è inferiore alla dimensione di un **socket**) o il parametro *lpvOutBuffer* è un puntatore **null** , viene restituito un **\_ errore socket** come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-237">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ea915-238">**Sio \_ La \_ \_ selezione dell'handle BSP** viene definita nel file di intestazione *mswsock. h* e supportata in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-238">**SIO\_BSP\_HANDLE\_SELECT** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_poll-opcode-setting-o-t1"></a><span data-ttu-id="ea915-239">\_ \_ Polling dell'handle di sio BSP \_ (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-239">SIO\_BSP\_HANDLE\_POLL (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-240">Recupera l'handle del provider di servizi di base per un socket usato dalla funzione [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) .</span><span class="sxs-lookup"><span data-stu-id="ea915-240">Retrieves the base service provider handle for a socket used by the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="ea915-241">Il parametro *lpOverlapped* deve essere un puntatore **null** .</span><span class="sxs-lookup"><span data-stu-id="ea915-241">The *lpOverlapped* parameter must be a **NULL** pointer.</span></span> <span data-ttu-id="ea915-242">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="ea915-242">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="ea915-243">Questo IOCTL viene usato da un provider di servizi su più livelli per assicurarsi che il provider intercetta la funzione [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) .</span><span class="sxs-lookup"><span data-stu-id="ea915-243">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span>

<span data-ttu-id="ea915-244">Se il buffer di output non è sufficientemente grande per un handle di socket (il valore di *cbOutBuffer* è inferiore alle dimensioni di un **socket**), il parametro *lpvOutBuffer* è un puntatore **null** o il parametro *lpOverlapped* non è un puntatore **null** , viene restituito un **\_ errore socket** come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-244">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**), the *lpvOutBuffer* parameter is a **NULL** pointer, or the *lpOverlapped* parameter is not a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ea915-245">**Sio \_ Il \_ \_ polling dell'handle BSP** è definito nel file di intestazione *mswsock. h* e supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-245">**SIO\_BSP\_HANDLE\_POLL** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_chk_qos-opcode-setting-i-o-t3"></a><span data-ttu-id="ea915-246">\_QoS sio chk \_ (impostazione opcode: I, O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-246">SIO\_CHK\_QOS (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="ea915-247">Recupera informazioni sulle caratteristiche del traffico QoS.</span><span class="sxs-lookup"><span data-stu-id="ea915-247">Retrieves information about QoS traffic characteristics.</span></span> <span data-ttu-id="ea915-248">Durante la fase di transizione sul sistema di invio tra la configurazione del flusso e la ricezione di un messaggio RESV (vedere [come il servizio RSVP richiama TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) per ulteriori informazioni sulla fase di transizione), il traffico associato a un flusso di RSVP viene modellato in base al tipo di servizio ([massimo sforzo](/previous-versions/windows/desktop/qos/best-effort), [carico controllato](/previous-versions/windows/desktop/qos/controlled-load)o [garantito](/previous-versions/windows/desktop/qos/guaranteed)).</span><span class="sxs-lookup"><span data-stu-id="ea915-248">During the transitional phase on the sending system between flow setup and the receipt of a RESV message (see [How the RSVP Service Invokes TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) for more information on the transitional phase), traffic associated with an RSVP flow is shaped based on service type ([BEST EFFORT](/previous-versions/windows/desktop/qos/best-effort), [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load), or [GUARANTEED](/previous-versions/windows/desktop/qos/guaranteed)).</span></span> <span data-ttu-id="ea915-249">Per altre informazioni, vedere [uso di sio \_ chk \_ QoS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) nella sezione relativa alla [qualità del servizio](/previous-versions/windows/desktop/qos/qos-start-page) di Platform SDK.</span><span class="sxs-lookup"><span data-stu-id="ea915-249">For more information, see [Using SIO\_CHK\_QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) in the [Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) section of the Platform SDK.</span></span>

### <a name="sio_cpu_affinity-opcode-setting-i-t3"></a><span data-ttu-id="ea915-250">SIO_CPU_AFFINITY (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-250">SIO_CPU_AFFINITY (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-251">Consente la condivisione delle porte e la ricezione della parallelizzazione delle indicazioni.</span><span class="sxs-lookup"><span data-stu-id="ea915-251">Enables port sharing and receive indication parallelization.</span></span> <span data-ttu-id="ea915-252">Quando l'applicazione utilizza questa opzione socket per associare i socket a processori diversi e quindi associa i socket allo stesso indirizzo, le indicazioni di ricezione verranno distribuite tra i socket basati sull'hash di Receive-Side Scaling (RSS).</span><span class="sxs-lookup"><span data-stu-id="ea915-252">When your application uses this socket option to associate sockets to different processors, and then binds the sockets to the same address, receive indications will be distributed across the sockets based on Receive Side Scaling (RSS) hash.</span></span> <span data-ttu-id="ea915-253">Le impostazioni RSS non cambiano, quindi qualsiasi flusso specificato (endpoint locale, coppia di endpoint remoti) sarà sempre indicato nello stesso processore.</span><span class="sxs-lookup"><span data-stu-id="ea915-253">The RSS settings don't change, so any given flow (local endpoint, remote endpoint pair) will always be indicated on the same processor.</span></span> <span data-ttu-id="ea915-254">Di conseguenza, tutti i pacchetti che appartengono a un determinato flusso verranno indicati nello stesso socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-254">As a result, all packets belonging to a given flow will be indicated to the same socket.</span></span> <span data-ttu-id="ea915-255">Questo IOCTL deve essere chiamato prima dell'associazione; in caso contrario, verrà restituito WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="ea915-255">This IOCTL must be called prior to bind, otherwise WSAEINVAL will be returned.</span></span> <span data-ttu-id="ea915-256">Il buffer di input è un indice del processore (in base zero) di tipo USHORT.</span><span class="sxs-lookup"><span data-stu-id="ea915-256">The input buffer is a processor index (0-based) of type USHORT.</span></span> <span data-ttu-id="ea915-257">IOCTL è incompatibile con SO_REUSEADDR e SO_REUSE_MULTICASTPORT.</span><span class="sxs-lookup"><span data-stu-id="ea915-257">The IOCTL is incompatible with SO_REUSEADDR and SO_REUSE_MULTICASTPORT.</span></span> <span data-ttu-id="ea915-258">Supportato solo per i socket UDP.</span><span class="sxs-lookup"><span data-stu-id="ea915-258">Only supported for UDP sockets.</span></span>

> [!NOTE]
> <span data-ttu-id="ea915-259">Se la destinazione è la versione 10.0.19041.0 (Windows 10, versione 2004) del Windows SDK, usare il valore `0x98000015` anziché il nome **SIO_CPU_AFFINITY**.</span><span class="sxs-lookup"><span data-stu-id="ea915-259">If you're targeting version 10.0.19041.0 (Windows 10, version 2004) of the Windows SDK, then use the value `0x98000015` instead of the name **SIO_CPU_AFFINITY**.</span></span>

### <a name="sio_enable_circular_queueing-opcode-setting-v-t1"></a><span data-ttu-id="ea915-260">SIO \_ Abilita \_ \_ Accodamento circolare (impostazione opcode: V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-260">SIO\_ENABLE\_CIRCULAR\_QUEUEING (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ea915-261">Indica al provider di servizi sottostante orientato ai messaggi che un messaggio appena raggiunto non deve mai essere eliminato a causa di un overflow della coda del buffer.</span><span class="sxs-lookup"><span data-stu-id="ea915-261">Indicates to the underlying message-oriented service provider that a newly arrived message should never be dropped because of a buffer queue overflow.</span></span> <span data-ttu-id="ea915-262">Al contrario, il messaggio meno recente nella coda deve essere eliminato per poter contenere il messaggio appena arrivato.</span><span class="sxs-lookup"><span data-stu-id="ea915-262">Instead, the oldest message in the queue should be eliminated in order to accommodate the newly arrived message.</span></span> <span data-ttu-id="ea915-263">Non sono necessari buffer di input e di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-263">No input and output buffers are required.</span></span> <span data-ttu-id="ea915-264">Si noti che questo IOCTL è valido solo per i socket associati a protocolli non affidabili e orientati ai messaggi.</span><span class="sxs-lookup"><span data-stu-id="ea915-264">Note that this IOCTL is only valid for sockets associated with unreliable, message-oriented protocols.</span></span> <span data-ttu-id="ea915-265">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ea915-265">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_find_route-opcode-setting-o-t1"></a><span data-ttu-id="ea915-266">\_ \_ Route di ricerca SIO (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-266">SIO\_FIND\_ROUTE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-267">Quando viene emesso, questo IOCTL richiede che venga individuata la route per l'indirizzo remoto specificato come [**sockaddr**](sockaddr-2.md) nel buffer di input.</span><span class="sxs-lookup"><span data-stu-id="ea915-267">When issued, this IOCTL requests that the route to the remote address specified as a [**sockaddr**](sockaddr-2.md) in the input buffer be discovered.</span></span> <span data-ttu-id="ea915-268">Se l'indirizzo è già presente nella cache locale, la relativa voce viene invalidata.</span><span class="sxs-lookup"><span data-stu-id="ea915-268">If the address already exists in the local cache, its entry is invalidated.</span></span> <span data-ttu-id="ea915-269">Nel caso di IPX di Novell, questa chiamata avvia un GetLocalTarget IPX (GLT), che esegue una query sulla rete per l'indirizzo remoto specificato.</span><span class="sxs-lookup"><span data-stu-id="ea915-269">In the case of Novell's IPX, this call initiates an IPX GetLocalTarget (GLT), which queries the network for the given remote address.</span></span>

### <a name="sio_flush-opcode-setting-v-t1"></a><span data-ttu-id="ea915-270">\_Scaricamento SIO (impostazione opcode: V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-270">SIO\_FLUSH (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ea915-271">Elimina il contenuto corrente della coda di invio associata al socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-271">Discards current contents of the sending queue associated with this socket.</span></span> <span data-ttu-id="ea915-272">Non sono necessari buffer di input e di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-272">No input and output buffers are required.</span></span> <span data-ttu-id="ea915-273">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ea915-273">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_get_broadcast_address-opcode-setting-o-t1"></a><span data-ttu-id="ea915-274">\_ \_ Indirizzo di trasmissione sio Get \_ (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-274">SIO\_GET\_BROADCAST\_ADDRESS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-275">Questo IOCTL riempie il buffer di output con una struttura [sockaddr](sockaddr-2.md) contenente un indirizzo di broadcast adatto da usare con [**SendTo**](/windows/desktop/api/winsock/nf-winsock-sendto) /  [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span><span class="sxs-lookup"><span data-stu-id="ea915-275">This IOCTL fills the output buffer with a [sockaddr](sockaddr-2.md) structure containing a suitable broadcast address for use with [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto)/ [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span></span> <span data-ttu-id="ea915-276">Questo IOCTL non è supportato per i socket IPv6 e restituisce il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) .</span><span class="sxs-lookup"><span data-stu-id="ea915-276">This IOCTL is not supported for IPv6 sockets and returns the [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code.</span></span>

### <a name="sio_get_extension_function_pointer-opcode-setting-o-i-t1"></a><span data-ttu-id="ea915-277">\_Puntatore alla funzione di estensione sio Get \_ \_ \_ (impostazione opcode: O, I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-277">SIO\_GET\_EXTENSION\_FUNCTION\_POINTER (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="ea915-278">Recuperare un puntatore alla funzione di estensione specificata supportata dal provider di servizi associato.</span><span class="sxs-lookup"><span data-stu-id="ea915-278">Retrieve a pointer to the specified extension function supported by the associated service provider.</span></span> <span data-ttu-id="ea915-279">Il buffer di input contiene un identificatore univoco globale (**GUID**) il cui valore identifica la funzione di estensione in questione.</span><span class="sxs-lookup"><span data-stu-id="ea915-279">The input buffer contains a globally unique identifier (**GUID**) whose value identifies the extension function in question.</span></span> <span data-ttu-id="ea915-280">Il puntatore alla funzione desiderata viene restituito nel buffer di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-280">The pointer to the desired function is returned in the output buffer.</span></span> <span data-ttu-id="ea915-281">Gli identificatori delle funzioni di estensione sono stabiliti dai fornitori di provider di servizi e devono essere inclusi nella documentazione del fornitore che descrive le funzionalità e la semantica delle funzioni di estensione.</span><span class="sxs-lookup"><span data-stu-id="ea915-281">Extension function identifiers are established by service provider vendors and should be included in vendor documentation that describes extension function capabilities and semantics.</span></span>

<span data-ttu-id="ea915-282">I valori GUID per le funzioni di estensione supportate dal provider di servizi TCP/IP di Windows sono definiti nel file di intestazione *mswsock. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-282">The GUID values for extension functions supported by the Windows TCP/IP service provider are defined in the *Mswsock.h* header file.</span></span> <span data-ttu-id="ea915-283">Il valore possibile per questi GUID è il seguente:</span><span class="sxs-lookup"><span data-stu-id="ea915-283">The possible value for these GUIDs are as follows:</span></span>

| <span data-ttu-id="ea915-284">Termine</span><span class="sxs-lookup"><span data-stu-id="ea915-284">Term</span></span>                                                                                                                | <span data-ttu-id="ea915-285">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ea915-285">Description</span></span>                                                                               |
|-|-|
| <span data-ttu-id="ea915-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>\_ACCEPTEX WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID\_ACCEPTEX</span></span><br/>                                     | <span data-ttu-id="ea915-287">Funzione di estensione [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) .</span><span class="sxs-lookup"><span data-stu-id="ea915-287">The [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) extension function.</span></span><br/>                         |
| <span data-ttu-id="ea915-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>\_CONNECTEX WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID\_CONNECTEX</span></span><br/>                                  | <span data-ttu-id="ea915-289">Funzione di estensione [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) .</span><span class="sxs-lookup"><span data-stu-id="ea915-289">The [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) extension function.</span></span> <br/>                      |
| <span data-ttu-id="ea915-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>\_DISCONNECTEX WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID\_DISCONNECTEX</span></span><br/>                         | <span data-ttu-id="ea915-291">Funzione di estensione [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-291">The [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) extension function.</span></span> <br/>                |
| <span data-ttu-id="ea915-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>\_GETACCEPTEXSOCKADDRS WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID\_GETACCEPTEXSOCKADDRS</span></span><br/> | <span data-ttu-id="ea915-293">Funzione di estensione [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) .</span><span class="sxs-lookup"><span data-stu-id="ea915-293">The [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) extension function.</span></span><br/> |
| <span data-ttu-id="ea915-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>\_TRANSMITFILE WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID\_TRANSMITFILE</span></span><br/>                         | <span data-ttu-id="ea915-295">Funzione di estensione [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) .</span><span class="sxs-lookup"><span data-stu-id="ea915-295">The [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) extension function.</span></span><br/>                 |
| <span data-ttu-id="ea915-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>\_TRANSMITPACKETS WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID\_TRANSMITPACKETS</span></span><br/>                | <span data-ttu-id="ea915-297">Funzione di estensione [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) .</span><span class="sxs-lookup"><span data-stu-id="ea915-297">The [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) extension function.</span></span> <br/>          |
| <span data-ttu-id="ea915-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>\_WSARECVMSG WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID\_WSARECVMSG</span></span><br/>                               | <span data-ttu-id="ea915-299">Funzione di estensione [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) .</span><span class="sxs-lookup"><span data-stu-id="ea915-299">The [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) extension function.</span></span><br/>                     |
| <span data-ttu-id="ea915-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>\_WSASENDMSG WSAID</span><span class="sxs-lookup"><span data-stu-id="ea915-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID\_WSASENDMSG</span></span><br/>                               | <span data-ttu-id="ea915-301">Funzione di estensione [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="ea915-301">The [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) extension function.</span></span> <br/>                      |

### <a name="sio_get_group_qos-opcode-setting-o-i-t1"></a><span data-ttu-id="ea915-302">\_QoS del gruppo sio Get \_ \_ (impostazione opcode: O, I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-302">SIO\_GET\_GROUP\_QOS (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="ea915-303">Riservato per un utilizzo futuro con i socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-303">Reserved for future use with sockets.</span></span>

<span data-ttu-id="ea915-304">Recuperare la struttura [**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos) associata al gruppo di socket a cui appartiene il socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-304">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket group to which this socket belongs.</span></span> <span data-ttu-id="ea915-305">Il buffer di input è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-305">The input buffer is optional.</span></span> <span data-ttu-id="ea915-306">Alcuni protocolli (ad esempio, RSVP) consentono di usare il buffer di input per qualificare una richiesta di qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="ea915-306">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="ea915-307">La struttura **QoS** verrà copiata nel buffer di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-307">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="ea915-308">Se il socket non appartiene a un gruppo di socket appropriato, i membri **SendingFlowspec** e **ReceivingFlowspec** della struttura **QoS** restituita vengono impostati su **null**.</span><span class="sxs-lookup"><span data-stu-id="ea915-308">If this socket does not belong to an appropriate socket group, the **SendingFlowspec** and **ReceivingFlowspec** members of the returned **QOS** structure are set to **NULL**.</span></span> <span data-ttu-id="ea915-309">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano la qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="ea915-309">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_get_interface_list-opcode-setting-o-t0"></a><span data-ttu-id="ea915-310">\_ \_ Elenco di interfaccia sio Get \_ (impostazione opcode: O, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ea915-310">SIO\_GET\_INTERFACE\_LIST (opcode setting: O, T==0)</span></span>

<span data-ttu-id="ea915-311">Restituisce un elenco di interfacce IP configurate e dei relativi parametri come una matrice di strutture di [**\_ informazioni di interfaccia**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) .</span><span class="sxs-lookup"><span data-stu-id="ea915-311">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures.</span></span>

> [!Note]  
> <span data-ttu-id="ea915-312">Il supporto di questo comando è obbligatorio per i provider di servizi TCP/IP conformi a Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="ea915-312">Support of this command is mandatory for Windows Sockets 2-compliant TCP/IP service providers.</span></span>

<span data-ttu-id="ea915-313">Il parametro *lpvOutBuffer* punta al buffer in cui archiviare le informazioni sulle interfacce come una matrice di strutture di [**\_ informazioni di interfaccia**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) per gli indirizzi IP unicast sulle interfacce.</span><span class="sxs-lookup"><span data-stu-id="ea915-313">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures for unicast IP addresses on the interfaces.</span></span> <span data-ttu-id="ea915-314">Il parametro *cbOutBuffer* specifica la lunghezza del buffer di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-314">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="ea915-315">Il numero di interfacce restituite (numero di strutture restituite nel buffer a cui punta il parametro *lpvOutBuffer* ) può essere determinato in base alla lunghezza effettiva del buffer di output restituito nel parametro *lpcbBytesReturned* .</span><span class="sxs-lookup"><span data-stu-id="ea915-315">The number of interfaces returned (number of structures returned in the buffer pointed to by *lpvOutBuffer* parameter) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="ea915-316">Se la funzione [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) viene chiamata con **l' \_ \_ \_ elenco di interfacce sio Get** e il membro level del parametro socket *s* non è definito **come \_ IP IPPROTO**, viene restituito **WSAEINVAL** .</span><span class="sxs-lookup"><span data-stu-id="ea915-316">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function is called with **SIO\_GET\_INTERFACE\_LIST** and the level member of the socket *s* parameter is not defined as **IPPROTO\_IP**, **WSAEINVAL** is returned.</span></span> <span data-ttu-id="ea915-317">Una chiamata alla funzione **WSAIoctl** con l' **\_ elenco di \_ interfaccia \_ sio Get** restituisce **WSAEFAULT** se il parametro *cbOutBuffer* che specifica la lunghezza del buffer di output è troppo piccolo per ricevere l'elenco delle interfacce configurate.</span><span class="sxs-lookup"><span data-stu-id="ea915-317">A call to the **WSAIoctl** function with **SIO\_GET\_INTERFACE\_LIST** returns **WSAEFAULT** if the *cbOutBuffer* parameter that specifies the length of the output buffer is too small ro receive the list of configured interfaces.</span></span>

<span data-ttu-id="ea915-318">**Sio \_ GET \_ Interface \_ List** è supportato in Windows Me/98 e Windows NT 4,0 con SP4 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-318">**SIO\_GET\_INTERFACE\_LIST** is supported on Windows Me/98 and Windows NT 4.0 with SP4 and later.</span></span>

### <a name="sio_get_interface_list_ex-opcode-setting-o-t0"></a><span data-ttu-id="ea915-319">\_Esempio sio Get \_ Interface \_ List \_ (impostazione opcode: O, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ea915-319">SIO\_GET\_INTERFACE\_LIST\_EX (opcode setting: O, T==0)</span></span>

<span data-ttu-id="ea915-320">Riservato per un utilizzo futuro con i socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-320">Reserved for future use with sockets.</span></span>

<span data-ttu-id="ea915-321">Restituisce un elenco di interfacce IP configurate e dei relativi parametri come matrice di strutture di [**\_ \_ informazioni di interfaccia**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) .</span><span class="sxs-lookup"><span data-stu-id="ea915-321">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures.</span></span>

<span data-ttu-id="ea915-322">Il parametro *lpvOutBuffer* punta al buffer in cui archiviare le informazioni sulle interfacce come una matrice di strutture delle [**\_ informazioni di \_ interfaccia**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) per gli indirizzi IP unicast sull'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="ea915-322">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures for unicast IP addresses on the interface.</span></span> <span data-ttu-id="ea915-323">Il parametro *cbOutBuffer* specifica la lunghezza del buffer di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-323">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="ea915-324">Il numero di interfacce restituite (numero di strutture restituite in *lpvOutBuffer*) può essere determinato in base alla lunghezza effettiva del buffer di output restituito nel parametro *lpcbBytesReturned* .</span><span class="sxs-lookup"><span data-stu-id="ea915-324">The number of interfaces returned (number of structures returned in *lpvOutBuffer*) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="ea915-325">**Sio \_ Il GET \_ Interface list, ad \_ \_ esempio** , non è attualmente supportato in Windows.</span><span class="sxs-lookup"><span data-stu-id="ea915-325">**SIO\_GET\_INTERFACE\_LIST\_EX** is not currently supported on Windows.</span></span>

### <a name="sio_get_qos-opcode-setting-o-t1"></a><span data-ttu-id="ea915-326">\_QoS Get \_ QoS (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-326">SIO\_GET\_QOS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-327">Riservato per un utilizzo futuro con i socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-327">Reserved for future use with sockets.</span></span> <span data-ttu-id="ea915-328">Recuperare la struttura [**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos) associata al socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-328">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket.</span></span> <span data-ttu-id="ea915-329">Il buffer di input è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-329">The input buffer is optional.</span></span> <span data-ttu-id="ea915-330">Alcuni protocolli (ad esempio, RSVP) consentono di usare il buffer di input per qualificare una richiesta di qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="ea915-330">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="ea915-331">La struttura **QoS** verrà copiata nel buffer di output.</span><span class="sxs-lookup"><span data-stu-id="ea915-331">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="ea915-332">Il buffer di output deve avere dimensioni sufficientemente grandi per poter contenere la struttura **QoS** completa.</span><span class="sxs-lookup"><span data-stu-id="ea915-332">The output buffer must be sized large enough to be able to contain the full **QOS** structure.</span></span> <span data-ttu-id="ea915-333">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano la qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="ea915-333">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

<span data-ttu-id="ea915-334">Un mittente non è in grado di chiamare **sio \_ get \_ QoS** finché il socket non è connesso.</span><span class="sxs-lookup"><span data-stu-id="ea915-334">A sender may not call **SIO\_GET\_QOS** until the socket is connected.</span></span>

<span data-ttu-id="ea915-335">Un ricevitore può chiamare **sio \_ get \_ QoS** non appena viene associato.</span><span class="sxs-lookup"><span data-stu-id="ea915-335">A receiver may call **SIO\_GET\_QOS** as soon as it is bound.</span></span>

### <a name="sio_ideal_send_backlog_change-opcode-setting-v-t0"></a><span data-ttu-id="ea915-336">\_Modifica backlog di invio ideale per sio \_ \_ \_ (impostazione opcode: V, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ea915-336">SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE (opcode setting: V, T==0)</span></span>

<span data-ttu-id="ea915-337">Notifica a un'applicazione quando viene modificato il valore di backlog di invio ideale per la connessione sottostante.</span><span class="sxs-lookup"><span data-stu-id="ea915-337">Notifies an application when the ideal send backlog (ISB) value changes for the underlying connection.</span></span>

<span data-ttu-id="ea915-338">Quando si inviano dati tramite una connessione TCP mediante Windows Sockets, è importante garantire una quantità sufficiente di dati in attesa (inviati ma non ancora riconosciuti) in TCP per ottenere la massima velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="ea915-338">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="ea915-339">Il valore ideale per la quantità di dati in attesa di ottenere la migliore velocità effettiva per la connessione TCP è denominato dimensione del backlog di invio ideale.</span><span class="sxs-lookup"><span data-stu-id="ea915-339">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="ea915-340">Il valore ISB è una funzione del prodotto di ritardo della larghezza di banda della connessione TCP e della finestra di ricezione annunciata del ricevitore (e parzialmente la quantità di congestione nella rete).</span><span class="sxs-lookup"><span data-stu-id="ea915-340">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="ea915-341">Il valore ISB per connessione è disponibile nell'implementazione del protocollo TCP in Windows Server 2008, Windows Vista con SP1 e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-341">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span> <span data-ttu-id="ea915-342">La **\_ modifica del \_ \_ backlog di \_ invio ideale di sio** può essere usata da un'applicazione per ricevere una notifica quando il valore di ISB cambia in modo dinamico per una connessione.</span><span class="sxs-lookup"><span data-stu-id="ea915-342">The **SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE** IOCTL can be used by an application to get notification when the ISB value changes dynamically for a connection.</span></span>

<span data-ttu-id="ea915-343">Per informazioni più dettagliate, vedere il riferimento alla [**\_ modifica del \_ \_ backlog \_ di invio ideale per sio**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-343">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) reference.</span></span>

<span data-ttu-id="ea915-344">[**Sio \_ La \_ \_ \_ modifica del backlog di invio ideale**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) è supportata in Windows Server 2008, Windows Vista con SP1 e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-344">[**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_ideal_send_backlog_query-opcode-setting-o-t0"></a><span data-ttu-id="ea915-345">\_Query del backlog di invio ideale per sio \_ \_ \_ (impostazione opcode: O, T = = 0)</span><span class="sxs-lookup"><span data-stu-id="ea915-345">SIO\_IDEAL\_SEND\_BACKLOG\_QUERY (opcode setting: O, T==0)</span></span>

<span data-ttu-id="ea915-346">Recupera il valore di backlog di invio ideale per la connessione sottostante.</span><span class="sxs-lookup"><span data-stu-id="ea915-346">Retrieves the ideal send backlog (ISB) value for the underlying connection.</span></span>

<span data-ttu-id="ea915-347">Quando si inviano dati tramite una connessione TCP mediante Windows Sockets, è importante garantire una quantità sufficiente di dati in attesa (inviati ma non ancora riconosciuti) in TCP per ottenere la massima velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="ea915-347">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="ea915-348">Il valore ideale per la quantità di dati in attesa di ottenere la migliore velocità effettiva per la connessione TCP è denominato dimensione del backlog di invio ideale.</span><span class="sxs-lookup"><span data-stu-id="ea915-348">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="ea915-349">Il valore ISB è una funzione del prodotto di ritardo della larghezza di banda della connessione TCP e della finestra di ricezione annunciata del ricevitore (e parzialmente la quantità di congestione nella rete).</span><span class="sxs-lookup"><span data-stu-id="ea915-349">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="ea915-350">Il valore ISB per connessione è disponibile nell'implementazione del protocollo TCP in Windows Server 2008 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-350">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008 and later.</span></span> <span data-ttu-id="ea915-351">La **\_ query del \_ \_ backlog di \_ invio ideale di sio** può essere usata da un'applicazione per eseguire una query sul valore ISB per una connessione.</span><span class="sxs-lookup"><span data-stu-id="ea915-351">The **SIO\_IDEAL\_SEND\_BACKLOG\_QUERY** IOCTL can be used by an application to query the ISB value for a connection.</span></span>

<span data-ttu-id="ea915-352">Per informazioni più dettagliate, vedere il riferimento alla [**\_ query del \_ \_ backlog \_ di invio ideale di sio**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-352">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) reference.</span></span>

<span data-ttu-id="ea915-353">[**Sio \_ La \_ \_ \_ query del backlog di invio ideale**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) è supportata in Windows Server 2008, Windows Vista con SP1 e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-353">[**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_keepalive_vals-opcode-setting-i-t3"></a><span data-ttu-id="ea915-354">SIO \_ KeepAlive \_ Vals (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-354">SIO\_KEEPALIVE\_VALS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-355">Abilita o Disabilita l'impostazione per connessione dell'opzione **Keep-Alive** TCP che specifica il timeout e l'intervallo keep-alive TCP.</span><span class="sxs-lookup"><span data-stu-id="ea915-355">Enables or disables the per-connection setting of the TCP **keep-alive** option which specifies the TCP keep-alive timeout and interval.</span></span> <span data-ttu-id="ea915-356">Per ulteriori informazioni sull'opzione Keep-Alive, vedere la sezione 4.2.3.6 in *requisiti per gli host Internet-livelli di comunicazione* specificati in RFC 1122 disponibili sul [sito Web IETF](https://www.ietf.org/rfc/rfc1122.txt).</span><span class="sxs-lookup"><span data-stu-id="ea915-356">For more information on the keep-alive option, see section 4.2.3.6 on the *Requirements for Internet Hosts—Communication Layers* specified in RFC 1122 available at the [IETF website](https://www.ietf.org/rfc/rfc1122.txt).</span></span> <span data-ttu-id="ea915-357">Questa risorsa può essere disponibile solo in inglese.</span><span class="sxs-lookup"><span data-stu-id="ea915-357">(This resource may only be available in English.)</span></span>

<span data-ttu-id="ea915-358">**Sio \_ KEEPALIVE \_ Vals** può essere usato per abilitare o disabilitare i probe Keep-Alive e impostare il timeout e l'intervallo keep-alive.</span><span class="sxs-lookup"><span data-stu-id="ea915-358">**SIO\_KEEPALIVE\_VALS** can be used to enable or disable keep-alive probes and set the keep-alive timeout and interval.</span></span> <span data-ttu-id="ea915-359">Il timeout Keep-Alive specifica il timeout, in millisecondi, senza alcuna attività fino a quando non viene inviato il primo pacchetto keep-alive.</span><span class="sxs-lookup"><span data-stu-id="ea915-359">The keep-alive timeout specifies the timeout, in milliseconds, with no activity until the first keep-alive packet is sent.</span></span> <span data-ttu-id="ea915-360">L'intervallo keep-Alive specifica l'intervallo in millisecondi tra l'invio di pacchetti keep-alive successivi se non viene ricevuto alcun riconoscimento.</span><span class="sxs-lookup"><span data-stu-id="ea915-360">The keep-alive interval specifies the interval, in milliseconds, between when successive keep-alive packets are sent if no acknowledgement is received.</span></span>

<span data-ttu-id="ea915-361">Per abilitare o disabilitare il keep-alive TCP in una connessione, è possibile usare l'opzione [**so \_**](so-keepalive.md) Keep-Alive, che è una delle opzioni del [ \_ socket di socket Sol](sol-socket-socket-options.md), ed eseguire una query sullo stato corrente di questa opzione.</span><span class="sxs-lookup"><span data-stu-id="ea915-361">The [**SO\_KEEPALIVE**](so-keepalive.md) option, which is one of the [SOL\_SOCKET Socket Options](sol-socket-socket-options.md), can also be used to enable or disable the TCP keep-alive on a connection, as well as query the current state of this option.</span></span> <span data-ttu-id="ea915-362">Per eseguire una query sul fatto che il keep-alive TCP sia abilitato in un socket, è possibile chiamare la funzione [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) con l'opzione **so \_ KeepAlive** .</span><span class="sxs-lookup"><span data-stu-id="ea915-362">To query whether TCP keep-alive is enabled on a socket, the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) function can be called with the **SO\_KEEPALIVE** option.</span></span> <span data-ttu-id="ea915-363">Per abilitare o disabilitare il keep-alive TCP, è possibile chiamare la funzione [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) con l'opzione [**\_ Keep**](so-keepalive.md) -Alive.</span><span class="sxs-lookup"><span data-stu-id="ea915-363">To enable or disable TCP keep-alive, the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function can be called with the [**SO\_KEEPALIVE**](so-keepalive.md) option.</span></span> <span data-ttu-id="ea915-364">Se l'opzione keep-alive TCP è abilitata con, **\_ KeepAlive**, le impostazioni TCP predefinite vengono usate per il timeout e l'intervallo keep-alive a meno che tali valori non siano stati modificati usando **sio \_ KeepAlive \_ Vals**.</span><span class="sxs-lookup"><span data-stu-id="ea915-364">If TCP keep-alive is enabled with **SO\_KEEPALIVE**, then the default TCP settings are used for keep-alive timeout and interval unless these values have been changed using **SIO\_KEEPALIVE\_VALS**.</span></span>

<span data-ttu-id="ea915-365">Per informazioni più dettagliate, vedere la Guida di riferimento a [**sio \_ KeepAlive \_**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-365">For more detailed information, see the [**SIO\_KEEPALIVE\_VALS**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-366">**Sio \_ KEEPALIVE \_ Vals** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-366">**SIO\_KEEPALIVE\_VALS** is supported on Windows 2000 and later.</span></span>

### <a name="sio_loopback_fast_path-opcode-setting-i-t3"></a><span data-ttu-id="ea915-367">\_Percorso rapido di loopback sio \_ \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-367">SIO\_LOOPBACK\_FAST\_PATH (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-368">Configura un socket TCP per una latenza più bassa e operazioni più veloci sull'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="ea915-368">Configures a TCP socket for lower latency and faster operations on the loopback interface.</span></span> <span data-ttu-id="ea915-369">Questo IOCTL richiede che lo stack TCP/IP usi un percorso veloce speciale per le operazioni di loopback in questo socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-369">This IOCTL requests that the TCP/IP stack uses a special fast path for loopback operations on this socket.</span></span> <span data-ttu-id="ea915-370">Il [**\_ \_ \_ percorso veloce del loopback sio**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) può essere usato solo con i socket TCP.</span><span class="sxs-lookup"><span data-stu-id="ea915-370">The [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL can be used only with TCP sockets.</span></span> <span data-ttu-id="ea915-371">Questo IOCTL deve essere utilizzato su entrambi i lati della sessione di loopback.</span><span class="sxs-lookup"><span data-stu-id="ea915-371">This IOCTL must be used on both sides of the loopback session.</span></span> <span data-ttu-id="ea915-372">Il percorso veloce di loopback TCP è supportato tramite l'interfaccia di loopback IPv4 o IPv6.</span><span class="sxs-lookup"><span data-stu-id="ea915-372">The TCP loopback fast path is supported using either the IPv4 or IPv6 loopback interface.</span></span> <span data-ttu-id="ea915-373">Per impostazione predefinita, il **\_ \_ \_ percorso rapido di loopback sio** è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="ea915-373">By default, **SIO\_LOOPBACK\_FAST\_PATH** is disabled.</span></span>

<span data-ttu-id="ea915-374">Per informazioni più dettagliate, vedere il riferimento al [**\_ \_ \_ percorso rapido di loopback sio**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-374">For more detailed information, see the [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-375">**Sio \_ Il \_ \_ percorso rapido di loopback** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-375">**SIO\_LOOPBACK\_FAST\_PATH** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_multipoint_loopback-opcode-setting-v-t1"></a><span data-ttu-id="ea915-376">\_Loopback multipoint \_ di sio (impostazione opcode: V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-376">SIO\_MULTIPOINT\_LOOPBACK (opcode setting: V, T==1)</span></span>

<span data-ttu-id="ea915-377">Controlla se i dati inviati da un'applicazione nel computer locale (non necessariamente dallo stesso socket) in una sessione multicast saranno ricevuti da un socket aggiunto al gruppo di destinazione multicast sull'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="ea915-377">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="ea915-378">Se il valore è **true** , i dati multicast inviati da un'applicazione nel computer locale vengono recapitati a un socket in ascolto sull'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="ea915-378">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="ea915-379">Il valore **false** impedisce che i dati multicast inviati da un'applicazione nel computer locale vengano recapitati a un socket in ascolto sull'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="ea915-379">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="ea915-380">Per impostazione predefinita, il **\_ \_ loopback di sio multipoint** è abilitato.</span><span class="sxs-lookup"><span data-stu-id="ea915-380">By default, **SIO\_MULTIPOINT\_LOOPBACK** is enabled.</span></span>

### <a name="sio_multicast_scope-opcode-setting-i-t1"></a><span data-ttu-id="ea915-381">\_Ambito multicast sio \_ (impostazione opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-381">SIO\_MULTICAST\_SCOPE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ea915-382">Specifica l'ambito in cui si verificheranno le trasmissioni multicast.</span><span class="sxs-lookup"><span data-stu-id="ea915-382">Specifies the scope over which multicast transmissions will occur.</span></span> <span data-ttu-id="ea915-383">L'ambito è definito come il numero di segmenti di rete indirizzati da coprire.</span><span class="sxs-lookup"><span data-stu-id="ea915-383">Scope is defined as the number of routed network segments to be covered.</span></span> <span data-ttu-id="ea915-384">Un ambito pari a zero indicherà che la trasmissione multicast non verrà distribuita in transito, ma potrebbe essere divulgata tra i socket all'interno dell'host locale.</span><span class="sxs-lookup"><span data-stu-id="ea915-384">A scope of zero would indicate that the multicast transmission would not be placed on the wire but could be disseminated across sockets within the local host.</span></span> <span data-ttu-id="ea915-385">Un valore di ambito pari a uno (impostazione predefinita) indica che la trasmissione verrà posizionata in transito, ma non incrocierà alcun router.</span><span class="sxs-lookup"><span data-stu-id="ea915-385">A scope value of one (the default) indicates that the transmission will be placed on the wire, but will not cross any routers.</span></span> <span data-ttu-id="ea915-386">I valori di ambito più elevati determinano il numero di router che possono essere superati.</span><span class="sxs-lookup"><span data-stu-id="ea915-386">Higher scope values determine the number of routers that can be crossed.</span></span> <span data-ttu-id="ea915-387">Si noti che corrisponde al parametro time-to-Live (TTL) in multicast IP.</span><span class="sxs-lookup"><span data-stu-id="ea915-387">Note that this corresponds to the time-to-live (TTL) parameter in IP multicasting.</span></span> <span data-ttu-id="ea915-388">Per impostazione predefinita, scope è 1.</span><span class="sxs-lookup"><span data-stu-id="ea915-388">By default, scope is 1.</span></span>

### <a name="sio_query_rss_processor_info-opcode-setting-o-t1"></a><span data-ttu-id="ea915-389">\_Informazioni sul \_ processore RSS della query sio \_ \_ (impostazione opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-389">SIO\_QUERY\_RSS\_PROCESSOR\_INFO (opcode setting: O, T==1)</span></span>

<span data-ttu-id="ea915-390">Esegue una query sull'associazione tra un socket e un core del processore RSS e un nodo NUMA.</span><span class="sxs-lookup"><span data-stu-id="ea915-390">Queries the association between a socket and an RSS processor core and NUMA node.</span></span>

<span data-ttu-id="ea915-391">Le [**\_ informazioni sul \_ \_ processore RSS \_ della query sio**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) restituiscono una struttura di [**\_ \_ affinità del processore socket**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) che contiene il [**\_ numero di processore**](/windows/win32/api/winnt/ns-winnt-processor_number) e l'ID del nodo NUMA.</span><span class="sxs-lookup"><span data-stu-id="ea915-391">The [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL returns a [**SOCKET\_PROCESSOR\_AFFINITY**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) structure that contains the [**PROCESSOR\_NUMBER**](/windows/win32/api/winnt/ns-winnt-processor_number) and the NUMA node ID.</span></span> <span data-ttu-id="ea915-392">La struttura **del \_ numero di processore** restituito contiene un numero di gruppo e un numero di processore relativo all'interno del gruppo.</span><span class="sxs-lookup"><span data-stu-id="ea915-392">The returned **PROCESSOR\_NUMBER** structure contains a group number and relative processor number within the group.</span></span>

<span data-ttu-id="ea915-393">Per informazioni più dettagliate, vedere le informazioni di riferimento sul [**\_ \_ \_ \_ processore RSS di query sio**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-393">For more detailed information, see the [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-394">**Sio \_ Le \_ \_ \_ informazioni sul processore RSS di query** sono supportate in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-394">**SIO\_QUERY\_RSS\_PROCESSOR\_INFO** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_rss_scalability_info-opcode-setting-o-t3"></a><span data-ttu-id="ea915-395">\_Informazioni sulla \_ scalabilità RSS per query sio \_ \_ (impostazione opcode: O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-395">SIO\_QUERY\_RSS\_SCALABILITY\_INFO (opcode setting: O, T==3)</span></span>

<span data-ttu-id="ea915-396">Query offload interfacce per la funzionalità Receive-Side Scaling (RSS).</span><span class="sxs-lookup"><span data-stu-id="ea915-396">Queries offload interfaces for receive-side scaling (RSS) capability.</span></span> <span data-ttu-id="ea915-397">La struttura di argomenti restituita per le **\_ \_ \_ \_ informazioni di scalabilità RSS della query sio** è specificata nella struttura delle **\_ \_ informazioni di scalabilità RSS** definita nel file di intestazione *MSTCPIP. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-397">The argument structure returned for **SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is specified in the **RSS\_SCALABILITY\_INFO** structure defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="ea915-398">Questa struttura viene definita nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="ea915-398">This structure is defined as follows:</span></span>

```cpp
// Scalability info for the transport
typedef struct _RSS_SCALABILITY_INFO {
   BOOLEAN RssEnabled;
} RSS_SCALABILITY_INFO, *PRSS_SCALABILITY_INFO;
```

<span data-ttu-id="ea915-399">Il valore restituito nel membro **RssEnabled** indica se RSS è abilitato in almeno un'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="ea915-399">The value returned in the **RssEnabled** member indicates if RSS is enabled on at least one interface.</span></span>

<span data-ttu-id="ea915-400">Se il buffer di output non è sufficientemente grande per la struttura delle **\_ \_ informazioni di scalabilità RSS** (il valore di *cbOutBuffer* è inferiore alla dimensione di un' **\_ \_ informazione di scalabilità RSS**) o il parametro *lpvOutBuffer* è un puntatore **null** , viene restituito un **\_ errore socket** come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEINVAL](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-400">If the output buffer is not large enough for the **RSS\_SCALABILITY\_INFO** structure (the *cbOutBuffer* is less than the size of a **RSS\_SCALABILITY\_INFO**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ea915-401">In una rete ad alta velocità in cui più CPU si trovano all'interno di un singolo sistema, la possibilità di scalare correttamente lo stack del protocollo di rete in un sistema con più CPU viene inibita perché l'architettura di NDIS 5,1 e versioni precedenti limita l'elaborazione del protocollo di ricezione a una singola CPU.</span><span class="sxs-lookup"><span data-stu-id="ea915-401">In high-speed networking where multiple CPUs reside within a single system, the ability of the networking protocol stack to scale well on a multi-CPU system is inhibited because the architecture of NDIS 5.1 and earlier versions limits receive protocol processing to a single CPU.</span></span> <span data-ttu-id="ea915-402">Receive-Side Scaling (RSS) risolve questo problema consentendo il bilanciamento del carico di rete da una scheda di rete su più CPU.</span><span class="sxs-lookup"><span data-stu-id="ea915-402">Receive-side scaling (RSS) resolves this issue by allowing the network load from a network adapter to be balanced across multiple CPUs.</span></span>

<span data-ttu-id="ea915-403">**Sio \_ Le \_ \_ \_ informazioni sulla scalabilità RSS di query** sono supportate in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-403">**SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="ea915-404">\_Impostazione del trasporto di query sio \_ \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-404">SIO\_QUERY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-405">Esegue una query sulle impostazioni di trasporto in un socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-405">Queries the transport settings on a socket.</span></span> <span data-ttu-id="ea915-406">L'impostazione di trasporto sottoposta a query è basata sull' [**\_ \_ ID di impostazione del trasporto**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passato nel parametro *lpvInBuffer* .</span><span class="sxs-lookup"><span data-stu-id="ea915-406">The transport setting being queried is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="ea915-407">L'unica impostazione del trasporto attualmente definita è per la funzionalità di **\_ notifica in tempo \_ \_ reale** in un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="ea915-407">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="ea915-408">Se l' [**\_ \_ ID dell'impostazione di trasporto**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) dispone del membro **GUID** impostato sulla **\_ \_ \_ funzionalità di notifica in tempo reale**, si tratta di una richiesta per eseguire una query sulle impostazioni di notifica in tempo reale per il socket TCP usato con [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) per ricevere notifiche di rete in background in un'app di Windows Store.</span><span class="sxs-lookup"><span data-stu-id="ea915-408">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to query the real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span> <span data-ttu-id="ea915-409">Se la chiamata a [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) o [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) ha esito positivo, questo IOCTL restituisce una struttura di [**output dell'impostazione di \_ notifica in tempo \_ \_ \_ reale**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) con lo stato corrente.</span><span class="sxs-lookup"><span data-stu-id="ea915-409">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) call is successful, this IOCTL returns a [**REAL\_TIME\_NOTIFICATION\_SETTING\_OUTPUT**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) structure with the current status.</span></span>

<span data-ttu-id="ea915-410">Per informazioni più dettagliate, vedere le informazioni di riferimento sull' [**\_ impostazione del \_ trasporto \_ di query sio**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-410">For more detailed information, see the [**SIO\_QUERY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-411">**Sio \_ L' \_ \_ impostazione del trasporto query** è supportata in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-411">**SIO\_QUERY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_ale_endpoint_handle-opcode-setting-o-t3"></a><span data-ttu-id="ea915-412">HANDLE dell'endpoint della query SIO per la \_ query sio \_ \_ \_ \_ (impostazione opcode: O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-412">SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE (opcode setting: O, T==3)</span></span>

<span data-ttu-id="ea915-413">Esegue una query sull'handle dell'endpoint di Application Level Enforcement (ALE).</span><span class="sxs-lookup"><span data-stu-id="ea915-413">Queries the Application Layer Enforcement (ALE) endpoint handle.</span></span>

<span data-ttu-id="ea915-414">Windows Filtering Platform (WFP) supporta l'ispezione e la modifica del traffico di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-414">The Windows Filtering Platform (WFP) supports network traffic inspection and modification.</span></span> <span data-ttu-id="ea915-415">In Windows Vista, Pam si concentra sugli scenari in cui il computer host è l'endpoint di comunicazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-415">On Windows Vista, WFP focuses on scenarios where the host machine is the communication endpoint.</span></span> <span data-ttu-id="ea915-416">In Windows Server 2008, tuttavia, sono presenti implementazioni del firewall perimetrali che desiderano sfruttare la piattaforma WFP per esaminare e il traffico pass-through del proxy.</span><span class="sxs-lookup"><span data-stu-id="ea915-416">On Windows Server 2008 , however, there are edge firewall implementations which would like to leverage the WFP platform to inspect and proxy pass-through traffic.</span></span> <span data-ttu-id="ea915-417">Il server ISA (Internet Security and Acceleration) è un esempio di tale dispositivo perimetrale.</span><span class="sxs-lookup"><span data-stu-id="ea915-417">The Internet Security and Acceleration (ISA) server is an example of such an edge device.</span></span>

<span data-ttu-id="ea915-418">Esistono alcuni scenari firewall che possono richiedere la possibilità di inserire un pacchetto in ingresso nel percorso di trasmissione associato a un endpoint esistente.</span><span class="sxs-lookup"><span data-stu-id="ea915-418">There are some firewall scenarios that may require the ability to inject an inbound packet into the send path associated with an existing endpoint.</span></span> <span data-ttu-id="ea915-419">È necessario disporre di un meccanismo per individuare l'handle dell'endpoint del livello di trasporto associato all'endpoint di destinazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-419">There needs to be a mechanism to discover the transport layer endpoint handle associated with the destination endpoint.</span></span> <span data-ttu-id="ea915-420">L'applicazione che ha creato l'endpoint possiede questi endpoint del livello di trasporto.</span><span class="sxs-lookup"><span data-stu-id="ea915-420">The application that created the endpoint owns these transport layer endpoints.</span></span> <span data-ttu-id="ea915-421">Questo IOCTL viene usato per fornire handle del socket al mapping dell'handle dell'endpoint del livello di trasporto.</span><span class="sxs-lookup"><span data-stu-id="ea915-421">This IOCTL is used to provide socket handle to transport layer endpoint handle mapping.</span></span>

<span data-ttu-id="ea915-422">Se il buffer di output non è sufficientemente grande per l'handle dell'endpoint *(cbOutBuffer* è minore delle dimensioni di un **UInt64**) o il parametro *lpvOutBuffer* è un puntatore **null** , viene restituito un **\_ errore socket** come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEINVAL](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-422">If the output buffer is not large enough for the endpoint handle (the *cbOutBuffer* is less than the size of a **UINT64**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="ea915-423">**Sio \_ L' \_ \_ handle dell' \_ endpoint \_ di query PAM ale** è supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-423">**SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_context-opcode-setting-i-t3"></a><span data-ttu-id="ea915-424">\_ \_ \_ Contesto di reindirizzamento della connessione del WFP di query sio \_ \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-424">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-425">Esegue una query sul contesto di reindirizzamento per un record di reindirizzamento utilizzato da un servizio di reindirizzamento di Windows Filtering Platform (WFP).</span><span class="sxs-lookup"><span data-stu-id="ea915-425">Queries the redirect context for a redirect record used by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="ea915-426">L'IOCTL del [**\_ contesto di \_ \_ \_ Reindirizzamento \_ della connessione per la query sio**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) viene usato per fornire il rilevamento delle connessioni con proxy sulle connessioni socket reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="ea915-426">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="ea915-427">Questa funzionalità WFP facilita il rilevamento dei record di reindirizzamento dal reindirizzamento iniziale di una connessione alla connessione finale alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-427">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="ea915-428">Per informazioni più dettagliate, vedere la pagina relativa al riferimento al [**\_ contesto di \_ \_ \_ Reindirizzamento \_ della connessione WFP della query sio**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-428">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-429">**Sio \_ Il \_ \_ contesto di \_ Reindirizzamento \_ della connessione di query WFP** è supportato in windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-429">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="ea915-430">\_ \_ I record di reindirizzamento della connessione WFP della query sio \_ \_ \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-430">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-431">Esegue una query sul record di reindirizzamento per la connessione TCP/IP accettata per l'utilizzo da parte di un servizio di reindirizzamento della piattaforma filtro Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="ea915-431">Queries the redirect record for the accepted TCP/IP connection for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="ea915-432">I [**\_ record di \_ \_ \_ Reindirizzamento \_ della connessione di query sio**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) vengono usati per fornire il rilevamento delle connessioni con proxy sulle connessioni socket reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="ea915-432">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="ea915-433">Questa funzionalità WFP facilita il rilevamento dei record di reindirizzamento dal reindirizzamento iniziale di una connessione alla connessione finale alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-433">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="ea915-434">Per informazioni più dettagliate, vedere la pagina relativa al riferimento ai [**record di reindirizzamento della connessione del \_ WFP della query \_ \_ \_ \_ sio**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-434">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-435">**Sio \_ I \_ \_ record di \_ Reindirizzamento \_ della connessione di query WFP** sono supportati in windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-435">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_rcvall-opcode-setting-i-t3"></a><span data-ttu-id="ea915-436">SIO \_ RCVALL (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-436">SIO\_RCVALL (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-437">Consente a un socket di ricevere tutti i pacchetti IPv4 o IPv6 passando throuigh un'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-437">Enables a socket to receive all IPv4 or IPv6 packets passing throuigh a network interface.</span></span> <span data-ttu-id="ea915-438">L'handle del socket passato alla funzione [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve essere uno dei seguenti:</span><span class="sxs-lookup"><span data-stu-id="ea915-438">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be one of the following:</span></span>

-   <span data-ttu-id="ea915-439">Un socket IPv4 creato con la famiglia di indirizzi impostata su AF \_ inet, il tipo di socket impostato su Sock \_ RAW e il protocollo impostato su IPPROTO \_ IP.</span><span class="sxs-lookup"><span data-stu-id="ea915-439">An IPv4 socket that was created with the address family set to AF\_INET, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IP.</span></span>
-   <span data-ttu-id="ea915-440">Socket IPv6 creato con la famiglia di indirizzi impostata su AF \_ INET6, il tipo di socket impostato su Sock \_ RAW e il protocollo impostato su IPPROTO \_ IPv6.</span><span class="sxs-lookup"><span data-stu-id="ea915-440">An IPv6 socket that was created with the address family set to AF\_INET6, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IPV6.</span></span>

<span data-ttu-id="ea915-441">Il socket deve anche essere associato a un'interfaccia IPv4 o IPv6 locale esplicita, il che significa che non è possibile eseguire l'associazione a **inaddr \_ any** o **in6addr \_ any**.</span><span class="sxs-lookup"><span data-stu-id="ea915-441">The socket also must be bound to an explicit local IPv4 or IPv6 interface, which means that you cannot bind to **INADDR\_ANY** or **in6addr\_any**.</span></span>

<span data-ttu-id="ea915-442">In Windows Server 2008 e versioni precedenti, l'impostazione IOCTL [**\_ RCVALL di sio**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) non acquisisce i pacchetti locali inviati da un'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-442">On Windows Server 2008 and earlier, the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL setting would not capture local packets sent out of a network interface.</span></span> <span data-ttu-id="ea915-443">Sono stati inclusi i pacchetti ricevuti su un'altra interfaccia ed è stata inoltrata l'interfaccia di rete specificata per l'IOCTL **\_ RCVALL sio** .</span><span class="sxs-lookup"><span data-stu-id="ea915-443">This included packets received on another interface and forwarded out the network interface specified for the **SIO\_RCVALL** IOCTL.</span></span>

<span data-ttu-id="ea915-444">In Windows 7 e Windows Server 2008 R2 questa operazione è stata modificata in modo da acquisire anche i pacchetti locali inviati da un'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-444">On Windows 7 and Windows Server 2008 R2 , this was changed so that local packets sent out of a network interface are also captured.</span></span> <span data-ttu-id="ea915-445">Sono inclusi i pacchetti ricevuti su un'altra interfaccia e quindi l'interfaccia di rete associata al socket con IOCTL [**\_ RCVALL di sio**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-445">This includes packets received on another interface and then forwarded out the network interface bound to the socket with [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="ea915-446">Per impostare questo IOCTL è necessario disporre dei privilegi di amministratore nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="ea915-446">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="ea915-447">Questa funzionalità viene talvolta definita modalità promiscua.</span><span class="sxs-lookup"><span data-stu-id="ea915-447">This feature is sometimes referred to as promiscuous mode.</span></span>

<span data-ttu-id="ea915-448">I valori possibili per l'opzione IOCTL **\_ RCVALL di sio** sono specificati nell'enumerazione del **\_ valore RCVALL** definito nel file di intestazione *MSTCPIP. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-448">The possible values for the **SIO\_RCVALL** IOCTL option are specified in the **RCVALL\_VALUE** enumeration defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="ea915-449">I valori possibili per SIO \_ RCVALL sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="ea915-449">The possible values for SIO\_RCVALL are as follows:</span></span>

| <span data-ttu-id="ea915-450">Termine</span><span class="sxs-lookup"><span data-stu-id="ea915-450">Term</span></span>                                                                                                                 | <span data-ttu-id="ea915-451">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ea915-451">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-|-|
| <span data-ttu-id="ea915-452"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL \_ disattivato</span><span class="sxs-lookup"><span data-stu-id="ea915-452"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL\_OFF</span></span><br/>                                     | <span data-ttu-id="ea915-453">Disabilitare questa opzione in modo che un socket non riceva tutti i pacchetti IPv4 o IPv6 sulla rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-453">Disable this option so a socket does not receive all IPv4 or IPv6 packets on the network.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="ea915-454"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL \_</span><span class="sxs-lookup"><span data-stu-id="ea915-454"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL\_ON</span></span><br/>                                        | <span data-ttu-id="ea915-455">Abilitare questa opzione per consentire a un socket di ricevere tutti i pacchetti IPv4 o IPv6 sulla rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-455">Enable this option so a socket receives all IPv4 or IPv6 packets on the network.</span></span> <span data-ttu-id="ea915-456">Questa opzione Abilita la modalità promiscua sulla scheda di interfaccia di rete (NIC) se la scheda di interfaccia di rete supporta la modalità promiscua.</span><span class="sxs-lookup"><span data-stu-id="ea915-456">This option enables promiscuous mode on the network interface card (NIC), if the NIC supports promiscuous mode.</span></span> <span data-ttu-id="ea915-457">In un segmento LAN con un hub di rete, una scheda di interfaccia di rete che supporta la modalità promiscua acquisisce tutto il traffico IPv4 o IPv6 sulla LAN, incluso il traffico tra altri computer nello stesso segmento LAN.</span><span class="sxs-lookup"><span data-stu-id="ea915-457">On a LAN segment with a network hub, a NIC that supports promiscuous mode will capture all IPv4 or IPv6 traffic on the LAN, including traffic between other computers on the same LAN segment.</span></span> <span data-ttu-id="ea915-458">Tutti i pacchetti acquisiti (IPv4 o IPv6, a seconda del socket) verranno recapitati al socket non elaborato.</span><span class="sxs-lookup"><span data-stu-id="ea915-458">All of the captured packets (IPv4 or IPv6, depending on the socket) will be delivered to the raw socket.</span></span> <br/> <span data-ttu-id="ea915-459">Questa opzione non consente di acquisire altri pacchetti (ad esempio, i pacchetti ARP, IPX e NetBEUI) nell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="ea915-459">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) on the interface.</span></span><br/> <span data-ttu-id="ea915-460">Netmon usa la stessa modalità per l'interfaccia di rete, ma non usa questa opzione per acquisire il traffico.</span><span class="sxs-lookup"><span data-stu-id="ea915-460">Netmon uses the same mode for the network interface, but does not use this option to capture traffic.</span></span><br/> |
| <span data-ttu-id="ea915-461"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>\_SOCKETLEVELONLY RCVALL</span><span class="sxs-lookup"><span data-stu-id="ea915-461"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL\_SOCKETLEVELONLY</span></span><br/> | <span data-ttu-id="ea915-462">Questa funzionalità non è attualmente implementata, pertanto l'impostazione di questa opzione non ha alcun effetto.</span><span class="sxs-lookup"><span data-stu-id="ea915-462">This feature is not currently implemented, so setting this option does not have any affect.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="ea915-463"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>\_IPLEVEL RCVALL</span><span class="sxs-lookup"><span data-stu-id="ea915-463"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL\_IPLEVEL</span></span><br/>                         | <span data-ttu-id="ea915-464">Abilitare questa opzione in modo che un socket IPv4 o IPv6 riceva tutti i pacchetti a livello di IP sulla rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-464">Enable this option so an IPv4 or IPv6 socket receives all packets at the IP level on the network.</span></span> <span data-ttu-id="ea915-465">Questa opzione non Abilita la modalità promiscua nella scheda di interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-465">This option does not enable promiscuous mode on the network interface card.</span></span> <span data-ttu-id="ea915-466">Questa opzione influiscono solo sull'elaborazione dei pacchetti a livello IP.</span><span class="sxs-lookup"><span data-stu-id="ea915-466">This option only affects packet processing at the IP level.</span></span> <span data-ttu-id="ea915-467">La scheda di interfaccia di rete riceve ancora solo i pacchetti indirizzati agli indirizzi unicast e multicast configurati.</span><span class="sxs-lookup"><span data-stu-id="ea915-467">The NIC still receives only packets directed to its configured unicast and multicast addresses.</span></span> <span data-ttu-id="ea915-468">Tuttavia, un socket con questa opzione abilitata riceverà non solo i pacchetti diretti a indirizzi IP specifici, ma riceverà tutti i pacchetti IPv4 o IPv6 ricevuti dalla scheda di interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-468">However, a socket with this option enabled will receive not only packets directed to specific IP addresses, but will receive all the IPv4 or IPv6 packets the NIC receives.</span></span><br/> <span data-ttu-id="ea915-469">Questa opzione non consente di acquisire altri pacchetti (ad esempio, i pacchetti ARP, IPX e NetBEUI) ricevuti sull'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="ea915-469">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) received on the interface.</span></span><br/>                                                                                             |



 

<span data-ttu-id="ea915-470">Per informazioni più dettagliate, vedere la Guida di riferimento per [**sio \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-470">For more detailed information, see the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) reference.</span></span>

<span data-ttu-id="ea915-471">**Sio \_ RCVALL** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-471">**SIO\_RCVALL** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_igmpmcast-opcode-setting-i-t3"></a><span data-ttu-id="ea915-472">SIO \_ RCVALL \_ IGMPMCAST (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-472">SIO\_RCVALL\_IGMPMCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-473">Consente a un socket di ricevere tutto il traffico IP multicast IGMP sulla rete, senza ricevere altro traffico IP multicast.</span><span class="sxs-lookup"><span data-stu-id="ea915-473">Enables a socket to receive all IGMP multicast IP traffic on the network, without receiving other multicast IP traffic.</span></span> <span data-ttu-id="ea915-474">L'handle del socket passato alla funzione [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve essere una \_ famiglia di indirizzi AF inet, un tipo di \_ socket raw Sock e un \_ protocollo IGMP IPPROTO.</span><span class="sxs-lookup"><span data-stu-id="ea915-474">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_IGMP protocol.</span></span> <span data-ttu-id="ea915-475">Il socket deve anche essere associato a un'interfaccia locale esplicita, il che significa che non è possibile eseguire l'associazione a inaddr \_ any.</span><span class="sxs-lookup"><span data-stu-id="ea915-475">The socket also must be bound to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span>

<span data-ttu-id="ea915-476">Una volta associato il socket e il set IOCTL, le chiamate alle funzioni [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) o [**ricezione**](/windows/desktop/api/winsock/nf-winsock-recv) restituiscono i datagrammi IP multicast che passano attraverso l'interfaccia specificata.</span><span class="sxs-lookup"><span data-stu-id="ea915-476">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="ea915-477">Si noti che è necessario fornire un buffer sufficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="ea915-477">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="ea915-478">Per impostare questo IOCTL è necessario disporre dei privilegi di amministratore nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="ea915-478">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="ea915-479">**Sio \_ RCVALL \_ IGMPMCAST** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-479">**SIO\_RCVALL\_IGMPMCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_mcast-opcode-setting-i-t3"></a><span data-ttu-id="ea915-480">SIO \_ RCVALL \_ mcast (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-480">SIO\_RCVALL\_MCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-481">Consente a un socket di ricevere tutto il traffico IP multicast sulla rete, ovvero tutti i pacchetti IP destinati agli indirizzi IP nell'intervallo tra 224.0.0.0 e 239.255.255.255.</span><span class="sxs-lookup"><span data-stu-id="ea915-481">Enables a socket to receive all multicast IP traffic on the network (that is, all IP packets destined for IP addresses in the range of 224.0.0.0 to 239.255.255.255).</span></span> <span data-ttu-id="ea915-482">L'handle del socket passato alla funzione [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve essere una \_ famiglia di indirizzi AF inet, un tipo di \_ socket raw Sock e un \_ protocollo UDP IPPROTO.</span><span class="sxs-lookup"><span data-stu-id="ea915-482">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_UDP protocol.</span></span> <span data-ttu-id="ea915-483">Il socket deve anche essere associato a un'interfaccia locale esplicita, il che significa che non è possibile eseguire l'associazione a inaddr \_ any.</span><span class="sxs-lookup"><span data-stu-id="ea915-483">The socket also must bind to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span> <span data-ttu-id="ea915-484">Il socket deve essere associato alla porta zero.</span><span class="sxs-lookup"><span data-stu-id="ea915-484">The socket should bind to port zero.</span></span>

<span data-ttu-id="ea915-485">Una volta associato il socket e il set IOCTL, le chiamate alle funzioni [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) o [**ricezione**](/windows/desktop/api/winsock/nf-winsock-recv) restituiscono i datagrammi IP multicast che passano attraverso l'interfaccia specificata.</span><span class="sxs-lookup"><span data-stu-id="ea915-485">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="ea915-486">Si noti che è necessario fornire un buffer sufficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="ea915-486">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="ea915-487">Per impostare questo IOCTL è necessario disporre dei privilegi di amministratore nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="ea915-487">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="ea915-488">**Sio \_ RCVALL \_ mcast** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-488">**SIO\_RCVALL\_MCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_release_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="ea915-489">\_Prenotazione della porta di rilascio sio \_ \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-489">SIO\_RELEASE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-490">Rilascia una prenotazione di runtime per un blocco di porte TCP o UDP.</span><span class="sxs-lookup"><span data-stu-id="ea915-490">Releases a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="ea915-491">È necessario che la prenotazione di runtime da rilasciare sia stata ottenuta dal processo di emissione usando il comando di [**\_ prenotazione della \_ porta \_ sio Acquire**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-491">The runtime reservation to be released must have been obtained from the issuing process using the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="ea915-492">Per informazioni più dettagliate, vedere le informazioni di riferimento sulla [**\_ prenotazione della \_ porta \_ di versione sio**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-492">For more detailed information, see the [**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) reference.</span></span>

<span data-ttu-id="ea915-493">[**Sio \_ La \_ \_ prenotazione della porta di rilascio**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) è supportata in Windows Vista e nelle versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ea915-493">[**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_routing_interface_change-opcode-setting-i-t1"></a><span data-ttu-id="ea915-494">\_Modifica dell' \_ interfaccia di routing sio \_ (impostazione opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-494">SIO\_ROUTING\_INTERFACE\_CHANGE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ea915-495">Per ricevere la notifica di una modifica dell'interfaccia di routing da usare per raggiungere l'indirizzo remoto nel buffer di input (specificato come struttura [**sockaddr**](sockaddr-2.md) ).</span><span class="sxs-lookup"><span data-stu-id="ea915-495">To receive notification of a routing interface change that should be used to reach the remote address in the input buffer (specified as a [**sockaddr**](sockaddr-2.md) structure).</span></span> <span data-ttu-id="ea915-496">Al completamento di questo IOCTL non verranno fornite informazioni di output sulla nuova interfaccia di routing; il completamento indica semplicemente che l'interfaccia di routing per una determinata destinazione è cambiata e deve essere sottoposta a query utilizzando l' **\_ interfaccia di routing sio \_ \_ query** IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ea915-496">No output information on the new routing interface will be provided upon completion of this IOCTL; the completion merely indicates that the routing interface for a given destination has changed and should be queried using the **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL.</span></span>

<span data-ttu-id="ea915-497">Si presuppone, sebbene non sia necessario, che l'applicazione utilizzi l'I/O sovrapposto per ricevere una notifica della modifica dell'interfaccia di routing tramite il completamento della richiesta di **\_ modifica dell' \_ interfaccia \_ di routing sio** .</span><span class="sxs-lookup"><span data-stu-id="ea915-497">It is assumed, although not required, that the application uses overlapped I/O to be notified of the routing interface change through completion of **SIO\_ROUTING\_INTERFACE\_CHANGE** request.</span></span> <span data-ttu-id="ea915-498">In alternativa, se la **\_ modifica dell' \_ interfaccia \_ di routing sio** viene eseguita su un socket non bloccante con i parametri *lpOverlapped* e *il lpCompletionRoutine* impostati su **null**, viene completata immediatamente la restituzione e la [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) come errore e l'applicazione può quindi attendere il routing degli eventi di modifica tramite la chiamata a [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) o [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) con il bit di modifica dell'interfaccia di \_ routing FD \_ \_ impostato nella maschera di bit dell'evento di rete.</span><span class="sxs-lookup"><span data-stu-id="ea915-498">Alternatively, if the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL is issued on a non-blocking socket with the *lpOverlapped* and *lpCompletionRoutine* parameters set to **NULL**), it will complete immediately returning and [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) as an error, and the application can then wait for routing change events through call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ROUTING\_INTERFACE\_CHANGE bit set in the network event bitmask.</span></span>

<span data-ttu-id="ea915-499">È stato rilevato che le informazioni di routing rimangono stabili nella maggior parte dei casi, in modo che la richiesta all'applicazione di mantenere più IOCTL in attesa per ricevere notifiche relative a tutte le destinazioni a cui è interessato e che il provider di servizi tenga traccia delle richieste di notifica utilizzerà una quantità significativa di risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="ea915-499">It is recognized that routing information remains stable in most cases so that requiring the application to keep multiple outstanding IOCTLs to get notifications about all destinations that it is interested in as well as having the service provider keep track of these notification requests will use a significant amount system resources.</span></span> <span data-ttu-id="ea915-500">Questa situazione può essere evitata estendendo il significato dei parametri di input e rilassando i requisiti del provider di servizi, come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="ea915-500">This situation can be avoided by extending the meaning of the input parameters and relaxing the service provider requirements as follows:</span></span>

-   <span data-ttu-id="ea915-501">L'applicazione può specificare un indirizzo jolly specifico per la famiglia di protocolli (uguale a quello usato nella chiamata di [**Binding**](/windows/desktop/api/winsock/nf-winsock-bind) quando viene richiesta l'associazione a qualsiasi indirizzo disponibile) per richiedere notifiche di eventuali modifiche del routing.</span><span class="sxs-lookup"><span data-stu-id="ea915-501">The application can specify a protocol family specific wildcard address (same as one used in [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) call when requesting to bind to any available address) to request notifications of any routing changes.</span></span> <span data-ttu-id="ea915-502">Ciò consente all'applicazione di mantenerne solo una modifica in attesa di un' **\_ interfaccia di routing \_ \_ sio** per tutti i socket e le destinazioni che possiede, quindi usa la **query dell' \_ \_ interfaccia \_ di routing sio** per ottenere le informazioni di routing effettive.</span><span class="sxs-lookup"><span data-stu-id="ea915-502">This allows the application to keep only one outstanding **SIO\_ROUTING\_INTERFACE\_CHANGE** for all the sockets and destinations it has and then use **SIO\_ROUTING\_INTERFACE\_QUERY** to get the actual routing information.</span></span>
-   <span data-ttu-id="ea915-503">Un provider di servizi ha la possibilità di ignorare le informazioni specificate dall'applicazione nel buffer di input della **modifica dell' \_ \_ interfaccia di \_ routing sio** (come se l'applicazione avesse specificato un indirizzo con caratteri jolly) e di completare l'evento di modifica dell'interfaccia di **\_ routing \_ \_ sio** o Signal FD \_ routing \_ Interface \_ Change in caso di modifica delle informazioni di routing (non solo la route alla destinazione specificata nel buffer di input).</span><span class="sxs-lookup"><span data-stu-id="ea915-503">A service provider has the option to ignore the information specified by the application in the input buffer of the **SIO\_ROUTING\_INTERFACE\_CHANGE** (as though the application specified a wildcard address) and complete the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL or signal FD\_ROUTING\_INTERFACE\_CHANGE event in the event of any routing information change (not just the route to the destination specified in the input buffer).</span></span>

### <a name="sio_routing_interface_query-opcode-setting-i-o-t1"></a><span data-ttu-id="ea915-504">\_Query di interfaccia di routing sio \_ \_ (impostazione opcode: I, O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-504">SIO\_ROUTING\_INTERFACE\_QUERY (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="ea915-505">Per ottenere l'indirizzo dell'interfaccia locale (rappresentato come struttura [**sockaddr**](sockaddr-2.md) ) da utilizzare per l'invio all'indirizzo remoto specificato nel buffer di input (come **sockaddr**).</span><span class="sxs-lookup"><span data-stu-id="ea915-505">To obtain the address of the local interface (represented as [**sockaddr**](sockaddr-2.md) structure) which should be used to send to the remote address specified in the input buffer (as **sockaddr**).</span></span> <span data-ttu-id="ea915-506">Gli indirizzi multicast remoti possono essere inviati nel buffer di input per ottenere l'indirizzo dell'interfaccia preferita per la trasmissione multicast.</span><span class="sxs-lookup"><span data-stu-id="ea915-506">Remote multicast addresses may be submitted in the input buffer to get the address of the preferred interface for multicast transmission.</span></span> <span data-ttu-id="ea915-507">In ogni caso, l'indirizzo di interfaccia restituito può essere usato dall'applicazione in una richiesta BIND () successiva.</span><span class="sxs-lookup"><span data-stu-id="ea915-507">In any case, the interface address returned may be used by the application in a subsequent bind() request.</span></span>

<span data-ttu-id="ea915-508">Si noti che le route sono soggette a modifiche.</span><span class="sxs-lookup"><span data-stu-id="ea915-508">Note that routes are subject to change.</span></span> <span data-ttu-id="ea915-509">Pertanto, le applicazioni non possono basarsi sulle informazioni restituite dalla **\_ query dell' \_ interfaccia \_ di routing sio** per essere persistenti.</span><span class="sxs-lookup"><span data-stu-id="ea915-509">Therefore, applications cannot rely on the information returned by **SIO\_ROUTING\_INTERFACE\_QUERY** to be persistent.</span></span> <span data-ttu-id="ea915-510">Le applicazioni possono registrarsi per il routing delle notifiche di modifica tramite l' **\_ interfaccia di routing sio \_ \_ Change** IOCTL che fornisce la notifica tramite i/o sovrapposto o un \_ evento di modifica dell'interfaccia di routing FD \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="ea915-510">Applications may register for routing change notifications through the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL which provides for notification through either overlapped I/O or a FD\_ROUTING\_INTERFACE\_CHANGE event.</span></span> <span data-ttu-id="ea915-511">La sequenza di azioni seguente può essere utilizzata per garantire che l'applicazione disponga sempre di informazioni sull'interfaccia di routing correnti per una determinata destinazione:</span><span class="sxs-lookup"><span data-stu-id="ea915-511">The following sequence of actions can be used to guarantee that the application always has current routing interface information for a given destination:</span></span>

-   <span data-ttu-id="ea915-512">Rilascia **l' \_ interfaccia di routing sio \_ \_ modificare** IOCTL</span><span class="sxs-lookup"><span data-stu-id="ea915-512">Issue **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL</span></span>
-   <span data-ttu-id="ea915-513">Invia **\_ query sull' \_ interfaccia \_ di routing sio**</span><span class="sxs-lookup"><span data-stu-id="ea915-513">Issue **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL</span></span>
-   <span data-ttu-id="ea915-514">Ogni volta che la **\_ modifica dell' \_ interfaccia \_ di routing sio** invia una notifica all'applicazione della modifica del routing (tramite i/o sovrapposti o segnalando \_ \_ un evento di modifica dell'interfaccia di routing FD \_ ), l'intera sequenza di azioni deve essere ripetuta.</span><span class="sxs-lookup"><span data-stu-id="ea915-514">Whenever **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL notifies the application of routing change (either through overlapped I/O or by signaling FD\_ROUTING\_INTERFACE\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="ea915-515">Se il buffer di output non è sufficientemente grande da contenere l'indirizzo di interfaccia, \_ viene restituito un errore socket come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="ea915-515">If the output buffer is not large enough to contain the interface address, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="ea915-516">In questo caso, la dimensione richiesta del buffer di output verrà restituita in *lpcbBytesReturned* .</span><span class="sxs-lookup"><span data-stu-id="ea915-516">The required size of the output buffer will be returned in *lpcbBytesReturned* in this case.</span></span> <span data-ttu-id="ea915-517">Si noti che il codice di errore WSAEFAULT viene restituito anche se il parametro *lpvInBuffer*, *lpvOutBuffer* o *lpcbBytesReturned* non è interamente contenuto in una parte valida dello spazio degli indirizzi utente.</span><span class="sxs-lookup"><span data-stu-id="ea915-517">Note the WSAEFAULT error code is also returned if the *lpvInBuffer*, *lpvOutBuffer*, or *lpcbBytesReturned* parameter is not totally contained in a valid part of the user address space.</span></span>

<span data-ttu-id="ea915-518">Se non è possibile raggiungere l'indirizzo di destinazione specificato nel buffer di input tramite una delle interfacce disponibili, \_ viene restituito un errore socket come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAENETUNREACH](windows-sockets-error-codes-2.md) o anche [WSAENETDOWN](windows-sockets-error-codes-2.md) se tutta la connettività di rete va persa.</span><span class="sxs-lookup"><span data-stu-id="ea915-518">If the destination address specified in the input buffer cannot be reached through any of the available interfaces, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAENETUNREACH](windows-sockets-error-codes-2.md) or even [WSAENETDOWN](windows-sockets-error-codes-2.md) if all of the network connectivity is lost.</span></span>

### <a name="sio_set_compatibility_mode-opcode-setting-i-t3"></a><span data-ttu-id="ea915-519">\_Modalità di \_ compatibilità set sio \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-519">SIO\_SET\_COMPATIBILITY\_MODE (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-520">Richiede il modo in cui lo stack di rete deve gestire determinati comportamenti per i quali la modalità predefinita di gestione del comportamento può essere diversa nelle versioni di Windows.</span><span class="sxs-lookup"><span data-stu-id="ea915-520">Requests how the networking stack should handle certain behaviors for which the default way of handling the behavior may differ across Windows versions.</span></span> <span data-ttu-id="ea915-521">La struttura degli argomenti per la **\_ \_ \_ modalità di compatibilità set sio** è specificata nella struttura della **\_ \_ modalità di compatibilità WSA** definita nel file di intestazione *Mswsockdef. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-521">The argument structure for **SIO\_SET\_COMPATIBILITY\_MODE** is specified in the **WSA\_COMPATIBILITY\_MODE** structure defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="ea915-522">Questa struttura viene definita nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="ea915-522">This structure is defined as follows:</span></span>

```cpp
/* Argument structure for SIO_SET_COMPATIBILITY_MODE */
typedef struct _WSA_COMPATIBILITY_MODE {
    WSA_COMPATIBILITY_BEHAVIOR_ID BehaviorId;
    ULONG TargetOsVersion;
} WSA_COMPATIBILITY_MODE, *PWSA_COMPATIBILITY_MODE;
```

<span data-ttu-id="ea915-523">Il valore specificato nel membro **BehaviorId** indica il comportamento richiesto.</span><span class="sxs-lookup"><span data-stu-id="ea915-523">The value specified in the **BehaviorId** member indicates the behavior requested.</span></span> <span data-ttu-id="ea915-524">Il valore specificato nel membro **TargetOSVersion** indica la versione di Windows richiesta per il comportamento.</span><span class="sxs-lookup"><span data-stu-id="ea915-524">The value specified in the **TargetOsVersion** member indicates the Windows version that is being requested for the behavior.</span></span>

<span data-ttu-id="ea915-525">Il membro **BehaviorId** può essere uno dei valori del tipo di **enumerazione \_ \_ \_ ID del comportamento di compatibilità WSA** definito nel file di intestazione *Mswsockdef. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-525">The **BehaviorId** member can be one of the values from the **WSA\_COMPATIBILITY\_BEHAVIOR\_ID** enumeration type defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="ea915-526">I valori possibili per il membro **BehaviorId** sono i seguenti.</span><span class="sxs-lookup"><span data-stu-id="ea915-526">The possible values for the **BehaviorId** member are as follows.</span></span>

| <span data-ttu-id="ea915-527">Termine</span><span class="sxs-lookup"><span data-stu-id="ea915-527">Term</span></span>                                                                                                                                                                             | <span data-ttu-id="ea915-528">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ea915-528">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-|-|
| <span data-ttu-id="ea915-529"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span><span class="sxs-lookup"><span data-stu-id="ea915-529"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span></span><br/>                                                     | <span data-ttu-id="ea915-530">Questa operazione equivale a richiedere tutti i possibili comportamenti compatibili definiti per l'ID del **\_ comportamento di \_ \_ compatibilità WSA**.</span><span class="sxs-lookup"><span data-stu-id="ea915-530">This is equivalent to requesting all of the possible compatible behaviors defined for **WSA\_COMPATIBILITY\_BEHAVIOR\_ID**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="ea915-531"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span><span class="sxs-lookup"><span data-stu-id="ea915-531"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span></span><br/> | <span data-ttu-id="ea915-532">Quando il membro **TargetOSVersion** è impostato su un valore per Windows Vista o versione successiva, le riduzioni delle dimensioni del buffer di ricezione TCP in questo socket con l'opzione socket **\_ RCVBUF** sono consentite anche dopo la creazione di una connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="ea915-532">When the **TargetOsVersion** member is set to a value for Windows Vista or later, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are allowed even after a TCP connection has been establishment.</span></span> <br/> <span data-ttu-id="ea915-533">Quando il membro **TargetOSVersion** è impostato su un valore precedente a Windows Vista, le riduzioni delle dimensioni del buffer di ricezione TCP in questo socket con l'opzione socket **\_ RCVBUF** non sono consentite dopo lo stabilimento della connessione.</span><span class="sxs-lookup"><span data-stu-id="ea915-533">When the **TargetOsVersion** member is set to a value earlier than Windows Vista, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are not allowed after connection establishment.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="ea915-534"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span><span class="sxs-lookup"><span data-stu-id="ea915-534"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span></span><br/>                         | <span data-ttu-id="ea915-535">Quando il membro **TargetOSVersion** è impostato su un valore per Windows Vista o versione successiva, l'ottimizzazione automatica della finestra di ricezione è abilitata e il fattore di scala della finestra TCP viene ridotto a 2 rispetto al valore predefinito di 8.</span><span class="sxs-lookup"><span data-stu-id="ea915-535">When the **TargetOsVersion** member is set to a value for Windows Vista or later, receive window auto-tuning is enabled and the TCP window scale factor is reduced to 2 from the default value of 8.</span></span><br/> <span data-ttu-id="ea915-536">Quando **TargetOSVersion** è impostato su un valore precedente a Windows Vista, l'ottimizzazione automatica della finestra di ricezione è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="ea915-536">When the **TargetOsVersion** is set to a value earlier than Windows Vista, receive window auto-tuning is disabled.</span></span> <span data-ttu-id="ea915-537">Anche l'opzione di scalabilità della finestra TCP è disabilitata e le dimensioni massime della finestra di ricezione true sono limitate a 65.535 byte.</span><span class="sxs-lookup"><span data-stu-id="ea915-537">The TCP window scaling option is also disabled and the maximum true receive window size is limited to 65,535 bytes.</span></span> <span data-ttu-id="ea915-538">Non è possibile negoziare l'opzione di scalabilità della finestra TCP sulla connessione anche se per questo socket è stata chiamata l'opzione **\_ RCVBUF** socket, che specifica un valore maggiore di 65.535 byte prima che sia stata stabilita la connessione.</span><span class="sxs-lookup"><span data-stu-id="ea915-538">The TCP window scaling option can't be negotiated on the connection even if the **SO\_RCVBUF** socket option was called on this socket specifying a value greater than 65,535 bytes before the connection was established.</span></span><br/> |



 

<span data-ttu-id="ea915-539">Per informazioni più dettagliate, vedere il riferimento alla [**\_ \_ \_ modalità di compatibilità set sio**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-539">For more detailed information, see the [**SIO\_SET\_COMPATIBILITY\_MODE**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) reference.</span></span>

<span data-ttu-id="ea915-540">**Sio \_ La \_ \_ modalità di compatibilità set** è supportata in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-540">**SIO\_SET\_COMPATIBILITY\_MODE** is supported on Windows Vista and later.</span></span>

### <a name="sio_set_group_qos-opcode-setting-i-t1"></a><span data-ttu-id="ea915-541">\_ \_ QoS gruppo set sio \_ (impostazione opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-541">SIO\_SET\_GROUP\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ea915-542">Riservato.</span><span class="sxs-lookup"><span data-stu-id="ea915-542">Reserved.</span></span>

### <a name="sio_set_priority_hint-opcode-setting-i-t3"></a><span data-ttu-id="ea915-543">SIO_SET_PRIORITY_HINT (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-543">SIO_SET_PRIORITY_HINT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-544">Fornisce un suggerimento al protocollo di trasporto sottostante per trattare il traffico su questo socket con una priorità specifica.</span><span class="sxs-lookup"><span data-stu-id="ea915-544">Provides a hint to the underlying transport protocol to treat the traffic on this socket with a specific priority.</span></span> <span data-ttu-id="ea915-545">*LpvInBuffer* deve puntare a una variabile di tipo **PRIORITY_HINT** con *cbInBuffer* impostato su sizeof (PRIORITY_HINT).</span><span class="sxs-lookup"><span data-stu-id="ea915-545">The *lpvInBuffer* must point to a variable of type **PRIORITY_HINT** with *cbInBuffer* set to sizeof(PRIORITY_HINT).</span></span> <span data-ttu-id="ea915-546">I parametri *lpvOutBuffer* e *cbOutBuffer* devono essere rispettivamente **null** e 0.</span><span class="sxs-lookup"><span data-stu-id="ea915-546">The *lpvOutBuffer* and *cbOutBuffer* parameters must be **NULL** and 0, respectively.</span></span> <span data-ttu-id="ea915-547">L'implementazione TCP di Microsoft Windows supporta questo IOCTL a partire da Windows 10, versione 1809 (10,0; Build 17763) e versioni successive come indicato di seguito: quando il valore di priorità richiesto è impostato su **IoPriorityHintVeryLow**, TCP usa una versione modificata dell'algoritmo LEDBAT (definito in RFC 6817) per controllare la velocità del traffico in uscita sul socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-547">The Microsoft Windows TCP implementation supports this IOCTL starting with Windows 10, version 1809 (10.0; Build 17763) and later as follows: when the requested priority value is set to **IoPriorityHintVeryLow**, TCP uses a modified version of the LEDBAT algorithm (defined in RFC 6817) for controlling the outbound traffic rate on the socket.</span></span> <span data-ttu-id="ea915-548">Il traffico in ingresso non è influenzato da questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="ea915-548">The inbound traffic is not affected by this IOCTL.</span></span> <span data-ttu-id="ea915-549">LEDBAT è un algoritmo di scavenging e il suo obiettivo è quello di ridurre la latenza e prevenire qualsiasi effetto negativo sul traffico con priorità normale uscendo dal modo in cui è presente il traffico con priorità normale.</span><span class="sxs-lookup"><span data-stu-id="ea915-549">LEDBAT is a scavenger algorithm, and its goal is to keep latency low and prevent any adverse effect on normal-priority traffic by getting out of the way when normal-priority traffic is present.</span></span>

<span data-ttu-id="ea915-550">Vedere anche [RFC 6817](https://tools.ietf.org/html/rfc6817).</span><span class="sxs-lookup"><span data-stu-id="ea915-550">Also see [RFC 6817](https://tools.ietf.org/html/rfc6817).</span></span>

<span data-ttu-id="ea915-551">**SIO_SET_PRIORITY_HINT** è supportato in Windows 10, versione 1809 (10,0; Build 17763) e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-551">**SIO_SET_PRIORITY_HINT** is supported on Windows 10, version 1809 (10.0; Build 17763) and later.</span></span>

### <a name="sio_set_qos-opcode-setting-i-t1"></a><span data-ttu-id="ea915-552">\_QoS set sio \_ (impostazione opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-552">SIO\_SET\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="ea915-553">Associare la struttura [**QoS**](/windows/win32/api/winsock2/ns-winsock2-qos) specificata al socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-553">Associate the specified [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure with the socket.</span></span> <span data-ttu-id="ea915-554">Non è necessario alcun buffer di output, la struttura **QoS** sarà ottenuta dal buffer di input.</span><span class="sxs-lookup"><span data-stu-id="ea915-554">No output buffer is required, the **QOS** structure will be obtained from the input buffer.</span></span> <span data-ttu-id="ea915-555">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano la qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="ea915-555">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_tcp_initial_rto-opcode-setting-i-t3"></a><span data-ttu-id="ea915-556">SIO_TCP_INITIAL_RTO (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-556">SIO_TCP_INITIAL_RTO (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-557">Controlla le caratteristiche di ritrasmissione iniziali (SYN/SYN + ACK) di un socket TCP configurando i parametri del timeout di ritrasmissione iniziale (RTO).</span><span class="sxs-lookup"><span data-stu-id="ea915-557">Controls the initial (SYN / SYN+ACK) retransmission characteristics of a TCP socket by configuring initial retransmission timeout (RTO) parameters.</span></span> <span data-ttu-id="ea915-558">I parametri di configurazione sono specificati in una struttura di [**\_ \_ \_ parametri RTO iniziali TCP**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) .</span><span class="sxs-lookup"><span data-stu-id="ea915-558">The configuration parameters are specified in a [**TCP\_INITIAL\_RTO\_PARAMETERS**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) structure.</span></span>

<span data-ttu-id="ea915-559">Per informazioni più dettagliate, vedere il riferimento [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) .</span><span class="sxs-lookup"><span data-stu-id="ea915-559">For more detailed information, see the [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) reference.</span></span> <span data-ttu-id="ea915-560">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) è supportato in Windows 8, windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-560">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_translate_handle-opcode-setting-i-o-t1"></a><span data-ttu-id="ea915-561">\_ \_ Handle di conversione SIO (impostazione opcode: I, O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="ea915-561">SIO\_TRANSLATE\_HANDLE (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="ea915-562">Per ottenere un handle corrispondente per i *socket che* è valido nel contesto di un'interfaccia complementare, ad esempio \_ netdev e \_ TAPI.</span><span class="sxs-lookup"><span data-stu-id="ea915-562">To obtain a corresponding handle for socket *s* that is valid in the context of a companion interface (for example, TH\_NETDEV and TH\_TAPI).</span></span> <span data-ttu-id="ea915-563">Una costante manifesto che identifica l'interfaccia complementare insieme a tutti gli altri parametri necessari viene specificata nel buffer di input.</span><span class="sxs-lookup"><span data-stu-id="ea915-563">A manifest constant identifying the companion interface along with any other needed parameters are specified in the input buffer.</span></span> <span data-ttu-id="ea915-564">Il punto di controllo corrispondente sarà disponibile nel buffer di output al completamento della funzione.</span><span class="sxs-lookup"><span data-stu-id="ea915-564">The corresponding handle will be available in the output buffer upon completion of this function.</span></span> <span data-ttu-id="ea915-565">Per informazioni dettagliate specifiche su una particolare interfaccia complementare, vedere la sezione appropriata negli [allegati di Winsock](winsock-annexes.md) .</span><span class="sxs-lookup"><span data-stu-id="ea915-565">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="ea915-566">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL per l'interfaccia complementare specificata.</span><span class="sxs-lookup"><span data-stu-id="ea915-566">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL for the specified companion interface.</span></span> <span data-ttu-id="ea915-567">Questo IOCTL recupera l'handle associato usando **l' \_ \_ handle di conversione sio**.</span><span class="sxs-lookup"><span data-stu-id="ea915-567">This IOCTL retrieves the handle associated using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="ea915-568">È consigliabile utilizzare il Component Object Model (COM) invece di questo IOCTL per individuare e rilevare altre interfacce che potrebbero essere supportate da un socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-568">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="ea915-569">Questo IOCTL è presente per la compatibilità con le versioni precedenti dei sistemi in cui COM non è disponibile o non può essere usato per altri motivi.</span><span class="sxs-lookup"><span data-stu-id="ea915-569">This IOCTL is present for backward compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_udp_connreset-opcode-setting-i-t3"></a><span data-ttu-id="ea915-570">\_CONNRESET UDP sio \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-570">SIO\_UDP\_CONNRESET (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-571">**Windows XP:** Controlla se i messaggi di porta UDP non \_ raggiungibili vengono segnalati.</span><span class="sxs-lookup"><span data-stu-id="ea915-571">**Windows XP:** Controls whether UDP PORT\_UNREACHABLE messages are reported.</span></span> <span data-ttu-id="ea915-572">Impostare su **true** per abilitare la creazione di report.</span><span class="sxs-lookup"><span data-stu-id="ea915-572">Set to **TRUE** to enable reporting.</span></span> <span data-ttu-id="ea915-573">Impostare su **false** per disabilitare la creazione di report.</span><span class="sxs-lookup"><span data-stu-id="ea915-573">Set to **FALSE** to disable reporting.</span></span>

### <a name="sio_set_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="ea915-574">SIO \_ imposta \_ i \_ record di reindirizzamento della connessione WFP \_ \_ (impostazione opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-574">SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="ea915-575">Imposta il record di reindirizzamento sul nuovo socket TCP usato per la connessione alla destinazione finale per l'uso da parte di un servizio di reindirizzamento della piattaforma filtro Windows (WFP).</span><span class="sxs-lookup"><span data-stu-id="ea915-575">Sets the redirect record to the new TCP socket used for connecting to the final destination for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="ea915-576">Il [**\_ set di \_ dati di \_ \_ Reindirizzamento \_ della connessione di sio set WFP**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) viene usato come parte del rilevamento delle connessioni con proxy per le connessioni socket reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="ea915-576">The [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL is used as part of proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="ea915-577">Questa funzionalità WFP facilita il rilevamento dei record di reindirizzamento dal reindirizzamento iniziale di una connessione alla connessione finale alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-577">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="ea915-578">Per informazioni più dettagliate, vedere il riferimento per i [**record di reindirizzamento della connessione di sio \_ set \_ WFP \_ \_ \_**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="ea915-578">For more detailed information, see the [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) reference.</span></span> <span data-ttu-id="ea915-579">**Sio \_ IMPOSTARE \_ i \_ \_ \_ record di reindirizzamento della connessione WFP** è supportato in windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-579">**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_tcp_info-opcode-setting-i-o-t3"></a><span data-ttu-id="ea915-580">\_Informazioni TCP sio \_ (impostazione opcode: I, O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="ea915-580">SIO\_TCP\_INFO (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="ea915-581">Recupera le statistiche TCP per un socket.</span><span class="sxs-lookup"><span data-stu-id="ea915-581">Retrieves the TCP statistics for a socket.</span></span> <span data-ttu-id="ea915-582">Le statistiche TCP sono disponibili in una struttura [**TCP \_ info \_ V0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) .</span><span class="sxs-lookup"><span data-stu-id="ea915-582">The TCP statistics are provided in a [**TCP\_INFO\_v0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) structure.</span></span>

<span data-ttu-id="ea915-583">A differenza del recupero delle statistiche TCP con la funzione [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) , il recupero delle statistiche TCP con questo codice di controllo non richiede il caricamento, l'archiviazione e il filtro della tabella di connessione TCP da parte del codice utente e non richiede privilegi elevati per l'utilizzo di.</span><span class="sxs-lookup"><span data-stu-id="ea915-583">Unlike retrieving TCP statistics with the [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) function, retrieving TCP statistics with this control code does not require the user code to load, store, and filter the TCP connection table, and does not require elevated privileges to use.</span></span>

<span data-ttu-id="ea915-584">Per altre informazioni, vedere [**sio \_ TCP \_ info**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="ea915-584">For more information, see [**SIO\_TCP\_INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span></span> <span data-ttu-id="ea915-585">**Sio \_ Le \_ informazioni TCP** sono supportate in Windows 10, versione 1703, windows server 2016 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="ea915-585">**SIO\_TCP\_INFO** is supported on Windows 10, version 1703, Windows Server 2016, and later.</span></span>

## <a name="remarks"></a><span data-ttu-id="ea915-586">Commenti</span><span class="sxs-lookup"><span data-stu-id="ea915-586">Remarks</span></span>

<span data-ttu-id="ea915-587">Le IOCTL Winsock sono definite in una serie di diversi file di intestazione.</span><span class="sxs-lookup"><span data-stu-id="ea915-587">Winsock Ioctls are defined in a number of different header files.</span></span> <span data-ttu-id="ea915-588">Sono inclusi il file di intestazione *Winsock2. h*, *mswsock. h* e *MSTCPIP. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-588">These include the *Winsock2.h*, *Mswsock.h*, and *Mstcpip.h* header file.</span></span>

<span data-ttu-id="ea915-589">In Microsoft Windows Software Development Kit (SDK) rilasciata per Windows Vista e versioni successive, l'organizzazione dei file di intestazione è stata modificata e in *Ws2def.* h, *Ws2ipdef. h* e *Mswsockdef.* h i file di intestazione. h, viene definito anche un numero di IOCTL Winsock.</span><span class="sxs-lookup"><span data-stu-id="ea915-589">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and a number of Winsock Ioctls are also defined in the *Ws2def.h*, *Ws2ipdef.h*, and *Mswsockdef.h* header files.</span></span> <span data-ttu-id="ea915-590">Il file di intestazione *Ws2def. h* viene incluso automaticamente nel file di intestazione *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-590">The *Ws2def.h* header file is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="ea915-591">Il file di intestazione *Ws2ipdef. h* viene incluso automaticamente nel file di intestazione *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-591">The *Ws2ipdef.h* header file is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="ea915-592">Il file di intestazione *Mswsockdef. h* viene incluso automaticamente nel file di intestazione *Mswsockdef. h* .</span><span class="sxs-lookup"><span data-stu-id="ea915-592">The *Mswsockdef.h* header file is automatically included in the *Mswsockdef.h* header file.</span></span>

## <a name="requirements"></a><span data-ttu-id="ea915-593">Requisiti</span><span class="sxs-lookup"><span data-stu-id="ea915-593">Requirements</span></span>

|||
|-|-|
| <span data-ttu-id="ea915-594">Intestazione</span><span class="sxs-lookup"><span data-stu-id="ea915-594">Header</span></span><br/> | <dl> <span data-ttu-id="ea915-595"><dt>Winsock2. h; </dt> <dt>MSTCPIP. h; </dt> <dt>Mswsock. h; </dt> <dt>Mswsockdef. h in Windows Vista, Windows Server 2008 e Windows 7 (includere mswsock. h); </dt> <dt>Ws2def. h in Windows Vista, Windows Server 2008 e Windows 7 (includere Winsock2. h); </dt> <dt>Ws2ipdef. h in Windows Vista, Windows Server 2008 e Windows 7 (includere Ws2tcpip. h)</dt></span><span class="sxs-lookup"><span data-stu-id="ea915-595"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Mswsock.h); </dt> <dt>Ws2def.h on Windows Vista, Windows Server 2008 and Windows 7 (include Winsock2.h); </dt> <dt>Ws2ipdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Ws2tcpip.h)</dt></span></span> </dl> |
