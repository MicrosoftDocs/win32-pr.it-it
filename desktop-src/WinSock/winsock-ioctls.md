---
description: Argomento di navigazione per gli IOCTL socket di Windows Sockets (Winsock).
ms.assetid: 6a63c2c9-4e09-4a62-b39f-3ccb26287da8
title: IOCTL Winsock (Winsock2.h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: eadf4a0e2799d6123bf81069fe65ea16313af444
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/27/2021
ms.locfileid: "110550256"
---
# <a name="winsock-ioctls"></a><span data-ttu-id="28c15-103">IOCTL winsock</span><span class="sxs-lookup"><span data-stu-id="28c15-103">Winsock IOCTLs</span></span>

<span data-ttu-id="28c15-104">Questa sezione descrive i controlli di input/output (IOCTL) di Winsock Socket per diverse edizioni dei sistemi operativi Windows.</span><span class="sxs-lookup"><span data-stu-id="28c15-104">This section describes Winsock Socket input/output controls (IOCTLs) for various editions of Windows operating systems.</span></span> <span data-ttu-id="28c15-105">Usare la [**funzione WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) o [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) per eseguire un ioCTL Winsock per controllare la modalità di un socket, il protocollo di trasporto o il sottosistema delle comunicazioni.</span><span class="sxs-lookup"><span data-stu-id="28c15-105">Use the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) function to issue a Winsock IOCTL to control the mode of a socket, the transport protocol, or the communications subsystem.</span></span>

<span data-ttu-id="28c15-106">Alcuni IOCL Winsock richiedono una spiegazione maggiore di quanto possa comunicare questa tabella. tali opzioni contengono collegamenti ad argomenti aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="28c15-106">Some Winsock IOCTLs require more explanation than this table can convey; such options contain links to additional topics.</span></span>

<span data-ttu-id="28c15-107">È possibile adottare uno schema di codifica che manteni gli opcode [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) attualmente definiti, offrendo al tempo stesso un modo pratico per partizionare lo spazio dell'identificatore del codice operativo in quanto il *parametro dwIoControlCode* è ora un'entità a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="28c15-107">It is possible to adopt an encoding scheme that preserves the currently defined [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) opcodes while providing a convenient way to partition the opcode identifier space in as much as the *dwIoControlCode* parameter is now a 32-bit entity.</span></span> <span data-ttu-id="28c15-108">Il *parametro dwIoControlCode* viene compilato per consentire l'indipendenza del protocollo e del fornitore quando si aggiungono nuovi codici di controllo mantenendo la compatibilità con le versioni precedenti con i codici di controllo di Windows Sockets 1.1 e Unix.</span><span class="sxs-lookup"><span data-stu-id="28c15-108">The *dwIoControlCode* parameter is built to allow for protocol and vendor independence when adding new control codes while retaining backward compatibility with the Windows Sockets 1.1 and Unix control codes.</span></span> <span data-ttu-id="28c15-109">Il *formato del parametro dwIoControlCode* è il seguente.</span><span class="sxs-lookup"><span data-stu-id="28c15-109">The *dwIoControlCode* parameter has the following form.</span></span>

| <span data-ttu-id="28c15-110">I</span><span class="sxs-lookup"><span data-stu-id="28c15-110">I</span></span>  | <span data-ttu-id="28c15-111">O</span><span class="sxs-lookup"><span data-stu-id="28c15-111">O</span></span>  | <span data-ttu-id="28c15-112">V</span><span class="sxs-lookup"><span data-stu-id="28c15-112">V</span></span>  | <span data-ttu-id="28c15-113">T</span><span class="sxs-lookup"><span data-stu-id="28c15-113">T</span></span>  | <span data-ttu-id="28c15-114">Famiglia di fornitori/indirizzi</span><span class="sxs-lookup"><span data-stu-id="28c15-114">Vendor/address family</span></span> | <span data-ttu-id="28c15-115">Codice</span><span class="sxs-lookup"><span data-stu-id="28c15-115">Code</span></span>                   |
|-|-|-|-|-|-|
| <span data-ttu-id="28c15-116">3</span><span class="sxs-lookup"><span data-stu-id="28c15-116">3</span></span>  | <span data-ttu-id="28c15-117">3</span><span class="sxs-lookup"><span data-stu-id="28c15-117">3</span></span>  | <span data-ttu-id="28c15-118">2</span><span class="sxs-lookup"><span data-stu-id="28c15-118">2</span></span>  | <span data-ttu-id="28c15-119">2 2</span><span class="sxs-lookup"><span data-stu-id="28c15-119">2 2</span></span> | <span data-ttu-id="28c15-120">2 2 2 2 2 2 2 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="28c15-120">2 2 2 2 2 2 2 1 1 1 1</span></span> | <span data-ttu-id="28c15-121">1 1 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="28c15-121">1 1 1 1 1 1</span></span>              |
| <span data-ttu-id="28c15-122">1</span><span class="sxs-lookup"><span data-stu-id="28c15-122">1</span></span>  | <span data-ttu-id="28c15-123">0</span><span class="sxs-lookup"><span data-stu-id="28c15-123">0</span></span>  | <span data-ttu-id="28c15-124">9</span><span class="sxs-lookup"><span data-stu-id="28c15-124">9</span></span>  | <span data-ttu-id="28c15-125">8 7</span><span class="sxs-lookup"><span data-stu-id="28c15-125">8 7</span></span> | <span data-ttu-id="28c15-126">6 5 4 3 2 1 0 9 8 7 6</span><span class="sxs-lookup"><span data-stu-id="28c15-126">6 5 4 3 2 1 0 9 8 7 6</span></span> | <span data-ttu-id="28c15-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span><span class="sxs-lookup"><span data-stu-id="28c15-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span></span> |

> [!Note] 
> <span data-ttu-id="28c15-128">I bit nel *parametro dwIoControlCode* visualizzato nella tabella devono essere letti verticalmente dall'alto verso il basso in base alla colonna.</span><span class="sxs-lookup"><span data-stu-id="28c15-128">The bits in *dwIoControlCode* parameter displayed in the table must be read vertically from top to bottom by column.</span></span> <span data-ttu-id="28c15-129">Il bit più a sinistra è il bit 31, il bit successivo è il bit 30 e il bit più a destra è il bit 0.</span><span class="sxs-lookup"><span data-stu-id="28c15-129">So the left-most bit is bit 31, the next bit is bit 30, and the right-most bit is bit 0.</span></span>

<span data-ttu-id="28c15-130">Viene impostato se il buffer di input è valido per il codice, come **con IOC_IN**.</span><span class="sxs-lookup"><span data-stu-id="28c15-130">I is set if the input buffer is valid for the code, as with **IOC_IN**.</span></span>

<span data-ttu-id="28c15-131">O viene impostato se il buffer di output è valido per il codice, come **IOC_OUT**.</span><span class="sxs-lookup"><span data-stu-id="28c15-131">O is set if the output buffer is valid for the code, as with **IOC_OUT**.</span></span> <span data-ttu-id="28c15-132">I codici di controllo che usano buffer di input e output impostano sia I che O.</span><span class="sxs-lookup"><span data-stu-id="28c15-132">Control codes using both input and output buffers set both I and O.</span></span>

<span data-ttu-id="28c15-133">V viene impostato se non sono presenti parametri per il codice, come con **IOC_VOID**.</span><span class="sxs-lookup"><span data-stu-id="28c15-133">V is set if there are no parameters for the code, as with **IOC_VOID**.</span></span>

<span data-ttu-id="28c15-134">T è una quantità a 2 bit che definisce il tipo di IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-134">T is a 2-bit quantity that defines the type of the IOCTL.</span></span> <span data-ttu-id="28c15-135">Vengono definiti i valori seguenti:</span><span class="sxs-lookup"><span data-stu-id="28c15-135">The following values are defined:</span></span>

<span data-ttu-id="28c15-136">0 IoCTL è un codice IOCTL Unix standard, come con **FIONREAD** e **FIONBIO.**</span><span class="sxs-lookup"><span data-stu-id="28c15-136">0 The IOCTL is a standard Unix IOCTL code, as with **FIONREAD** and **FIONBIO**.</span></span>

<span data-ttu-id="28c15-137">1 IoCTL è un codice IOCTL generico di Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="28c15-137">1 The IOCTL is a generic Windows Sockets 2 IOCTL code.</span></span> <span data-ttu-id="28c15-138">I nuovi codici IOCTL definiti per Windows Sockets 2 avranno T == 1.</span><span class="sxs-lookup"><span data-stu-id="28c15-138">New IOCTL codes defined for Windows Sockets 2 will have T == 1.</span></span>

<span data-ttu-id="28c15-139">2 L'ioCTL si applica solo a una famiglia di indirizzi specifica.</span><span class="sxs-lookup"><span data-stu-id="28c15-139">2 The IOCTL applies only to a specific address family.</span></span>

<span data-ttu-id="28c15-140">3 L'IOCTL si applica solo al provider di un fornitore specifico, come **IOC_VENDOR**.</span><span class="sxs-lookup"><span data-stu-id="28c15-140">3 The IOCTL applies only to a specific vendor's provider, as with **IOC_VENDOR**.</span></span> <span data-ttu-id="28c15-141">Questo tipo consente alle società di essere assegnate a un numero di fornitore visualizzato nel **parametro vendor/address family.**</span><span class="sxs-lookup"><span data-stu-id="28c15-141">This type allows companies to be assigned a vendor number that appears in the **Vendor/Address family** parameter.</span></span> <span data-ttu-id="28c15-142">Il fornitore può quindi definire nuovi IOCTL specifici per il fornitore senza dover registrare l'IOCTL con un'istanza di clearinghouse, garantendo in tal modo flessibilità e privacy al fornitore.</span><span class="sxs-lookup"><span data-stu-id="28c15-142">Then, the vendor can define new IOCTLs specific to that vendor without having to register the IOCTL with a clearinghouse, thereby providing vendor flexibility and privacy.</span></span>

<span data-ttu-id="28c15-143">**Famiglia di fornitori/indirizzi** Quantità a 11 bit che definisce il fornitore proprietario del codice (se T == 3) o che contiene la famiglia di indirizzi a cui si applica il codice (se T == 2).</span><span class="sxs-lookup"><span data-stu-id="28c15-143">**Vendor/Address family** An 11-bit quantity that defines the vendor who owns the code (if T == 3) or that contains the address family to which the code applies (if T == 2).</span></span> <span data-ttu-id="28c15-144">Se si tratta di un codice IOCTL Unix (T == 0), questo parametro ha lo stesso valore del codice in Unix.</span><span class="sxs-lookup"><span data-stu-id="28c15-144">If this is a Unix IOCTL code (T == 0) then this parameter has the same value as the code on Unix.</span></span> <span data-ttu-id="28c15-145">Se si tratta di un IOCTL di Windows Sockets 2 generico (T == 1), questo parametro può essere usato come estensione del parametro di codice per fornire valori di codice aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="28c15-145">If this is a generic Windows Sockets 2 IOCTL (T == 1) then this parameter can be used as an extension of the code parameter to provide additional code values.</span></span>

<span data-ttu-id="28c15-146">**Codice** Quantità a 16 bit che contiene il codice IOCTL specifico per l'operazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-146">**Code** The 16-bit quantity that contains the specific IOCTL code for the operation.</span></span>

## <a name="unix-ioctl-codes"></a><span data-ttu-id="28c15-147">Codici IOCTL Unix</span><span class="sxs-lookup"><span data-stu-id="28c15-147">Unix IOCTL codes</span></span>

<span data-ttu-id="28c15-148">Sono supportati i codici (comandi) IOCTL Unix seguenti.</span><span class="sxs-lookup"><span data-stu-id="28c15-148">The following Unix IOCTL codes (commands) are supported.</span></span>

### <a name="fionbio"></a><span data-ttu-id="28c15-149">FIONBIO</span><span class="sxs-lookup"><span data-stu-id="28c15-149">FIONBIO</span></span>

<span data-ttu-id="28c15-150">Abilitare o disabilitare la modalità non bloccante nel socket *.*</span><span class="sxs-lookup"><span data-stu-id="28c15-150">Enable or disable non-blocking mode on socket *s*.</span></span> <span data-ttu-id="28c15-151">Il *parametro lpvInBuffer* punta a un valore **unsigned long** (QoS), che è diverso da zero se deve essere abilitata la modalità non bloccante e zero se deve essere disabilitato.</span><span class="sxs-lookup"><span data-stu-id="28c15-151">The *lpvInBuffer* parameter points at an **unsigned long** (QoS), which is nonzero if non-blocking mode is to be enabled and zero if it is to be disabled.</span></span> <span data-ttu-id="28c15-152">Quando viene creato, un socket opera in modalità di blocco, ovvero la modalità non di blocco è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="28c15-152">When a socket is created, it operates in blocking mode (that is, non-blocking mode is disabled).</span></span> <span data-ttu-id="28c15-153">Questo è coerente con i socket BSD.</span><span class="sxs-lookup"><span data-stu-id="28c15-153">This is consistent with BSD sockets.</span></span>

<span data-ttu-id="28c15-154">La routine [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) o [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) imposta automaticamente un socket in modalità non di blocco.</span><span class="sxs-lookup"><span data-stu-id="28c15-154">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) or [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) routine automatically sets a socket to non-blocking mode.</span></span> <span data-ttu-id="28c15-155">Se **WSAAsyncSelect** o **WSAEventSelect** è stato rilasciato in un socket, qualsiasi tentativo di usare [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) per impostare il socket sulla modalità di blocco avrà esito negativo con WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="28c15-155">If **WSAAsyncSelect** or **WSAEventSelect** has been issued on a socket, then any attempt to use [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) to set the socket back to blocking mode will fail with WSAEINVAL.</span></span> <span data-ttu-id="28c15-156">Per impostare nuovamente il socket sulla modalità di blocco, un'applicazione deve prima disabilitare **WSAAsyncSelect** chiamando **WSAAsyncSelect** con il parametro *lEvent* uguale a zero oppure disabilitare **WSAEventSelect** chiamando **WSAEventSelect** con il parametro *lNetworkEvents* uguale a zero.</span><span class="sxs-lookup"><span data-stu-id="28c15-156">To set the socket back to blocking mode, an application must first disable **WSAAsyncSelect** by calling **WSAAsyncSelect** with the *lEvent* parameter equal to zero, or disable **WSAEventSelect** by calling **WSAEventSelect** with the *lNetworkEvents* parameter equal to zero.</span></span>

### <a name="fionread"></a><span data-ttu-id="28c15-157">FIONREAD</span><span class="sxs-lookup"><span data-stu-id="28c15-157">FIONREAD</span></span>

<span data-ttu-id="28c15-158">Determinare la quantità di dati che possono essere letti atomicamente da socket *s*.</span><span class="sxs-lookup"><span data-stu-id="28c15-158">Determine the amount of data that can be read atomically from socket *s*.</span></span> <span data-ttu-id="28c15-159">Il *parametro lpvOutBuffer* punta a **un valore long senza** segno in cui [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) archivia il risultato.</span><span class="sxs-lookup"><span data-stu-id="28c15-159">The *lpvOutBuffer* parameter points at an **unsigned long** in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

<span data-ttu-id="28c15-160">Se il socket passato nel parametro *s* è orientato al flusso (ad esempio, il tipo SOCK \_ STREAM), **FIONREAD** restituisce la quantità totale di dati che possono essere letti in una singola operazione di ricezione. Questo è in genere lo stesso della quantità totale di dati accodati nel socket (poiché un flusso di dati è orientato ai byte, questo non è garantito).</span><span class="sxs-lookup"><span data-stu-id="28c15-160">If the socket passed in the *s* parameter is stream oriented (for example, type SOCK\_STREAM), **FIONREAD** returns the total amount of data that can be read in a single receive operation; this is normally the same as the total amount of data queued on the socket (since a data stream is byte-oriented, this is not guaranteed).</span></span>

<span data-ttu-id="28c15-161">Se il socket passato nel parametro *s* è orientato ai messaggi (ad esempio, tipo SOCK \_ DGRAM), **FIONREAD** restituisce il numero totale di byte disponibili per la lettura, non le dimensioni del primo datagramma (messaggio) accodato sul socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-161">If the socket passed in the *s* parameter is message oriented (for example, type SOCK\_DGRAM), **FIONREAD** returns the reports the total number of bytes available to read, not the size of the first datagram (message) queued on the socket.</span></span>

### <a name="siocatmark"></a><span data-ttu-id="28c15-162">SIOCATMARK</span><span class="sxs-lookup"><span data-stu-id="28c15-162">SIOCATMARK</span></span>

<span data-ttu-id="28c15-163">Determinare se tutti i dati OOB sono stati letti.</span><span class="sxs-lookup"><span data-stu-id="28c15-163">Determine whether or not all OOB data has been read.</span></span> <span data-ttu-id="28c15-164">Ciò si applica solo a un socket di tipo flusso (ad esempio, sock STREAM) configurato per la ricezione inline di tutti i dati \_ OOB (SO \_ OOBINLINE).</span><span class="sxs-lookup"><span data-stu-id="28c15-164">This applies only to a socket of stream-style (for example, type SOCK\_STREAM) that has been configured for inline reception of any OOB data (SO\_OOBINLINE).</span></span> <span data-ttu-id="28c15-165">Se nessun dato OOB è in attesa di essere letto, l'operazione restituisce TRUE.</span><span class="sxs-lookup"><span data-stu-id="28c15-165">If no OOB data is waiting to be read, the operation returns TRUE.</span></span> <span data-ttu-id="28c15-166">In caso contrario, restituisce **FALSE** e l'operazione di ricezione successiva eseguita sul socket recupererà alcuni o tutti i dati che precedono il contrassegno. l'applicazione deve usare **l'operazione SIOCATMARK** per determinare se rimane.</span><span class="sxs-lookup"><span data-stu-id="28c15-166">Otherwise, it returns **FALSE**, and the next receive operation performed on the socket will retrieve some or all of the data preceding the mark; the application should use the **SIOCATMARK** operation to determine whether any remains.</span></span> <span data-ttu-id="28c15-167">Se sono presenti dati normali che precedono i dati urgenti (fuori banda), verranno ricevuti nell'ordine indicato.</span><span class="sxs-lookup"><span data-stu-id="28c15-167">If there is any normal data preceding the urgent (out of band) data, it will be received in order.</span></span> <span data-ttu-id="28c15-168">Si noti che [**le operazioni recv**](/windows/desktop/api/winsock/nf-winsock-recv) non combinano mai dati OOB e normali nella stessa chiamata. *lpvOutBuffer* punta a un oggetto BOOL in [**cui WSAIoctl archivia**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) il risultato.</span><span class="sxs-lookup"><span data-stu-id="28c15-168">(Note that [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operations will never mix OOB and normal data in the same call.) *lpvOutBuffer* points at a BOOL in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

## <a name="windows-sockets-2-commands"></a><span data-ttu-id="28c15-169">Comandi di Windows Sockets 2</span><span class="sxs-lookup"><span data-stu-id="28c15-169">Windows Sockets 2 commands</span></span>

<span data-ttu-id="28c15-170">Sono supportati i comandi di Windows Sockets 2 seguenti.</span><span class="sxs-lookup"><span data-stu-id="28c15-170">The following Windows Sockets 2 commands are supported.</span></span>

### <a name="sio_acquire_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="28c15-171">SIO_ACQUIRE_PORT_RESERVATION (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-171">SIO_ACQUIRE_PORT_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-172">Richiedere una prenotazione di runtime per un blocco di porte TCP o UDP.</span><span class="sxs-lookup"><span data-stu-id="28c15-172">Request a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="28c15-173">Per le prenotazioni di porte di runtime, il pool di porte richiede che le prenotazioni siano utilizzate dal processo sul cui socket è stata concessa la prenotazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-173">For runtime port reservations, the port pool requires that reservations be consumed from the process on whose socket the reservation was granted.</span></span> <span data-ttu-id="28c15-174">Le prenotazioni di porte di runtime durano solo fino alla durata del socket in cui è stato chiamato [**SIO \_ ACQUIRE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-174">Runtime port reservations last only as long as the lifetime of the socket on which the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL was called.</span></span> <span data-ttu-id="28c15-175">Al contrario, le prenotazioni di porte persistenti create usando la [**funzione CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) o [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) possono essere utilizzate da qualsiasi processo con la possibilità di ottenere prenotazioni permanenti.</span><span class="sxs-lookup"><span data-stu-id="28c15-175">In contrast, persistent port reservations created using the [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) or [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) function may be consumed by any process with the ability to obtain persistent reservations.</span></span>

<span data-ttu-id="28c15-176">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ ACQUIRE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-176">For more detailed information, see the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) reference.</span></span>

<span data-ttu-id="28c15-177">[**SIO \_ ACQUIRE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) è supportato in Windows Vista e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-177">[**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_address_list_change-opcode-setting-v-t1"></a><span data-ttu-id="28c15-178">SIO \_ ADDRESS LIST CHANGE \_ \_ (impostazione del codice operativo: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-178">SIO\_ADDRESS\_LIST\_CHANGE (opcode setting: V, T==1)</span></span>

<span data-ttu-id="28c15-179">Per ricevere una notifica delle modifiche nell'elenco degli indirizzi di trasporto locali della famiglia di protocolli del socket a cui l'applicazione può eseguire l'associazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-179">To receive notification of changes in the list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="28c15-180">Non verranno fornite informazioni di output al completamento di questo IOCTL. il completamento indica semplicemente che l'elenco di indirizzi locali disponibili è stato modificato e deve essere nuovamente sottoposto a query tramite **SIO \_ ADDRESS LIST \_ \_ QUERY**.</span><span class="sxs-lookup"><span data-stu-id="28c15-180">No output information will be provided upon completion of this IOCTL; the completion merely indicates that list of available local address has changed and should be queried again through **SIO\_ADDRESS\_LIST\_QUERY**.</span></span>

<span data-ttu-id="28c15-181">Si presuppone (anche se non obbligatorio) che l'applicazione usi operazioni di I/O sovrapposte per ricevere una notifica della modifica completando la richiesta **SIO \_ ADDRESS LIST \_ \_ CHANGE.**</span><span class="sxs-lookup"><span data-stu-id="28c15-181">It is assumed (although not required) that the application uses overlapped I/O to be notified of change by completion of **SIO\_ADDRESS\_LIST\_CHANGE** request.</span></span> <span data-ttu-id="28c15-182">In alternativa, se **SIO \_ ADDRESS LIST \_ \_ CHANGE** IOCTL viene generato in un socket non bloccante e senza parametri sovrapposti (*lpOverlapped* lpCompletionRoutine è impostato su NULL), verrà completato immediatamente con l'errore /   [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md). </span><span class="sxs-lookup"><span data-stu-id="28c15-182">Alternatively, if the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL is issued on a non-blocking socket and without overlapped parameters (*lpOverlapped*/ *lpCompletionRoutine* are set to **NULL**), it will complete immediately with error [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="28c15-183">L'applicazione può quindi attendere gli eventi di modifica dell'elenco indirizzi tramite una chiamata a [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) o [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) con bit CHANGE FD ADDRESS LIST impostato nella maschera di bit dell'evento \_ di \_ \_ rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-183">The application can then wait for address list change events through a call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ADDRESS\_LIST\_CHANGE bit set in the network event bitmask.</span></span>

### <a name="sio_address_list_query-opcode-setting-o-t1"></a><span data-ttu-id="28c15-184">SIO \_ ADDRESS LIST QUERY \_ \_ (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-184">SIO\_ADDRESS\_LIST\_QUERY (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-185">Ottiene un elenco di indirizzi di trasporto locali della famiglia di protocolli del socket a cui l'applicazione può eseguire l'associazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-185">Obtains a list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="28c15-186">L'elenco di indirizzi varia in base alla famiglia di indirizzi e alcuni indirizzi vengono esclusi dall'elenco.</span><span class="sxs-lookup"><span data-stu-id="28c15-186">The list of addresses varies based on address family and some addresses are excluded from the list.</span></span>

> [!Note] 
> <span data-ttu-id="28c15-187">Negli ambienti Plug-n-Play Windows gli indirizzi possono essere aggiunti e rimossi dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="28c15-187">In Windows Plug-n-Play environments, addresses can be added and removed dynamically.</span></span> <span data-ttu-id="28c15-188">Pertanto, le applicazioni non possono basarsi sulle informazioni restituite da **SIO \_ ADDRESS LIST \_ \_ QUERY** per essere persistenti.</span><span class="sxs-lookup"><span data-stu-id="28c15-188">Therefore, applications cannot rely on the information returned by **SIO\_ADDRESS\_LIST\_QUERY** to be persistent.</span></span> <span data-ttu-id="28c15-189">Le applicazioni possono registrarsi per le notifiche di modifica degli indirizzi tramite **SIO \_ ADDRESS LIST \_ \_ CHANGE** IOCTL, che fornisce la notifica tramite un evento DI I/O sovrapposto o FD \_ ADDRESS LIST \_ \_ CHANGE.</span><span class="sxs-lookup"><span data-stu-id="28c15-189">Applications may register for address change notifications through the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL which provides for notification through either overlapped I/O or FD\_ADDRESS\_LIST\_CHANGE event.</span></span> <span data-ttu-id="28c15-190">La sequenza di azioni seguente può essere usata per garantire che l'applicazione abbia sempre informazioni aggiornate sull'elenco di indirizzi:</span><span class="sxs-lookup"><span data-stu-id="28c15-190">The following sequence of actions can be used to guarantee that the application always has current address list information:</span></span>

-  <span data-ttu-id="28c15-191">Problema **SIO \_ ADDRESS LIST \_ \_ CHANGE** IOCTL</span><span class="sxs-lookup"><span data-stu-id="28c15-191">Issue **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL</span></span>
-  <span data-ttu-id="28c15-192">Problema **SIO \_ ADDRESS LIST \_ \_ QUERY** IOCTL</span><span class="sxs-lookup"><span data-stu-id="28c15-192">Issue **SIO\_ADDRESS\_LIST\_QUERY** IOCTL</span></span>
-  <span data-ttu-id="28c15-193">Ogni **volta che SIO ADDRESS LIST \_ \_ \_ CHANGE** IOCTL notifica all'applicazione la modifica dell'elenco di indirizzi (tramite I/O sovrapposto o segnalando l'evento FD ADDRESS LIST CHANGE), l'intera sequenza di azioni deve essere \_ ripetuta. \_ \_</span><span class="sxs-lookup"><span data-stu-id="28c15-193">Whenever **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL notifies the application of address list change (either through overlapped I/O or by signaling FD\_ADDRESS\_LIST\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="28c15-194">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ ADDRESS LIST \_ \_ QUERY.**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-194">For more detailed information, see the [**SIO\_ADDRESS\_LIST\_QUERY**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-195">**SIO \_ ADDRESS \_ LIST \_ QUERY** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-195">**SIO\_ADDRESS\_LIST\_QUERY** is supported on Windows 2000 and later.</span></span>

### <a name="sio_apply_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="28c15-196">SIO \_ APPLY TRANSPORT SETTING \_ \_ (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-196">SIO\_APPLY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-197">Applica un'impostazione di trasporto a un socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-197">Applies a transport setting to a socket.</span></span> <span data-ttu-id="28c15-198">L'impostazione di trasporto applicata si basa [**\_ \_ sull'ID TRANSPORT SETTING**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passato nel parametro *lpvInBuffer.*</span><span class="sxs-lookup"><span data-stu-id="28c15-198">The transport setting being applied is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="28c15-199">L'unica impostazione di trasporto attualmente definita è per la funzionalità **\_ \_ DI \_** NOTIFICA IN TEMPO REALE su un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="28c15-199">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="28c15-200">Se  [**\_ \_ l'ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) IMPOSTAZIONE TRASPORTO passato ha il membro GUID impostato su **REAL TIME NOTIFICATION \_ \_ \_ CAPABILITY,** si tratta di una richiesta per applicare le impostazioni di notifica in tempo reale per il socket TCP usato con [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) per ricevere notifiche di rete in background in un'app di Windows Store.</span><span class="sxs-lookup"><span data-stu-id="28c15-200">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to apply real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span>

<span data-ttu-id="28c15-201">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ APPLY TRANSPORT \_ \_ SETTING.**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-201">For more detailed information, see the [**SIO\_APPLY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-202">**SIO \_ APPLY \_ TRANSPORT \_ SETTING** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-202">**SIO\_APPLY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_associate_handle-opcode-setting-i-t1"></a><span data-ttu-id="28c15-203">SIO \_ ASSOCIATE \_ HANDLE (impostazione del codice operativo: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-203">SIO\_ASSOCIATE\_HANDLE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="28c15-204">Associa il socket all'handle specificato di un'interfaccia correlata.</span><span class="sxs-lookup"><span data-stu-id="28c15-204">Associate this socket with the specified handle of a companion interface.</span></span> <span data-ttu-id="28c15-205">Il buffer di input contiene il valore intero corrispondente alla costante manifesto per l'interfaccia complementare (ad esempio, TH NETDEV e \_ TH TAPI), seguito da un valore che è un handle dell'interfaccia complementare specificata, insieme a qualsiasi altra informazione \_ richiesta.</span><span class="sxs-lookup"><span data-stu-id="28c15-205">The input buffer contains the integer value corresponding to the manifest constant for the companion interface (for example, TH\_NETDEV and TH\_TAPI.), followed by a value that is a handle of the specified companion interface, along with any other required information.</span></span> <span data-ttu-id="28c15-206">Fare riferimento alla sezione appropriata in [Winsock Annexes per](winsock-annexes.md) informazioni dettagliate specifiche di una particolare interfaccia complementare.</span><span class="sxs-lookup"><span data-stu-id="28c15-206">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="28c15-207">La dimensione totale viene riflessa nella lunghezza del buffer di input.</span><span class="sxs-lookup"><span data-stu-id="28c15-207">The total size is reflected in the input buffer length.</span></span> <span data-ttu-id="28c15-208">Non è necessario alcun buffer di output.</span><span class="sxs-lookup"><span data-stu-id="28c15-208">No output buffer is required.</span></span> <span data-ttu-id="28c15-209">Il [codice di errore WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-209">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span> <span data-ttu-id="28c15-210">L'handle associato a questo IOCTL può essere recuperato usando **SIO \_ TRANSLATE \_ HANDLE**.</span><span class="sxs-lookup"><span data-stu-id="28c15-210">The handle associated by this IOCTL can be retrieved using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="28c15-211">È possibile usare un'interfaccia complementare, ad esempio, se un provider specifico fornisce (1) una grande quantità di controlli aggiuntivi sul comportamento di un socket e (2) i controlli sono specifici del provider in modo tale che non esemplino il mapping alle funzioni esistenti di Windows Socket o a quelle che probabilmente verranno definite in futuro.</span><span class="sxs-lookup"><span data-stu-id="28c15-211">A companion interface might be used, for example, if a particular provider provides (1) a great deal of additional controls over the behavior of a socket and (2) the controls are provider-specific enough that they do not map to existing Windows Socket functions or ones likely to be defined in the future.</span></span> <span data-ttu-id="28c15-212">È consigliabile usare Component Object Model (COM) anziché questo IOCTL per individuare e tenere traccia di altre interfacce che potrebbero essere supportate da un socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-212">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="28c15-213">Questo IOCTL è presente per la compatibilità (inversa) con i sistemi in cui COM non è disponibile o non può essere usato per altri motivi.</span><span class="sxs-lookup"><span data-stu-id="28c15-213">This IOCTL is present for (reverse) compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_associate_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="28c15-214">SIO \_ ASSOCIATE PORT RESERVATION \_ \_ (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-214">SIO\_ASSOCIATE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-215">Associare un socket a una prenotazione di runtime o permanente per un blocco di porte TCP o UDP identificate dal token di prenotazione della porta.</span><span class="sxs-lookup"><span data-stu-id="28c15-215">Associate a socket with a persistent or runtime reservation for a block of TCP or UDP ports identified by the port reservation token.</span></span> <span data-ttu-id="28c15-216">[**L'IOCTL SIO \_ ASSOCIATE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) deve essere emesso prima dell'associazione del socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-216">The [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) IOCTL must be issued before the socket is bound.</span></span> <span data-ttu-id="28c15-217">Se e quando il socket è associato, la porta assegnata verrà selezionata dalla prenotazione di porte identificata dal token specificato.</span><span class="sxs-lookup"><span data-stu-id="28c15-217">If and when the socket is bound, the port assigned to it will be selected from the port reservation identified by the given token.</span></span> <span data-ttu-id="28c15-218">Se non sono disponibili porte dalla prenotazione specificata, la [**chiamata di**](/windows/desktop/api/winsock/nf-winsock-bind) funzione bind avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-218">If no ports are available from the specified reservation, the [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) function call will fail.</span></span>

<span data-ttu-id="28c15-219">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ ASSOCIATE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-219">For more detailed information, see the [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) reference.</span></span>

<span data-ttu-id="28c15-220">[**SIO \_ ASSOCIATE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) è supportato in Windows Vista e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-220">[**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_base_handle-opcode-setting-o-t1"></a><span data-ttu-id="28c15-221">SIO \_ BASE \_ HANDLE (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-221">SIO\_BASE\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-222">Recupera l'handle del provider di servizi di base per un socket specificato.</span><span class="sxs-lookup"><span data-stu-id="28c15-222">Retrieves the base service provider handle for a given socket.</span></span> <span data-ttu-id="28c15-223">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="28c15-223">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="28c15-224">Un provider di servizi a più livelli non intercetterebbe mai questo IOCTL perché il valore restituito deve essere l'handle socket dal provider di servizi di base.</span><span class="sxs-lookup"><span data-stu-id="28c15-224">A layered service provider would never intercept this IOCTL since the return value must be the socket handle from the base service provider.</span></span>

<span data-ttu-id="28c15-225">Se il buffer di output non è sufficientemente grande per un handle socket *(cbOutBuffer* è minore delle dimensioni di un **SOCKET**) o il *parametro lpvOutBuffer* è un **puntatore NULL,** **socket \_ ERROR** viene restituito come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="28c15-225">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="28c15-226">**SIO \_ BASE \_ HANDLE** è definito nel file *di intestazione Mswsock.h* e supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-226">**SIO\_BASE\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle-opcode-setting-o-t1"></a><span data-ttu-id="28c15-227">SIO \_ BSP \_ HANDLE (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-227">SIO\_BSP\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-228">Recupera l'handle del provider di servizi di base per un socket utilizzato dalla [**funzione WSASendMsg.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="28c15-228">Retrieves the base service provider handle for a socket used by the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span> <span data-ttu-id="28c15-229">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="28c15-229">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="28c15-230">Questo Ioctl viene usato da un provider di servizi a più livelli per garantire che intercetti la [**funzione WSASendMsg.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="28c15-230">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span>

<span data-ttu-id="28c15-231">Se il buffer di output non è sufficientemente grande per un handle socket *(cbOutBuffer* è minore delle dimensioni di un **SOCKET**) o il *parametro lpvOutBuffer* è un **puntatore NULL,** **socket \_ ERROR** viene restituito come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="28c15-231">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="28c15-232">**SIO \_ BSP \_ HANDLE** è definito nel file *di intestazione Mswsock.h* e supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-232">**SIO\_BSP\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_select-opcode-setting-o-t1"></a><span data-ttu-id="28c15-233">SIO \_ BSP \_ HANDLE SELECT \_ (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-233">SIO\_BSP\_HANDLE\_SELECT (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-234">Recupera l'handle del provider di servizi di base per un socket utilizzato dalla [**funzione select.**](/windows/desktop/api/Winsock2/nf-winsock2-select)</span><span class="sxs-lookup"><span data-stu-id="28c15-234">Retrieves the base service provider handle for a socket used by the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span> <span data-ttu-id="28c15-235">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="28c15-235">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="28c15-236">Questo Ioctl viene usato da un provider di servizi a più livelli per garantire che intercetti la [**funzione select.**](/windows/desktop/api/Winsock2/nf-winsock2-select)</span><span class="sxs-lookup"><span data-stu-id="28c15-236">This Ioctl is used by a layered service provider to ensure the provider intercept the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span>

<span data-ttu-id="28c15-237">Se il buffer di output non è sufficientemente grande per un handle socket *(cbOutBuffer* è minore delle dimensioni di un **SOCKET**) o il *parametro lpvOutBuffer* è un **puntatore NULL,** **socket \_ ERROR** viene restituito come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="28c15-237">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="28c15-238">**SIO \_ BSP \_ HANDLE \_ SELECT** è definito nel file *di intestazione Mswsock.h* e supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-238">**SIO\_BSP\_HANDLE\_SELECT** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_poll-opcode-setting-o-t1"></a><span data-ttu-id="28c15-239">SIO \_ BSP \_ HANDLE POLL \_ (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-239">SIO\_BSP\_HANDLE\_POLL (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-240">Recupera l'handle del provider di servizi di base per un socket utilizzato dalla [**funzione WSAPoll.**](/windows/win32/api/winsock2/nf-winsock2-wsapoll)</span><span class="sxs-lookup"><span data-stu-id="28c15-240">Retrieves the base service provider handle for a socket used by the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="28c15-241">Il *parametro lpOverlapped* deve essere un **puntatore NULL.**</span><span class="sxs-lookup"><span data-stu-id="28c15-241">The *lpOverlapped* parameter must be a **NULL** pointer.</span></span> <span data-ttu-id="28c15-242">Il valore restituito è un **socket**.</span><span class="sxs-lookup"><span data-stu-id="28c15-242">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="28c15-243">Questo Ioctl viene usato da un provider di servizi a più livelli per garantire che intercetti la [**funzione WSAPoll.**](/windows/win32/api/winsock2/nf-winsock2-wsapoll)</span><span class="sxs-lookup"><span data-stu-id="28c15-243">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span>

<span data-ttu-id="28c15-244">Se le dimensioni del buffer di output non sono sufficienti per un handle di socket *(cbOutBuffer* è minore delle dimensioni di un **SOCKET),** il *parametro lpvOutBuffer* è **un puntatore NULL** o il parametro *lpOverlapped* non è un puntatore **NULL,** socket **\_ ERROR** viene restituito come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="28c15-244">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**), the *lpvOutBuffer* parameter is a **NULL** pointer, or the *lpOverlapped* parameter is not a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="28c15-245">**SIO \_ BSP \_ HANDLE \_ POLL** è definito nel file di intestazione *Mswsock.h* ed è supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-245">**SIO\_BSP\_HANDLE\_POLL** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_chk_qos-opcode-setting-i-o-t3"></a><span data-ttu-id="28c15-246">SIO \_ CHK \_ QOS (impostazione del codice operativo: I, O, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-246">SIO\_CHK\_QOS (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="28c15-247">Recupera informazioni sulle caratteristiche del traffico QoS.</span><span class="sxs-lookup"><span data-stu-id="28c15-247">Retrieves information about QoS traffic characteristics.</span></span> <span data-ttu-id="28c15-248">Durante la fase di transizione nel sistema di invio tra la configurazione del flusso e la ricezione di un messaggio RESV (vedere How [the RSVP Service Invokes TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) (Come il servizio RSVP richiama TC per altre informazioni sulla fase di transizione), il traffico associato a un flusso RSVP viene modellato in base al tipo di servizio[(BEST EFFORT,](/previous-versions/windows/desktop/qos/best-effort) [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load)o [GUARANTEED).](/previous-versions/windows/desktop/qos/guaranteed)</span><span class="sxs-lookup"><span data-stu-id="28c15-248">During the transitional phase on the sending system between flow setup and the receipt of a RESV message (see [How the RSVP Service Invokes TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) for more information on the transitional phase), traffic associated with an RSVP flow is shaped based on service type ([BEST EFFORT](/previous-versions/windows/desktop/qos/best-effort), [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load), or [GUARANTEED](/previous-versions/windows/desktop/qos/guaranteed)).</span></span> <span data-ttu-id="28c15-249">Per altre informazioni, vedere Using SIO CHK QOS (Uso di [SIO \_ CHK \_ QOS)](/previous-versions/windows/desktop/qos/using-sio-chk-qos) nella [sezione Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) (Qualità del servizio) di Platform SDK.</span><span class="sxs-lookup"><span data-stu-id="28c15-249">For more information, see [Using SIO\_CHK\_QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) in the [Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) section of the Platform SDK.</span></span>

### <a name="sio_cpu_affinity-opcode-setting-i-t3"></a><span data-ttu-id="28c15-250">SIO_CPU_AFFINITY (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-250">SIO_CPU_AFFINITY (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-251">Abilita la parallelizzazione delle indicazioni di ricezione e condivisione delle porte.</span><span class="sxs-lookup"><span data-stu-id="28c15-251">Enables port sharing and receive indication parallelization.</span></span> <span data-ttu-id="28c15-252">Quando l'applicazione usa questa opzione socket per associare i socket a processori diversi e quindi associa i socket allo stesso indirizzo, le indicazioni di ricezione verranno distribuite tra i socket in base all'hash RSS (Receive Side Scaling).</span><span class="sxs-lookup"><span data-stu-id="28c15-252">When your application uses this socket option to associate sockets to different processors, and then binds the sockets to the same address, receive indications will be distributed across the sockets based on Receive Side Scaling (RSS) hash.</span></span> <span data-ttu-id="28c15-253">Le impostazioni RSS non cambiano, quindi qualsiasi flusso (endpoint locale, coppia di endpoint remoti) verrà sempre indicato nello stesso processore.</span><span class="sxs-lookup"><span data-stu-id="28c15-253">The RSS settings don't change, so any given flow (local endpoint, remote endpoint pair) will always be indicated on the same processor.</span></span> <span data-ttu-id="28c15-254">Di conseguenza, tutti i pacchetti appartenenti a un determinato flusso verranno indicati allo stesso socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-254">As a result, all packets belonging to a given flow will be indicated to the same socket.</span></span> <span data-ttu-id="28c15-255">Questo ioCTL deve essere chiamato prima dell'associazione. In caso contrario, verrà restituito WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="28c15-255">This IOCTL must be called prior to bind, otherwise WSAEINVAL will be returned.</span></span> <span data-ttu-id="28c15-256">Il buffer di input è un indice del processore (in base 0) di tipo USHORT.</span><span class="sxs-lookup"><span data-stu-id="28c15-256">The input buffer is a processor index (0-based) of type USHORT.</span></span> <span data-ttu-id="28c15-257">IOCTL non è compatibile con SO_REUSEADDR e SO_REUSE_MULTICASTPORT.</span><span class="sxs-lookup"><span data-stu-id="28c15-257">The IOCTL is incompatible with SO_REUSEADDR and SO_REUSE_MULTICASTPORT.</span></span> <span data-ttu-id="28c15-258">Supportato solo per i socket UDP.</span><span class="sxs-lookup"><span data-stu-id="28c15-258">Only supported for UDP sockets.</span></span>

> [!NOTE]
> <span data-ttu-id="28c15-259">Se si usa la versione 10.0.19041.0 (Windows 10, versione 2004) del Windows SDK, usare il valore anziché il nome `0x98000015` **SIO_CPU_AFFINITY**.</span><span class="sxs-lookup"><span data-stu-id="28c15-259">If you're targeting version 10.0.19041.0 (Windows 10, version 2004) of the Windows SDK, then use the value `0x98000015` instead of the name **SIO_CPU_AFFINITY**.</span></span>

### <a name="sio_enable_circular_queueing-opcode-setting-v-t1"></a><span data-ttu-id="28c15-260">SIO \_ ENABLE \_ CIRCULAR \_ QUEUEING (impostazione del codice operativo: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-260">SIO\_ENABLE\_CIRCULAR\_QUEUEING (opcode setting: V, T==1)</span></span>

<span data-ttu-id="28c15-261">Indica al provider di servizi orientato ai messaggi sottostante che un messaggio appena arrivato non deve mai essere eliminato a causa di un overflow della coda del buffer.</span><span class="sxs-lookup"><span data-stu-id="28c15-261">Indicates to the underlying message-oriented service provider that a newly arrived message should never be dropped because of a buffer queue overflow.</span></span> <span data-ttu-id="28c15-262">Al contrario, il messaggio meno recente nella coda deve essere eliminato per contenere il messaggio appena arrivato.</span><span class="sxs-lookup"><span data-stu-id="28c15-262">Instead, the oldest message in the queue should be eliminated in order to accommodate the newly arrived message.</span></span> <span data-ttu-id="28c15-263">Non sono necessari buffer di input e output.</span><span class="sxs-lookup"><span data-stu-id="28c15-263">No input and output buffers are required.</span></span> <span data-ttu-id="28c15-264">Si noti che questo IOCTL è valido solo per i socket associati a protocolli inaffidabili orientati ai messaggi.</span><span class="sxs-lookup"><span data-stu-id="28c15-264">Note that this IOCTL is only valid for sockets associated with unreliable, message-oriented protocols.</span></span> <span data-ttu-id="28c15-265">Il [codice di errore WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-265">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_find_route-opcode-setting-o-t1"></a><span data-ttu-id="28c15-266">SIO \_ FIND \_ ROUTE (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-266">SIO\_FIND\_ROUTE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-267">Quando viene emesso, questo IOCTL richiede che la route all'indirizzo remoto specificato come [**sockaddr**](sockaddr-2.md) nel buffer di input sia individuata.</span><span class="sxs-lookup"><span data-stu-id="28c15-267">When issued, this IOCTL requests that the route to the remote address specified as a [**sockaddr**](sockaddr-2.md) in the input buffer be discovered.</span></span> <span data-ttu-id="28c15-268">Se l'indirizzo esiste già nella cache locale, la relativa voce viene invalidata.</span><span class="sxs-lookup"><span data-stu-id="28c15-268">If the address already exists in the local cache, its entry is invalidated.</span></span> <span data-ttu-id="28c15-269">Nel caso di IPX di Novell, questa chiamata avvia un oggetto IPX GetLocalTarget (GLT), che esegue una query sulla rete per l'indirizzo remoto specificato.</span><span class="sxs-lookup"><span data-stu-id="28c15-269">In the case of Novell's IPX, this call initiates an IPX GetLocalTarget (GLT), which queries the network for the given remote address.</span></span>

### <a name="sio_flush-opcode-setting-v-t1"></a><span data-ttu-id="28c15-270">SIO \_ FLUSH (impostazione del codice operativo: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-270">SIO\_FLUSH (opcode setting: V, T==1)</span></span>

<span data-ttu-id="28c15-271">Rimuove il contenuto corrente della coda di invio associata a questo socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-271">Discards current contents of the sending queue associated with this socket.</span></span> <span data-ttu-id="28c15-272">Non sono necessari buffer di input e output.</span><span class="sxs-lookup"><span data-stu-id="28c15-272">No input and output buffers are required.</span></span> <span data-ttu-id="28c15-273">Il [codice di errore WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-273">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_get_broadcast_address-opcode-setting-o-t1"></a><span data-ttu-id="28c15-274">SIO \_ GET BROADCAST ADDRESS \_ \_ (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-274">SIO\_GET\_BROADCAST\_ADDRESS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-275">Questo IOCTL riempie il buffer di output con una struttura [sockaddr](sockaddr-2.md) contenente un indirizzo broadcast adatto per l'uso con [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto) /  [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span><span class="sxs-lookup"><span data-stu-id="28c15-275">This IOCTL fills the output buffer with a [sockaddr](sockaddr-2.md) structure containing a suitable broadcast address for use with [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto)/ [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span></span> <span data-ttu-id="28c15-276">Questo IOCTL non è supportato per i socket IPv6 e restituisce il codice di errore [WSAENOPROTOOPT.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="28c15-276">This IOCTL is not supported for IPv6 sockets and returns the [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code.</span></span>

### <a name="sio_get_extension_function_pointer-opcode-setting-o-i-t1"></a><span data-ttu-id="28c15-277">SIO \_ GET EXTENSION FUNCTION POINTER \_ \_ \_ (impostazione del codice operativo: O, I, T===1)</span><span class="sxs-lookup"><span data-stu-id="28c15-277">SIO\_GET\_EXTENSION\_FUNCTION\_POINTER (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="28c15-278">Recuperare un puntatore alla funzione di estensione specificata supportata dal provider di servizi associato.</span><span class="sxs-lookup"><span data-stu-id="28c15-278">Retrieve a pointer to the specified extension function supported by the associated service provider.</span></span> <span data-ttu-id="28c15-279">Il buffer di input contiene un identificatore univoco globale (**GUID**) il cui valore identifica la funzione di estensione in questione.</span><span class="sxs-lookup"><span data-stu-id="28c15-279">The input buffer contains a globally unique identifier (**GUID**) whose value identifies the extension function in question.</span></span> <span data-ttu-id="28c15-280">Il puntatore alla funzione desiderata viene restituito nel buffer di output.</span><span class="sxs-lookup"><span data-stu-id="28c15-280">The pointer to the desired function is returned in the output buffer.</span></span> <span data-ttu-id="28c15-281">Gli identificatori di funzione di estensione vengono stabiliti dai fornitori di provider di servizi e devono essere inclusi nella documentazione del fornitore che descrive le funzionalità e la semantica delle funzioni di estensione.</span><span class="sxs-lookup"><span data-stu-id="28c15-281">Extension function identifiers are established by service provider vendors and should be included in vendor documentation that describes extension function capabilities and semantics.</span></span>

<span data-ttu-id="28c15-282">I valori GUID per le funzioni di estensione supportate dal provider di servizi TCP/IP di Windows sono definiti nel file di intestazione *Mswsock.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-282">The GUID values for extension functions supported by the Windows TCP/IP service provider are defined in the *Mswsock.h* header file.</span></span> <span data-ttu-id="28c15-283">Il valore possibile per questi GUID è il seguente:</span><span class="sxs-lookup"><span data-stu-id="28c15-283">The possible value for these GUIDs are as follows:</span></span>

| <span data-ttu-id="28c15-284">Termine</span><span class="sxs-lookup"><span data-stu-id="28c15-284">Term</span></span>                                                                                                                | <span data-ttu-id="28c15-285">Descrizione</span><span class="sxs-lookup"><span data-stu-id="28c15-285">Description</span></span>                                                                               |
|-|-|
| <span data-ttu-id="28c15-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID \_ ACCEPTEX</span><span class="sxs-lookup"><span data-stu-id="28c15-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID\_ACCEPTEX</span></span><br/>                                     | <span data-ttu-id="28c15-287">Funzione [**di estensione AcceptEx.**](/windows/win32/api/mswsock/nf-mswsock-acceptex)</span><span class="sxs-lookup"><span data-stu-id="28c15-287">The [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) extension function.</span></span><br/>                         |
| <span data-ttu-id="28c15-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID \_ CONNECTEX</span><span class="sxs-lookup"><span data-stu-id="28c15-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID\_CONNECTEX</span></span><br/>                                  | <span data-ttu-id="28c15-289">Funzione [**di estensione ConnectEx.**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex)</span><span class="sxs-lookup"><span data-stu-id="28c15-289">The [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) extension function.</span></span> <br/>                      |
| <span data-ttu-id="28c15-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID \_ DISCONNECTEX</span><span class="sxs-lookup"><span data-stu-id="28c15-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID\_DISCONNECTEX</span></span><br/>                         | <span data-ttu-id="28c15-291">Funzione [**di estensione DisconnectEx.**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-291">The [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) extension function.</span></span> <br/>                |
| <span data-ttu-id="28c15-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID \_ GETACCEPTEXSOCKADDRS</span><span class="sxs-lookup"><span data-stu-id="28c15-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID\_GETACCEPTEXSOCKADDRS</span></span><br/> | <span data-ttu-id="28c15-293">Funzione [**di estensione GetAcceptExSockaddrs.**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs)</span><span class="sxs-lookup"><span data-stu-id="28c15-293">The [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) extension function.</span></span><br/> |
| <span data-ttu-id="28c15-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>FILE DI TRASMISSIONE WSAID \_</span><span class="sxs-lookup"><span data-stu-id="28c15-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID\_TRANSMITFILE</span></span><br/>                         | <span data-ttu-id="28c15-295">Funzione [**di estensione TransmitFile.**](/windows/win32/api/mswsock/nf-mswsock-transmitfile)</span><span class="sxs-lookup"><span data-stu-id="28c15-295">The [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) extension function.</span></span><br/>                 |
| <span data-ttu-id="28c15-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>TRASMETTITORI WSAID \_</span><span class="sxs-lookup"><span data-stu-id="28c15-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID\_TRANSMITPACKETS</span></span><br/>                | <span data-ttu-id="28c15-297">Funzione [**di estensione TransmitPackets.**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets)</span><span class="sxs-lookup"><span data-stu-id="28c15-297">The [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) extension function.</span></span> <br/>          |
| <span data-ttu-id="28c15-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID \_ WSARECVMSG</span><span class="sxs-lookup"><span data-stu-id="28c15-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID\_WSARECVMSG</span></span><br/>                               | <span data-ttu-id="28c15-299">Funzione [**di estensione LPFN_WSARECVMSG (WSARecvMsg).**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)</span><span class="sxs-lookup"><span data-stu-id="28c15-299">The [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) extension function.</span></span><br/>                     |
| <span data-ttu-id="28c15-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID \_ WSASENDMSG</span><span class="sxs-lookup"><span data-stu-id="28c15-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID\_WSASENDMSG</span></span><br/>                               | <span data-ttu-id="28c15-301">Funzione [**di estensione WSASendMsg.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="28c15-301">The [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) extension function.</span></span> <br/>                      |

### <a name="sio_get_group_qos-opcode-setting-o-i-t1"></a><span data-ttu-id="28c15-302">SIO \_ GET \_ GROUP \_ QOS (impostazione del codice operativo: O, I, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-302">SIO\_GET\_GROUP\_QOS (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="28c15-303">Riservato per un uso futuro con i socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-303">Reserved for future use with sockets.</span></span>

<span data-ttu-id="28c15-304">Recuperare la [**struttura QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) associata al gruppo di socket a cui appartiene questo socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-304">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket group to which this socket belongs.</span></span> <span data-ttu-id="28c15-305">Il buffer di input è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-305">The input buffer is optional.</span></span> <span data-ttu-id="28c15-306">Alcuni protocolli, ad esempio RSVP, consentono l'uso del buffer di input per qualificare una richiesta di qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="28c15-306">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="28c15-307">La **struttura QOS** verrà copiata nel buffer di output.</span><span class="sxs-lookup"><span data-stu-id="28c15-307">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="28c15-308">Se questo socket non appartiene a un gruppo di socket appropriato, i membri **SendingFlowspec** e **ReceivingFlowspec** della struttura **QOS** restituita vengono impostati su **NULL.**</span><span class="sxs-lookup"><span data-stu-id="28c15-308">If this socket does not belong to an appropriate socket group, the **SendingFlowspec** and **ReceivingFlowspec** members of the returned **QOS** structure are set to **NULL**.</span></span> <span data-ttu-id="28c15-309">Il [codice di errore WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano la qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="28c15-309">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_get_interface_list-opcode-setting-o-t0"></a><span data-ttu-id="28c15-310">SIO \_ GET INTERFACE LIST \_ \_ (impostazione del codice operativo: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="28c15-310">SIO\_GET\_INTERFACE\_LIST (opcode setting: O, T==0)</span></span>

<span data-ttu-id="28c15-311">Restituisce un elenco di interfacce IP configurate e dei relativi parametri come matrice di [**strutture INTERFACE \_ INFO.**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info)</span><span class="sxs-lookup"><span data-stu-id="28c15-311">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures.</span></span>

> [!Note]  
> <span data-ttu-id="28c15-312">Il supporto di questo comando è obbligatorio per i provider di servizi TCP/IP conformi a Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="28c15-312">Support of this command is mandatory for Windows Sockets 2-compliant TCP/IP service providers.</span></span>

<span data-ttu-id="28c15-313">Il *parametro lpvOutBuffer* punta al buffer in cui archiviare le informazioni sulle interfacce come matrice di strutture [**INTERFACE \_ INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) per gli indirizzi IP unicast nelle interfacce.</span><span class="sxs-lookup"><span data-stu-id="28c15-313">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures for unicast IP addresses on the interfaces.</span></span> <span data-ttu-id="28c15-314">Il *parametro cbOutBuffer* specifica la lunghezza del buffer di output.</span><span class="sxs-lookup"><span data-stu-id="28c15-314">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="28c15-315">Il numero di interfacce restituite (numero di strutture restituite nel buffer a cui punta il parametro *lpvOutBuffer)* può essere determinato in base alla lunghezza effettiva del buffer di output restituito nel parametro *lpcbBytesReturned.*</span><span class="sxs-lookup"><span data-stu-id="28c15-315">The number of interfaces returned (number of structures returned in the buffer pointed to by *lpvOutBuffer* parameter) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="28c15-316">Se la [**funzione WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) viene chiamata con **SIO \_ GET INTERFACE \_ \_ LIST** e il membro di livello del parametro *s* del socket non è definito come **IPPROTO \_ IP,** viene restituito **WSAEINVAL.**</span><span class="sxs-lookup"><span data-stu-id="28c15-316">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function is called with **SIO\_GET\_INTERFACE\_LIST** and the level member of the socket *s* parameter is not defined as **IPPROTO\_IP**, **WSAEINVAL** is returned.</span></span> <span data-ttu-id="28c15-317">Una chiamata alla funzione **WSAIoctl** con **SIO \_ GET INTERFACE \_ \_ LIST** restituisce **WSAEFAULT** se il parametro *cbOutBuffer* che specifica la lunghezza del buffer di output è troppo piccolo e riceve l'elenco di interfacce configurate.</span><span class="sxs-lookup"><span data-stu-id="28c15-317">A call to the **WSAIoctl** function with **SIO\_GET\_INTERFACE\_LIST** returns **WSAEFAULT** if the *cbOutBuffer* parameter that specifies the length of the output buffer is too small ro receive the list of configured interfaces.</span></span>

<span data-ttu-id="28c15-318">**SIO \_ GET \_ INTERFACE \_ LIST** è supportato in Windows Me/98 e Windows NT 4.0 con SP4 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-318">**SIO\_GET\_INTERFACE\_LIST** is supported on Windows Me/98 and Windows NT 4.0 with SP4 and later.</span></span>

### <a name="sio_get_interface_list_ex-opcode-setting-o-t0"></a><span data-ttu-id="28c15-319">SIO \_ GET INTERFACE LIST EX \_ \_ \_ (impostazione del codice operativo: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="28c15-319">SIO\_GET\_INTERFACE\_LIST\_EX (opcode setting: O, T==0)</span></span>

<span data-ttu-id="28c15-320">Riservato per un uso futuro con i socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-320">Reserved for future use with sockets.</span></span>

<span data-ttu-id="28c15-321">Restituisce un elenco di interfacce IP configurate e dei relativi parametri come matrice di [**strutture INTERFACE \_ INFO \_ EX.**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex)</span><span class="sxs-lookup"><span data-stu-id="28c15-321">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures.</span></span>

<span data-ttu-id="28c15-322">Il *parametro lpvOutBuffer* punta al buffer in cui archiviare le informazioni sulle interfacce come matrice di [**strutture INTERFACE INFO \_ \_ EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) per gli indirizzi IP unicast nell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="28c15-322">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures for unicast IP addresses on the interface.</span></span> <span data-ttu-id="28c15-323">Il *parametro cbOutBuffer* specifica la lunghezza del buffer di output.</span><span class="sxs-lookup"><span data-stu-id="28c15-323">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="28c15-324">Il numero di interfacce restituite (numero di strutture restituite in *lpvOutBuffer*) può essere determinato in base alla lunghezza effettiva del buffer di output restituito nel *parametro lpcbBytesReturned.*</span><span class="sxs-lookup"><span data-stu-id="28c15-324">The number of interfaces returned (number of structures returned in *lpvOutBuffer*) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="28c15-325">**SIO \_ GET \_ INTERFACE \_ LIST \_ EX** non è attualmente supportato in Windows.</span><span class="sxs-lookup"><span data-stu-id="28c15-325">**SIO\_GET\_INTERFACE\_LIST\_EX** is not currently supported on Windows.</span></span>

### <a name="sio_get_qos-opcode-setting-o-t1"></a><span data-ttu-id="28c15-326">SIO \_ GET \_ QOS (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-326">SIO\_GET\_QOS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-327">Riservato per un uso futuro con i socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-327">Reserved for future use with sockets.</span></span> <span data-ttu-id="28c15-328">Recuperare la [**struttura QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) associata al socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-328">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket.</span></span> <span data-ttu-id="28c15-329">Il buffer di input è facoltativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-329">The input buffer is optional.</span></span> <span data-ttu-id="28c15-330">Alcuni protocolli (ad esempio, RSVP) consentono l'uso del buffer di input per qualificare una richiesta di qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="28c15-330">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="28c15-331">La **struttura QOS** verrà copiata nel buffer di output.</span><span class="sxs-lookup"><span data-stu-id="28c15-331">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="28c15-332">Le dimensioni del buffer di output devono essere sufficientemente grandi da poter contenere la struttura **QOS** completa.</span><span class="sxs-lookup"><span data-stu-id="28c15-332">The output buffer must be sized large enough to be able to contain the full **QOS** structure.</span></span> <span data-ttu-id="28c15-333">Il [codice di errore WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano la qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="28c15-333">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

<span data-ttu-id="28c15-334">Un mittente non può chiamare **SIO \_ GET \_ QOS** fino a quando il socket non è connesso.</span><span class="sxs-lookup"><span data-stu-id="28c15-334">A sender may not call **SIO\_GET\_QOS** until the socket is connected.</span></span>

<span data-ttu-id="28c15-335">Un ricevitore può chiamare **SIO \_ GET \_ QOS** non appena è associato.</span><span class="sxs-lookup"><span data-stu-id="28c15-335">A receiver may call **SIO\_GET\_QOS** as soon as it is bound.</span></span>

### <a name="sio_get_tx_timestamp"></a><span data-ttu-id="28c15-336">SIO_GET_TX_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="28c15-336">SIO_GET_TX_TIMESTAMP</span></span>

<span data-ttu-id="28c15-337">IoCTL socket usato per ottenere i timestamp per i pacchetti trasmessi (TX).</span><span class="sxs-lookup"><span data-stu-id="28c15-337">A socket IOCTL used to get timestamps for transmitted (TX) packets.</span></span> <span data-ttu-id="28c15-338">Valido solo per i socket di datagramma.</span><span class="sxs-lookup"><span data-stu-id="28c15-338">Valid only for datagram sockets.</span></span>

<span data-ttu-id="28c15-339">Il **SIO_GET_TX_TIMESTAMP** del controllo di trasmissione rimuove un timestamp di trasmissione dalla coda di timestamp di trasmissione di un socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-339">The **SIO_GET_TX_TIMESTAMP** control code removes a transmit timestamp from a socket's transmit timestamp queue.</span></span> <span data-ttu-id="28c15-340">Abilitare prima la ricezione di timestamp usando il [**SIO_TIMESTAMPING**](#sio_timestamping) IOCTL del socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-340">Enable timestamp reception first by using the [**SIO_TIMESTAMPING**](#sio_timestamping) socket IOCTL.</span></span> <span data-ttu-id="28c15-341">Recuperare quindi i timestamp tx in base all'ID chiamando la [**funzione WSAIoctl**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (o [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))) con i parametri seguenti.</span><span class="sxs-lookup"><span data-stu-id="28c15-341">Then retrieve tx timestamps by ID by calling the [**WSAIoctl**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))) function with the following parameters.</span></span>

<span data-ttu-id="28c15-342">Per **SIO_GET_TX_TIMESTAMP**, l'input è un ID timestamp **UINT32** e l'output è un valore di timestamp **UINT64.**</span><span class="sxs-lookup"><span data-stu-id="28c15-342">For **SIO_GET_TX_TIMESTAMP**, the input is a **UINT32** timestamp ID, and the output is a **UINT64** timestamp value.</span></span> <span data-ttu-id="28c15-343">In caso di esito positivo, il timestamp tx è disponibile e viene restituito .</span><span class="sxs-lookup"><span data-stu-id="28c15-343">On success, the tx timestamp is available, and is returned.</span></span> <span data-ttu-id="28c15-344">Se non sono disponibili timestamp di trasmissione, [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) restituisce **WSAEWOULDBLOCK**.</span><span class="sxs-lookup"><span data-stu-id="28c15-344">If no transmit timestamps are available, then [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) returns **WSAEWOULDBLOCK**.</span></span>

> [!NOTE]
> <span data-ttu-id="28c15-345">I timestamp TX non sono supportati quando si esegue un invio coalesced **tramite UDP_SEND_MSG_SIZE**.</span><span class="sxs-lookup"><span data-stu-id="28c15-345">TX timestamps are not supported when doing a coalesced send via **UDP_SEND_MSG_SIZE**.</span></span>

<span data-ttu-id="28c15-346">Vedere anche [Timestamping di Winsock.](/windows/win32/winsock/winsock-timestamping)</span><span class="sxs-lookup"><span data-stu-id="28c15-346">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_ideal_send_backlog_change-opcode-setting-v-t0"></a><span data-ttu-id="28c15-347">SIO \_ IDEAL \_ SEND \_ BACKLOG CHANGE \_ (impostazione del codice operativo: V, T==0)</span><span class="sxs-lookup"><span data-stu-id="28c15-347">SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE (opcode setting: V, T==0)</span></span>

<span data-ttu-id="28c15-348">Notifica a un'applicazione quando il valore del backlog di invio ideale (ISB) cambia per la connessione sottostante.</span><span class="sxs-lookup"><span data-stu-id="28c15-348">Notifies an application when the ideal send backlog (ISB) value changes for the underlying connection.</span></span>

<span data-ttu-id="28c15-349">Quando si inviano dati tramite una connessione TCP tramite Windows sockets, è importante mantenere una quantità sufficiente di dati in sospeso (inviati ma non ancora riconosciuti) in TCP per ottenere la velocità effettiva massima.</span><span class="sxs-lookup"><span data-stu-id="28c15-349">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="28c15-350">Il valore ideale per la quantità di dati in sospeso per ottenere la velocità effettiva migliore per la connessione TCP è detto dimensione ideale del backlog di invio (ISB).</span><span class="sxs-lookup"><span data-stu-id="28c15-350">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="28c15-351">Il valore ISB è una funzione del prodotto con ritardo della larghezza di banda della connessione TCP e della finestra di ricezione annunciata del ricevitore (e in parte della congestione nella rete).</span><span class="sxs-lookup"><span data-stu-id="28c15-351">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="28c15-352">Il valore ISB per ogni connessione è disponibile dall'implementazione del protocollo TCP in Windows Server 2008, Windows Vista con SP1 e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-352">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span> <span data-ttu-id="28c15-353">**SIO \_ IDEAL SEND \_ \_ BACKLOG \_ CHANGE** IOCTL può essere usato da un'applicazione per ricevere una notifica quando il valore ISB cambia in modo dinamico per una connessione.</span><span class="sxs-lookup"><span data-stu-id="28c15-353">The **SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE** IOCTL can be used by an application to get notification when the ISB value changes dynamically for a connection.</span></span>

<span data-ttu-id="28c15-354">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ IDEAL SEND \_ \_ BACKLOG \_ CHANGE.**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-354">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) reference.</span></span>

<span data-ttu-id="28c15-355">[**SIO \_ IDEAL \_ SEND \_ BACKLOG \_ CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) è supportato in Windows Server 2008, Windows Vista con SP1 e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-355">[**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_ideal_send_backlog_query-opcode-setting-o-t0"></a><span data-ttu-id="28c15-356">SIO \_ IDEAL \_ SEND \_ BACKLOG QUERY \_ (impostazione del codice operativo: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="28c15-356">SIO\_IDEAL\_SEND\_BACKLOG\_QUERY (opcode setting: O, T==0)</span></span>

<span data-ttu-id="28c15-357">Recupera il valore isb (Ideal Send Backlog) per la connessione sottostante.</span><span class="sxs-lookup"><span data-stu-id="28c15-357">Retrieves the ideal send backlog (ISB) value for the underlying connection.</span></span>

<span data-ttu-id="28c15-358">Quando si inviano dati tramite una connessione TCP usando Windows sockets, è importante mantenere una quantità sufficiente di dati in sospeso (inviati ma non ancora riconosciuti) in TCP per ottenere la velocità effettiva più elevata.</span><span class="sxs-lookup"><span data-stu-id="28c15-358">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="28c15-359">Il valore ideale per la quantità di dati in sospeso per ottenere la velocità effettiva migliore per la connessione TCP è detto dimensione isb (Ideal Send Backlog).</span><span class="sxs-lookup"><span data-stu-id="28c15-359">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="28c15-360">Il valore ISB è una funzione del prodotto con ritardo della larghezza di banda della connessione TCP e della finestra di ricezione annunciata del ricevitore (e in parte della quantità di congestione nella rete).</span><span class="sxs-lookup"><span data-stu-id="28c15-360">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="28c15-361">Il valore ISB per ogni connessione è disponibile dall'implementazione del protocollo TCP in Windows Server 2008 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-361">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008 and later.</span></span> <span data-ttu-id="28c15-362">**SIO \_ IDEAL \_ SEND \_ BACKLOG \_ QUERY** IOCTL può essere usato da un'applicazione per eseguire query sul valore ISB per una connessione.</span><span class="sxs-lookup"><span data-stu-id="28c15-362">The **SIO\_IDEAL\_SEND\_BACKLOG\_QUERY** IOCTL can be used by an application to query the ISB value for a connection.</span></span>

<span data-ttu-id="28c15-363">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ IDEAL SEND \_ \_ BACKLOG \_ QUERY.**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-363">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) reference.</span></span>

<span data-ttu-id="28c15-364">[**SIO \_ IDEAL \_ SEND \_ BACKLOG \_ QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) è supportato in Windows Server 2008, Windows Vista con SP1 e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-364">[**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_keepalive_vals-opcode-setting-i-t3"></a><span data-ttu-id="28c15-365">SIO \_ KEEPALIVE \_ VALS (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-365">SIO\_KEEPALIVE\_VALS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-366">Abilita o disabilita l'impostazione per connessione dell'opzione **keep-alive** TCP che specifica il timeout e l'intervallo keep-alive TCP.</span><span class="sxs-lookup"><span data-stu-id="28c15-366">Enables or disables the per-connection setting of the TCP **keep-alive** option which specifies the TCP keep-alive timeout and interval.</span></span> <span data-ttu-id="28c15-367">Per altre informazioni sull'opzione keep-alive, vedere la sezione 4.2.3.6 in Requisiti per gli host *Internet -* Livelli di comunicazione specificati in RFC 1122 disponibile nel sito Web [IETF](https://www.ietf.org/rfc/rfc1122.txt).</span><span class="sxs-lookup"><span data-stu-id="28c15-367">For more information on the keep-alive option, see section 4.2.3.6 on the *Requirements for Internet Hosts—Communication Layers* specified in RFC 1122 available at the [IETF website](https://www.ietf.org/rfc/rfc1122.txt).</span></span> <span data-ttu-id="28c15-368">Questa risorsa può essere disponibile solo in inglese.</span><span class="sxs-lookup"><span data-stu-id="28c15-368">(This resource may only be available in English.)</span></span>

<span data-ttu-id="28c15-369">**SIO \_ KEEPALIVE \_ VALS può essere** usato per abilitare o disabilitare i probe keep-alive e impostare il timeout e l'intervallo keep-alive.</span><span class="sxs-lookup"><span data-stu-id="28c15-369">**SIO\_KEEPALIVE\_VALS** can be used to enable or disable keep-alive probes and set the keep-alive timeout and interval.</span></span> <span data-ttu-id="28c15-370">Il timeout keep-alive specifica il timeout, in millisecondi, senza attività fino all'invio del primo pacchetto keep-alive.</span><span class="sxs-lookup"><span data-stu-id="28c15-370">The keep-alive timeout specifies the timeout, in milliseconds, with no activity until the first keep-alive packet is sent.</span></span> <span data-ttu-id="28c15-371">L'intervallo keep-alive specifica l'intervallo, in millisecondi, tra l'invio di pacchetti keep-alive successivi se non viene ricevuto alcun acknowledgement.</span><span class="sxs-lookup"><span data-stu-id="28c15-371">The keep-alive interval specifies the interval, in milliseconds, between when successive keep-alive packets are sent if no acknowledgement is received.</span></span>

<span data-ttu-id="28c15-372">L'opzione [**SO \_ KEEPALIVE,**](so-keepalive.md) che è una delle opzioni socket [SOCKET SOL, \_](sol-socket-socket-options.md)può essere usata anche per abilitare o disabilitare il keep-alive TCP in una connessione, nonché per eseguire query sullo stato corrente di questa opzione.</span><span class="sxs-lookup"><span data-stu-id="28c15-372">The [**SO\_KEEPALIVE**](so-keepalive.md) option, which is one of the [SOL\_SOCKET Socket Options](sol-socket-socket-options.md), can also be used to enable or disable the TCP keep-alive on a connection, as well as query the current state of this option.</span></span> <span data-ttu-id="28c15-373">Per verificare se il keep-alive TCP è abilitato in un socket, è possibile chiamare la funzione [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) con **l'opzione SO \_ KEEPALIVE.**</span><span class="sxs-lookup"><span data-stu-id="28c15-373">To query whether TCP keep-alive is enabled on a socket, the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) function can be called with the **SO\_KEEPALIVE** option.</span></span> <span data-ttu-id="28c15-374">Per abilitare o disabilitare il keep-alive TCP, è possibile chiamare la funzione [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) con [**l'opzione SO \_ KEEPALIVE.**](so-keepalive.md)</span><span class="sxs-lookup"><span data-stu-id="28c15-374">To enable or disable TCP keep-alive, the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function can be called with the [**SO\_KEEPALIVE**](so-keepalive.md) option.</span></span> <span data-ttu-id="28c15-375">Se il keep-alive TCP è abilitato con **SO \_ KEEPALIVE,** le impostazioni TCP predefinite vengono usate per il timeout e l'intervallo keep-alive, a meno che questi valori non siano stati modificati usando **SIO \_ KEEPALIVE \_ VALS.**</span><span class="sxs-lookup"><span data-stu-id="28c15-375">If TCP keep-alive is enabled with **SO\_KEEPALIVE**, then the default TCP settings are used for keep-alive timeout and interval unless these values have been changed using **SIO\_KEEPALIVE\_VALS**.</span></span>

<span data-ttu-id="28c15-376">Per informazioni più dettagliate, vedere le informazioni [**di riferimento su SIO \_ KEEPALIVE \_ VALS.**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-376">For more detailed information, see the [**SIO\_KEEPALIVE\_VALS**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-377">**SIO \_ KEEPALIVE \_ VALS** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-377">**SIO\_KEEPALIVE\_VALS** is supported on Windows 2000 and later.</span></span>

### <a name="sio_loopback_fast_path-opcode-setting-i-t3"></a><span data-ttu-id="28c15-378">SIO \_ LOOPBACK \_ FAST PATH \_ (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-378">SIO\_LOOPBACK\_FAST\_PATH (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-379">Configura un socket TCP per una latenza inferiore e operazioni più veloci sull'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="28c15-379">Configures a TCP socket for lower latency and faster operations on the loopback interface.</span></span> <span data-ttu-id="28c15-380">Questo ioCTL richiede che lo stack TCP/IP usi un percorso rapido speciale per le operazioni di loopback su questo socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-380">This IOCTL requests that the TCP/IP stack uses a special fast path for loopback operations on this socket.</span></span> <span data-ttu-id="28c15-381">[**L'IOCTL \_ SIO LOOPBACK \_ FAST \_ PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) può essere usato solo con socket TCP.</span><span class="sxs-lookup"><span data-stu-id="28c15-381">The [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL can be used only with TCP sockets.</span></span> <span data-ttu-id="28c15-382">Questo IOCTL deve essere usato su entrambi i lati della sessione di loopback.</span><span class="sxs-lookup"><span data-stu-id="28c15-382">This IOCTL must be used on both sides of the loopback session.</span></span> <span data-ttu-id="28c15-383">Il percorso rapido di loopback TCP è supportato tramite l'interfaccia di loopback IPv4 o IPv6.</span><span class="sxs-lookup"><span data-stu-id="28c15-383">The TCP loopback fast path is supported using either the IPv4 or IPv6 loopback interface.</span></span> <span data-ttu-id="28c15-384">Per impostazione predefinita, **SIO \_ LOOPBACK \_ FAST PATH \_ è** disabilitato.</span><span class="sxs-lookup"><span data-stu-id="28c15-384">By default, **SIO\_LOOPBACK\_FAST\_PATH** is disabled.</span></span>

<span data-ttu-id="28c15-385">Per informazioni più dettagliate, vedere le informazioni [**di riferimento su SIO \_ LOOPBACK FAST \_ \_ PATH.**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-385">For more detailed information, see the [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-386">**SIO \_ LOOPBACK \_ FAST \_ PATH** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-386">**SIO\_LOOPBACK\_FAST\_PATH** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_multipoint_loopback-opcode-setting-v-t1"></a><span data-ttu-id="28c15-387">SIO \_ MULTIPOINT \_ LOOPBACK (impostazione del codice operativo: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-387">SIO\_MULTIPOINT\_LOOPBACK (opcode setting: V, T==1)</span></span>

<span data-ttu-id="28c15-388">Controlla se i dati inviati da un'applicazione nel computer locale (non necessariamente dallo stesso socket) in una sessione multicast verranno ricevuti da un socket aggiunto al gruppo di destinazione multicast nell'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="28c15-388">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="28c15-389">Il valore **TRUE** fa sì che i dati multicast inviati da un'applicazione nel computer locale siano recapitati a un socket di ascolto nell'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="28c15-389">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="28c15-390">Il valore **FALSE impedisce** che i dati multicast inviati da un'applicazione nel computer locale vengano recapitati a un socket di ascolto nell'interfaccia di loopback.</span><span class="sxs-lookup"><span data-stu-id="28c15-390">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="28c15-391">Per impostazione predefinita, **SIO \_ MULTIPOINT \_ LOOPBACK** è abilitato.</span><span class="sxs-lookup"><span data-stu-id="28c15-391">By default, **SIO\_MULTIPOINT\_LOOPBACK** is enabled.</span></span>

### <a name="sio_multicast_scope-opcode-setting-i-t1"></a><span data-ttu-id="28c15-392">SIO \_ MULTICAST \_ SCOPE (impostazione del codice operativo: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-392">SIO\_MULTICAST\_SCOPE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="28c15-393">Specifica l'ambito su cui verranno eseguite le trasmissioni multicast.</span><span class="sxs-lookup"><span data-stu-id="28c15-393">Specifies the scope over which multicast transmissions will occur.</span></span> <span data-ttu-id="28c15-394">L'ambito è definito come numero di segmenti di rete indirizzati da coprire.</span><span class="sxs-lookup"><span data-stu-id="28c15-394">Scope is defined as the number of routed network segments to be covered.</span></span> <span data-ttu-id="28c15-395">Un ambito pari a zero indica che la trasmissione multicast non verrebbe posizionata in transito, ma potrebbe essere diffusa tra socket all'interno dell'host locale.</span><span class="sxs-lookup"><span data-stu-id="28c15-395">A scope of zero would indicate that the multicast transmission would not be placed on the wire but could be disseminated across sockets within the local host.</span></span> <span data-ttu-id="28c15-396">Un valore di ambito pari a uno (impostazione predefinita) indica che la trasmissione verrà posizionata in transito, ma non attraverserà alcun router.</span><span class="sxs-lookup"><span data-stu-id="28c15-396">A scope value of one (the default) indicates that the transmission will be placed on the wire, but will not cross any routers.</span></span> <span data-ttu-id="28c15-397">I valori di ambito più elevati determinano il numero di router che è possibile attraversare.</span><span class="sxs-lookup"><span data-stu-id="28c15-397">Higher scope values determine the number of routers that can be crossed.</span></span> <span data-ttu-id="28c15-398">Si noti che corrisponde al parametro time-to-live (TTL) nel multicast IP.</span><span class="sxs-lookup"><span data-stu-id="28c15-398">Note that this corresponds to the time-to-live (TTL) parameter in IP multicasting.</span></span> <span data-ttu-id="28c15-399">Per impostazione predefinita, l'ambito è 1.</span><span class="sxs-lookup"><span data-stu-id="28c15-399">By default, scope is 1.</span></span>

### <a name="sio_query_rss_processor_info-opcode-setting-o-t1"></a><span data-ttu-id="28c15-400">SIO \_ QUERY RSS PROCESSOR INFO \_ \_ \_ (impostazione del codice operativo: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-400">SIO\_QUERY\_RSS\_PROCESSOR\_INFO (opcode setting: O, T==1)</span></span>

<span data-ttu-id="28c15-401">Esegue una query sull'associazione tra un socket e un core del processore RSS e un nodo NUMA.</span><span class="sxs-lookup"><span data-stu-id="28c15-401">Queries the association between a socket and an RSS processor core and NUMA node.</span></span>

<span data-ttu-id="28c15-402">[**L'ELEMENTO SIO \_ QUERY \_ RSS PROCESSOR \_ \_ INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL restituisce una struttura DI AFFINITÀ PROCESSORE SOCKET contenente il NUMERO PROCESSORE e l'ID nodo NUMA. [**\_ \_**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) [**\_**](/windows/win32/api/winnt/ns-winnt-processor_number)</span><span class="sxs-lookup"><span data-stu-id="28c15-402">The [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL returns a [**SOCKET\_PROCESSOR\_AFFINITY**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) structure that contains the [**PROCESSOR\_NUMBER**](/windows/win32/api/winnt/ns-winnt-processor_number) and the NUMA node ID.</span></span> <span data-ttu-id="28c15-403">La struttura **PROCESSOR \_ NUMBER** restituita contiene un numero di gruppo e un numero di processore relativo all'interno del gruppo.</span><span class="sxs-lookup"><span data-stu-id="28c15-403">The returned **PROCESSOR\_NUMBER** structure contains a group number and relative processor number within the group.</span></span>

<span data-ttu-id="28c15-404">Per informazioni più dettagliate, vedere informazioni di riferimento [**su SIO \_ QUERY RSS \_ PROCESSOR \_ \_ INFO.**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-404">For more detailed information, see the [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-405">**SIO \_ QUERY \_ RSS \_ PROCESSOR \_ INFO** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-405">**SIO\_QUERY\_RSS\_PROCESSOR\_INFO** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_rss_scalability_info-opcode-setting-o-t3"></a><span data-ttu-id="28c15-406">SIO \_ QUERY \_ RSS \_ SCALABILITY INFO \_ (impostazione del codice operativo: O, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-406">SIO\_QUERY\_RSS\_SCALABILITY\_INFO (opcode setting: O, T==3)</span></span>

<span data-ttu-id="28c15-407">Esegue l'offload delle interfacce per la funzionalità receive-side scaling (RSS).</span><span class="sxs-lookup"><span data-stu-id="28c15-407">Queries offload interfaces for receive-side scaling (RSS) capability.</span></span> <span data-ttu-id="28c15-408">La struttura dell'argomento restituita per **SIO \_ QUERY RSS \_ \_ SCALABILITY \_ INFO** è specificata nella struttura **RSS \_ SCALABILITY \_ INFO** definita nel file di intestazione *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-408">The argument structure returned for **SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is specified in the **RSS\_SCALABILITY\_INFO** structure defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="28c15-409">Questa struttura è definita come segue:</span><span class="sxs-lookup"><span data-stu-id="28c15-409">This structure is defined as follows:</span></span>

```cpp
// Scalability info for the transport
typedef struct _RSS_SCALABILITY_INFO {
   BOOLEAN RssEnabled;
} RSS_SCALABILITY_INFO, *PRSS_SCALABILITY_INFO;
```

<span data-ttu-id="28c15-410">Il valore restituito nel **membro RssEnabled** indica se RSS è abilitato in almeno un'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="28c15-410">The value returned in the **RssEnabled** member indicates if RSS is enabled on at least one interface.</span></span>

<span data-ttu-id="28c15-411">Se le dimensioni del buffer di output non sono sufficienti per la struttura **RSS \_ SCALABILITY \_ INFO** *(cbOutBuffer* è minore delle dimensioni di **RSS \_ SCALABILITY \_ INFO)** o *il parametro lpvOutBuffer* è un **puntatore NULL,** viene restituito **SOCKET \_ ERROR** come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEINVAL](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="28c15-411">If the output buffer is not large enough for the **RSS\_SCALABILITY\_INFO** structure (the *cbOutBuffer* is less than the size of a **RSS\_SCALABILITY\_INFO**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="28c15-412">Nelle reti ad alta velocità in cui più CPU risiedono all'interno di un singolo sistema, la capacità dello stack di protocolli di rete di scalare bene in un sistema con più CPU non è più adatta perché l'architettura di NDIS 5.1 e versioni precedenti limita l'elaborazione del protocollo a una singola CPU.</span><span class="sxs-lookup"><span data-stu-id="28c15-412">In high-speed networking where multiple CPUs reside within a single system, the ability of the networking protocol stack to scale well on a multi-CPU system is inhibited because the architecture of NDIS 5.1 and earlier versions limits receive protocol processing to a single CPU.</span></span> <span data-ttu-id="28c15-413">Receive-Side Scaling (RSS) risolve questo problema consentendo il bilanciamento del carico di rete da una scheda di rete tra più CPU.</span><span class="sxs-lookup"><span data-stu-id="28c15-413">Receive-side scaling (RSS) resolves this issue by allowing the network load from a network adapter to be balanced across multiple CPUs.</span></span>

<span data-ttu-id="28c15-414">**SIO \_ QUERY \_ RSS \_ SCALABILITY \_ INFO** è supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-414">**SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="28c15-415">SIO \_ QUERY TRANSPORT SETTING \_ \_ (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-415">SIO\_QUERY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-416">Esegue una query sulle impostazioni di trasporto su un socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-416">Queries the transport settings on a socket.</span></span> <span data-ttu-id="28c15-417">L'impostazione di trasporto su cui viene eseguita la query si basa [**\_ \_ sull'ID TRANSPORT SETTING**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passato nel parametro *lpvInBuffer.*</span><span class="sxs-lookup"><span data-stu-id="28c15-417">The transport setting being queried is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="28c15-418">L'unica impostazione di trasporto attualmente definita è per la funzionalità DI NOTIFICA **\_ \_ \_ IN** TEMPO REALE in un socket TCP.</span><span class="sxs-lookup"><span data-stu-id="28c15-418">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="28c15-419">Se [**\_ l'ID \_**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) IMPOSTAZIONE TRASPORTO ha il **membro GUID** impostato su REAL TIME **NOTIFICATION \_ \_ \_ CAPABILITY,** si tratta di una richiesta per eseguire una query delle impostazioni di notifica in tempo reale per il socket TCP usato con [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) per ricevere notifiche di rete in background in un'app di Windows Store.</span><span class="sxs-lookup"><span data-stu-id="28c15-419">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to query the real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span> <span data-ttu-id="28c15-420">Se la [**chiamata WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) o [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) ha esito positivo, questo IOCTL restituisce una struttura [**OUTPUT DI \_ \_ IMPOSTAZIONE \_ \_**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) DELLE NOTIFICHE IN TEMPO REALE con lo stato corrente.</span><span class="sxs-lookup"><span data-stu-id="28c15-420">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) call is successful, this IOCTL returns a [**REAL\_TIME\_NOTIFICATION\_SETTING\_OUTPUT**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) structure with the current status.</span></span>

<span data-ttu-id="28c15-421">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ QUERY TRANSPORT \_ \_ SETTING.**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-421">For more detailed information, see the [**SIO\_QUERY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-422">**SIO \_ QUERY \_ TRANSPORT \_ SETTING** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-422">**SIO\_QUERY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_ale_endpoint_handle-opcode-setting-o-t3"></a><span data-ttu-id="28c15-423">\_SIO QUERY \_ WFP \_ ALE \_ ENDPOINT HANDLE \_ (impostazione del codice operativo: O, T===3)</span><span class="sxs-lookup"><span data-stu-id="28c15-423">SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE (opcode setting: O, T==3)</span></span>

<span data-ttu-id="28c15-424">Esegue una query sull'handle dell'endpoint application layer enforcement (ALE).</span><span class="sxs-lookup"><span data-stu-id="28c15-424">Queries the Application Layer Enforcement (ALE) endpoint handle.</span></span>

<span data-ttu-id="28c15-425">Windows Filtering Platform (WFP) supporta l'ispezione e la modifica del traffico di rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-425">The Windows Filtering Platform (WFP) supports network traffic inspection and modification.</span></span> <span data-ttu-id="28c15-426">In Windows Vista, WFP si concentra sugli scenari in cui il computer host è l'endpoint di comunicazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-426">On Windows Vista, WFP focuses on scenarios where the host machine is the communication endpoint.</span></span> <span data-ttu-id="28c15-427">In Windows Server 2008, tuttavia, esistono implementazioni del firewall perimetrale che desiderano sfruttare la piattaforma WFP per ispezionare e proxy il traffico pass-through.</span><span class="sxs-lookup"><span data-stu-id="28c15-427">On Windows Server 2008 , however, there are edge firewall implementations which would like to leverage the WFP platform to inspect and proxy pass-through traffic.</span></span> <span data-ttu-id="28c15-428">Il server ISA (Internet Security and Acceleration) è un esempio di dispositivo perimetrale di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="28c15-428">The Internet Security and Acceleration (ISA) server is an example of such an edge device.</span></span>

<span data-ttu-id="28c15-429">Esistono alcuni scenari firewall che possono richiedere la possibilità di inserire un pacchetto in ingresso nel percorso di invio associato a un endpoint esistente.</span><span class="sxs-lookup"><span data-stu-id="28c15-429">There are some firewall scenarios that may require the ability to inject an inbound packet into the send path associated with an existing endpoint.</span></span> <span data-ttu-id="28c15-430">Deve essere presente un meccanismo per individuare l'handle dell'endpoint del livello di trasporto associato all'endpoint di destinazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-430">There needs to be a mechanism to discover the transport layer endpoint handle associated with the destination endpoint.</span></span> <span data-ttu-id="28c15-431">L'applicazione che ha creato l'endpoint è proprietaria di questi endpoint del livello di trasporto.</span><span class="sxs-lookup"><span data-stu-id="28c15-431">The application that created the endpoint owns these transport layer endpoints.</span></span> <span data-ttu-id="28c15-432">Questo ioCTL viene usato per fornire l'handle del socket al mapping dell'handle dell'endpoint del livello di trasporto.</span><span class="sxs-lookup"><span data-stu-id="28c15-432">This IOCTL is used to provide socket handle to transport layer endpoint handle mapping.</span></span>

<span data-ttu-id="28c15-433">Se le dimensioni del buffer di output non sono sufficienti per l'handle dell'endpoint *(cbOutBuffer* è inferiore alla dimensione di **un UINT64)** o se il *parametro lpvOutBuffer* è **un puntatore NULL,** socket **\_ ERROR** viene restituito come risultato di questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEINVAL.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="28c15-433">If the output buffer is not large enough for the endpoint handle (the *cbOutBuffer* is less than the size of a **UINT64**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="28c15-434">**SIO \_ QUERY \_ WFP \_ ALE ENDPOINT \_ \_ HANDLE** è supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-434">**SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_context-opcode-setting-i-t3"></a><span data-ttu-id="28c15-435">SIO QUERY WFP CONNECTION REDIRECT CONTEXT (contesto di reindirizzamento della connessione SIO \_ \_ PAM) \_ \_ \_ (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-435">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-436">Esegue una query sul contesto di reindirizzamento per un record di reindirizzamento usato da un servizio di reindirizzamento windows filtering platform (WFP).</span><span class="sxs-lookup"><span data-stu-id="28c15-436">Queries the redirect context for a redirect record used by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="28c15-437">SIO [**QUERY WFP CONNECTION REDIRECT \_ \_ \_ \_ \_ CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL viene usato per fornire il rilevamento delle connessioni proxy sulle connessioni socket reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="28c15-437">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="28c15-438">Questa funzionalità WFP facilita il rilevamento dei record di reindirizzamento dal reindirizzamento iniziale di una connessione alla connessione finale alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-438">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="28c15-439">Per informazioni più dettagliate, vedere informazioni di riferimento [**sul CONTESTO DI REINDIRIZZAMENTO DELLA CONNESSIONE SIO \_ QUERY \_ WFP. \_ \_ \_**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-439">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-440">**SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ \_ CONTEXT** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-440">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="28c15-441">SIO \_ QUERY \_ WFP \_ CONNECTION \_ REDIRECT \_ RECORDS (opcode setting: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-441">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-442">Esegue una query sul record di reindirizzamento per la connessione TCP/IP accettata per l'uso da parte di un servizio di reindirizzamento windows filtering platform (WFP).</span><span class="sxs-lookup"><span data-stu-id="28c15-442">Queries the redirect record for the accepted TCP/IP connection for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="28c15-443">SIO [**QUERY WFP CONNECTION REDIRECT \_ \_ \_ \_ \_ RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL viene usato per fornire il rilevamento delle connessioni proxy sulle connessioni socket reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="28c15-443">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="28c15-444">Questa funzionalità WFP facilita il rilevamento dei record di reindirizzamento dal reindirizzamento iniziale di una connessione alla connessione finale alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-444">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="28c15-445">Per informazioni più dettagliate, vedere le informazioni di riferimento sui RECORD DI REINDIRIZZAMENTO DELLE CONNESSIONI [**\_ SIO QUERY \_ WFP. \_ \_ \_**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-445">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-446">**SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-446">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_rcvall-opcode-setting-i-t3"></a><span data-ttu-id="28c15-447">SIO \_ RCVALL (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-447">SIO\_RCVALL (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-448">Consente a un socket di ricevere tutti i pacchetti IPv4 o IPv6 che passano attraverso un'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-448">Enables a socket to receive all IPv4 or IPv6 packets passing throuigh a network interface.</span></span> <span data-ttu-id="28c15-449">L'handle socket passato alla [**funzione WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve essere uno dei seguenti:</span><span class="sxs-lookup"><span data-stu-id="28c15-449">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be one of the following:</span></span>

-   <span data-ttu-id="28c15-450">Un socket IPv4 creato con la famiglia di indirizzi impostata su AF INET, il tipo di socket impostato su SOCK RAW e il protocollo impostato \_ \_ su IPPROTO \_ IP.</span><span class="sxs-lookup"><span data-stu-id="28c15-450">An IPv4 socket that was created with the address family set to AF\_INET, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IP.</span></span>
-   <span data-ttu-id="28c15-451">Un socket IPv6 creato con la famiglia di indirizzi impostata su AF INET6, il tipo di socket impostato su SOCK RAW e il protocollo impostato \_ \_ su IPPROTO \_ IPV6.</span><span class="sxs-lookup"><span data-stu-id="28c15-451">An IPv6 socket that was created with the address family set to AF\_INET6, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IPV6.</span></span>

<span data-ttu-id="28c15-452">Il socket deve anche essere associato a un'interfaccia IPv4 o IPv6 locale esplicita, il che significa che non è possibile eseguire l'associazione a **INADDR \_ ANY** o **in6addr \_ any**.</span><span class="sxs-lookup"><span data-stu-id="28c15-452">The socket also must be bound to an explicit local IPv4 or IPv6 interface, which means that you cannot bind to **INADDR\_ANY** or **in6addr\_any**.</span></span>

<span data-ttu-id="28c15-453">In Windows Server 2008 e versioni precedenti, l'impostazione [**SIO \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL non acquisisce i pacchetti locali inviati da un'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-453">On Windows Server 2008 and earlier, the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL setting would not capture local packets sent out of a network interface.</span></span> <span data-ttu-id="28c15-454">Sono inclusi i pacchetti ricevuti in un'altra interfaccia e inoltrati all'interfaccia di rete specificata per **SIO \_ RCVALL** IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-454">This included packets received on another interface and forwarded out the network interface specified for the **SIO\_RCVALL** IOCTL.</span></span>

<span data-ttu-id="28c15-455">In Windows 7 e Windows Server 2008 R2 questa operazione è stata modificata in modo da acquisire anche i pacchetti locali inviati da un'interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-455">On Windows 7 and Windows Server 2008 R2 , this was changed so that local packets sent out of a network interface are also captured.</span></span> <span data-ttu-id="28c15-456">Sono inclusi i pacchetti ricevuti in un'altra interfaccia e quindi inoltrati all'interfaccia di rete associata al socket con [**SIO \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-456">This includes packets received on another interface and then forwarded out the network interface bound to the socket with [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="28c15-457">L'impostazione di questo IOCTL richiede privilegi di amministratore nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="28c15-457">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="28c15-458">Questa funzionalità viene talvolta definita modalità promiscua.</span><span class="sxs-lookup"><span data-stu-id="28c15-458">This feature is sometimes referred to as promiscuous mode.</span></span>

<span data-ttu-id="28c15-459">I valori possibili per l'opzione **SIO \_ RCVALL** IOCTL sono specificati nell'enumerazione **RCVALL \_ VALUE** definita nel file di intestazione *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-459">The possible values for the **SIO\_RCVALL** IOCTL option are specified in the **RCVALL\_VALUE** enumeration defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="28c15-460">I valori possibili per SIO \_ RCVALL sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="28c15-460">The possible values for SIO\_RCVALL are as follows:</span></span>

| <span data-ttu-id="28c15-461">Termine</span><span class="sxs-lookup"><span data-stu-id="28c15-461">Term</span></span>                                                                                                                 | <span data-ttu-id="28c15-462">Descrizione</span><span class="sxs-lookup"><span data-stu-id="28c15-462">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-|-|
| <span data-ttu-id="28c15-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL \_ OFF</span><span class="sxs-lookup"><span data-stu-id="28c15-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL\_OFF</span></span><br/>                                     | <span data-ttu-id="28c15-464">Disabilitare questa opzione in modo che un socket non riceva tutti i pacchetti IPv4 o IPv6 nella rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-464">Disable this option so a socket does not receive all IPv4 or IPv6 packets on the network.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="28c15-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RC RPC \_ ON</span><span class="sxs-lookup"><span data-stu-id="28c15-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL\_ON</span></span><br/>                                        | <span data-ttu-id="28c15-466">Abilitare questa opzione in modo che un socket riceva tutti i pacchetti IPv4 o IPv6 nella rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-466">Enable this option so a socket receives all IPv4 or IPv6 packets on the network.</span></span> <span data-ttu-id="28c15-467">Questa opzione abilita la modalità promiscua nella scheda di interfaccia di rete (NIC), se la scheda di interfaccia di rete supporta la modalità promiscua.</span><span class="sxs-lookup"><span data-stu-id="28c15-467">This option enables promiscuous mode on the network interface card (NIC), if the NIC supports promiscuous mode.</span></span> <span data-ttu-id="28c15-468">In un segmento LAN con un hub di rete, una scheda di interfaccia di rete che supporta la modalità promiscua acquisisce tutto il traffico IPv4 o IPv6 sulla LAN, incluso il traffico tra altri computer nello stesso segmento LAN.</span><span class="sxs-lookup"><span data-stu-id="28c15-468">On a LAN segment with a network hub, a NIC that supports promiscuous mode will capture all IPv4 or IPv6 traffic on the LAN, including traffic between other computers on the same LAN segment.</span></span> <span data-ttu-id="28c15-469">Tutti i pacchetti acquisiti (IPv4 o IPv6, a seconda del socket) verranno recapitati al socket non elaborato.</span><span class="sxs-lookup"><span data-stu-id="28c15-469">All of the captured packets (IPv4 or IPv6, depending on the socket) will be delivered to the raw socket.</span></span> <br/> <span data-ttu-id="28c15-470">Questa opzione non acquisisce altri pacchetti (ad esempio pacchetti ARP, IPX e NetBEUI) nell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="28c15-470">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) on the interface.</span></span><br/> <span data-ttu-id="28c15-471">Netmon usa la stessa modalità per l'interfaccia di rete, ma non usa questa opzione per acquisire il traffico.</span><span class="sxs-lookup"><span data-stu-id="28c15-471">Netmon uses the same mode for the network interface, but does not use this option to capture traffic.</span></span><br/> |
| <span data-ttu-id="28c15-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RC \_ SOCKETLEVELONLY</span><span class="sxs-lookup"><span data-stu-id="28c15-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL\_SOCKETLEVELONLY</span></span><br/> | <span data-ttu-id="28c15-473">Questa funzionalità non è attualmente implementata, quindi l'impostazione di questa opzione non ha alcun effetto.</span><span class="sxs-lookup"><span data-stu-id="28c15-473">This feature is not currently implemented, so setting this option does not have any affect.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="28c15-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCLEVEL \_ IPLEVEL</span><span class="sxs-lookup"><span data-stu-id="28c15-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL\_IPLEVEL</span></span><br/>                         | <span data-ttu-id="28c15-475">Abilitare questa opzione in modo che un socket IPv4 o IPv6 riceva tutti i pacchetti a livello ip nella rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-475">Enable this option so an IPv4 or IPv6 socket receives all packets at the IP level on the network.</span></span> <span data-ttu-id="28c15-476">Questa opzione non abilita la modalità promiscua nella scheda di interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-476">This option does not enable promiscuous mode on the network interface card.</span></span> <span data-ttu-id="28c15-477">Questa opzione influisce solo sull'elaborazione dei pacchetti a livello di IP.</span><span class="sxs-lookup"><span data-stu-id="28c15-477">This option only affects packet processing at the IP level.</span></span> <span data-ttu-id="28c15-478">La scheda di interfaccia di rete riceve comunque solo i pacchetti indirizzati agli indirizzi unicast e multicast configurati.</span><span class="sxs-lookup"><span data-stu-id="28c15-478">The NIC still receives only packets directed to its configured unicast and multicast addresses.</span></span> <span data-ttu-id="28c15-479">Tuttavia, un socket con questa opzione abilitata riceverà non solo i pacchetti indirizzati a indirizzi IP specifici, ma riceverà tutti i pacchetti IPv4 o IPv6 ricevuti dalla scheda di interfaccia di rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-479">However, a socket with this option enabled will receive not only packets directed to specific IP addresses, but will receive all the IPv4 or IPv6 packets the NIC receives.</span></span><br/> <span data-ttu-id="28c15-480">Questa opzione non acquisisce altri pacchetti (ad esempio ARP, IPX e NetBEUI) ricevuti sull'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="28c15-480">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) received on the interface.</span></span><br/>                                                                                             |



 

<span data-ttu-id="28c15-481">Per informazioni più dettagliate, vedere le informazioni [**di riferimento su SIO \_ RCACCI.**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-481">For more detailed information, see the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) reference.</span></span>

<span data-ttu-id="28c15-482">**SIO \_ RC RPC** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-482">**SIO\_RCVALL** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_igmpmcast-opcode-setting-i-t3"></a><span data-ttu-id="28c15-483">SIO \_ RCGM \_ IGMPMCAST (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-483">SIO\_RCVALL\_IGMPMCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-484">Consente a un socket di ricevere tutto il traffico IP multicast IGMP sulla rete, senza ricevere altro traffico IP multicast.</span><span class="sxs-lookup"><span data-stu-id="28c15-484">Enables a socket to receive all IGMP multicast IP traffic on the network, without receiving other multicast IP traffic.</span></span> <span data-ttu-id="28c15-485">L'handle socket passato alla [**funzione WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve essere della famiglia di indirizzi AF INET, del tipo di socket SOCK RAW e del protocollo \_ \_ \_ IPPROTO IGMP.</span><span class="sxs-lookup"><span data-stu-id="28c15-485">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_IGMP protocol.</span></span> <span data-ttu-id="28c15-486">Il socket deve anche essere associato a un'interfaccia locale esplicita, il che significa che non è possibile eseguire l'associazione a INADDR \_ ANY.</span><span class="sxs-lookup"><span data-stu-id="28c15-486">The socket also must be bound to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span>

<span data-ttu-id="28c15-487">Dopo che il socket è stato associato e il set IOCTL, le chiamate alle funzioni [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) o [**recv recv**](/windows/desktop/api/winsock/nf-winsock-recv) restituiscono datagrammi IP multicast che passano attraverso l'interfaccia specificata.</span><span class="sxs-lookup"><span data-stu-id="28c15-487">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="28c15-488">Si noti che è necessario fornire un buffer sufficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="28c15-488">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="28c15-489">L'impostazione di questo IOCTL richiede privilegi di amministratore nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="28c15-489">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="28c15-490">**SIO \_ RCVALL \_ IGMPMCAST** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-490">**SIO\_RCVALL\_IGMPMCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_mcast-opcode-setting-i-t3"></a><span data-ttu-id="28c15-491">SIO \_ RCVALL \_ MCAST (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-491">SIO\_RCVALL\_MCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-492">Consente a un socket di ricevere tutto il traffico IP multicast sulla rete, ovvero tutti i pacchetti IP destinati agli indirizzi IP nell'intervallo da 224.0.0.0 a 239.255.255.255.</span><span class="sxs-lookup"><span data-stu-id="28c15-492">Enables a socket to receive all multicast IP traffic on the network (that is, all IP packets destined for IP addresses in the range of 224.0.0.0 to 239.255.255.255).</span></span> <span data-ttu-id="28c15-493">L'handle socket passato alla [**funzione WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve essere della famiglia di indirizzi AF INET, del tipo di socket SOCK RAW e del protocollo \_ UDP \_ IPPROTO. \_</span><span class="sxs-lookup"><span data-stu-id="28c15-493">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_UDP protocol.</span></span> <span data-ttu-id="28c15-494">Il socket deve anche essere associato a un'interfaccia locale esplicita, il che significa che non è possibile eseguire l'associazione a INADDR \_ ANY.</span><span class="sxs-lookup"><span data-stu-id="28c15-494">The socket also must bind to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span> <span data-ttu-id="28c15-495">Il socket deve essere associato alla porta zero.</span><span class="sxs-lookup"><span data-stu-id="28c15-495">The socket should bind to port zero.</span></span>

<span data-ttu-id="28c15-496">Dopo che il socket è stato associato e il set IOCTL, le chiamate alle funzioni [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) o [**recv recv**](/windows/desktop/api/winsock/nf-winsock-recv) restituiscono datagrammi IP multicast che passano attraverso l'interfaccia specificata.</span><span class="sxs-lookup"><span data-stu-id="28c15-496">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="28c15-497">Si noti che è necessario fornire un buffer sufficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="28c15-497">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="28c15-498">L'impostazione di questo IOCTL richiede privilegi di amministratore nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="28c15-498">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="28c15-499">**SIO \_ RCVALL \_ MCAST** è supportato in Windows 2000 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-499">**SIO\_RCVALL\_MCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_release_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="28c15-500">SIO \_ RELEASE PORT RESERVATION \_ \_ (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-500">SIO\_RELEASE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-501">Rilascia una prenotazione di runtime per un blocco di porte TCP o UDP.</span><span class="sxs-lookup"><span data-stu-id="28c15-501">Releases a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="28c15-502">La prenotazione di runtime da rilasciare deve essere stata ottenuta dal processo di emissione usando [**SIO \_ ACQUIRE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-502">The runtime reservation to be released must have been obtained from the issuing process using the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="28c15-503">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ RELEASE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-503">For more detailed information, see the [**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) reference.</span></span>

<span data-ttu-id="28c15-504">[**SIO \_ RELEASE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) è supportato in Windows Vista e versioni successive del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="28c15-504">[**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_routing_interface_change-opcode-setting-i-t1"></a><span data-ttu-id="28c15-505">SIO \_ ROUTING INTERFACE CHANGE \_ \_ (impostazione del codice operativo: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-505">SIO\_ROUTING\_INTERFACE\_CHANGE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="28c15-506">Per ricevere la notifica di una modifica dell'interfaccia di routing che deve essere usata per raggiungere l'indirizzo remoto nel buffer di input (specificato come [**struttura sockaddr).**](sockaddr-2.md)</span><span class="sxs-lookup"><span data-stu-id="28c15-506">To receive notification of a routing interface change that should be used to reach the remote address in the input buffer (specified as a [**sockaddr**](sockaddr-2.md) structure).</span></span> <span data-ttu-id="28c15-507">Al termine di questo IOCTL non verranno fornite informazioni di output sulla nuova interfaccia di routing. il completamento indica semplicemente che l'interfaccia di routing per una determinata destinazione è stata modificata e deve essere eseguita una query usando **SIO \_ ROUTING INTERFACE \_ \_ QUERY** IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-507">No output information on the new routing interface will be provided upon completion of this IOCTL; the completion merely indicates that the routing interface for a given destination has changed and should be queried using the **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL.</span></span>

<span data-ttu-id="28c15-508">Si presuppone, anche se non obbligatorio, che l'applicazione usi I/O sovrapposto per ricevere una notifica della modifica dell'interfaccia di routing tramite il completamento della richiesta **SIO \_ ROUTING INTERFACE \_ \_ CHANGE.**</span><span class="sxs-lookup"><span data-stu-id="28c15-508">It is assumed, although not required, that the application uses overlapped I/O to be notified of the routing interface change through completion of **SIO\_ROUTING\_INTERFACE\_CHANGE** request.</span></span> <span data-ttu-id="28c15-509">In alternativa, se l'INTERFACCIA DI **ROUTING SIO \_ \_ \_ CHANGE** IOCTL viene emessa in un socket non bloccante con i parametri *lpOverlapped* e *lpCompletionRoutine* impostati su **NULL**, verrà completata immediatamente la restituzione e [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) come errore e l'applicazione può quindi attendere il routing degli eventi di modifica tramite chiamata a [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) o [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) con bit FD ROUTING INTERFACE CHANGE impostato nella maschera di bit dell'evento di \_ \_ \_ rete.</span><span class="sxs-lookup"><span data-stu-id="28c15-509">Alternatively, if the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL is issued on a non-blocking socket with the *lpOverlapped* and *lpCompletionRoutine* parameters set to **NULL**), it will complete immediately returning and [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) as an error, and the application can then wait for routing change events through call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ROUTING\_INTERFACE\_CHANGE bit set in the network event bitmask.</span></span>

<span data-ttu-id="28c15-510">È riconosciuto che le informazioni di routing rimangono stabili nella maggior parte dei casi in modo che la richiesta all'applicazione di mantenere più IOCL in sospeso per ottenere notifiche su tutte le destinazioni a cui è interessata, nonché che il provider di servizi tenga traccia di queste richieste di notifica userà una quantità significativa di risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="28c15-510">It is recognized that routing information remains stable in most cases so that requiring the application to keep multiple outstanding IOCTLs to get notifications about all destinations that it is interested in as well as having the service provider keep track of these notification requests will use a significant amount system resources.</span></span> <span data-ttu-id="28c15-511">Questa situazione può essere evitata estendendo il significato dei parametri di input e dilatando i requisiti del provider di servizi come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="28c15-511">This situation can be avoided by extending the meaning of the input parameters and relaxing the service provider requirements as follows:</span></span>

-   <span data-ttu-id="28c15-512">L'applicazione può specificare un indirizzo jolly specifico della famiglia di protocolli (uguale a quello usato nella chiamata [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) quando richiede di eseguire l'associazione a qualsiasi indirizzo disponibile) per richiedere notifiche di eventuali modifiche di routing.</span><span class="sxs-lookup"><span data-stu-id="28c15-512">The application can specify a protocol family specific wildcard address (same as one used in [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) call when requesting to bind to any available address) to request notifications of any routing changes.</span></span> <span data-ttu-id="28c15-513">In questo modo l'applicazione può mantenere solo una MODIFICA dell'INTERFACCIA DI **\_ ROUTING \_ \_ SIO** in sospeso per tutti i socket e le destinazioni di cui dispone e quindi usare **SIO \_ ROUTING INTERFACE \_ \_ QUERY** per ottenere le informazioni di routing effettive.</span><span class="sxs-lookup"><span data-stu-id="28c15-513">This allows the application to keep only one outstanding **SIO\_ROUTING\_INTERFACE\_CHANGE** for all the sockets and destinations it has and then use **SIO\_ROUTING\_INTERFACE\_QUERY** to get the actual routing information.</span></span>
-   <span data-ttu-id="28c15-514">Un provider di servizi può ignorare le informazioni specificate dall'applicazione nel buffer di input di **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** (come se l'applicazione specifica un indirizzo jolly) e completare l'evento **SIO ROUTING INTERFACE \_ \_ \_ CHANGE** IOCTL o segnale FD ROUTING INTERFACE CHANGE in caso di modifica delle informazioni di routing (non solo la route alla destinazione specificata nel \_ buffer di \_ \_ input).</span><span class="sxs-lookup"><span data-stu-id="28c15-514">A service provider has the option to ignore the information specified by the application in the input buffer of the **SIO\_ROUTING\_INTERFACE\_CHANGE** (as though the application specified a wildcard address) and complete the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL or signal FD\_ROUTING\_INTERFACE\_CHANGE event in the event of any routing information change (not just the route to the destination specified in the input buffer).</span></span>

### <a name="sio_routing_interface_query-opcode-setting-i-o-t1"></a><span data-ttu-id="28c15-515">SIO \_ ROUTING INTERFACE QUERY \_ \_ (impostazione del codice operativo: I, O, T===1)</span><span class="sxs-lookup"><span data-stu-id="28c15-515">SIO\_ROUTING\_INTERFACE\_QUERY (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="28c15-516">Per ottenere l'indirizzo dell'interfaccia locale (rappresentata come struttura [**sockaddr)**](sockaddr-2.md) da usare per inviare all'indirizzo remoto specificato nel buffer di input (come **sockaddr**).</span><span class="sxs-lookup"><span data-stu-id="28c15-516">To obtain the address of the local interface (represented as [**sockaddr**](sockaddr-2.md) structure) which should be used to send to the remote address specified in the input buffer (as **sockaddr**).</span></span> <span data-ttu-id="28c15-517">Gli indirizzi multicast remoti possono essere inviati nel buffer di input per ottenere l'indirizzo dell'interfaccia preferita per la trasmissione multicast.</span><span class="sxs-lookup"><span data-stu-id="28c15-517">Remote multicast addresses may be submitted in the input buffer to get the address of the preferred interface for multicast transmission.</span></span> <span data-ttu-id="28c15-518">In ogni caso, l'indirizzo dell'interfaccia restituito può essere usato dall'applicazione in una richiesta bind() successiva.</span><span class="sxs-lookup"><span data-stu-id="28c15-518">In any case, the interface address returned may be used by the application in a subsequent bind() request.</span></span>

<span data-ttu-id="28c15-519">Si noti che le route sono soggette a modifiche.</span><span class="sxs-lookup"><span data-stu-id="28c15-519">Note that routes are subject to change.</span></span> <span data-ttu-id="28c15-520">Pertanto, le applicazioni non possono basarsi sulle informazioni restituite da **SIO \_ ROUTING INTERFACE \_ \_ QUERY** per essere persistenti.</span><span class="sxs-lookup"><span data-stu-id="28c15-520">Therefore, applications cannot rely on the information returned by **SIO\_ROUTING\_INTERFACE\_QUERY** to be persistent.</span></span> <span data-ttu-id="28c15-521">Le applicazioni possono registrarsi per il routing delle notifiche di modifica tramite l'IOCTL **SIO \_ ROUTING INTERFACE \_ \_ CHANGE,** che fornisce la notifica tramite I/O sovrapposto o un evento FD \_ ROUTING INTERFACE \_ \_ CHANGE.</span><span class="sxs-lookup"><span data-stu-id="28c15-521">Applications may register for routing change notifications through the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL which provides for notification through either overlapped I/O or a FD\_ROUTING\_INTERFACE\_CHANGE event.</span></span> <span data-ttu-id="28c15-522">La sequenza di azioni seguente può essere usata per garantire che l'applicazione abbia sempre informazioni sull'interfaccia di routing corrente per una determinata destinazione:</span><span class="sxs-lookup"><span data-stu-id="28c15-522">The following sequence of actions can be used to guarantee that the application always has current routing interface information for a given destination:</span></span>

-   <span data-ttu-id="28c15-523">Problema **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** IOCTL</span><span class="sxs-lookup"><span data-stu-id="28c15-523">Issue **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL</span></span>
-   <span data-ttu-id="28c15-524">Problema **SIO \_ ROUTING INTERFACE \_ \_ QUERY** IOCTL</span><span class="sxs-lookup"><span data-stu-id="28c15-524">Issue **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL</span></span>
-   <span data-ttu-id="28c15-525">Ogni volta che **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** IOCTL notifica all'applicazione la modifica del routing (tramite I/O sovrapposto o segnalando l'evento FD ROUTING INTERFACE CHANGE), l'intera sequenza di azioni deve essere \_ ripetuta. \_ \_</span><span class="sxs-lookup"><span data-stu-id="28c15-525">Whenever **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL notifies the application of routing change (either through overlapped I/O or by signaling FD\_ROUTING\_INTERFACE\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="28c15-526">Se le dimensioni del buffer di output non sono sufficienti per contenere l'indirizzo dell'interfaccia, viene restituito SOCKET ERROR come risultato di \_ questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="28c15-526">If the output buffer is not large enough to contain the interface address, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="28c15-527">In questo caso, le dimensioni richieste del buffer di output verranno restituite in *lpcbBytesReturned.*</span><span class="sxs-lookup"><span data-stu-id="28c15-527">The required size of the output buffer will be returned in *lpcbBytesReturned* in this case.</span></span> <span data-ttu-id="28c15-528">Si noti che il codice di errore WSAEFAULT viene restituito anche se il parametro *lpvInBuffer*, *lpvOutBuffer* o *lpcbBytesReturned* non è completamente contenuto in una parte valida dello spazio degli indirizzi utente.</span><span class="sxs-lookup"><span data-stu-id="28c15-528">Note the WSAEFAULT error code is also returned if the *lpvInBuffer*, *lpvOutBuffer*, or *lpcbBytesReturned* parameter is not totally contained in a valid part of the user address space.</span></span>

<span data-ttu-id="28c15-529">Se l'indirizzo di destinazione specificato nel buffer di input non può essere raggiunto tramite nessuna delle interfacce disponibili, viene restituito SOCKET ERROR come risultato di \_ questo IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) restituisce [WSAENETUNREACH](windows-sockets-error-codes-2.md) o [anche WSAENETDOWN](windows-sockets-error-codes-2.md) se tutta la connettività di rete viene persa.</span><span class="sxs-lookup"><span data-stu-id="28c15-529">If the destination address specified in the input buffer cannot be reached through any of the available interfaces, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAENETUNREACH](windows-sockets-error-codes-2.md) or even [WSAENETDOWN](windows-sockets-error-codes-2.md) if all of the network connectivity is lost.</span></span>

### <a name="sio_set_compatibility_mode-opcode-setting-i-t3"></a><span data-ttu-id="28c15-530">SIO \_ SET COMPATIBILITY MODE \_ \_ (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-530">SIO\_SET\_COMPATIBILITY\_MODE (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-531">Richiede il modo in cui lo stack di rete deve gestire determinati comportamenti per i quali il modo predefinito di gestione del comportamento può variare tra le versioni di Windows.</span><span class="sxs-lookup"><span data-stu-id="28c15-531">Requests how the networking stack should handle certain behaviors for which the default way of handling the behavior may differ across Windows versions.</span></span> <span data-ttu-id="28c15-532">La struttura dell'argomento **per SIO \_ SET COMPATIBILITY \_ \_ MODE** è specificata nella struttura **WSA \_ COMPATIBILITY \_ MODE** definita nel file di intestazione *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-532">The argument structure for **SIO\_SET\_COMPATIBILITY\_MODE** is specified in the **WSA\_COMPATIBILITY\_MODE** structure defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="28c15-533">Questa struttura è definita nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="28c15-533">This structure is defined as follows:</span></span>

```cpp
/* Argument structure for SIO_SET_COMPATIBILITY_MODE */
typedef struct _WSA_COMPATIBILITY_MODE {
    WSA_COMPATIBILITY_BEHAVIOR_ID BehaviorId;
    ULONG TargetOsVersion;
} WSA_COMPATIBILITY_MODE, *PWSA_COMPATIBILITY_MODE;
```

<span data-ttu-id="28c15-534">Il valore specificato nel **membro BehaviorId** indica il comportamento richiesto.</span><span class="sxs-lookup"><span data-stu-id="28c15-534">The value specified in the **BehaviorId** member indicates the behavior requested.</span></span> <span data-ttu-id="28c15-535">Il valore specificato nel **membro TargetOsVersion** indica la versione di Windows richiesta per il comportamento.</span><span class="sxs-lookup"><span data-stu-id="28c15-535">The value specified in the **TargetOsVersion** member indicates the Windows version that is being requested for the behavior.</span></span>

<span data-ttu-id="28c15-536">Il **membro BehaviorId** può essere uno dei valori del tipo di enumerazione **WSA \_ COMPATIBILITY BEHAVIOR \_ \_ ID** definito nel file di intestazione *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-536">The **BehaviorId** member can be one of the values from the **WSA\_COMPATIBILITY\_BEHAVIOR\_ID** enumeration type defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="28c15-537">I valori possibili per il **membro BehaviorId** sono i seguenti.</span><span class="sxs-lookup"><span data-stu-id="28c15-537">The possible values for the **BehaviorId** member are as follows.</span></span>

| <span data-ttu-id="28c15-538">Termine</span><span class="sxs-lookup"><span data-stu-id="28c15-538">Term</span></span>                                                                                                                                                                             | <span data-ttu-id="28c15-539">Descrizione</span><span class="sxs-lookup"><span data-stu-id="28c15-539">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-|-|
| <span data-ttu-id="28c15-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span><span class="sxs-lookup"><span data-stu-id="28c15-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span></span><br/>                                                     | <span data-ttu-id="28c15-541">Equivale a richiedere tutti i possibili comportamenti compatibili definiti per **\_ \_ \_ L'ID COMPORTAMENTO DI COMPATIBILITÀ WSA**.</span><span class="sxs-lookup"><span data-stu-id="28c15-541">This is equivalent to requesting all of the possible compatible behaviors defined for **WSA\_COMPATIBILITY\_BEHAVIOR\_ID**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="28c15-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span><span class="sxs-lookup"><span data-stu-id="28c15-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span></span><br/> | <span data-ttu-id="28c15-543">Quando il membro **TargetOsVersion** è impostato su un valore per Windows Vista o versioni successive, le riduzioni alle dimensioni del buffer di ricezione TCP su questo socket usando l'opzione socket **\_ SO RCVBUF** sono consentite anche dopo che è stata stabilita una connessione TCP.</span><span class="sxs-lookup"><span data-stu-id="28c15-543">When the **TargetOsVersion** member is set to a value for Windows Vista or later, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are allowed even after a TCP connection has been establishment.</span></span> <br/> <span data-ttu-id="28c15-544">Quando il membro **TargetOsVersion** è impostato su un valore precedente a Windows Vista, le riduzioni alle dimensioni del buffer di ricezione TCP in questo socket tramite l'opzione socket **\_ SO RCVBUF** non sono consentite dopo la creazione della connessione.</span><span class="sxs-lookup"><span data-stu-id="28c15-544">When the **TargetOsVersion** member is set to a value earlier than Windows Vista, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are not allowed after connection establishment.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="28c15-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span><span class="sxs-lookup"><span data-stu-id="28c15-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span></span><br/>                         | <span data-ttu-id="28c15-546">Quando il membro **TargetOsVersion** è impostato su un valore per Windows Vista o versioni successive, l'ottimizzazione automatica della finestra di ricezione è abilitata e il fattore di scala della finestra TCP viene ridotto a 2 dal valore predefinito 8.</span><span class="sxs-lookup"><span data-stu-id="28c15-546">When the **TargetOsVersion** member is set to a value for Windows Vista or later, receive window auto-tuning is enabled and the TCP window scale factor is reduced to 2 from the default value of 8.</span></span><br/> <span data-ttu-id="28c15-547">Quando **TargetOsVersion** è impostato su un valore precedente a Windows Vista, l'ottimizzazione automatica della finestra di ricezione è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="28c15-547">When the **TargetOsVersion** is set to a value earlier than Windows Vista, receive window auto-tuning is disabled.</span></span> <span data-ttu-id="28c15-548">Anche l'opzione di ridimensionamento della finestra TCP è disabilitata e le dimensioni massime della finestra di ricezione reale sono limitate a 65.535 byte.</span><span class="sxs-lookup"><span data-stu-id="28c15-548">The TCP window scaling option is also disabled and the maximum true receive window size is limited to 65,535 bytes.</span></span> <span data-ttu-id="28c15-549">L'opzione di ridimensionamento della finestra TCP non può essere negoziata sulla connessione anche se l'opzione socket **\_ SO RCVBUF** è stata chiamata su questo socket specificando un valore maggiore di 65.535 byte prima che la connessione venga stabilita.</span><span class="sxs-lookup"><span data-stu-id="28c15-549">The TCP window scaling option can't be negotiated on the connection even if the **SO\_RCVBUF** socket option was called on this socket specifying a value greater than 65,535 bytes before the connection was established.</span></span><br/> |



 

<span data-ttu-id="28c15-550">Per informazioni più dettagliate, vedere le informazioni di [**riferimento su SIO \_ SET COMPATIBILITY \_ \_ MODE.**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-550">For more detailed information, see the [**SIO\_SET\_COMPATIBILITY\_MODE**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) reference.</span></span>

<span data-ttu-id="28c15-551">**SIO \_ SET \_ COMPATIBILITY \_ MODE è** supportato in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-551">**SIO\_SET\_COMPATIBILITY\_MODE** is supported on Windows Vista and later.</span></span>

### <a name="sio_set_group_qos-opcode-setting-i-t1"></a><span data-ttu-id="28c15-552">SIO \_ SET \_ GROUP \_ QOS (impostazione del codice operativo: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-552">SIO\_SET\_GROUP\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="28c15-553">Riservato.</span><span class="sxs-lookup"><span data-stu-id="28c15-553">Reserved.</span></span>

### <a name="sio_set_priority_hint-opcode-setting-i-t3"></a><span data-ttu-id="28c15-554">SIO_SET_PRIORITY_HINT (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-554">SIO_SET_PRIORITY_HINT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-555">Fornisce un hint al protocollo di trasporto sottostante per trattare il traffico su questo socket con una priorità specifica.</span><span class="sxs-lookup"><span data-stu-id="28c15-555">Provides a hint to the underlying transport protocol to treat the traffic on this socket with a specific priority.</span></span> <span data-ttu-id="28c15-556">*LpvInBuffer* deve puntare a una variabile di tipo **PRIORITY_HINT** con *cbInBuffer* impostato su sizeof(PRIORITY_HINT).</span><span class="sxs-lookup"><span data-stu-id="28c15-556">The *lpvInBuffer* must point to a variable of type **PRIORITY_HINT** with *cbInBuffer* set to sizeof(PRIORITY_HINT).</span></span> <span data-ttu-id="28c15-557">I *parametri lpvOutBuffer* *e cbOutBuffer* devono essere **rispettivamente NULL** e 0.</span><span class="sxs-lookup"><span data-stu-id="28c15-557">The *lpvOutBuffer* and *cbOutBuffer* parameters must be **NULL** and 0, respectively.</span></span> <span data-ttu-id="28c15-558">L'implementazione TCP di Microsoft Windows supporta questo IOCTL a partire da Windows 10, versione 1809 (10.0; Build 17763) e successive come indicato di seguito: quando il valore di priorità richiesto è impostato su **IoPriorityHintVeryLow,** TCP usa una versione modificata dell'algoritmo LEDBAT (definito in RFC 6817) per controllare la velocità del traffico in uscita sul socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-558">The Microsoft Windows TCP implementation supports this IOCTL starting with Windows 10, version 1809 (10.0; Build 17763) and later as follows: when the requested priority value is set to **IoPriorityHintVeryLow**, TCP uses a modified version of the LEDBAT algorithm (defined in RFC 6817) for controlling the outbound traffic rate on the socket.</span></span> <span data-ttu-id="28c15-559">Il traffico in ingresso non è interessato da questo IOCTL.</span><span class="sxs-lookup"><span data-stu-id="28c15-559">The inbound traffic is not affected by this IOCTL.</span></span> <span data-ttu-id="28c15-560">LEDBAT è un algoritmo di scavenger e l'obiettivo è quello di mantenere bassa la latenza e impedire qualsiasi effetto negativo sul traffico con priorità normale, usurando dal modo in cui è presente il traffico con priorità normale.</span><span class="sxs-lookup"><span data-stu-id="28c15-560">LEDBAT is a scavenger algorithm, and its goal is to keep latency low and prevent any adverse effect on normal-priority traffic by getting out of the way when normal-priority traffic is present.</span></span>

<span data-ttu-id="28c15-561">Vedere anche [RFC 6817.](https://tools.ietf.org/html/rfc6817)</span><span class="sxs-lookup"><span data-stu-id="28c15-561">Also see [RFC 6817](https://tools.ietf.org/html/rfc6817).</span></span>

<span data-ttu-id="28c15-562">**SIO_SET_PRIORITY_HINT** è supportato in Windows 10, versione 1809 (10.0; Build 17763) e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-562">**SIO_SET_PRIORITY_HINT** is supported on Windows 10, version 1809 (10.0; Build 17763) and later.</span></span>

### <a name="sio_set_qos-opcode-setting-i-t1"></a><span data-ttu-id="28c15-563">SIO \_ SET \_ QOS (impostazione del codice operativo: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-563">SIO\_SET\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="28c15-564">Associare la [**struttura QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) specificata al socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-564">Associate the specified [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure with the socket.</span></span> <span data-ttu-id="28c15-565">Non è necessario alcun buffer di output, la struttura **QOS** verrà ottenuta dal buffer di input.</span><span class="sxs-lookup"><span data-stu-id="28c15-565">No output buffer is required, the **QOS** structure will be obtained from the input buffer.</span></span> <span data-ttu-id="28c15-566">Il [codice di errore WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano la qualità del servizio.</span><span class="sxs-lookup"><span data-stu-id="28c15-566">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_tcp_initial_rto-opcode-setting-i-t3"></a><span data-ttu-id="28c15-567">SIO_TCP_INITIAL_RTO (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-567">SIO_TCP_INITIAL_RTO (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-568">Controlla le caratteristiche di ritrasmissione iniziali (SYN/SYN+ACK) di un socket TCP configurando i parametri di timeout di ritrasmissione iniziale (RTO).</span><span class="sxs-lookup"><span data-stu-id="28c15-568">Controls the initial (SYN / SYN+ACK) retransmission characteristics of a TCP socket by configuring initial retransmission timeout (RTO) parameters.</span></span> <span data-ttu-id="28c15-569">I parametri di configurazione vengono specificati in una [**struttura TCP \_ INITIAL \_ RTO \_ PARAMETERS.**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers)</span><span class="sxs-lookup"><span data-stu-id="28c15-569">The configuration parameters are specified in a [**TCP\_INITIAL\_RTO\_PARAMETERS**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) structure.</span></span>

<span data-ttu-id="28c15-570">Per informazioni più dettagliate, vedere le informazioni di [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) riferimento.</span><span class="sxs-lookup"><span data-stu-id="28c15-570">For more detailed information, see the [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) reference.</span></span> <span data-ttu-id="28c15-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_timestamping"></a><span data-ttu-id="28c15-572">SIO_TIMESTAMPING</span><span class="sxs-lookup"><span data-stu-id="28c15-572">SIO_TIMESTAMPING</span></span>

<span data-ttu-id="28c15-573">IoCTL del socket usato per configurare la ricezione dei timestamp di trasmissione/ricezione del socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-573">A socket IOCTL used to configure reception of socket transmit/receive timestamps.</span></span> <span data-ttu-id="28c15-574">Valido solo per i socket di datagramma.</span><span class="sxs-lookup"><span data-stu-id="28c15-574">Valid only for datagram sockets.</span></span> <span data-ttu-id="28c15-575">Il tipo di input **per SIO_TIMESTAMPING** è la [**TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) di dati.</span><span class="sxs-lookup"><span data-stu-id="28c15-575">The input type for **SIO_TIMESTAMPING** is the [**TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) structure.</span></span>

<span data-ttu-id="28c15-576">Vedere anche [Timestamping di Winsock.](/windows/win32/winsock/winsock-timestamping)</span><span class="sxs-lookup"><span data-stu-id="28c15-576">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_translate_handle-opcode-setting-i-o-t1"></a><span data-ttu-id="28c15-577">SIO \_ TRANSLATE \_ HANDLE (impostazione del codice operativo: I, O, T==1)</span><span class="sxs-lookup"><span data-stu-id="28c15-577">SIO\_TRANSLATE\_HANDLE (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="28c15-578">Per ottenere un handle corrispondente per socket *s* valido nel contesto di un'interfaccia complementare, ad esempio TH \_ NETDEV e TH \_ TAPI.</span><span class="sxs-lookup"><span data-stu-id="28c15-578">To obtain a corresponding handle for socket *s* that is valid in the context of a companion interface (for example, TH\_NETDEV and TH\_TAPI).</span></span> <span data-ttu-id="28c15-579">Nel buffer di input viene specificata una costante manifesto che identifica l'interfaccia complementare insieme agli altri parametri necessari.</span><span class="sxs-lookup"><span data-stu-id="28c15-579">A manifest constant identifying the companion interface along with any other needed parameters are specified in the input buffer.</span></span> <span data-ttu-id="28c15-580">L'handle corrispondente sarà disponibile nel buffer di output al completamento di questa funzione.</span><span class="sxs-lookup"><span data-stu-id="28c15-580">The corresponding handle will be available in the output buffer upon completion of this function.</span></span> <span data-ttu-id="28c15-581">Per informazioni dettagliate specifiche di una particolare interfaccia complementare, vedere la sezione appropriata in [Winsock Annexes.](winsock-annexes.md)</span><span class="sxs-lookup"><span data-stu-id="28c15-581">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="28c15-582">Il codice di errore [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) è indicato per i provider di servizi che non supportano questo IOCTL per l'interfaccia complementare specificata.</span><span class="sxs-lookup"><span data-stu-id="28c15-582">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL for the specified companion interface.</span></span> <span data-ttu-id="28c15-583">Questo IOCTL recupera l'handle associato tramite **SIO \_ TRANSLATE \_ HANDLE**.</span><span class="sxs-lookup"><span data-stu-id="28c15-583">This IOCTL retrieves the handle associated using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="28c15-584">È consigliabile usare Component Object Model (COM) anziché questo IOCTL per individuare e tenere traccia di altre interfacce che potrebbero essere supportate da un socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-584">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="28c15-585">Questo IOCTL è presente per la compatibilità con le versioni precedenti con sistemi in cui COM non è disponibile o non può essere usato per altri motivi.</span><span class="sxs-lookup"><span data-stu-id="28c15-585">This IOCTL is present for backward compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_udp_connreset-opcode-setting-i-t3"></a><span data-ttu-id="28c15-586">SIO \_ UDP \_ CONNRESET (impostazione del codice operativo: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-586">SIO\_UDP\_CONNRESET (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-587">**Windows XP:** Controlla se vengono segnalati messaggi UDP PORT \_ UNREACHABLE.</span><span class="sxs-lookup"><span data-stu-id="28c15-587">**Windows XP:** Controls whether UDP PORT\_UNREACHABLE messages are reported.</span></span> <span data-ttu-id="28c15-588">Impostare su **TRUE per** abilitare la creazione di report.</span><span class="sxs-lookup"><span data-stu-id="28c15-588">Set to **TRUE** to enable reporting.</span></span> <span data-ttu-id="28c15-589">Impostare su **FALSE per** disabilitare la creazione di report.</span><span class="sxs-lookup"><span data-stu-id="28c15-589">Set to **FALSE** to disable reporting.</span></span>

### <a name="sio_set_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="28c15-590">SIO \_ SET \_ WFP \_ CONNECTION \_ REDIRECT \_ RECORDS (opcode setting: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-590">SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="28c15-591">Imposta il record di reindirizzamento sul nuovo socket TCP usato per la connessione alla destinazione finale per l'uso da parte di un servizio di reindirizzamento windows filtering platform (WFP).</span><span class="sxs-lookup"><span data-stu-id="28c15-591">Sets the redirect record to the new TCP socket used for connecting to the final destination for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="28c15-592">SIO [**SET WFP CONNECTION REDIRECT \_ \_ \_ \_ \_ RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL viene usato come parte del rilevamento delle connessioni proxy nelle connessioni socket reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="28c15-592">The [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL is used as part of proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="28c15-593">Questa funzionalità WFP facilita il rilevamento dei record di reindirizzamento dal reindirizzamento iniziale di una connessione alla connessione finale alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-593">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="28c15-594">Per informazioni più dettagliate, vedere le informazioni di [**riferimento sui RECORD DI REINDIRIZZAMENTO DELLA CONNESSIONE SIO SET \_ \_ WFP. \_ \_ \_**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-594">For more detailed information, see the [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) reference.</span></span> <span data-ttu-id="28c15-595">**SIO \_ SET \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS** è supportato in Windows 8, Windows Server 2012 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-595">**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_tcp_info-opcode-setting-i-o-t3"></a><span data-ttu-id="28c15-596">SIO \_ TCP \_ INFO (impostazione del codice operativo: I, O, T==3)</span><span class="sxs-lookup"><span data-stu-id="28c15-596">SIO\_TCP\_INFO (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="28c15-597">Recupera le statistiche TCP per un socket.</span><span class="sxs-lookup"><span data-stu-id="28c15-597">Retrieves the TCP statistics for a socket.</span></span> <span data-ttu-id="28c15-598">Le statistiche TCP vengono fornite in una [**struttura TCP \_ INFO \_ v0.**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0)</span><span class="sxs-lookup"><span data-stu-id="28c15-598">The TCP statistics are provided in a [**TCP\_INFO\_v0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) structure.</span></span>

<span data-ttu-id="28c15-599">A differenza del recupero di statistiche TCP con la funzione [**GetPerTcpConnectionEStats,**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) il recupero delle statistiche TCP con questo codice di controllo non richiede che il codice utente carichi, archivi e filtri la tabella di connessione TCP e non richieda privilegi elevati per l'uso.</span><span class="sxs-lookup"><span data-stu-id="28c15-599">Unlike retrieving TCP statistics with the [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) function, retrieving TCP statistics with this control code does not require the user code to load, store, and filter the TCP connection table, and does not require elevated privileges to use.</span></span>

<span data-ttu-id="28c15-600">Per altre informazioni, vedere [**SIO \_ TCP \_ INFO.**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="28c15-600">For more information, see [**SIO\_TCP\_INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span></span> <span data-ttu-id="28c15-601">**SIO \_ TCP \_ INFO** è supportato in Windows 10 versione 1703, Windows Server 2016 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="28c15-601">**SIO\_TCP\_INFO** is supported on Windows 10, version 1703, Windows Server 2016, and later.</span></span>

## <a name="remarks"></a><span data-ttu-id="28c15-602">Commenti</span><span class="sxs-lookup"><span data-stu-id="28c15-602">Remarks</span></span>

<span data-ttu-id="28c15-603">Gli ioctls winsock sono definiti in diversi file di intestazione.</span><span class="sxs-lookup"><span data-stu-id="28c15-603">Winsock Ioctls are defined in a number of different header files.</span></span> <span data-ttu-id="28c15-604">Sono inclusi i file *di intestazione Winsock2.h,* *Mswsock.h* e *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-604">These include the *Winsock2.h*, *Mswsock.h*, and *Mstcpip.h* header file.</span></span>

<span data-ttu-id="28c15-605">In Microsoft Windows Software Development Kit (Windows SDK) (SDK) rilasciato per Windows Vista e versioni successive, l'organizzazione dei file di intestazione è stata modificata e diversi Ioctls Winsock sono definiti anche nei file di intestazione *Ws2def.h,* *Ws2ipdef.h* e *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-605">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and a number of Winsock Ioctls are also defined in the *Ws2def.h*, *Ws2ipdef.h*, and *Mswsockdef.h* header files.</span></span> <span data-ttu-id="28c15-606">Il file *di intestazione Ws2def.h* viene incluso automaticamente dal file *di intestazione Winsock2.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-606">The *Ws2def.h* header file is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="28c15-607">Il file *di intestazione Ws2ipdef.h* viene incluso automaticamente dal file di intestazione *Ws2tcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-607">The *Ws2ipdef.h* header file is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="28c15-608">Il file *di intestazione Mswsockdef.h* viene incluso automaticamente nel file di intestazione *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="28c15-608">The *Mswsockdef.h* header file is automatically included in the *Mswsockdef.h* header file.</span></span>

## <a name="requirements"></a><span data-ttu-id="28c15-609">Requisiti</span><span class="sxs-lookup"><span data-stu-id="28c15-609">Requirements</span></span>

|<span data-ttu-id="28c15-610">Requisito</span><span class="sxs-lookup"><span data-stu-id="28c15-610">Requirement</span></span>|<span data-ttu-id="28c15-611">Valore</span><span class="sxs-lookup"><span data-stu-id="28c15-611">Value</span></span>|
|-|-|
| <span data-ttu-id="28c15-612">Intestazione</span><span class="sxs-lookup"><span data-stu-id="28c15-612">Header</span></span><br/> | <dl> <span data-ttu-id="28c15-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h in Windows Vista, Windows Server 2008 e Windows 7 (incluso Mswsock.h); </dt> <dt>Ws2def.h in Windows Vista, Windows Server 2008 e Windows 7 (include Winsock2.h); </dt> <dt>Ws2ipdef.h in Windows Vista, Windows Server 2008 e Windows 7 (includere Ws2tcpip.h)</dt></span><span class="sxs-lookup"><span data-stu-id="28c15-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Mswsock.h); </dt> <dt>Ws2def.h on Windows Vista, Windows Server 2008 and Windows 7 (include Winsock2.h); </dt> <dt>Ws2ipdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Ws2tcpip.h)</dt></span></span> </dl> |
