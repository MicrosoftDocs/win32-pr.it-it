---
description: Il multicast IP rientra nella categoria del piano dati non radice e del piano di controllo non radice.
ms.assetid: 474a1c7f-0ece-4192-a2d9-6e2f3df2ac02
title: Multicast IP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3bf9469822ae974b7c616b7904f9dc7120682acb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306948"
---
# <a name="ip-multicast"></a><span data-ttu-id="a2a27-103">Multicast IP</span><span class="sxs-lookup"><span data-stu-id="a2a27-103">IP Multicast</span></span>

<span data-ttu-id="a2a27-104">Il multicast IP rientra nella categoria del piano dati non radice e del piano di controllo non radice.</span><span class="sxs-lookup"><span data-stu-id="a2a27-104">IP multicast falls into the category of nonrooted data plane and nonrooted control plane.</span></span> <span data-ttu-id="a2a27-105">Tutte le applicazioni rivestono un ruolo foglia.</span><span class="sxs-lookup"><span data-stu-id="a2a27-105">All applications play a leaf role.</span></span> <span data-ttu-id="a2a27-106">Attualmente, la maggior parte delle implementazioni multicast IP usa un set di opzioni socket proposto da Steve Deering per Internet Engineering Task Force (IETF).</span><span class="sxs-lookup"><span data-stu-id="a2a27-106">Currently, most IP multicast implementations use a set of socket options proposed by Steve Deering to the Internet Engineering Task Force (IETF).</span></span> <span data-ttu-id="a2a27-107">Vengono rese disponibili cinque operazioni:</span><span class="sxs-lookup"><span data-stu-id="a2a27-107">Five operations are thus made available:</span></span>

-   <span data-ttu-id="a2a27-108">\_TTL multicast IP \_ : imposta la durata (TTL), controlla l'ambito di una sessione multicast.</span><span class="sxs-lookup"><span data-stu-id="a2a27-108">IP\_MULTICAST\_TTL—Sets time-to-live, controls scope of a multicast session.</span></span>
-   <span data-ttu-id="a2a27-109">\_Multicast IP \_ if: determina l'interfaccia da usare per il multicast.</span><span class="sxs-lookup"><span data-stu-id="a2a27-109">IP\_MULTICAST\_IF—Determines interface to be used for multicasting.</span></span>
-   <span data-ttu-id="a2a27-110">IP \_ Add \_ MEMBERSHI-partecipa a una sessione multicast specificata.</span><span class="sxs-lookup"><span data-stu-id="a2a27-110">IP\_ADD\_MEMBERSHI —Joins a specified multicast session.</span></span>
-   <span data-ttu-id="a2a27-111">\_ \_ Appartenenza al rilascio IP: Elimina una sessione multicast.</span><span class="sxs-lookup"><span data-stu-id="a2a27-111">IP\_DROP\_MEMBERSHIP—Drops out of a multicast session.</span></span>
-   <span data-ttu-id="a2a27-112">\_Loop multicast IP \_ : controlla il loopback del traffico multicast.</span><span class="sxs-lookup"><span data-stu-id="a2a27-112">IP\_MULTICAST\_LOOP—Controls loopback of multicast traffic.</span></span>

<span data-ttu-id="a2a27-113">Per impostare la durata (TTL) per un socket multicast IP, è possibile eseguire il mapping diretto all'uso del \_ \_ codice del comando per l'ambito multicast Sio per [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl).</span><span class="sxs-lookup"><span data-stu-id="a2a27-113">Setting the time-to-live for an IP-multicast socket maps directly to using the SIO\_MULTICAST\_SCOPE command code for [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl).</span></span>

<span data-ttu-id="a2a27-114">Il metodo per determinare l'interfaccia IP da utilizzare per il multicast avviene tramite un'opzione socket specifica TCP/IP, come descritto nell'allegato Windows Sockets 2 Protocol-Specific.</span><span class="sxs-lookup"><span data-stu-id="a2a27-114">The method for determining the IP interface to be used for multicasting is through a TCP/IP-specific socket option as described in the Windows Sockets 2 Protocol-Specific Annex.</span></span> <span data-ttu-id="a2a27-115">Le restanti tre operazioni sono analizzate correttamente con la semantica di Windows Sockets 2 descritta qui.</span><span class="sxs-lookup"><span data-stu-id="a2a27-115">The remaining three operations are covered well with the Windows Sockets 2 semantics described here.</span></span>

<span data-ttu-id="a2a27-116">L'applicazione aprirà i socket con i \_ flag foglia foglia/d c \_ in [**WSASocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa).</span><span class="sxs-lookup"><span data-stu-id="a2a27-116">The application would open sockets with c\_leaf/d\_leaf flags in [**WSASocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsasocketa).</span></span> <span data-ttu-id="a2a27-117">USA [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) per aggiungersi a un gruppo multicast sull'interfaccia predefinita designata per le operazioni multicast.</span><span class="sxs-lookup"><span data-stu-id="a2a27-117">It would use [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to add itself to a multicast group on the default interface designated for multicast operations.</span></span> <span data-ttu-id="a2a27-118">Se il flag in **WSAJoinLeaf** indica che questo socket è solo un mittente, l'operazione di join è essenzialmente un no-op e non è necessario inviare messaggi IGMP.</span><span class="sxs-lookup"><span data-stu-id="a2a27-118">If the flag in **WSAJoinLeaf** indicates that this socket is only a sender, then the join operation is essentially a no-op and no IGMP messages need to be sent.</span></span> <span data-ttu-id="a2a27-119">In caso contrario, viene inviato un pacchetto IGMP al router per indicare gli interessi nella ricezione dei pacchetti inviati all'indirizzo multicast specificato.</span><span class="sxs-lookup"><span data-stu-id="a2a27-119">Otherwise, an IGMP packet is sent out to the router to indicate interests in receiving packets sent to the specified multicast address.</span></span> <span data-ttu-id="a2a27-120">Poiché l'applicazione ha creato i \_ socket foglia foglia/d speciali \_ utilizzati solo per l'esecuzione del multicast, la funzione [**chiamata closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket) standard verrebbe utilizzata per l'eliminazione della sessione multicast.</span><span class="sxs-lookup"><span data-stu-id="a2a27-120">Since the application created special c\_leaf/d\_leaf sockets used only for performing multicast, the standard [**closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket) function would be used to drop out of the multicast session.</span></span> <span data-ttu-id="a2a27-121">Il \_ \_ codice di comando di loopback multipoint Sio per [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) fornisce un meccanismo di controllo generico per determinare se i dati inviati in un \_ socket foglia d in uno schema MultiPoint non radice possono essere ricevuti anche sullo stesso socket.</span><span class="sxs-lookup"><span data-stu-id="a2a27-121">The SIO\_MULTIPOINT\_LOOPBACK command code for [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) provides a generic control mechanism for determining whether data sent on a d\_leaf socket in a nonrooted multipoint scheme can also be received on the same socket.</span></span>

> [!Note]  
> <span data-ttu-id="a2a27-122">La versione Winsock dell' \_ \_ opzione ciclo multicast IP è semanticamente diversa dalla versione UNIX dell' \_ \_ opzione ciclo IP multicast:</span><span class="sxs-lookup"><span data-stu-id="a2a27-122">The Winsock version of the IP\_MULTICAST\_LOOP option is semantically different than the UNIX version of the IP\_MULTICAST\_LOOP option:</span></span>

 

-   <span data-ttu-id="a2a27-123">In Winsock l' \_ \_ opzione ciclo IP multicast si applica solo al percorso di ricezione.</span><span class="sxs-lookup"><span data-stu-id="a2a27-123">In Winsock, the IP\_MULTICAST\_LOOP option applies only to the receive path.</span></span>
-   <span data-ttu-id="a2a27-124">Nella versione UNIX, l' \_ \_ opzione ciclo multicast IP si applica al percorso di trasmissione.</span><span class="sxs-lookup"><span data-stu-id="a2a27-124">In the UNIX version, the IP\_MULTICAST\_LOOP option applies to the send path.</span></span>

<span data-ttu-id="a2a27-125">Ad esempio, le applicazioni ATTIVAte e disattivate (che risultano più facili da rilevare rispetto a X e Y) si uniscono allo stesso gruppo nella stessa interfaccia; applicazione su Imposta l' \_ opzione del ciclo IP multicast \_ in, l'applicazione off imposta l' \_ opzione del ciclo multicast IP su \_ disattivato.</span><span class="sxs-lookup"><span data-stu-id="a2a27-125">For example, applications ON and OFF (which are easier to track than X and Y) join the same group on the same interface; application ON sets the IP\_MULTICAST\_LOOP option on, application OFF sets the IP\_MULTICAST\_LOOP option off.</span></span> <span data-ttu-id="a2a27-126">Se ON e OFF sono applicazioni Winsock, OFF può inviare a ON, ma ON non può essere inviato a OFF.</span><span class="sxs-lookup"><span data-stu-id="a2a27-126">If ON and OFF are Winsock applications, OFF can send to ON, but ON cannot sent to OFF.</span></span> <span data-ttu-id="a2a27-127">Al contrario, se ON e OFF sono applicazioni UNIX, ON può inviare a OFF, ma OFF non può inviare a ON.</span><span class="sxs-lookup"><span data-stu-id="a2a27-127">In contrast, if ON and OFF are UNIX applications, ON can send to OFF, but OFF cannot send to ON.</span></span>

 

 



