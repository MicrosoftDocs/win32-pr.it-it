---
description: In questa sezione vengono descritte le procedure consigliate per il porting di un'applicazione broadcast IPv6 alle funzionalità multicast disponibili con Windows Sockets.
ms.assetid: 12e491fd-650f-43b4-afa1-9f37b1c30240
title: Porting di applicazioni broadcast a IPv6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b9f7dce09db6822a6f9b0a61873ca6bbff5a256b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104484917"
---
# <a name="porting-broadcast-applications-to-ipv6"></a><span data-ttu-id="2acd3-103">Porting di applicazioni broadcast a IPv6</span><span class="sxs-lookup"><span data-stu-id="2acd3-103">Porting Broadcast Applications to IPv6</span></span>

<span data-ttu-id="2acd3-104">In questa sezione vengono descritte le procedure consigliate per il porting di un'applicazione broadcast IPv6 alle funzionalità multicast disponibili con Windows Sockets.</span><span class="sxs-lookup"><span data-stu-id="2acd3-104">This section describes best practices for porting an IPv6 broadcast application to the multicast capabilities available with Windows Sockets.</span></span>

## <a name="comparing-ipv4-to-ipv6"></a><span data-ttu-id="2acd3-105">Confronto tra IPv4 e IPv6</span><span class="sxs-lookup"><span data-stu-id="2acd3-105">Comparing IPv4 to IPv6</span></span>

<span data-ttu-id="2acd3-106">La considerazione più importante quando si prepara la porta di un'applicazione broadcast IPv4 a IPv6 è la seguente: IPv6 non ha implementato il concetto di broadcast.</span><span class="sxs-lookup"><span data-stu-id="2acd3-106">The most notable consideration when preparing to port an IPv4 broadcast application to IPv6 is this: IPv6 has no implemented concept of broadcast.</span></span> <span data-ttu-id="2acd3-107">Il protocollo IPv6 usa invece il multicast.</span><span class="sxs-lookup"><span data-stu-id="2acd3-107">Instead, IPv6 uses multicast.</span></span>

<span data-ttu-id="2acd3-108">Multicast per IPv6 è in grado di emulare le funzionalità di broadcast tradizionali disponibili in IPv4.</span><span class="sxs-lookup"><span data-stu-id="2acd3-108">Multicast for IPv6 can emulate traditional broadcast capabilities found in IPv4.</span></span> <span data-ttu-id="2acd3-109">L'impostazione dell'opzione per il socket di [ \_ \_ appartenenza IPv6](ipproto-ipv6-socket-options.md) con l'indirizzo IPv6 impostato sull'indirizzo di tutti i nodi del collegamento locale (FF02:: 1) equivale a trasmettere gli indirizzi di trasmissione IPv4 utilizzando l'opzione socket [ \_ broadcast](socket-options.md) .</span><span class="sxs-lookup"><span data-stu-id="2acd3-109">Setting the [IPV6\_ADD\_MEMBERSHIP](ipproto-ipv6-socket-options.md) socket option with the IPv6 address set to the link-local scope all nodes address (FF02::1) is equivalent to broadcasting on IPv4 broadcast addresses using the [SO\_BROADCAST](socket-options.md) socket option.</span></span> <span data-ttu-id="2acd3-110">Questo indirizzo viene talvolta denominato *gruppo multicast tutti i nodi*.</span><span class="sxs-lookup"><span data-stu-id="2acd3-110">This address is sometimes called the *all-nodes multicast group*.</span></span> <span data-ttu-id="2acd3-111">Per le applicazioni che vogliono semplicemente emulazione broadcast per IPv6, questo approccio è funzionalmente equivalente.</span><span class="sxs-lookup"><span data-stu-id="2acd3-111">For applications that simply want broadcast emulation for IPv6, that approach is operationally equivalent.</span></span> <span data-ttu-id="2acd3-112">Una differenza rilevante rispetto a IPv6, tuttavia, è che i multicast nell'indirizzo del gruppo multicast tutti i nodi non vengono ricevuti per impostazione predefinita (le trasmissioni IPv4 vengono ricevute per impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="2acd3-112">One notable difference with IPv6, however, is that multicasts on the all-nodes multicast group address are not received by default (IPv4 broadcasts are received by default).</span></span> <span data-ttu-id="2acd3-113">\_ \_ Per abilitare la ricezione multicast da qualsiasi origine, incluso l'indirizzo del gruppo multicast all-nodes, i programmatori di applicazioni devono usare l'opzione IPv6 Add Membership socket.</span><span class="sxs-lookup"><span data-stu-id="2acd3-113">Application programmers must use the IPV6\_ADD\_MEMBERSHIP socket option to enable multicast reception from any source, including the all-nodes multicast group address.</span></span>

> [!Note]  
> <span data-ttu-id="2acd3-114">In IPv6, nella struttura degli argomenti passata all'opzione socket multicast o IOCTL viene specificata la selezione dell'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="2acd3-114">In IPv6, interface selection is specified in the argument structure passed to the multicast socket option or IOCTL.</span></span>

 

<span data-ttu-id="2acd3-115">Tuttavia, per trasmissioni più complesse, più affidabili e più selettivi e più gestibili a più host, gli sviluppatori di applicazioni devono considerare il passaggio a un modello multicast.</span><span class="sxs-lookup"><span data-stu-id="2acd3-115">But for richer, more robust, more selective and more manageable transmissions to multiple hosts, application developers should consider moving to a multicast model.</span></span>

## <a name="moving-to-multicast"></a><span data-ttu-id="2acd3-116">Passaggio al multicast</span><span class="sxs-lookup"><span data-stu-id="2acd3-116">Moving to Multicast</span></span>

<span data-ttu-id="2acd3-117">Con il multicast, i programmatori di applicazioni possono scegliere selettivamente una particolare coppia di origine/gruppo, abilitando un modello di ricezione selettiva.</span><span class="sxs-lookup"><span data-stu-id="2acd3-117">With multicast, application programmers can selectively choose a particular source/group pair, enabling a selective reception model.</span></span> <span data-ttu-id="2acd3-118">Multicast listener Discovery (MLD) su IPv6 e la versione 3 di Internet Group Management Protocol (IGMPv3) in IPv4 supportano la programmazione multicast.</span><span class="sxs-lookup"><span data-stu-id="2acd3-118">The Multicast Listener Discovery (MLD) on IPv6 and version 3 of the Internet Group Management Protocol (IGMPv3) on IPv4 support multicasting programming.</span></span> <span data-ttu-id="2acd3-119">Il multicast consente inoltre alle applicazioni di bloccare o sbloccare in modo specifico i mittenti all'interno di un gruppo, proteggendo ulteriormente le applicazioni da broadcaster non autorizzati.</span><span class="sxs-lookup"><span data-stu-id="2acd3-119">In addition, multicast enables applications to specifically block (or unblock) senders within a group, further protecting applications from rogue broadcasters.</span></span> <span data-ttu-id="2acd3-120">Questa funzionalità è disponibile per IPv4 (richiede IGMPv3) e IPv6 (richiede MLDv2).</span><span class="sxs-lookup"><span data-stu-id="2acd3-120">This capability is available for IPv4 (requires IGMPv3) as well as IPv6 (requires MLDv2).</span></span>

<span data-ttu-id="2acd3-121">Esistono due scenari principali per i programmatori di applicazioni che utilizzano il multicast, ovvero quelli che eseguono il porting da applicazioni broadcast IPv4 (o multicast) a IPv6 e quelli che creano nuove applicazioni multicast IPv6.</span><span class="sxs-lookup"><span data-stu-id="2acd3-121">There are two primary scenarios for application programmers using multicast: those porting from IPv4 broadcast (or multicast) applications to IPv6, and those creating new IPv6 multicast applications.</span></span>

<span data-ttu-id="2acd3-122">Per il porting delle applicazioni esistenti, sono disponibili due opzioni per passare a multicast IPv6: uso delle opzioni del socket e uso di IOCTL.</span><span class="sxs-lookup"><span data-stu-id="2acd3-122">For porting existing applications, there are two options to move to IPv6 multicast: using socket options and using IOCTLs.</span></span>

-   <span data-ttu-id="2acd3-123">L'uso delle opzioni socket è un approccio basato sulle modifiche che consente agli sviluppatori di modificare le proprietà del socket come richiesto, ad esempio bloccando o sbloccando un mittente, aggiungendo una nuova origine e così via.</span><span class="sxs-lookup"><span data-stu-id="2acd3-123">Using socket options is a change-based approach, which enables developers to change the socket properties as required (such as blocking or unblocking a sender, adding a new source, and so on).</span></span> <span data-ttu-id="2acd3-124">Questo approccio è più intuitivo e l'approccio consigliato.</span><span class="sxs-lookup"><span data-stu-id="2acd3-124">This approach is more intuitive and the recommended approach.</span></span> <span data-ttu-id="2acd3-125">Per ulteriori informazioni sull'approccio basato sulle modifiche alla programmazione multicast, vedere [mld e IGMP mediante Windows Sockets](igmp-and-windows-sockets.md).</span><span class="sxs-lookup"><span data-stu-id="2acd3-125">For more information on the change-based approach to multicast programming, see [MLD and IGMP Using Windows Sockets](igmp-and-windows-sockets.md).</span></span>
-   <span data-ttu-id="2acd3-126">L'uso di IOCTL è un approccio basato sullo stato finale, in quanto consente agli sviluppatori di fornire uno stato del socket completamente configurato, inclusi gli elenchi di inclusione ed esclusione, con una sola chiamata.</span><span class="sxs-lookup"><span data-stu-id="2acd3-126">Using IOCTLs is a final-state based approach, because it enables developers to provide a fully-configured socket state, including inclusion and exclusion lists, with one call.</span></span> <span data-ttu-id="2acd3-127">Per ulteriori informazioni sull'approccio basato sullo stato finale, vedere [programmazione multicast basata sullo stato finale](final-state-based-multicast-programming.md).</span><span class="sxs-lookup"><span data-stu-id="2acd3-127">For more information on the final-state based approach, see [Final-State-Based Multicast Programming](final-state-based-multicast-programming.md).</span></span>

<span data-ttu-id="2acd3-128">Per coloro che creano nuove applicazioni multicast IPv6, la procedura consigliata consiste nell'usare le opzioni socket, anziché usare IOCTL.</span><span class="sxs-lookup"><span data-stu-id="2acd3-128">For those creating new IPv6 multicast applications, the recommended practice is to use socket options, rather than using IOCTLs.</span></span>

<span data-ttu-id="2acd3-129">Esiste un altro approccio per la creazione di applicazioni multicast con IPv6 e che comporta l'uso della funzione [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) .</span><span class="sxs-lookup"><span data-stu-id="2acd3-129">There is one other approach to creating multicast applications with IPv6, and that entails using the [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) function.</span></span> <span data-ttu-id="2acd3-130">Sebbene l'utilizzo della funzione **WSAJoinLeaf** non sia la procedura consigliata, è possibile che si verifichino situazioni in cui è possibile impiegarne l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="2acd3-130">While using the **WSAJoinLeaf** function is not the recommended practice, there are situations that may dictate its use.</span></span> <span data-ttu-id="2acd3-131">Ad esempio, uno svantaggio dell'uso delle opzioni socket in Windows Server 2003 e versioni precedenti è che si tratta di una versione specifica di IP.</span><span class="sxs-lookup"><span data-stu-id="2acd3-131">For example, one drawback to using socket options on Windows Server 2003 and earlier is that they are IP version specific.</span></span> <span data-ttu-id="2acd3-132">In queste versioni precedenti di Windows, le opzioni dei socket diversi devono essere per IPv6 e IPv4.</span><span class="sxs-lookup"><span data-stu-id="2acd3-132">On these older versions of Windows, different sockets options must be for IPv6 and IPv4.</span></span> <span data-ttu-id="2acd3-133">In Windows Vista e versioni successive sono supportate nuove opzioni di socket che possono essere utilizzate con IPv4 e IPv6.</span><span class="sxs-lookup"><span data-stu-id="2acd3-133">On Windows Vista and later, new socket options are supported that can be used with both IPv4 and IPv6.</span></span> <span data-ttu-id="2acd3-134">La funzione **WSAJoinLeaf** , invece, è indipendente dalla versione IP e dal protocollo e pertanto può essere utile per la compilazione di un'applicazione che deve funzionare con più versioni IP in Windows Server 2003 e versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="2acd3-134">The **WSAJoinLeaf** function, in contrast, is IP version and protocol agnostic, and therefore it can be a useful approach for building an application that must work with multiple IP versions on Windows Server 2003 and earlier.</span></span> <span data-ttu-id="2acd3-135">L'utilizzo della funzione **WSAJoinLeaf** può essere più appropriato in determinate situazioni in cui è richiesto il protocollo e l'agnosticismo della versione IP.</span><span class="sxs-lookup"><span data-stu-id="2acd3-135">Using the **WSAJoinLeaf** function may be more appropriate in certain situations where protocol and IP-version agnosticism is required.</span></span>

 

 



