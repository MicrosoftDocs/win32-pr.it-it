---
description: Un handle di socket può facoltativamente essere un handle di file in Windows Sockets 2. È possibile utilizzare un handle di socket da un provider Winsock con altre funzioni non Winsock, ad esempio ReadFile, WriteFile, ReadFileEx e WriteFileEx.
ms.assetid: 986dd9d8-52be-47aa-92b2-6cd40b83f5de
title: Handle socket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca6ca8ed935819e018a59c52fb43dcf816530c07
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106310425"
---
# <a name="socket-handles"></a><span data-ttu-id="a9bd0-104">Handle socket</span><span class="sxs-lookup"><span data-stu-id="a9bd0-104">Socket Handles</span></span>

<span data-ttu-id="a9bd0-105">Un handle di socket può facoltativamente essere un handle di file in Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="a9bd0-105">A socket handle can optionally be a file handle in Windows Sockets 2.</span></span> <span data-ttu-id="a9bd0-106">È possibile utilizzare un handle di socket da un provider Winsock con altre funzioni non Winsock, ad esempio [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile), [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile), [**ReadFileEx**](/windows/win32/api/fileapi/nf-fileapi-readfileex)e [**WriteFileEx**](/windows/win32/api/fileapi/nf-fileapi-writefileex).</span><span class="sxs-lookup"><span data-stu-id="a9bd0-106">A socket handle from a Winsock provider can be used with other non-Winsock functions such as [**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile), [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile), [**ReadFileEx**](/windows/win32/api/fileapi/nf-fileapi-readfileex), and [**WriteFileEx**](/windows/win32/api/fileapi/nf-fileapi-writefileex).</span></span>

<span data-ttu-id="a9bd0-107">Il **XP1 \_ IFS \_ gestisce** il membro nella struttura delle informazioni di protocollo per un provider determina se un handle di socket da un provider è un handle di file system installabile (IFS).</span><span class="sxs-lookup"><span data-stu-id="a9bd0-107">The **XP1\_IFS\_HANDLES** member in the protocol information structure for a provider determines whether a socket handle from a provider is an Installable File System (IFS) handle.</span></span> <span data-ttu-id="a9bd0-108">Gli handle di socket che sono handle IFS possono essere usati senza una riduzione delle prestazioni con altre funzioni non Winsock (ad esempio,[**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) e [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile)).</span><span class="sxs-lookup"><span data-stu-id="a9bd0-108">Socket handles that are IFS handles can be used without a performance penalty with other non-Winsock functions ([**ReadFile**](/windows/win32/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/win32/api/fileapi/nf-fileapi-writefile), for example).</span></span> <span data-ttu-id="a9bd0-109">Tutti gli handle non IFS socket se usati con funzioni non Winsock (ad esempio,**ReadFile** e **WriteFile**) comportano interazioni tra il provider e il file System in cui è presente un sovraccarico di elaborazione aggiuntivo che può comportare una riduzione significativa delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="a9bd0-109">Any non-IFS socket handles when used with non-Winsock functions (**ReadFile** and **WriteFile**, for example) result in interactions between the provider and the file system where extra processing overhead is involved that can result in a significant performance penalty.</span></span> <span data-ttu-id="a9bd0-110">Quando si utilizzano handle di socket con funzioni non Winsock, i codici di errore propagati dal file system di base non sono sempre mappati ai codici di errore Winsock.</span><span class="sxs-lookup"><span data-stu-id="a9bd0-110">When using socket handles with non-Winsock functions, the error codes propagated from the base file system are not always mapped to Winsock error codes.</span></span> <span data-ttu-id="a9bd0-111">Di conseguenza, è consigliabile utilizzare gli handle di socket solo con le funzioni Winsock.</span><span class="sxs-lookup"><span data-stu-id="a9bd0-111">Consequently, it is recommended that socket handles be used only with Winsock functions.</span></span>

<span data-ttu-id="a9bd0-112">Non usare un handle di socket con la funzione [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .</span><span class="sxs-lookup"><span data-stu-id="a9bd0-112">A socket handle should not be used with the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function.</span></span> <span data-ttu-id="a9bd0-113">La presenza di provider di servizi su più livelli (LSP) può causare un errore e non esiste alcun modo per il processo di destinazione di importare l'handle del socket.</span><span class="sxs-lookup"><span data-stu-id="a9bd0-113">The presence of layered service providers (LSPs) can cause this to fail and there is no way for the destination process to import the socket handle.</span></span>

> [!Note]  
> <span data-ttu-id="a9bd0-114">I provider di servizi sovrapposti sono deprecati.</span><span class="sxs-lookup"><span data-stu-id="a9bd0-114">Layered Service Providers are deprecated.</span></span> <span data-ttu-id="a9bd0-115">A partire da Windows 8 e Windows Server 2012, usare la [piattaforma filtro Windows](../fwp/windows-filtering-platform-start-page.md).</span><span class="sxs-lookup"><span data-stu-id="a9bd0-115">Starting with Windows 8 and Windows Server 2012, use [Windows Filtering Platform](../fwp/windows-filtering-platform-start-page.md).</span></span>

 

<span data-ttu-id="a9bd0-116">Windows Sockets 2 ha espanso alcune funzioni che trasferiscono i dati tra i socket usando gli handle.</span><span class="sxs-lookup"><span data-stu-id="a9bd0-116">Windows Sockets 2 has expanded certain functions that transfer data between sockets using handles.</span></span> <span data-ttu-id="a9bd0-117">Le funzioni offrono vantaggi specifici dei socket per il trasferimento di dati e includono [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), [**WSASend**](/windows/desktop/api/Winsock2/nf-winsock2-wsasend)e [**WSADuplicateSocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsaduplicatesocketa).</span><span class="sxs-lookup"><span data-stu-id="a9bd0-117">The functions offer advantages specific to sockets for transferring data and include [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), [**WSASend**](/windows/desktop/api/Winsock2/nf-winsock2-wsasend), and [**WSADuplicateSocket**](/windows/desktop/api/Winsock2/nf-winsock2-wsaduplicatesocketa).</span></span>

 

 
