---
description: La tabella seguente descrive le \_ Opzioni del socket UDP IPPROTO che si applicano ai socket creati per le famiglie di indirizzi IPv4 e IPv6 (AF \_ inet e AF \_ INET6) con il parametro Protocol per la funzione Socket specificata come UDP (UDP IPPROTO \_ ).
ms.assetid: 579448a1-22af-488f-a1f5-97ba69a15524
title: Opzioni socket IPPROTO_UDP
ms.topic: article
ms.date: 10/02/2019
ms.openlocfilehash: 6f1f25ebae34d7db4290ab23bbf799fc0e0b68df
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/22/2021
ms.locfileid: "106327130"
---
# <a name="ipproto_udp-socket-options"></a><span data-ttu-id="fbd4b-103">\_Opzioni socket UDP IPPROTO</span><span class="sxs-lookup"><span data-stu-id="fbd4b-103">IPPROTO\_UDP socket options</span></span>

<span data-ttu-id="fbd4b-104">La tabella seguente descrive le opzioni del socket **\_ UDP IPPROTO** che si applicano ai socket creati per le famiglie di indirizzi IPv4 e IPv6 (AF \_ inet e AF \_ INET6) con il parametro *Protocol* per la funzione [**socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) specificata come UDP (UDP IPPROTO \_ ).</span><span class="sxs-lookup"><span data-stu-id="fbd4b-104">The following table describes **IPPROTO\_UDP** socket options that apply to sockets created for the IPv4 and IPv6 address families (AF\_INET and AF\_INET6) with the *protocol* parameter to the [**socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) function specified as UDP (IPPROTO\_UDP).</span></span> <span data-ttu-id="fbd4b-105">Vedere le pagine di riferimento per le funzioni [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) e [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) per altre informazioni su come ottenere e impostare le opzioni del socket.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-105">See the [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) and [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) function reference pages for more information on getting and setting socket options.</span></span>

<span data-ttu-id="fbd4b-106">Per enumerare i protocolli e individuare le proprietà supportate per ogni protocollo installato, usare la funzione [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols)o [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) .</span><span class="sxs-lookup"><span data-stu-id="fbd4b-106">To enumerate protocols and discover supported properties for each installed protocol, use the [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols), or [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) function.</span></span>

## <a name="options"></a><span data-ttu-id="fbd4b-107">Opzioni</span><span class="sxs-lookup"><span data-stu-id="fbd4b-107">Options</span></span>

| <span data-ttu-id="fbd4b-108">Opzione</span><span class="sxs-lookup"><span data-stu-id="fbd4b-108">Option</span></span> | <span data-ttu-id="fbd4b-109">Recupero</span><span class="sxs-lookup"><span data-stu-id="fbd4b-109">Get</span></span> | <span data-ttu-id="fbd4b-110">Set</span><span class="sxs-lookup"><span data-stu-id="fbd4b-110">Set</span></span> | <span data-ttu-id="fbd4b-111">Tipo optVal</span><span class="sxs-lookup"><span data-stu-id="fbd4b-111">Optval type</span></span> | <span data-ttu-id="fbd4b-112">Descrizione</span><span class="sxs-lookup"><span data-stu-id="fbd4b-112">Description</span></span> |
|-|-|-|-|-|
| <span data-ttu-id="fbd4b-113">\_Copertura checksum UDP \_ (Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="fbd4b-113">UDP\_CHECKSUM\_COVERAGE (ws2tcpip.h)</span></span> | <span data-ttu-id="fbd4b-114">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-114">yes</span></span> | <span data-ttu-id="fbd4b-115">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-115">yes</span></span> | <span data-ttu-id="fbd4b-116">DWORD (booleano)</span><span class="sxs-lookup"><span data-stu-id="fbd4b-116">DWORD (boolean)</span></span> | <span data-ttu-id="fbd4b-117">Se **true**, i datagrammi UDP vengono inviati con un checksum.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-117">When **TRUE**, UDP datagrams are sent with a checksum.</span></span> |
| <span data-ttu-id="fbd4b-118">UDP \_ NoChecksum (Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="fbd4b-118">UDP\_NOCHECKSUM (ws2tcpip.h)</span></span> | <span data-ttu-id="fbd4b-119">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-119">yes</span></span> | <span data-ttu-id="fbd4b-120">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-120">yes</span></span> | <span data-ttu-id="fbd4b-121">DWORD (booleano)</span><span class="sxs-lookup"><span data-stu-id="fbd4b-121">DWORD (boolean)</span></span> | <span data-ttu-id="fbd4b-122">Se è **true**, i datagrammi UDP vengono inviati con il checksum di zero.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-122">When **TRUE**, UDP datagrams are sent with the checksum of zero.</span></span> <span data-ttu-id="fbd4b-123">Obbligatorio per i provider di servizi.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-123">Required for service providers.</span></span> <span data-ttu-id="fbd4b-124">Se un provider di servizi non dispone di un meccanismo per disabilitare il calcolo del checksum UDP, può semplicemente archiviare questa opzione senza eseguire alcuna azione.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-124">If a service provider does not have a mechanism to disable UDP checksum calculation, it may simply store this option without taking any action.</span></span> <span data-ttu-id="fbd4b-125">Questa opzione non è supportata per IPv6.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-125">This option is not supported for IPv6.</span></span> |
| <span data-ttu-id="fbd4b-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef. h; Includi Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="fbd4b-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="fbd4b-127">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-127">yes</span></span> | <span data-ttu-id="fbd4b-128">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-128">yes</span></span> | <span data-ttu-id="fbd4b-129">DWORD</span><span class="sxs-lookup"><span data-stu-id="fbd4b-129">DWORD</span></span> | <span data-ttu-id="fbd4b-130">Quando è impostato su un valore diverso da zero, è possibile che più datagrammi ricevuti vengano uniti in un singolo buffer di messaggi prima di essere indicati per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-130">When set to a non-zero value, multiple received datagrams may be coalesced into a single message buffer before being indicated to your application.</span></span> <span data-ttu-id="fbd4b-131">Il valore dell'opzione rappresenta la dimensione massima in byte dei messaggi che possono essere indicati all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-131">The option value represents the maximum message size in bytes for coalesced messages that can be indicated to your application.</span></span> <span data-ttu-id="fbd4b-132">I messaggi non Uniti di dimensioni maggiori del valore dell'opzione possono comunque essere indicati.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-132">Un-coalesced messages larger than the option value may still be indicated.</span></span> <span data-ttu-id="fbd4b-133">Il valore predefinito è 0 (nessuna Unione).</span><span class="sxs-lookup"><span data-stu-id="fbd4b-133">The default value is 0 (no coalescing).</span></span> <span data-ttu-id="fbd4b-134">I datagrammi verranno uniti solo se originati dallo stesso indirizzo di origine e dalla stessa porta.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-134">Datagrams will only be coalesced if they originated from the same source address and port.</span></span> <span data-ttu-id="fbd4b-135">Tutti i datagrammi Uniti saranno della stessa dimensione &mdash; , ad eccezione dell'ultimo datagramma, che può essere minore.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-135">All datagrams coalesced will be of the same size&mdash;except the last datagram, which may be smaller.</span></span> <span data-ttu-id="fbd4b-136">Se l'applicazione desidera recuperare le dimensioni del datagramma (ad eccezione dell'ultimo datagramma, che può variare), è necessario utilizzare un'API di ricezione che supporti le informazioni di controllo (ad esempio [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span><span class="sxs-lookup"><span data-stu-id="fbd4b-136">If your application wants to retrieve the datagram sizes (except the last datagram, which may differ) that were coalesced, you must use a receive API that supports control information (such as [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span></span> <span data-ttu-id="fbd4b-137">La dimensione di tutto tranne l'ultimo messaggio è reperibile nel messaggio di controllo **UDP_COALESCED_INFO** , che è di tipo DWORD.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-137">The size of all but the last message can be found in the **UDP_COALESCED_INFO** control message, which is of type DWORD.</span></span> <span data-ttu-id="fbd4b-138">Per l'indipendenza dai tipi, l'applicazione deve usare le funzioni [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) e [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) anziché l'opzione socket direttamente.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-138">For type safety, your application should use the [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) and [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) functions instead of the socket option directly.</span></span> |
| <span data-ttu-id="fbd4b-139">UDP_SEND_MSG_SIZE (ws2ipdef. h; Includi Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="fbd4b-139">UDP_SEND_MSG_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="fbd4b-140">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-140">yes</span></span> | <span data-ttu-id="fbd4b-141">sì</span><span class="sxs-lookup"><span data-stu-id="fbd4b-141">yes</span></span> | <span data-ttu-id="fbd4b-142">DWORD</span><span class="sxs-lookup"><span data-stu-id="fbd4b-142">DWORD</span></span> | <span data-ttu-id="fbd4b-143">Quando è impostato su un valore diverso da zero, i buffer inviati dall'applicazione vengono suddivisi in più messaggi dallo stack di rete.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-143">When set to a non-zero value, buffers sent by your application are broken down into multiple messages by the networking stack.</span></span> <span data-ttu-id="fbd4b-144">Il valore dell'opzione rappresenta le dimensioni di ogni messaggio suddiviso.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-144">The option value represents the size of each broken-down message.</span></span> <span data-ttu-id="fbd4b-145">Il valore dell'opzione è rappresentato in byte.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-145">The option value is represented in bytes.</span></span> <span data-ttu-id="fbd4b-146">Le dimensioni dell'ultimo segmento possono essere minori del valore dell'opzione.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-146">The last segment's size may be less than the value of the option.</span></span> <span data-ttu-id="fbd4b-147">Il valore predefinito è 0 (Nessuna segmentazione).</span><span class="sxs-lookup"><span data-stu-id="fbd4b-147">The default value is 0 (no segmentation).</span></span> <span data-ttu-id="fbd4b-148">L'applicazione deve impostare un valore inferiore rispetto alla MTU del percorso delle destinazioni per evitare la frammentazione IP.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-148">Your application should set a value that is lower than the MTU of the path to the destination(s) in order to avoid IP fragmentation.</span></span> <span data-ttu-id="fbd4b-149">Per l'indipendenza dai tipi, l'applicazione deve usare le funzioni [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) e [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) anziché l'opzione socket direttamente.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-149">For type safety, your application should use the [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) and [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) functions instead of the socket option directly.</span></span> |

## <a name="legacy-windows-support-for-ipproto_udp-options"></a><span data-ttu-id="fbd4b-150">Supporto di Windows legacy per le \_ Opzioni UDP di IPPROTO</span><span class="sxs-lookup"><span data-stu-id="fbd4b-150">Legacy Windows support for IPPROTO\_UDP options</span></span>

<span data-ttu-id="fbd4b-151">**UDP \_ Il \_ code coverage** non è disponibile in Windows 2000 e Windows NT4.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-151">**UDP\_CHECKSUM\_COVERAGE** is unavailable on Windows 2000 and on Windows NT4.</span></span> <span data-ttu-id="fbd4b-152">**UDP \_ Il \_ code coverage e UDP NOchecksum** non sono disponibili in Windows 9x/Me. **\_**</span><span class="sxs-lookup"><span data-stu-id="fbd4b-152">**UDP\_CHECKSUM\_COVERAGE** and **UDP\_NOCHECKSUM** are unavailable on Windows 9x/Me.</span></span> 

## <a name="remarks"></a><span data-ttu-id="fbd4b-153">Commenti</span><span class="sxs-lookup"><span data-stu-id="fbd4b-153">Remarks</span></span>

<span data-ttu-id="fbd4b-154">In Microsoft Windows Software Development Kit (SDK) rilasciato per Windows Vista e versioni successive, l'organizzazione dei file di intestazione è stata modificata e il livello **\_ UDP IPPROTO** è definito nel file di intestazione *Ws2def. h* , che viene automaticamente incluso nel file di intestazione *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="fbd4b-154">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and **IPPROTO\_UDP** level is defined in the *Ws2def.h* header file which is automatically included in the *Winsock2.h* header file.</span></span> <span data-ttu-id="fbd4b-155">Le opzioni del socket **\_ UDP IPPROTO** sono definite nel file di intestazione *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="fbd4b-155">The **IPPROTO\_UDP** socket options are defined in the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="fbd4b-156">Il file di intestazione *Ws2def. h* non deve mai essere utilizzato direttamente.</span><span class="sxs-lookup"><span data-stu-id="fbd4b-156">The *Ws2def.h* header file should never be used directly.</span></span>

## <a name="requirements"></a><span data-ttu-id="fbd4b-157">Requisiti</span><span class="sxs-lookup"><span data-stu-id="fbd4b-157">Requirements</span></span>

| <span data-ttu-id="fbd4b-158">Requisito</span><span class="sxs-lookup"><span data-stu-id="fbd4b-158">Requirement</span></span> | <span data-ttu-id="fbd4b-159">Valore</span><span class="sxs-lookup"><span data-stu-id="fbd4b-159">Value</span></span> |
|-|-|
| <span data-ttu-id="fbd4b-160">Intestazione</span><span class="sxs-lookup"><span data-stu-id="fbd4b-160">Header</span></span><br/> | <dl> <span data-ttu-id="fbd4b-161"><dt>ws2ipdef. h (include Ws2tcpip. h) e Ws2tcpip. h</dt> <dt>Winsock2. h in Windows Server 2003, Windows XP e Windows 2000</dt></span><span class="sxs-lookup"><span data-stu-id="fbd4b-161"><dt>ws2ipdef.h (include ws2tcpip.h), and ws2tcpip.h</dt> <dt>Winsock2.h on Windows Server 2003, Windows XP, and Windows 2000</dt></span></span> </dl> |
