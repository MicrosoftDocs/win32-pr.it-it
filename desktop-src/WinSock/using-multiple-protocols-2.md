---
description: Un'applicazione utilizza la funzione WSAEnumProtocols per determinare quali protocolli di trasporto e catene di protocolli sono presenti e per ottenere informazioni su ciascuno di essi come contenuto nella \_ struttura di informazioni WSAPROTOCOL associata.
ms.assetid: 4f38cb07-d824-4d43-abd8-89d58dc15810
title: Uso di più protocolli
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ab9a37dcc90f1094126f701641539dd3f26a1a3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104129111"
---
# <a name="using-multiple-protocols"></a><span data-ttu-id="9ef36-103">Uso di più protocolli</span><span class="sxs-lookup"><span data-stu-id="9ef36-103">Using Multiple Protocols</span></span>

<span data-ttu-id="9ef36-104">Un'applicazione utilizza la funzione [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) per determinare quali protocolli di trasporto e catene di protocolli sono presenti e per ottenere informazioni su ciascuno di essi come contenuto nella struttura di [**\_ informazioni WSAPROTOCOL**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) associata.</span><span class="sxs-lookup"><span data-stu-id="9ef36-104">An application uses the [**WSAEnumProtocols**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumprotocolsa) function to determine which transport protocols and protocol chains are present, and to obtain information about each as contained in the associated [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure.</span></span>

<span data-ttu-id="9ef36-105">Nella maggior parte dei casi esiste una singola struttura di [**\_ informazioni WSAPROTOCOL**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) per ogni protocollo o catena di protocolli.</span><span class="sxs-lookup"><span data-stu-id="9ef36-105">In most instances, there is a single [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure for each protocol or protocol chain.</span></span> <span data-ttu-id="9ef36-106">Tuttavia, alcuni protocolli presentano più comportamenti.</span><span class="sxs-lookup"><span data-stu-id="9ef36-106">However, some protocols exhibit multiple behaviors.</span></span> <span data-ttu-id="9ef36-107">Il protocollo SPX, ad esempio, è orientato ai messaggi, ovvero i limiti dei messaggi del mittente vengono conservati dalla rete, ma il Socket ricevente può ignorare questi limiti dei messaggi e considerarli come un flusso di byte.</span><span class="sxs-lookup"><span data-stu-id="9ef36-107">For example, the SPX protocol is message oriented (that is, the sender's message boundaries are preserved by the network), but the receiving socket can ignore these message boundaries and treat them as a byte stream.</span></span> <span data-ttu-id="9ef36-108">Pertanto, per SPX possono esistere due diverse voci della struttura di **\_ informazioni WSAPROTOCOL** , una per ogni comportamento.</span><span class="sxs-lookup"><span data-stu-id="9ef36-108">Thus, two different **WSAPROTOCOL\_INFO** structure entries could exist for SPX—one for each behavior.</span></span>

<span data-ttu-id="9ef36-109">In Windows Sockets 2 sono visualizzati diversi nuovi valori di famiglia di indirizzi, tipo di socket e protocollo.</span><span class="sxs-lookup"><span data-stu-id="9ef36-109">In Windows Sockets 2, several new address family, socket type, and protocol values appear.</span></span> <span data-ttu-id="9ef36-110">Windows Sockets 1,1 supportava una famiglia di indirizzi singolo (AF \_ inet) per IPv4 costituito da un numero ridotto di tipi di socket noti e identificatori di protocollo.</span><span class="sxs-lookup"><span data-stu-id="9ef36-110">Windows Sockets 1.1 supported a single address family (AF\_INET) for IPv4 that consisted of a small number of well-known socket types and protocol identifiers.</span></span> <span data-ttu-id="9ef36-111">Windows Sockets 2 mantiene la famiglia di indirizzi, il tipo di socket e gli identificatori di protocollo esistenti per motivi di compatibilità, ma supporta anche i nuovi valori della famiglia di indirizzi per i nuovi protocolli di trasporto con nuovi tipi di supporto.</span><span class="sxs-lookup"><span data-stu-id="9ef36-111">Windows Sockets 2 retains the existing address family, socket type, and protocol identifiers for compatibility reasons, but it also supports new address family values for new transport protocols with new media types.</span></span>

<span data-ttu-id="9ef36-112">I nuovi identificatori univoci non sono necessariamente noti, ma questo non dovrebbe rappresentare un problema.</span><span class="sxs-lookup"><span data-stu-id="9ef36-112">New, unique identifiers are not necessarily well known, but this should not pose a problem.</span></span> <span data-ttu-id="9ef36-113">Le applicazioni che devono essere indipendenti dal protocollo sono consigliate per selezionare un protocollo in base alla relativa idoneità anziché ai valori assegnati al *\_ tipo di socket* o ai parametri del *protocollo* .</span><span class="sxs-lookup"><span data-stu-id="9ef36-113">Applications that need to be protocol-independent are encouraged to select a protocol on the basis of its suitability rather than the values assigned to their *socket\_type* or *protocol* parameters.</span></span> <span data-ttu-id="9ef36-114">L'idoneità del protocollo è indicata dagli attributi di comunicazione, ad esempio il flusso di messaggi e di byte e da quelli affidabili, che sono contenuti nella struttura del protocollo [**WSAPROTOCOL \_ info**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) .</span><span class="sxs-lookup"><span data-stu-id="9ef36-114">Protocol suitability is indicated by the communications attributes, such as message-versus-byte stream, and reliable-versus-unreliable, that are contained in the protocol [**WSAPROTOCOL\_INFO**](/windows/win32/api/winsock2/ns-winsock2-wsaprotocol_infoa) structure.</span></span> <span data-ttu-id="9ef36-115">Se si selezionano i protocolli sulla base dell'idoneità, anziché i nomi di protocollo noti e i tipi di socket, le applicazioni indipendenti dal protocollo possono sfruttare i nuovi protocolli di trasporto e i tipi di supporto associati, man mano che diventano disponibili.</span><span class="sxs-lookup"><span data-stu-id="9ef36-115">Selecting protocols on the basis of suitability as opposed to well-known protocol names and socket types lets protocol-independent applications take advantage of new transport protocols and their associated media types, as they become available.</span></span>

<span data-ttu-id="9ef36-116">La metà del server di un'applicazione client/server si avvale stabilendo socket in ascolto su tutti i protocolli di trasporto appropriati.</span><span class="sxs-lookup"><span data-stu-id="9ef36-116">The server half of a client/server application benefits by establishing listening sockets on all suitable transport protocols.</span></span> <span data-ttu-id="9ef36-117">Il client può quindi stabilire la connessione utilizzando un protocollo appropriato.</span><span class="sxs-lookup"><span data-stu-id="9ef36-117">Then, the client can establish its connection using any suitable protocol.</span></span> <span data-ttu-id="9ef36-118">Questo consente, ad esempio, a un'applicazione client di non essere modificata se era in esecuzione su un sistema desktop connesso tramite LAN o su un computer portatile tramite una rete wireless.</span><span class="sxs-lookup"><span data-stu-id="9ef36-118">For example, this would let a client application be unmodified whether it was running on a desktop system connected through LAN or on a laptop using a wireless network.</span></span>

 

 
