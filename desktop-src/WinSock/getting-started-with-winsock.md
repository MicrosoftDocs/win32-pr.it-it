---
description: Di seguito è riportata una guida dettagliata per iniziare a usare la programmazione Windows Sockets.
ms.assetid: 905cd5bc-44af-4d3f-841a-9e9a2700a785
title: Introduzione con Winsock
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 43751663a637fafb2eec453a48c329ff8e4499f2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306957"
---
# <a name="getting-started-with-winsock"></a><span data-ttu-id="58bed-103">Introduzione con Winsock</span><span class="sxs-lookup"><span data-stu-id="58bed-103">Getting Started with Winsock</span></span>

<span data-ttu-id="58bed-104">Di seguito è riportata una guida dettagliata per iniziare a usare la programmazione Windows Sockets.</span><span class="sxs-lookup"><span data-stu-id="58bed-104">The following is a step-by-step guide to getting started with Windows Sockets programming.</span></span> <span data-ttu-id="58bed-105">È progettato per fornire informazioni sulle funzioni e sulle strutture di dati di base di Winsock e sul modo in cui interagiscono.</span><span class="sxs-lookup"><span data-stu-id="58bed-105">It is designed to provide an understanding of basic Winsock functions and data structures, and how they work together.</span></span>

<span data-ttu-id="58bed-106">L'applicazione client e Server usata per l'illustrazione è un client e un server molto semplici.</span><span class="sxs-lookup"><span data-stu-id="58bed-106">The client and server application that is used for illustration is a very basic client and server.</span></span> <span data-ttu-id="58bed-107">Negli esempi inclusi nel Software Development Kit (SDK) di Microsoft Windows sono inclusi esempi di codice più avanzati.</span><span class="sxs-lookup"><span data-stu-id="58bed-107">More advanced code examples are included in the samples included with the Microsoft Windows Software Development Kit (SDK).</span></span>

<span data-ttu-id="58bed-108">I primi passaggi sono gli stessi per le applicazioni client e server.</span><span class="sxs-lookup"><span data-stu-id="58bed-108">The first few steps are the same for both client and server applications.</span></span>

-   [<span data-ttu-id="58bed-109">Informazioni su server e client</span><span class="sxs-lookup"><span data-stu-id="58bed-109">About Servers and Clients</span></span>](about-clients-and-servers.md)
-   [<span data-ttu-id="58bed-110">Creazione di un'applicazione Winsock di base</span><span class="sxs-lookup"><span data-stu-id="58bed-110">Creating a Basic Winsock Application</span></span>](creating-a-basic-winsock-application.md)
-   [<span data-ttu-id="58bed-111">Inizializzazione di Winsock</span><span class="sxs-lookup"><span data-stu-id="58bed-111">Initializing Winsock</span></span>](initializing-winsock.md)

<span data-ttu-id="58bed-112">Nelle sezioni seguenti vengono descritti i passaggi rimanenti per la creazione di un'applicazione client Winsock.</span><span class="sxs-lookup"><span data-stu-id="58bed-112">The following sections describe the remaining steps for creating a Winsock client application.</span></span>

-   [<span data-ttu-id="58bed-113">Creazione di un socket per il client</span><span class="sxs-lookup"><span data-stu-id="58bed-113">Creating a Socket for the Client</span></span>](creating-a-socket-for-the-client.md)
-   [<span data-ttu-id="58bed-114">Connessione a un socket</span><span class="sxs-lookup"><span data-stu-id="58bed-114">Connecting to a Socket</span></span>](connecting-to-a-socket.md)
-   [<span data-ttu-id="58bed-115">Invio e ricezione di dati sul client</span><span class="sxs-lookup"><span data-stu-id="58bed-115">Sending and Receiving Data on the Client</span></span>](sending-and-receiving-data-on-the-client.md)
-   [<span data-ttu-id="58bed-116">Disconnessione del client</span><span class="sxs-lookup"><span data-stu-id="58bed-116">Disconnecting the Client</span></span>](disconnecting-the-client.md)

<span data-ttu-id="58bed-117">Nelle sezioni seguenti vengono descritti i passaggi rimanenti per la creazione di un'applicazione server Winsock.</span><span class="sxs-lookup"><span data-stu-id="58bed-117">The following sections describe the remaining steps for creating a Winsock server application.</span></span>

-   [<span data-ttu-id="58bed-118">Creazione di un socket per il server</span><span class="sxs-lookup"><span data-stu-id="58bed-118">Creating a Socket for the Server</span></span>](creating-a-socket-for-the-server.md)
-   [<span data-ttu-id="58bed-119">Associazione di un socket</span><span class="sxs-lookup"><span data-stu-id="58bed-119">Binding a Socket</span></span>](binding-a-socket.md)
-   [<span data-ttu-id="58bed-120">Ascolto su un socket</span><span class="sxs-lookup"><span data-stu-id="58bed-120">Listening on a Socket</span></span>](listening-on-a-socket.md)
-   [<span data-ttu-id="58bed-121">Accettazione di una connessione</span><span class="sxs-lookup"><span data-stu-id="58bed-121">Accepting a Connection</span></span>](accepting-a-connection.md)
-   [<span data-ttu-id="58bed-122">Ricezione e invio di dati sul server</span><span class="sxs-lookup"><span data-stu-id="58bed-122">Receiving and Sending Data on the Server</span></span>](receiving-and-sending-data-on-the-server.md)
-   [<span data-ttu-id="58bed-123">Disconnessione del server</span><span class="sxs-lookup"><span data-stu-id="58bed-123">Disconnecting the Server</span></span>](disconnecting-the-server.md)

<span data-ttu-id="58bed-124">Il codice sorgente completo per questi esempi di base.</span><span class="sxs-lookup"><span data-stu-id="58bed-124">The complete source code for these basic examples.</span></span>

-   [<span data-ttu-id="58bed-125">Esecuzione dell'esempio di codice server e client Winsock</span><span class="sxs-lookup"><span data-stu-id="58bed-125">Running the Winsock Client and Server Code Sample</span></span>](finished-server-and-client-code.md)
-   [<span data-ttu-id="58bed-126">Codice client Winsock completo</span><span class="sxs-lookup"><span data-stu-id="58bed-126">Complete Winsock Client Code</span></span>](complete-client-code.md)
-   [<span data-ttu-id="58bed-127">Codice server Winsock completo</span><span class="sxs-lookup"><span data-stu-id="58bed-127">Complete Winsock Server Code</span></span>](complete-server-code.md)

## <a name="advanced-winsock-samples"></a><span data-ttu-id="58bed-128">Esempi avanzati di Winsock</span><span class="sxs-lookup"><span data-stu-id="58bed-128">Advanced Winsock Samples</span></span>

<span data-ttu-id="58bed-129">Con il Windows SDK sono inclusi diversi esempi di client e server Winsock più avanzati.</span><span class="sxs-lookup"><span data-stu-id="58bed-129">Several more advanced Winsock client and server samples are included with the Windows SDK.</span></span> <span data-ttu-id="58bed-130">Per impostazione predefinita, il codice sorgente di esempio Winsock viene installato nella directory seguente dalla Windows SDK per Windows 7:</span><span class="sxs-lookup"><span data-stu-id="58bed-130">By default, the Winsock sample source code is installed in the following directory by the Windows SDK for Windows 7:</span></span>

<span data-ttu-id="58bed-131">*C: \\ programmi \\ Microsoft SDK \\ Windows \\ v 7.0 \\ esempi \\ NetDs \\ Winsock*</span><span class="sxs-lookup"><span data-stu-id="58bed-131">*C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0\\Samples\\NetDs\\winsock*</span></span>

<span data-ttu-id="58bed-132">Nelle versioni precedenti del Windows SDK, il numero di versione nel percorso precedente verrebbe modificato.</span><span class="sxs-lookup"><span data-stu-id="58bed-132">On earlier versions of the Windows SDK, the version number in the above path would change.</span></span> <span data-ttu-id="58bed-133">Ad esempio, il codice sorgente di esempio Winsock viene installato nella directory predefinita seguente dalla Windows SDK per Windows Vista</span><span class="sxs-lookup"><span data-stu-id="58bed-133">For example, the Winsock sample source code is installed in the following default directory by the Windows SDK for Windows Vista</span></span>

<span data-ttu-id="58bed-134">*C: \\ programmi \\ Microsoft SDK \\ Windows \\ v 6.0 \\ esempi \\ NetDs \\ Winsock*</span><span class="sxs-lookup"><span data-stu-id="58bed-134">*C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0\\Samples\\NetDs\\winsock*</span></span>

<span data-ttu-id="58bed-135">Gli esempi più avanzati elencati di seguito in ordine da prestazioni superiori a quelle più basse sono disponibili nelle directory seguenti:</span><span class="sxs-lookup"><span data-stu-id="58bed-135">The more advanced samples listed below in order from higher to lower performance are found in the following directories:</span></span>

-   <span data-ttu-id="58bed-136">IOCP</span><span class="sxs-lookup"><span data-stu-id="58bed-136">iocp</span></span>

    <span data-ttu-id="58bed-137">Questa directory contiene tre programmi di esempio che utilizzano le porte di completamento I/O.</span><span class="sxs-lookup"><span data-stu-id="58bed-137">This directory contains three sample programs that use I/O completion ports.</span></span> <span data-ttu-id="58bed-138">I programmi includono un server Winsock (iocpserver) che usa la funzione [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept) , un server Winsock (iocpserverex) che usa la funzione [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) e un client Winsock con multithreading semplice (iocpclient) usato per testare uno di questi server.</span><span class="sxs-lookup"><span data-stu-id="58bed-138">The programs include a Winsock server (iocpserver) that uses the [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept) function, a Winsock server (iocpserverex) that uses the [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) function, and a simple multithreaded Winsock client (iocpclient) used to test either of these servers.</span></span> <span data-ttu-id="58bed-139">I programmi server supportano più client che si connettono tramite TCP/IP e inviano buffer di dati di dimensioni arbitrari che il server restituisce al client.</span><span class="sxs-lookup"><span data-stu-id="58bed-139">The server programs support multiple clients connecting via TCP/IP and sending arbitrary sized data buffers which the server then echoes back to the client.</span></span> <span data-ttu-id="58bed-140">Per praticità, è stato sviluppato un semplice programma client, iocpclient, per connettersi e inviare continuamente i dati al server per sottolinearli con più thread.</span><span class="sxs-lookup"><span data-stu-id="58bed-140">For convenience, a simple client program, iocpclient, was developed to connect and continually send data to the server to stress it using multiple threads.</span></span> <span data-ttu-id="58bed-141">I server Winsock che utilizzano le porte di completamento I/O offrono la funzionalità di prestazioni più elevate.</span><span class="sxs-lookup"><span data-stu-id="58bed-141">Winsock servers that use I/O completion ports provide the most performance capability.</span></span>

-   <span data-ttu-id="58bed-142">sovrapposizione</span><span class="sxs-lookup"><span data-stu-id="58bed-142">overlap</span></span>

    <span data-ttu-id="58bed-143">Questa directory contiene un programma server di esempio che usa l'I/O sovrapposto.</span><span class="sxs-lookup"><span data-stu-id="58bed-143">This directory contains a sample server program that uses overlapped I/O.</span></span> <span data-ttu-id="58bed-144">Il programma di esempio utilizza la funzione [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) e l'i/O sovrapposto per gestire più richieste di connessione asincrone dai client in modo efficace.</span><span class="sxs-lookup"><span data-stu-id="58bed-144">The sample program uses the [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) function and overlapped I/O to handle multiple asynchronous connection requests from clients effectively.</span></span> <span data-ttu-id="58bed-145">Il server utilizza la funzione **AcceptEx** per eseguire il multiplexing di connessioni client diverse in un'applicazione Win32 a thread singolo.</span><span class="sxs-lookup"><span data-stu-id="58bed-145">The server uses the **AcceptEx** function to multiplex different client connections in a single-threaded Win32 application.</span></span> <span data-ttu-id="58bed-146">L'utilizzo di I/O sovrapposti consente una maggiore scalabilità.</span><span class="sxs-lookup"><span data-stu-id="58bed-146">Using overlapped I/O allows for greater scalability.</span></span>

-   <span data-ttu-id="58bed-147">WSAPoll</span><span class="sxs-lookup"><span data-stu-id="58bed-147">WSAPoll</span></span>

    <span data-ttu-id="58bed-148">Questa directory contiene un programma di esempio di base che illustra l'uso della funzione [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) .</span><span class="sxs-lookup"><span data-stu-id="58bed-148">This directory contains a basic sample program that demonstrates the use of the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="58bed-149">Il programma client e server combinato non è bloccato e utilizza la funzione **WSAPoll** per determinare quando è possibile inviare o ricevere senza blocco.</span><span class="sxs-lookup"><span data-stu-id="58bed-149">The combined client and server program are non-blocking and use the **WSAPoll** function to determine when it is possible to send or receive without blocking.</span></span> <span data-ttu-id="58bed-150">Questo esempio è più per illustrazione e non è un server a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="58bed-150">This sample is more for illustration and is not a high-performance server.</span></span>

-   <span data-ttu-id="58bed-151">simple</span><span class="sxs-lookup"><span data-stu-id="58bed-151">simple</span></span>

    <span data-ttu-id="58bed-152">Questa directory contiene tre programmi di esempio di base che illustrano l'utilizzo di più thread da parte di un server.</span><span class="sxs-lookup"><span data-stu-id="58bed-152">This directory contains three basic sample programs that demonstrate the use of multiple threads by a server.</span></span> <span data-ttu-id="58bed-153">I programmi includono un semplice server TCP/UDP (semplici), un server solo TCP (Simple \_ IOCTL) che usa la funzione [**SELECT**](/windows/desktop/api/Winsock2/nf-winsock2-select) in un'applicazione console Win32 per supportare più richieste client e un programma TCP/UDP client (SIMPLEC) per il test dei server.</span><span class="sxs-lookup"><span data-stu-id="58bed-153">The programs include a simple TCP/UDP server (simples), a TCP-only server (simples\_ioctl) that uses the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function in a Win32 console application to support multiple client requests, and a client TCP/UDP program (simplec) for testing the servers.</span></span> <span data-ttu-id="58bed-154">Nei server viene illustrato l'utilizzo di più thread per gestire più richieste client.</span><span class="sxs-lookup"><span data-stu-id="58bed-154">The servers demonstrates the use of multiple threads to handle multiple client requests.</span></span> <span data-ttu-id="58bed-155">Questo metodo presenta problemi di scalabilità, poiché viene creato un thread separato per ogni richiesta del client.</span><span class="sxs-lookup"><span data-stu-id="58bed-155">This method has scalability issues since a separate thread is created for each client request.</span></span>

-   <span data-ttu-id="58bed-156">accettare</span><span class="sxs-lookup"><span data-stu-id="58bed-156">accept</span></span>

    <span data-ttu-id="58bed-157">Questa directory contiene un programma client e un server di esempio di base.</span><span class="sxs-lookup"><span data-stu-id="58bed-157">This directory contains a basic sample server and client program.</span></span> <span data-ttu-id="58bed-158">Il server illustra l'uso di Accept non di blocco mediante la funzione [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) o l'accettazione asincrona mediante la funzione [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) .</span><span class="sxs-lookup"><span data-stu-id="58bed-158">The server demonstrates the use of either non-blocking accept using the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function or asynchronous accept using the [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) function.</span></span> <span data-ttu-id="58bed-159">Questo esempio è più per illustrazione e non è un server a prestazioni elevate.</span><span class="sxs-lookup"><span data-stu-id="58bed-159">This sample is more for illustration and is not a high-performance server.</span></span>

 

 
