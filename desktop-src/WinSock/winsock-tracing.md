---
description: Traccia Winsock
ms.assetid: 0c430fc2-28e7-4537-a887-4c36d24fedee
title: Traccia Winsock
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 803be6220d4d2d440811033786b0f043fab0ff9d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306876"
---
# <a name="winsock-tracing"></a><span data-ttu-id="4beaf-103">Traccia Winsock</span><span class="sxs-lookup"><span data-stu-id="4beaf-103">Winsock Tracing</span></span>

## <a name="introduction"></a><span data-ttu-id="4beaf-104">Introduzione</span><span class="sxs-lookup"><span data-stu-id="4beaf-104">Introduction</span></span>

<span data-ttu-id="4beaf-105">La traccia Winsock è una funzionalità di risoluzione dei problemi che può essere abilitata nei file binari finali per tracciare alcuni eventi socket di Windows con un sovraccarico minimo.</span><span class="sxs-lookup"><span data-stu-id="4beaf-105">Winsock tracing is a troubleshooting feature that can be enabled in retail binaries to trace certain Windows socket events with minimal overhead.</span></span> <span data-ttu-id="4beaf-106">L'obiettivo di aggiungere la traccia al dettaglio a Windows Sockets è quello di consentire migliori funzionalità di diagnostica per gli sviluppatori e il supporto del prodotto.</span><span class="sxs-lookup"><span data-stu-id="4beaf-106">The goal of adding retail tracing to Windows Sockets is to allow for better diagnostic capabilities for developers and product support.</span></span> <span data-ttu-id="4beaf-107">La traccia eventi di rete Winsock supporta la traccia di operazioni socket per le applicazioni IPv4 e IPv6.</span><span class="sxs-lookup"><span data-stu-id="4beaf-107">Winsock network event tracing supports tracing socket operations for IPv4 and IPv6 applications.</span></span> <span data-ttu-id="4beaf-108">La traccia delle modifiche del catalogo Winsock supporta la traccia delle modifiche apportate al catalogo Winsock dai provider di servizi a più livelli (LSP).</span><span class="sxs-lookup"><span data-stu-id="4beaf-108">Winsock catalog change tracing supports tracing changes made to the Winsock catalog by layered service providers (LSPs).</span></span> <span data-ttu-id="4beaf-109">La traccia Winsock è supportata in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="4beaf-109">Winsock tracing is supported on Windows Vista and later.</span></span>

> [!Note]  
> <span data-ttu-id="4beaf-110">I provider di servizi sovrapposti sono deprecati.</span><span class="sxs-lookup"><span data-stu-id="4beaf-110">Layered Service Providers are deprecated.</span></span> <span data-ttu-id="4beaf-111">A partire da Windows 8 e Windows Server 2012, usare la [piattaforma filtro Windows](../fwp/windows-filtering-platform-start-page.md).</span><span class="sxs-lookup"><span data-stu-id="4beaf-111">Starting with Windows 8 and Windows Server 2012, use [Windows Filtering Platform](../fwp/windows-filtering-platform-start-page.md).</span></span>

 

<span data-ttu-id="4beaf-112">Quando si verifica un errore imprevisto in un socket, l'indizio principale per diagnosticare il problema è il codice di errore restituito.</span><span class="sxs-lookup"><span data-stu-id="4beaf-112">When an unexpected error occurs on a socket, the main clue to diagnose the problem is the error code returned.</span></span> <span data-ttu-id="4beaf-113">Molto spesso, il codice di errore restituito non spiega perché si è verificato l'errore, soprattutto quando l'errore viene avviato dal trasporto di rete sottostante.</span><span class="sxs-lookup"><span data-stu-id="4beaf-113">Very often, the returned error code does not explain why the error happened, especially when the error is initiated by the underlying network transport.</span></span> <span data-ttu-id="4beaf-114">La traccia Winsock fornisce un livello di traccia più dettagliato che consente di registrare informazioni aggiuntive per rilevare il danneggiamento del buffer e le applicazioni scritte in modo non corretto.</span><span class="sxs-lookup"><span data-stu-id="4beaf-114">Winsock tracing provides a more verbose tracing level which can log additional information to catch buffer corruption and poorly written applications.</span></span>

<span data-ttu-id="4beaf-115">La traccia Winsock utilizza Event Tracing for Windows (ETW), una funzionalità di traccia a utilizzo generale e ad alta velocità fornita dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="4beaf-115">Winsock tracing uses Event Tracing for Windows (ETW), a general-purpose, high-speed tracing facility provided by the operating system.</span></span> <span data-ttu-id="4beaf-116">Utilizzando un meccanismo di memorizzazione nel buffer e di registrazione implementato nel kernel, ETW fornisce un meccanismo di traccia per gli eventi generati da applicazioni in modalità utente e driver di dispositivo in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="4beaf-116">Using a buffering and logging mechanism implemented in the kernel, ETW provides a tracing mechanism for events raised by both user-mode applications and kernel-mode device drivers.</span></span> <span data-ttu-id="4beaf-117">Inoltre, ETW offre la possibilità di abilitare e disabilitare la registrazione in modo dinamico, semplificando l'esecuzione di analisi dettagliate in ambienti di produzione senza richiedere riavvii o riavvii di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="4beaf-117">Additionally, ETW gives you the ability to enable and disable logging dynamically, making it easy to perform detailed tracing in production environments without requiring reboots or application restarts.</span></span> <span data-ttu-id="4beaf-118">Il meccanismo di registrazione utilizza buffer che vengono scritti su disco da un thread del writer asincrono.</span><span class="sxs-lookup"><span data-stu-id="4beaf-118">The logging mechanism uses buffers that are written to disk by an asynchronous writer thread.</span></span> <span data-ttu-id="4beaf-119">Questo consente alle applicazioni server su larga scala di scrivere eventi con un disturbo minimo.</span><span class="sxs-lookup"><span data-stu-id="4beaf-119">This allows large-scale server applications to write events with minimum disturbance.</span></span> <span data-ttu-id="4beaf-120">ETW è stato introdotto per la prima volta in Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="4beaf-120">ETW was first introduced on Windows 2000.</span></span> <span data-ttu-id="4beaf-121">Il supporto per la traccia Winsock mediante ETW è stato aggiunto in Windows Vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="4beaf-121">Support for Winsock tracing using ETW was added on Windows Vista and later.</span></span> <span data-ttu-id="4beaf-122">Per informazioni generali su ETW, vedere [migliorare il debug e l'ottimizzazione delle prestazioni con ETW](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw).</span><span class="sxs-lookup"><span data-stu-id="4beaf-122">For general information on ETW, see [Improve Debugging And Performance Tuning With ETW](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw).</span></span>

<span data-ttu-id="4beaf-123">La traccia Winsock può essere abilitata solo a livello di sistema operativo per tutti i processi e i thread in esecuzione in un computer.</span><span class="sxs-lookup"><span data-stu-id="4beaf-123">Winsock tracing can only be enabled at the operating system level for all processes and threads running on a computer.</span></span> <span data-ttu-id="4beaf-124">Attualmente non è possibile abilitare la traccia Winsock solo per un singolo processo o thread.</span><span class="sxs-lookup"><span data-stu-id="4beaf-124">Winsock tracing currently cannot be enabled for just a single process or thread.</span></span> <span data-ttu-id="4beaf-125">Quando la traccia degli eventi di rete Winsock è abilitata, vengono tracciate tutte le applicazioni socket (sia IPv4 che IPv6) in un computer.</span><span class="sxs-lookup"><span data-stu-id="4beaf-125">When Winsock network event tracing is enabled, all socket applications (both IPv4 and IPv6) on a computer are traced.</span></span>

<span data-ttu-id="4beaf-126">Gli argomenti seguenti descrivono la traccia Winsock in modo più dettagliato:</span><span class="sxs-lookup"><span data-stu-id="4beaf-126">The following topics describe Winsock tracing in more detail:</span></span>

-   [<span data-ttu-id="4beaf-127">Livelli di traccia Winsock</span><span class="sxs-lookup"><span data-stu-id="4beaf-127">Winsock Tracing Levels</span></span>](winsock-tracing-levels.md)
-   [<span data-ttu-id="4beaf-128">Controllo della traccia Winsock</span><span class="sxs-lookup"><span data-stu-id="4beaf-128">Control of Winsock Tracing</span></span>](control-of-winsock-tracing.md)
-   [<span data-ttu-id="4beaf-129">Dettagli traccia eventi di rete Winsock</span><span class="sxs-lookup"><span data-stu-id="4beaf-129">Winsock Network Event Tracing Details</span></span>](winsock-tracing-event-details.md)
-   [<span data-ttu-id="4beaf-130">Dettagli della traccia delle modifiche del catalogo Winsock</span><span class="sxs-lookup"><span data-stu-id="4beaf-130">Winsock Catalog Change Tracing Details</span></span>](winsock-layered-service-provider-tracing-event-details.md)

## <a name="related-topics"></a><span data-ttu-id="4beaf-131">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="4beaf-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4beaf-132">Migliorare il debug e la regolazione delle prestazioni con ETW</span><span class="sxs-lookup"><span data-stu-id="4beaf-132">Improve Debugging And Performance Tuning With ETW</span></span>](/archive/msdn-magazine/2007/april/event-tracing-improve-debugging-and-performance-tuning-with-etw)
</dt> <dt>

[<span data-ttu-id="4beaf-133">Funzionalità di debug e di traccia</span><span class="sxs-lookup"><span data-stu-id="4beaf-133">Debug and Trace Facilities</span></span>](debug-and-trace-facilities-2.md)
</dt> </dl>

 

 
