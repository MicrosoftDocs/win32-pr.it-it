---
description: Linee guida per la registrazione dei filtri
ms.assetid: 05945937-9e01-4930-ae95-1931a711b55e
title: Linee guida per la registrazione dei filtri
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5ed616d90c17d232995994d8ceccfdc72d022d56
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104123399"
---
# <a name="guidelines-for-registering-filters"></a><span data-ttu-id="52ccb-103">Linee guida per la registrazione dei filtri</span><span class="sxs-lookup"><span data-stu-id="52ccb-103">Guidelines for Registering Filters</span></span>

<span data-ttu-id="52ccb-104">Le informazioni del registro di sistema di filtro determinano il modo [in cui](intelligent-connect.md)il gestore del grafo del filtro viene in funzione</span><span class="sxs-lookup"><span data-stu-id="52ccb-104">The filter registry information determines how the Filter Graph Manager functions during [Intelligent Connect](intelligent-connect.md).</span></span> <span data-ttu-id="52ccb-105">Quindi, influiscono su tutte le applicazioni scritte per DirectShow, non solo quelle che utilizzeranno il filtro.</span><span class="sxs-lookup"><span data-stu-id="52ccb-105">Thus, it affects every application written for DirectShow, not just the ones that will use your filter.</span></span> <span data-ttu-id="52ccb-106">È necessario assicurarsi che il filtro si comporta correttamente, attenendosi alle linee guida.</span><span class="sxs-lookup"><span data-stu-id="52ccb-106">You should make sure that your filter behaves correctly, by following these guidelines.</span></span>

1.  <span data-ttu-id="52ccb-107">Sono necessari i dati del filtro nel registro di sistema?</span><span class="sxs-lookup"><span data-stu-id="52ccb-107">Do you need the filter data in the registry?</span></span> <span data-ttu-id="52ccb-108">Per molti filtri personalizzati, non esiste alcun motivo per rendere visibile il filtro al mapper del filtro o all'enumeratore di dispositivo di sistema.</span><span class="sxs-lookup"><span data-stu-id="52ccb-108">For many custom filters, there is no reason to make the filter visible to the Filter Mapper or the System Device Enumerator.</span></span> <span data-ttu-id="52ccb-109">Fino a quando si registra la DLL, l'applicazione può creare il filtro utilizzando **CoCreateInstance**.</span><span class="sxs-lookup"><span data-stu-id="52ccb-109">As long as you register the DLL, your application can create the filter using **CoCreateInstance**.</span></span> <span data-ttu-id="52ccb-110">In tal caso, è sufficiente omettere la struttura del [**\_ filtro AMOVIESETUP**](amoviesetup-filter.md) dal modello Factory.</span><span class="sxs-lookup"><span data-stu-id="52ccb-110">In that case, simply omit the [**AMOVIESETUP\_FILTER**](amoviesetup-filter.md) structure from the factory template.</span></span> <span data-ttu-id="52ccb-111">Uno svantaggio è che il filtro non sarà visibile in GraphEdit.</span><span class="sxs-lookup"><span data-stu-id="52ccb-111">(One drawback is that your filter will not be visible in GraphEdit.</span></span> <span data-ttu-id="52ccb-112">Per aggirare questo problema, è possibile creare una categoria privata di "testing" usando il metodo [**IFilterMapper2:: CreateCategory**](/windows/desktop/api/Strmif/nf-strmif-ifiltermapper2-createcategory) .</span><span class="sxs-lookup"><span data-stu-id="52ccb-112">To get around this, you can create a private "Testing" category using the [**IFilterMapper2::CreateCategory**](/windows/desktop/api/Strmif/nf-strmif-ifiltermapper2-createcategory) method.</span></span> <span data-ttu-id="52ccb-113">Questa operazione deve essere eseguita solo per le compilazioni di debug.</span><span class="sxs-lookup"><span data-stu-id="52ccb-113">You should only do this for debug builds.)</span></span>
2.  <span data-ttu-id="52ccb-114">Scegliere la categoria di filtri corretta.</span><span class="sxs-lookup"><span data-stu-id="52ccb-114">Choose the correct filter category.</span></span> <span data-ttu-id="52ccb-115">La categoria predefinita "filtri DirectShow" è per i filtri per utilizzo generico.</span><span class="sxs-lookup"><span data-stu-id="52ccb-115">The default "DirectShow Filters" category is for general purpose filters.</span></span> <span data-ttu-id="52ccb-116">Quando appropriato, registrare il filtro in una categoria più specifica.</span><span class="sxs-lookup"><span data-stu-id="52ccb-116">Whenever appropriate, register your filter in a more specific category.</span></span> <span data-ttu-id="52ccb-117">Quando [**IFilterMapper2**](/windows/desktop/api/Strmif/nn-strmif-ifiltermapper2) Cerca un filtro, ignora qualsiasi categoria il cui merito è Merit \_ \_ non \_ usare o meno.</span><span class="sxs-lookup"><span data-stu-id="52ccb-117">When [**IFilterMapper2**](/windows/desktop/api/Strmif/nn-strmif-ifiltermapper2) searches for a filter, it ignores any category whose merit is MERIT\_DO\_NOT\_USE or less.</span></span> <span data-ttu-id="52ccb-118">Le categorie non destinate alla riproduzione normale hanno un merito basso.</span><span class="sxs-lookup"><span data-stu-id="52ccb-118">Categories not intended for normal playback have low merit.</span></span>
3.  <span data-ttu-id="52ccb-119">Evitare di specificare MEDIATYPE \_ None, MEDIASUBTYPE \_ None o GUID \_ null nelle informazioni [**AMOVIESETUP \_ MEDIATYPE**](amoviesetup-mediatype.md) per un PIN.</span><span class="sxs-lookup"><span data-stu-id="52ccb-119">Avoid specifying MEDIATYPE\_None, MEDIASUBTYPE\_None, or GUID\_NULL in the [**AMOVIESETUP\_MEDIATYPE**](amoviesetup-mediatype.md) information for a pin.</span></span> <span data-ttu-id="52ccb-120">**IFilterMapper2** li considera come caratteri jolly, che possono rallentare il processo di creazione di grafici.</span><span class="sxs-lookup"><span data-stu-id="52ccb-120">**IFilterMapper2** treats these as wildcards, which can slow the graph-building process.</span></span>
4.  <span data-ttu-id="52ccb-121">Scegliere il valore di Merit più basso possibile.</span><span class="sxs-lookup"><span data-stu-id="52ccb-121">Choose the lowest merit value possible.</span></span> <span data-ttu-id="52ccb-122">Di seguito sono riportate alcune linee guida:</span><span class="sxs-lookup"><span data-stu-id="52ccb-122">Here are some guidelines:</span></span>

    | <span data-ttu-id="52ccb-123">Type of filter</span><span class="sxs-lookup"><span data-stu-id="52ccb-123">Type of filter</span></span>                                                                                       | <span data-ttu-id="52ccb-124">Meriti consigliati</span><span class="sxs-lookup"><span data-stu-id="52ccb-124">Recommended merit</span></span>                                                                                   |
    |------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="52ccb-125">Renderer predefinito</span><span class="sxs-lookup"><span data-stu-id="52ccb-125">Default renderer</span></span>                                                                                     | <span data-ttu-id="52ccb-126">\_preferenza preferita.</span><span class="sxs-lookup"><span data-stu-id="52ccb-126">MERIT\_PREFERRED.</span></span> <span data-ttu-id="52ccb-127">Per i tipi di supporto standard, tuttavia, un renderer personalizzato non deve mai essere il valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="52ccb-127">For standard media types, however, a custom renderer should never be the default.</span></span> |
    | <span data-ttu-id="52ccb-128">Renderer non predefinito</span><span class="sxs-lookup"><span data-stu-id="52ccb-128">Non-default renderer</span></span>                                                                                 | <span data-ttu-id="52ccb-129">MERIT \_ non \_ \_ use o Merit \_ improbabile</span><span class="sxs-lookup"><span data-stu-id="52ccb-129">MERIT\_DO\_NOT\_USE or MERIT\_UNLIKELY</span></span>                                                              |
    | <span data-ttu-id="52ccb-130">Mux</span><span class="sxs-lookup"><span data-stu-id="52ccb-130">Mux</span></span>                                                                                                  | <span data-ttu-id="52ccb-131">il merito non viene \_ \_ \_ utilizzato</span><span class="sxs-lookup"><span data-stu-id="52ccb-131">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="52ccb-132">Decodificatore</span><span class="sxs-lookup"><span data-stu-id="52ccb-132">Decoder</span></span>                                                                                              | <span data-ttu-id="52ccb-133">VALORE \_ normale</span><span class="sxs-lookup"><span data-stu-id="52ccb-133">MERIT\_NORMAL</span></span>                                                                                       |
    | <span data-ttu-id="52ccb-134">Spitter, parser</span><span class="sxs-lookup"><span data-stu-id="52ccb-134">Spitter, parser</span></span>                                                                                      | <span data-ttu-id="52ccb-135">VALORE \_ normale o inferiore</span><span class="sxs-lookup"><span data-stu-id="52ccb-135">MERIT\_NORMAL or lower</span></span>                                                                              |
    | <span data-ttu-id="52ccb-136">Filtro per scopi specifici; qualsiasi filtro creato direttamente dall'applicazione</span><span class="sxs-lookup"><span data-stu-id="52ccb-136">Special purpose filter; any filter that is created directly by the application</span></span>                       | <span data-ttu-id="52ccb-137">il merito non viene \_ \_ \_ utilizzato</span><span class="sxs-lookup"><span data-stu-id="52ccb-137">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="52ccb-138">Acquisizione</span><span class="sxs-lookup"><span data-stu-id="52ccb-138">Capture</span></span>                                                                                              | <span data-ttu-id="52ccb-139">il merito non viene \_ \_ \_ utilizzato</span><span class="sxs-lookup"><span data-stu-id="52ccb-139">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="52ccb-140">Filtro di "fallback"; ad esempio, il [filtro del convertitore dello spazio colori](color-space-converter-filter.md)</span><span class="sxs-lookup"><span data-stu-id="52ccb-140">"Fallback" filter; for example, the [Color Space Converter Filter](color-space-converter-filter.md)</span></span> | <span data-ttu-id="52ccb-141">VALORE \_ improbabile</span><span class="sxs-lookup"><span data-stu-id="52ccb-141">MERIT\_UNLIKELY</span></span>                                                                                     |

    

     

    <span data-ttu-id="52ccb-142">Se si assegna un filtro a un valore di merito \_ \_ non \_ usato, valutare se è necessario registrare queste informazioni nella prima posizione.</span><span class="sxs-lookup"><span data-stu-id="52ccb-142">If you are giving a filter a merit of MERIT\_DO\_NOT\_USE, consider whether you need to register this information in the first place.</span></span> <span data-ttu-id="52ccb-143">(Vedere l'elemento 1).</span><span class="sxs-lookup"><span data-stu-id="52ccb-143">(See item 1.)</span></span>

5.  <span data-ttu-id="52ccb-144">Non registrare un filtro nella categoria "filtri DirectShow" che accetta RGB a 24 bit.</span><span class="sxs-lookup"><span data-stu-id="52ccb-144">Do not register a filter in the "DirectShow Filters" category that accepts 24-bit RGB.</span></span> <span data-ttu-id="52ccb-145">Il filtro interferisce con il filtro del convertitore dello spazio colori.</span><span class="sxs-lookup"><span data-stu-id="52ccb-145">Your filter will interfere with the Color Space Converter filter.</span></span>

## <a name="related-topics"></a><span data-ttu-id="52ccb-146">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="52ccb-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="52ccb-147">Come registrare i filtri DirectShow</span><span class="sxs-lookup"><span data-stu-id="52ccb-147">How to Register DirectShow Filters</span></span>](how-to-register-directshow-filters.md)
</dt> </dl>

 

 



