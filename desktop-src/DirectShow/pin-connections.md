---
description: Connessioni pin
ms.assetid: 1406ade4-77d8-49a7-8f36-cc49ff007a26
title: Connessioni pin
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b509abddf4a915b65dfd322f76b4afb132a7f835
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104401152"
---
# <a name="pin-connections"></a><span data-ttu-id="9eccb-103">Connessioni pin</span><span class="sxs-lookup"><span data-stu-id="9eccb-103">Pin Connections</span></span>

<span data-ttu-id="9eccb-104">I filtri si connettono ai propri PIN tramite l'interfaccia [**Ipin**](/windows/desktop/api/Strmif/nn-strmif-ipin) .</span><span class="sxs-lookup"><span data-stu-id="9eccb-104">Filters connect at their pins, through the [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin) interface.</span></span> <span data-ttu-id="9eccb-105">Pin di output si connettono ai pin di input.</span><span class="sxs-lookup"><span data-stu-id="9eccb-105">Output pins connect to input pins.</span></span> <span data-ttu-id="9eccb-106">Ogni connessione pin ha un tipo di supporto, descritto dalla struttura del [**\_ \_ tipo di supporto am**](/windows/win32/api/strmif/ns-strmif-am_media_type) .</span><span class="sxs-lookup"><span data-stu-id="9eccb-106">Each pin connection has a media type, described by the [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) structure.</span></span>

<span data-ttu-id="9eccb-107">Un'applicazione connette i filtri chiamando metodi sul gestore del grafo del filtro, mai chiamando metodi sui filtri o sui pin stessi.</span><span class="sxs-lookup"><span data-stu-id="9eccb-107">An application connects filters by calling methods on the Filter Graph Manager, never by calling methods on the filters or pins themselves.</span></span> <span data-ttu-id="9eccb-108">L'applicazione può specificare direttamente i filtri da connettere, chiamando il metodo [**IFilterGraph:: ConnectDirect**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-connectdirect) o [**IGraphBuilder:: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) ; in alternativa, è possibile connettere i filtri indirettamente, usando un metodo di compilazione del grafico, ad esempio [**IGraphBuilder:: RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span><span class="sxs-lookup"><span data-stu-id="9eccb-108">The application can directly specify which filters to connect, by calling the [**IFilterGraph::ConnectDirect**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-connectdirect) or [**IGraphBuilder::Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) method; or it can connect filters indirectly, using a graph-building method such as [**IGraphBuilder::RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span></span>

<span data-ttu-id="9eccb-109">Affinché la connessione abbia esito positivo, è necessario che entrambi i filtri si trovino nel grafico dei filtri.</span><span class="sxs-lookup"><span data-stu-id="9eccb-109">For the connection to succeed, both filters must be in the filter graph.</span></span> <span data-ttu-id="9eccb-110">L'applicazione può aggiungere un filtro al grafo chiamando il metodo [**IFilterGraph:: AddFilter**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) .</span><span class="sxs-lookup"><span data-stu-id="9eccb-110">The application can add a filter to the graph by calling the [**IFilterGraph::AddFilter**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) method.</span></span> <span data-ttu-id="9eccb-111">Filter Graph Manager può anche aggiungere filtri al grafo.</span><span class="sxs-lookup"><span data-stu-id="9eccb-111">The Filter Graph Manager may add filters to the graph, as well.</span></span> <span data-ttu-id="9eccb-112">Quando viene aggiunto un filtro, il gestore del grafico dei filtri chiama il metodo [**IBaseFilter:: JoinFilterGraph**](/windows/desktop/api/Strmif/nf-strmif-ibasefilter-joinfiltergraph) del filtro per notificare il filtro.</span><span class="sxs-lookup"><span data-stu-id="9eccb-112">When a filter is added, the Filter Graph Manager calls the filter's [**IBaseFilter::JoinFilterGraph**](/windows/desktop/api/Strmif/nf-strmif-ibasefilter-joinfiltergraph) method to notify the filter.</span></span>

<span data-ttu-id="9eccb-113">Il profilo generale del processo di connessione è il seguente:</span><span class="sxs-lookup"><span data-stu-id="9eccb-113">The general outline of the connection process is the following:</span></span>

1.  <span data-ttu-id="9eccb-114">Il gestore del grafo dei filtri chiama [**Ipin:: Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) sul pin di output, passando un puntatore al pin di input.</span><span class="sxs-lookup"><span data-stu-id="9eccb-114">The Filter Graph Manager calls [**IPin::Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) on the output pin, passing a pointer to the input pin.</span></span>
2.  <span data-ttu-id="9eccb-115">Se il pin di output accetta la connessione, viene chiamato [**Ipin:: ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) sul pin di input.</span><span class="sxs-lookup"><span data-stu-id="9eccb-115">If the output pin accepts the connection, it calls [**IPin::ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) on the input pin.</span></span>
3.  <span data-ttu-id="9eccb-116">Se il pin di input accetta anche la connessione, il tentativo di connessione ha esito positivo e i pin sono connessi.</span><span class="sxs-lookup"><span data-stu-id="9eccb-116">If the input pin also accepts the connection, the connection attempt succeeds and the pins are connected.</span></span>

<span data-ttu-id="9eccb-117">Alcuni pin possono essere disconnessi e riconnessi mentre il filtro è attivo.</span><span class="sxs-lookup"><span data-stu-id="9eccb-117">Some pins can be disconnected and reconnected while the filter is active.</span></span> <span data-ttu-id="9eccb-118">Questo tipo di riconnessione è definito riconnessione *dinamica* .</span><span class="sxs-lookup"><span data-stu-id="9eccb-118">This type of reconnection is called a *dynamic* reconnection.</span></span> <span data-ttu-id="9eccb-119">Per altre informazioni, vedere [creazione di grafici dinamici](dynamic-graph-building.md).</span><span class="sxs-lookup"><span data-stu-id="9eccb-119">For more information, see [Dynamic Graph Building](dynamic-graph-building.md).</span></span> <span data-ttu-id="9eccb-120">Tuttavia, la maggior parte dei filtri non supporta la riconnessione dinamica.</span><span class="sxs-lookup"><span data-stu-id="9eccb-120">However, most filters do not support dynamic reconnection.</span></span>

<span data-ttu-id="9eccb-121">I filtri sono in genere connessi nell'ordine downstream, ovvero i pin di input del filtro sono connessi prima dei pin di output.</span><span class="sxs-lookup"><span data-stu-id="9eccb-121">Filters are usually connected in downstream order—in other words, the filter's input pins are connected before its output pins.</span></span> <span data-ttu-id="9eccb-122">Un filtro deve sempre supportare questo ordine di connessione.</span><span class="sxs-lookup"><span data-stu-id="9eccb-122">A filter should always support this order of connection.</span></span> <span data-ttu-id="9eccb-123">Alcuni filtri supportano anche le connessioni nell'ordine opposto, ovvero i pin di output prima, seguiti dai pin di input.</span><span class="sxs-lookup"><span data-stu-id="9eccb-123">Some filters also support connections in the opposite order—output pins first, followed by input pins.</span></span> <span data-ttu-id="9eccb-124">Ad esempio, potrebbe essere possibile connettere il pin di output di un filtro MUX al filtro del writer di file, prima di connettere i pin di input del filtro MUX.</span><span class="sxs-lookup"><span data-stu-id="9eccb-124">For example, it might be possible to connect a MUX filter's output pin to the file-writer filter, before connecting the MUX filter's input pins.</span></span>

<span data-ttu-id="9eccb-125">Quando viene chiamato il metodo **Connect** o **ReceiveConnection** di un PIN, il PIN deve verificare che sia in grado di supportare la connessione.</span><span class="sxs-lookup"><span data-stu-id="9eccb-125">When a pin's **Connect** or **ReceiveConnection** method is called, the pin must verify that it can support the connection.</span></span> <span data-ttu-id="9eccb-126">I dettagli dipendono dal filtro specifico.</span><span class="sxs-lookup"><span data-stu-id="9eccb-126">The details depend on the particular filter.</span></span> <span data-ttu-id="9eccb-127">Di seguito sono riportate le attività più comuni:</span><span class="sxs-lookup"><span data-stu-id="9eccb-127">The most common tasks include the following:</span></span>

-   <span data-ttu-id="9eccb-128">Verificare che il tipo di supporto sia accettabile</span><span class="sxs-lookup"><span data-stu-id="9eccb-128">Check that the media type is acceptable</span></span>
-   <span data-ttu-id="9eccb-129">Negoziare un allocatore</span><span class="sxs-lookup"><span data-stu-id="9eccb-129">Negotiate an allocator</span></span>
-   <span data-ttu-id="9eccb-130">Eseguire una query sull'altro pin per le interfacce richieste.</span><span class="sxs-lookup"><span data-stu-id="9eccb-130">Query the other pin for required interfaces.</span></span>

 

 



