---
description: Configurazione dei pin di output di Demux
ms.assetid: c53f3fe6-5588-4faf-ba5c-6a6cf7e16f3a
title: Configurazione dei pin di output di Demux
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b56a24af3f49f26efe4ff6afad075a3cef61fcd1
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104124872"
---
# <a name="configuring-the-demux-output-pins"></a><span data-ttu-id="e9e42-103">Configurazione dei pin di output di Demux</span><span class="sxs-lookup"><span data-stu-id="e9e42-103">Configuring the Demux Output Pins</span></span>

<span data-ttu-id="e9e42-104">Quando il demux MPEG-2 riceve un pacchetto di dati, deve determinare quale pin di output deve analizzare e recapitare i dati.</span><span class="sxs-lookup"><span data-stu-id="e9e42-104">When the MPEG-2 demux receives a packet of data, it must determine which output pin should parse and deliver the data.</span></span> <span data-ttu-id="e9e42-105">In modalità flusso di programma, demux esegue il mapping degli ID di flusso ai pin di output.</span><span class="sxs-lookup"><span data-stu-id="e9e42-105">In program stream mode, the demux maps stream IDs to output pins.</span></span> <span data-ttu-id="e9e42-106">In modalità flusso di trasporto, esegue il mapping dei PID ai pin di output.</span><span class="sxs-lookup"><span data-stu-id="e9e42-106">In transport stream mode, it maps PIDs to output pins.</span></span> <span data-ttu-id="e9e42-107">Ad esempio, in modalità flusso di trasporto, se PID 0x31 è mappato al pin 0, ogni pacchetto TS con tale numero PID viene indirizzato al pin di output 0.</span><span class="sxs-lookup"><span data-stu-id="e9e42-107">For example, in transport stream mode, if PID 0x31 is mapped to pin 0, then every TS packet with that PID number is routed to output pin 0.</span></span> <span data-ttu-id="e9e42-108">Se il demux riceve un pacchetto il cui ID di flusso o PID non è mappato a un pin di output, il pacchetto viene semplicemente ignorato.</span><span class="sxs-lookup"><span data-stu-id="e9e42-108">If the demux receives a packet whose stream ID or PID is not mapped to any output pin, it simply discards the packet.</span></span>

<span data-ttu-id="e9e42-109">In modalità pull, demux crea automaticamente i pin di output per i flussi audio e video nel file e associa gli ID del flusso ai pin.</span><span class="sxs-lookup"><span data-stu-id="e9e42-109">In pull mode, the demux automatically creates output pins for the audio and video streams in the file, and maps the stream IDs to the pins.</span></span>

<span data-ttu-id="e9e42-110">In modalità push, i pin di output devono essere configurati dall'applicazione o da un altro filtro.</span><span class="sxs-lookup"><span data-stu-id="e9e42-110">In push mode, the output pins must be configured by the application or by another filter.</span></span> <span data-ttu-id="e9e42-111">Per le origini della televisione digitale che usano l'architettura del driver di trasmissione (BDA), il filtro del provider di rete funziona con il filtro TIF per configurare demux.</span><span class="sxs-lookup"><span data-stu-id="e9e42-111">For digital television sources using the Broadcast Driver Architecture (BDA), the network provider filter works with the TIF filter to configure the demux.</span></span> <span data-ttu-id="e9e42-112">L'applicazione non deve eseguire alcuna operazione.</span><span class="sxs-lookup"><span data-stu-id="e9e42-112">The application does not have to do anything.</span></span> <span data-ttu-id="e9e42-113">In altri scenari, l'applicazione deve configurare i pin di output.</span><span class="sxs-lookup"><span data-stu-id="e9e42-113">In other scenarios, the application must configure the output pins.</span></span>

<span data-ttu-id="e9e42-114">Il demux inizia senza pin di output.</span><span class="sxs-lookup"><span data-stu-id="e9e42-114">The demux starts with no output pins.</span></span> <span data-ttu-id="e9e42-115">Per creare un pin di output, chiamare il metodo [**IMpeg2Demultiplexer:: CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) sul filtro.</span><span class="sxs-lookup"><span data-stu-id="e9e42-115">To create an output pin, call the [**IMpeg2Demultiplexer::CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) method on the filter.</span></span> <span data-ttu-id="e9e42-116">Questo metodo accetta un tipo di supporto e un nome di pin e restituisce un puntatore **Ipin** .</span><span class="sxs-lookup"><span data-stu-id="e9e42-116">This method takes a media type and a pin name, and returns an **IPin** pointer.</span></span> <span data-ttu-id="e9e42-117">Il tipo di supporto viene usato quando il pin si connette a un altro filtro, in genere un decodificatore, a un esempio viene assegnata la sezione [uso di Demux con flussi elementari](using-the-demux-with-elementary-streams.md).</span><span class="sxs-lookup"><span data-stu-id="e9e42-117">The media type is used when the pin connects to another filter, typically a decoder—an example is given the section [Using the Demux with Elementary Streams](using-the-demux-with-elementary-streams.md).</span></span> <span data-ttu-id="e9e42-118">Il nome del PIN può essere qualsiasi elemento, ad eccezione del fatto che i nomi di pin duplicati non sono consentiti.</span><span class="sxs-lookup"><span data-stu-id="e9e42-118">The pin name can be anything you like, except that duplicate pin names are not allowed.</span></span>

<span data-ttu-id="e9e42-119">Quindi, assegnare uno o più ID di flusso o PID al nuovo PIN di output.</span><span class="sxs-lookup"><span data-stu-id="e9e42-119">Next, assign one or more stream IDs or PIDs to the new output pin.</span></span> <span data-ttu-id="e9e42-120">Per i flussi di programma, eseguire una query sul pin per **IMPEG2StreamIdMap** e chiamare [**IMPEG2StreamIdMap:: MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span><span class="sxs-lookup"><span data-stu-id="e9e42-120">For program streams, query the pin for **IMPEG2StreamIdMap** and call [**IMPEG2StreamIdMap::MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span></span> <span data-ttu-id="e9e42-121">Per i flussi di trasporto, eseguire una query sul pin per **IMPEG2PIDMap** e chiamare [**IMPEG2PIDMap:: MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span><span class="sxs-lookup"><span data-stu-id="e9e42-121">For transport streams, query the pin for **IMPEG2PIDMap** and call [**IMPEG2PIDMap::MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span></span>

<span data-ttu-id="e9e42-122">Esistono diversi modi in cui demux può analizzare i pacchetti di Servizi terminal.</span><span class="sxs-lookup"><span data-stu-id="e9e42-122">There are several ways that the demux can parse TS packets.</span></span> <span data-ttu-id="e9e42-123">Per ogni pin di output, il metodo di analisi è determinato dal parametro *MediaSampleContent* per il metodo **MapPID** .</span><span class="sxs-lookup"><span data-stu-id="e9e42-123">For each output pin, the parsing method is determined by the *MediaSampleContent* parameter to the **MapPID** method.</span></span>



| <span data-ttu-id="e9e42-124">Valore</span><span class="sxs-lookup"><span data-stu-id="e9e42-124">Value</span></span>                     | <span data-ttu-id="e9e42-125">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e9e42-125">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e9e42-126">\_flusso elementare \_ multimediale</span><span class="sxs-lookup"><span data-stu-id="e9e42-126">MEDIA\_ELEMENTARY\_STREAM</span></span> | <span data-ttu-id="e9e42-127">Il filtro recapita i payload di PES.</span><span class="sxs-lookup"><span data-stu-id="e9e42-127">The filter delivers PES payloads.</span></span> <span data-ttu-id="e9e42-128">In questa modalità, il filtro depacketizes i pacchetti PES, in modo che il filtro downstream riceva il flusso di byte ES, senza le intestazioni dei pacchetti PES.</span><span class="sxs-lookup"><span data-stu-id="e9e42-128">In this mode, the filter depacketizes the PES packets, so the downstream filter receives the ES byte stream, without the PES packet headers.</span></span> <span data-ttu-id="e9e42-129">(Solo flussi audio e video).</span><span class="sxs-lookup"><span data-stu-id="e9e42-129">(Audio and video streams only.)</span></span>                                                                                                                                                     |
| <span data-ttu-id="e9e42-130">MEDIA \_ MPEG2 \_ PSI</span><span class="sxs-lookup"><span data-stu-id="e9e42-130">MEDIA\_MPEG2\_PSI</span></span>         | <span data-ttu-id="e9e42-131">Il filtro recapita le sezioni complete PSI, ad esempio le tabelle PAT, le tabelle PMT, le tabelle CAT e così via.</span><span class="sxs-lookup"><span data-stu-id="e9e42-131">The filter delivers complete PSI sections, such as PAT tables, PMT tables, CAT tables, and so forth.</span></span>                                                                                                                                                                                                                                                               |
| <span data-ttu-id="e9e42-132">\_payload del trasporto multimediale \_</span><span class="sxs-lookup"><span data-stu-id="e9e42-132">MEDIA\_TRANSPORT\_PAYLOAD</span></span> | <span data-ttu-id="e9e42-133">Il filtro estrae i payload dai pacchetti di Servizi terminal e li recapita senza ulteriore analisi.</span><span class="sxs-lookup"><span data-stu-id="e9e42-133">The filter extracts the payloads from the TS packets and delivers them without further parsing.</span></span> <span data-ttu-id="e9e42-134">Per i flussi elementari, questo significa che demux fornirà interi pacchetti PES, incluse le intestazioni dei pacchetti PES.</span><span class="sxs-lookup"><span data-stu-id="e9e42-134">For elementary streams, this means the demux will deliver entire PES packets, including the PES packet headers.</span></span>                                                                                                                                                    |
| <span data-ttu-id="e9e42-135">\_pacchetto di trasporto multimediale \_</span><span class="sxs-lookup"><span data-stu-id="e9e42-135">MEDIA\_TRANSPORT\_PACKET</span></span>  | <span data-ttu-id="e9e42-136">Il filtro recapita interi pacchetti di Servizi terminal.</span><span class="sxs-lookup"><span data-stu-id="e9e42-136">The filter delivers entire TS packets.</span></span> <span data-ttu-id="e9e42-137">Il demux instrada i pacchetti di Servizi terminal in base ai relativi PID, ma in caso contrario non esamina né elabora i pacchetti.</span><span class="sxs-lookup"><span data-stu-id="e9e42-137">The demux routes the TS packets according to their PIDs, but does not otherwise examine or process the packets.</span></span> <span data-ttu-id="e9e42-138">I pacchetti con errori non vengono filtrati. Il demux non esegue nuovamente il multiplexing dei pacchetti e il flusso di output risultante non è un flusso di trasporto MPEG-2 conforme.</span><span class="sxs-lookup"><span data-stu-id="e9e42-138">Packets with errors are not filtered out. The demux does not re-multiplex the packets, and the resulting output stream is not a compliant MPEG-2 transport stream.</span></span> <span data-ttu-id="e9e42-139">Questa modalità viene chiamata modalità *pass-through* .</span><span class="sxs-lookup"><span data-stu-id="e9e42-139">This mode is called *pass through* mode.</span></span> |



 

<span data-ttu-id="e9e42-140">Per i flussi di programma, demux fornisce sempre payload PES.</span><span class="sxs-lookup"><span data-stu-id="e9e42-140">For program streams, the demux always delivers PES payloads.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e9e42-141">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="e9e42-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e9e42-142">Uso del Demultiplexer MPEG-2</span><span class="sxs-lookup"><span data-stu-id="e9e42-142">Using the MPEG-2 Demultiplexer</span></span>](using-the-mpeg-2-demultiplexer.md)
</dt> </dl>

 

 



