---
description: Filtro renderer video
ms.assetid: 7719ed9d-e3b9-4c84-b587-4e120b5cabf8
title: Filtro renderer video
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c71e72375a43a57ce94b38d01f48abba9309e603
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104226494"
---
# <a name="video-renderer-filter"></a><span data-ttu-id="29ec3-103">Filtro renderer video</span><span class="sxs-lookup"><span data-stu-id="29ec3-103">Video Renderer Filter</span></span>

<span data-ttu-id="29ec3-104">Il filtro renderer video è un potente renderer video per tutti gli scopi.</span><span class="sxs-lookup"><span data-stu-id="29ec3-104">The Video Renderer filter is a robust, all-purpose video renderer.</span></span>

> [!Note]  
> <span data-ttu-id="29ec3-105">In Windows XP e versioni successive, il renderer video predefinito è il [filtro del renderer video mixing 7](video-mixing-renderer-filter-7.md) (VMR-7).</span><span class="sxs-lookup"><span data-stu-id="29ec3-105">On Windows XP and later, the default video renderer is the [Video Mixing Renderer Filter 7](video-mixing-renderer-filter-7.md) (VMR-7).</span></span> <span data-ttu-id="29ec3-106">VMR-7 e il renderer video hanno entrambi il nome descrittivo "renderer video".</span><span class="sxs-lookup"><span data-stu-id="29ec3-106">The VMR-7 and the Video Renderer both have the friendly name "Video Renderer."</span></span> <span data-ttu-id="29ec3-107">Sulle piattaforme precedenti, il renderer video è il renderer predefinito.</span><span class="sxs-lookup"><span data-stu-id="29ec3-107">On earlier platforms, the Video Renderer is the default renderer.</span></span> <span data-ttu-id="29ec3-108">Vedere [scelta del renderer appropriato](choosing-the-right-renderer.md).</span><span class="sxs-lookup"><span data-stu-id="29ec3-108">See [Choosing the Right Renderer](choosing-the-right-renderer.md).</span></span>

 

<span data-ttu-id="29ec3-109">Se la scheda video li supporta, il renderer video usa le superfici DirectDraw e overlay.</span><span class="sxs-lookup"><span data-stu-id="29ec3-109">The Video Renderer uses DirectDraw and overlay surfaces, if the video card supports them.</span></span> <span data-ttu-id="29ec3-110">Filter Graph Manager espone l'interfaccia [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) , che consente alle applicazioni di impostare e recuperare le proprietà nel renderer video.</span><span class="sxs-lookup"><span data-stu-id="29ec3-110">The Filter Graph Manager exposes the [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) interface, which enables applications to set and retrieve properties on the Video Renderer.</span></span> <span data-ttu-id="29ec3-111">Con le schede video più recenti, il renderer video supporta il rendering a schermo intero.</span><span class="sxs-lookup"><span data-stu-id="29ec3-111">With newer video cards, the Video Renderer supports full-screen rendering.</span></span> <span data-ttu-id="29ec3-112">In caso contrario, il gestore del grafico dei filtri passa automaticamente al filtro [renderer](full-screen-renderer-filter.md) a schermo intero per la modalità schermo intero.</span><span class="sxs-lookup"><span data-stu-id="29ec3-112">Otherwise, the Filter Graph Manager automatically switches to the [Full Screen Renderer](full-screen-renderer-filter.md) filter for full-screen mode.</span></span> <span data-ttu-id="29ec3-113">Per ulteriori informazioni, vedere [**IVideoWindow::p UT \_ FullScreenMode**](/windows/desktop/api/Control/nf-control-ivideowindow-put_fullscreenmode) .</span><span class="sxs-lookup"><span data-stu-id="29ec3-113">See [**IVideoWindow::put\_FullScreenMode**](/windows/desktop/api/Control/nf-control-ivideowindow-put_fullscreenmode) for more information.</span></span>

-   <span data-ttu-id="29ec3-114">\[! Importante\]</span><span class="sxs-lookup"><span data-stu-id="29ec3-114">\[!Important\]</span></span>  
    > <span data-ttu-id="29ec3-115">In genere, la finestra video di questo filtro elabora i messaggi in un thread di lavoro creato da Filter Graph Manager.</span><span class="sxs-lookup"><span data-stu-id="29ec3-115">Normally, this filter's video window processes messages on a worker thread created by the Filter Graph Manager.</span></span> <span data-ttu-id="29ec3-116">Tuttavia, se un'applicazione crea direttamente il filtro utilizzando **CoCreateInstance**, la finestra del video elabora i messaggi nel thread dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="29ec3-116">Howerver, if an application directly creates the filter using **CoCreateInstance**, the video window processes messages on the application thread.</span></span> <span data-ttu-id="29ec3-117">In tal caso, è necessario che il thread dell'applicazione disponga di un ciclo di messaggi per inviare messaggi alla finestra del video.</span><span class="sxs-lookup"><span data-stu-id="29ec3-117">In that case, the application thread must have a message loop, to dispatch messages to the video window.</span></span> <span data-ttu-id="29ec3-118">Inoltre, il thread non deve uscire fino alla chiamata di **rilascio** finale al renderer video, che si verifica quando il gestore del grafico del filtro viene arrestato.</span><span class="sxs-lookup"><span data-stu-id="29ec3-118">Also, the thread must not exit until the final **Release** call to the Video Renderer, which occurs when the Filter Graph Manager shuts down.</span></span> <span data-ttu-id="29ec3-119">In caso contrario, l'applicazione potrebbe verificarsi un deadlock.</span><span class="sxs-lookup"><span data-stu-id="29ec3-119">Otherwise, the application might deadlock.</span></span>

     



|                                          |                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="29ec3-120">Interfacce di filtro</span><span class="sxs-lookup"><span data-stu-id="29ec3-120">Filter Interfaces</span></span>                        | <span data-ttu-id="29ec3-121">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo), [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2), [**IDirectDrawVideo**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-idirectdrawvideo), [**IKsPropertySet**](ikspropertyset.md), [**IMediaPosition**](/windows/desktop/api/Control/nn-control-imediaposition), [**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow)</span><span class="sxs-lookup"><span data-stu-id="29ec3-121">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo), [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2), [**IDirectDrawVideo**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-idirectdrawvideo), [**IKsPropertySet**](ikspropertyset.md), [**IMediaPosition**](/windows/desktop/api/Control/nn-control-imediaposition), [**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow)</span></span> |
| <span data-ttu-id="29ec3-122">Tipi di supporti pin di input</span><span class="sxs-lookup"><span data-stu-id="29ec3-122">Input Pin Media Types</span></span>                    | <span data-ttu-id="29ec3-123">Formati video non compressi.</span><span class="sxs-lookup"><span data-stu-id="29ec3-123">Uncompressed video formats.</span></span>                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="29ec3-124">Interfacce pin di input</span><span class="sxs-lookup"><span data-stu-id="29ec3-124">Input Pin Interfaces</span></span>                     | <span data-ttu-id="29ec3-125">[**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**iOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay), [**Ipin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="29ec3-125">[**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                                                                                           |
| <span data-ttu-id="29ec3-126">Tipi di supporti pin di output</span><span class="sxs-lookup"><span data-stu-id="29ec3-126">Output Pin Media Types</span></span>                   | <span data-ttu-id="29ec3-127">Non applicabile.</span><span class="sxs-lookup"><span data-stu-id="29ec3-127">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="29ec3-128">Interfacce del PIN di output</span><span class="sxs-lookup"><span data-stu-id="29ec3-128">Output Pin Interfaces</span></span>                    | <span data-ttu-id="29ec3-129">Non applicabile.</span><span class="sxs-lookup"><span data-stu-id="29ec3-129">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="29ec3-130">CLSID filtro</span><span class="sxs-lookup"><span data-stu-id="29ec3-130">Filter CLSID</span></span>                             | <span data-ttu-id="29ec3-131">\_VIDEORENDERER CLSID</span><span class="sxs-lookup"><span data-stu-id="29ec3-131">CLSID\_VideoRenderer</span></span>                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="29ec3-132">CLSID della pagina delle proprietà</span><span class="sxs-lookup"><span data-stu-id="29ec3-132">Property Page CLSID</span></span>                      | <span data-ttu-id="29ec3-133">Nessuna pagina delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="29ec3-133">No property page.</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="29ec3-134">File eseguibile</span><span class="sxs-lookup"><span data-stu-id="29ec3-134">Executable</span></span>                               | <span data-ttu-id="29ec3-135">quartz.dll</span><span class="sxs-lookup"><span data-stu-id="29ec3-135">quartz.dll</span></span>                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="29ec3-136">Merito</span><span class="sxs-lookup"><span data-stu-id="29ec3-136">Merit</span></span>](merit.md)                       | <span data-ttu-id="29ec3-137">Windows XP e versioni successive: **Merit \_ improbabile**</span><span class="sxs-lookup"><span data-stu-id="29ec3-137">Windows XP and later: **MERIT\_UNLIKELY**</span></span>                                                                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="29ec3-138">Categoria filtro</span><span class="sxs-lookup"><span data-stu-id="29ec3-138">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="29ec3-139">**\_LEGACYAMFILTERCATEGORY CLSID**</span><span class="sxs-lookup"><span data-stu-id="29ec3-139">**CLSID\_LegacyAmFilterCategory**</span></span>                                                                                                                                                                                                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="29ec3-140">Commenti</span><span class="sxs-lookup"><span data-stu-id="29ec3-140">Remarks</span></span>

<span data-ttu-id="29ec3-141">Nella versione di debug di Quartz.dll, se il livello di debug della traccia di LOG \_ è impostato su 5 o superiore, il renderer video Visualizza i timestamp di ogni frame nella finestra del video.</span><span class="sxs-lookup"><span data-stu-id="29ec3-141">In the debug version of Quartz.dll, if the LOG\_TRACE debug level is set to 5 or higher, the Video Renderer displays each frame's time stamps on the video window.</span></span> <span data-ttu-id="29ec3-142">Questi numeri non vengono visualizzati nella versione finale della DLL.</span><span class="sxs-lookup"><span data-stu-id="29ec3-142">These numbers do not appear in the retail version of the DLL.</span></span> <span data-ttu-id="29ec3-143">Per altre informazioni, vedere [debug di funzioni di output](debug-output-functions.md).</span><span class="sxs-lookup"><span data-stu-id="29ec3-143">For more information, see [Debug Output Functions](debug-output-functions.md).</span></span>

<span data-ttu-id="29ec3-144">Le osservazioni seguenti sono destinate agli sviluppatori di filtri:</span><span class="sxs-lookup"><span data-stu-id="29ec3-144">The following remarks are intended for filter developers:</span></span>

<span data-ttu-id="29ec3-145">Il renderer video accetta formati YUV se la scheda grafica video supporta le superfici della sovrimpressione YUV.</span><span class="sxs-lookup"><span data-stu-id="29ec3-145">The Video Renderer accepts YUV formats if the video graphics card supports YUV overlay surfaces.</span></span> <span data-ttu-id="29ec3-146">Quando si connette per la prima volta al filtro upstream, tuttavia, il renderer video richiede un formato RGB che corrisponda alla profondità di colore delle impostazioni di monitoraggio correnti.</span><span class="sxs-lookup"><span data-stu-id="29ec3-146">When it first connects to the upstream filter, however, the Video Renderer requires an RGB format that matches the color depth of the current monitor settings.</span></span> <span data-ttu-id="29ec3-147">Se, ad esempio, l'impostazione di visualizzazione corrente è il colore a 24 bit, il filtro upstream deve essere in grado di fornire video RGB a 24 bit.</span><span class="sxs-lookup"><span data-stu-id="29ec3-147">For example, if the current display setting is 24-bit color, the upstream filter must be able to provide 24-bit RGB video.</span></span> <span data-ttu-id="29ec3-148">Quando il grafico di filtro passa a uno stato runing, il renderer video negozia una modifica di formato dinamico nello spazio colore YUV appropriato.</span><span class="sxs-lookup"><span data-stu-id="29ec3-148">When the filter graph switches to a runing state, the Video Renderer negotiates a dynamic format change to the appropriate YUV color space.</span></span>

<span data-ttu-id="29ec3-149">Connettendosi a un tipo RGB, il renderer video garantisce che sia possibile utilizzare GDI nel caso in cui DirectDraw non sia disponibile.</span><span class="sxs-lookup"><span data-stu-id="29ec3-149">By connecting with an RGB type, the Video Renderer ensures that it can use GDI in case DirectDraw is not available.</span></span> <span data-ttu-id="29ec3-150">Passa a GDI se un'altra applicazione sta usando la memoria video, se il rettangolo video si trova in un sistema a più monitor o se il rettangolo video è completamente nascosto da un'altra finestra.</span><span class="sxs-lookup"><span data-stu-id="29ec3-150">It will switch to GDI if another application is using the video memory, if the video rectangle straddles two monitors on a multi-monitor system, or if the video rectangle is completely obscured by another window.</span></span>

> [!Note]  
> <span data-ttu-id="29ec3-151">Il renderer di mixaggio video non esegue questo tipo di modifica del formato dinamico e non richiede un tipo di supporto RGB, perché non usa mai GDI per il rendering.</span><span class="sxs-lookup"><span data-stu-id="29ec3-151">The Video Mixing Renderer does not perform this type of dynamic format change, and does not require an RGB media type, because it never uses GDI for rendering.</span></span>

 

<span data-ttu-id="29ec3-152">Per negoziare una modifica di formato, il renderer video chiama [**Ipin:: QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) con il nuovo tipo di supporto.</span><span class="sxs-lookup"><span data-stu-id="29ec3-152">To negotiate a format change, the Video Renderer calls [**IPin::QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) with the new media type.</span></span> <span data-ttu-id="29ec3-153">Se il filtro upstream restituisce S \_ OK, il renderer video collegherà il nuovo supporto all'esempio successivo.</span><span class="sxs-lookup"><span data-stu-id="29ec3-153">If the upstream filter returns S\_OK, the Video Renderer attaches the new media to the next sample.</span></span> <span data-ttu-id="29ec3-154">Il filtro upstream deve chiamare [**IMediaSample:: GetMediaType**](/windows/desktop/api/Strmif/nf-strmif-imediasample-getmediatype) per ogni esempio.</span><span class="sxs-lookup"><span data-stu-id="29ec3-154">The upstream filter should call [**IMediaSample::GetMediaType**](/windows/desktop/api/Strmif/nf-strmif-imediasample-getmediatype) on each sample.</span></span> <span data-ttu-id="29ec3-155">Se **GetMediaType** restituisce un valore non **null** , indica una modifica del formato e il filtro upstream deve rispondere cambiando i tipi di output.</span><span class="sxs-lookup"><span data-stu-id="29ec3-155">If **GetMediaType** returns a non-**NULL** value, it indicates a format change, and the upstream filter should respond by switching output types.</span></span> <span data-ttu-id="29ec3-156">Non cambiare i tipi nel metodo **QueryAccept** . Il filtro upstream deve accettare almeno i tipi RGB principali e idealmente deve supportare i tipi YUV comuni.</span><span class="sxs-lookup"><span data-stu-id="29ec3-156">(Do not switch types in the **QueryAccept** method.) The upstream filter should accept at least the major RGB types, and ideally should support the common YUV types.</span></span> <span data-ttu-id="29ec3-157">Durante lo streaming, il renderer video potrebbe spostarsi tra i tipi YUV e RGB per un numero qualsiasi di volte.</span><span class="sxs-lookup"><span data-stu-id="29ec3-157">During streaming, the Video Renderer might switch back and forth between YUV and RGB types any number of times.</span></span> <span data-ttu-id="29ec3-158">Il renderer video non accetta modifiche al formato dinamico avviate dal filtro upstream.</span><span class="sxs-lookup"><span data-stu-id="29ec3-158">The Video Renderer does not accept dynamic format changes initiated by the upstream filter.</span></span>

<span data-ttu-id="29ec3-159">Quando il renderer video disegna in una superficie sovrapposta DirectDraw, alloca un singolo buffer per il pin di input.</span><span class="sxs-lookup"><span data-stu-id="29ec3-159">When the Video Renderer draws to a DirectDraw overlay surface, it allocates a single buffer for its input pin.</span></span> <span data-ttu-id="29ec3-160">Se il filtro upstream tenta di forzare una connessione utilizzando più buffer, il renderer video non sarà in grado di utilizzare la superficie della sovrimpressione.</span><span class="sxs-lookup"><span data-stu-id="29ec3-160">If the upstream filter attempts to force a connection using multiple buffers, the Video Renderer will be unable to use the overlay surface.</span></span>

## <a name="related-topics"></a><span data-ttu-id="29ec3-161">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="29ec3-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="29ec3-162">Filtri DirectShow</span><span class="sxs-lookup"><span data-stu-id="29ec3-162">DirectShow Filters</span></span>](directshow-filters.md)
</dt> </dl>

 

 



