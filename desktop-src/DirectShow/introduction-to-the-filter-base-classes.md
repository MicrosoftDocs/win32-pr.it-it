---
description: Introduzione alle classi di base del filtro
ms.assetid: db6324d7-1914-44a8-a202-dff752b61c1a
title: Introduzione alle classi di base del filtro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f44c104d8fe155a7c9f0edba72770a508c8ec43d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104401049"
---
# <a name="introduction-to-the-filter-base-classes"></a><span data-ttu-id="92835-103">Introduzione alle classi di base del filtro</span><span class="sxs-lookup"><span data-stu-id="92835-103">Introduction to the Filter Base Classes</span></span>

<span data-ttu-id="92835-104">Questo articolo descrive la libreria di classi base Microsoft DirectShow.</span><span class="sxs-lookup"><span data-stu-id="92835-104">This article describes the Microsoft DirectShow base class library.</span></span> <span data-ttu-id="92835-105">Questa libreria è destinata agli sviluppatori di filtri, ma è possibile che i writer di applicazioni trovino alcune delle classi helper e le utilità di debug utili.</span><span class="sxs-lookup"><span data-stu-id="92835-105">This library is intended for filter developers, but application writers might find some of the helper classes and debugging utilities useful.</span></span> <span data-ttu-id="92835-106">Tuttavia, la libreria di classi di base non è necessaria per la programmazione DirectShow.</span><span class="sxs-lookup"><span data-stu-id="92835-106">The base class library is not required for DirectShow programming, however.</span></span>

<span data-ttu-id="92835-107">Le sezioni seguenti riepilogano le classi di base più importanti nella libreria.</span><span class="sxs-lookup"><span data-stu-id="92835-107">The following sections summarize the most important base classes in the library.</span></span>

<span data-ttu-id="92835-108">**Classi di oggetti COM**</span><span class="sxs-lookup"><span data-stu-id="92835-108">**COM Object Classes**</span></span>

<span data-ttu-id="92835-109">Le classi seguenti supportano la creazione di oggetti COM:</span><span class="sxs-lookup"><span data-stu-id="92835-109">The following classes support the creation of COM objects:</span></span>



| <span data-ttu-id="92835-110">Classe</span><span class="sxs-lookup"><span data-stu-id="92835-110">Class</span></span>                              | <span data-ttu-id="92835-111">Descrizione</span><span class="sxs-lookup"><span data-stu-id="92835-111">Description</span></span>                            |
|------------------------------------|----------------------------------------|
| [<span data-ttu-id="92835-112">**CBaseObject**</span><span class="sxs-lookup"><span data-stu-id="92835-112">**CBaseObject**</span></span>](cbaseobject.md) | <span data-ttu-id="92835-113">Classe di oggetti di base.</span><span class="sxs-lookup"><span data-stu-id="92835-113">Base object class.</span></span>                     |
| [<span data-ttu-id="92835-114">**CUnknown**</span><span class="sxs-lookup"><span data-stu-id="92835-114">**CUnknown**</span></span>](cunknown.md)       | <span data-ttu-id="92835-115">Implementa l'interfaccia **IUnknown** .</span><span class="sxs-lookup"><span data-stu-id="92835-115">Implements the **IUnknown** interface.</span></span> |



 

<span data-ttu-id="92835-116">La maggior parte delle classi DirectShow derivano da **CBaseObject**.</span><span class="sxs-lookup"><span data-stu-id="92835-116">Most of the DirectShow classes derive from **CBaseObject**.</span></span> <span data-ttu-id="92835-117">Questa classe fornisce assistenza per il debug mantenendo un conteggio di tutti gli oggetti attivi nella DLL in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="92835-117">This class provides debugging assistance by keeping a count of all the active objects in the DLL at run time.</span></span> <span data-ttu-id="92835-118">Nelle build di debug, la DLL dichiara se viene scaricata mentre il conteggio oggetti è maggiore di zero.</span><span class="sxs-lookup"><span data-stu-id="92835-118">In debug builds, the DLL asserts if it is unloaded while the object count is greater than zero.</span></span> <span data-ttu-id="92835-119">In questo modo è più semplice rilevare le perdite dovute a problemi di conteggio dei riferimenti.</span><span class="sxs-lookup"><span data-stu-id="92835-119">This makes it easier to track down leaks caused by reference-counting problems.</span></span>

<span data-ttu-id="92835-120">Tutte le classi di base che supportano le interfacce COM derivano da **CUnknown**, che eredita **CBaseObject**.</span><span class="sxs-lookup"><span data-stu-id="92835-120">All of the base classes that support COM interfaces derive from **CUnknown**, which inherits **CBaseObject**.</span></span> <span data-ttu-id="92835-121">La classe **CUnknown** supporta il conteggio dei riferimenti, **QueryInterface** e aggregazione.</span><span class="sxs-lookup"><span data-stu-id="92835-121">The **CUnknown** class supports reference counting, **QueryInterface**, and aggregration.</span></span> <span data-ttu-id="92835-122">Per ulteriori informazioni, vedere [How to implement IUnknown](how-to-implement-iunknown.md).</span><span class="sxs-lookup"><span data-stu-id="92835-122">For more information, see [How to Implement IUnknown](how-to-implement-iunknown.md).</span></span>

<span data-ttu-id="92835-123">**Filtrare e aggiungere classi**</span><span class="sxs-lookup"><span data-stu-id="92835-123">**Filter and Pin Classes**</span></span>

<span data-ttu-id="92835-124">Le classi seguenti supportano la creazione di oggetti filtro e pin DirectShow:</span><span class="sxs-lookup"><span data-stu-id="92835-124">The following classes support the creation of DirectShow filter and pin objects:</span></span>



| <span data-ttu-id="92835-125">Classe</span><span class="sxs-lookup"><span data-stu-id="92835-125">Class</span></span>                                    | <span data-ttu-id="92835-126">Descrizione</span><span class="sxs-lookup"><span data-stu-id="92835-126">Description</span></span>                                                                                                                                                     |
|------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="92835-127">**CBaseFilter**</span><span class="sxs-lookup"><span data-stu-id="92835-127">**CBaseFilter**</span></span>](cbasefilter.md)       | <span data-ttu-id="92835-128">Classe di base per i filtri.</span><span class="sxs-lookup"><span data-stu-id="92835-128">Base class for filters.</span></span> <span data-ttu-id="92835-129">Implementa l'interfaccia [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter) .</span><span class="sxs-lookup"><span data-stu-id="92835-129">Implements the [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter) interface.</span></span>                                                                            |
| [<span data-ttu-id="92835-130">**CBasePin**</span><span class="sxs-lookup"><span data-stu-id="92835-130">**CBasePin**</span></span>](cbasepin.md)             | <span data-ttu-id="92835-131">Classe di base per i pin.</span><span class="sxs-lookup"><span data-stu-id="92835-131">Base class for pins.</span></span> <span data-ttu-id="92835-132">Implementa le interfacce [**Ipin**](/windows/desktop/api/Strmif/nn-strmif-ipin) e [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol) .</span><span class="sxs-lookup"><span data-stu-id="92835-132">Implements the [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin) and [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol) interfaces.</span></span>                                             |
| [<span data-ttu-id="92835-133">**CBaseInputPin**</span><span class="sxs-lookup"><span data-stu-id="92835-133">**CBaseInputPin**</span></span>](cbaseinputpin.md)   | <span data-ttu-id="92835-134">Classe di base per i pin di input che usano il trasporto di memoria locale.</span><span class="sxs-lookup"><span data-stu-id="92835-134">Base class for input pins that use local memory transport.</span></span> <span data-ttu-id="92835-135">Implementa l'interfaccia [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) .</span><span class="sxs-lookup"><span data-stu-id="92835-135">Implements the [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) interface.</span></span> <span data-ttu-id="92835-136">Questa classe deriva da **CBasePin**.</span><span class="sxs-lookup"><span data-stu-id="92835-136">This class derives from **CBasePin**.</span></span> |
| [<span data-ttu-id="92835-137">**CBaseOutputPin**</span><span class="sxs-lookup"><span data-stu-id="92835-137">**CBaseOutputPin**</span></span>](cbaseoutputpin.md) | <span data-ttu-id="92835-138">Classe di base per i pin di output che usano connessioni **IMemInputPin** .</span><span class="sxs-lookup"><span data-stu-id="92835-138">Base class for output pins that use **IMemInputPin** connections.</span></span> <span data-ttu-id="92835-139">Questa classe deriva da **CBasePin**.</span><span class="sxs-lookup"><span data-stu-id="92835-139">This class derives from **CBasePin**.</span></span>                                                         |



 

<span data-ttu-id="92835-140">Le classi seguenti sono utili per la creazione di tipi di filtri più specializzati:</span><span class="sxs-lookup"><span data-stu-id="92835-140">The following classes are useful for creating more specialized types of filters:</span></span>



| <span data-ttu-id="92835-141">Classe</span><span class="sxs-lookup"><span data-stu-id="92835-141">Class</span></span>                                                  | <span data-ttu-id="92835-142">Descrizione</span><span class="sxs-lookup"><span data-stu-id="92835-142">Description</span></span>                                                                                                                                                                                                                                                                                               |
|--------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="92835-143">**CSource**</span><span class="sxs-lookup"><span data-stu-id="92835-143">**CSource**</span></span>](csource.md)                             | <span data-ttu-id="92835-144">Classe di base per i filtri di origine.</span><span class="sxs-lookup"><span data-stu-id="92835-144">Base class for source filters.</span></span> <span data-ttu-id="92835-145">Questa classe è progettata per la creazione di origini push.</span><span class="sxs-lookup"><span data-stu-id="92835-145">This class is designed for creating push sources.</span></span> <span data-ttu-id="92835-146">Non è adatto per le origini pull, ad esempio i lettori di file.</span><span class="sxs-lookup"><span data-stu-id="92835-146">It is not suitable for pull sources, such as file readers.</span></span> <span data-ttu-id="92835-147">Per creare pin di output per questa classe, usare la classe [**CSourceStream**](csourcestream.md) .</span><span class="sxs-lookup"><span data-stu-id="92835-147">To create output pins for this class, use the [**CSourceStream**](csourcestream.md) class.</span></span>                                                                   |
| [<span data-ttu-id="92835-148">**CTransformFilter**</span><span class="sxs-lookup"><span data-stu-id="92835-148">**CTransformFilter**</span></span>](ctransformfilter.md)           | <span data-ttu-id="92835-149">Classe di base per i filtri di trasformazione.</span><span class="sxs-lookup"><span data-stu-id="92835-149">Base class for transform filters.</span></span> <span data-ttu-id="92835-150">Questa classe esegue una copia dei dati.</span><span class="sxs-lookup"><span data-stu-id="92835-150">This class performs a copy on the data.</span></span> <span data-ttu-id="92835-151">I pin per questa classe sono [**CTransformInputPin**](ctransforminputpin.md) e [**CTransformOutputPin**](ctransformoutputpin.md).</span><span class="sxs-lookup"><span data-stu-id="92835-151">The pins for this class are [**CTransformInputPin**](ctransforminputpin.md) and [**CTransformOutputPin**](ctransformoutputpin.md).</span></span>                                                                                            |
| [<span data-ttu-id="92835-152">**CTransInPlaceFilter**</span><span class="sxs-lookup"><span data-stu-id="92835-152">**CTransInPlaceFilter**</span></span>](ctransinplacefilter.md)     | <span data-ttu-id="92835-153">Classe di base per i filtri di trasformazione che non copiano i dati.</span><span class="sxs-lookup"><span data-stu-id="92835-153">Base class for transform filters that do not copy data.</span></span> <span data-ttu-id="92835-154">Questa classe esegue l'elaborazione dei dati direttamente nei dati di input prima di passarla a valle.</span><span class="sxs-lookup"><span data-stu-id="92835-154">This class performs the data processing directly on the input data before passing it downstream.</span></span> <span data-ttu-id="92835-155">I pin per questa classe sono [**CTransInPlaceInputPin**](ctransinplaceinputpin.md) e [**CTransInPlaceOutputPin**](ctransinplaceoutputpin.md).</span><span class="sxs-lookup"><span data-stu-id="92835-155">The pins for this class are [**CTransInPlaceInputPin**](ctransinplaceinputpin.md) and [**CTransInPlaceOutputPin**](ctransinplaceoutputpin.md).</span></span> |
| [<span data-ttu-id="92835-156">**CVideoTransformFilter**</span><span class="sxs-lookup"><span data-stu-id="92835-156">**CVideoTransformFilter**</span></span>](cvideotransformfilter.md) | <span data-ttu-id="92835-157">Classe di base per i filtri di trasformazione video.</span><span class="sxs-lookup"><span data-stu-id="92835-157">Base class for video transform filters.</span></span> <span data-ttu-id="92835-158">Questa classe deriva da **CTransformFilter** e aggiunge il supporto per il controllo qualità.</span><span class="sxs-lookup"><span data-stu-id="92835-158">This class derives from **CTransformFilter** and adds support for quality control.</span></span>                                                                                                                                                                                |
| [<span data-ttu-id="92835-159">**CBaseRenderer**</span><span class="sxs-lookup"><span data-stu-id="92835-159">**CBaseRenderer**</span></span>](cbaserenderer.md)                 | <span data-ttu-id="92835-160">Classe base per i filtri renderer.</span><span class="sxs-lookup"><span data-stu-id="92835-160">Base class for renderer filters.</span></span> <span data-ttu-id="92835-161">Il pin di input per questa classe è [**CRendererInputPin**](crendererinputpin.md).</span><span class="sxs-lookup"><span data-stu-id="92835-161">The input pin for this class is [**CRendererInputPin**](crendererinputpin.md).</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="92835-162">**CBaseVideoRenderer**</span><span class="sxs-lookup"><span data-stu-id="92835-162">**CBaseVideoRenderer**</span></span>](cbasevideorenderer.md)       | <span data-ttu-id="92835-163">Classe di base per renderer video.</span><span class="sxs-lookup"><span data-stu-id="92835-163">Base class for video renderers.</span></span> <span data-ttu-id="92835-164">Questa classe deriva da **CBaseRenderer**.</span><span class="sxs-lookup"><span data-stu-id="92835-164">This class derives from **CBaseRenderer**.</span></span>                                                                                                                                                                                                                                |



 

<span data-ttu-id="92835-165">Per usare queste classi, è necessario derivare la propria classe e scrivere codice per supportare le funzionalità specifiche del filtro.</span><span class="sxs-lookup"><span data-stu-id="92835-165">To use these classes, you must derive your own class and write code to support the functionality that is specific to your filter.</span></span> <span data-ttu-id="92835-166">Più specializzata è la classe di base, minore sarà il codice che è necessario scrivere nella classe derivata.</span><span class="sxs-lookup"><span data-stu-id="92835-166">The more specialized the base class, the less code you will need to write in your derived class.</span></span>

<span data-ttu-id="92835-167">**Oggetti helper**</span><span class="sxs-lookup"><span data-stu-id="92835-167">**Helper Objects**</span></span>

<span data-ttu-id="92835-168">Le classi seguenti implementano oggetti helper utilizzati da filtri e pin.</span><span class="sxs-lookup"><span data-stu-id="92835-168">The following classes implement helper objects that are used by filters and pins.</span></span> <span data-ttu-id="92835-169">La maggior parte di queste classi può essere usata senza derivare da esse nuove classi:</span><span class="sxs-lookup"><span data-stu-id="92835-169">Most of these classes can be used without deriving new classes from them:</span></span>



| <span data-ttu-id="92835-170">Classe</span><span class="sxs-lookup"><span data-stu-id="92835-170">Class</span></span>                                              | <span data-ttu-id="92835-171">Descrizione</span><span class="sxs-lookup"><span data-stu-id="92835-171">Description</span></span>                                                                                                                                                        |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="92835-172">**CPullPin**</span><span class="sxs-lookup"><span data-stu-id="92835-172">**CPullPin**</span></span>](cpullpin.md)                       | <span data-ttu-id="92835-173">Oggetto helper per i pin di input nei filtri del parser.</span><span class="sxs-lookup"><span data-stu-id="92835-173">Helper object for input pins on parser filters.</span></span> <span data-ttu-id="92835-174">Supporta le connessioni [**IAsyncReader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) con le origini pull.</span><span class="sxs-lookup"><span data-stu-id="92835-174">Supports [**IAsyncReader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) connections with pull sources.</span></span>                                       |
| [<span data-ttu-id="92835-175">**COutputQueue**</span><span class="sxs-lookup"><span data-stu-id="92835-175">**COutputQueue**</span></span>](coutputqueue.md)               | <span data-ttu-id="92835-176">Oggetto helper per i pin di output che accodano gli esempi per il recapito in un thread di lavoro.</span><span class="sxs-lookup"><span data-stu-id="92835-176">Helper object for output pins that queue samples for delivery on a worker thread.</span></span>                                                                                  |
| [<span data-ttu-id="92835-177">**CSourceSeeking**</span><span class="sxs-lookup"><span data-stu-id="92835-177">**CSourceSeeking**</span></span>](csourceseeking.md)           | <span data-ttu-id="92835-178">Oggetto della Guida per l'implementazione della ricerca in un filtro di origine con esattamente un pin di output.</span><span class="sxs-lookup"><span data-stu-id="92835-178">Help object for implementing seeking on a source filter with exactly one output pin.</span></span> <span data-ttu-id="92835-179">Questa classe non è progettata per i filtri con più pin, ad esempio i parser.</span><span class="sxs-lookup"><span data-stu-id="92835-179">(This class is not designed for filters with multiple pins, such as parsers.)</span></span> |
| [<span data-ttu-id="92835-180">**CEnumPins**</span><span class="sxs-lookup"><span data-stu-id="92835-180">**CEnumPins**</span></span>](cenumpins.md)                     | <span data-ttu-id="92835-181">Oggetto enumeratore per l'enumerazione dei pin in un filtro.</span><span class="sxs-lookup"><span data-stu-id="92835-181">Enumerator object for enumerating pins on a filter.</span></span> <span data-ttu-id="92835-182">Implementa l'interfaccia [**IEnumPins**](/windows/desktop/api/Strmif/nn-strmif-ienumpins) .</span><span class="sxs-lookup"><span data-stu-id="92835-182">Implements the [**IEnumPins**](/windows/desktop/api/Strmif/nn-strmif-ienumpins) interface.</span></span>                                                       |
| [<span data-ttu-id="92835-183">**CEnumMediaTypes**</span><span class="sxs-lookup"><span data-stu-id="92835-183">**CEnumMediaTypes**</span></span>](cenummediatypes.md)         | <span data-ttu-id="92835-184">Oggetto enumeratore per l'enumerazione dei tipi di supporti preferiti su un PIN.</span><span class="sxs-lookup"><span data-stu-id="92835-184">Enumerator object for enumerating preferred media types on a pin.</span></span> <span data-ttu-id="92835-185">Implementa l'interfaccia [**IEnumMediaTypes**](/windows/desktop/api/Strmif/nn-strmif-ienummediatypes) .</span><span class="sxs-lookup"><span data-stu-id="92835-185">Implements the [**IEnumMediaTypes**](/windows/desktop/api/Strmif/nn-strmif-ienummediatypes) interface.</span></span>                             |
| [<span data-ttu-id="92835-186">**CMemAllocator**</span><span class="sxs-lookup"><span data-stu-id="92835-186">**CMemAllocator**</span></span>](cmemallocator.md)             | <span data-ttu-id="92835-187">Oggetto allocatore di memoria.</span><span class="sxs-lookup"><span data-stu-id="92835-187">Memory allocator object.</span></span> <span data-ttu-id="92835-188">Implementa l'interfaccia [**IMemAllocator**](/windows/desktop/api/Strmif/nn-strmif-imemallocator) .</span><span class="sxs-lookup"><span data-stu-id="92835-188">Implements the [**IMemAllocator**](/windows/desktop/api/Strmif/nn-strmif-imemallocator) interface.</span></span>                                                                          |
| [<span data-ttu-id="92835-189">**CMediaSample**</span><span class="sxs-lookup"><span data-stu-id="92835-189">**CMediaSample**</span></span>](cmediasample.md)               | <span data-ttu-id="92835-190">Oggetto di esempio multimediale.</span><span class="sxs-lookup"><span data-stu-id="92835-190">Media sample object.</span></span> <span data-ttu-id="92835-191">Implementa l'interfaccia [**IMediaSample2**](/windows/desktop/api/Strmif/nn-strmif-imediasample2) .</span><span class="sxs-lookup"><span data-stu-id="92835-191">Implements the [**IMediaSample2**](/windows/desktop/api/Strmif/nn-strmif-imediasample2) interface.</span></span>                                                                              |
| [<span data-ttu-id="92835-192">**CBaseReferenceClock**</span><span class="sxs-lookup"><span data-stu-id="92835-192">**CBaseReferenceClock**</span></span>](cbasereferenceclock.md) | <span data-ttu-id="92835-193">Classe base per gli orologi di riferimento.</span><span class="sxs-lookup"><span data-stu-id="92835-193">Base class for reference clocks.</span></span> <span data-ttu-id="92835-194">Implementa l'interfaccia [**IReferenceClock**](/windows/desktop/api/Strmif/nn-strmif-ireferenceclock) .</span><span class="sxs-lookup"><span data-stu-id="92835-194">Implements the [**IReferenceClock**](/windows/desktop/api/Strmif/nn-strmif-ireferenceclock) interface.</span></span>                                                              |
| [<span data-ttu-id="92835-195">**CMediaType**</span><span class="sxs-lookup"><span data-stu-id="92835-195">**CMediaType**</span></span>](cmediatype.md)                   | <span data-ttu-id="92835-196">Oggetto helper per la modifica delle strutture di [**\_ \_ tipi di supporto am**](/windows/win32/api/strmif/ns-strmif-am_media_type) .</span><span class="sxs-lookup"><span data-stu-id="92835-196">Helper object for manipulating [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) structures.</span></span>                                                                                |



 

 

 



