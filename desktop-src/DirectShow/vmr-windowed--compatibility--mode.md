---
description: Modalità a finestra (compatibilità) VMR
ms.assetid: e9fb1c83-860a-44c1-9633-c86f5d0fdadd
title: Modalità a finestra (compatibilità) VMR
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7312274881642d15b844e0fa950f72e52f92db8f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104561360"
---
# <a name="vmr-windowed-compatibility-mode"></a><span data-ttu-id="3a3e8-103">Modalità a finestra (compatibilità) VMR</span><span class="sxs-lookup"><span data-stu-id="3a3e8-103">VMR Windowed (Compatibility) Mode</span></span>

<span data-ttu-id="3a3e8-104">VMR è progettato per essere compatibile con tutte le applicazioni DirectShow esistenti.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-104">The VMR is designed to be compatible with all existing DirectShow applications.</span></span> <span data-ttu-id="3a3e8-105">Quando viene usato con un'applicazione esistente, VMR funziona in modalità finestra con un solo flusso video, detto anche modalità di compatibilità.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-105">When it is used with an existing application, the VMR operates in windowed mode with a single video stream, also called compatibility mode.</span></span> <span data-ttu-id="3a3e8-106">Questa modalità viene fornita perché VMR-7 è il renderer predefinito in Windows XP e viene quindi usato automaticamente nelle chiamate a metodi di [connessione intelligenti](intelligent-connect.md) , ad esempio [**IGraphBuilder:: RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span><span class="sxs-lookup"><span data-stu-id="3a3e8-106">This mode is provided because the VMR-7 is the default renderer on Windows XP, and is therefore automatically used in calls to [Intelligent Connect](intelligent-connect.md) methods such as [**IGraphBuilder::RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span></span> <span data-ttu-id="3a3e8-107">Se l'applicazione usa la connessione intelligente e richiede solo funzionalità di rendering di base, non è necessario alcun codice speciale per il rendering corretto con VMR-7 in Windows XP.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-107">If your application uses Intelligent Connect and requires only basic rendering capabilities, you do not need any special code to render correctly with the VMR-7 on Windows XP.</span></span>

<span data-ttu-id="3a3e8-108">Per impostazione predefinita, VMR-9 viene eseguito anche in modalità finestra/compatibilità.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-108">The VMR-9 also runs in windowed/compatibility mode by default.</span></span> <span data-ttu-id="3a3e8-109">Tuttavia, VMR-9 non è mai il renderer video predefinito.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-109">However, the VMR-9 is never the default video renderer.</span></span> <span data-ttu-id="3a3e8-110">Per usare VMR-9 in un'applicazione, è necessario aggiungerlo in modo esplicito al grafico dei filtri.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-110">To use the VMR-9 in an application, you must explicitly add it to the filter graph.</span></span> <span data-ttu-id="3a3e8-111">Per questo motivo, e poiché la modalità senza finestra offre una funzionalità migliore rispetto alla modalità finestra, non esiste un vantaggio particolare nell'uso di VMR-9 in modalità Windows/Compatibility.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-111">For that reason, and because windowless mode provides better functionality than windowed mode, there is no particular advantage to using the VMR-9 in windowed/compatibility mode.</span></span>

<span data-ttu-id="3a3e8-112">**Uso di VMR-7 in modalità finestra/compatibilità**</span><span class="sxs-lookup"><span data-stu-id="3a3e8-112">**Using the VMR-7 in Windowed/Compatibility Mode**</span></span>

<span data-ttu-id="3a3e8-113">Non è necessaria alcuna programmazione speciale per configurare o controllare VMR-7 in modalità Windows/Compatibility.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-113">No special programming is required to set up or control the VMR-7 in windowed/compatibility mode.</span></span> <span data-ttu-id="3a3e8-114">È sufficiente creare il grafico di filtro usando le chiamate di compilazione del grafo standard e VMR-7 per impostazione predefinita su questa modalità.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-114">Simply build the filter graph using the standard graph-building calls, and the VMR-7 will default to this mode.</span></span>

<span data-ttu-id="3a3e8-115">In modalità di compatibilità con finestra, VMR-7 crea la propria finestra per visualizzare il video.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-115">In windowed/compatibility mode, the VMR-7 creates its own window to display the video.</span></span> <span data-ttu-id="3a3e8-116">A tale scopo, carica il componente Window Manager, che espone le interfacce [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) e [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo) .</span><span class="sxs-lookup"><span data-stu-id="3a3e8-116">To do so, it loads the Window Manager component, which exposes the [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) and [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo) interfaces.</span></span> <span data-ttu-id="3a3e8-117">L'applicazione può eseguire una query su Filter Graph Manager per queste interfacce, esattamente come si farebbe con il vecchio filtro renderer video.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-117">Your application can query the Filter Graph Manager for these interfaces, exactly as you would with the old Video Renderer filter.</span></span> <span data-ttu-id="3a3e8-118">Per altre informazioni, vedere [uso della modalità Window](using-windowed-mode.md).</span><span class="sxs-lookup"><span data-stu-id="3a3e8-118">For more information, see [Using Windowed Mode](using-windowed-mode.md).</span></span>

<span data-ttu-id="3a3e8-119">La figura seguente Mostra VMR-7 in modalità di compatibilità con finestra.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-119">The following illustration shows the VMR-7 in windowed/compatibility mode.</span></span>

![VMR in modalità di compatibilità](images/vmr-compat-mode.png)

<span data-ttu-id="3a3e8-121">Per garantire il massimo livello di compatibilità, la finestra video ha lo stesso nome di classe di quello creato dal filtro renderer video precedente e la maggior parte del codice di Window Manager dal renderer video precedente è ancora usato da VMR.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-121">To guarantee the maximum level of compatibility, the video window has the same class name as the one created by the old Video Renderer filter, and most of the Window Manager code from the old Video Renderer is still used by the VMR.</span></span> <span data-ttu-id="3a3e8-122">In modalità di compatibilità con Windows, VMR non utilizza più risorse di sistema rispetto al renderer video precedente.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-122">In windowed/compatibility mode, the VMR consumes no more system resources than the old Video Renderer.</span></span> <span data-ttu-id="3a3e8-123">Poiché VMR-7 ha un solo flusso di input in modalità finestra/compatibilità, non carica i componenti mixer o Compositor.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-123">Since the VMR-7 has only one input stream in windowed/compatibility mode, it does not load its mixer or compositor components.</span></span>

<span data-ttu-id="3a3e8-124">Per impostazione predefinita, VMR estende l'immagine per riempire la finestra del video.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-124">By default, the VMR stretches the image to fill the video window.</span></span> <span data-ttu-id="3a3e8-125">Per mantenere le proporzioni dell'origine, chiamare il metodo [**IVMRAspectRatioControl:: SetAspectRatioMode**](/windows/desktop/api/Strmif/nf-strmif-ivmraspectratiocontrol-setaspectratiomode) con il flag della \_ casella della lettera VMR ARMODE \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="3a3e8-125">To preserve the aspect ratio of the source, call the [**IVMRAspectRatioControl::SetAspectRatioMode**](/windows/desktop/api/Strmif/nf-strmif-ivmraspectratiocontrol-setaspectratiomode) method with the VMR\_ARMODE\_LETTER\_BOX flag.</span></span>

> [!Note]  
> <span data-ttu-id="3a3e8-126">Le applicazioni MFC che collocano la finestra video in una finestra figlio devono definire un \_ gestore di messaggi WM ERASEBKGND vuoto oppure l'area di visualizzazione del video non viene ridisegnata correttamente.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-126">MFC applications that place the video window in a child window must define an empty WM\_ERASEBKGND message handler, or the video display area will not repaint correctly.</span></span>

 

<span data-ttu-id="3a3e8-127">**Uso di VMR-7 in modalità finestra/compatibilità con più flussi**</span><span class="sxs-lookup"><span data-stu-id="3a3e8-127">**Using the VMR-7 in Windowed/Compatibility Mode with Multiple Streams**</span></span>

<span data-ttu-id="3a3e8-128">In modalità di compatibilità con finestra, VMR-7 crea un singolo pin di input per impostazione predefinita e Disabilita la modalità di combinazione.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-128">In windowed/compatibility mode, the VMR-7 creates a single input pin by default, and disables mixing mode.</span></span> <span data-ttu-id="3a3e8-129">Per abilitare la modalità di combinazione, è necessario configurare il VMR prima di connetterlo.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-129">To enable mixing mode, you must configure the VMR before you connect it.</span></span> <span data-ttu-id="3a3e8-130">Per altre informazioni, vedere [VMR con più flussi (modalità di combinazione)](vmr-with-multiple-streams--mixing-mode.md).</span><span class="sxs-lookup"><span data-stu-id="3a3e8-130">For more information, see [VMR with Multiple Streams (Mixing Mode)](vmr-with-multiple-streams--mixing-mode.md).</span></span> <span data-ttu-id="3a3e8-131">In modalità di combinazione, il VMR carica i componenti di combinazione e compositor, che richiedono più risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-131">In mixing mode, the VMR loads the mixing and compositor components, which require more system resources.</span></span>

<span data-ttu-id="3a3e8-132">**Uso di VMR-9 in modalità finestra**</span><span class="sxs-lookup"><span data-stu-id="3a3e8-132">**Using the VMR-9 in Windowed Mode**</span></span>

<span data-ttu-id="3a3e8-133">Poiché VMR-9 non è il renderer predefinito, non dispone di una modalità di compatibilità di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-133">Because the VMR-9 is not the default renderer, it does not have a compatibility mode as such.</span></span> <span data-ttu-id="3a3e8-134">Il valore predefinito di VMR-9 è invece la modalità finestra con quattro pin di input.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-134">Instead, the VMR-9 defaults to windowed mode with four input pins.</span></span> <span data-ttu-id="3a3e8-135">È possibile usare questa modalità per combinare fino a quattro flussi video.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-135">You can use this mode to mix up to four video streams.</span></span> <span data-ttu-id="3a3e8-136">Se è necessario combinare un numero maggiore di flussi, è necessario configurarlo come descritto in [VMR con più flussi (modalità di combinazione)](vmr-with-multiple-streams--mixing-mode.md).</span><span class="sxs-lookup"><span data-stu-id="3a3e8-136">If you need to mix a larger number of streams, you must configure it as described in [VMR with Multiple Streams (Mixing Mode)](vmr-with-multiple-streams--mixing-mode.md).</span></span> <span data-ttu-id="3a3e8-137">In caso contrario, il VMR-9 in modalità finestra si comporta esattamente come VMR-7 in modalità di compatibilità con finestra.</span><span class="sxs-lookup"><span data-stu-id="3a3e8-137">Otherwise, the VMR-9 in windowed mode behaves exactly like the VMR-7 in windowed/compatibility mode.</span></span>

 

 



