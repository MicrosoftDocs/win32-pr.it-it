---
description: Flusso di dati nel navigatore DVD
ms.assetid: 14f9cfa3-5ef6-419c-9196-2e4060549c03
title: Flusso di dati nel navigatore DVD
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 29a981d2d7b528163abb53478e9e8f2ab88d46c0
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "103747426"
---
# <a name="data-flow-in-the-dvd-navigator"></a><span data-ttu-id="899d2-103">Flusso di dati nel navigatore DVD</span><span class="sxs-lookup"><span data-stu-id="899d2-103">Data Flow in the DVD Navigator</span></span>

<span data-ttu-id="899d2-104">Il navigatore DVD dispone di metodi per arrestare e sospendere la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="899d2-104">The DVD Navigator has methods to stop and pause playback.</span></span> <span data-ttu-id="899d2-105">Questi metodi sono simili, ma non identici, ai metodi **Stop** e **pause** in [**IMediaControl**](/windows/desktop/api/Control/nn-control-imediacontrol).</span><span class="sxs-lookup"><span data-stu-id="899d2-105">These methods are similar — but not identical — to the **Stop** and **Pause** methods in [**IMediaControl**](/windows/desktop/api/Control/nn-control-imediacontrol).</span></span> <span data-ttu-id="899d2-106">Di seguito è illustrata la differenza tra di essi:</span><span class="sxs-lookup"><span data-stu-id="899d2-106">Here is the difference between them:</span></span>

-   <span data-ttu-id="899d2-107">I metodi **IDVDControl2** modificano gli elementi letti dal navigatore DVD dal disco.</span><span class="sxs-lookup"><span data-stu-id="899d2-107">The **IDvdControl2** methods change what the DVD Navigator reads from the disk.</span></span> <span data-ttu-id="899d2-108">Non cambiano lo stato del grafico.</span><span class="sxs-lookup"><span data-stu-id="899d2-108">They do not change the state of the graph.</span></span>
-   <span data-ttu-id="899d2-109">I metodi **IMediaControl** modificano lo stato del grafico.</span><span class="sxs-lookup"><span data-stu-id="899d2-109">The **IMediaControl** methods change the state of the graph.</span></span> <span data-ttu-id="899d2-110">Non modificano le letture di DVD Navigator dal disco.</span><span class="sxs-lookup"><span data-stu-id="899d2-110">They do not change what the DVD Navigator reads from the disk.</span></span> <span data-ttu-id="899d2-111">(È presente un'eccezione importante, illustrata nella sezione successiva, correlata al metodo **Stop** ).</span><span class="sxs-lookup"><span data-stu-id="899d2-111">(There is one important exception, explained in the next section, related to the **Stop** method.)</span></span>

<span data-ttu-id="899d2-112">Ad esempio, [**IDVDControl2::P ause**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-pause) metodo esegue il comando Annex J "pause \_ on", ma non sospende il grafico del filtro.</span><span class="sxs-lookup"><span data-stu-id="899d2-112">For example, [**IDvdControl2::Pause**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-pause) method issues the Annex J "Pause\_On" command, but does not pause the filter graph.</span></span> <span data-ttu-id="899d2-113">Il metodo [**IMediaControl::P ause**](/windows/desktop/api/Control/nf-control-imediacontrol-pause) , d'altra parte, mette in pausa il grafo ma non emette alcun comando DVD.</span><span class="sxs-lookup"><span data-stu-id="899d2-113">The [**IMediaControl::Pause**](/windows/desktop/api/Control/nf-control-imediacontrol-pause) method, on the other hand, pauses the graph but does not issue any DVD command.</span></span>

<span data-ttu-id="899d2-114">In generale, usare i metodi **IMediaControl::P ause** e **Stop** anziché i metodi **IDVDControl2** corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="899d2-114">In general, use the **IMediaControl::Pause** and **Stop** methods instead of the corresponding **IDvdControl2** methods.</span></span> <span data-ttu-id="899d2-115">I metodi **IMediaControl** hanno latenze molto piccole, mentre i metodi **IDVDControl2** possono avere fino a due secondi di latenza.</span><span class="sxs-lookup"><span data-stu-id="899d2-115">The **IMediaControl** methods have very small latencies, whereas the **IDvdControl2** methods can have up to two seconds of latency.</span></span>

<span data-ttu-id="899d2-116">Arresto della riproduzione</span><span class="sxs-lookup"><span data-stu-id="899d2-116">Stopping Playback</span></span>

<span data-ttu-id="899d2-117">Il comportamento di [**IMediaControl:: Stop**](/windows/desktop/api/Control/nf-control-imediacontrol-stop) dipende da un flag che è possibile impostare con il metodo [**IDVDControl2:: SetOption**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-setoption) .</span><span class="sxs-lookup"><span data-stu-id="899d2-117">The behavior of [**IMediaControl::Stop**](/windows/desktop/api/Control/nf-control-imediacontrol-stop) depends on a flag that you can set with the [**IDvdControl2::SetOption**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-setoption) method.</span></span>

-   <span data-ttu-id="899d2-118">Se il \_ flag DVD ResetOnStop è **false**, **IMediaControl:: Stop** arresta il grafo, ma non modifica il dominio del navigatore DVD.</span><span class="sxs-lookup"><span data-stu-id="899d2-118">If the DVD\_ResetOnStop flag is **FALSE**, **IMediaControl::Stop** stops the graph, but does not change the DVD Navigator's domain.</span></span> <span data-ttu-id="899d2-119">Quando si chiama di nuovo l'esecuzione, la riproduzione riprende dalla posizione corrente.</span><span class="sxs-lookup"><span data-stu-id="899d2-119">When you call run again, playback resumes from the current position.</span></span>
-   <span data-ttu-id="899d2-120">Se \_ il DVD ResetOnStop è **true**, **IMediaControl:: Stop** causa la reimpostazione del navigatore DVD.</span><span class="sxs-lookup"><span data-stu-id="899d2-120">If DVD\_ResetOnStop is **TRUE**, **IMediaControl::Stop** causes the DVD Navigator to reset.</span></span> <span data-ttu-id="899d2-121">Quando si chiama [**IMediaControl:: Run**](/windows/desktop/api/Control/nf-control-imediacontrol-run) , il NAVIGAtore DVD viene riprodotto dal primo dominio di riproduzione, come se si stesse inserendo il DVD per la prima volta.</span><span class="sxs-lookup"><span data-stu-id="899d2-121">When you call [**IMediaControl::Run**](/windows/desktop/api/Control/nf-control-imediacontrol-run) again, the DVD Navigator plays from the First Play domain, as if you were inserting the DVD for the first time.</span></span>

<span data-ttu-id="899d2-122">Il \_ flag RESETONSTOP DVD è **true** per impostazione predefinita, per compatibilità con le applicazioni meno recenti.</span><span class="sxs-lookup"><span data-stu-id="899d2-122">The DVD\_ResetOnStop flag is **TRUE** by default, for compatibility with older applications.</span></span> <span data-ttu-id="899d2-123">In genere, tuttavia, è necessario eseguire l'override dell'impostazione predefinita e impostare il flag su **false**.</span><span class="sxs-lookup"><span data-stu-id="899d2-123">Generally, however, you should override the default and set the flag to **FALSE**.</span></span> <span data-ttu-id="899d2-124">Il motivo è che alcuni eventi possono causare l'arresto del grafico durante la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="899d2-124">The reason is that certain events can cause the graph to stop during playback.</span></span> <span data-ttu-id="899d2-125">Se, ad esempio, la risoluzione dello schermo viene modificata, il grafico di filtro si interrompe, riconnette il renderer video e viene riavviato.</span><span class="sxs-lookup"><span data-stu-id="899d2-125">For example, if the display resolution changes, the filter graph stops, reconnects the video renderer, and restarts.</span></span> <span data-ttu-id="899d2-126">Se \_ il DVD ResetOnStop è **true**, la riproduzione verrà riavviata dall'inizio del disco. Probabilmente non è quello previsto dall'utente.</span><span class="sxs-lookup"><span data-stu-id="899d2-126">If DVD\_ResetOnStop is **TRUE**, playback will restart from the beginning of the disc. That is probably not what the user expects.</span></span>

<span data-ttu-id="899d2-127">All'inizio dell'applicazione, quindi, chiamare **seoption** con DVD \_ ResetOnStop impostato su **false**.</span><span class="sxs-lookup"><span data-stu-id="899d2-127">At the beginning of your application, therefore, call **SetOption** with DVD\_ResetOnStop set to **FALSE**.</span></span> <span data-ttu-id="899d2-128">Se si desidera arrestare la riproduzione e riprenderla dallo stesso percorso, chiamare **IMediaControl:: Stop** o **IMediaControl::P ause**.</span><span class="sxs-lookup"><span data-stu-id="899d2-128">If you want to stop playback and have it resume from the same location, call **IMediaControl::Stop** or **IMediaControl::Pause**.</span></span> <span data-ttu-id="899d2-129">Se si desidera arrestare la riproduzione e reimpostare il disco, chiamare la funzione **SetOption** con DVD \_ ResetOnStop uguale a **true**, quindi chiamare **IMediaControl:: Stop**, infine chiamare nuovamente la funzione **SetOption** e reimpostare DVD \_ ResetOnStop su **false**.</span><span class="sxs-lookup"><span data-stu-id="899d2-129">If you want to stop playback and reset the disk, call **SetOption** with DVD\_ResetOnStop equal to **TRUE**; then call **IMediaControl::Stop**; finally, call **SetOption** again and reset DVD\_ResetOnStop to **FALSE**.</span></span>

<span data-ttu-id="899d2-130">Sospensione della riproduzione</span><span class="sxs-lookup"><span data-stu-id="899d2-130">Pausing Playback</span></span>

<span data-ttu-id="899d2-131">Se si assegna al navigatore DVD un comando quando il grafico è sospeso, il comando potrebbe non essere completato fino a quando il grafico non viene più eseguito.</span><span class="sxs-lookup"><span data-stu-id="899d2-131">If you give the DVD Navigator a command while the graph is paused, the command may not complete until the graph runs again.</span></span> <span data-ttu-id="899d2-132">In alcune situazioni, questo può causare un deadlock nell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="899d2-132">In some situations, this can cause a deadlock in your application.</span></span> <span data-ttu-id="899d2-133">Per evitare deadlock, è necessario seguire due regole:</span><span class="sxs-lookup"><span data-stu-id="899d2-133">There are two rules you should follow to avoid deadlocks:</span></span>

-   <span data-ttu-id="899d2-134">In pausa, non eseguire più di un comando DVD asincrono.</span><span class="sxs-lookup"><span data-stu-id="899d2-134">While paused, do not issue more than one asynchronous DVD command.</span></span>
-   <span data-ttu-id="899d2-135">Durante la pausa, non bloccare il thread dell'interfaccia utente dell'applicazione o il thread che modifica lo stato del grafico.</span><span class="sxs-lookup"><span data-stu-id="899d2-135">While paused, do not block the application's UI thread or the thread that changes the state of the graph.</span></span>

<span data-ttu-id="899d2-136">La seconda regola vale la pena esaminare in modo più dettagliato.</span><span class="sxs-lookup"><span data-stu-id="899d2-136">The second rule is worth examining in more detail.</span></span> <span data-ttu-id="899d2-137">Di seguito sono riportati alcuni scenari specifici che possono causare un deadlock:</span><span class="sxs-lookup"><span data-stu-id="899d2-137">Here are some specific scenarios that may cause a deadlock:</span></span>

-   <span data-ttu-id="899d2-138">**Scenario**: durante la pausa, l'applicazione emette un comando DVD con il flag di blocco.</span><span class="sxs-lookup"><span data-stu-id="899d2-138">**Scenario**: While paused, the application issues a DVD command with the blocking flag.</span></span> <span data-ttu-id="899d2-139">Questo può causare un deadlock se il thread che emette il comando DVD è lo stesso thread che rilascia il comando Run.</span><span class="sxs-lookup"><span data-stu-id="899d2-139">This can cause a deadlock if the thread that issues the DVD command is the same thread that issues the run command.</span></span> <span data-ttu-id="899d2-140">Il comando DVD si blocca fino a quando non viene eseguito il grafo, ma il grafico non può essere eseguito fino al completamento del comando.</span><span class="sxs-lookup"><span data-stu-id="899d2-140">The DVD command blocks until the graph runs, but the graph cannot run until the command completes.</span></span>

    <span data-ttu-id="899d2-141">**Raccomandazione**: eseguire il comando DVD su un thread di lavoro separato oppure non usare il flag di blocco.</span><span class="sxs-lookup"><span data-stu-id="899d2-141">**Recommendation**: Issue the DVD command on a separate worker thread, or don't use the blocking flag.</span></span>

-   <span data-ttu-id="899d2-142">**Scenario**: durante la pausa, l'applicazione esegue un comando DVD, quindi chiama [**IDvdCmd:: WaitForEnd**](/windows/desktop/api/Strmif/nf-strmif-idvdcmd-waitforend) sull'oggetto Command.</span><span class="sxs-lookup"><span data-stu-id="899d2-142">**Scenario**: While paused, the application issues a DVD command, then calls [**IDvdCmd::WaitForEnd**](/windows/desktop/api/Strmif/nf-strmif-idvdcmd-waitforend) on the command object.</span></span> <span data-ttu-id="899d2-143">Questa situazione è equivalente all'esempio precedente.</span><span class="sxs-lookup"><span data-stu-id="899d2-143">This situation is equivalent to the previous example.</span></span> <span data-ttu-id="899d2-144">Se si chiama **wait** dal thread UI, il thread dell'interfaccia utente non può eseguire il grafo finché il metodo **wait** non viene sbloccato, ma il metodo **wait** non viene sbloccato fino a quando non viene eseguito il grafo.</span><span class="sxs-lookup"><span data-stu-id="899d2-144">If you call **Wait** from the UI thread, the UI thread cannot run the graph until the **Wait** method unblocks, but the **Wait** method will not unblock until the graph runs.</span></span>

    <span data-ttu-id="899d2-145">**Raccomandazione**: chiamare **wait** su un thread di lavoro.</span><span class="sxs-lookup"><span data-stu-id="899d2-145">**Recommendation**: Call **Wait** on a worker thread.</span></span>

-   <span data-ttu-id="899d2-146">**Scenario**: durante l'esecuzione del grafo, l'applicazione emette un comando DVD con il flag di blocco e quindi chiama pause da un altro thread.</span><span class="sxs-lookup"><span data-stu-id="899d2-146">**Scenario**: While the graph is running, the application issues a DVD command with the blocking flag, and then calls pause from another thread.</span></span> <span data-ttu-id="899d2-147">Si tratta di un possibile race condition perché il grafo può essere sospeso prima dell'emissione del comando.</span><span class="sxs-lookup"><span data-stu-id="899d2-147">This is a possible race condition because the graph may pause before the command is issued.</span></span> <span data-ttu-id="899d2-148">Se uno dei due thread è il thread dell'interfaccia utente, è possibile che si verifichi un deadlock simile ai due esempi precedenti.</span><span class="sxs-lookup"><span data-stu-id="899d2-148">If one of the two threads is the UI thread, you may cause a deadlock similar to the previous two examples.</span></span> <span data-ttu-id="899d2-149">In questo esempio viene illustrata l'importanza della scrittura di codice thread-safe se l'applicazione utilizza più thread.</span><span class="sxs-lookup"><span data-stu-id="899d2-149">This example illustrates the importance of writing thread-safe code if your application uses multiple threads.</span></span>

    <span data-ttu-id="899d2-150">**Suggerimento**: se si usano i thread di lavoro, assicurarsi che il codice sia thread-safe.</span><span class="sxs-lookup"><span data-stu-id="899d2-150">**Recommendation**: If you use worker threads, make sure your code is thread-safe.</span></span>

-   <span data-ttu-id="899d2-151">**Scenario**: durante la pausa, l'applicazione Disabilita il comando Run dall'interfaccia utente e quindi emette un comando DVD asincrono.</span><span class="sxs-lookup"><span data-stu-id="899d2-151">**Scenario**: While paused, the application disables the run command from the UI, and then issues an asynchronous DVD command.</span></span> <span data-ttu-id="899d2-152">Questo caso non è esclusivamente un deadlock, perché il thread dell'applicazione è ancora in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="899d2-152">This case is not strictly a deadlock, because the application thread is still running.</span></span> <span data-ttu-id="899d2-153">Tuttavia, a questo punto l'utente non è in grado di eseguire il grafo, quindi il comando non verrà mai completato.</span><span class="sxs-lookup"><span data-stu-id="899d2-153">However, the user is now prevented from running the graph, and therefore the command will never complete.</span></span>

    <span data-ttu-id="899d2-154">**Suggerimento**: quando si sospende, lasciare sempre il comando Run attivato.</span><span class="sxs-lookup"><span data-stu-id="899d2-154">**Recommendation**: When pausing, always leave the run command enabled.</span></span>

<span data-ttu-id="899d2-155">Ricerca di un DVD a un'ora specificata</span><span class="sxs-lookup"><span data-stu-id="899d2-155">Seeking a DVD to a Specified Time</span></span>

<span data-ttu-id="899d2-156">Per cercare in modo accurato a un'ora specificata su un disco, chiamare [**IMediaControl:: Run**](/windows/desktop/api/Control/nf-control-imediacontrol-run).</span><span class="sxs-lookup"><span data-stu-id="899d2-156">To accurately seek to a specified time on a disc, call [**IMediaControl::Run**](/windows/desktop/api/Control/nf-control-imediacontrol-run).</span></span> <span data-ttu-id="899d2-157">Chiamare quindi [**IDVDControl2::P layattime**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-playattime), specificando l'ora e l'impostazione di *dwFlags* su DVD \_ comando di \_ \_ scaricamento del flag.</span><span class="sxs-lookup"><span data-stu-id="899d2-157">Then call [**IDvdControl2::PlayAtTime**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-playattime), specifying the time and setting *dwFlags* to DVD\_CMD\_FLAG\_Flush.</span></span>

## <a name="related-topics"></a><span data-ttu-id="899d2-158">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="899d2-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="899d2-159">Applicazioni DVD</span><span class="sxs-lookup"><span data-stu-id="899d2-159">DVD Applications</span></span>](dvd-applications.md)
</dt> </dl>

 

 



