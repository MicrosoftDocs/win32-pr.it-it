---
description: Gestione porta video
ms.assetid: d70558a5-9820-432a-b4f3-ccf7bb2a34d5
title: Gestione porta video
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b7ca884ff009584ef2904387d872733ddf8d53dd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103883081"
---
# <a name="video-port-manager"></a><span data-ttu-id="d969a-103">Gestione porta video</span><span class="sxs-lookup"><span data-stu-id="d969a-103">Video Port Manager</span></span>

<span data-ttu-id="d969a-104">Il filtro di gestione porta video (VPM) consente al filtro renderer video mixing 7 (VMR-7) di funzionare con i dispositivi di acquisizione video o i decodificatori hardware che usano una porta video.</span><span class="sxs-lookup"><span data-stu-id="d969a-104">The Video Port Manager filter (VPM) enables the Video Mixing Renderer Filter 7 (VMR-7) to work with video capture devices or hardware decoders that use a video port.</span></span> <span data-ttu-id="d969a-105">Una porta video è una connessione hardware diretta al chip grafico.</span><span class="sxs-lookup"><span data-stu-id="d969a-105">A video port is a direct hardware connection to the graphics chip.</span></span> <span data-ttu-id="d969a-106">Consente il trasferimento dei video direttamente al chip grafico senza passare sul bus di sistema.</span><span class="sxs-lookup"><span data-stu-id="d969a-106">It enables video to be transferred directly to the graphics chip without going over the system bus.</span></span>

> [!Note]  
> <span data-ttu-id="d969a-107">Il gestore della porta video non è compatibile con VMR-9 perché VMR-9 non supporta le porte video.</span><span class="sxs-lookup"><span data-stu-id="d969a-107">The Video Port Manager is not compatible with the VMR-9, because the VMR-9 does not support video ports.</span></span>

 



|                                          |                                                                                                                                                                                                                      |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d969a-108">Interfacce di filtro</span><span class="sxs-lookup"><span data-stu-id="d969a-108">Filter Interfaces</span></span>                        | <span data-ttu-id="d969a-109">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span><span class="sxs-lookup"><span data-stu-id="d969a-109">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span></span> |
| <span data-ttu-id="d969a-110">Tipi di supporti pin di input</span><span class="sxs-lookup"><span data-stu-id="d969a-110">Input Pin Media Types</span></span>                    | <span data-ttu-id="d969a-111">MEDIATYPE \_ video, MEDIASUBTYPE \_ VPVIDEO o MEDIASUBTYPE \_ VPVBI, formato \_ None</span><span class="sxs-lookup"><span data-stu-id="d969a-111">MEDIATYPE\_Video, MEDIASUBTYPE\_VPVideo or MEDIASUBTYPE\_VPVBI, FORMAT\_None</span></span>                                                                                                                                         |
| <span data-ttu-id="d969a-112">Interfacce pin di input</span><span class="sxs-lookup"><span data-stu-id="d969a-112">Input Pin Interfaces</span></span>                     | <span data-ttu-id="d969a-113">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**Ipin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="d969a-113">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span> |
| <span data-ttu-id="d969a-114">Tipi di supporti pin di output</span><span class="sxs-lookup"><span data-stu-id="d969a-114">Output Pin Media Types</span></span>                   | <span data-ttu-id="d969a-115">\_Video MEDIATYPE, formato \_ VideoInfo2</span><span class="sxs-lookup"><span data-stu-id="d969a-115">MEDIATYPE\_Video, FORMAT\_VideoInfo2</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="d969a-116">Interfacce del PIN di output</span><span class="sxs-lookup"><span data-stu-id="d969a-116">Output Pin Interfaces</span></span>                    | <span data-ttu-id="d969a-117">[**Ipin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [ **IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="d969a-117">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                     |
| <span data-ttu-id="d969a-118">CLSID filtro</span><span class="sxs-lookup"><span data-stu-id="d969a-118">Filter CLSID</span></span>                             | <span data-ttu-id="d969a-119">\_VIDEOPORTMANAGER CLSID</span><span class="sxs-lookup"><span data-stu-id="d969a-119">CLSID\_VideoPortManager</span></span>                                                                                                                                                                                              |
| [<span data-ttu-id="d969a-120">Merito</span><span class="sxs-lookup"><span data-stu-id="d969a-120">Merit</span></span>](merit.md)                       | <span data-ttu-id="d969a-121">VALORE \_ normale</span><span class="sxs-lookup"><span data-stu-id="d969a-121">MERIT\_NORMAL</span></span>                                                                                                                                                                                                        |
| [<span data-ttu-id="d969a-122">Categoria filtro</span><span class="sxs-lookup"><span data-stu-id="d969a-122">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="d969a-123">\_LEGACYAMFILTERCATEGORY CLSID</span><span class="sxs-lookup"><span data-stu-id="d969a-123">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="d969a-124">Commenti</span><span class="sxs-lookup"><span data-stu-id="d969a-124">Remarks</span></span>

<span data-ttu-id="d969a-125">Video Port Manager combina le funzionalità della porta video del filtro per il [mixer overlay](overlay-mixer-filter.md) e la funzionalità dell' [allocatore della superficie VBI](vbi-surface-allocator.md).</span><span class="sxs-lookup"><span data-stu-id="d969a-125">The Video Port Manager combines the video port functionality of the [Overlay Mixer Filter](overlay-mixer-filter.md) and the functionality of the [VBI Surface Allocator](vbi-surface-allocator.md).</span></span> <span data-ttu-id="d969a-126">Il VPM alloca le porte e le superfici video e sincronizza l'acquisizione dei dati dalla porta video.</span><span class="sxs-lookup"><span data-stu-id="d969a-126">The VPM allocates video ports and surfaces, and synchronizes data capture from the video port.</span></span> <span data-ttu-id="d969a-127">Consente l'acquisizione basata su porta video indipendente dal rendering.</span><span class="sxs-lookup"><span data-stu-id="d969a-127">It allows video port-based capture that is independent of rendering.</span></span> <span data-ttu-id="d969a-128">Se si desidera visualizzare l'anteprima, VPM coordina con VMR-7 per visualizzare i dati acquisiti della porta video.</span><span class="sxs-lookup"><span data-stu-id="d969a-128">If preview is desired, the VPM coordinates with the VMR-7 to display captured video port data.</span></span> <span data-ttu-id="d969a-129">Quando nel sistema è presente una porta video, il filtro di acquisizione richiede buffer aggiuntivi per estrarre i dati VBI dal flusso video.</span><span class="sxs-lookup"><span data-stu-id="d969a-129">When a video port is present on the system, the capture filter requires additional buffers to extract VBI data from the video stream.</span></span> <span data-ttu-id="d969a-130">Questi buffer sono forniti da VPM.</span><span class="sxs-lookup"><span data-stu-id="d969a-130">These buffers are provided by the VPM.</span></span> <span data-ttu-id="d969a-131">Una volta che il filtro di acquisizione ha estratto i dati VBI, lo recapita su un pin separato ai filtri, ad esempio il decodificatore CC.</span><span class="sxs-lookup"><span data-stu-id="d969a-131">Once the capture filter has extracted the VBI data, it delivers it on a separate pin to filters such as the CC Decoder.</span></span> <span data-ttu-id="d969a-132">Nella figura seguente vengono illustrati VPM e le relative connessioni in un grafico di filtro.</span><span class="sxs-lookup"><span data-stu-id="d969a-132">The following illustration shows the VPM and its connections in a filter graph.</span></span>

![segmento del grafico filtro di gestione porte video](images/vpm.png)

<span data-ttu-id="d969a-134">Il generatore di DVD Graph aggiunge automaticamente il VPM al grafico di filtro quando viene rilevata una porta video nel sistema.</span><span class="sxs-lookup"><span data-stu-id="d969a-134">The DVD Graph Builder adds the VPM to the filter graph automatically when a video port is detected on the system.</span></span> <span data-ttu-id="d969a-135">Una volta aggiunto al grafico, VPM utilizza un oggetto DirectDraw fornito dal renderer di combinazione video per allocare due o tre superfici.</span><span class="sxs-lookup"><span data-stu-id="d969a-135">Once added to the graph, the VPM uses a DirectDraw object provided by the Video Mixing Renderer to allocate two or three surfaces.</span></span> <span data-ttu-id="d969a-136">Queste superfici ricevono i frame digitalizzati dal filtro di acquisizione upstream.</span><span class="sxs-lookup"><span data-stu-id="d969a-136">These surfaces receive the digitized frames from the upstream capture filter.</span></span> <span data-ttu-id="d969a-137">In risposta alle notifiche degli eventi in modalità utente inviate quando i dati sono presenti nell'area, VPM esegue una blit automatica a una superficie Offscreen fornita da VMR.</span><span class="sxs-lookup"><span data-stu-id="d969a-137">In response to user-mode event notifications sent when data is present in the surface, the VPM performs an automatic blit to an offscreen surface provided by the VMR.</span></span>

<span data-ttu-id="d969a-138">Il fatto che VPM usi più superfici per i buffer di input significa che richiede più VRAM rispetto all'implementazione precedente della porta video DirectShow.</span><span class="sxs-lookup"><span data-stu-id="d969a-138">The fact that the VPM uses multiple surfaces for its input buffers means that it requires more VRAM than the previous DirectShow video port implementation.</span></span> <span data-ttu-id="d969a-139">Il blit aggiuntivo da VPM a VMR-7 richiede larghezza di banda di memoria video aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="d969a-139">The extra blit from the VPM to the VMR-7 requires additional video memory bandwidth.</span></span> <span data-ttu-id="d969a-140">Poiché il capovolgimento automatico dell'hardware non viene più usato, esiste un potenziale teorico per i frame eliminati, ma l'evidenza empirica suggerisce che questa situazione non si verifica.</span><span class="sxs-lookup"><span data-stu-id="d969a-140">And since hardware auto-flipping is not used any longer, there is a theoretical potential for dropped frames, but the empirical evidence suggests that this does not occur.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d969a-141">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="d969a-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d969a-142">Filtri DirectShow</span><span class="sxs-lookup"><span data-stu-id="d969a-142">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="d969a-143">**Interfaccia IVPManager**</span><span class="sxs-lookup"><span data-stu-id="d969a-143">**IVPManager Interface**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)
</dt> </dl>

 

 



