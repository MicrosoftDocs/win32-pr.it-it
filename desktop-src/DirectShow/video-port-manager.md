---
description: Gestione porte video
ms.assetid: d70558a5-9820-432a-b4f3-ccf7bb2a34d5
title: Gestione porte video
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: db4f030e6be9035432207dc608a775a0e1d30b09
ms.sourcegitcommit: 63753fcfb0afbbe5ec283fb8316e62c2dc950f66
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/22/2021
ms.locfileid: "107909199"
---
# <a name="video-port-manager"></a><span data-ttu-id="26c67-103">Gestione porte video</span><span class="sxs-lookup"><span data-stu-id="26c67-103">Video Port Manager</span></span>

<span data-ttu-id="26c67-104">Il filtro Video Port Manager (VPM) consente al filtro del renderer di combinazione video 7 (VMR-7) di funzionare con dispositivi di acquisizione video o decodificatori hardware che usano una porta video.</span><span class="sxs-lookup"><span data-stu-id="26c67-104">The Video Port Manager filter (VPM) enables the Video Mixing Renderer Filter 7 (VMR-7) to work with video capture devices or hardware decoders that use a video port.</span></span> <span data-ttu-id="26c67-105">Una porta video è una connessione hardware diretta al chip grafico.</span><span class="sxs-lookup"><span data-stu-id="26c67-105">A video port is a direct hardware connection to the graphics chip.</span></span> <span data-ttu-id="26c67-106">Consente di trasferire i video direttamente nel chip grafico senza passare attraverso il bus di sistema.</span><span class="sxs-lookup"><span data-stu-id="26c67-106">It enables video to be transferred directly to the graphics chip without going over the system bus.</span></span>

> [!Note]  
> <span data-ttu-id="26c67-107">Gestione porte video non è compatibile con VMR-9, perché VMR-9 non supporta le porte video.</span><span class="sxs-lookup"><span data-stu-id="26c67-107">The Video Port Manager is not compatible with the VMR-9, because the VMR-9 does not support video ports.</span></span>

 



| <span data-ttu-id="26c67-108">Label</span><span class="sxs-lookup"><span data-stu-id="26c67-108">Label</span></span> | <span data-ttu-id="26c67-109">Valore</span><span class="sxs-lookup"><span data-stu-id="26c67-109">Value</span></span> |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="26c67-110">Interfacce di filtro</span><span class="sxs-lookup"><span data-stu-id="26c67-110">Filter Interfaces</span></span>                        | <span data-ttu-id="26c67-111">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span><span class="sxs-lookup"><span data-stu-id="26c67-111">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span></span> |
| <span data-ttu-id="26c67-112">Tipi di supporti pin di input</span><span class="sxs-lookup"><span data-stu-id="26c67-112">Input Pin Media Types</span></span>                    | <span data-ttu-id="26c67-113">MEDIATYPE \_ Video, MEDIASUBTYPE \_ VPVideo o MEDIASUBTYPE \_ VPVBI, FORMAT \_ None</span><span class="sxs-lookup"><span data-stu-id="26c67-113">MEDIATYPE\_Video, MEDIASUBTYPE\_VPVideo or MEDIASUBTYPE\_VPVBI, FORMAT\_None</span></span>                                                                                                                                         |
| <span data-ttu-id="26c67-114">Interfacce pin di input</span><span class="sxs-lookup"><span data-stu-id="26c67-114">Input Pin Interfaces</span></span>                     | <span data-ttu-id="26c67-115">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="26c67-115">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span> |
| <span data-ttu-id="26c67-116">Tipi di supporti pin di output</span><span class="sxs-lookup"><span data-stu-id="26c67-116">Output Pin Media Types</span></span>                   | <span data-ttu-id="26c67-117">MEDIATYPE \_ Video, FORMAT \_ VideoInfo2</span><span class="sxs-lookup"><span data-stu-id="26c67-117">MEDIATYPE\_Video, FORMAT\_VideoInfo2</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="26c67-118">Interfacce pin di output</span><span class="sxs-lookup"><span data-stu-id="26c67-118">Output Pin Interfaces</span></span>                    | <span data-ttu-id="26c67-119">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [ **IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="26c67-119">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                     |
| <span data-ttu-id="26c67-120">CLSID del filtro</span><span class="sxs-lookup"><span data-stu-id="26c67-120">Filter CLSID</span></span>                             | <span data-ttu-id="26c67-121">CLSID \_ VideoPortManager</span><span class="sxs-lookup"><span data-stu-id="26c67-121">CLSID\_VideoPortManager</span></span>                                                                                                                                                                                              |
| [<span data-ttu-id="26c67-122">Merito</span><span class="sxs-lookup"><span data-stu-id="26c67-122">Merit</span></span>](merit.md)                       | <span data-ttu-id="26c67-123">MERITO \_ NORMALE</span><span class="sxs-lookup"><span data-stu-id="26c67-123">MERIT\_NORMAL</span></span>                                                                                                                                                                                                        |
| [<span data-ttu-id="26c67-124">Categoria filtro</span><span class="sxs-lookup"><span data-stu-id="26c67-124">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="26c67-125">CLSID \_ LegacyAmFilterCategory</span><span class="sxs-lookup"><span data-stu-id="26c67-125">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="26c67-126">Commenti</span><span class="sxs-lookup"><span data-stu-id="26c67-126">Remarks</span></span>

<span data-ttu-id="26c67-127">Gestione porte video combina la funzionalità della porta video del filtro [del mixer](overlay-mixer-filter.md) di sovrapposizione e la funzionalità dell'allocatore di superficie [VBI.](vbi-surface-allocator.md)</span><span class="sxs-lookup"><span data-stu-id="26c67-127">The Video Port Manager combines the video port functionality of the [Overlay Mixer Filter](overlay-mixer-filter.md) and the functionality of the [VBI Surface Allocator](vbi-surface-allocator.md).</span></span> <span data-ttu-id="26c67-128">Il VPM alloca le porte e le superfici video e sincronizza l'acquisizione dati dalla porta video.</span><span class="sxs-lookup"><span data-stu-id="26c67-128">The VPM allocates video ports and surfaces, and synchronizes data capture from the video port.</span></span> <span data-ttu-id="26c67-129">Consente l'acquisizione basata su porta video indipendente dal rendering.</span><span class="sxs-lookup"><span data-stu-id="26c67-129">It allows video port-based capture that is independent of rendering.</span></span> <span data-ttu-id="26c67-130">Se si desidera visualizzare l'anteprima, il VPM si coordina con VMR-7 per visualizzare i dati delle porte video acquisite.</span><span class="sxs-lookup"><span data-stu-id="26c67-130">If preview is desired, the VPM coordinates with the VMR-7 to display captured video port data.</span></span> <span data-ttu-id="26c67-131">Quando nel sistema è presente una porta video, il filtro di acquisizione richiede buffer aggiuntivi per estrarre dati VBI dal flusso video.</span><span class="sxs-lookup"><span data-stu-id="26c67-131">When a video port is present on the system, the capture filter requires additional buffers to extract VBI data from the video stream.</span></span> <span data-ttu-id="26c67-132">Questi buffer vengono forniti dal modulo di gestione delle applicazioni virtuali.</span><span class="sxs-lookup"><span data-stu-id="26c67-132">These buffers are provided by the VPM.</span></span> <span data-ttu-id="26c67-133">Dopo aver estratto i dati VBI, il filtro di acquisizione lo recapita su un segnaposto separato ai filtri, ad esempio il decodificatore CC.</span><span class="sxs-lookup"><span data-stu-id="26c67-133">Once the capture filter has extracted the VBI data, it delivers it on a separate pin to filters such as the CC Decoder.</span></span> <span data-ttu-id="26c67-134">La figura seguente mostra il VPM e le relative connessioni in un grafo di filtro.</span><span class="sxs-lookup"><span data-stu-id="26c67-134">The following illustration shows the VPM and its connections in a filter graph.</span></span>

![Segmento del grafico del filtro di Gestione porte video](images/vpm.png)

<span data-ttu-id="26c67-136">DVD Graph Builder aggiunge automaticamente il VPM al grafico dei filtri quando viene rilevata una porta video nel sistema.</span><span class="sxs-lookup"><span data-stu-id="26c67-136">The DVD Graph Builder adds the VPM to the filter graph automatically when a video port is detected on the system.</span></span> <span data-ttu-id="26c67-137">Dopo l'aggiunta al grafo, il modulo di gestione video usa un oggetto DirectDraw fornito dal renderer di combinazione video per allocare due o tre superfici.</span><span class="sxs-lookup"><span data-stu-id="26c67-137">Once added to the graph, the VPM uses a DirectDraw object provided by the Video Mixing Renderer to allocate two or three surfaces.</span></span> <span data-ttu-id="26c67-138">Queste superfici ricevono i fotogrammi digitalizzati dal filtro di acquisizione upstream.</span><span class="sxs-lookup"><span data-stu-id="26c67-138">These surfaces receive the digitized frames from the upstream capture filter.</span></span> <span data-ttu-id="26c67-139">In risposta alle notifiche degli eventi in modalità utente inviate quando i dati sono presenti in superficie, il VPM esegue un blit automatico su una superficie offscreen fornita dal VMR.</span><span class="sxs-lookup"><span data-stu-id="26c67-139">In response to user-mode event notifications sent when data is present in the surface, the VPM performs an automatic blit to an offscreen surface provided by the VMR.</span></span>

<span data-ttu-id="26c67-140">Il fatto che il VPM usi più superfici per i buffer di input significa che richiede più VRAM rispetto all'implementazione della porta video DirectShow precedente.</span><span class="sxs-lookup"><span data-stu-id="26c67-140">The fact that the VPM uses multiple surfaces for its input buffers means that it requires more VRAM than the previous DirectShow video port implementation.</span></span> <span data-ttu-id="26c67-141">Il blit aggiuntivo dal VPM al VMR-7 richiede ulteriore larghezza di banda della memoria video.</span><span class="sxs-lookup"><span data-stu-id="26c67-141">The extra blit from the VPM to the VMR-7 requires additional video memory bandwidth.</span></span> <span data-ttu-id="26c67-142">Poiché il capovolgimento automatico dell'hardware non viene più usato, esiste un potenziale teorico per i fotogrammi eliminati, ma l'evidenza empirica suggerisce che questo non si verifica.</span><span class="sxs-lookup"><span data-stu-id="26c67-142">And since hardware auto-flipping is not used any longer, there is a theoretical potential for dropped frames, but the empirical evidence suggests that this does not occur.</span></span>

## <a name="related-topics"></a><span data-ttu-id="26c67-143">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="26c67-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="26c67-144">Filtri DirectShow</span><span class="sxs-lookup"><span data-stu-id="26c67-144">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="26c67-145">**Interfaccia IVPManager**</span><span class="sxs-lookup"><span data-stu-id="26c67-145">**IVPManager Interface**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)
</dt> </dl>

 

 



