---
description: Rettangoli di origine e di destinazione nei renderer video
ms.assetid: fdddbffb-c44f-4364-9e2e-b721ba39c74f
title: Rettangoli di origine e di destinazione nei renderer video
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 556aea6aad22e5ea6df61c74ed0a46d2e3984d67
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104521873"
---
# <a name="source-and-target-rectangles-in-video-renderers"></a><span data-ttu-id="ac118-103">Rettangoli di origine e di destinazione nei renderer video</span><span class="sxs-lookup"><span data-stu-id="ac118-103">Source and Target Rectangles in Video Renderers</span></span>

<span data-ttu-id="ac118-104">Nelle strutture di formato [**VIDEOINFO**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfo), [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader)e [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) dei tipi di supporti video sono disponibili tre dimensioni.</span><span class="sxs-lookup"><span data-stu-id="ac118-104">There are three sizes found in the [**VIDEOINFO**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfo), [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader), and [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) format structures of video media types.</span></span> <span data-ttu-id="ac118-105">Questo articolo spiega cosa sono e come funzionano.</span><span class="sxs-lookup"><span data-stu-id="ac118-105">This article explains what they are and how they work.</span></span>

<span data-ttu-id="ac118-106">In primo luogo, esiste una dimensione nel membro **bmiHeader** di queste strutture.</span><span class="sxs-lookup"><span data-stu-id="ac118-106">First, there is a size in the **bmiHeader** member of these structures.</span></span> <span data-ttu-id="ac118-107">Il membro **bmiHeader** è una struttura [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) con i relativi membri Width e Height, **BmiHeader. biWidth** e **bmiHeader. biHeight**.</span><span class="sxs-lookup"><span data-stu-id="ac118-107">The **bmiHeader** member is a [**BITMAPINFOHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfoheader) structure with its own width and height members, **bmiHeader.biWidth** and **bmiHeader.biHeight**.</span></span>

<span data-ttu-id="ac118-108">In secondo luogo, esiste un rettangolo nel membro **rcSource** di queste strutture. Infine, esiste un rettangolo nel membro **rcTarget** di queste strutture.</span><span class="sxs-lookup"><span data-stu-id="ac118-108">Second, there is a rectangle in the **rcSource** member of these structures; and last, there is a rectangle in the **rcTarget** member of these structures.</span></span>

<span data-ttu-id="ac118-109">Si supponga di disporre di due filtri, A e B, e che questi filtri siano collegati tra loro (A a sinistra, A Monte e B a destra o a valle) con un determinato tipo di supporti video.</span><span class="sxs-lookup"><span data-stu-id="ac118-109">Assume you have two filters, A and B, and that these filters are connected to each other (A on the left, or upstream, and B on the right, or downstream) with a certain video media type.</span></span>

<span data-ttu-id="ac118-110">I buffer che passano tra i filtri A e B hanno le dimensioni (**bmiHeader. biWidth**, **BmiHeader. biHeight**).</span><span class="sxs-lookup"><span data-stu-id="ac118-110">The buffers that pass between filters A and B have the size (**bmiHeader.biWidth**, **bmiHeader.biHeight**).</span></span> <span data-ttu-id="ac118-111">Filter A deve prendere parte del video di input determinato da **rcSource** ed estendere il video in modo da riempire la parte **rcTarget** del buffer.</span><span class="sxs-lookup"><span data-stu-id="ac118-111">Filter A should take a portion of its input video determined by **rcSource** and stretch that video to fill the **rcTarget** portion of the buffer.</span></span> <span data-ttu-id="ac118-112">La parte del video di input da usare è basata sulla modalità di confronto tra **rcSource** e la dimensione (**biWidth**, **biHeight**) del tipo di supporto che filtra a e B originariamente connessi con.</span><span class="sxs-lookup"><span data-stu-id="ac118-112">The portion of the input video to use is based on how **rcSource** compares to the (**biWidth**, **biHeight**) size of the media type that filters A and B originally connected with.</span></span> <span data-ttu-id="ac118-113">Se **rcSource** è vuoto, il filtro A utilizza l'intero video di input.</span><span class="sxs-lookup"><span data-stu-id="ac118-113">If **rcSource** is empty, filter A uses its entire input video.</span></span> <span data-ttu-id="ac118-114">Se **rcTarget** è vuoto, il filtro A riempie l'intero buffer di output.</span><span class="sxs-lookup"><span data-stu-id="ac118-114">If **rcTarget** is empty, filter A fills the entire output buffer.</span></span>

<span data-ttu-id="ac118-115">Si supponga, ad esempio, che il filtro A riceva dati video di 160 x 120 pixel.</span><span class="sxs-lookup"><span data-stu-id="ac118-115">For example, assume filter A is receiving video data that is 160 x 120 pixels.</span></span> <span data-ttu-id="ac118-116">Si supponga inoltre che il filtro A sia connesso al filtro B con il seguente tipo di supporto.</span><span class="sxs-lookup"><span data-stu-id="ac118-116">Assume also that filter A is connected to filter B with the following media type.</span></span>

-   <span data-ttu-id="ac118-117">(**biWidth**, **biHeight**): 320, 240</span><span class="sxs-lookup"><span data-stu-id="ac118-117">(**biWidth**, **biHeight**): 320, 240</span></span>
-   <span data-ttu-id="ac118-118">**rcSource**: (0, 0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="ac118-118">**rcSource**: (0, 0, 0, 0)</span></span>
-   <span data-ttu-id="ac118-119">**rcTarget**: (0, 0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="ac118-119">**rcTarget**: (0, 0, 0, 0)</span></span>

<span data-ttu-id="ac118-120">Questo significa che il filtro A estenderà il video ricevuto da 2 nelle direzioni x e y e riempirà un buffer di output 320 x 240.</span><span class="sxs-lookup"><span data-stu-id="ac118-120">This means that filter A will stretch the video it receives by 2 in both the x and y directions, and fill a 320 x 240 output buffer.</span></span>

<span data-ttu-id="ac118-121">Per un altro esempio, si supponga che il filtro A riceva dati video di 160 x 120 e che sia connesso al filtro B con il seguente tipo di supporto.</span><span class="sxs-lookup"><span data-stu-id="ac118-121">As another example, assume filter A is receiving 160 x 120 video data, and that it is connected to filter B with the following media type.</span></span>

-   <span data-ttu-id="ac118-122">(**biWidth**, **biHeight**): 320, 240</span><span class="sxs-lookup"><span data-stu-id="ac118-122">(**biWidth**, **biHeight**): 320, 240</span></span>
-   <span data-ttu-id="ac118-123">**rcSource**: (0, 0, 160, 240)</span><span class="sxs-lookup"><span data-stu-id="ac118-123">**rcSource**: (0, 0, 160, 240)</span></span>
-   <span data-ttu-id="ac118-124">**rcTarget**: (0, 0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="ac118-124">**rcTarget**: (0, 0, 0, 0)</span></span>

<span data-ttu-id="ac118-125">Il membro **rcSource** è relativo alle dimensioni del buffer connesso 320, 240.</span><span class="sxs-lookup"><span data-stu-id="ac118-125">The **rcSource** member is relative to the connected buffer size of 320, 240.</span></span> <span data-ttu-id="ac118-126">Poiché il **rcSource** specificato (0, 0, 160, 240) è la metà sinistra del buffer, il filtro a accetta la metà sinistra del video di input o la parte (0, 0, 80, 120) ed estende il video alla dimensione (320, 240) (per 4 nella direzione x e 2 nella direzione y) e riempie il buffer di output 320 x 240.</span><span class="sxs-lookup"><span data-stu-id="ac118-126">Because the specified **rcSource** (0, 0, 160, 240) is the left half of the buffer, filter A will take the left half of its input video, or the (0, 0, 80, 120) portion, and stretch the video to a size of (320, 240) (by 4 in the x direction, and by 2 in the y direction) and filling the 320 x 240 output buffer.</span></span>

<span data-ttu-id="ac118-127">Si supponga ora che Filter A chiami [**CBaseAllocator:: GetBuffer**](cbaseallocator-getbuffer.md)e che l'esempio multimediale restituito disponga di un tipo di supporto collegato, a indicare che Filter B desidera che il filtro a fornisca una dimensione o un tipo di video diverso da quello fornito in precedenza.</span><span class="sxs-lookup"><span data-stu-id="ac118-127">Now assume that filter A calls [**CBaseAllocator::GetBuffer**](cbaseallocator-getbuffer.md), and the media sample returned has a media type attached to it, signifying that filter B wants filter A to provide a different size or kind of video than it has previously been providing.</span></span> <span data-ttu-id="ac118-128">Si supponga che il nuovo tipo di supporto sia:</span><span class="sxs-lookup"><span data-stu-id="ac118-128">Assume the new media type is:</span></span>

-   <span data-ttu-id="ac118-129">(**biWidth**, **biHeight**): 640, 480</span><span class="sxs-lookup"><span data-stu-id="ac118-129">(**biWidth**, **biHeight**): 640, 480</span></span>
-   <span data-ttu-id="ac118-130">**rcSource**: (0, 0, 160, 120)</span><span class="sxs-lookup"><span data-stu-id="ac118-130">**rcSource**: (0, 0, 160, 120)</span></span>
-   <span data-ttu-id="ac118-131">**rcTarget**: (0, 0, 80, 60)</span><span class="sxs-lookup"><span data-stu-id="ac118-131">**rcTarget**: (0, 0, 80, 60)</span></span>

<span data-ttu-id="ac118-132">Questo significa che l'esempio di supporto ha un buffer con dimensioni pari a 640 x 480.</span><span class="sxs-lookup"><span data-stu-id="ac118-132">This means that the media sample has a buffer that is 640 x 480 in size.</span></span> <span data-ttu-id="ac118-133">Il membro **rcSource** è relativo al tipo di supporto originale connesso (320, 240) non al nuovo tipo di supporto di (640, 480), quindi **rcSource** specifica che l'angolo superiore sinistro (25%) del video di input da usare.</span><span class="sxs-lookup"><span data-stu-id="ac118-133">The **rcSource** member is relative to the original connected media type (320, 240) not to the new media type of (640, 480), so **rcSource** specifies that the top-left corner (25%) of the input video is to be used.</span></span> <span data-ttu-id="ac118-134">Questa parte del video di input viene posizionata in alto a sinistra (80, 60) pixel del buffer di output 640 x 480, come specificato da **rcTarget** di (0, 0, 80, 60).</span><span class="sxs-lookup"><span data-stu-id="ac118-134">This portion of the input video is placed in the top-left (80, 60) pixels of the 640 x 480 output buffer, as specified by **rcTarget** of (0, 0, 80, 60).</span></span> <span data-ttu-id="ac118-135">Poiché il filtro A sta ricevendo 160 x 120 video, l'angolo superiore sinistro del video di input è un elemento (80, 60), le stesse dimensioni della bitmap di output e non è necessaria alcuna estensione.</span><span class="sxs-lookup"><span data-stu-id="ac118-135">Because filter A is receiving 160 x 120 video, the top-left corner of the input video is an (80, 60) piece, the same size of the output bitmap, and no stretching is required.</span></span>

<span data-ttu-id="ac118-136">Il filtro A non inserisce dati negli altri pixel del buffer di output e li lascia invariati.</span><span class="sxs-lookup"><span data-stu-id="ac118-136">Filter A will place no data in the other pixels of the output buffer, and will leave those bits untouched.</span></span> <span data-ttu-id="ac118-137">Il membro **rcSource** è limitato dalla **bilarghezza** e dalla **bialtezza** del tipo di supporto originale connesso tra i filtri A e B e **RcTarget** è vincolato dalla nuova **bilarghezza** e dall' **altezza** dell'esempio multimediale.</span><span class="sxs-lookup"><span data-stu-id="ac118-137">The **rcSource** member is bounded by the **biWidth** and **biHeight** of the original connected media type between filters A and B, and **rcTarget** is bounded by the new **biWidth** and **biHeight** of the media sample.</span></span> <span data-ttu-id="ac118-138">Nell'esempio precedente, **rcSource** non può superare i limiti di (0, 0, 320, 240) e **rcTarget** non possono superare i limiti di (0, 0, 640, 480).</span><span class="sxs-lookup"><span data-stu-id="ac118-138">In the preceding example, **rcSource** could not go outside the boundaries of (0, 0, 320, 240) and **rcTarget** could not go outside the boundaries of (0, 0, 640, 480).</span></span>

 

 



