---
description: Impostazione delle proprietà di acquisizione audio
ms.assetid: 81400072-91d7-4db4-86d3-d072663e691f
title: Impostazione delle proprietà di acquisizione audio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 31afe61d4641906391934bafe4c3acb8a911a9fe
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104225297"
---
# <a name="setting-audio-capture-properties"></a><span data-ttu-id="cd686-103">Impostazione delle proprietà di acquisizione audio</span><span class="sxs-lookup"><span data-stu-id="cd686-103">Setting Audio Capture Properties</span></span>

<span data-ttu-id="cd686-104">Ogni pin di input nel filtro di acquisizione audio espone l'interfaccia [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) .</span><span class="sxs-lookup"><span data-stu-id="cd686-104">Each input pin on the Audio Capture Filter exposes the [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) interface.</span></span> <span data-ttu-id="cd686-105">Usare questa interfaccia per abilitare o disabilitare un input specifico, chiamando il metodo di [**\_ Abilitazione IAMAudioInputMixer::p UT**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) sul pin.</span><span class="sxs-lookup"><span data-stu-id="cd686-105">Use this interface to enable or disable a particular input, by calling the [**IAMAudioInputMixer::put\_Enable**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) method on the pin.</span></span> <span data-ttu-id="cd686-106">Usare inoltre questa interfaccia per impostare le proprietà di un input, ad esempio i livelli Bass, Treble e volume.</span><span class="sxs-lookup"><span data-stu-id="cd686-106">Also use this interface to set properties of an input, such as the bass, treble, and volume levels.</span></span> <span data-ttu-id="cd686-107">Se si acquisiscono più input contemporaneamente, è possibile controllare i livelli generale di Bassi, acuti e volumi tramite l'interfaccia **IAMAudioInputMixer** sul filtro stesso.</span><span class="sxs-lookup"><span data-stu-id="cd686-107">If you are capturing multiple inputs at once, you can control the overall bass, treble, and volume levels through the **IAMAudioInputMixer** interface on the filter itself.</span></span>

<span data-ttu-id="cd686-108">Le frequenze di campionamento e i formati audio disponibili per l'acquisizione sono determinati dal driver.</span><span class="sxs-lookup"><span data-stu-id="cd686-108">The available sampling rates and audio formats for capture are determined by the driver.</span></span> <span data-ttu-id="cd686-109">Usare l'interfaccia [**IAMStreamConfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) sul pin di output del filtro di acquisizione audio per enumerare i formati e le frequenze di campionamento disponibili e impostare il formato desiderato.</span><span class="sxs-lookup"><span data-stu-id="cd686-109">Use the [**IAMStreamConfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) interface on the Audio Capture Filter's output pin to enumerate the available sampling rates and formats and set the desired format.</span></span> <span data-ttu-id="cd686-110">Il filtro può connettersi a valle a qualsiasi filtro che accetti il tipo di supporto del PIN di output.</span><span class="sxs-lookup"><span data-stu-id="cd686-110">The filter can connect downstream to any filter that accepts the output pin's media type.</span></span>

<span data-ttu-id="cd686-111">Il filtro di acquisizione audio espone anche l'interfaccia [**IAMBufferNegotiation**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) .</span><span class="sxs-lookup"><span data-stu-id="cd686-111">The Audio Capture Filter also exposes the [**IAMBufferNegotiation**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) interface.</span></span> <span data-ttu-id="cd686-112">Questa interfaccia è utile per controllare la quantità di latenza nell'anteprima audio.</span><span class="sxs-lookup"><span data-stu-id="cd686-112">This interface is useful for controlling the amount of latency in audio preview.</span></span> <span data-ttu-id="cd686-113">Per impostazione predefinita, il filtro di acquisizione audio utilizza una dimensione del buffer di mezzo secondo.</span><span class="sxs-lookup"><span data-stu-id="cd686-113">By default, the Audio Capture filter uses a half-second buffer size.</span></span> <span data-ttu-id="cd686-114">Questa dimensione del buffer è ottimale per l'acquisizione, ma provoca un ritardo di anteprima di mezzo secondo.</span><span class="sxs-lookup"><span data-stu-id="cd686-114">This buffer size is optimal for capturing but causes a half-second preview delay.</span></span> <span data-ttu-id="cd686-115">Per ridurre la latenza, chiamare il metodo [**IAMBufferNegotiation:: SuggestAllocatorProperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) prima di connettere il pin di output del filtro di acquisizione audio.</span><span class="sxs-lookup"><span data-stu-id="cd686-115">To reduce the latency, call the [**IAMBufferNegotiation::SuggestAllocatorProperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) method before you connect the Audio Capture Filter's output pin.</span></span> <span data-ttu-id="cd686-116">Questo metodo accetta un puntatore alla struttura [**delle \_ proprietà dell'allocatore**](/windows/win32/api/strmif/ns-strmif-allocator_properties) .</span><span class="sxs-lookup"><span data-stu-id="cd686-116">This method takes a pointer to the [**ALLOCATOR\_PROPERTIES**](/windows/win32/api/strmif/ns-strmif-allocator_properties) structure.</span></span> <span data-ttu-id="cd686-117">Usare il membro **cbBuffer** per specificare la dimensione del buffer in byte.</span><span class="sxs-lookup"><span data-stu-id="cd686-117">Use the **cbBuffer** member to specify the buffer size, in bytes.</span></span> <span data-ttu-id="cd686-118">Un buffer di 80 millisecondi è generalmente sicuro, ma i buffer di 30 o 40 millisecondi potrebbero essere sufficienti.</span><span class="sxs-lookup"><span data-stu-id="cd686-118">An 80 millisecond buffer is generally safe, but buffers of 30 or 40 milliseconds might be sufficient.</span></span> <span data-ttu-id="cd686-119">Se i buffer sono troppo piccoli, la qualità del suono sarà degradata.</span><span class="sxs-lookup"><span data-stu-id="cd686-119">If the buffers are too small, the sound quality will be degraded.</span></span>

 

 



