---
description: Driver MSDV
ms.assetid: 146ca753-fe41-49d3-8b1c-077e10a28192
title: Driver MSDV
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6b7c1bda24980abe84a11613126476ccfe35380d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104401073"
---
# <a name="msdv-driver"></a><span data-ttu-id="19e31-103">Driver MSDV</span><span class="sxs-lookup"><span data-stu-id="19e31-103">MSDV Driver</span></span>

<span data-ttu-id="19e31-104">MSDV è il driver Microsoft Windows Driver Model (WDM) per le videocamere DV.</span><span class="sxs-lookup"><span data-stu-id="19e31-104">MSDV is the Microsoft Windows Driver Model (WDM) driver for DV camcorders.</span></span> <span data-ttu-id="19e31-105">Il driver viene visualizzato come filtro DirectShow quando il dispositivo è alimentato da rete elettrica.</span><span class="sxs-lookup"><span data-stu-id="19e31-105">The driver appears as a DirectShow filter when the device is plugged in.</span></span> <span data-ttu-id="19e31-106">Viene enumerata in due categorie di filtro:</span><span class="sxs-lookup"><span data-stu-id="19e31-106">It is enumerated in two filter categories:</span></span>

-   <span data-ttu-id="19e31-107">CLSID \_ VideoInputDeviceCategory ("origini acquisizione video")</span><span class="sxs-lookup"><span data-stu-id="19e31-107">CLSID\_VideoInputDeviceCategory ("Video Capture Sources")</span></span>
-   <span data-ttu-id="19e31-108">Rendering di AM \_ KSCATEGORY \_ ("dispositivi per il rendering di flussi WDM")</span><span class="sxs-lookup"><span data-stu-id="19e31-108">AM\_KSCATEGORY\_RENDER ("WDM Streaming Rendering Devices")</span></span>

<span data-ttu-id="19e31-109">Il nome descrittivo del filtro è `Microsoft DV Camera and VCR` o un equivalente localizzato.</span><span class="sxs-lookup"><span data-stu-id="19e31-109">The filter's friendly name is `Microsoft DV Camera and VCR`, or a localized equivalent.</span></span> <span data-ttu-id="19e31-110">In alcuni dispositivi, la proprietà **Description** contiene una descrizione del modello specifico, che può essere usato al posto del nome descrittivo generico.</span><span class="sxs-lookup"><span data-stu-id="19e31-110">In some devices, the **Description** property contains a description of the specific model, which can be used instead of the generic friendly name.</span></span> <span data-ttu-id="19e31-111">Per altre informazioni, vedere [selezione di un dispositivo di acquisizione](selecting-a-capture-device.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-111">For more information, see [Selecting a Capture Device](selecting-a-capture-device.md).</span></span>

<span data-ttu-id="19e31-112">MSDV ha due pin di output.</span><span class="sxs-lookup"><span data-stu-id="19e31-112">MSDV has two output pins.</span></span> <span data-ttu-id="19e31-113">Un pin fornisce frame DV che contengono dati audio e video con interfoliazione.</span><span class="sxs-lookup"><span data-stu-id="19e31-113">One pin delivers DV frames that contain interleaved audio and video data.</span></span> <span data-ttu-id="19e31-114">L'altro pin fornisce frame solo video senza audio.</span><span class="sxs-lookup"><span data-stu-id="19e31-114">The other pin delivers video-only frames with no audio.</span></span> <span data-ttu-id="19e31-115">MSDV non è in grado di eseguire lo streaming da entrambi i pin contemporaneamente, quindi è possibile connettere un solo pin di output alla volta.</span><span class="sxs-lookup"><span data-stu-id="19e31-115">MSDV cannot stream from both pins at once, so only one output pin can be connected at a time.</span></span> <span data-ttu-id="19e31-116">Per altre informazioni sull'acquisizione di video da un dispositivo DV, vedere [Capture DV to file](capture-dv-to-file.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-116">For more information about capturing video from a DV device, see [Capture DV to File](capture-dv-to-file.md).</span></span>

![acquisizione dei dati DV dal dispositivo](images/dv-filters4.png)

<span data-ttu-id="19e31-118">La maggior parte delle videocamere DV dispone di una sottounità VTR (video tape recorder), che può trasmettere dati dal nastro al computer.</span><span class="sxs-lookup"><span data-stu-id="19e31-118">Most DV camcorders have a video tape recorder (VTR) subunit, which can transmit data from tape to the computer.</span></span> <span data-ttu-id="19e31-119">Per l'applicazione, l'acquisizione da nastro funziona come l'acquisizione di video live.</span><span class="sxs-lookup"><span data-stu-id="19e31-119">For the application, capturing from tape works the same as capturing live video.</span></span> <span data-ttu-id="19e31-120">L'unica differenza è che l'applicazione deve controllare il trasporto del nastro esterno, ovvero avviare e arrestare il nastro, il rewind e così via.</span><span class="sxs-lookup"><span data-stu-id="19e31-120">The only difference is that the application must control the external tape transport — start and stop the tape, rewind, and so forth.</span></span> <span data-ttu-id="19e31-121">A questo scopo, MSDV espone le interfacce [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport)e [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) .</span><span class="sxs-lookup"><span data-stu-id="19e31-121">For this purpose, MSDV exposes the [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport), and [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) interfaces.</span></span> <span data-ttu-id="19e31-122">Per ulteriori informazioni sul controllo di un VTR, vedere [controllo di un camcorder DV](controlling-a-dv-camcorder.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-122">For more information about controlling a VTR, see [Controlling a DV Camcorder](controlling-a-dv-camcorder.md).</span></span>

<span data-ttu-id="19e31-123">È anche possibile trasmettere il DV dal computer alla videocamera.</span><span class="sxs-lookup"><span data-stu-id="19e31-123">You can also transmit DV from the computer to the camcorder.</span></span> <span data-ttu-id="19e31-124">Il video può quindi essere visualizzato nella schermata onboard della videocamera o registrato su nastro.</span><span class="sxs-lookup"><span data-stu-id="19e31-124">The video can then be viewed in the camcorder's onboard screen, or recorded to tape.</span></span> <span data-ttu-id="19e31-125">Per supportare questa funzionalità, MSDV ha un pin di input che può ricevere un flusso DV con interfoliazione.</span><span class="sxs-lookup"><span data-stu-id="19e31-125">To support this functionality, MSDV has an input pin that can receive an interleaved DV stream.</span></span> <span data-ttu-id="19e31-126">Quando il pin di input è connesso, MSDV funge da filtro renderer anziché da filtro di acquisizione.</span><span class="sxs-lookup"><span data-stu-id="19e31-126">When the input pin is connected, MSDV acts as a renderer filter instead of a capture filter.</span></span> <span data-ttu-id="19e31-127">MSDV non supporta la ricerca in questa modalità.</span><span class="sxs-lookup"><span data-stu-id="19e31-127">MSDV does not support seeking in this mode.</span></span> <span data-ttu-id="19e31-128">Per altre informazioni sull'invio di DV al dispositivo, vedere [trasmettere DV da un file a un nastro](transmit-dv-from-file-to-tape.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-128">For more information about sending DV to the device, see [Transmit DV from File to Tape](transmit-dv-from-file-to-tape.md).</span></span>

![trasmissione di dati DV al dispositivo](images/dv-filters5.png)

<span data-ttu-id="19e31-130">Si noti che i pin di input e di output non possono essere connessi nello stesso momento, perché il dispositivo non può eseguire il flusso in entrambe le direzioni nello stesso momento.</span><span class="sxs-lookup"><span data-stu-id="19e31-130">Note that the input and output pins cannot be connected at the same time, because the device cannot stream in both directions at the same time.</span></span>

<span data-ttu-id="19e31-131">In molti camcorder, il passaggio tra la modalità VTR e la modalità fotocamera causa la disattivazione del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="19e31-131">In many camcorders, switching between VTR mode and camera mode causes the device to switch off.</span></span> <span data-ttu-id="19e31-132">Pertanto, DirectShow potrebbe perdere il dispositivo quando l'utente passa da una modalità all'altra.</span><span class="sxs-lookup"><span data-stu-id="19e31-132">Therefore, DirectShow may lose the device when the user switches modes.</span></span> <span data-ttu-id="19e31-133">Per informazioni sugli eventi di rimozione dei dispositivi, vedere [notifica di rimozione del dispositivo](device-removal-notification.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-133">For information about device removal events, see [Device Removal Notification](device-removal-notification.md).</span></span>

## <a name="remarks"></a><span data-ttu-id="19e31-134">Commenti</span><span class="sxs-lookup"><span data-stu-id="19e31-134">Remarks</span></span>

<span data-ttu-id="19e31-135">Per informazioni sui formati DV supportati dal driver MSDV, vedere [**sottotipi video DV**](dv-video-subtypes.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-135">For information about which DV formats are supported by the MSDV driver, see [**DV Video Subtypes**](dv-video-subtypes.md).</span></span>

<span data-ttu-id="19e31-136">Alcuni suggerimenti sulla creazione di grafici di filtro con MSDV:</span><span class="sxs-lookup"><span data-stu-id="19e31-136">Some tips on building filter graphs with MSDV:</span></span>

-   <span data-ttu-id="19e31-137">Non è possibile usare [**IGraphBuilder:: Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) per eseguire il rendering di un pin di output in Msdv.</span><span class="sxs-lookup"><span data-stu-id="19e31-137">You cannot use [**IGraphBuilder::Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) to render an output pin on MSDV.</span></span> <span data-ttu-id="19e31-138">Il gestore del grafico del filtro tenta di connettere il pin di output al pin di input di MSDV, che ha esito negativo. Usare invece [**IGraphBuilder:: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) o [**ICaptureGraphBuilder2:: RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span><span class="sxs-lookup"><span data-stu-id="19e31-138">(The Filter Graph Manager tries to connect the output pin to MSDV's input pin, which fails.) Instead, use [**IGraphBuilder::Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) or [**ICaptureGraphBuilder2::RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span></span>
-   <span data-ttu-id="19e31-139">Quando un grafico a filtro contiene MSDV, MSDV deve fornire l'orologio di riferimento per il grafico.</span><span class="sxs-lookup"><span data-stu-id="19e31-139">When a filter graph contains MSDV, MSDV should supply the reference clock for the graph.</span></span> <span data-ttu-id="19e31-140">A partire da DirectX 8,0, Filter Graph Manager sceglierà automaticamente MSDV come clock di riferimento.</span><span class="sxs-lookup"><span data-stu-id="19e31-140">As of DirectX 8.0, the Filter Graph Manager will automatically choose MSDV as the reference clock.</span></span> <span data-ttu-id="19e31-141">Con le versioni precedenti, è consigliabile chiamare il metodo [**IMediaFilter:: SetSyncSource**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) in gestione grafico dei filtri.</span><span class="sxs-lookup"><span data-stu-id="19e31-141">With earlier versions, you should call the [**IMediaFilter::SetSyncSource**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) method on the Filter Graph Manager.</span></span> <span data-ttu-id="19e31-142">Per altre informazioni sugli orologi, vedere [Time and Clocks in DirectShow](time-and-clocks-in-directshow.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-142">For more information about clocks, see [Time and Clocks in DirectShow](time-and-clocks-in-directshow.md).</span></span>
-   <span data-ttu-id="19e31-143">A seconda del dispositivo, alcuni metodi in **IAMExtDevice**, **IAMExtTransport** e **IAMTimeCodeReader** potrebbero restituire codici di errore Windows anziché valori **HRESULT** .</span><span class="sxs-lookup"><span data-stu-id="19e31-143">Depending on the device, some methods in **IAMExtDevice**, **IAMExtTransport**, and **IAMTimeCodeReader** might return Windows error codes instead of **HRESULT** values.</span></span> <span data-ttu-id="19e31-144">I codici di errore possibili includono i seguenti.</span><span class="sxs-lookup"><span data-stu-id="19e31-144">Possible error codes include the following.</span></span>

    | <span data-ttu-id="19e31-145">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="19e31-145">Error Code</span></span>              | <span data-ttu-id="19e31-146">Descrizione</span><span class="sxs-lookup"><span data-stu-id="19e31-146">Description</span></span>                                                                                      |
    |-------------------------|--------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="19e31-147">\_timeout errore</span><span class="sxs-lookup"><span data-stu-id="19e31-147">ERROR\_TIMEOUT</span></span>          | <span data-ttu-id="19e31-148">Si è verificato il timeout di un comando dispositivo esterno.</span><span class="sxs-lookup"><span data-stu-id="19e31-148">An external device command has timed out.</span></span>                                                        |
    | <span data-ttu-id="19e31-149">ERRORE \_ req \_ non \_ definit</span><span class="sxs-lookup"><span data-stu-id="19e31-149">ERROR\_REQ\_NOT\_ACCEP</span></span>  | <span data-ttu-id="19e31-150">Il dispositivo non ha accettato questo comando del dispositivo esterno.</span><span class="sxs-lookup"><span data-stu-id="19e31-150">The device did not accept this external device command.</span></span>                                          |
    | <span data-ttu-id="19e31-151">ERRORE \_ non \_ supportato</span><span class="sxs-lookup"><span data-stu-id="19e31-151">ERROR\_NOT\_SUPPORTED</span></span>   | <span data-ttu-id="19e31-152">Il dispositivo non supporta il comando dispositivo esterno.</span><span class="sxs-lookup"><span data-stu-id="19e31-152">The device does not support this external device command.</span></span>                                        |
    | <span data-ttu-id="19e31-153">richiesta di errore \_ \_ interrotta</span><span class="sxs-lookup"><span data-stu-id="19e31-153">ERROR\_REQUEST\_ABORTED</span></span> | <span data-ttu-id="19e31-154">Un comando dispositivo esterno è stato interrotto.</span><span class="sxs-lookup"><span data-stu-id="19e31-154">An external device command was aborted.</span></span> <span data-ttu-id="19e31-155">Probabilmente il dispositivo è stato rimosso o si è verificata una reimpostazione del bus.</span><span class="sxs-lookup"><span data-stu-id="19e31-155">Possibly the device was removed or a bus reset occurred.</span></span> |

    

     

### <a name="device-information"></a><span data-ttu-id="19e31-156">Informazioni sul dispositivo</span><span class="sxs-lookup"><span data-stu-id="19e31-156">Device Information</span></span>

<span data-ttu-id="19e31-157">In Windows Millennium Edition e Windows XP il moniker del dispositivo del filtro DV supporta una proprietà **Description** oltre alla proprietà **FriendlyName** .</span><span class="sxs-lookup"><span data-stu-id="19e31-157">In Windows Millennium Edition and Windows XP, the DV filter's device moniker supports a **Description** property in addition to the **FriendlyName** property.</span></span> <span data-ttu-id="19e31-158">Questa proprietà restituisce una descrizione del dispositivo, tratto dal file INF, che in genere contiene il nome del marchio del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="19e31-158">This property returns a description of the device, taken from the INF file, which usually contains the brand name of the device.</span></span> <span data-ttu-id="19e31-159">Questa proprietà non è tuttavia supportata per tutti i modelli di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="19e31-159">This property is not supported for all device models, however.</span></span>

<span data-ttu-id="19e31-160">Per ulteriori informazioni sui moniker dei dispositivi, vedere [using the System Device Enumerator](using-the-system-device-enumerator.md).</span><span class="sxs-lookup"><span data-stu-id="19e31-160">For more information about device monikers, see [Using the System Device Enumerator](using-the-system-device-enumerator.md).</span></span>

### <a name="clock-times"></a><span data-ttu-id="19e31-161">Ore di clock</span><span class="sxs-lookup"><span data-stu-id="19e31-161">Clock Times</span></span>

<span data-ttu-id="19e31-162">Il driver MSDV usa il clock del bus 1394 incluso nei pacchetti di dati 1394 per derivare il clock.</span><span class="sxs-lookup"><span data-stu-id="19e31-162">The MSDV driver uses the 1394 bus clock that is contained in the 1394 data packets to derive the clock.</span></span> <span data-ttu-id="19e31-163">Usa questi valori per contrassegnare il timestamp degli esempi di supporti DV.</span><span class="sxs-lookup"><span data-stu-id="19e31-163">It uses these values to time stamp the DV media samples.</span></span> <span data-ttu-id="19e31-164">Poiché questo orologio di origine non è il clock di sistema del computer, i tempi verranno rimossi dal clock di sistema del computer.</span><span class="sxs-lookup"><span data-stu-id="19e31-164">Because this source clock is not the computer system clock, the times will eventually drift from the computer system clock.</span></span> <span data-ttu-id="19e31-165">Come indicato in precedenza, tuttavia, per impostazione predefinita, il gestore del grafo del filtro selezionerà MSDV come clock di riferimento del grafo.</span><span class="sxs-lookup"><span data-stu-id="19e31-165">As noted above, however, by default the Filter Graph Manager will select MSDV as the graph reference clock.</span></span>

<span data-ttu-id="19e31-166">L'interfaccia [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) segnala la misura corrente dei frame eliminati del driver; Questo valore potrebbe non essere perfettamente sincronizzato con il numero effettivo di frame eliminati in un determinato momento.</span><span class="sxs-lookup"><span data-stu-id="19e31-166">The [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) interface reports the driver's current measure of dropped frames; this value may not be perfectly synchronized with the actual number of dropped frames at a given time.</span></span> <span data-ttu-id="19e31-167">Se i frame vengono eliminati, significa che il sistema non è bilanciato (la produzione dei dati supera l'utilizzo dei dati).</span><span class="sxs-lookup"><span data-stu-id="19e31-167">If frames are dropped, it indicates that the system is not balanced (data production exceeds data consumption).</span></span> <span data-ttu-id="19e31-168">Ad esempio, il disco rigido dell'utente potrebbe non essere sufficientemente veloce per supportare le velocità di acquisizione DV.</span><span class="sxs-lookup"><span data-stu-id="19e31-168">For example, the user's hard disk may not be fast enough to support DV capture rates.</span></span>

## <a name="related-topics"></a><span data-ttu-id="19e31-169">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="19e31-169">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="19e31-170">Filtri DirectShow</span><span class="sxs-lookup"><span data-stu-id="19e31-170">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="19e31-171">Video digitale in DirectShow</span><span class="sxs-lookup"><span data-stu-id="19e31-171">Digital Video in DirectShow</span></span>](digital-video-in-directshow.md)
</dt> </dl>

 

 



