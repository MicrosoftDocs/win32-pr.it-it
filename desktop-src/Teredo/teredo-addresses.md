---
title: Indirizzi Teredo
ms.assetid: e2e185c2-e53d-471d-aedb-54d75f9db0bb
description: 'Altre informazioni su: indirizzi Teredo'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc08a53da2f710423d948e9479df2aeb08f20178
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104349646"
---
# <a name="teredo-addresses"></a><span data-ttu-id="95ea1-103">Indirizzi Teredo</span><span class="sxs-lookup"><span data-stu-id="95ea1-103">Teredo Addresses</span></span>

<span data-ttu-id="95ea1-104">Un indirizzo Teredo è costituito dagli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="95ea1-104">A Teredo address consists of the following:</span></span>

-   <span data-ttu-id="95ea1-105">**Prefisso Teredo**</span><span class="sxs-lookup"><span data-stu-id="95ea1-105">**Teredo prefix**</span></span>

    <span data-ttu-id="95ea1-106">I primi 32 bit sono per il prefisso Teredo, che è lo stesso per tutti gli indirizzi Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-106">The first 32 bits are for the Teredo prefix, which is the same for all Teredo addresses.</span></span> <span data-ttu-id="95ea1-107">Windows XP e Windows Server 2003 usavano inizialmente il prefisso 3FFE: 831F::/32 Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-107">Windows XP and Windows Server 2003 initially used the 3FFE:831F::/32 Teredo prefix.</span></span> <span data-ttu-id="95ea1-108">Il prefisso definito per Teredo in RFC 4380 è 2001::/32 ed è il prefisso utilizzato da Teredo in Windows Vista e Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="95ea1-108">The prefix defined for Teredo in RFC 4380 is 2001::/32 and is the prefix used by Teredo in Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="95ea1-109">I computer che eseguono Windows XP e Windows Server 2003 utilizzeranno il prefisso Teredo 2001::/32 quando vengono aggiornati con Microsoft Security Bulletin MS06-064.</span><span class="sxs-lookup"><span data-stu-id="95ea1-109">Computers running Windows XP and Windows Server 2003 will use the 2001::/32 Teredo prefix when updated with Microsoft Security Bulletin MS06-064.</span></span>

-   <span data-ttu-id="95ea1-110">**Indirizzo IPv4 del server Teredo**</span><span class="sxs-lookup"><span data-stu-id="95ea1-110">**Teredo server IPv4 address**</span></span>

    <span data-ttu-id="95ea1-111">I successivi 32 bit contengono l'indirizzo IPv4 pubblico del server Teredo che ha consentito di configurare questo indirizzo Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-111">The next 32 bits contain the IPv4 public address of the Teredo server that helped configure this Teredo address.</span></span> <span data-ttu-id="95ea1-112">Per ulteriori informazioni, vedere "configurazione iniziale per client Teredo" in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-112">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

-   <span data-ttu-id="95ea1-113">**Flag**</span><span class="sxs-lookup"><span data-stu-id="95ea1-113">**Flags**</span></span>

    <span data-ttu-id="95ea1-114">I successivi 16 bit per sono riservati ai flag Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-114">The next 16 bits for are reserved for Teredo flags.</span></span> <span data-ttu-id="95ea1-115">Per i client Teredo basati su Windows XP, l'unico flag definito è il bit di ordine superiore noto come flag cono.</span><span class="sxs-lookup"><span data-stu-id="95ea1-115">For Windows XP-based Teredo clients, the only defined flag is the high order bit known as the Cone flag.</span></span> <span data-ttu-id="95ea1-116">Il flag cono viene impostato quando il client Teredo è dietro un cono NAT.</span><span class="sxs-lookup"><span data-stu-id="95ea1-116">The Cone flag is set when Teredo client is behind a cone NAT.</span></span> <span data-ttu-id="95ea1-117">La determinazione dell'eventuale NAT connesso a Internet è un cono NAT durante la configurazione iniziale del client Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-117">The determination of whether the NAT connected to the Internet is a cone NAT occurs during the Teredo client's initial configuration.</span></span> <span data-ttu-id="95ea1-118">Per ulteriori informazioni, vedere "configurazione iniziale per client Teredo" in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-118">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

    <span data-ttu-id="95ea1-119">Per i client Teredo basati su Windows Vista e Windows Server 2008, i bit inutilizzati nel campo Flags forniscono un livello di protezione dalle analisi degli indirizzi da parte di utenti malintenzionati.</span><span class="sxs-lookup"><span data-stu-id="95ea1-119">For Windows Vista and Windows Server 2008-based Teredo clients, unused bits within the Flags field provide a level of protection from address scans by malicious users.</span></span> <span data-ttu-id="95ea1-120">I 16 bit nel campo flag per i client Teredo basati su Windows Vista e Windows Server 2008 sono costituiti dai seguenti elementi: CRAAAAUG ALABASTR.</span><span class="sxs-lookup"><span data-stu-id="95ea1-120">The 16 bits within the Flags field for Windows Vista and Windows Server 2008-based Teredo clients consists of the following: CRAAAAUG AAAAAAAA.</span></span> <span data-ttu-id="95ea1-121">Il bit C è per il flag conico.</span><span class="sxs-lookup"><span data-stu-id="95ea1-121">The C bit is for the Cone flag.</span></span> <span data-ttu-id="95ea1-122">Il bit R è riservato per un uso futuro.</span><span class="sxs-lookup"><span data-stu-id="95ea1-122">The R bit is reserved for future use.</span></span> <span data-ttu-id="95ea1-123">Il bit U è per il flag universale/locale (impostato su 0).</span><span class="sxs-lookup"><span data-stu-id="95ea1-123">The U bit is for the Universal/Local flag (set to 0).</span></span> <span data-ttu-id="95ea1-124">Il bit G è un flag di gruppo/singolo (impostato su 0).</span><span class="sxs-lookup"><span data-stu-id="95ea1-124">The G bit is Individual/Group flag (set to 0).</span></span> <span data-ttu-id="95ea1-125">I bit a sono impostati su un numero a 12 bit generato in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="95ea1-125">The A bits are set to a 12-bit randomly generated number.</span></span> <span data-ttu-id="95ea1-126">Utilizzando un numero casuale per i bit A, un utente malintenzionato che ha determinato il resto dell'indirizzo Teredo acquisendo lo scambio di configurazione iniziale dei pacchetti tra il client Teredo e il server Teredo dovrà provare fino a 4.096 (212) indirizzi diversi per determinare l'indirizzo di un client Teredo durante un'analisi degli indirizzi.</span><span class="sxs-lookup"><span data-stu-id="95ea1-126">By using a random number for the A bits, a malicious user that has determined the rest of the Teredo address by capturing the initial configuration exchange of packets between the Teredo client and Teredo server will have to try up to 4,096 (212) different addresses to determine a Teredo client's address during an address scan.</span></span>

-   <span data-ttu-id="95ea1-127">**Porta esterna nascosta**</span><span class="sxs-lookup"><span data-stu-id="95ea1-127">**Obscured external port**</span></span>

    <span data-ttu-id="95ea1-128">I successivi 16 bit archiviano una versione nascosta della porta UDP esterna corrispondente a tutto il traffico Teredo per questo client Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-128">The next 16 bits store an obscured version of the external UDP port corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="95ea1-129">Quando il client Teredo invia il pacchetto iniziale a un server Teredo, la porta UDP di origine del pacchetto viene mappata da NAT a un'altra porta UDP esterna.</span><span class="sxs-lookup"><span data-stu-id="95ea1-129">When the Teredo client sends its initial packet to a Teredo server, the source UDP port of the packet is mapped by the NAT to a different, external UDP port.</span></span> <span data-ttu-id="95ea1-130">Il client Teredo gestisce questo mapping delle porte, in modo che rimanga nella tabella di conversione del NAT.</span><span class="sxs-lookup"><span data-stu-id="95ea1-130">The Teredo client maintains this port mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="95ea1-131">Pertanto, tutto il traffico Teredo per l'host utilizza la stessa porta UDP con mapping esterno.</span><span class="sxs-lookup"><span data-stu-id="95ea1-131">Therefore, all Teredo traffic for the host uses the same external, mapped UDP port.</span></span> <span data-ttu-id="95ea1-132">La porta UDP esterna è determinata dal server Teredo dalla porta UDP di origine del pacchetto iniziale in ingresso inviato dal client Teredo e restituito al client Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-132">The external UDP port is determined by the Teredo server from the source UDP port of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="95ea1-133">La porta esterna è nascosta XOR la porta esterna con 0xFFFF.</span><span class="sxs-lookup"><span data-stu-id="95ea1-133">The external port is obscured by XORing the external port with 0xFFFF.</span></span> <span data-ttu-id="95ea1-134">Ad esempio, la versione nascosta della porta esterna 5000 in formato esadecimale è EC77 (5000 = 0X1388, 0X1388 XOR 0xFFFF = 0xEC77).</span><span class="sxs-lookup"><span data-stu-id="95ea1-134">For example, the obscured version of the external port 5000 in hexadecimal format is EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span></span> <span data-ttu-id="95ea1-135">Se si nasconde la porta esterna, i NAT non possono tradurre la porta esterna all'interno del payload dei pacchetti che stanno inoltrando.</span><span class="sxs-lookup"><span data-stu-id="95ea1-135">Obscuring the external port prevents NATs from translating the external port within the payload of the packets that they are forwarding.</span></span>

-   <span data-ttu-id="95ea1-136">**Indirizzo esterno nascosto**</span><span class="sxs-lookup"><span data-stu-id="95ea1-136">**Obscured external address**</span></span>

    <span data-ttu-id="95ea1-137">Gli ultimi 32 bit archiviano una versione nascosta dell'indirizzo IPv4 esterno corrispondente a tutto il traffico Teredo per questo client Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-137">The last 32 bits store an obscured version of the external IPv4 address corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="95ea1-138">Proprio come la porta esterna, quando il client Teredo invia il pacchetto iniziale a un server Teredo, l'indirizzo IP di origine del pacchetto viene mappato da NAT a un indirizzo esterno (pubblico) diverso.</span><span class="sxs-lookup"><span data-stu-id="95ea1-138">Just like the external port, when the Teredo client sends its initial packet to a Teredo server, the source IP address of the packet is mapped by the NAT to a different, external (public) address.</span></span> <span data-ttu-id="95ea1-139">Il client Teredo gestisce questo mapping degli indirizzi, in modo che rimanga nella tabella di conversione del NAT.</span><span class="sxs-lookup"><span data-stu-id="95ea1-139">The Teredo client maintains this address mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="95ea1-140">Pertanto, tutto il traffico Teredo per l'host utilizza lo stesso indirizzo IPv4 esterno, mappato e pubblico.</span><span class="sxs-lookup"><span data-stu-id="95ea1-140">Therefore, all Teredo traffic for the host uses the same external, mapped, public IPv4 address.</span></span> <span data-ttu-id="95ea1-141">L'indirizzo IPv4 esterno è determinato dal server Teredo dall'indirizzo IPv4 di origine del pacchetto iniziale in ingresso inviato dal client Teredo e restituito al client Teredo.</span><span class="sxs-lookup"><span data-stu-id="95ea1-141">The external IPv4 address is determined by the Teredo server from the source IPv4 address of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="95ea1-142">L'indirizzo esterno è nascosto da XOR l'indirizzo esterno con 0xFFFFFFFF.</span><span class="sxs-lookup"><span data-stu-id="95ea1-142">The external address is obscured by XORing the external address with 0xFFFFFFFF.</span></span> <span data-ttu-id="95ea1-143">Ad esempio, la versione nascosta dell'indirizzo IPv4 pubblico 131.107.0.1 in formato esadecimale con due punti è 7C94: FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span><span class="sxs-lookup"><span data-stu-id="95ea1-143">For example, the obscured version of the public IPv4 address 131.107.0.1 in colon-hexadecimal format is 7C94:FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span></span> <span data-ttu-id="95ea1-144">Se si nasconde l'indirizzo esterno, i NAT non potranno convertire l'indirizzo esterno entro il payload dei pacchetti che stanno inoltrando.</span><span class="sxs-lookup"><span data-stu-id="95ea1-144">Obscuring the external address prevents NATs from translating the external address within the payload of the packets that they are forwarding.</span></span>

 

 




