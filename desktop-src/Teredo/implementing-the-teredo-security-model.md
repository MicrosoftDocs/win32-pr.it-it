---
title: Implementazione del modello di sicurezza Teredo
description: Il modello di sicurezza Teredo è basato sulla tecnologia Windows Filtering Platform (WFP) incorporata in Windows Vista. Di conseguenza, si consiglia ai firewall di terze parti di utilizzare WFP per applicare il modello di sicurezza Teredo.
ms.assetid: ee81e5f1-e3e0-440e-a53f-2accced476bc
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a39668f8e1c86e0cd5b12056df5eb9a5fd9cd3ee
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "103729050"
---
# <a name="implementing-the-teredo-security-model"></a><span data-ttu-id="cd7e6-104">Implementazione del modello di sicurezza Teredo</span><span class="sxs-lookup"><span data-stu-id="cd7e6-104">Implementing the Teredo Security Model</span></span>

<span data-ttu-id="cd7e6-105">Il modello di sicurezza Teredo è basato sulla tecnologia [Windows Filtering Platform](/windows/desktop/FWP/windows-filtering-platform-start-page) (WFP) incorporata in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-105">The Teredo security model is based on the [Windows Filtering Platform](/windows/desktop/FWP/windows-filtering-platform-start-page) (WFP) technology built into Windows Vista.</span></span> <span data-ttu-id="cd7e6-106">Di conseguenza, si consiglia ai firewall di terze parti di utilizzare WFP per applicare il modello di sicurezza [Teredo](about-teredo.md) .</span><span class="sxs-lookup"><span data-stu-id="cd7e6-106">As a result, it is recommended that third-party firewalls use WFP to enforce the [Teredo](about-teredo.md) security model.</span></span>

<span data-ttu-id="cd7e6-107">Per l'implementazione generale del [modello di sicurezza Teredo](the-teredo-security-model.md) sono necessari gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="cd7e6-107">The general implementation of the [Teredo Security Model](the-teredo-security-model.md) requires the following:</span></span>

-   <span data-ttu-id="cd7e6-108">Un firewall host che supporta IPv6 deve essere registrato con il Centro sicurezza PC Windows (WSC) nel computer.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-108">An IPv6-capable host firewall must be registered with Windows Security Center (WSC) on the machine.</span></span> <span data-ttu-id="cd7e6-109">In assenza di un firewall basato su host o di WSC, l'interfaccia Teredo non sarà disponibile per l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-109">In the absence of a host-based firewall, or WSC itself, the Teredo interface will not be available for use.</span></span> <span data-ttu-id="cd7e6-110">Questo è l'unico requisito per ricevere traffico richiesto da Internet tramite l'interfaccia Teredo.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-110">This is the only requirement to receive solicited traffic from the Internet over the Teredo interface.</span></span>
-   <span data-ttu-id="cd7e6-111">Tutte le applicazioni che ricevono traffico non richiesto da Internet tramite l'interfaccia Teredo devono registrarsi con un firewall che supporta IPv6, ad esempio [Windows Firewall](/previous-versions/windows/desktop/ics/windows-firewall-start-page), prima di ricevere il traffico non richiesto.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-111">Any application that receives unsolicited traffic from the Internet over the Teredo interface must register with an IPv6-capable firewall, like [Windows Firewall](/previous-versions/windows/desktop/ics/windows-firewall-start-page), before receiving the unsolicited traffic.</span></span>

<span data-ttu-id="cd7e6-112">Un indirizzo Teredo diventerà inattivo se il traffico non è stato inviato o ricevuto sull'interfaccia Teredo per un'ora e se le applicazioni che soddisfano i criteri di sicurezza richiesti per il traffico non richiesto non sono in esecuzione o non hanno socket in ascolto aperti.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-112">A Teredo address will become dormant if traffic has not been sent or received over the Teredo interface for one hour and if applications that meet the required security criteria for unsolicited traffic are not running or do not have listening sockets open.</span></span>

<span data-ttu-id="cd7e6-113">Dopo il riavvio di un computer o se l'indirizzo Teredo perde le proprie qualifiche, Windows Vista qualifica automaticamente l'indirizzo e lo rende disponibile per l'utilizzo non appena un'applicazione viene associata a socket compatibili con IPv6.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-113">After the reboot of a machine, or if the Teredo address loses its qualifications, Windows Vista will automatically qualify the address and makes it available for use as soon as an application binds to IPv6-capable sockets.</span></span> <span data-ttu-id="cd7e6-114">È importante notare che l'opzione Windows Firewall "attraversamento bordi" impostata da un'applicazione per consentire il traffico non richiesto tramite Teredo è persistente tra i riavvii.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-114">It is important to note that the Windows Firewall "Edge Traversal" option set by an application to allow unsolicited traffic via Teredo is persistent across reboots.</span></span>

## <a name="firewall-requirements-for-teredo"></a><span data-ttu-id="cd7e6-115">Requisiti del firewall per Teredo</span><span class="sxs-lookup"><span data-stu-id="cd7e6-115">Firewall Requirements for Teredo</span></span>

<span data-ttu-id="cd7e6-116">I fornitori di firewall possono incorporare facilmente il supporto Teredo nei propri prodotti e proteggere gli utenti utilizzando le funzionalità della piattaforma filtro Windows.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-116">Firewall vendors can easily incorporate Teredo support in their products and protect their users by using the capabilities of the Windows Filtering Platform.</span></span> <span data-ttu-id="cd7e6-117">Questa operazione può essere eseguita registrando il firewall in grado di supportare IPv6 con il Centro sicurezza Windows, aggiungendo le regole appropriate nel sottolivello Teredo di WFP e usando le API predefinite in Windows per enumerare le applicazioni che potrebbero ascoltare il traffico non richiesto su Teredo.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-117">This can be accomplished by registering the IPv6-capable firewall with the Windows Security Center, adding appropriate rules into the WFP Teredo sublayer, and using built-in APIs in Windows to enumerate applications that might listen to unsolicited traffic over Teredo.</span></span> <span data-ttu-id="cd7e6-118">Nelle situazioni in cui non è necessario che un'applicazione ascolti il traffico richiesto su Teredo, i firewall non necessitano di regole aggiuntive aggiunte al Pam.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-118">In situations where an application does not need to listen to solicited traffic over Teredo, firewalls do not require additional rules added to the WFP.</span></span> <span data-ttu-id="cd7e6-119">Tuttavia, una registrazione del firewall in grado di supportare IPv6 con il Centro sicurezza Windows è ancora un requisito per rendere disponibile l'indirizzo Teredo per l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-119">However an IPv6 capable firewall registration with Windows Security Center is still a requirement to make the Teredo address to available for use.</span></span>

<span data-ttu-id="cd7e6-120">Per supportare questo scenario, il firewall deve essere in grado di supportare IPv6 e registrato con il Centro sicurezza Windows.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-120">In order to support this scenario, the firewall must be IPv6-capable and registered with the Windows Security Center.</span></span> <span data-ttu-id="cd7e6-121">Inoltre, il firewall non deve modificare lo stato in esecuzione o di avvio del servizio Centro sicurezza PC Windows (wscsvc), in quanto Teredo dipende dalle informazioni sullo stato fornite tramite le API WSC.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-121">Additionally, the firewall must not change the running or startup state of the Windows Security Center service (wscsvc), as Teredo is dependent on the state information provided through the WSC APIs.</span></span>

<span data-ttu-id="cd7e6-122">L'API utilizzata per registrare un firewall con WSC può essere ottenuta contattando Microsoft all'indirizzo wscisv@microsoft.com .</span><span class="sxs-lookup"><span data-stu-id="cd7e6-122">The API utilized to register a firewall with the WSC can be obtained by contacting Microsoft at wscisv@microsoft.com.</span></span> <span data-ttu-id="cd7e6-123">Un contratto di non divulgazione (NDA) è necessario per la divulgazione di questa API a causa di problemi di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-123">A Non-Disclosure Agreement (NDA) is required for the disclosure of this API due to security concerns.</span></span>

<span data-ttu-id="cd7e6-124">Nella documentazione riportata di seguito vengono illustrati i filtri e le eccezioni utilizzati per garantire la compatibilità ottimale con Teredo:</span><span class="sxs-lookup"><span data-stu-id="cd7e6-124">The following documentation details the filters and exceptions utilized to ensure optimal compatibility with Teredo:</span></span>

-   [<span data-ttu-id="cd7e6-125">Implementazione di filtri firewall per Teredo</span><span class="sxs-lookup"><span data-stu-id="cd7e6-125">Implementing Firewall Filters for Teredo</span></span>](implementing-firewall-filters-for-teredo.md)
-   [<span data-ttu-id="cd7e6-126">Eccezioni del firewall richieste per Teredo</span><span class="sxs-lookup"><span data-stu-id="cd7e6-126">Required Firewall Exceptions for Teredo</span></span>](required-firewall-exceptions-for-teredo.md)
-   [<span data-ttu-id="cd7e6-127">Eccezioni della piattaforma filtro Windows richieste per Teredo</span><span class="sxs-lookup"><span data-stu-id="cd7e6-127">Required Windows Filtering Platform Exceptions for Teredo</span></span>](required-windows-filtering-platform-exceptions-for-teredo.md)

## <a name="firewall-requirements-for-other-ipv6-transition-technologies"></a><span data-ttu-id="cd7e6-128">Requisiti del firewall per altre tecnologie di transizione IPv6</span><span class="sxs-lookup"><span data-stu-id="cd7e6-128">Firewall Requirements for Other IPv6 Transition Technologies</span></span>

<span data-ttu-id="cd7e6-129">Per supportare altre tecnologie di transizione IPv6 (ad esempio 6to4 e ISATAP), il prodotto firewall host deve essere in grado di elaborare il traffico IPv6.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-129">In order to support other IPv6 transition technologies (such as 6to4 and ISATAP), the host firewall product must be capable of processing IPv6 traffic.</span></span> <span data-ttu-id="cd7e6-130">Il protocollo IP 41 indica quando un'intestazione IPv6 segue un'intestazione IPv4.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-130">The IP Protocol 41 indicates when an IPv6 header follows an IPv4 header.</span></span> <span data-ttu-id="cd7e6-131">Quando un firewall host rileva il protocollo 41, deve riconoscere che il pacchetto è un pacchetto incapsulato in IPv6 e, di conseguenza, deve elaborare il pacchetto in modo appropriato e prendere le decisioni di accettazione/negazione in base alle regole IPv6 nei criteri.</span><span class="sxs-lookup"><span data-stu-id="cd7e6-131">When a host firewall encounters protocol 41, it must recognize that the packet is an IPv6-encapsulated packet and as a result must process the packet appropriately and make the accept/deny decisions based on the IPv6 rules in its policy.</span></span>

 

 