---
description: Questa sezione illustra i messaggi e le code di messaggi di Windows.
ms.assetid: 21a4d40b-52da-49e4-a374-afc4927e96e8
title: Informazioni sui messaggi e sulle code di messaggi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7f0bcf68dbacaae868de3aea1fdc4a5d11290821
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106319098"
---
# <a name="about-messages-and-message-queues"></a><span data-ttu-id="73e1f-103">Informazioni sui messaggi e sulle code di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-103">About Messages and Message Queues</span></span>

<span data-ttu-id="73e1f-104">Diversamente dalle applicazioni basate su MS-DOS, le applicazioni basate su Windows sono basate su eventi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-104">Unlike MS-DOS-based applications, Windows-based applications are event-driven.</span></span> <span data-ttu-id="73e1f-105">Non eseguono chiamate di funzione esplicite, ad esempio chiamate della libreria di runtime C, per ottenere input.</span><span class="sxs-lookup"><span data-stu-id="73e1f-105">They do not make explicit function calls (such as C run-time library calls) to obtain input.</span></span> <span data-ttu-id="73e1f-106">Ma attendono che il sistema passi l'input.</span><span class="sxs-lookup"><span data-stu-id="73e1f-106">Instead, they wait for the system to pass input to them.</span></span>

<span data-ttu-id="73e1f-107">Il sistema passa tutti gli input per un'applicazione alle varie finestre dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-107">The system passes all input for an application to the various windows in the application.</span></span> <span data-ttu-id="73e1f-108">Ogni finestra ha una funzione, denominata routine della finestra, che il sistema chiama ogni volta che è presente un input per la finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-108">Each window has a function, called a window procedure, that the system calls whenever it has input for the window.</span></span> <span data-ttu-id="73e1f-109">La routine della finestra elabora l'input e restituisce il controllo al sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-109">The window procedure processes the input and returns control to the system.</span></span> <span data-ttu-id="73e1f-110">Per ulteriori informazioni sulle routine della finestra, vedere [routine della finestra](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="73e1f-110">For more information about window procedures, see [Window Procedures](window-procedures.md).</span></span>

<span data-ttu-id="73e1f-111">Se una finestra di primo livello smette di rispondere ai messaggi per più di alcuni secondi, il sistema considera che la finestra non risponde.</span><span class="sxs-lookup"><span data-stu-id="73e1f-111">If a top-level window stops responding to messages for more than several seconds, the system considers the window to be not responding.</span></span> <span data-ttu-id="73e1f-112">In questo caso, il sistema nasconde la finestra e la sostituisce con una finestra fantasma con lo stesso z order, posizione, dimensioni e attributi visivi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-112">In this case, the system hides the window and replaces it with a ghost window that has the same Z order, location, size, and visual attributes.</span></span> <span data-ttu-id="73e1f-113">Ciò consente all'utente di spostarlo, ridimensionarlo o persino chiudere l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-113">This allows the user to move it, resize it, or even close the application.</span></span> <span data-ttu-id="73e1f-114">Tuttavia, queste sono le uniche azioni disponibili perché l'applicazione in realtà non risponde.</span><span class="sxs-lookup"><span data-stu-id="73e1f-114">However, these are the only actions available because the application is actually not responding.</span></span> <span data-ttu-id="73e1f-115">Quando è in modalità debugger, il sistema non genera una finestra fantasma.</span><span class="sxs-lookup"><span data-stu-id="73e1f-115">When in the debugger mode, the system does not generate a ghost window.</span></span>

<span data-ttu-id="73e1f-116">In questa sezione vengono illustrati gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="73e1f-116">This section discusses the following topics:</span></span>

-   [<span data-ttu-id="73e1f-117">Messaggi di Windows</span><span class="sxs-lookup"><span data-stu-id="73e1f-117">Windows Messages</span></span>](#windows-messages)
-   [<span data-ttu-id="73e1f-118">Tipi di messaggio</span><span class="sxs-lookup"><span data-stu-id="73e1f-118">Message Types</span></span>](#message-types)
    -   [<span data-ttu-id="73e1f-119">Messaggi definiti dal sistema</span><span class="sxs-lookup"><span data-stu-id="73e1f-119">System-Defined Messages</span></span>](#system-defined-messages)
    -   [<span data-ttu-id="73e1f-120">Messaggi definiti dall'applicazione</span><span class="sxs-lookup"><span data-stu-id="73e1f-120">Application-Defined Messages</span></span>](#application-defined-messages)
-   [<span data-ttu-id="73e1f-121">Routing del messaggio</span><span class="sxs-lookup"><span data-stu-id="73e1f-121">Message Routing</span></span>](#message-routing)
    -   [<span data-ttu-id="73e1f-122">Messaggi in coda</span><span class="sxs-lookup"><span data-stu-id="73e1f-122">Queued Messages</span></span>](#queued-messages)
    -   [<span data-ttu-id="73e1f-123">Messaggi non accodati</span><span class="sxs-lookup"><span data-stu-id="73e1f-123">Nonqueued Messages</span></span>](#nonqueued-messages)
-   [<span data-ttu-id="73e1f-124">Gestione dei messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-124">Message Handling</span></span>](#message-handling)
    -   [<span data-ttu-id="73e1f-125">Ciclo di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-125">Message Loop</span></span>](#message-loop)
    -   [<span data-ttu-id="73e1f-126">Routine della finestra</span><span class="sxs-lookup"><span data-stu-id="73e1f-126">Window Procedure</span></span>](#window-procedure)
-   [<span data-ttu-id="73e1f-127">Filtro messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-127">Message Filtering</span></span>](#message-filtering)
-   [<span data-ttu-id="73e1f-128">Invio e invio di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-128">Posting and Sending Messages</span></span>](#posting-and-sending-messages)
    -   [<span data-ttu-id="73e1f-129">Invio di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-129">Posting Messages</span></span>](#posting-messages)
    -   [<span data-ttu-id="73e1f-130">sending messages</span><span class="sxs-lookup"><span data-stu-id="73e1f-130">Sending Messages</span></span>](#sending-messages)
-   [<span data-ttu-id="73e1f-131">Deadlock del messaggio</span><span class="sxs-lookup"><span data-stu-id="73e1f-131">Message Deadlocks</span></span>](#message-deadlocks)
-   [<span data-ttu-id="73e1f-132">Trasmissione di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-132">Broadcasting Messages</span></span>](#broadcasting-messages)
-   [<span data-ttu-id="73e1f-133">Messaggi di query</span><span class="sxs-lookup"><span data-stu-id="73e1f-133">Query Messages</span></span>](#query-messages)

## <a name="windows-messages"></a><span data-ttu-id="73e1f-134">Messaggi di Windows</span><span class="sxs-lookup"><span data-stu-id="73e1f-134">Windows Messages</span></span>

<span data-ttu-id="73e1f-135">Il sistema passa l'input a una routine della finestra sotto forma di *messaggio*.</span><span class="sxs-lookup"><span data-stu-id="73e1f-135">The system passes input to a window procedure in the form of a *message*.</span></span> <span data-ttu-id="73e1f-136">I messaggi vengono generati dal sistema e dalle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="73e1f-136">Messages are generated by both the system and applications.</span></span> <span data-ttu-id="73e1f-137">Il sistema genera un messaggio a ogni evento di input, ad esempio quando l'utente digita, sposta il mouse o fa clic su un controllo, ad esempio una barra di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="73e1f-137">The system generates a message at each input event—for example, when the user types, moves the mouse, or clicks a control such as a scroll bar.</span></span> <span data-ttu-id="73e1f-138">Il sistema genera anche messaggi in risposta alle modifiche del sistema introdotte da un'applicazione, ad esempio quando un'applicazione modifica il pool di risorse del tipo di carattere del sistema o ridimensiona una delle finestre.</span><span class="sxs-lookup"><span data-stu-id="73e1f-138">The system also generates messages in response to changes in the system brought about by an application, such as when an application changes the pool of system font resources or resizes one of its windows.</span></span> <span data-ttu-id="73e1f-139">Un'applicazione può generare messaggi per indirizzare le proprie finestre per eseguire attività o per comunicare con Windows in altre applicazioni.</span><span class="sxs-lookup"><span data-stu-id="73e1f-139">An application can generate messages to direct its own windows to perform tasks or to communicate with windows in other applications.</span></span>

<span data-ttu-id="73e1f-140">Il sistema invia un messaggio a una routine della finestra con un set di quattro parametri: un handle di finestra, un identificatore di messaggio e due valori denominati *parametri del messaggio*.</span><span class="sxs-lookup"><span data-stu-id="73e1f-140">The system sends a message to a window procedure with a set of four parameters: a window handle, a message identifier, and two values called *message parameters*.</span></span> <span data-ttu-id="73e1f-141">L' *handle della finestra* identifica la finestra a cui è destinato il messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-141">The *window handle* identifies the window for which the message is intended.</span></span> <span data-ttu-id="73e1f-142">Il sistema lo utilizza per determinare quale routine della finestra deve ricevere il messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-142">The system uses it to determine which window procedure should receive the message.</span></span>

<span data-ttu-id="73e1f-143">Un *identificatore di messaggio* è una costante denominata che identifica lo scopo di un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-143">A *message identifier* is a named constant that identifies the purpose of a message.</span></span> <span data-ttu-id="73e1f-144">Quando una routine della finestra riceve un messaggio, usa un identificatore di messaggio per determinare la modalità di elaborazione del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-144">When a window procedure receives a message, it uses a message identifier to determine how to process the message.</span></span> <span data-ttu-id="73e1f-145">Ad esempio, l'identificatore del messaggio [**WM \_ Paint**](/windows/desktop/gdi/wm-paint) indica alla routine della finestra che l'area client della finestra è cambiata e deve essere ridisegnata.</span><span class="sxs-lookup"><span data-stu-id="73e1f-145">For example, the message identifier [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) tells the window procedure that the window's client area has changed and must be repainted.</span></span>

<span data-ttu-id="73e1f-146">I parametri del messaggio specificano i dati o il percorso dei dati utilizzati da una routine della finestra durante l'elaborazione di un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-146">Message parameters specify data or the location of data used by a window procedure when processing a message.</span></span> <span data-ttu-id="73e1f-147">Il significato e il valore dei parametri del messaggio dipendono dal messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-147">The meaning and value of the message parameters depend on the message.</span></span> <span data-ttu-id="73e1f-148">Un parametro del messaggio può contenere un numero intero, flag di bit compressi, un puntatore a una struttura che contiene dati aggiuntivi e così via.</span><span class="sxs-lookup"><span data-stu-id="73e1f-148">A message parameter can contain an integer, packed bit flags, a pointer to a structure containing additional data, and so on.</span></span> <span data-ttu-id="73e1f-149">Quando un messaggio non usa parametri del messaggio, vengono in genere impostati su **null**.</span><span class="sxs-lookup"><span data-stu-id="73e1f-149">When a message does not use message parameters, they are typically set to **NULL**.</span></span> <span data-ttu-id="73e1f-150">Una routine della finestra deve controllare l'identificatore del messaggio per determinare come interpretare i parametri del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-150">A window procedure must check the message identifier to determine how to interpret the message parameters.</span></span>

## <a name="message-types"></a><span data-ttu-id="73e1f-151">Tipi di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-151">Message Types</span></span>

<span data-ttu-id="73e1f-152">In questa sezione vengono descritti i due tipi di messaggi:</span><span class="sxs-lookup"><span data-stu-id="73e1f-152">This section describes the two types of messages:</span></span>

-   [<span data-ttu-id="73e1f-153">Messaggi definiti dal sistema</span><span class="sxs-lookup"><span data-stu-id="73e1f-153">System-Defined Messages</span></span>](#system-defined-messages)
-   [<span data-ttu-id="73e1f-154">Messaggi definiti dall'applicazione</span><span class="sxs-lookup"><span data-stu-id="73e1f-154">Application-Defined Messages</span></span>](#application-defined-messages)

### <a name="system-defined-messages"></a><span data-ttu-id="73e1f-155">Messaggi di System-Defined</span><span class="sxs-lookup"><span data-stu-id="73e1f-155">System-Defined Messages</span></span>

<span data-ttu-id="73e1f-156">Il sistema invia o Invia un *messaggio definito dal sistema* durante la comunicazione con un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-156">The system sends or posts a *system-defined message* when it communicates with an application.</span></span> <span data-ttu-id="73e1f-157">Questi messaggi vengono usati per controllare le operazioni delle applicazioni e fornire l'input e altre informazioni per l'elaborazione delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="73e1f-157">It uses these messages to control the operations of applications and to provide input and other information for applications to process.</span></span> <span data-ttu-id="73e1f-158">Un'applicazione può anche inviare o inviare messaggi definiti dal sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-158">An application can also send or post system-defined messages.</span></span> <span data-ttu-id="73e1f-159">In genere, le applicazioni utilizzano questi messaggi per controllare l'operazione delle finestre di controllo create utilizzando le classi di finestra pre-registrate.</span><span class="sxs-lookup"><span data-stu-id="73e1f-159">Applications generally use these messages to control the operation of control windows created by using preregistered window classes.</span></span>

<span data-ttu-id="73e1f-160">Ogni messaggio definito dal sistema dispone di un identificatore univoco del messaggio e di una costante simbolica corrispondente (definita nei file di intestazione Software Development Kit (SDK)) che indica lo scopo del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-160">Each system-defined message has a unique message identifier and a corresponding symbolic constant (defined in the software development kit (SDK) header files) that states the purpose of the message.</span></span> <span data-ttu-id="73e1f-161">Ad esempio, la costante di [**\_ disegno WM**](/windows/desktop/gdi/wm-paint) richiede che una finestra ridisegni il contenuto.</span><span class="sxs-lookup"><span data-stu-id="73e1f-161">For example, the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) constant requests that a window paint its contents.</span></span>

<span data-ttu-id="73e1f-162">Le costanti simboliche specificano la categoria a cui appartengono i messaggi definiti dal sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-162">Symbolic constants specify the category to which system-defined messages belong.</span></span> <span data-ttu-id="73e1f-163">Il prefisso della costante identifica il tipo di finestra che può interpretare ed elaborare il messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-163">The prefix of the constant identifies the type of window that can interpret and process the message.</span></span> <span data-ttu-id="73e1f-164">Di seguito sono riportati i prefissi e le categorie di messaggi correlati.</span><span class="sxs-lookup"><span data-stu-id="73e1f-164">Following are the prefixes and their related message categories.</span></span>



| <span data-ttu-id="73e1f-165">Prefisso</span><span class="sxs-lookup"><span data-stu-id="73e1f-165">Prefix</span></span>                               | <span data-ttu-id="73e1f-166">Categoria messaggio</span><span class="sxs-lookup"><span data-stu-id="73e1f-166">Message category</span></span>             | <span data-ttu-id="73e1f-167">Documentazione</span><span class="sxs-lookup"><span data-stu-id="73e1f-167">Documentation</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="73e1f-168">**ABM** e **ABN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-168">**ABM** and **ABN**</span></span>                  | <span data-ttu-id="73e1f-169">Barra degli strumenti del desktop applicazione</span><span class="sxs-lookup"><span data-stu-id="73e1f-169">Application desktop toolbar</span></span>  | [<span data-ttu-id="73e1f-170">Messaggi e notifiche della shell</span><span class="sxs-lookup"><span data-stu-id="73e1f-170">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="73e1f-171">**ACM** e **ACN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-171">**ACM** and **ACN**</span></span>                  | <span data-ttu-id="73e1f-172">Controllo Animation</span><span class="sxs-lookup"><span data-stu-id="73e1f-172">Animation control</span></span>            | <span data-ttu-id="73e1f-173">[Messaggi di controllo animazione](/windows/desktop/Controls/bumper-animation-control-reference-messages) e [notifiche di controllo animazione](/windows/desktop/Controls/bumper-animation-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-173">[Animation Control Messages](/windows/desktop/Controls/bumper-animation-control-reference-messages) and [Animation Control Notifications](/windows/desktop/Controls/bumper-animation-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="73e1f-174">**BCM**, **BCN**, **BM** e **BN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-174">**BCM**, **BCN**, **BM**, and **BN**</span></span> | <span data-ttu-id="73e1f-175">Controllo Button</span><span class="sxs-lookup"><span data-stu-id="73e1f-175">Button control</span></span>               | <span data-ttu-id="73e1f-176">[Messaggi di controllo Button](/windows/desktop/Controls/bumper-button-control-reference-messages) e [notifiche di controllo Button](/windows/desktop/Controls/bumper-button-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-176">[Button Control Messages](/windows/desktop/Controls/bumper-button-control-reference-messages) and [Button Control Notifications](/windows/desktop/Controls/bumper-button-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="73e1f-177">**CB** e **CBN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-177">**CB** and **CBN**</span></span>                   | <span data-ttu-id="73e1f-178">ComboBox (controllo)</span><span class="sxs-lookup"><span data-stu-id="73e1f-178">ComboBox control</span></span>             | <span data-ttu-id="73e1f-179">[Messaggi di controllo ComboBox](/windows/desktop/Controls/bumper-combobox-control-reference-messages) e [notifiche del controllo ComboBox](/windows/desktop/Controls/bumper-combobox-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-179">[ComboBox Control Messages](/windows/desktop/Controls/bumper-combobox-control-reference-messages) and [ComboBox Control Notifications](/windows/desktop/Controls/bumper-combobox-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="73e1f-180">**CBEM** e **CBEN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-180">**CBEM** and **CBEN**</span></span>                | <span data-ttu-id="73e1f-181">Controllo ComboBoxEx</span><span class="sxs-lookup"><span data-stu-id="73e1f-181">ComboBoxEx control</span></span>           | <span data-ttu-id="73e1f-182">[Messaggi ComboBoxEx](/windows/desktop/Controls/bumper-comboboxex-control-reference-messages) e [notifiche ComboBoxEx](/windows/desktop/Controls/bumper-comboboxex-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-182">[ComboBoxEx Messages](/windows/desktop/Controls/bumper-comboboxex-control-reference-messages) and [ComboBoxEx Notifications](/windows/desktop/Controls/bumper-comboboxex-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="73e1f-183">**CCM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-183">**CCM**</span></span>                              | <span data-ttu-id="73e1f-184">Controllo generale</span><span class="sxs-lookup"><span data-stu-id="73e1f-184">General control</span></span>              | [<span data-ttu-id="73e1f-185">Messaggi di controllo</span><span class="sxs-lookup"><span data-stu-id="73e1f-185">Control Messages</span></span>](/windows/desktop/Controls/bumper-general-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="73e1f-186">**CDM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-186">**CDM**</span></span>                              | <span data-ttu-id="73e1f-187">Finestra di dialogo comune</span><span class="sxs-lookup"><span data-stu-id="73e1f-187">Common dialog box</span></span>            | [<span data-ttu-id="73e1f-188">Messaggi comuni della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="73e1f-188">Common Dialog Box Messages</span></span>](/windows/desktop/dlgbox/common-dialog-box-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="73e1f-189">**DFM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-189">**DFM**</span></span>                              | <span data-ttu-id="73e1f-190">Menu di scelta rapida predefinito</span><span class="sxs-lookup"><span data-stu-id="73e1f-190">Default context menu</span></span>         | [<span data-ttu-id="73e1f-191">Messaggi e notifiche della shell</span><span class="sxs-lookup"><span data-stu-id="73e1f-191">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="73e1f-192">**DL**</span><span class="sxs-lookup"><span data-stu-id="73e1f-192">**DL**</span></span>                               | <span data-ttu-id="73e1f-193">Casella di riepilogo di trascinamento</span><span class="sxs-lookup"><span data-stu-id="73e1f-193">Drag list box</span></span>                | <span data-ttu-id="73e1f-194">[Trascinare le notifiche della casella di riepilogo](/previous-versions//ff485914(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="73e1f-194">[Drag List Box Notifications](/previous-versions//ff485914(v=vs.85))</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="73e1f-195">**DM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-195">**DM**</span></span>                               | <span data-ttu-id="73e1f-196">Controllo pulsante di push predefinito</span><span class="sxs-lookup"><span data-stu-id="73e1f-196">Default push button control</span></span>  | [<span data-ttu-id="73e1f-197">Messaggi della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="73e1f-197">Dialog Box Messages</span></span>](/windows/desktop/dlgbox/dialog-box-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="73e1f-198">**DTM** e **DTN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-198">**DTM** and **DTN**</span></span>                  | <span data-ttu-id="73e1f-199">Controllo selezione data e ora</span><span class="sxs-lookup"><span data-stu-id="73e1f-199">Date and time picker control</span></span> | <span data-ttu-id="73e1f-200">[Messaggi selezione data e ora](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-messages) e [notifiche selezione data e ora](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-200">[Date and Time Picker Messages](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-messages) and [Date and Time Picker Notifications](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="73e1f-201">**Em** e **en**</span><span class="sxs-lookup"><span data-stu-id="73e1f-201">**EM** and **EN**</span></span>                    | <span data-ttu-id="73e1f-202">Controllo Edit</span><span class="sxs-lookup"><span data-stu-id="73e1f-202">Edit control</span></span>                 | <span data-ttu-id="73e1f-203">[Modificare i messaggi di controllo](/windows/desktop/Controls/bumper-edit-control-reference-messages), [modificare le notifiche dei controlli](/windows/desktop/Controls/bumper-edit-control-reference-notifications), [i messaggi Rich Edit](/windows/desktop/Controls/bumper-rich-edit-control-reference-messages)e le [notifiche Rich Edit](/windows/desktop/Controls/bumper-rich-edit-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-203">[Edit Control Messages](/windows/desktop/Controls/bumper-edit-control-reference-messages), [Edit Control Notifications](/windows/desktop/Controls/bumper-edit-control-reference-notifications), [Rich Edit Messages](/windows/desktop/Controls/bumper-rich-edit-control-reference-messages), and [Rich Edit Notifications](/windows/desktop/Controls/bumper-rich-edit-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="73e1f-204">**HDM** e **HDN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-204">**HDM** and **HDN**</span></span>                  | <span data-ttu-id="73e1f-205">Controllo intestazione</span><span class="sxs-lookup"><span data-stu-id="73e1f-205">Header control</span></span>               | <span data-ttu-id="73e1f-206">[Messaggi di controllo intestazione](/windows/desktop/Controls/bumper-header-control-reference-messages) e [notifiche di controllo intestazione](/windows/desktop/Controls/bumper-header-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-206">[Header Control Messages](/windows/desktop/Controls/bumper-header-control-reference-messages) and [Header Control Notifications](/windows/desktop/Controls/bumper-header-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="73e1f-207">**HKM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-207">**HKM**</span></span>                              | <span data-ttu-id="73e1f-208">Controllo tasto di scelta</span><span class="sxs-lookup"><span data-stu-id="73e1f-208">Hot key control</span></span>              | [<span data-ttu-id="73e1f-209">Messaggi di controllo tasto di scelta</span><span class="sxs-lookup"><span data-stu-id="73e1f-209">Hot Key Control Messages</span></span>](/windows/desktop/Controls/bumper-hot-key-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="73e1f-210">**IPM** e **IPN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-210">**IPM** and **IPN**</span></span>                  | <span data-ttu-id="73e1f-211">controllo indirizzo IP</span><span class="sxs-lookup"><span data-stu-id="73e1f-211">IP address control</span></span>           | <span data-ttu-id="73e1f-212">[Messaggi di indirizzi IP](/windows/desktop/Controls/bumper-ip-address-control-reference-messages) e [notifiche degli indirizzi IP](/windows/desktop/Controls/bumper-ip-address-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-212">[IP Address Messages](/windows/desktop/Controls/bumper-ip-address-control-reference-messages) and [IP Address Notifications](/windows/desktop/Controls/bumper-ip-address-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="73e1f-213">**Lb** e **LBN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-213">**LB** and **LBN**</span></span>                   | <span data-ttu-id="73e1f-214">Controllo casella di riepilogo</span><span class="sxs-lookup"><span data-stu-id="73e1f-214">List box control</span></span>             | <span data-ttu-id="73e1f-215">[Messaggi della casella di riepilogo](/windows/desktop/Controls/bumper-list-box-control-reference-messages) e [notifiche della casella di riepilogo](/windows/desktop/Controls/bumper-list-box-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-215">[List Box Messages](/windows/desktop/Controls/bumper-list-box-control-reference-messages) and [List Box Notifications](/windows/desktop/Controls/bumper-list-box-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="73e1f-216">**LM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-216">**LM**</span></span>                               | <span data-ttu-id="73e1f-217">Controllo SysLink</span><span class="sxs-lookup"><span data-stu-id="73e1f-217">SysLink control</span></span>              | [<span data-ttu-id="73e1f-218">Messaggi di controllo SysLink</span><span class="sxs-lookup"><span data-stu-id="73e1f-218">SysLink Control Messages</span></span>](/windows/desktop/Controls/bumper-syslink-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="73e1f-219">**LVM** e **LVN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-219">**LVM** and **LVN**</span></span>                  | <span data-ttu-id="73e1f-220">Controllo visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="73e1f-220">List view control</span></span>            | <span data-ttu-id="73e1f-221">[Visualizzazione elenco messaggi](/windows/desktop/Controls/bumper-list-view-control-reference-messages) e [notifiche visualizzazione elenco](/windows/desktop/Controls/bumper-list-view-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-221">[List View Messages](/windows/desktop/Controls/bumper-list-view-control-reference-messages) and [List View Notifications](/windows/desktop/Controls/bumper-list-view-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="73e1f-222">**MCM** e **MCN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-222">**MCM** and **MCN**</span></span>                  | <span data-ttu-id="73e1f-223">Controllo calendario mensile</span><span class="sxs-lookup"><span data-stu-id="73e1f-223">Month calendar control</span></span>       | <span data-ttu-id="73e1f-224">[Messaggi del calendario mensile](/windows/desktop/Controls/bumper-month-calendar-control-reference-messages) e [notifiche del calendario mensile](/windows/desktop/Controls/bumper-month-calendar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-224">[Month Calendar Messages](/windows/desktop/Controls/bumper-month-calendar-control-reference-messages) and [Month Calendar Notifications](/windows/desktop/Controls/bumper-month-calendar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="73e1f-225">**gestione basata su criteri**</span><span class="sxs-lookup"><span data-stu-id="73e1f-225">**PBM**</span></span>                              | <span data-ttu-id="73e1f-226">Barra di stato</span><span class="sxs-lookup"><span data-stu-id="73e1f-226">Progress bar</span></span>                 | [<span data-ttu-id="73e1f-227">Messaggi indicatore di stato</span><span class="sxs-lookup"><span data-stu-id="73e1f-227">Progress Bar Messages</span></span>](/windows/desktop/Controls/bumper-progress-bar-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="73e1f-228">**PGM** e **PGN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-228">**PGM** and **PGN**</span></span>                  | <span data-ttu-id="73e1f-229">Controllo pager</span><span class="sxs-lookup"><span data-stu-id="73e1f-229">Pager control</span></span>                | <span data-ttu-id="73e1f-230">[Messaggi di controllo pager](/windows/desktop/Controls/bumper-pager-control-reference-messages) e [notifiche del controllo pager](/windows/desktop/Controls/bumper-pager-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-230">[Pager Control Messages](/windows/desktop/Controls/bumper-pager-control-reference-messages) and [Pager Control Notifications](/windows/desktop/Controls/bumper-pager-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="73e1f-231">**PSM** e **PSN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-231">**PSM** and **PSN**</span></span>                  | <span data-ttu-id="73e1f-232">Finestra delle proprietà</span><span class="sxs-lookup"><span data-stu-id="73e1f-232">Property sheet</span></span>               | <span data-ttu-id="73e1f-233">[Messaggi della finestra delle proprietà](/windows/desktop/Controls/bumper-property-sheets-reference-messages) e [notifiche della finestra delle proprietà](/windows/desktop/Controls/bumper-property-sheets-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-233">[Property Sheet Messages](/windows/desktop/Controls/bumper-property-sheets-reference-messages) and [Property Sheet Notifications](/windows/desktop/Controls/bumper-property-sheets-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="73e1f-234">**RB** e **RBN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-234">**RB** and **RBN**</span></span>                   | <span data-ttu-id="73e1f-235">Controllo Rebar</span><span class="sxs-lookup"><span data-stu-id="73e1f-235">Rebar control</span></span>                | <span data-ttu-id="73e1f-236">[Messaggi di controllo Rebar](/windows/desktop/Controls/bumper-rebar-control-reference-messages) e [notifiche del controllo Rebar](/windows/desktop/Controls/bumper-rebar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-236">[Rebar Control Messages](/windows/desktop/Controls/bumper-rebar-control-reference-messages) and [Rebar Control Notifications](/windows/desktop/Controls/bumper-rebar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="73e1f-237">**SB** e **SBN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-237">**SB** and **SBN**</span></span>                   | <span data-ttu-id="73e1f-238">Finestra della barra di stato</span><span class="sxs-lookup"><span data-stu-id="73e1f-238">Status bar window</span></span>            | <span data-ttu-id="73e1f-239">[Messaggi della barra](/windows/desktop/Controls/bumper-status-bars-reference-messages) di stato e [notifiche della barra di stato](/windows/desktop/Controls/bumper-status-bars-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-239">[Status Bar Messages](/windows/desktop/Controls/bumper-status-bars-reference-messages) and [Status Bar Notifications](/windows/desktop/Controls/bumper-status-bars-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="73e1f-240">**SBM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-240">**SBM**</span></span>                              | <span data-ttu-id="73e1f-241">Controllo Scroll Bar</span><span class="sxs-lookup"><span data-stu-id="73e1f-241">Scroll bar control</span></span>           | [<span data-ttu-id="73e1f-242">Messaggi barra di scorrimento</span><span class="sxs-lookup"><span data-stu-id="73e1f-242">Scroll Bar Messages</span></span>](/windows/desktop/Controls/bumper-scroll-bars-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="73e1f-243">**SMC**</span><span class="sxs-lookup"><span data-stu-id="73e1f-243">**SMC**</span></span>                              | <span data-ttu-id="73e1f-244">Menu della shell</span><span class="sxs-lookup"><span data-stu-id="73e1f-244">Shell menu</span></span>                   | [<span data-ttu-id="73e1f-245">Messaggi e notifiche della shell</span><span class="sxs-lookup"><span data-stu-id="73e1f-245">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="73e1f-246">**STM** e **STN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-246">**STM** and **STN**</span></span>                  | <span data-ttu-id="73e1f-247">Controllo statico</span><span class="sxs-lookup"><span data-stu-id="73e1f-247">Static control</span></span>               | <span data-ttu-id="73e1f-248">[Messaggi di controllo statico](/windows/desktop/Controls/bumper-static-control-reference-messages) e [notifiche del controllo statico](/windows/desktop/Controls/bumper-static-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-248">[Static Control Messages](/windows/desktop/Controls/bumper-static-control-reference-messages) and [Static Control Notifications](/windows/desktop/Controls/bumper-static-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="73e1f-249">**TB** e **TBN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-249">**TB** and **TBN**</span></span>                   | <span data-ttu-id="73e1f-250">Barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="73e1f-250">Toolbar</span></span>                      | <span data-ttu-id="73e1f-251">[Messaggi di controllo della barra degli strumenti](/windows/desktop/Controls/bumper-toolbar-control-reference-messages) e [notifiche del controllo Toolbar](/windows/desktop/Controls/bumper-toolbar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-251">[Toolbar Control Messages](/windows/desktop/Controls/bumper-toolbar-control-reference-messages) and [Toolbar Control Notifications](/windows/desktop/Controls/bumper-toolbar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="73e1f-252">**TBM** e **Trbn**</span><span class="sxs-lookup"><span data-stu-id="73e1f-252">**TBM** and **TRBN**</span></span>                 | <span data-ttu-id="73e1f-253">Controllo TrackBar</span><span class="sxs-lookup"><span data-stu-id="73e1f-253">Trackbar control</span></span>             | <span data-ttu-id="73e1f-254">[Messaggi di controllo TrackBar](/windows/desktop/Controls/bumper-trackbar-control-reference-messages) e [notifiche del controllo TrackBar](/windows/desktop/Controls/bumper-trackbar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-254">[Trackbar Control Messages](/windows/desktop/Controls/bumper-trackbar-control-reference-messages) and [Trackbar Control Notifications](/windows/desktop/Controls/bumper-trackbar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="73e1f-255">**TCM** e **TCN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-255">**TCM** and **TCN**</span></span>                  | <span data-ttu-id="73e1f-256">Controllo Tab</span><span class="sxs-lookup"><span data-stu-id="73e1f-256">Tab control</span></span>                  | <span data-ttu-id="73e1f-257">[Messaggi di controllo Tab](/windows/desktop/Controls/bumper-tab-control-reference-messages) e [notifiche di controllo scheda](/windows/desktop/Controls/bumper-tab-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-257">[Tab Control Messages](/windows/desktop/Controls/bumper-tab-control-reference-messages) and [Tab Control Notifications](/windows/desktop/Controls/bumper-tab-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="73e1f-258">**TDM** e **TDN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-258">**TDM** and **TDN**</span></span>                  | <span data-ttu-id="73e1f-259">Finestra di dialogo attività</span><span class="sxs-lookup"><span data-stu-id="73e1f-259">Task dialog</span></span>                  | <span data-ttu-id="73e1f-260">[Messaggi](/windows/desktop/Controls/bumper-task-dialogs-reference-messages) e notifiche della [finestra](/windows/desktop/Controls/bumper-task-dialogs-reference-notifications) di dialogo attività</span><span class="sxs-lookup"><span data-stu-id="73e1f-260">[Task Dialog Messages](/windows/desktop/Controls/bumper-task-dialogs-reference-messages) and [Task Dialog Notifications](/windows/desktop/Controls/bumper-task-dialogs-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="73e1f-261">**TTM** e **TTN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-261">**TTM** and **TTN**</span></span>                  | <span data-ttu-id="73e1f-262">ToolTip (controllo)</span><span class="sxs-lookup"><span data-stu-id="73e1f-262">Tooltip control</span></span>              | <span data-ttu-id="73e1f-263">[Messaggi di controllo ToolTip](/windows/desktop/Controls/bumper-tooltip-control-reference-messages) e [notifiche del controllo ToolTip](/windows/desktop/Controls/bumper-tooltip-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-263">[Tooltip Control Messages](/windows/desktop/Controls/bumper-tooltip-control-reference-messages) and [Tooltip Control Notifications](/windows/desktop/Controls/bumper-tooltip-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="73e1f-264">**TVM** e **TVN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-264">**TVM** and **TVN**</span></span>                  | <span data-ttu-id="73e1f-265">Controllo visualizzazione albero</span><span class="sxs-lookup"><span data-stu-id="73e1f-265">Tree-view control</span></span>            | <span data-ttu-id="73e1f-266">[Messaggi visualizzazione albero](/windows/desktop/Controls/bumper-tree-view-control-reference-messages) e [notifiche visualizzazione albero](/windows/desktop/Controls/bumper-tree-view-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-266">[Tree View Messages](/windows/desktop/Controls/bumper-tree-view-control-reference-messages) and [Tree View Notifications](/windows/desktop/Controls/bumper-tree-view-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="73e1f-267">**UDM** e **UDN**</span><span class="sxs-lookup"><span data-stu-id="73e1f-267">**UDM** and **UDN**</span></span>                  | <span data-ttu-id="73e1f-268">Controllo di scorrimento</span><span class="sxs-lookup"><span data-stu-id="73e1f-268">Up-down control</span></span>              | <span data-ttu-id="73e1f-269">[Messaggi di scorrimento](/windows/desktop/Controls/bumper-up-down-control-reference-messages) e [notifiche di scorrimento](/windows/desktop/Controls/bumper-up-down-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="73e1f-269">[Up-Down Messages](/windows/desktop/Controls/bumper-up-down-control-reference-messages) and [Up-Down Notifications](/windows/desktop/Controls/bumper-up-down-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="73e1f-270">**WM**</span><span class="sxs-lookup"><span data-stu-id="73e1f-270">**WM**</span></span>                               | <span data-ttu-id="73e1f-271">Generale</span><span class="sxs-lookup"><span data-stu-id="73e1f-271">General</span></span>                      | <dl> <span data-ttu-id="73e1f-272"><dt>[Messaggi appunti](/windows/desktop/dataxchg/clipboard-messages)</dt> <dt>[Appunti](/windows/desktop/dataxchg/clipboard-notifications)</dt> notifiche finestra di <dt>[dialogo](/windows/desktop/dlgbox/common-dialog-box-notifications)</dt> notifiche del cursore notifiche del <dt>[cursore](/windows/desktop/menurc/cursor-notifications)</dt> <dt>[notifiche](/windows/desktop/dataxchg/wm-copydata)</dt> del cursore messaggi <dt>[Gestione finestre desktop messaggi](/windows/desktop/dwm/dwm-messages)</dt> <dt>[di gestione dispositivo](/windows/desktop/DevIO/device-management-messages)</dt> notifiche finestra di dialogo messaggi <dt>[Dynamic Data Exchange messaggi](/windows/desktop/dataxchg/dynamic-data-exchange-messages)</dt> <dt>[Dynamic Data Exchange notifiche](/windows/desktop/dataxchg/dynamic-data-exchange-notifications)</dt> <dt>[hook](hook-notifications.md)</dt> notifiche tasti <dt>[di scelta rapida](/windows/desktop/menurc/keyboard-accelerator-messages)</dt> <dt>[notifiche acceleratore](/windows/desktop/menurc/keyboard-accelerator-notifications)</dt> <dt>[](/windows/desktop/inputdev/keyboard-input-messages)</dt> tastiera messaggi di input tastiera notifiche di input <dt>[del mouse](/windows/desktop/inputdev/mouse-input-notifications)</dt> <dt>[notifiche](/windows/desktop/menurc/menu-notifications)</dt> <dt>[input tastiera](/windows/desktop/inputdev/keyboard-input-notifications)</dt> <dt>[messaggi di interfaccia](multiple-document-interface-messages.md)</dt> di scorrimento notifiche <dt>[di input](/windows/desktop/inputdev/raw-input-notifications)</dt> <dt>[barra di scorrimento notifiche](/windows/desktop/Controls/bumper-scroll-bars-reference-notifications)</dt> <dt>[timer](timer-notifications.md)</dt> <dt>[finestra di](window-notifications.md)</dt> <dt>[dialogo](/windows/desktop/dlgbox/dialog-box-notifications)</dt> <dt>[notifiche messaggio](window-messages.md)</dt></span><span class="sxs-lookup"><span data-stu-id="73e1f-272"><dt>[Clipboard Messages](/windows/desktop/dataxchg/clipboard-messages)</dt> <dt>[Clipboard Notifications](/windows/desktop/dataxchg/clipboard-notifications)</dt> <dt>[Common Dialog Box Notifications](/windows/desktop/dlgbox/common-dialog-box-notifications)</dt> <dt>[Cursor Notifications](/windows/desktop/menurc/cursor-notifications)</dt> <dt>[Data Copy Message](/windows/desktop/dataxchg/wm-copydata)</dt> <dt>[Desktop Window Manager Messages](/windows/desktop/dwm/dwm-messages)</dt> <dt>[Device Management Messages](/windows/desktop/DevIO/device-management-messages)</dt> <dt>[Dialog Box Notifications](/windows/desktop/dlgbox/dialog-box-notifications)</dt> <dt>[Dynamic Data Exchange Messages](/windows/desktop/dataxchg/dynamic-data-exchange-messages)</dt> <dt>[Dynamic Data Exchange Notifications](/windows/desktop/dataxchg/dynamic-data-exchange-notifications)</dt> <dt>[Hook Notifications](hook-notifications.md)</dt> <dt>[Keyboard Accelerator Messages](/windows/desktop/menurc/keyboard-accelerator-messages)</dt> <dt>[Keyboard Accelerator Notifications](/windows/desktop/menurc/keyboard-accelerator-notifications)</dt> <dt>[Keyboard Input Messages](/windows/desktop/inputdev/keyboard-input-messages)</dt> <dt>[Keyboard Input Notifications](/windows/desktop/inputdev/keyboard-input-notifications)</dt> <dt>[Menu Notifications](/windows/desktop/menurc/menu-notifications)</dt> <dt>[Mouse Input Notifications](/windows/desktop/inputdev/mouse-input-notifications)</dt> <dt>[Multiple Document Interface Messages](multiple-document-interface-messages.md)</dt> <dt>[Raw Input Notifications](/windows/desktop/inputdev/raw-input-notifications)</dt> <dt>[Scroll Bar Notifications](/windows/desktop/Controls/bumper-scroll-bars-reference-notifications)</dt> <dt>[Timer Notifications](timer-notifications.md)</dt> <dt>[Window Messages](window-messages.md)</dt> <dt>[Window Notifications](window-notifications.md)</dt></span></span> </dl> |



 

<span data-ttu-id="73e1f-273">I messaggi della finestra generale coprono un'ampia gamma di informazioni e richieste, inclusi i messaggi per l'input del mouse e della tastiera, l'input del menu e della finestra di dialogo, la creazione e la gestione delle finestre e la Dynamic Data Exchange (DDE).</span><span class="sxs-lookup"><span data-stu-id="73e1f-273">General window messages cover a wide range of information and requests, including messages for mouse and keyboard input, menu and dialog box input, window creation and management, and Dynamic Data Exchange (DDE).</span></span>

### <a name="application-defined-messages"></a><span data-ttu-id="73e1f-274">Messaggi di Application-Defined</span><span class="sxs-lookup"><span data-stu-id="73e1f-274">Application-Defined Messages</span></span>

<span data-ttu-id="73e1f-275">Un'applicazione può creare messaggi che devono essere usati dalle proprie finestre o per comunicare con Windows in altri processi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-275">An application can create messages to be used by its own windows or to communicate with windows in other processes.</span></span> <span data-ttu-id="73e1f-276">Se un'applicazione crea messaggi propri, la routine della finestra che li riceve deve interpretare i messaggi e fornire l'elaborazione appropriata.</span><span class="sxs-lookup"><span data-stu-id="73e1f-276">If an application creates its own messages, the window procedure that receives them must interpret the messages and provide appropriate processing.</span></span>

<span data-ttu-id="73e1f-277">I valori dell'identificatore di messaggio vengono usati come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="73e1f-277">Message-identifier values are used as follows:</span></span>

-   <span data-ttu-id="73e1f-278">Il sistema riserva i valori dell'identificatore di messaggio nell'intervallo 0x0000 tramite 0x03FF (il valore di [**WM \_ User**](wm-user.md)  – 1) per i messaggi definiti dal sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-278">The system reserves message-identifier values in the range 0x0000 through 0x03FF (the value of [**WM\_USER**](wm-user.md)  – 1) for system-defined messages.</span></span> <span data-ttu-id="73e1f-279">Le applicazioni non possono utilizzare questi valori per i messaggi privati.</span><span class="sxs-lookup"><span data-stu-id="73e1f-279">Applications cannot use these values for private messages.</span></span>
-   <span data-ttu-id="73e1f-280">I valori nell'intervallo 0x0400 (il valore di [**WM \_ User**](wm-user.md)) tramite 0x7FFF sono disponibili per gli identificatori di messaggio per le classi di finestre private.</span><span class="sxs-lookup"><span data-stu-id="73e1f-280">Values in the range 0x0400 (the value of [**WM\_USER**](wm-user.md)) through 0x7FFF are available for message identifiers for private window classes.</span></span>
-   <span data-ttu-id="73e1f-281">Se l'applicazione è contrassegnata con la versione 4,0, è possibile usare i valori dell'identificatore di messaggio nell'intervallo 0x8000 ([**WM \_ app**](wm-app.md)) tramite 0xBFFF per i messaggi privati.</span><span class="sxs-lookup"><span data-stu-id="73e1f-281">If your application is marked version 4.0, you can use message-identifier values in the range 0x8000 ([**WM\_APP**](wm-app.md)) through 0xBFFF for private messages.</span></span>
-   <span data-ttu-id="73e1f-282">Il sistema restituisce un identificatore di messaggio nell'intervallo compreso tra 0xC000 e 0xFFFF quando un'applicazione chiama la funzione [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea) per registrare un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-282">The system returns a message identifier in the range 0xC000 through 0xFFFF when an application calls the [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea) function to register a message.</span></span> <span data-ttu-id="73e1f-283">L'identificatore del messaggio restituito da questa funzione è sicuramente univoco nel sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-283">The message identifier returned by this function is guaranteed to be unique throughout the system.</span></span> <span data-ttu-id="73e1f-284">L'utilizzo di questa funzione impedisce conflitti che possono verificarsi se altre applicazioni utilizzano lo stesso identificatore di messaggio per scopi diversi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-284">Use of this function prevents conflicts that can arise if other applications use the same message identifier for different purposes.</span></span>

## <a name="message-routing"></a><span data-ttu-id="73e1f-285">Routing del messaggio</span><span class="sxs-lookup"><span data-stu-id="73e1f-285">Message Routing</span></span>

<span data-ttu-id="73e1f-286">Il sistema utilizza due metodi per indirizzare i messaggi a una procedura della finestra: l'invio di messaggi a una coda di prima, in uscita denominata *coda di messaggi*, un oggetto memoria definito dal sistema che archivia temporaneamente i messaggi e l'invio di messaggi direttamente a una routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-286">The system uses two methods to route messages to a window procedure: posting messages to a first-in, first-out queue called a *message queue*, a system-defined memory object that temporarily stores messages, and sending messages directly to a window procedure.</span></span>

<span data-ttu-id="73e1f-287">Un messaggio inviato a una coda di messaggi viene chiamato messaggio in *coda*.</span><span class="sxs-lookup"><span data-stu-id="73e1f-287">A messages that is posted to a message queue is called a *queued message*.</span></span> <span data-ttu-id="73e1f-288">Si tratta principalmente del risultato dell'input dell'utente immesso tramite mouse o tastiera, ad [**esempio \_ WM MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove), [**WM \_ LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown), [**WM \_ KeyDown**](/windows/desktop/inputdev/wm-keydown)e [**WM \_ char**](/windows/desktop/inputdev/wm-char) messages.</span><span class="sxs-lookup"><span data-stu-id="73e1f-288">These are primarily the result of user input entered through the mouse or keyboard, such as [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove), [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown), [**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown), and [**WM\_CHAR**](/windows/desktop/inputdev/wm-char) messages.</span></span> <span data-ttu-id="73e1f-289">Altri messaggi in coda includono i messaggi timer, Paint e quit, ovvero [**WM \_ timer**](wm-timer.md), [**WM \_ Paint**](/windows/desktop/gdi/wm-paint)e [**WM \_ Quit**](wm-quit.md).</span><span class="sxs-lookup"><span data-stu-id="73e1f-289">Other queued messages include the timer, paint, and quit messages: [**WM\_TIMER**](wm-timer.md), [**WM\_PAINT**](/windows/desktop/gdi/wm-paint), and [**WM\_QUIT**](wm-quit.md).</span></span> <span data-ttu-id="73e1f-290">La maggior parte degli altri messaggi, che vengono inviati direttamente a una routine della finestra, sono denominati *messaggi non accodati*.</span><span class="sxs-lookup"><span data-stu-id="73e1f-290">Most other messages, which are sent directly to a window procedure, are called *nonqueued messages*.</span></span>

-   [<span data-ttu-id="73e1f-291">Messaggi in coda</span><span class="sxs-lookup"><span data-stu-id="73e1f-291">Queued Messages</span></span>](#queued-messages)
-   [<span data-ttu-id="73e1f-292">Messaggi non accodati</span><span class="sxs-lookup"><span data-stu-id="73e1f-292">Nonqueued Messages</span></span>](#nonqueued-messages)

### <a name="queued-messages"></a><span data-ttu-id="73e1f-293">Messaggi in coda</span><span class="sxs-lookup"><span data-stu-id="73e1f-293">Queued Messages</span></span>

<span data-ttu-id="73e1f-294">Il sistema può visualizzare un numero qualsiasi di finestre alla volta.</span><span class="sxs-lookup"><span data-stu-id="73e1f-294">The system can display any number of windows at a time.</span></span> <span data-ttu-id="73e1f-295">Per instradare l'input del mouse e della tastiera alla finestra appropriata, il sistema utilizza le code di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-295">To route mouse and keyboard input to the appropriate window, the system uses message queues.</span></span>

<span data-ttu-id="73e1f-296">Il sistema gestisce una sola coda di messaggi di sistema e una coda di messaggi specifica del thread per ogni thread GUI.</span><span class="sxs-lookup"><span data-stu-id="73e1f-296">The system maintains a single system message queue and one thread-specific message queue for each GUI thread.</span></span> <span data-ttu-id="73e1f-297">Per evitare il sovraccarico dovuto alla creazione di una coda di messaggi per thread non GUI, tutti i thread vengono creati inizialmente senza una coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-297">To avoid the overhead of creating a message queue for non–GUI threads, all threads are created initially without a message queue.</span></span> <span data-ttu-id="73e1f-298">Il sistema crea una coda di messaggi specifica del thread solo quando il thread effettua la prima chiamata a una delle funzioni utente specifiche. Nessuna chiamata di funzione GUI comporta la creazione di una coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-298">The system creates a thread-specific message queue only when the thread makes its first call to one of the specific user functions; no GUI function calls result in the creation of a message queue.</span></span>

<span data-ttu-id="73e1f-299">Ogni volta che l'utente sposta il mouse, fa clic sui pulsanti del mouse o sui tipi sulla tastiera, il driver di dispositivo per il mouse o la tastiera converte l'input in messaggi e li inserisce nella coda dei messaggi di sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-299">Whenever the user moves the mouse, clicks the mouse buttons, or types on the keyboard, the device driver for the mouse or keyboard converts the input into messages and places them in the system message queue.</span></span> <span data-ttu-id="73e1f-300">Il sistema rimuove i messaggi, uno alla volta, dalla coda di messaggi di sistema, li esamina per determinare la finestra di destinazione e quindi li inserisce nella coda di messaggi del thread che ha creato la finestra di destinazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-300">The system removes the messages, one at a time, from the system message queue, examines them to determine the destination window, and then posts them to the message queue of the thread that created the destination window.</span></span> <span data-ttu-id="73e1f-301">La coda di messaggi di un thread riceve tutti i messaggi di mouse e tastiera per le finestre create dal thread.</span><span class="sxs-lookup"><span data-stu-id="73e1f-301">A thread's message queue receives all mouse and keyboard messages for the windows created by the thread.</span></span> <span data-ttu-id="73e1f-302">Il thread rimuove i messaggi dalla relativa coda e indica al sistema di inviarli alla procedura della finestra appropriata per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-302">The thread removes messages from its queue and directs the system to send them to the appropriate window procedure for processing.</span></span>

<span data-ttu-id="73e1f-303">Fatta eccezione per il messaggio [**di \_ disegno WM**](/windows/desktop/gdi/wm-paint) , il messaggio del [**\_ timer WM**](wm-timer.md) e il messaggio [**WM \_ Quit**](wm-quit.md) , il sistema inserisce sempre i messaggi alla fine di una coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-303">With the exception of the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) message, the [**WM\_TIMER**](wm-timer.md) message, and the [**WM\_QUIT**](wm-quit.md) message, the system always posts messages at the end of a message queue.</span></span> <span data-ttu-id="73e1f-304">In questo modo si garantisce che una finestra riceva i messaggi di input nella sequenza FIFO (First in, First out) corretta.</span><span class="sxs-lookup"><span data-stu-id="73e1f-304">This ensures that a window receives its input messages in the proper first in, first out (FIFO) sequence.</span></span> <span data-ttu-id="73e1f-305">Il messaggio di **\_ disegno WM** , il messaggio del **\_ timer WM** e il messaggio **WM \_ Quit** , tuttavia, vengono mantenuti nella coda e vengono inviati alla routine della finestra solo quando la coda non contiene altri messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-305">The **WM\_PAINT** message, the **WM\_TIMER** message, and the **WM\_QUIT** message, however, are kept in the queue and are forwarded to the window procedure only when the queue contains no other messages.</span></span> <span data-ttu-id="73e1f-306">Inoltre, più messaggi **di \_ disegno WM** per la stessa finestra vengono combinati in un singolo messaggio di **\_ disegno WM** , consolidando tutte le parti non valide dell'area client in un'unica area.</span><span class="sxs-lookup"><span data-stu-id="73e1f-306">In addition, multiple **WM\_PAINT** messages for the same window are combined into a single **WM\_PAINT** message, consolidating all invalid parts of the client area into a single area.</span></span> <span data-ttu-id="73e1f-307">La combinazione di messaggi di **\_ disegno WM** riduce il numero di volte in cui una finestra deve ridisegnare il contenuto della relativa area client.</span><span class="sxs-lookup"><span data-stu-id="73e1f-307">Combining **WM\_PAINT** messages reduces the number of times a window must redraw the contents of its client area.</span></span>

<span data-ttu-id="73e1f-308">Il sistema invia un messaggio alla coda di messaggi di un thread compilando [**una struttura di messaggi e**](/windows/win32/api/winuser/ns-winuser-msg) quindi copiando il messaggio nella coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-308">The system posts a message to a thread's message queue by filling an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure and then copying it to the message queue.</span></span> <span data-ttu-id="73e1f-309">Le informazioni contenute in **msg** includono: l'handle della finestra per cui è previsto il messaggio, l'identificatore del messaggio, i due parametri del messaggio, l'ora in cui il messaggio è stato pubblicato e la posizione del cursore del mouse.</span><span class="sxs-lookup"><span data-stu-id="73e1f-309">Information in **MSG** includes: the handle of the window for which the message is intended, the message identifier, the two message parameters, the time the message was posted, and the mouse cursor position.</span></span> <span data-ttu-id="73e1f-310">Un thread può inviare un messaggio alla propria coda di messaggi o alla coda di un altro thread utilizzando la funzione [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) o [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-310">A thread can post a message to its own message queue or to the queue of another thread by using the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) or [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) function.</span></span>

<span data-ttu-id="73e1f-311">Un'applicazione può rimuovere un messaggio dalla coda usando la funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-311">An application can remove a message from its queue by using the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function.</span></span> <span data-ttu-id="73e1f-312">Per esaminare un messaggio senza rimuoverlo dalla coda, un'applicazione può usare la funzione [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-312">To examine a message without removing it from its queue, an application can use the [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span> <span data-ttu-id="73e1f-313">Questa funzione riempie [**msg**](/windows/win32/api/winuser/ns-winuser-msg) con le informazioni sul messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-313">This function fills [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) with information about the message.</span></span>

<span data-ttu-id="73e1f-314">Dopo la rimozione di un messaggio dalla coda, un'applicazione può utilizzare la funzione [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) per indicare al sistema di inviare il messaggio a una procedura della finestra per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-314">After removing a message from its queue, an application can use the [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) function to direct the system to send the message to a window procedure for processing.</span></span> <span data-ttu-id="73e1f-315">**DispatchMessage** accetta un puntatore a [**msg**](/windows/win32/api/winuser/ns-winuser-msg) che è stato riempito da una chiamata precedente alla funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-315">**DispatchMessage** takes a pointer to [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) that was filled by a previous call to the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span> <span data-ttu-id="73e1f-316">**DispatchMessage** passa l'handle della finestra, l'identificatore del messaggio e i due parametri del messaggio alla routine della finestra, ma non passa l'ora in cui è stato pubblicato il messaggio o la posizione del cursore del mouse.</span><span class="sxs-lookup"><span data-stu-id="73e1f-316">**DispatchMessage** passes the window handle, the message identifier, and the two message parameters to the window procedure, but it does not pass the time the message was posted or mouse cursor position.</span></span> <span data-ttu-id="73e1f-317">Un'applicazione può recuperare queste informazioni chiamando le funzioni [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime) e [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos) durante l'elaborazione di un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-317">An application can retrieve this information by calling the [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime) and [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos) functions while processing a message.</span></span>

<span data-ttu-id="73e1f-318">Un thread può utilizzare la funzione [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) per restituire il controllo ad altri thread se non sono presenti messaggi nella coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-318">A thread can use the [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) function to yield control to other threads when it has no messages in its message queue.</span></span> <span data-ttu-id="73e1f-319">La funzione sospende il thread e non restituisce alcun valore fino a quando non viene inserito un nuovo messaggio nella coda di messaggi del thread.</span><span class="sxs-lookup"><span data-stu-id="73e1f-319">The function suspends the thread and does not return until a new message is placed in the thread's message queue.</span></span>

<span data-ttu-id="73e1f-320">È possibile chiamare la funzione [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo) per associare un valore alla coda di messaggi del thread corrente.</span><span class="sxs-lookup"><span data-stu-id="73e1f-320">You can call the [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo) function to associate a value with the current thread's message queue.</span></span> <span data-ttu-id="73e1f-321">Chiamare quindi la funzione [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) per ottenere il valore associato all'ultimo messaggio recuperato dalla funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-321">Then call the [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) function to get the value associated with the last message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span>

### <a name="nonqueued-messages"></a><span data-ttu-id="73e1f-322">Messaggi non accodati</span><span class="sxs-lookup"><span data-stu-id="73e1f-322">Nonqueued Messages</span></span>

<span data-ttu-id="73e1f-323">I messaggi non accodati vengono inviati immediatamente alla routine della finestra di destinazione, ignorando la coda dei messaggi di sistema e la coda dei messaggi del thread.</span><span class="sxs-lookup"><span data-stu-id="73e1f-323">Nonqueued messages are sent immediately to the destination window procedure, bypassing the system message queue and thread message queue.</span></span> <span data-ttu-id="73e1f-324">Il sistema invia in genere messaggi non in coda per notificare una finestra degli eventi che lo influiscono.</span><span class="sxs-lookup"><span data-stu-id="73e1f-324">The system typically sends nonqueued messages to notify a window of events that affect it.</span></span> <span data-ttu-id="73e1f-325">Ad esempio, quando l'utente attiva una nuova finestra dell'applicazione, il sistema invia alla finestra una serie di messaggi, tra cui [**WM \_ Activate**](/windows/desktop/inputdev/wm-activate), [**WM \_ SetFocus**](/windows/desktop/inputdev/wm-setfocus)e [**WM \_ secursor**](/windows/desktop/menurc/wm-setcursor).</span><span class="sxs-lookup"><span data-stu-id="73e1f-325">For example, when the user activates a new application window, the system sends the window a series of messages, including [**WM\_ACTIVATE**](/windows/desktop/inputdev/wm-activate), [**WM\_SETFOCUS**](/windows/desktop/inputdev/wm-setfocus), and [**WM\_SETCURSOR**](/windows/desktop/menurc/wm-setcursor).</span></span> <span data-ttu-id="73e1f-326">Questi messaggi notificano alla finestra che è stata attivata, che l'input da tastiera viene indirizzato alla finestra e che il cursore del mouse è stato spostato all'interno dei bordi della finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-326">These messages notify the window that it has been activated, that keyboard input is being directed to the window, and that the mouse cursor has been moved within the borders of the window.</span></span> <span data-ttu-id="73e1f-327">I messaggi non accodati possono anche verificarsi quando un'applicazione chiama determinate funzioni di sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-327">Nonqueued messages can also result when an application calls certain system functions.</span></span> <span data-ttu-id="73e1f-328">Ad esempio, il sistema invia il [**messaggio \_ WINDOWPOSCHANGED di WM**](wm-windowposchanged.md) dopo che un'applicazione usa la funzione [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) per spostare una finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-328">For example, the system sends the [**WM\_WINDOWPOSCHANGED**](wm-windowposchanged.md) message after an application uses the [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) function to move a window.</span></span>

<span data-ttu-id="73e1f-329">Alcune funzioni che inviano messaggi non accodati sono [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa), [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)e [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea).</span><span class="sxs-lookup"><span data-stu-id="73e1f-329">Some functions that send nonqueued messages are [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa), [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), and [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea).</span></span>

## <a name="message-handling"></a><span data-ttu-id="73e1f-330">Gestione dei messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-330">Message Handling</span></span>

<span data-ttu-id="73e1f-331">Un'applicazione deve rimuovere ed elaborare i messaggi inviati alle code di messaggi dei relativi thread.</span><span class="sxs-lookup"><span data-stu-id="73e1f-331">An application must remove and process messages posted to the message queues of its threads.</span></span> <span data-ttu-id="73e1f-332">Un'applicazione a thread singolo usa in genere un *ciclo di messaggi* nella relativa funzione [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) per rimuovere e inviare messaggi alle procedure della finestra appropriate per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-332">A single-threaded application usually uses a *message loop* in its [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) function to remove and send messages to the appropriate window procedures for processing.</span></span> <span data-ttu-id="73e1f-333">Le applicazioni con più thread possono includere un ciclo di messaggi in ogni thread che crea una finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-333">Applications with multiple threads can include a message loop in each thread that creates a window.</span></span> <span data-ttu-id="73e1f-334">Nelle sezioni seguenti viene descritto il funzionamento di un ciclo di messaggi e viene illustrato il ruolo di una routine della finestra:</span><span class="sxs-lookup"><span data-stu-id="73e1f-334">The following sections describe how a message loop works and explain the role of a window procedure:</span></span>

-   [<span data-ttu-id="73e1f-335">Ciclo di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-335">Message Loop</span></span>](#message-loop)
-   [<span data-ttu-id="73e1f-336">Routine della finestra</span><span class="sxs-lookup"><span data-stu-id="73e1f-336">Window Procedure</span></span>](#window-procedure)

### <a name="message-loop"></a><span data-ttu-id="73e1f-337">Ciclo di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-337">Message Loop</span></span>

<span data-ttu-id="73e1f-338">Un semplice ciclo di messaggi è costituito da una chiamata di funzione a ognuna di queste tre funzioni: [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)e [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage).</span><span class="sxs-lookup"><span data-stu-id="73e1f-338">A simple message loop consists of one function call to each of these three functions: [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage), and [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage).</span></span> <span data-ttu-id="73e1f-339">Si noti che se si verifica un errore, **GetMessage** restituisce – 1, quindi la necessità del test speciale.</span><span class="sxs-lookup"><span data-stu-id="73e1f-339">Note that if there is an error, **GetMessage** returns –1, thus the need for the special testing.</span></span>


```
MSG msg;
BOOL bRet;

while( (bRet = GetMessage( &msg, NULL, 0, 0 )) != 0)
{ 
    if (bRet == -1)
    {
        // handle the error and possibly exit
    }
    else
    {
        TranslateMessage(&msg); 
        DispatchMessage(&msg); 
    }
}
```



<span data-ttu-id="73e1f-340">La funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) recupera un messaggio dalla coda e lo copia in una struttura di tipo [**msg**](/windows/win32/api/winuser/ns-winuser-msg).</span><span class="sxs-lookup"><span data-stu-id="73e1f-340">The [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function retrieves a message from the queue and copies it to a structure of type [**MSG**](/windows/win32/api/winuser/ns-winuser-msg).</span></span> <span data-ttu-id="73e1f-341">Restituisce un valore diverso da zero, a meno che non riscontri il messaggio [**WM \_ Quit**](wm-quit.md) , nel qual caso restituisce **false** e termina il ciclo.</span><span class="sxs-lookup"><span data-stu-id="73e1f-341">It returns a nonzero value, unless it encounters the [**WM\_QUIT**](wm-quit.md) message, in which case it returns **FALSE** and ends the loop.</span></span> <span data-ttu-id="73e1f-342">In un'applicazione a thread singolo, la fine del ciclo di messaggi è spesso il primo passaggio per la chiusura dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-342">In a single-threaded application, ending the message loop is often the first step in closing the application.</span></span> <span data-ttu-id="73e1f-343">Un'applicazione può terminare il proprio ciclo usando la funzione [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage) , in genere in risposta al messaggio [**WM \_ Destroy**](wm-destroy.md) nella procedura della finestra principale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-343">An application can end its own loop by using the [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage) function, typically in response to the [**WM\_DESTROY**](wm-destroy.md) message in the window procedure of the application's main window.</span></span>

<span data-ttu-id="73e1f-344">Se si specifica un handle di finestra come secondo parametro di [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), verranno recuperati dalla coda solo i messaggi per la finestra specificata.</span><span class="sxs-lookup"><span data-stu-id="73e1f-344">If you specify a window handle as the second parameter of [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), only messages for the specified window are retrieved from the queue.</span></span> <span data-ttu-id="73e1f-345">**GetMessage** consente inoltre di filtrare i messaggi nella coda, recuperando solo i messaggi che rientrano in un intervallo specificato.</span><span class="sxs-lookup"><span data-stu-id="73e1f-345">**GetMessage** can also filter messages in the queue, retrieving only those messages that fall within a specified range.</span></span> <span data-ttu-id="73e1f-346">Per ulteriori informazioni sul filtro dei messaggi, vedere [filtro messaggi](#message-filtering).</span><span class="sxs-lookup"><span data-stu-id="73e1f-346">For more information about filtering messages, see [Message Filtering](#message-filtering).</span></span>

<span data-ttu-id="73e1f-347">Il ciclo di messaggi di un thread deve includere [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage) se il thread deve ricevere input di caratteri dalla tastiera.</span><span class="sxs-lookup"><span data-stu-id="73e1f-347">A thread's message loop must include [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage) if the thread is to receive character input from the keyboard.</span></span> <span data-ttu-id="73e1f-348">Il sistema genera messaggi di chiave virtuale ([**WM \_ KeyDown**](/windows/desktop/inputdev/wm-keydown) e [**WM \_ KEYUP**](/windows/desktop/inputdev/wm-keyup)) ogni volta che l'utente preme un tasto.</span><span class="sxs-lookup"><span data-stu-id="73e1f-348">The system generates virtual-key messages ([**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown) and [**WM\_KEYUP**](/windows/desktop/inputdev/wm-keyup)) each time the user presses a key.</span></span> <span data-ttu-id="73e1f-349">Un messaggio di chiave virtuale contiene un codice di chiave virtuale che identifica il tasto premuto, ma non il relativo valore del carattere.</span><span class="sxs-lookup"><span data-stu-id="73e1f-349">A virtual-key message contains a virtual-key code that identifies which key was pressed, but not its character value.</span></span> <span data-ttu-id="73e1f-350">Per recuperare questo valore, il ciclo di messaggi deve contenere **TranslateMessage**, che converte il messaggio della chiave virtuale in un messaggio di tipo carattere ([**WM \_ char**](/windows/desktop/inputdev/wm-char)) e lo inserisce nuovamente nella coda di messaggi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-350">To retrieve this value, the message loop must contain **TranslateMessage**, which translates the virtual-key message into a character message ([**WM\_CHAR**](/windows/desktop/inputdev/wm-char)) and places it back into the application message queue.</span></span> <span data-ttu-id="73e1f-351">Il messaggio di tipo carattere può quindi essere rimosso dopo un'iterazione successiva del ciclo di messaggi e inviato a una routine di finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-351">The character message can then be removed upon a subsequent iteration of the message loop and dispatched to a window procedure.</span></span>

<span data-ttu-id="73e1f-352">La funzione [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) Invia un messaggio alla routine della finestra associata all'handle della finestra specificato nella struttura [**msg**](/windows/win32/api/winuser/ns-winuser-msg) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-352">The [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) function sends a message to the window procedure associated with the window handle specified in the [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span> <span data-ttu-id="73e1f-353">Se l'handle della finestra è in primo piano **HWND \_**, **DispatchMessage** invia il messaggio alle routine della finestra di tutte le finestre di primo livello nel sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-353">If the window handle is **HWND\_TOPMOST**, **DispatchMessage** sends the message to the window procedures of all top-level windows in the system.</span></span> <span data-ttu-id="73e1f-354">Se l'handle della finestra è **null**, **DispatchMessage** non esegue alcuna operazione con il messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-354">If the window handle is **NULL**, **DispatchMessage** does nothing with the message.</span></span>

<span data-ttu-id="73e1f-355">Il thread principale di un'applicazione avvia il ciclo di messaggi dopo l'inizializzazione dell'applicazione e la creazione di almeno una finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-355">An application's main thread starts its message loop after initializing the application and creating at least one window.</span></span> <span data-ttu-id="73e1f-356">Una volta avviato, il ciclo di messaggi continua a recuperare i messaggi dalla coda di messaggi del thread e a inviarli alle finestre appropriate.</span><span class="sxs-lookup"><span data-stu-id="73e1f-356">After it is started, the message loop continues to retrieve messages from the thread's message queue and to dispatch them to the appropriate windows.</span></span> <span data-ttu-id="73e1f-357">Il ciclo di messaggi termina quando la funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) rimuove il messaggio [**WM \_ Quit**](wm-quit.md) dalla coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-357">The message loop ends when the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function removes the [**WM\_QUIT**](wm-quit.md) message from the message queue.</span></span>

<span data-ttu-id="73e1f-358">Per una coda di messaggi è necessario un solo ciclo di messaggi, anche se un'applicazione contiene molte finestre.</span><span class="sxs-lookup"><span data-stu-id="73e1f-358">Only one message loop is needed for a message queue, even if an application contains many windows.</span></span> <span data-ttu-id="73e1f-359">[**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) Invia sempre il messaggio alla finestra appropriata; Questo è dovuto al fatto che ogni messaggio nella coda [**è una struttura di messaggi contenente**](/windows/win32/api/winuser/ns-winuser-msg) l'handle della finestra a cui appartiene il messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-359">[**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) always dispatches the message to the proper window; this is because each message in the queue is an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure that contains the handle of the window to which the message belongs.</span></span>

<span data-ttu-id="73e1f-360">È possibile modificare un ciclo di messaggi in diversi modi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-360">You can modify a message loop in a variety of ways.</span></span> <span data-ttu-id="73e1f-361">Ad esempio, è possibile recuperare i messaggi dalla coda senza inviarli a una finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-361">For example, you can retrieve messages from the queue without dispatching them to a window.</span></span> <span data-ttu-id="73e1f-362">Questa operazione è utile per le applicazioni che inviano messaggi che non specificano una finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-362">This is useful for applications that post messages not specifying a window.</span></span> <span data-ttu-id="73e1f-363">È inoltre possibile indirizzare [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) per la ricerca di messaggi specifici, lasciando altri messaggi nella coda.</span><span class="sxs-lookup"><span data-stu-id="73e1f-363">You can also direct [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) to search for specific messages, leaving other messages in the queue.</span></span> <span data-ttu-id="73e1f-364">Questa operazione è utile se è necessario ignorare temporaneamente il consueto ordine FIFO della coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-364">This is useful if you must temporarily bypass the usual FIFO order of the message queue.</span></span>

<span data-ttu-id="73e1f-365">Un'applicazione che utilizza tasti di scelta rapida deve essere in grado di convertire i messaggi della tastiera in messaggi di comando.</span><span class="sxs-lookup"><span data-stu-id="73e1f-365">An application that uses accelerator keys must be able to translate keyboard messages into command messages.</span></span> <span data-ttu-id="73e1f-366">A tale scopo, il ciclo di messaggi dell'applicazione deve includere una chiamata alla funzione [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-366">To do this, the application's message loop must include a call to the [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) function.</span></span> <span data-ttu-id="73e1f-367">Per ulteriori informazioni sui tasti di scelta rapida [, vedere Tasti di scelta rapida.](/windows/desktop/menurc/keyboard-accelerators)</span><span class="sxs-lookup"><span data-stu-id="73e1f-367">For more information about accelerator keys, see [Keyboard Accelerators](/windows/desktop/menurc/keyboard-accelerators).</span></span>

<span data-ttu-id="73e1f-368">Se un thread utilizza una finestra di dialogo non modale, il ciclo di messaggi deve includere la funzione [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) in modo che la finestra di dialogo possa ricevere input da tastiera.</span><span class="sxs-lookup"><span data-stu-id="73e1f-368">If a thread uses a modeless dialog box, the message loop must include the [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) function so that the dialog box can receive keyboard input.</span></span>

### <a name="window-procedure"></a><span data-ttu-id="73e1f-369">Routine della finestra</span><span class="sxs-lookup"><span data-stu-id="73e1f-369">Window Procedure</span></span>

<span data-ttu-id="73e1f-370">Una routine della finestra è una funzione che riceve ed elabora tutti i messaggi inviati alla finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-370">A window procedure is a function that receives and processes all messages sent to the window.</span></span> <span data-ttu-id="73e1f-371">Ogni classe della finestra dispone di una routine della finestra e ogni finestra creata con tale classe utilizza la stessa routine della finestra per rispondere ai messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-371">Every window class has a window procedure, and every window created with that class uses that same window procedure to respond to messages.</span></span>

<span data-ttu-id="73e1f-372">Il sistema invia un messaggio a una routine della finestra passando i dati del messaggio come argomenti alla procedura.</span><span class="sxs-lookup"><span data-stu-id="73e1f-372">The system sends a message to a window procedure by passing the message data as arguments to the procedure.</span></span> <span data-ttu-id="73e1f-373">La routine della finestra esegue quindi un'azione appropriata per il messaggio. Controlla l'identificatore del messaggio e, durante l'elaborazione del messaggio, USA le informazioni specificate dai parametri del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-373">The window procedure then performs an appropriate action for the message; it checks the message identifier and, while processing the message, uses the information specified by the message parameters.</span></span>

<span data-ttu-id="73e1f-374">Una routine di finestra in genere non ignora un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-374">A window procedure does not usually ignore a message.</span></span> <span data-ttu-id="73e1f-375">Se non elabora un messaggio, deve inviare di nuovo il messaggio al sistema per l'elaborazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="73e1f-375">If it does not process a message, it must send the message back to the system for default processing.</span></span> <span data-ttu-id="73e1f-376">La procedura della finestra esegue questa operazione chiamando la funzione [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) , che esegue un'azione predefinita e restituisce un risultato del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-376">The window procedure does this by calling the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function, which performs a default action and returns a message result.</span></span> <span data-ttu-id="73e1f-377">La routine della finestra deve quindi restituire questo valore come risultato del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-377">The window procedure must then return this value as its own message result.</span></span> <span data-ttu-id="73e1f-378">La maggior parte delle routine della finestra elabora solo alcuni messaggi e passa gli altri al sistema chiamando **DefWindowProc**.</span><span class="sxs-lookup"><span data-stu-id="73e1f-378">Most window procedures process just a few messages and pass the others on to the system by calling **DefWindowProc**.</span></span>

<span data-ttu-id="73e1f-379">Poiché una routine di finestra è condivisa da tutte le finestre appartenenti alla stessa classe, può elaborare i messaggi per diverse finestre diverse.</span><span class="sxs-lookup"><span data-stu-id="73e1f-379">Because a window procedure is shared by all windows belonging to the same class, it can process messages for several different windows.</span></span> <span data-ttu-id="73e1f-380">Per identificare la finestra specifica interessata dal messaggio, una routine della finestra può esaminare l'handle di finestra passato con un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-380">To identify the specific window affected by the message, a window procedure can examine the window handle passed with a message.</span></span> <span data-ttu-id="73e1f-381">Per ulteriori informazioni sulle routine della finestra, vedere [routine della finestra](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="73e1f-381">For more information about window procedures, see [Window Procedures](window-procedures.md).</span></span>

## <a name="message-filtering"></a><span data-ttu-id="73e1f-382">Filtro messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-382">Message Filtering</span></span>

<span data-ttu-id="73e1f-383">Un'applicazione può scegliere messaggi specifici da recuperare dalla coda di messaggi (ignorando altri messaggi) utilizzando la funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) per specificare un filtro messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-383">An application can choose specific messages to retrieve from the message queue (while ignoring other messages) by using the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function to specify a message filter.</span></span> <span data-ttu-id="73e1f-384">Il filtro è un intervallo di identificatori di messaggi (specificati da un primo e l'ultimo identificatore), un handle di finestra o entrambi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-384">The filter is a range of message identifiers (specified by a first and last identifier), a window handle, or both.</span></span> <span data-ttu-id="73e1f-385">**GetMessage** e **PeekMessage** utilizzano un filtro messaggi per selezionare i messaggi da recuperare dalla coda.</span><span class="sxs-lookup"><span data-stu-id="73e1f-385">**GetMessage** and **PeekMessage** use a message filter to select which messages to retrieve from the queue.</span></span> <span data-ttu-id="73e1f-386">Il filtro dei messaggi è utile se un'applicazione deve eseguire la ricerca nella coda di messaggi per i messaggi ricevuti in un secondo momento nella coda.</span><span class="sxs-lookup"><span data-stu-id="73e1f-386">Message filtering is useful if an application must search the message queue for messages that have arrived later in the queue.</span></span> <span data-ttu-id="73e1f-387">È utile anche se un'applicazione deve elaborare messaggi di input (hardware) prima di elaborare i messaggi inviati.</span><span class="sxs-lookup"><span data-stu-id="73e1f-387">It is also useful if an application must process input (hardware) messages before processing posted messages.</span></span>

<span data-ttu-id="73e1f-388">Per recuperare tutti i messaggi della tastiera, è possibile usare le costanti WM per **\_ First** e WM per l' **\_ Ultima** volta con i valori di filtro. è possibile usare le costanti WM **\_ MOUSEFIRST** e **WM \_ MOUSELAST** per recuperare tutti i messaggi del mouse.</span><span class="sxs-lookup"><span data-stu-id="73e1f-388">The **WM\_KEYFIRST** and **WM\_KEYLAST** constants can be used as filter values to retrieve all keyboard messages; the **WM\_MOUSEFIRST** and **WM\_MOUSELAST** constants can be used to retrieve all mouse messages.</span></span>

<span data-ttu-id="73e1f-389">Qualsiasi applicazione che filtra i messaggi deve garantire che sia possibile inviare un messaggio che soddisfi il filtro messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-389">Any application that filters messages must ensure that a message satisfying the message filter can be posted.</span></span> <span data-ttu-id="73e1f-390">Se, ad esempio, un'applicazione filtra un messaggio [**WM \_ char**](/windows/desktop/inputdev/wm-char) in una finestra che non riceve input da tastiera, la funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) non restituisce.</span><span class="sxs-lookup"><span data-stu-id="73e1f-390">For example, if an application filters for a [**WM\_CHAR**](/windows/desktop/inputdev/wm-char) message in a window that does not receive keyboard input, the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function does not return.</span></span> <span data-ttu-id="73e1f-391">In questo modo si "blocca" l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-391">This effectively "hangs" the application.</span></span>

## <a name="posting-and-sending-messages"></a><span data-ttu-id="73e1f-392">Invio e invio di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-392">Posting and Sending Messages</span></span>

<span data-ttu-id="73e1f-393">Qualsiasi applicazione può inserire e inviare messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-393">Any application can post and send messages.</span></span> <span data-ttu-id="73e1f-394">Analogamente al sistema, un'applicazione pubblica un messaggio copiando il messaggio in una coda di messaggi e invia un messaggio passando i dati del messaggio come argomenti a una routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-394">Like the system, an application posts a message by copying it to a message queue and sends a message by passing the message data as arguments to a window procedure.</span></span> <span data-ttu-id="73e1f-395">Per inserire messaggi, un'applicazione utilizza la funzione [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-395">To post messages, an application uses the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) function.</span></span> <span data-ttu-id="73e1f-396">Un'applicazione può inviare un messaggio chiamando la funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)o [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-396">An application can send a message by calling the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea), or [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) function.</span></span>

### <a name="posting-messages"></a><span data-ttu-id="73e1f-397">Invio di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-397">Posting Messages</span></span>

<span data-ttu-id="73e1f-398">Un'applicazione in genere invia un messaggio per notificare a una finestra specifica di eseguire un'attività.</span><span class="sxs-lookup"><span data-stu-id="73e1f-398">An application typically posts a message to notify a specific window to perform a task.</span></span> <span data-ttu-id="73e1f-399">[**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) crea una struttura [**msg**](/windows/win32/api/winuser/ns-winuser-msg) per il messaggio e copia il messaggio nella coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-399">[**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) creates an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure for the message and copies the message to the message queue.</span></span> <span data-ttu-id="73e1f-400">Il ciclo di messaggi dell'applicazione consente infine di recuperare il messaggio e di inviarlo alla routine della finestra appropriata.</span><span class="sxs-lookup"><span data-stu-id="73e1f-400">The application's message loop eventually retrieves the message and dispatches it to the appropriate window procedure.</span></span>

<span data-ttu-id="73e1f-401">Un'applicazione può inviare un messaggio senza specificare una finestra.</span><span class="sxs-lookup"><span data-stu-id="73e1f-401">An application can post a message without specifying a window.</span></span> <span data-ttu-id="73e1f-402">Se l'applicazione fornisce un handle di finestra **null** quando si chiama [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea), il messaggio viene inserito nella coda associata al thread corrente.</span><span class="sxs-lookup"><span data-stu-id="73e1f-402">If the application supplies a **NULL** window handle when calling [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea), the message is posted to the queue associated with the current thread.</span></span> <span data-ttu-id="73e1f-403">Poiché non viene specificato alcun handle di finestra, l'applicazione deve elaborare il messaggio nel ciclo di messaggi.</span><span class="sxs-lookup"><span data-stu-id="73e1f-403">Because no window handle is specified, the application must process the message in the message loop.</span></span> <span data-ttu-id="73e1f-404">Questo è un modo per creare un messaggio che si applica all'intera applicazione, anziché a una finestra specifica.</span><span class="sxs-lookup"><span data-stu-id="73e1f-404">This is one way to create a message that applies to the entire application, instead of to a specific window.</span></span>

<span data-ttu-id="73e1f-405">Occasionalmente, potrebbe essere necessario inviare un messaggio a tutte le finestre di primo livello nel sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-405">Occasionally, you may want to post a message to all top-level windows in the system.</span></span> <span data-ttu-id="73e1f-406">Un'applicazione può inviare un messaggio a tutte le finestre di primo livello chiamando [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) e specificando HWND in primo piano nel parametro *HWND* . **\_**</span><span class="sxs-lookup"><span data-stu-id="73e1f-406">An application can post a message to all top-level windows by calling [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) and specifying **HWND\_TOPMOST** in the *hwnd* parameter.</span></span>

<span data-ttu-id="73e1f-407">Un errore di programmazione comune è quello di presupporre che la funzione [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) invii sempre un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-407">A common programming error is to assume that the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) function always posts a message.</span></span> <span data-ttu-id="73e1f-408">Questa operazione non si verifica quando la coda di messaggi è piena.</span><span class="sxs-lookup"><span data-stu-id="73e1f-408">This is not true when the message queue is full.</span></span> <span data-ttu-id="73e1f-409">Un'applicazione deve controllare il valore restituito della funzione **PostMessage** per determinare se il messaggio è stato inviato e, in caso contrario, reinviarlo.</span><span class="sxs-lookup"><span data-stu-id="73e1f-409">An application should check the return value of the **PostMessage** function to determine whether the message has been posted and, if it has not been, repost it.</span></span>

### <a name="sending-messages"></a><span data-ttu-id="73e1f-410">sending messages</span><span class="sxs-lookup"><span data-stu-id="73e1f-410">Sending Messages</span></span>

<span data-ttu-id="73e1f-411">Un'applicazione in genere invia un messaggio per notificare a una routine della finestra di eseguire immediatamente un'attività.</span><span class="sxs-lookup"><span data-stu-id="73e1f-411">An application typically sends a message to notify a window procedure to perform a task immediately.</span></span> <span data-ttu-id="73e1f-412">La funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) invia il messaggio alla routine della finestra corrispondente alla finestra specificata.</span><span class="sxs-lookup"><span data-stu-id="73e1f-412">The [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function sends the message to the window procedure corresponding to the given window.</span></span> <span data-ttu-id="73e1f-413">La funzione attende il completamento dell'elaborazione della routine della finestra e quindi restituisce il risultato del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-413">The function waits until the window procedure completes processing and then returns the message result.</span></span> <span data-ttu-id="73e1f-414">Le finestre padre e figlio comunicano spesso inviando messaggi tra loro.</span><span class="sxs-lookup"><span data-stu-id="73e1f-414">Parent and child windows often communicate by sending messages to each other.</span></span> <span data-ttu-id="73e1f-415">Ad esempio, una finestra padre con un controllo di modifica come la finestra figlio può impostare il testo del controllo inviando un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-415">For example, a parent window that has an edit control as its child window can set the text of the control by sending a message to it.</span></span> <span data-ttu-id="73e1f-416">Il controllo può notificare alla finestra padre le modifiche apportate al testo che vengono eseguite dall'utente inviando i messaggi all'elemento padre.</span><span class="sxs-lookup"><span data-stu-id="73e1f-416">The control can notify the parent window of changes to the text that are carried out by the user by sending messages back to the parent.</span></span>

<span data-ttu-id="73e1f-417">La funzione [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) invia anche un messaggio alla routine della finestra corrispondente alla finestra specificata.</span><span class="sxs-lookup"><span data-stu-id="73e1f-417">The [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) function also sends a message to the window procedure corresponding to the given window.</span></span> <span data-ttu-id="73e1f-418">Tuttavia, questa funzione restituisce immediatamente un risultato.</span><span class="sxs-lookup"><span data-stu-id="73e1f-418">However, this function returns immediately.</span></span> <span data-ttu-id="73e1f-419">Dopo che la routine della finestra ha elaborato il messaggio, il sistema chiama la funzione di callback specificata.</span><span class="sxs-lookup"><span data-stu-id="73e1f-419">After the window procedure processes the message, the system calls the specified callback function.</span></span> <span data-ttu-id="73e1f-420">Per ulteriori informazioni sulla funzione di callback, vedere la funzione [**SendAsyncProc**](/windows/win32/api/winuser/nc-winuser-sendasyncproc) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-420">For more information about the callback function, see the [**SendAsyncProc**](/windows/win32/api/winuser/nc-winuser-sendasyncproc) function.</span></span>

<span data-ttu-id="73e1f-421">Occasionalmente, potrebbe essere necessario inviare un messaggio a tutte le finestre di primo livello nel sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-421">Occasionally, you may want to send a message to all top-level windows in the system.</span></span> <span data-ttu-id="73e1f-422">Se, ad esempio, l'applicazione cambia l'ora di sistema, deve notificare tutte le finestre di primo livello sulla modifica inviando un messaggio [**WM \_ TIMECHANGE**](../sysinfo/wm-timechange.md) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-422">For example, if the application changes the system time, it must notify all top-level windows about the change by sending a [**WM\_TIMECHANGE**](../sysinfo/wm-timechange.md) message.</span></span> <span data-ttu-id="73e1f-423">Un'applicazione può inviare un messaggio a tutte le finestre di primo livello chiamando [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) e specificando HWND in primo piano nel parametro *HWND* . **\_**</span><span class="sxs-lookup"><span data-stu-id="73e1f-423">An application can send a message to all top-level windows by calling [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) and specifying **HWND\_TOPMOST** in the *hwnd* parameter.</span></span> <span data-ttu-id="73e1f-424">È anche possibile trasmettere un messaggio a tutte le applicazioni chiamando la funzione [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) e specificando le **\_ applicazioni BSM** nel parametro *lpdwRecipients* .</span><span class="sxs-lookup"><span data-stu-id="73e1f-424">You can also broadcast a message to all applications by calling the [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) function and specifying **BSM\_APPLICATIONS** in the *lpdwRecipients* parameter.</span></span>

<span data-ttu-id="73e1f-425">Utilizzando la funzione [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) o [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) , una routine della finestra può determinare se è in corso l'elaborazione di un messaggio inviato da un altro thread.</span><span class="sxs-lookup"><span data-stu-id="73e1f-425">By using the [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) or [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function, a window procedure can determine whether it is processing a message sent by another thread.</span></span> <span data-ttu-id="73e1f-426">Questa funzionalità è utile quando l'elaborazione dei messaggi dipende dall'origine del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-426">This capability is useful when message processing depends on the origin of the message.</span></span>

## <a name="message-deadlocks"></a><span data-ttu-id="73e1f-427">Deadlock del messaggio</span><span class="sxs-lookup"><span data-stu-id="73e1f-427">Message Deadlocks</span></span>

<span data-ttu-id="73e1f-428">Un thread che chiama la funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) per inviare un messaggio a un altro thread non può continuare l'esecuzione fino a quando non viene restituita la routine della finestra che riceve il messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-428">A thread that calls the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function to send a message to another thread cannot continue executing until the window procedure that receives the message returns.</span></span> <span data-ttu-id="73e1f-429">Se il thread ricevente restituisce il controllo durante l'elaborazione del messaggio, non è possibile continuare l'esecuzione del thread di invio perché è in attesa della restituzione di **SendMessage** .</span><span class="sxs-lookup"><span data-stu-id="73e1f-429">If the receiving thread yields control while processing the message, the sending thread cannot continue executing, because it is waiting for **SendMessage** to return.</span></span> <span data-ttu-id="73e1f-430">Se il thread ricevente è collegato alla stessa coda del mittente, può causare il verificarsi di un deadlock dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="73e1f-430">If the receiving thread is attached to the same queue as the sender, it can cause an application deadlock to occur.</span></span> <span data-ttu-id="73e1f-431">Si noti che gli hook del Journal alleghino i thread alla stessa coda.</span><span class="sxs-lookup"><span data-stu-id="73e1f-431">(Note that journal hooks attach threads to the same queue.)</span></span>

<span data-ttu-id="73e1f-432">Si noti che il thread di ricezione non deve restituire il controllo in modo esplicito; la chiamata a una qualsiasi delle funzioni seguenti può causare la produzione implicita del controllo da parte di un thread.</span><span class="sxs-lookup"><span data-stu-id="73e1f-432">Note that the receiving thread need not yield control explicitly; calling any of the following functions can cause a thread to yield control implicitly.</span></span>

-   [<span data-ttu-id="73e1f-433">**DialogBox**</span><span class="sxs-lookup"><span data-stu-id="73e1f-433">**DialogBox**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxa)
-   [<span data-ttu-id="73e1f-434">**DialogBoxIndirect**</span><span class="sxs-lookup"><span data-stu-id="73e1f-434">**DialogBoxIndirect**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxindirecta)
-   [<span data-ttu-id="73e1f-435">**DialogBoxIndirectParam**</span><span class="sxs-lookup"><span data-stu-id="73e1f-435">**DialogBoxIndirectParam**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxindirectparama)
-   [<span data-ttu-id="73e1f-436">**DialogBoxParam**</span><span class="sxs-lookup"><span data-stu-id="73e1f-436">**DialogBoxParam**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxparama)
-   [<span data-ttu-id="73e1f-437">**GetMessage**</span><span class="sxs-lookup"><span data-stu-id="73e1f-437">**GetMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-getmessage)
-   [<span data-ttu-id="73e1f-438">**MessageBox**</span><span class="sxs-lookup"><span data-stu-id="73e1f-438">**MessageBox**</span></span>](/windows/desktop/api/winuser/nf-winuser-messagebox)
-   [<span data-ttu-id="73e1f-439">**PeekMessage**</span><span class="sxs-lookup"><span data-stu-id="73e1f-439">**PeekMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-peekmessagea)
-   [<span data-ttu-id="73e1f-440">**SendMessage**</span><span class="sxs-lookup"><span data-stu-id="73e1f-440">**SendMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-sendmessage)

<span data-ttu-id="73e1f-441">Per evitare potenziali deadlock nell'applicazione, provare a usare le funzioni [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) o [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-441">To avoid potential deadlocks in your application, consider using the [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) or [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) functions.</span></span> <span data-ttu-id="73e1f-442">In caso contrario, una routine della finestra può determinare se un messaggio ricevuto è stato inviato da un altro thread chiamando la funzione [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) o [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-442">Otherwise, a window procedure can determine whether a message it has received was sent by another thread by calling the [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) or [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function.</span></span> <span data-ttu-id="73e1f-443">Prima di chiamare qualsiasi funzione nell'elenco precedente durante l'elaborazione di un messaggio, la routine della finestra deve prima chiamare **InSendMessage** o **InSendMessageEx**.</span><span class="sxs-lookup"><span data-stu-id="73e1f-443">Before calling any of the functions in the preceding list while processing a message, the window procedure should first call **InSendMessage** or **InSendMessageEx**.</span></span> <span data-ttu-id="73e1f-444">Se questa funzione restituisce **true**, è necessario che la routine della finestra chiami la funzione [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage) prima di qualsiasi funzione che causa la produzione del controllo da parte del thread.</span><span class="sxs-lookup"><span data-stu-id="73e1f-444">If this function returns **TRUE**, the window procedure must call the [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage) function before any function that causes the thread to yield control.</span></span>

## <a name="broadcasting-messages"></a><span data-ttu-id="73e1f-445">Trasmissione di messaggi</span><span class="sxs-lookup"><span data-stu-id="73e1f-445">Broadcasting Messages</span></span>

<span data-ttu-id="73e1f-446">Ogni messaggio è costituito da un identificatore di messaggio e da due parametri, *wParam* e *lParam*.</span><span class="sxs-lookup"><span data-stu-id="73e1f-446">Each message consists of a message identifier and two parameters, *wParam* and *lParam*.</span></span> <span data-ttu-id="73e1f-447">L'identificatore del messaggio è un valore univoco che specifica lo scopo del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-447">The message identifier is a unique value that specifies the message purpose.</span></span> <span data-ttu-id="73e1f-448">I parametri forniscono informazioni aggiuntive specifiche del messaggio, ma il parametro *wParam* è in genere un valore di tipo che fornisce ulteriori informazioni sul messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-448">The parameters provide additional information that is message-specific, but the *wParam* parameter is generally a type value that provides more information about the message.</span></span>

<span data-ttu-id="73e1f-449">La *trasmissione* di un messaggio è semplicemente l'invio di un messaggio a più destinatari nel sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-449">A *message broadcast* is simply the sending of a message to multiple recipients in the system.</span></span> <span data-ttu-id="73e1f-450">Per trasmettere un messaggio da un'applicazione, usare la funzione [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , specificando i destinatari del messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-450">To broadcast a message from an application, use the [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) function, specifying the recipients of the message.</span></span> <span data-ttu-id="73e1f-451">Anziché specificare singoli destinatari, è necessario specificare uno o più tipi di destinatari.</span><span class="sxs-lookup"><span data-stu-id="73e1f-451">Rather than specify individual recipients, you must specify one or more types of recipients.</span></span> <span data-ttu-id="73e1f-452">Questi tipi sono le applicazioni, i driver installabili, i driver di rete e i driver di dispositivo a livello di sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-452">These types are applications, installable drivers, network drivers, and system-level device drivers.</span></span> <span data-ttu-id="73e1f-453">Il sistema invia messaggi broadcast a tutti i membri di ogni tipo specificato.</span><span class="sxs-lookup"><span data-stu-id="73e1f-453">The system sends broadcast messages to all members of each specified type.</span></span>

<span data-ttu-id="73e1f-454">Il sistema trasmette in genere i messaggi in risposta alle modifiche che si verificano all'interno di driver di dispositivo a livello di sistema o componenti correlati.</span><span class="sxs-lookup"><span data-stu-id="73e1f-454">The system typically broadcasts messages in response to changes that take place within system-level device drivers or related components.</span></span> <span data-ttu-id="73e1f-455">Il driver o il componente correlato trasmette il messaggio ad applicazioni e altri componenti per notificare la modifica.</span><span class="sxs-lookup"><span data-stu-id="73e1f-455">The driver or related component broadcasts the message to applications and other components to notify them of the change.</span></span> <span data-ttu-id="73e1f-456">Ad esempio, il componente responsabile delle unità disco trasmette un messaggio ogni volta che il driver di dispositivo per l'unità disco floppy rileva una modifica di supporti, ad esempio quando l'utente inserisce un disco nell'unità.</span><span class="sxs-lookup"><span data-stu-id="73e1f-456">For example, the component responsible for disk drives broadcasts a message whenever the device driver for the floppy disk drive detects a change of media such as when the user inserts a disk in the drive.</span></span>

<span data-ttu-id="73e1f-457">Il sistema trasmette i messaggi ai destinatari nell'ordine seguente: i driver di dispositivo a livello di sistema, i driver di rete, i driver installabili e le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="73e1f-457">The system broadcasts messages to recipients in this order: system-level device drivers, network drivers, installable drivers, and applications.</span></span> <span data-ttu-id="73e1f-458">Ciò significa che i driver di dispositivo a livello di sistema, se scelti come destinatari, ottengono sempre la prima opportunità per rispondere a un messaggio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-458">This means that system-level device drivers, if chosen as recipients, always get the first opportunity to respond to a message.</span></span> <span data-ttu-id="73e1f-459">All'interno di un determinato tipo di destinatario, nessun driver deve ricevere un determinato messaggio prima di qualsiasi altro driver.</span><span class="sxs-lookup"><span data-stu-id="73e1f-459">Within a given recipient type, no driver is guaranteed to receive a given message before any other driver.</span></span> <span data-ttu-id="73e1f-460">Questo significa che un messaggio destinato a un driver specifico deve avere un identificatore di messaggio univoco globale, in modo che nessun altro driver lo elabori involontariamente.</span><span class="sxs-lookup"><span data-stu-id="73e1f-460">This means that a message intended for a specific driver must have a globally-unique message identifier so that no other driver unintentionally processes it.</span></span>

<span data-ttu-id="73e1f-461">È inoltre possibile trasmettere messaggi a tutte le finestre di primo livello specificando **HWND \_ broadcast** nella funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)o [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) .</span><span class="sxs-lookup"><span data-stu-id="73e1f-461">You can also broadcast messages to all top-level windows by specifying **HWND\_BROADCAST** in the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), or [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) function.</span></span>

<span data-ttu-id="73e1f-462">Le applicazioni ricevono messaggi tramite la procedura della finestra delle finestre di primo livello.</span><span class="sxs-lookup"><span data-stu-id="73e1f-462">Applications receive messages through the window procedure of their top-level windows.</span></span> <span data-ttu-id="73e1f-463">I messaggi non vengono inviati alle finestre figlio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-463">Messages are not sent to child windows.</span></span> <span data-ttu-id="73e1f-464">I servizi possono ricevere messaggi tramite una routine della finestra o i relativi gestori di controllo del servizio.</span><span class="sxs-lookup"><span data-stu-id="73e1f-464">Services can receive messages through a window procedure or their service control handlers.</span></span>

> [!Note]  
> <span data-ttu-id="73e1f-465">I driver di dispositivo a livello di sistema utilizzano una funzione correlata a livello di sistema per trasmettere i messaggi di sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-465">System-level device drivers use a related, system-level function to broadcast system messages.</span></span>

 

## <a name="query-messages"></a><span data-ttu-id="73e1f-466">Messaggi di query</span><span class="sxs-lookup"><span data-stu-id="73e1f-466">Query Messages</span></span>

<span data-ttu-id="73e1f-467">È possibile creare messaggi personalizzati e usarli per coordinare le attività tra le applicazioni e gli altri componenti nel sistema.</span><span class="sxs-lookup"><span data-stu-id="73e1f-467">You can create your own custom messages and use them to coordinate activities between your applications and other components in the system.</span></span> <span data-ttu-id="73e1f-468">Questa operazione è particolarmente utile se sono stati creati driver installabili o driver di dispositivo a livello di sistema personalizzati.</span><span class="sxs-lookup"><span data-stu-id="73e1f-468">This is especially useful if you have created your own installable drivers or system-level device drivers.</span></span> <span data-ttu-id="73e1f-469">I messaggi personalizzati possono contenere informazioni da e verso il driver e le applicazioni che utilizzano il driver.</span><span class="sxs-lookup"><span data-stu-id="73e1f-469">Your custom messages can carry information to and from your driver and the applications that use the driver.</span></span>

<span data-ttu-id="73e1f-470">Per eseguire il polling dei destinatari per l'autorizzazione a eseguire un'azione specifica, usare un *messaggio di query*.</span><span class="sxs-lookup"><span data-stu-id="73e1f-470">To poll recipients for permission to carry out a given action, use a *query message*.</span></span> <span data-ttu-id="73e1f-471">È possibile generare messaggi di query personalizzati impostando il valore di **\_ query BSF** nel parametro *DwFlags* quando si chiama [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage).</span><span class="sxs-lookup"><span data-stu-id="73e1f-471">You can generate your own query messages by setting the **BSF\_QUERY** value in the *dwFlags* parameter when calling [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage).</span></span> <span data-ttu-id="73e1f-472">Ogni destinatario del messaggio di query deve restituire **true** affinché la funzione invii il messaggio al destinatario successivo.</span><span class="sxs-lookup"><span data-stu-id="73e1f-472">Each recipient of the query message must return **TRUE** for the function to send the message to the next recipient.</span></span> <span data-ttu-id="73e1f-473">Se un destinatario restituisce **la \_ query broadcast \_ Deny**, la trasmissione termina immediatamente e la funzione restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="73e1f-473">If any recipient returns **BROADCAST\_QUERY\_DENY**, the broadcast ends immediately and the function returns a zero.</span></span>

 

 
