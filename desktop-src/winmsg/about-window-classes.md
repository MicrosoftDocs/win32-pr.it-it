---
description: Ogni classe della finestra dispone di una routine della finestra associata condivisa da tutte le finestre della stessa classe. La routine della finestra elabora i messaggi per tutte le finestre della classe e quindi ne controlla il comportamento e l'aspetto.
ms.assetid: db79fd4b-6a15-4bf9-a0d9-5f6415f6c75f
title: Informazioni sulle classi finestra
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b683176c3fd7904cf3f89b385ce0fa393b89e9f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104233327"
---
# <a name="about-window-classes"></a><span data-ttu-id="4912b-104">Informazioni sulle classi finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-104">About Window Classes</span></span>

<span data-ttu-id="4912b-105">Ogni classe della finestra dispone di una routine della finestra associata condivisa da tutte le finestre della stessa classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-105">Each window class has an associated window procedure shared by all windows of the same class.</span></span> <span data-ttu-id="4912b-106">La routine della finestra elabora i messaggi per tutte le finestre della classe e quindi ne controlla il comportamento e l'aspetto.</span><span class="sxs-lookup"><span data-stu-id="4912b-106">The window procedure processes messages for all windows of that class and therefore controls their behavior and appearance.</span></span> <span data-ttu-id="4912b-107">Per altre informazioni, vedere [Routine della finestra](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="4912b-107">For more information, see [Window Procedures](window-procedures.md).</span></span>

<span data-ttu-id="4912b-108">Un processo deve registrare una classe della finestra prima di poter creare una finestra di tale classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-108">A process must register a window class before it can create a window of that class.</span></span> <span data-ttu-id="4912b-109">La registrazione di una classe di finestra associa una routine della finestra, stili di classe e altri attributi di classe con un nome di classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-109">Registering a window class associates a window procedure, class styles, and other class attributes with a class name.</span></span> <span data-ttu-id="4912b-110">Quando un processo specifica un nome di classe nella funzione [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) , il sistema crea una finestra con la routine della finestra, gli stili e altri attributi associati al nome della classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-110">When a process specifies a class name in the [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function, the system creates a window with the window procedure, styles, and other attributes associated with that class name.</span></span>

<span data-ttu-id="4912b-111">In questa sezione vengono illustrati gli argomenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="4912b-111">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="4912b-112">Tipi di classi di finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-112">Types of Window Classes</span></span>](#types-of-window-classes)
    -   [<span data-ttu-id="4912b-113">Classi di sistema</span><span class="sxs-lookup"><span data-stu-id="4912b-113">System Classes</span></span>](#system-classes)
    -   [<span data-ttu-id="4912b-114">Classi globali dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4912b-114">Application Global Classes</span></span>](#application-global-classes)
    -   [<span data-ttu-id="4912b-115">Classi locali dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4912b-115">Application Local Classes</span></span>](#application-local-classes)
-   [<span data-ttu-id="4912b-116">Modalità di individuazione di una classe di finestra da parte del sistema</span><span class="sxs-lookup"><span data-stu-id="4912b-116">How the System Locates a Window Class</span></span>](#how-the-system-locates-a-window-class)
-   [<span data-ttu-id="4912b-117">Registrazione di una classe di finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-117">Registering a Window Class</span></span>](#registering-a-window-class)
-   [<span data-ttu-id="4912b-118">Elementi di una classe di finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-118">Elements of a Window Class</span></span>](#elements-of-a-window-class)
    -   [<span data-ttu-id="4912b-119">Nome della classe</span><span class="sxs-lookup"><span data-stu-id="4912b-119">Class Name</span></span>](#class-name)
    -   [<span data-ttu-id="4912b-120">Indirizzo della routine della finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-120">Window Procedure Address</span></span>](#window-procedure-address)
    -   [<span data-ttu-id="4912b-121">Handle istanza</span><span class="sxs-lookup"><span data-stu-id="4912b-121">Instance Handle</span></span>](#instance-handle)
    -   [<span data-ttu-id="4912b-122">Cursore classe</span><span class="sxs-lookup"><span data-stu-id="4912b-122">Class Cursor</span></span>](#class-cursor)
    -   [<span data-ttu-id="4912b-123">Icone della classe</span><span class="sxs-lookup"><span data-stu-id="4912b-123">Class Icons</span></span>](#class-icons)
    -   [<span data-ttu-id="4912b-124">Pennello di sfondo classe</span><span class="sxs-lookup"><span data-stu-id="4912b-124">Class Background Brush</span></span>](#class-background-brush)
    -   [<span data-ttu-id="4912b-125">Menu classe</span><span class="sxs-lookup"><span data-stu-id="4912b-125">Class Menu</span></span>](#class-menu)
    -   [<span data-ttu-id="4912b-126">Stili classe</span><span class="sxs-lookup"><span data-stu-id="4912b-126">Class Styles</span></span>](#class-styles)
    -   [<span data-ttu-id="4912b-127">Memoria di classe aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="4912b-127">Extra Class Memory</span></span>](#extra-class-memory)
    -   [<span data-ttu-id="4912b-128">Memoria finestra aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="4912b-128">Extra Window Memory</span></span>](#extra-window-memory)

## <a name="types-of-window-classes"></a><span data-ttu-id="4912b-129">Tipi di classi di finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-129">Types of Window Classes</span></span>

<span data-ttu-id="4912b-130">Sono disponibili tre tipi di classi finestra:</span><span class="sxs-lookup"><span data-stu-id="4912b-130">There are three types of window classes:</span></span>

-   [<span data-ttu-id="4912b-131">Classi di sistema</span><span class="sxs-lookup"><span data-stu-id="4912b-131">System Classes</span></span>](#system-classes)
-   [<span data-ttu-id="4912b-132">Classi globali dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4912b-132">Application Global Classes</span></span>](#application-global-classes)
-   [<span data-ttu-id="4912b-133">Classi locali dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4912b-133">Application Local Classes</span></span>](#application-local-classes)

<span data-ttu-id="4912b-134">Questi tipi sono diversi nell'ambito e in quando e come vengono registrati ed eliminati definitivamente.</span><span class="sxs-lookup"><span data-stu-id="4912b-134">These types differ in scope and in when and how they are registered and destroyed.</span></span>

### <a name="system-classes"></a><span data-ttu-id="4912b-135">Classi di sistema</span><span class="sxs-lookup"><span data-stu-id="4912b-135">System Classes</span></span>

<span data-ttu-id="4912b-136">Una classe di sistema è una classe di finestra registrata dal sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-136">A system class is a window class registered by the system.</span></span> <span data-ttu-id="4912b-137">Molte classi di sistema sono disponibili per l'utilizzo da parte di tutti i processi, mentre altre vengono utilizzate solo internamente dal sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-137">Many system classes are available for all processes to use, while others are used only internally by the system.</span></span> <span data-ttu-id="4912b-138">Poiché il sistema registra queste classi, un processo non può eliminarle.</span><span class="sxs-lookup"><span data-stu-id="4912b-138">Because the system registers these classes, a process cannot destroy them.</span></span>

<span data-ttu-id="4912b-139">Il sistema registra le classi di sistema per un processo la prima volta che uno dei thread chiama un utente o una funzione di Windows Graphics Device Interface (GDI).</span><span class="sxs-lookup"><span data-stu-id="4912b-139">The system registers the system classes for a process the first time one of its threads calls a User or a Windows Graphics Device Interface (GDI) function.</span></span>

<span data-ttu-id="4912b-140">Ogni applicazione riceve una propria copia delle classi di sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-140">Each application receives its own copy of the system classes.</span></span> <span data-ttu-id="4912b-141">Tutte le applicazioni basate su Windows a 16 bit nello stesso VDM condividono le classi di sistema, come avviene in Windows a 16 bit.</span><span class="sxs-lookup"><span data-stu-id="4912b-141">All 16-bit Windows-based applications in the same VDM share system classes, just as they do on 16-bit Windows.</span></span>

<span data-ttu-id="4912b-142">Nella tabella seguente vengono descritte le classi di sistema disponibili per l'utilizzo da parte di tutti i processi.</span><span class="sxs-lookup"><span data-stu-id="4912b-142">The following table describes the system classes that are available for use by all processes.</span></span>



| <span data-ttu-id="4912b-143">Classe</span><span class="sxs-lookup"><span data-stu-id="4912b-143">Class</span></span>     | <span data-ttu-id="4912b-144">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4912b-144">Description</span></span>                         |
|-----------|-------------------------------------|
| <span data-ttu-id="4912b-145">Pulsante</span><span class="sxs-lookup"><span data-stu-id="4912b-145">Button</span></span>    | <span data-ttu-id="4912b-146">Classe per un pulsante.</span><span class="sxs-lookup"><span data-stu-id="4912b-146">The class for a button.</span></span>             |
| <span data-ttu-id="4912b-147">ComboBox</span><span class="sxs-lookup"><span data-stu-id="4912b-147">ComboBox</span></span>  | <span data-ttu-id="4912b-148">Classe per una casella combinata.</span><span class="sxs-lookup"><span data-stu-id="4912b-148">The class for a combo box.</span></span>          |
| <span data-ttu-id="4912b-149">Modifica</span><span class="sxs-lookup"><span data-stu-id="4912b-149">Edit</span></span>      | <span data-ttu-id="4912b-150">Classe per un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="4912b-150">The class for an edit control.</span></span>      |
| <span data-ttu-id="4912b-151">ListBox</span><span class="sxs-lookup"><span data-stu-id="4912b-151">ListBox</span></span>   | <span data-ttu-id="4912b-152">Classe per una casella di riepilogo.</span><span class="sxs-lookup"><span data-stu-id="4912b-152">The class for a list box.</span></span>           |
| <span data-ttu-id="4912b-153">MDIClient</span><span class="sxs-lookup"><span data-stu-id="4912b-153">MDIClient</span></span> | <span data-ttu-id="4912b-154">Classe per una finestra client MDI.</span><span class="sxs-lookup"><span data-stu-id="4912b-154">The class for an MDI client window.</span></span> |
| <span data-ttu-id="4912b-155">ScrollBar</span><span class="sxs-lookup"><span data-stu-id="4912b-155">ScrollBar</span></span> | <span data-ttu-id="4912b-156">Classe per una barra di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="4912b-156">The class for a scroll bar.</span></span>         |
| <span data-ttu-id="4912b-157">Static</span><span class="sxs-lookup"><span data-stu-id="4912b-157">Static</span></span>    | <span data-ttu-id="4912b-158">Classe per un controllo statico.</span><span class="sxs-lookup"><span data-stu-id="4912b-158">The class for a static control.</span></span>     |



 

<span data-ttu-id="4912b-159">Nella tabella seguente vengono descritte le classi di sistema disponibili solo per l'utilizzo da parte del sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-159">The following table describes the system classes that are available only for use by the system.</span></span> <span data-ttu-id="4912b-160">Sono elencate qui per motivi di completezza.</span><span class="sxs-lookup"><span data-stu-id="4912b-160">They are listed here for completeness sake.</span></span>



| <span data-ttu-id="4912b-161">Classe</span><span class="sxs-lookup"><span data-stu-id="4912b-161">Class</span></span>      | <span data-ttu-id="4912b-162">Descrizione</span><span class="sxs-lookup"><span data-stu-id="4912b-162">Description</span></span>                                                            |
|------------|------------------------------------------------------------------------|
| <span data-ttu-id="4912b-163">ComboLBox</span><span class="sxs-lookup"><span data-stu-id="4912b-163">ComboLBox</span></span>  | <span data-ttu-id="4912b-164">Classe per la casella di riepilogo contenuta in una casella combinata.</span><span class="sxs-lookup"><span data-stu-id="4912b-164">The class for the list box contained in a combo box.</span></span>                   |
| <span data-ttu-id="4912b-165">DDEMLEvent</span><span class="sxs-lookup"><span data-stu-id="4912b-165">DDEMLEvent</span></span> | <span data-ttu-id="4912b-166">Classe per gli eventi della libreria di gestione Dynamic Data Exchange (DDEML).</span><span class="sxs-lookup"><span data-stu-id="4912b-166">The class for Dynamic Data Exchange Management Library (DDEML) events.</span></span> |
| <span data-ttu-id="4912b-167">Message</span><span class="sxs-lookup"><span data-stu-id="4912b-167">Message</span></span>    | <span data-ttu-id="4912b-168">Classe per una finestra di solo messaggio.</span><span class="sxs-lookup"><span data-stu-id="4912b-168">The class for a message-only window.</span></span>                                   |
| <span data-ttu-id="4912b-169">\#32768</span><span class="sxs-lookup"><span data-stu-id="4912b-169">\#32768</span></span>    | <span data-ttu-id="4912b-170">Classe per un menu.</span><span class="sxs-lookup"><span data-stu-id="4912b-170">The class for a menu.</span></span>                                                  |
| <span data-ttu-id="4912b-171">\#32769</span><span class="sxs-lookup"><span data-stu-id="4912b-171">\#32769</span></span>    | <span data-ttu-id="4912b-172">Classe per la finestra del desktop.</span><span class="sxs-lookup"><span data-stu-id="4912b-172">The class for the desktop window.</span></span>                                      |
| <span data-ttu-id="4912b-173">\#32770</span><span class="sxs-lookup"><span data-stu-id="4912b-173">\#32770</span></span>    | <span data-ttu-id="4912b-174">Classe per una finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="4912b-174">The class for a dialog box.</span></span>                                            |
| <span data-ttu-id="4912b-175">\#32771</span><span class="sxs-lookup"><span data-stu-id="4912b-175">\#32771</span></span>    | <span data-ttu-id="4912b-176">Classe per la finestra delle opzioni dell'attività.</span><span class="sxs-lookup"><span data-stu-id="4912b-176">The class for the task switch window.</span></span>                                  |
| <span data-ttu-id="4912b-177">\#32772</span><span class="sxs-lookup"><span data-stu-id="4912b-177">\#32772</span></span>    | <span data-ttu-id="4912b-178">Classe per i titoli delle icone.</span><span class="sxs-lookup"><span data-stu-id="4912b-178">The class for icon titles.</span></span>                                             |



 

### <a name="application-global-classes"></a><span data-ttu-id="4912b-179">Classi globali dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4912b-179">Application Global Classes</span></span>

<span data-ttu-id="4912b-180">Una [classe globale dell'applicazione](#application-global-classes) è una classe di finestre registrata da un eseguibile o una dll disponibile per tutti gli altri moduli nel processo.</span><span class="sxs-lookup"><span data-stu-id="4912b-180">An [application global class](#application-global-classes) is a window class registered by an executable or DLL that is available to all other modules in the process.</span></span> <span data-ttu-id="4912b-181">Ad esempio, il file con estensione dll può chiamare la funzione [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) per registrare una classe della finestra che definisce un controllo personalizzato come classe globale dell'applicazione in modo che un processo che carica il file con estensione dll possa creare istanze del controllo personalizzato.</span><span class="sxs-lookup"><span data-stu-id="4912b-181">For example, your .dll can call the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function to register a window class that defines a custom control as an application global class so that a process that loads the .dll can create instances of the custom control.</span></span>

<span data-ttu-id="4912b-182">Per creare una classe che può essere usata in ogni processo, creare la classe della finestra in un file con estensione dll e caricare il file con estensione dll in ogni processo.</span><span class="sxs-lookup"><span data-stu-id="4912b-182">To create a class that can be used in every process, create the window class in a .dll and load the .dll in every process.</span></span> <span data-ttu-id="4912b-183">Per caricare il file con estensione dll in ogni processo, aggiungere il relativo nome al valore **\_ DLL AppInit** nella seguente chiave del registro di sistema:</span><span class="sxs-lookup"><span data-stu-id="4912b-183">To load the .dll in every process, add its name to the **AppInit\_DLLs** value in following registry key:</span></span>

<span data-ttu-id="4912b-184">**HKEY \_ Software del \_ computer locale** \\  \\ **Microsoft** \\ **Windows NT** \\ **CurrentVersion** \\ **Windows**</span><span class="sxs-lookup"><span data-stu-id="4912b-184">**HKEY\_LOCAL\_MACHINE**\\**Software**\\**Microsoft**\\**Windows NT**\\**CurrentVersion**\\**Windows**</span></span>

<span data-ttu-id="4912b-185">Ogni volta che un processo viene avviato, il sistema carica il file con estensione dll specificato nel contesto del processo appena avviato prima di chiamare la funzione del punto di ingresso.</span><span class="sxs-lookup"><span data-stu-id="4912b-185">Whenever a process starts, the system loads the specified .dll in the context of the newly started process before calling its entry-point function.</span></span> <span data-ttu-id="4912b-186">Il file con estensione dll deve registrare la classe durante la procedura di inizializzazione e deve specificare lo stile **cs \_ GLOBALCLASS** .</span><span class="sxs-lookup"><span data-stu-id="4912b-186">The .dll must register the class during its initialization procedure and must specify the **CS\_GLOBALCLASS** style.</span></span> <span data-ttu-id="4912b-187">Per altre informazioni, vedere [stili di classe](#class-styles).</span><span class="sxs-lookup"><span data-stu-id="4912b-187">For more information, see [Class Styles](#class-styles).</span></span>

<span data-ttu-id="4912b-188">Per rimuovere una classe globale dell'applicazione e liberare lo spazio di archiviazione associato, usare la funzione [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-188">To remove an application global class and free the storage associated with it, use the [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) function.</span></span>

### <a name="application-local-classes"></a><span data-ttu-id="4912b-189">Classi locali dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="4912b-189">Application Local Classes</span></span>

<span data-ttu-id="4912b-190">Una [classe locale dell'applicazione](#application-local-classes) è qualsiasi classe di finestra registrata da un eseguibile o dll per l'uso esclusivo.</span><span class="sxs-lookup"><span data-stu-id="4912b-190">An [application local class](#application-local-classes) is any window class that an executable or .dll registers for its exclusive use.</span></span> <span data-ttu-id="4912b-191">Sebbene sia possibile registrare un numero qualsiasi di classi locali, è normale registrarne solo una.</span><span class="sxs-lookup"><span data-stu-id="4912b-191">Although you can register any number of local classes, it is typical to register only one.</span></span> <span data-ttu-id="4912b-192">Questa classe della finestra supporta la routine della finestra principale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4912b-192">This window class supports the window procedure of the application's main window.</span></span>

<span data-ttu-id="4912b-193">Il sistema distrugge una classe locale quando il modulo che lo ha registrato si chiude.</span><span class="sxs-lookup"><span data-stu-id="4912b-193">The system destroys a local class when the module that registered it closes.</span></span> <span data-ttu-id="4912b-194">Un'applicazione può anche usare la funzione [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) per rimuovere una classe locale e liberare lo spazio di archiviazione associato.</span><span class="sxs-lookup"><span data-stu-id="4912b-194">An application can also use the [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) function to remove a local class and free the storage associated with it.</span></span>

## <a name="how-the-system-locates-a-window-class"></a><span data-ttu-id="4912b-195">Modalità di individuazione di una classe di finestra da parte del sistema</span><span class="sxs-lookup"><span data-stu-id="4912b-195">How the System Locates a Window Class</span></span>

<span data-ttu-id="4912b-196">Il sistema gestisce un elenco di strutture per ognuno dei tre tipi di classi di finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-196">The system maintains a list of structures for each of the three types of window classes.</span></span> <span data-ttu-id="4912b-197">Quando un'applicazione chiama la funzione [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) per creare una finestra con una classe specificata, il sistema utilizza la procedura seguente per individuare la classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-197">When an application calls the [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/win32/api/winuser/nf-winuser-createwindowexa) function to create a window with a specified class, the system uses the following procedure to locate the class.</span></span>

1.  <span data-ttu-id="4912b-198">Eseguire una ricerca nell'elenco di classi locali dell'applicazione per una classe con il nome specificato il cui handle di istanza corrisponde all'handle dell'istanza del modulo.</span><span class="sxs-lookup"><span data-stu-id="4912b-198">Search the list of application local classes for a class with the specified name whose instance handle matches the module's instance handle.</span></span> <span data-ttu-id="4912b-199">(Diversi moduli possono usare lo stesso nome per registrare le classi locali nello stesso processo).</span><span class="sxs-lookup"><span data-stu-id="4912b-199">(Several modules can use the same name to register local classes in the same process.)</span></span>
2.  <span data-ttu-id="4912b-200">Se il nome non è presente nell'elenco classe locale dell'applicazione, cercare nell'elenco delle classi globali dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4912b-200">If the name is not in the application local class list, search the list of application global classes.</span></span>
3.  <span data-ttu-id="4912b-201">Se il nome non è presente nell'elenco classe globale dell'applicazione, cercare nell'elenco delle classi di sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-201">If the name is not in the application global class list, search the list of system classes.</span></span>

<span data-ttu-id="4912b-202">Tutte le finestre create dall'applicazione utilizzano questa procedura, incluse le finestre create dal sistema per conto dell'applicazione, ad esempio le finestre di dialogo.</span><span class="sxs-lookup"><span data-stu-id="4912b-202">All windows created by the application use this procedure, including windows created by the system on the application's behalf, such as dialog boxes.</span></span> <span data-ttu-id="4912b-203">È possibile eseguire l'override delle classi di sistema senza influire sulle altre applicazioni.</span><span class="sxs-lookup"><span data-stu-id="4912b-203">It is possible to override system classes without affecting other applications.</span></span> <span data-ttu-id="4912b-204">Ovvero, un'applicazione può registrare una classe locale dell'applicazione con lo stesso nome di una classe di sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-204">That is, an application can register an application local class having the same name as a system class.</span></span> <span data-ttu-id="4912b-205">In questo modo, la classe di sistema viene sostituita nel contesto dell'applicazione, ma non viene impedita l'utilizzo della classe di sistema da parte di altre applicazioni.</span><span class="sxs-lookup"><span data-stu-id="4912b-205">This replaces the system class in the context of the application but does not prevent other applications from using the system class.</span></span>

## <a name="registering-a-window-class"></a><span data-ttu-id="4912b-206">Registrazione di una classe di finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-206">Registering a Window Class</span></span>

<span data-ttu-id="4912b-207">Una classe di finestra definisce gli attributi di una finestra, ad esempio lo stile, l'icona, il cursore, il menu e la routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-207">A window class defines the attributes of a window, such as its style, icon, cursor, menu, and window procedure.</span></span> <span data-ttu-id="4912b-208">Il primo passaggio per la registrazione di una classe di finestra consiste nel compilare una struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) con le informazioni sulla classe della finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-208">The first step in registering a window class is to fill in a [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure with the window class information.</span></span> <span data-ttu-id="4912b-209">Per ulteriori informazioni, vedere [elementi di una classe di finestra](#elements-of-a-window-class).</span><span class="sxs-lookup"><span data-stu-id="4912b-209">For more information, see [Elements of a Window Class](#elements-of-a-window-class).</span></span> <span data-ttu-id="4912b-210">Passare quindi la struttura alla funzione [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-210">Next, pass the structure to the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function.</span></span> <span data-ttu-id="4912b-211">Per ulteriori informazioni, vedere [utilizzo di classi di finestra](using-window-classes.md).</span><span class="sxs-lookup"><span data-stu-id="4912b-211">For more information, see [Using Window Classes](using-window-classes.md).</span></span>

<span data-ttu-id="4912b-212">Per registrare una classe globale dell'applicazione, specificare lo \_ stile cs GLOBALCLASS nel membro **Style** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-212">To register an application global class, specify the CS\_GLOBALCLASS style in the **style** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="4912b-213">Quando si registra una classe locale dell'applicazione, non specificare lo stile **cs \_ GLOBALCLASS** .</span><span class="sxs-lookup"><span data-stu-id="4912b-213">When registering an application local class, do not specify the **CS\_GLOBALCLASS** style.</span></span>

<span data-ttu-id="4912b-214">Se si registra la classe della finestra usando la versione ANSI di [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa), **RegisterClassExA**, l'applicazione richiede che il sistema passi i parametri di testo dei messaggi alle finestre della classe creata usando il set di caratteri ANSI; Se si registra la classe utilizzando la versione Unicode di **RegisterClassEx**, **RegisterClassExW**, l'applicazione richiede che il sistema passi i parametri di testo dei messaggi alle finestre della classe creata utilizzando il set di caratteri Unicode.</span><span class="sxs-lookup"><span data-stu-id="4912b-214">If you register the window class using the ANSI version of [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa), **RegisterClassExA**, the application requests that the system pass text parameters of messages to the windows of the created class using the ANSI character set; if you register the class using the Unicode version of **RegisterClassEx**, **RegisterClassExW**, the application requests that the system pass text parameters of messages to the windows of the created class using the Unicode character set.</span></span> <span data-ttu-id="4912b-215">La funzione [**IsWindowUnicode**](/windows/win32/api/winuser/nf-winuser-iswindowunicode) consente alle applicazioni di eseguire query sulla natura di ogni finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-215">The [**IsWindowUnicode**](/windows/win32/api/winuser/nf-winuser-iswindowunicode) function enables applications to query the nature of each window.</span></span> <span data-ttu-id="4912b-216">Per altre informazioni sulle funzioni ANSI e Unicode, vedere [convenzioni per i prototipi di funzione](/windows/desktop/Intl/conventions-for-function-prototypes).</span><span class="sxs-lookup"><span data-stu-id="4912b-216">For more information on ANSI and Unicode functions, see [Conventions for Function Prototypes](/windows/desktop/Intl/conventions-for-function-prototypes).</span></span>

<span data-ttu-id="4912b-217">Il file eseguibile o la DLL che ha registrato la classe è il proprietario della classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-217">The executable or DLL that registered the class is the owner of the class.</span></span> <span data-ttu-id="4912b-218">Il sistema determina la proprietà della classe dal membro **HINSTANCE** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) passata alla funzione [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) quando la classe è registrata.</span><span class="sxs-lookup"><span data-stu-id="4912b-218">The system determines class ownership from the **hInstance** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure passed to the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function when the class is registered.</span></span> <span data-ttu-id="4912b-219">Per le dll, il membro **HINSTANCE** deve essere l'handle per l'istanza. dll.</span><span class="sxs-lookup"><span data-stu-id="4912b-219">For DLLs, the **hInstance** member must be the handle to the .dll instance.</span></span>

<span data-ttu-id="4912b-220">La classe non viene distrutta quando viene scaricato il file con estensione dll proprietario.</span><span class="sxs-lookup"><span data-stu-id="4912b-220">The class is not destroyed when the .dll that owns it is unloaded.</span></span> <span data-ttu-id="4912b-221">Se pertanto il sistema chiama la routine della finestra per una finestra di tale classe, si verificherà una violazione di accesso, perché la DLL contenente la routine della finestra non è più in memoria.</span><span class="sxs-lookup"><span data-stu-id="4912b-221">Therefore, if the system calls the window procedure for a window of that class, it will cause an access violation, because the .dll containing the window procedure is no longer in memory.</span></span> <span data-ttu-id="4912b-222">Il processo deve eliminare tutte le finestre usando la classe prima che il file con estensione dll venga scaricato e chiami la funzione [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-222">The process must destroy all windows using the class before the .dll is unloaded and call the [**UnregisterClass**](/windows/win32/api/winuser/nf-winuser-unregisterclassa) function.</span></span>

## <a name="elements-of-a-window-class"></a><span data-ttu-id="4912b-223">Elementi di una classe di finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-223">Elements of a Window Class</span></span>

<span data-ttu-id="4912b-224">Gli elementi di una classe della finestra definiscono il comportamento predefinito di Windows appartenente alla classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-224">The elements of a window class define the default behavior of windows belonging to the class.</span></span> <span data-ttu-id="4912b-225">L'applicazione che registra una classe della finestra Assegna elementi alla classe impostando membri appropriati in una struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) e passando la struttura alla funzione [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-225">The application that registers a window class assigns elements to the class by setting appropriate members in a [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure and passing the structure to the [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function.</span></span> <span data-ttu-id="4912b-226">Le funzioni [**GetClassInfoEx**](/windows/win32/api/winuser/nf-winuser-getclassinfoexa) e [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) recuperano informazioni su una determinata classe di finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-226">The [**GetClassInfoEx**](/windows/win32/api/winuser/nf-winuser-getclassinfoexa) and [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) functions retrieve information about a given window class.</span></span> <span data-ttu-id="4912b-227">La funzione [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) modifica gli elementi di una classe locale o globale che l'applicazione ha già registrato.</span><span class="sxs-lookup"><span data-stu-id="4912b-227">The [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) function changes elements of a local or global class that the application has already registered.</span></span>

<span data-ttu-id="4912b-228">Sebbene una classe di finestra completa sia costituita da molti elementi, il sistema richiede solo che un'applicazione fornisca un nome di classe, l'indirizzo della routine della finestra e un handle di istanza.</span><span class="sxs-lookup"><span data-stu-id="4912b-228">Although a complete window class consists of many elements, the system requires only that an application supply a class name, the window-procedure address, and an instance handle.</span></span> <span data-ttu-id="4912b-229">Usare gli altri elementi per definire gli attributi predefiniti per Windows della classe, ad esempio la forma del cursore e il contenuto del menu per la finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-229">Use the other elements to define default attributes for windows of the class, such as the shape of the cursor and the content of the menu for the window.</span></span> <span data-ttu-id="4912b-230">È necessario inizializzare tutti i membri non usati della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) su zero o **null**.</span><span class="sxs-lookup"><span data-stu-id="4912b-230">You must initialize any unused members of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to zero or **NULL**.</span></span> <span data-ttu-id="4912b-231">Gli elementi della classe della finestra sono indicati nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="4912b-231">The window class elements are as shown in the following table.</span></span>



| <span data-ttu-id="4912b-232">Elemento</span><span class="sxs-lookup"><span data-stu-id="4912b-232">Element</span></span>                                               | <span data-ttu-id="4912b-233">Scopo</span><span class="sxs-lookup"><span data-stu-id="4912b-233">Purpose</span></span>                                                                                                                                                                                                                                       |
|-------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="4912b-234">Nome della classe</span><span class="sxs-lookup"><span data-stu-id="4912b-234">Class Name</span></span>](#class-name)                             | <span data-ttu-id="4912b-235">Distingue la classe dalle altre classi registrate.</span><span class="sxs-lookup"><span data-stu-id="4912b-235">Distinguishes the class from other registered classes.</span></span>                                                                                                                                                                                        |
| [<span data-ttu-id="4912b-236">Indirizzo della routine della finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-236">Window Procedure Address</span></span>](#window-procedure-address) | <span data-ttu-id="4912b-237">Puntatore alla funzione che elabora tutti i messaggi inviati a Windows nella classe e definisce il comportamento della finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-237">Pointer to the function that processes all messages sent to windows in the class and defines the behavior of the window.</span></span>                                                                                                                      |
| [<span data-ttu-id="4912b-238">Handle istanza</span><span class="sxs-lookup"><span data-stu-id="4912b-238">Instance Handle</span></span>](#instance-handle)                   | <span data-ttu-id="4912b-239">Identifica l'applicazione o la dll che ha registrato la classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-239">Identifies the application or .dll that registered the class.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="4912b-240">Cursore classe</span><span class="sxs-lookup"><span data-stu-id="4912b-240">Class Cursor</span></span>](#class-cursor)                         | <span data-ttu-id="4912b-241">Definisce il cursore del mouse visualizzato dal sistema per una finestra della classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-241">Defines the mouse cursor that the system displays for a window of the class.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="4912b-242">Icone della classe</span><span class="sxs-lookup"><span data-stu-id="4912b-242">Class Icons</span></span>](#class-icons)                           | <span data-ttu-id="4912b-243">Definisce l'icona grande e l'icona piccola.</span><span class="sxs-lookup"><span data-stu-id="4912b-243">Defines the large icon and the small icon.</span></span>                                                                                                                                                                                                    |
| [<span data-ttu-id="4912b-244">Pennello di sfondo classe</span><span class="sxs-lookup"><span data-stu-id="4912b-244">Class Background Brush</span></span>](#class-background-brush)     | <span data-ttu-id="4912b-245">Definisce il colore e il modello che riempiono l'area client quando la finestra viene aperta o disegnata.</span><span class="sxs-lookup"><span data-stu-id="4912b-245">Defines the color and pattern that fill the client area when the window is opened or painted.</span></span>                                                                                                                                                 |
| [<span data-ttu-id="4912b-246">Menu classe</span><span class="sxs-lookup"><span data-stu-id="4912b-246">Class Menu</span></span>](#class-menu)                             | <span data-ttu-id="4912b-247">Specifica il menu predefinito per Windows che non definiscono in modo esplicito un menu.</span><span class="sxs-lookup"><span data-stu-id="4912b-247">Specifies the default menu for windows that do not explicitly define a menu.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="4912b-248">Stili classe</span><span class="sxs-lookup"><span data-stu-id="4912b-248">Class Styles</span></span>](#class-styles)                         | <span data-ttu-id="4912b-249">Definisce la modalità di aggiornamento della finestra dopo lo spostamento o il ridimensionamento, come elaborare i doppio clic del mouse, come allocare spazio per il contesto di dispositivo e altri aspetti della finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-249">Defines how to update the window after moving or resizing it, how to process double-clicks of the mouse, how to allocate space for the device context, and other aspects of the window.</span></span>                                                       |
| [<span data-ttu-id="4912b-250">Memoria di classe aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="4912b-250">Extra Class Memory</span></span>](#extra-class-memory)             | <span data-ttu-id="4912b-251">Specifica la quantità di memoria aggiuntiva, in byte, che il sistema deve riservare per la classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-251">Specifies the amount of extra memory, in bytes, that the system should reserve for the class.</span></span> <span data-ttu-id="4912b-252">Tutte le finestre della classe condividono la memoria aggiuntiva e possono usarla per qualsiasi scopo definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4912b-252">All windows in the class share the extra memory and can use it for any application-defined purpose.</span></span> <span data-ttu-id="4912b-253">Il sistema Inizializza la memoria su zero.</span><span class="sxs-lookup"><span data-stu-id="4912b-253">The system initializes this memory to zero.</span></span> |
| [<span data-ttu-id="4912b-254">Memoria finestra aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="4912b-254">Extra Window Memory</span></span>](#extra-window-memory)           | <span data-ttu-id="4912b-255">Specifica la quantità di memoria aggiuntiva, in byte, che il sistema deve riservare per ogni finestra appartenente alla classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-255">Specifies the amount of extra memory, in bytes, that the system should reserve for each window belonging to the class.</span></span> <span data-ttu-id="4912b-256">La memoria aggiuntiva può essere usata per qualsiasi scopo definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4912b-256">The extra memory can be used for any application-defined purpose.</span></span> <span data-ttu-id="4912b-257">Il sistema Inizializza la memoria su zero.</span><span class="sxs-lookup"><span data-stu-id="4912b-257">The system initializes this memory to zero.</span></span>          |



 

### <a name="class-name"></a><span data-ttu-id="4912b-258">Nome della classe</span><span class="sxs-lookup"><span data-stu-id="4912b-258">Class Name</span></span>

<span data-ttu-id="4912b-259">Ogni classe della finestra necessita di un [nome di classe](#class-name) per distinguere una classe da un'altra.</span><span class="sxs-lookup"><span data-stu-id="4912b-259">Every window class needs a [Class Name](#class-name) to distinguish one class from another.</span></span> <span data-ttu-id="4912b-260">Assegnare un nome di classe impostando il membro **lpszClassName** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) all'indirizzo di una stringa con terminazione null che specifica il nome.</span><span class="sxs-lookup"><span data-stu-id="4912b-260">Assign a class name by setting the **lpszClassName** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to the address of a null-terminated string that specifies the name.</span></span> <span data-ttu-id="4912b-261">Poiché le classi finestra sono specifiche del processo, i nomi delle classi di finestra devono essere univoci solo all'interno dello stesso processo.</span><span class="sxs-lookup"><span data-stu-id="4912b-261">Because window classes are process specific, window class names need to be unique only within the same process.</span></span> <span data-ttu-id="4912b-262">Inoltre, poiché i nomi delle classi occupano spazio nella tabella Atom privata del sistema, è consigliabile tenere le stringhe del nome di classe il più breve possibile.</span><span class="sxs-lookup"><span data-stu-id="4912b-262">Also, because class names occupy space in the system's private atom table, you should keep class name strings as short a possible.</span></span>

<span data-ttu-id="4912b-263">La funzione [**GetClassName**](/windows/win32/api/winuser/nf-winuser-getclassname) Recupera il nome della classe a cui appartiene una determinata finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-263">The [**GetClassName**](/windows/win32/api/winuser/nf-winuser-getclassname) function retrieves the name of the class to which a given window belongs.</span></span>

### <a name="window-procedure-address"></a><span data-ttu-id="4912b-264">Indirizzo della routine della finestra</span><span class="sxs-lookup"><span data-stu-id="4912b-264">Window Procedure Address</span></span>

<span data-ttu-id="4912b-265">Ogni classe necessita di un indirizzo della routine della finestra per definire il punto di ingresso della routine della finestra usata per elaborare tutti i messaggi per Windows nella classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-265">Every class needs a window-procedure address to define the entry point of the window procedure used to process all messages for windows in the class.</span></span> <span data-ttu-id="4912b-266">Il sistema passa i messaggi alla procedura quando è necessario che la finestra effettui le attività, ad esempio disegnare l'area client o rispondere all'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="4912b-266">The system passes messages to the procedure when it requires the window to carry out tasks, such as painting its client area or responding to input from the user.</span></span> <span data-ttu-id="4912b-267">Un processo assegna una routine della finestra a una classe copiando il relativo indirizzo nel membro **lpfnWndProc** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-267">A process assigns a window procedure to a class by copying its address to the **lpfnWndProc** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="4912b-268">Per altre informazioni, vedere [Routine della finestra](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="4912b-268">For more information, see [Window Procedures](window-procedures.md).</span></span>

### <a name="instance-handle"></a><span data-ttu-id="4912b-269">Handle istanza</span><span class="sxs-lookup"><span data-stu-id="4912b-269">Instance Handle</span></span>

<span data-ttu-id="4912b-270">Ogni classe della finestra richiede un handle di istanza per identificare l'applicazione o la dll che ha registrato la classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-270">Every window class requires an instance handle to identify the application or .dll that registered the class.</span></span> <span data-ttu-id="4912b-271">Il sistema richiede gli handle di istanza per tenere traccia di tutti i moduli.</span><span class="sxs-lookup"><span data-stu-id="4912b-271">The system requires instance handles to keep track of all of modules.</span></span> <span data-ttu-id="4912b-272">Il sistema assegna un handle a ogni copia di un eseguibile o di un file con estensione dll in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="4912b-272">The system assigns a handle to each copy of a running executable or .dll.</span></span>

<span data-ttu-id="4912b-273">Il sistema passa un handle di istanza alla funzione del punto di ingresso di ogni eseguibile (vedere [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain)) e dll (vedere [**DllMain**](/windows/desktop/Dlls/dllmain)).</span><span class="sxs-lookup"><span data-stu-id="4912b-273">The system passes an instance handle to the entry-point function of each executable (see [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain)) and .dll (see [**DllMain**](/windows/desktop/Dlls/dllmain)).</span></span> <span data-ttu-id="4912b-274">Il file eseguibile o dll assegna questo handle di istanza alla classe copiando il file nel membro **HINSTANCE** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-274">The executable or .dll assigns this instance handle to the class by copying it to the **hInstance** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span>

### <a name="class-cursor"></a><span data-ttu-id="4912b-275">Cursore classe</span><span class="sxs-lookup"><span data-stu-id="4912b-275">Class Cursor</span></span>

<span data-ttu-id="4912b-276">Il *cursore della classe* definisce la forma del cursore quando si trova nell'area client di una finestra della classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-276">The *class cursor* defines the shape of the cursor when it is in the client area of a window in the class.</span></span> <span data-ttu-id="4912b-277">Il sistema imposta automaticamente il cursore sulla forma specificata quando il cursore entra nell'area client della finestra e garantisce che mantenga tale forma mentre rimane nell'area client.</span><span class="sxs-lookup"><span data-stu-id="4912b-277">The system automatically sets the cursor to the given shape when the cursor enters the window's client area and ensures it keeps that shape while it remains in the client area.</span></span> <span data-ttu-id="4912b-278">Per assegnare una forma di cursore a una classe della finestra, caricare una forma predefinita del cursore utilizzando la funzione [**LoadCursor**](/windows/desktop/api/winuser/nf-winuser-loadcursora) e quindi assegnare l'handle del cursore restituito al membro **HCursor** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-278">To assign a cursor shape to a window class, load a predefined cursor shape by using the [**LoadCursor**](/windows/desktop/api/winuser/nf-winuser-loadcursora) function and then assign the returned cursor handle to the **hCursor** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="4912b-279">In alternativa, specificare una risorsa di cursore personalizzata e usare la funzione **LoadCursor** per caricarla dalle risorse dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4912b-279">Alternatively, provide a custom cursor resource and use the **LoadCursor** function to load it from the application's resources.</span></span>

<span data-ttu-id="4912b-280">Il sistema non richiede un cursore della classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-280">The system does not require a class cursor.</span></span> <span data-ttu-id="4912b-281">Se un'applicazione imposta il membro **hCursor** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) su **null**, non viene definito alcun cursore di classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-281">If an application sets the **hCursor** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to **NULL**, no class cursor is defined.</span></span> <span data-ttu-id="4912b-282">Il sistema presuppone che la finestra Imposta la forma del cursore ogni volta che il cursore si sposta nella finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-282">The system assumes the window sets the cursor shape each time the cursor moves into the window.</span></span> <span data-ttu-id="4912b-283">Una finestra può impostare la forma del cursore chiamando la funzione [**secursor**](/windows/desktop/api/winuser/nf-winuser-setcursor) ogni volta che la finestra riceve il messaggio di [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) .</span><span class="sxs-lookup"><span data-stu-id="4912b-283">A window can set the cursor shape by calling the [**SetCursor**](/windows/desktop/api/winuser/nf-winuser-setcursor) function whenever the window receives the [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) message.</span></span> <span data-ttu-id="4912b-284">Per ulteriori informazioni sui cursori, vedere [cursori](/windows/desktop/menurc/cursors).</span><span class="sxs-lookup"><span data-stu-id="4912b-284">For more information about cursors, see [Cursors](/windows/desktop/menurc/cursors).</span></span>

### <a name="class-icons"></a><span data-ttu-id="4912b-285">Icone della classe</span><span class="sxs-lookup"><span data-stu-id="4912b-285">Class Icons</span></span>

<span data-ttu-id="4912b-286">Un' *icona di classe* è un'immagine utilizzata dal sistema per rappresentare una finestra di una classe specifica.</span><span class="sxs-lookup"><span data-stu-id="4912b-286">A *class icon* is a picture that the system uses to represent a window of a particular class.</span></span> <span data-ttu-id="4912b-287">Un'applicazione può avere due icone di classe, una grande e una piccola.</span><span class="sxs-lookup"><span data-stu-id="4912b-287">An application can have two class icons—one large and one small.</span></span> <span data-ttu-id="4912b-288">Il sistema Visualizza l'icona di una *classe di grandi dimensioni* della finestra nella finestra delle opzioni di attività visualizzata quando l'utente preme ALT + TAB e nelle visualizzazioni icone grandi della barra delle applicazioni e in Esplora.</span><span class="sxs-lookup"><span data-stu-id="4912b-288">The system displays a window's *large class icon* in the task-switch window that appears when the user presses ALT+TAB, and in the large icon views of the task bar and explorer.</span></span> <span data-ttu-id="4912b-289">L' *icona di classe piccola* viene visualizzata nella barra del titolo di una finestra e nelle visualizzazioni icone piccole della barra delle applicazioni e in Esplora.</span><span class="sxs-lookup"><span data-stu-id="4912b-289">The *small class icon* appears in a window's title bar and in the small icon views of the task bar and explorer.</span></span>

<span data-ttu-id="4912b-290">Per assegnare un'icona di grandi dimensioni e piccole a una classe della finestra, specificare gli handle delle icone nei membri **HICON** e **HIconSm** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-290">To assign a large and small icon to a window class, specify the handles of the icons in the **hIcon** and **hIconSm** members of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="4912b-291">Le dimensioni dell'icona devono essere conformi alle dimensioni obbligatorie per le icone di classe grande e piccola.</span><span class="sxs-lookup"><span data-stu-id="4912b-291">The icon dimensions must conform to required dimensions for large and small class icons.</span></span> <span data-ttu-id="4912b-292">Per un'icona di classe di grandi dimensioni, è possibile determinare le dimensioni richieste specificando i valori di **SM \_ CXICON** e **SM \_ CYICON** in una chiamata alla funzione [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .</span><span class="sxs-lookup"><span data-stu-id="4912b-292">For a large class icon, you can determine the required dimensions by specifying the **SM\_CXICON** and **SM\_CYICON** values in a call to the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span> <span data-ttu-id="4912b-293">Per un'icona di classe piccola specificare i valori di **SM \_ CXSMICON** e **SM \_ CYSMICON** .</span><span class="sxs-lookup"><span data-stu-id="4912b-293">For a small class icon, specify the **SM\_CXSMICON** and **SM\_CYSMICON** values.</span></span> <span data-ttu-id="4912b-294">Per informazioni, vedere [Icone](/windows/desktop/menurc/icons).</span><span class="sxs-lookup"><span data-stu-id="4912b-294">For information, see [Icons](/windows/desktop/menurc/icons).</span></span>

<span data-ttu-id="4912b-295">Se un'applicazione imposta i membri **HICON** e **HIconSm** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) su **null**, il sistema usa l'icona dell'applicazione predefinita come icone di classe large e Small per la classe Window.</span><span class="sxs-lookup"><span data-stu-id="4912b-295">If an application sets the **hIcon** and **hIconSm** members of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to **NULL**, the system uses the default application icon as the large and small class icons for the window class.</span></span> <span data-ttu-id="4912b-296">Se si specifica un'icona di classe di grandi dimensioni ma non una piccola, il sistema crea un'icona di classe di piccole dimensioni basata su quella grande.</span><span class="sxs-lookup"><span data-stu-id="4912b-296">If you specify a large class icon but not a small one, the system creates a small class icon based on the large one.</span></span> <span data-ttu-id="4912b-297">Tuttavia, se si specifica un'icona di una classe di piccole dimensioni ma non una grande, il sistema usa l'icona dell'applicazione predefinita come icona della classe di grandi dimensioni e l'icona specificata come icona della classe di piccole dimensioni.</span><span class="sxs-lookup"><span data-stu-id="4912b-297">However, if you specify a small class icon but not a large one, the system uses the default application icon as the large class icon and the specified icon as the small class icon.</span></span>

<span data-ttu-id="4912b-298">È possibile eseguire l'override dell'icona di una classe di grandi dimensioni o di piccole dimensioni per una particolare finestra usando il messaggio [**WM \_ seicon**](wm-seticon.md) .</span><span class="sxs-lookup"><span data-stu-id="4912b-298">You can override the large or small class icon for a particular window by using the [**WM\_SETICON**](wm-seticon.md) message.</span></span> <span data-ttu-id="4912b-299">È possibile recuperare l'icona della classe di grandi dimensioni o di piccole dimensioni corrente usando il messaggio [**WM \_ GetIcon**](wm-geticon.md) .</span><span class="sxs-lookup"><span data-stu-id="4912b-299">You can retrieve the current large or small class icon by using the [**WM\_GETICON**](wm-geticon.md) message.</span></span>

### <a name="class-background-brush"></a><span data-ttu-id="4912b-300">Pennello di sfondo classe</span><span class="sxs-lookup"><span data-stu-id="4912b-300">Class Background Brush</span></span>

<span data-ttu-id="4912b-301">Un *pennello* per lo sfondo di una classe prepara l'area client di una finestra per il disegno successivo da parte dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4912b-301">A *class background brush* prepares the client area of a window for subsequent drawing by the application.</span></span> <span data-ttu-id="4912b-302">Il sistema usa il pennello per riempire l'area client con un colore o un modello a tinta unita, rimuovendo in tal modo tutte le immagini precedenti da tale posizione, indipendentemente dal fatto che appartengano o meno alla finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-302">The system uses the brush to fill the client area with a solid color or pattern, thereby removing all previous images from that location whether they belong to the window or not.</span></span> <span data-ttu-id="4912b-303">Il sistema notifica a una finestra che lo sfondo deve essere disegnato inviando il messaggio [**WM \_ ERASEBKGND**](wm-erasebkgnd.md) alla finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-303">The system notifies a window that its background should be painted by sending the [**WM\_ERASEBKGND**](wm-erasebkgnd.md) message to the window.</span></span> <span data-ttu-id="4912b-304">Per altre informazioni, vedere [pennelli](/windows/desktop/gdi/brushes).</span><span class="sxs-lookup"><span data-stu-id="4912b-304">For more information, see [Brushes](/windows/desktop/gdi/brushes).</span></span>

<span data-ttu-id="4912b-305">Per assegnare un pennello in background a una classe, creare un pennello utilizzando le funzioni GDI appropriate e assegnare l'handle del pennello restituito al membro **hbrBackground** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-305">To assign a background brush to a class, create a brush by using the appropriate GDI functions and assign the returned brush handle to the **hbrBackground** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span>

<span data-ttu-id="4912b-306">Anziché creare un pennello, un'applicazione può impostare il membro **hbrBackground** su uno dei valori di colore di sistema standard.</span><span class="sxs-lookup"><span data-stu-id="4912b-306">Instead of creating a brush, an application can set the **hbrBackground** member to one of the standard system color values.</span></span> <span data-ttu-id="4912b-307">Per un elenco dei valori di colore di sistema standard, vedere [**SetSysColors**](/windows/desktop/api/winuser/nf-winuser-setsyscolors).</span><span class="sxs-lookup"><span data-stu-id="4912b-307">For a list of the standard system color values, see [**SetSysColors**](/windows/desktop/api/winuser/nf-winuser-setsyscolors).</span></span>

<span data-ttu-id="4912b-308">Per utilizzare un colore di sistema standard, è necessario che l'applicazione aumenti il valore di colore di sfondo di uno.</span><span class="sxs-lookup"><span data-stu-id="4912b-308">To use a standard system color, the application must increase the background-color value by one.</span></span> <span data-ttu-id="4912b-309">Ad esempio, **lo \_ sfondo del colore** + 1 è il colore di sfondo del sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-309">For example, **COLOR\_BACKGROUND** + 1 is the system background color.</span></span> <span data-ttu-id="4912b-310">In alternativa, è possibile usare la funzione [**GetSysColorBrush**](/windows/desktop/api/winuser/nf-winuser-getsyscolorbrush) per recuperare un handle a un pennello che corrisponde a un colore di sistema standard e quindi specificare l'handle nel membro **HbrBackground** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-310">Alternatively, you can use the [**GetSysColorBrush**](/windows/desktop/api/winuser/nf-winuser-getsyscolorbrush) function to retrieve a handle to a brush that corresponds to a standard system color, and then specify the handle in the **hbrBackground** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span>

<span data-ttu-id="4912b-311">Il sistema non richiede che una classe di finestra disponga di un pennello per lo sfondo della classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-311">The system does not require that a window class have a class background brush.</span></span> <span data-ttu-id="4912b-312">Se questo parametro è impostato su **null**, la finestra deve disegnare il proprio sfondo ogni volta che viene ricevuto il messaggio [**WM \_ ERASEBKGND**](wm-erasebkgnd.md) .</span><span class="sxs-lookup"><span data-stu-id="4912b-312">If this parameter is set to **NULL**, the window must paint its own background whenever it receives the [**WM\_ERASEBKGND**](wm-erasebkgnd.md) message.</span></span>

### <a name="class-menu"></a><span data-ttu-id="4912b-313">Menu classe</span><span class="sxs-lookup"><span data-stu-id="4912b-313">Class Menu</span></span>

<span data-ttu-id="4912b-314">Un *menu classe* definisce il menu predefinito che verrà utilizzato dalle finestre della classe se non viene specificato alcun menu esplicito al momento della creazione delle finestre.</span><span class="sxs-lookup"><span data-stu-id="4912b-314">A *class menu* defines the default menu to be used by the windows in the class if no explicit menu is given when the windows are created.</span></span> <span data-ttu-id="4912b-315">Un menu è un elenco di comandi da cui un utente può scegliere le azioni da eseguire per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4912b-315">A menu is a list of commands from which a user can choose actions for the application to carry out.</span></span>

<span data-ttu-id="4912b-316">È possibile assegnare un menu a una classe impostando il membro **lpszMenuName** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) sull'indirizzo di una stringa con terminazione null che specifica il nome della risorsa del menu.</span><span class="sxs-lookup"><span data-stu-id="4912b-316">You can assign a menu to a class by setting the **lpszMenuName** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to the address of a null-terminated string that specifies the resource name of the menu.</span></span> <span data-ttu-id="4912b-317">Si presuppone che il menu sia una risorsa nell'applicazione specificata.</span><span class="sxs-lookup"><span data-stu-id="4912b-317">The menu is assumed to be a resource in the given application.</span></span> <span data-ttu-id="4912b-318">Il sistema carica automaticamente il menu quando è necessario.</span><span class="sxs-lookup"><span data-stu-id="4912b-318">The system automatically loads the menu when it is needed.</span></span> <span data-ttu-id="4912b-319">Se la risorsa di menu è identificata da un numero intero e non da un nome, l'applicazione può impostare il membro **lpszMenuName** su tale integer applicando la macro [**MAKEINTRESOURCE**](/windows/desktop/api/winuser/nf-winuser-makeintresourcea) prima di assegnare il valore.</span><span class="sxs-lookup"><span data-stu-id="4912b-319">If the menu resource is identified by an integer and not by a name, the application can set the **lpszMenuName** member to that integer by applying the [**MAKEINTRESOURCE**](/windows/desktop/api/winuser/nf-winuser-makeintresourcea) macro before assigning the value.</span></span>

<span data-ttu-id="4912b-320">Il sistema non richiede un menu di classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-320">The system does not require a class menu.</span></span> <span data-ttu-id="4912b-321">Se un'applicazione imposta il membro **lpszMenuName** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) su **null**, per Windows nella classe non sono presenti barre dei menu.</span><span class="sxs-lookup"><span data-stu-id="4912b-321">If an application sets the **lpszMenuName** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to **NULL**, windows in the class have no menu bars.</span></span> <span data-ttu-id="4912b-322">Anche se non viene specificato alcun menu di classe, un'applicazione può comunque definire una barra dei menu per una finestra quando crea la finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-322">Even if no class menu is given, an application can still define a menu bar for a window when it creates the window.</span></span>

<span data-ttu-id="4912b-323">Se viene specificato un menu per una classe e viene creata una finestra figlio di tale classe, il menu viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="4912b-323">If a menu is given for a class and a child window of that class is created, the menu is ignored.</span></span> <span data-ttu-id="4912b-324">Per ulteriori informazioni, vedere [menu](/windows/desktop/menurc/menus).</span><span class="sxs-lookup"><span data-stu-id="4912b-324">For more information, see [Menus](/windows/desktop/menurc/menus).</span></span>

### <a name="class-styles"></a><span data-ttu-id="4912b-325">Stili classe</span><span class="sxs-lookup"><span data-stu-id="4912b-325">Class Styles</span></span>

<span data-ttu-id="4912b-326">Gli stili della classe definiscono elementi aggiuntivi della classe Window.</span><span class="sxs-lookup"><span data-stu-id="4912b-326">The class styles define additional elements of the window class.</span></span> <span data-ttu-id="4912b-327">È possibile combinare due o più stili utilizzando l'operatore OR bit per bit ( \| ).</span><span class="sxs-lookup"><span data-stu-id="4912b-327">Two or more styles can be combined by using the bitwise OR (\|) operator.</span></span> <span data-ttu-id="4912b-328">Per assegnare uno stile a una classe della finestra, assegnare lo stile al membro dello **stile** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) .</span><span class="sxs-lookup"><span data-stu-id="4912b-328">To assign a style to a window class, assign the style to the **style** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure.</span></span> <span data-ttu-id="4912b-329">Per un elenco degli stili delle classi, vedere [**stili della classe Window**](window-class-styles.md).</span><span class="sxs-lookup"><span data-stu-id="4912b-329">For a list of class styles, see [**Window Class Styles**](window-class-styles.md).</span></span>

### <a name="classes-and-device-contexts"></a><span data-ttu-id="4912b-330">Classi e contesti di dispositivo</span><span class="sxs-lookup"><span data-stu-id="4912b-330">Classes and Device Contexts</span></span>

<span data-ttu-id="4912b-331">Un *contesto di dispositivo* è un set speciale di valori usati dalle applicazioni per il disegno nell'area client delle rispettive finestre.</span><span class="sxs-lookup"><span data-stu-id="4912b-331">A *device context* is a special set of values that applications use for drawing in the client area of their windows.</span></span> <span data-ttu-id="4912b-332">Il sistema richiede un contesto di dispositivo per ogni finestra sullo schermo, ma consente una certa flessibilità nel modo in cui il sistema archivia e considera il contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4912b-332">The system requires a device context for each window on the display but allows some flexibility in how the system stores and treats that device context.</span></span>

<span data-ttu-id="4912b-333">Se non viene specificato in modo esplicito alcuno stile del contesto di dispositivo, il sistema presuppone che ogni finestra usi un contesto di dispositivo recuperato da un pool di contesti gestiti dal sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-333">If no device-context style is explicitly given, the system assumes each window uses a device context retrieved from a pool of contexts maintained by the system.</span></span> <span data-ttu-id="4912b-334">In questi casi, ogni finestra deve recuperare e inizializzare il contesto di dispositivo prima del disegno e liberarlo dopo il disegno.</span><span class="sxs-lookup"><span data-stu-id="4912b-334">In such cases, each window must retrieve and initialize the device context before painting and free it after painting.</span></span>

<span data-ttu-id="4912b-335">Per evitare di recuperare un contesto di dispositivo ogni volta che è necessario disegnare all'interno di una finestra, un'applicazione può specificare lo stile **cs \_ OWNDC** per la classe Window.</span><span class="sxs-lookup"><span data-stu-id="4912b-335">To avoid retrieving a device context each time it needs to paint inside a window, an application can specify the **CS\_OWNDC** style for the window class.</span></span> <span data-ttu-id="4912b-336">Questo stile di classe indica al sistema di creare un contesto di dispositivo privato, ovvero di allocare un contesto di dispositivo univoco per ogni finestra della classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-336">This class style directs the system to create a private device context—that is, to allocate a unique device context for each window in the class.</span></span> <span data-ttu-id="4912b-337">L'applicazione deve recuperare il contesto una sola volta e quindi usarlo per tutti i disegni successivi.</span><span class="sxs-lookup"><span data-stu-id="4912b-337">The application need only retrieve the context once and then use it for all subsequent painting.</span></span>

### <a name="extra-class-memory"></a><span data-ttu-id="4912b-338">Memoria di classe aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="4912b-338">Extra Class Memory</span></span>

<span data-ttu-id="4912b-339">Il sistema mantiene internamente una struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) per ogni classe di finestra nel sistema.</span><span class="sxs-lookup"><span data-stu-id="4912b-339">The system maintains a [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure internally for each window class in the system.</span></span> <span data-ttu-id="4912b-340">Quando un'applicazione registra una classe della finestra, può indicare al sistema di allocare e aggiungere un numero di byte aggiuntivi di memoria alla fine della struttura **WNDCLASSEX** .</span><span class="sxs-lookup"><span data-stu-id="4912b-340">When an application registers a window class, it can direct the system to allocate and append a number of additional bytes of memory to the end of the **WNDCLASSEX** structure.</span></span> <span data-ttu-id="4912b-341">Questa memoria è detta *memoria aggiuntiva della classe* ed è condivisa da tutte le finestre appartenenti alla classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-341">This memory is called *extra class memory* and is shared by all windows belonging to the class.</span></span> <span data-ttu-id="4912b-342">Usare la memoria della classe aggiuntiva per archiviare le informazioni relative alla classe.</span><span class="sxs-lookup"><span data-stu-id="4912b-342">Use the extra class memory to store any information pertaining to the class.</span></span>

<span data-ttu-id="4912b-343">Poiché la memoria aggiuntiva viene allocata dall'heap locale del sistema, un'applicazione deve usare la memoria di classe aggiuntiva in modo sporadico.</span><span class="sxs-lookup"><span data-stu-id="4912b-343">Because extra memory is allocated from the system's local heap, an application should use extra class memory sparingly.</span></span> <span data-ttu-id="4912b-344">La funzione [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) ha esito negativo se la quantità di memoria della classe aggiuntiva richiesta è superiore a 40 byte.</span><span class="sxs-lookup"><span data-stu-id="4912b-344">The [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function fails if the amount of extra class memory requested is greater than 40 bytes.</span></span> <span data-ttu-id="4912b-345">Se un'applicazione richiede più di 40 byte, deve allocare la propria memoria e archiviare un puntatore alla memoria nella memoria della classe aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="4912b-345">If an application requires more than 40 bytes, it should allocate its own memory and store a pointer to the memory in the extra class memory.</span></span>

<span data-ttu-id="4912b-346">Le funzioni [**SetClassWord**](/windows/win32/api/winuser/nf-winuser-setclassword) e [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) copiano un valore nella memoria della classe aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="4912b-346">The [**SetClassWord**](/windows/win32/api/winuser/nf-winuser-setclassword) and [**SetClassLong**](/windows/win32/api/winuser/nf-winuser-setclasslonga) functions copy a value to the extra class memory.</span></span> <span data-ttu-id="4912b-347">Per recuperare un valore dalla memoria della classe aggiuntiva, usare le funzioni [**GetClassWord**](/windows/win32/api/winuser/nf-winuser-getclassword) e [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) .</span><span class="sxs-lookup"><span data-stu-id="4912b-347">To retrieve a value from the extra class memory, use the [**GetClassWord**](/windows/win32/api/winuser/nf-winuser-getclassword) and [**GetClassLong**](/windows/win32/api/winuser/nf-winuser-getclasslonga) functions.</span></span> <span data-ttu-id="4912b-348">Il membro **cbClsExtra** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) specifica la quantità di memoria di classe aggiuntiva da allocare.</span><span class="sxs-lookup"><span data-stu-id="4912b-348">The **cbClsExtra** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure specifies the amount of extra class memory to allocate.</span></span> <span data-ttu-id="4912b-349">Un'applicazione che non utilizza memoria della classe aggiuntiva deve inizializzare il membro **cbClsExtra** su zero.</span><span class="sxs-lookup"><span data-stu-id="4912b-349">An application that does not use extra class memory must initialize the **cbClsExtra** member to zero.</span></span>

### <a name="extra-window-memory"></a><span data-ttu-id="4912b-350">Memoria finestra aggiuntiva</span><span class="sxs-lookup"><span data-stu-id="4912b-350">Extra Window Memory</span></span>

<span data-ttu-id="4912b-351">Il sistema mantiene una struttura di dati interna per ogni finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-351">The system maintains an internal data structure for each window.</span></span> <span data-ttu-id="4912b-352">Quando si registra una classe della finestra, un'applicazione può specificare un numero di byte aggiuntivi di memoria, denominato *memoria finestra aggiuntiva*.</span><span class="sxs-lookup"><span data-stu-id="4912b-352">When registering a window class, an application can specify a number of additional bytes of memory, called *extra window memory*.</span></span> <span data-ttu-id="4912b-353">Quando si crea una finestra della classe, il sistema alloca e aggiunge la quantità specificata di memoria della finestra aggiuntiva alla fine della struttura della finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-353">When creating a window of the class, the system allocates and appends the specified amount of extra window memory to the end of the window's structure.</span></span> <span data-ttu-id="4912b-354">Un'applicazione può usare questa memoria per archiviare i dati specifici della finestra.</span><span class="sxs-lookup"><span data-stu-id="4912b-354">An application can use this memory to store window-specific data.</span></span>

<span data-ttu-id="4912b-355">Poiché la memoria aggiuntiva viene allocata dall'heap locale del sistema, un'applicazione deve usare la memoria della finestra aggiuntiva in modo sporadico.</span><span class="sxs-lookup"><span data-stu-id="4912b-355">Because extra memory is allocated from the system's local heap, an application should use extra window memory sparingly.</span></span> <span data-ttu-id="4912b-356">La funzione [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) ha esito negativo se la quantità di memoria della finestra aggiuntiva richiesta è maggiore di 40 byte.</span><span class="sxs-lookup"><span data-stu-id="4912b-356">The [**RegisterClassEx**](/windows/win32/api/winuser/nf-winuser-registerclassexa) function fails if the amount of extra window memory requested is greater than 40 bytes.</span></span> <span data-ttu-id="4912b-357">Se un'applicazione richiede più di 40 byte, deve allocare la propria memoria e archiviare un puntatore alla memoria nella memoria della finestra aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="4912b-357">If an application requires more than 40 bytes, it should allocate its own memory and store a pointer to the memory in the extra window memory.</span></span>

<span data-ttu-id="4912b-358">La funzione [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) copia un valore nella memoria aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="4912b-358">The [**SetWindowLong**](/windows/win32/api/winuser/nf-winuser-setwindowlonga) function copies a value to the extra memory.</span></span> <span data-ttu-id="4912b-359">La funzione [**GetWindowLong**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) recupera un valore dalla memoria aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="4912b-359">The [**GetWindowLong**](/windows/win32/api/winuser/nf-winuser-getwindowlonga) function retrieves a value from the extra memory.</span></span> <span data-ttu-id="4912b-360">Il membro **cbWndExtra** della struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) specifica la quantità di memoria della finestra aggiuntiva da allocare.</span><span class="sxs-lookup"><span data-stu-id="4912b-360">The **cbWndExtra** member of the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure specifies the amount of extra window memory to allocate.</span></span> <span data-ttu-id="4912b-361">Un'applicazione che non utilizza la memoria deve inizializzare **cbWndExtra** su zero.</span><span class="sxs-lookup"><span data-stu-id="4912b-361">An application that does not use the memory must initialize **cbWndExtra** to zero.</span></span>

 

 
