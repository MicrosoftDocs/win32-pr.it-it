---
description: Questa sezione descrive i messaggi e le code di messaggi e come usarli nelle applicazioni.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\messagesandmessagequeues.htm
title: Messaggi e code di messaggi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d0233af932d1aa9a4130e244af002d6180fdf055
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106312500"
---
# <a name="messages-and-message-queues"></a>Messaggi e code di messaggi

Questa sezione descrive i messaggi e le code di messaggi e come usarli nelle applicazioni.

### <a name="in-this-section"></a>Contenuto della sezione



| Nome                                                                       | Descrizione                                                                                                                                |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| [Informazioni sui messaggi e sulle code di messaggi](about-messages-and-message-queues.md) | Questa sezione illustra i messaggi e le code di messaggi di Windows.<br/>                                                                     |
| [Utilizzo di messaggi e code di messaggi](using-messages-and-message-queues.md) | Negli esempi di codice seguenti viene illustrato come eseguire le attività seguenti associate a messaggi e code di messaggi di Windows.<br/> |
| [Riferimento al messaggio](message-and-message-queue-reference.md)               | Contiene il riferimento all'API.<br/>                                                                                                     |



 

### <a name="system-provided-messages"></a>Messaggi di System-Provided

Per gli elenchi dei messaggi forniti dal sistema, vedere [messaggi definiti](about-messages-and-message-queues.md)dal sistema.

### <a name="message-functions"></a>Funzioni di messaggio



| Nome                                                         | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage)     | Invia un messaggio ai destinatari specificati. I destinatari possono essere applicazioni, driver installabili, driver di rete, driver di dispositivo a livello di sistema o qualsiasi combinazione di questi componenti di sistema. <br/> Per ricevere informazioni aggiuntive se la richiesta è definita, usare la funzione [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) .<br/>                                                                                                                                                                                                                                  |
| [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) | Invia un messaggio ai destinatari specificati. I destinatari possono essere applicazioni, driver installabili, driver di rete, driver di dispositivo a livello di sistema o qualsiasi combinazione di questi componenti di sistema. <br/> Questa funzione è simile a [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , con la differenza che questa funzione può restituire più informazioni dai destinatari.<br/>                                                                                                                                                                                                              |
| [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage)                   | Invia un messaggio a una routine della finestra. Viene in genere usato per inviare un messaggio recuperato dalla funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**GetInputState**](/windows/win32/api/winuser/nf-winuser-getinputstate)                       | Determina se nella coda di messaggi del thread chiamante sono presenti messaggi di pulsante del mouse o di tastiera. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage)                             | Recupera un messaggio dalla coda di messaggi del thread chiamante. La funzione Invia messaggi inviati in arrivo fino a quando un messaggio inviato non è disponibile per il recupero. <br/> Diversamente da [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), la funzione [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) non attende la pubblicazione di un messaggio prima della restituzione.<br/>                                                                                                                                                                                                                                                              |
| [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo)           | Recupera le informazioni aggiuntive sul messaggio per il thread corrente. Informazioni aggiuntive sul messaggio sono un valore definito dall'applicazione o dal driver associato alla coda di messaggi del thread corrente. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos)                       | Recupera la posizione del cursore per l'ultimo messaggio recuperato dalla funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . <br/> Per determinare la posizione corrente del cursore, utilizzare la funzione [**GetCursorPos**](/windows/desktop/api/winuser/nf-winuser-getcursorpos) .<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime)                     | Recupera l'ora del messaggio per l'ultimo messaggio recuperato dalla funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . L'ora è un valore long integer che specifica il tempo trascorso, in millisecondi, dal momento in cui è stato avviato il sistema fino al momento in cui è stato creato il messaggio, ovvero inserito nella coda di messaggi del thread. <br/>                                                                                                                                                                                                                                                                         |
| [**GetQueueStatus**](/windows/win32/api/winuser/nf-winuser-getqueuestatus)                     | Indica il tipo di messaggi trovati nella coda di messaggi del thread chiamante.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage)                       | Determina se la routine della finestra corrente sta elaborando un messaggio inviato da un altro thread, nello stesso processo o in un processo diverso, da una chiamata alla funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) . <br/> Per ottenere ulteriori informazioni sul modo in cui il messaggio è stato inviato, utilizzare la funzione [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .<br/>                                                                                                                                                                                                                              |
| [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex)                   | Determina se la routine della finestra corrente sta elaborando un messaggio inviato da un altro thread (nello stesso processo o in un processo diverso).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea)                           | Invia messaggi in ingresso inviati, controlla la coda di messaggi del thread per un messaggio inviato e recupera il messaggio (se presente).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea)                           | Inserisce un messaggio nella coda di messaggi associata al thread che ha creato la finestra specificata e restituisce senza attendere che il thread elabori il messaggio. <br/> Per inserire un messaggio nella coda di messaggi associata a un thread, utilizzare la funzione [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/>                                                                                                                                                                                                                                                                          |
| [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage)                   | Indica al sistema che un thread ha effettuato una richiesta per terminare (uscire). Viene in genere usato in risposta a un messaggio [**WM \_ Destroy**](wm-destroy.md) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea)               | Invia un messaggio alla coda di messaggi del thread specificato. Viene restituito senza attendere che il thread elabori il messaggio.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea)       | Definisce un nuovo messaggio di finestra che è sicuramente univoco nel sistema. Il valore del messaggio può essere utilizzato quando si inviano o si inviano messaggi.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage)                         | Risponde a un messaggio inviato tramite la funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) senza restituire il controllo alla funzione che ha chiamato **SendMessage**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc)                         | Funzione di callback definita dall'applicazione utilizzata con la funzione [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) . Il sistema passa il messaggio alla funzione di callback dopo aver passato il messaggio alla routine della finestra di destinazione. Il tipo **SENDASYNCPROC** definisce un puntatore a questa funzione di callback. [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc) è un segnaposto per il nome della funzione definita dall'applicazione.<br/>                                                                                                                                                                          |
| [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage)                           | Invia il messaggio specificato a una finestra o a finestre. La funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) chiama la routine della finestra specificata e non restituisce alcun risultato fino a quando la routine della finestra non ha elaborato il messaggio. <br/> Per inviare un messaggio e restituire immediatamente un messaggio, usare la funzione [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) o [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) . Per inserire un messaggio nella coda di messaggi di un thread e restituire immediatamente un messaggio, utilizzare la funzione [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) o [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/> |
| [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka)           | Invia il messaggio specificato a una finestra o a finestre. Viene chiamata la routine della finestra per la finestra specificata e viene restituito immediatamente. Dopo che la routine della finestra ha elaborato il messaggio, il sistema chiama la funzione di callback specificata, passando il risultato dell'elaborazione del messaggio e un valore definito dall'applicazione alla funzione di callback.<br/>                                                                                                                                                                                                                                             |
| [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)             | Invia il messaggio specificato a una o più finestre.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)               | Invia il messaggio specificato a una finestra o a finestre. Se la finestra è stata creata dal thread chiamante, [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) chiama la routine della finestra per la finestra e non restituisce alcun risultato finché la routine della finestra non ha elaborato il messaggio. Se la finestra è stata creata da un thread diverso, **SendNotifyMessage** passa il messaggio alla routine della finestra e restituisce immediatamente un risultato; non attende il completamento dell'elaborazione del messaggio da parte della routine della finestra.<br/>                                                                                              |
| [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo)           | Imposta le informazioni aggiuntive sul messaggio per il thread corrente. Informazioni aggiuntive sul messaggio sono un valore definito dall'applicazione o dal driver associato alla coda di messaggi del thread corrente. Un'applicazione può usare la funzione [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) per recuperare informazioni aggiuntive sul messaggio di un thread.<br/>                                                                                                                                                                                                                                                                |
| [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)                 | Converte i messaggi di chiave virtuale in messaggi di tipo carattere. I messaggi di tipo carattere vengono inseriti nella coda di messaggi del thread chiamante per la lettura alla successiva chiamata della funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .<br/>                                                                                                                                                                                                                                                                                                                            |
| [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage)                           | Restituisce il controllo ad altri thread quando un thread non dispone di altri messaggi nella coda di messaggi. La funzione [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) sospende il thread e non restituisce alcun valore fino a quando non viene inserito un nuovo messaggio nella coda di messaggi del thread.<br/>                                                                                                                                                                                                                                                                                                                                              |



 

### <a name="message-constants"></a>Costanti messaggio



| Nome                             | Descrizione                                                                    |
|----------------------------------|--------------------------------------------------------------------------------|
| [**\_ \_ base OCM**](ocm--base.md) | Utilizzato per definire i messaggi privati per l'utilizzo da classi della finestra privata. <br/> |
| [**\_app WM**](wm-app.md)        | Utilizzato per definire i messaggi privati. <br/>                                   |
| [**\_utente WM**](wm-user.md)      | Utilizzato per definire i messaggi privati per l'utilizzo da classi della finestra privata. <br/>  |



 

### <a name="message-structures"></a>Strutture di messaggi



| Nome                       | Descrizione                                                                                                                              |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| [**BSMINFO**](/windows/win32/api/winuser/ns-winuser-bsminfo) | Contiene informazioni su una finestra che ha negato una richiesta da [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa). <br/> |
| [**MESSAGGIO**](/windows/win32/api/winuser/ns-winuser-msg)         | Contiene informazioni sul messaggio dalla coda di messaggi di un thread. <br/>                                                                  |



 

 

