---
description: Questa sezione illustra gli hook. Un hook è un punto del meccanismo di gestione dei messaggi di sistema in cui un'applicazione può installare una subroutine per monitorare il traffico dei messaggi.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\hooks.htm
title: Hook
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 74057d25e3152c8782c2be364688bb971b08ddf5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104233324"
---
# <a name="hooks"></a><span data-ttu-id="df736-104">Hook</span><span class="sxs-lookup"><span data-stu-id="df736-104">Hooks</span></span>

<span data-ttu-id="df736-105">Un hook è un punto del meccanismo di gestione dei messaggi di sistema in cui un'applicazione può installare una subroutine per monitorare il traffico dei messaggi nel sistema ed elaborare determinati tipi di messaggi prima che raggiungano la procedura della finestra di destinazione.</span><span class="sxs-lookup"><span data-stu-id="df736-105">A hook is a point in the system message-handling mechanism where an application can install a subroutine to monitor the message traffic in the system and process certain types of messages before they reach the target window procedure.</span></span>

### <a name="in-this-section"></a><span data-ttu-id="df736-106">Contenuto della sezione</span><span class="sxs-lookup"><span data-stu-id="df736-106">In This Section</span></span>



| <span data-ttu-id="df736-107">Nome</span><span class="sxs-lookup"><span data-stu-id="df736-107">Name</span></span>                                 | <span data-ttu-id="df736-108">Descrizione</span><span class="sxs-lookup"><span data-stu-id="df736-108">Description</span></span>                                                         |
|--------------------------------------|---------------------------------------------------------------------|
| [<span data-ttu-id="df736-109">Panoramica Hook</span><span class="sxs-lookup"><span data-stu-id="df736-109">Hook Overview</span></span>](about-hooks.md)     | <span data-ttu-id="df736-110">Viene illustrato come usare gli hook.</span><span class="sxs-lookup"><span data-stu-id="df736-110">Discusses how hooks should be used.</span></span><br/>                      |
| [<span data-ttu-id="df736-111">Uso di hook</span><span class="sxs-lookup"><span data-stu-id="df736-111">Using Hooks</span></span>](using-hooks.md)       | <span data-ttu-id="df736-112">Viene illustrato come eseguire attività associate a Hook.</span><span class="sxs-lookup"><span data-stu-id="df736-112">Demonstrates how to perform tasks associated with hooks.</span></span><br/> |
| [<span data-ttu-id="df736-113">Riferimento Hook</span><span class="sxs-lookup"><span data-stu-id="df736-113">Hook Reference</span></span>](hook-reference.md) | <span data-ttu-id="df736-114">Contiene il riferimento all'API.</span><span class="sxs-lookup"><span data-stu-id="df736-114">Contains the API reference.</span></span><br/>                              |



 

### <a name="hook-functions"></a><span data-ttu-id="df736-115">Funzioni hook</span><span class="sxs-lookup"><span data-stu-id="df736-115">Hook Functions</span></span>



| <span data-ttu-id="df736-116">Nome</span><span class="sxs-lookup"><span data-stu-id="df736-116">Name</span></span>                                               | <span data-ttu-id="df736-117">Descrizione</span><span class="sxs-lookup"><span data-stu-id="df736-117">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="df736-118">**CallMsgFilter**</span><span class="sxs-lookup"><span data-stu-id="df736-118">**CallMsgFilter**</span></span>](/windows/win32/api/winuser/nf-winuser-callmsgfiltera)             | <span data-ttu-id="df736-119">Passa il codice del messaggio e dell'hook specificato alle routine hook associate alle routine hook [**\_ SYSMSGFILTER**](about-hooks.md) e **WH \_ msgfilter** .</span><span class="sxs-lookup"><span data-stu-id="df736-119">Passes the specified message and hook code to the hook procedures associated with the [**WH\_SYSMSGFILTER**](about-hooks.md) and **WH\_MSGFILTER** hook procedures.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="df736-120">**CallNextHookEx**</span><span class="sxs-lookup"><span data-stu-id="df736-120">**CallNextHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-callnexthookex)           | <span data-ttu-id="df736-121">Passa le informazioni sull'Hook alla successiva routine hook nella catena di hook corrente.</span><span class="sxs-lookup"><span data-stu-id="df736-121">Passes the hook information to the next hook procedure in the current hook chain.</span></span> <span data-ttu-id="df736-122">Una routine hook può chiamare questa funzione prima o dopo l'elaborazione delle informazioni sull'hook.</span><span class="sxs-lookup"><span data-stu-id="df736-122">A hook procedure can call this function either before or after processing the hook information.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="df736-123">[*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-123">[*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))</span></span>                   | <span data-ttu-id="df736-124">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-124">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-125">Il sistema chiama questa funzione prima di chiamare la routine della finestra per elaborare un messaggio inviato al thread.</span><span class="sxs-lookup"><span data-stu-id="df736-125">The system calls this function before calling the window procedure to process a message sent to the thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="df736-126">*CallWndRetProc*</span><span class="sxs-lookup"><span data-stu-id="df736-126">*CallWndRetProc*</span></span>](/windows/win32/api/winuser/nc-winuser-hookproc)             | <span data-ttu-id="df736-127">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-127">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-128">Il sistema chiama questa funzione dopo la chiamata della funzione [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="df736-128">The system calls this function after the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function is called.</span></span> <span data-ttu-id="df736-129">La routine hook può esaminare il messaggio. non può modificarlo.</span><span class="sxs-lookup"><span data-stu-id="df736-129">The hook procedure can examine the message; it cannot modify it.</span></span> <br/>                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="df736-130">[*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-130">[*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))</span></span>                           | <span data-ttu-id="df736-131">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-131">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-132">Il sistema chiama questa funzione prima dell'attivazione, della creazione, dell'eliminazione, della riduzione, della riduzione, della massimizzazione, dello stato di ingrandimento o della dimensione di una finestra prima di completare un comando di sistema; prima di rimuovere un evento del mouse o della tastiera dalla coda dei messaggi di sistema; prima di impostare lo stato attivo della tastiera; o prima della sincronizzazione con la coda di messaggi di sistema.</span><span class="sxs-lookup"><span data-stu-id="df736-132">The system calls this function before activating, creating, destroying, minimizing, maximizing, moving, or sizing a window; before completing a system command; before removing a mouse or keyboard event from the system message queue; before setting the keyboard focus; or before synchronizing with the system message queue.</span></span> <span data-ttu-id="df736-133">In un'applicazione di training basata su computer (CBT) viene utilizzata questa procedura di hook per ricevere notifiche utili dal sistema.</span><span class="sxs-lookup"><span data-stu-id="df736-133">A computer-based training (CBT) application uses this hook procedure to receive useful notifications from the system.</span></span> <br/> |
| <span data-ttu-id="df736-134">[*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-134">[*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))</span></span>                       | <span data-ttu-id="df736-135">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-135">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-136">Il sistema chiama questa funzione prima di chiamare le routine hook associate a qualsiasi tipo di hook.</span><span class="sxs-lookup"><span data-stu-id="df736-136">The system calls this function before calling the hook procedures associated with any type of hook.</span></span> <span data-ttu-id="df736-137">Il sistema passa informazioni sull'Hook da chiamare alla routine hook [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) , che esamina le informazioni e determina se consentire la chiamata del hook.</span><span class="sxs-lookup"><span data-stu-id="df736-137">The system passes information about the hook to be called to the [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) hook procedure, which examines the information and determines whether to allow the hook to be called.</span></span> <br/>                                                                                                                                                  |
| <span data-ttu-id="df736-138">[*ForegroundIdleProc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-138">[*ForegroundIdleProc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))</span></span>     | <span data-ttu-id="df736-139">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-139">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-140">Il sistema chiama questa funzione ogni volta che il thread in primo piano sta per diventare inattivo.</span><span class="sxs-lookup"><span data-stu-id="df736-140">The system calls this function whenever the foreground thread is about to become idle.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="df736-141">[*GetMsgProc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-141">[*GetMsgProc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))</span></span>                     | <span data-ttu-id="df736-142">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-142">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-143">Il sistema chiama questa funzione ogni volta che la funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) ha recuperato un messaggio da una coda di messaggi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="df736-143">The system calls this function whenever the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function has retrieved a message from an application message queue.</span></span> <span data-ttu-id="df736-144">Prima di restituire il messaggio recuperato al chiamante, il sistema passa il messaggio alla routine hook.</span><span class="sxs-lookup"><span data-stu-id="df736-144">Before returning the retrieved message to the caller, the system passes the message to the hook procedure.</span></span> <br/>                                                                                                                                                        |
| <span data-ttu-id="df736-145">[*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-145">[*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))</span></span>   | <span data-ttu-id="df736-146">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-146">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-147">In genere, un'applicazione utilizza questa funzione per riprodurre una serie di messaggi di mouse e tastiera registrati in precedenza dalla procedura di hook [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="df736-147">Typically, an application uses this function to play back a series of mouse and keyboard messages recorded previously by the [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) hook procedure.</span></span> <span data-ttu-id="df736-148">Finché viene installata una procedura [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) Hook, l'input del mouse e della tastiera normale è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="df736-148">As long as a [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) hook procedure is installed, regular mouse and keyboard input is disabled.</span></span> <br/>                                                                                                                       |
| <span data-ttu-id="df736-149">[*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-149">[*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))</span></span>       | <span data-ttu-id="df736-150">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-150">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-151">La funzione registra i messaggi rimossi dal sistema dalla coda dei messaggi di sistema.</span><span class="sxs-lookup"><span data-stu-id="df736-151">The function records messages the system removes from the system message queue.</span></span> <span data-ttu-id="df736-152">Successivamente, un'applicazione può usare una procedura di hook [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) per riprodurre i messaggi.</span><span class="sxs-lookup"><span data-stu-id="df736-152">Later, an application can use a [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) hook procedure to play back the messages.</span></span> <br/>                                                                                                                                                                                                                                               |
| <span data-ttu-id="df736-153">[*KeyboardProc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-153">[*KeyboardProc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))</span></span>                 | <span data-ttu-id="df736-154">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-154">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-155">Il sistema chiama questa funzione ogni volta che un'applicazione chiama la funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) ed è presente un messaggio della tastiera ([**WM \_ KEYUP**](/windows/desktop/inputdev/wm-keyup) o [**WM \_ KeyDown**](/windows/desktop/inputdev/wm-keydown)) da elaborare.</span><span class="sxs-lookup"><span data-stu-id="df736-155">The system calls this function whenever an application calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function and there is a keyboard message ([**WM\_KEYUP**](/windows/desktop/inputdev/wm-keyup) or [**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown)) to be processed.</span></span> <br/>                                                                                                                                                                         |
| <span data-ttu-id="df736-156">[*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-156">[*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85))</span></span> | <span data-ttu-id="df736-157">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-157">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-158">Il sistema chiama questa funzione ogni volta che un nuovo evento di input da tastiera sta per essere inserito in una coda di input del thread.</span><span class="sxs-lookup"><span data-stu-id="df736-158">The system calls this function every time a new keyboard input event is about to be posted into a thread input queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="df736-159">[*LowLevelMouseProc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-159">[*LowLevelMouseProc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))</span></span>       | <span data-ttu-id="df736-160">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-160">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-161">Il sistema chiama questa funzione ogni volta che un nuovo evento di input del mouse sta per essere inserito in una coda di input del thread.</span><span class="sxs-lookup"><span data-stu-id="df736-161">The system calls this function every time a new mouse input event is about to be posted into a thread input queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="df736-162">[*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-162">[*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))</span></span>                   | <span data-ttu-id="df736-163">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-163">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-164">Il sistema chiama questa funzione dopo che si è verificato un evento di input in una finestra di dialogo, in una finestra di messaggio, in un menu o in una barra di scorrimento, ma prima dell'elaborazione del messaggio generato dall'evento di input.</span><span class="sxs-lookup"><span data-stu-id="df736-164">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span> <span data-ttu-id="df736-165">La procedura hook può monitorare i messaggi per una finestra di dialogo, una finestra di messaggio, un menu o una barra di scorrimento creata da una particolare applicazione o da tutte le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="df736-165">The hook procedure can monitor messages for a dialog box, message box, menu, or scroll bar created by a particular application or all applications.</span></span><br/>                                                                                                                       |
| <span data-ttu-id="df736-166">[*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-166">[*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))</span></span>                       | <span data-ttu-id="df736-167">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-167">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-168">Il sistema chiama questa funzione ogni volta che un'applicazione chiama la funzione [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) o [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) ed è presente un messaggio del mouse da elaborare.</span><span class="sxs-lookup"><span data-stu-id="df736-168">The system calls this function whenever an application calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function and there is a mouse message to be processed.</span></span> <br/>                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="df736-169">**SetWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="df736-169">**SetWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-setwindowshookexa)       | <span data-ttu-id="df736-170">Installa una routine hook definita dall'applicazione in una catena di hook.</span><span class="sxs-lookup"><span data-stu-id="df736-170">Installs an application-defined hook procedure into a hook chain.</span></span> <span data-ttu-id="df736-171">È necessario installare una procedura hook per monitorare il sistema per determinati tipi di eventi.</span><span class="sxs-lookup"><span data-stu-id="df736-171">You would install a hook procedure to monitor the system for certain types of events.</span></span> <span data-ttu-id="df736-172">Questi eventi sono associati a un thread specifico o a tutti i thread nello stesso desktop del thread chiamante.</span><span class="sxs-lookup"><span data-stu-id="df736-172">These events are associated either with a specific thread or with all threads in the same desktop as the calling thread.</span></span><br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="df736-173">[*ShellProc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-173">[*ShellProc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span></span>                       | <span data-ttu-id="df736-174">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-174">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-175">La funzione riceve le notifiche degli eventi della shell dal sistema.</span><span class="sxs-lookup"><span data-stu-id="df736-175">The function receives notifications of Shell events from the system.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="df736-176">[*SysMsgProc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="df736-176">[*SysMsgProc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))</span></span>                     | <span data-ttu-id="df736-177">Funzione di callback definita dall'applicazione o definita dalla libreria utilizzata con la funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-177">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="df736-178">Il sistema chiama questa funzione dopo che si è verificato un evento di input in una finestra di dialogo, in una finestra di messaggio, in un menu o in una barra di scorrimento, ma prima dell'elaborazione del messaggio generato dall'evento di input.</span><span class="sxs-lookup"><span data-stu-id="df736-178">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span> <span data-ttu-id="df736-179">La funzione può monitorare i messaggi per qualsiasi finestra di dialogo, finestra di messaggio, menu o barra di scorrimento nel sistema.</span><span class="sxs-lookup"><span data-stu-id="df736-179">The function can monitor messages for any dialog box, message box, menu, or scroll bar in the system.</span></span> <br/>                                                                                                                                                                    |
| [<span data-ttu-id="df736-180">**UnhookWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="df736-180">**UnhookWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-unhookwindowshookex) | <span data-ttu-id="df736-181">Rimuove una routine hook installata in una catena di hook dalla funzione [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="df736-181">Removes a hook procedure installed in a hook chain by the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



 

### <a name="hook-notifications"></a><span data-ttu-id="df736-182">Notifiche Hook</span><span class="sxs-lookup"><span data-stu-id="df736-182">Hook Notifications</span></span>



| <span data-ttu-id="df736-183">Nome</span><span class="sxs-lookup"><span data-stu-id="df736-183">Name</span></span>                                          | <span data-ttu-id="df736-184">Descrizione</span><span class="sxs-lookup"><span data-stu-id="df736-184">Description</span></span>                                                                                                                                                                         |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="df736-185">**\_CANCELJOURNAL WM**</span><span class="sxs-lookup"><span data-stu-id="df736-185">**WM\_CANCELJOURNAL**</span></span>](wm-canceljournal.md) | <span data-ttu-id="df736-186">Inviato a un'applicazione quando un utente annulla le attività di inserimento nel journal dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="df736-186">Posted to an application when a user cancels the application's journaling activities.</span></span> <span data-ttu-id="df736-187">Il messaggio viene pubblicato con un handle di finestra **null** .</span><span class="sxs-lookup"><span data-stu-id="df736-187">The message is posted with a **NULL** window handle.</span></span> <br/>                              |
| [<span data-ttu-id="df736-188">**\_QUEUESYNC WM**</span><span class="sxs-lookup"><span data-stu-id="df736-188">**WM\_QUEUESYNC**</span></span>](wm-queuesync.md)         | <span data-ttu-id="df736-189">Inviato da un'applicazione CBT per separare i messaggi di input dell'utente da altri messaggi inviati tramite la procedura [**WH \_ JOURNALPLAYBACK**](about-hooks.md) .</span><span class="sxs-lookup"><span data-stu-id="df736-189">Sent by a CBT application to separate user-input messages from other messages sent through the [**WH\_JOURNALPLAYBACK**](about-hooks.md) procedure.</span></span> <br/> |



 

### <a name="hook-structures"></a><span data-ttu-id="df736-190">Strutture Hook</span><span class="sxs-lookup"><span data-stu-id="df736-190">Hook Structures</span></span>



| <span data-ttu-id="df736-191">Nome</span><span class="sxs-lookup"><span data-stu-id="df736-191">Name</span></span>                                           | <span data-ttu-id="df736-192">Descrizione</span><span class="sxs-lookup"><span data-stu-id="df736-192">Description</span></span>                                                                                                                                                                                                                 |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="df736-193">**\_CREATEWND CBT**</span><span class="sxs-lookup"><span data-stu-id="df736-193">**CBT\_CREATEWND**</span></span>](/windows/win32/api/winuser/ns-winuser-cbt_createwnda)        | <span data-ttu-id="df736-194">Contiene le informazioni passate a una stored procedure hook di **WH \_** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), prima della creazione di una finestra.</span><span class="sxs-lookup"><span data-stu-id="df736-194">Contains information passed to a **WH\_CBT** hook procedure, [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), before a window is created.</span></span><br/>                                                                                               |
| [<span data-ttu-id="df736-195">**CBTACTIVATESTRUCT**</span><span class="sxs-lookup"><span data-stu-id="df736-195">**CBTACTIVATESTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cbtactivatestruct) | <span data-ttu-id="df736-196">Contiene le informazioni passate a una routine di hook di un **\_ token WH** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), prima dell'attivazione di una finestra.</span><span class="sxs-lookup"><span data-stu-id="df736-196">Contains information passed to a **WH\_CBT** hook procedure, [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), before a window is activated.</span></span> <br/>                                                                                            |
| [<span data-ttu-id="df736-197">**CWPRETSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="df736-197">**CWPRETSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cwpretstruct)           | <span data-ttu-id="df736-198">Definisce i parametri del messaggio passati a una procedura di hook **\_ CALLWNDPROCRET di WH** , [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc).</span><span class="sxs-lookup"><span data-stu-id="df736-198">Defines the message parameters passed to a **WH\_CALLWNDPROCRET** hook procedure, [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc).</span></span> <br/>                                                                                       |
| [<span data-ttu-id="df736-199">**CWPSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="df736-199">**CWPSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cwpstruct)                 | <span data-ttu-id="df736-200">Definisce i parametri del messaggio passati a una procedura di hook **\_ CALLWNDPROC di WH** , [*CALLWNDPROC*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="df736-200">Defines the message parameters passed to a **WH\_CALLWNDPROC** hook procedure, [*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="df736-201">**DEBUGHOOKINFO**</span><span class="sxs-lookup"><span data-stu-id="df736-201">**DEBUGHOOKINFO**</span></span>](/windows/win32/api/winuser/ns-winuser-debughookinfo)         | <span data-ttu-id="df736-202">Contiene le informazioni di debug passate a una routine di hook di **\_ debug WH** , [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="df736-202">Contains debugging information passed to a **WH\_DEBUG** hook procedure, [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)).</span></span> <br/>                                                                                                          |
| [<span data-ttu-id="df736-203">**EVENTMSG**</span><span class="sxs-lookup"><span data-stu-id="df736-203">**EVENTMSG**</span></span>](/windows/win32/api/winuser/ns-winuser-eventmsg)                   | <span data-ttu-id="df736-204">Contiene informazioni su un messaggio hardware inviato alla coda di messaggi di sistema.</span><span class="sxs-lookup"><span data-stu-id="df736-204">Contains information about a hardware message sent to the system message queue.</span></span> <span data-ttu-id="df736-205">Questa struttura viene utilizzata per archiviare le informazioni sul messaggio per la funzione di callback [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="df736-205">This structure is used to store message information for the [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) callback function.</span></span> <br/> |
| [<span data-ttu-id="df736-206">**KBDLLHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="df736-206">**KBDLLHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-kbdllhookstruct)     | <span data-ttu-id="df736-207">Contiene informazioni su un evento di input da tastiera di basso livello.</span><span class="sxs-lookup"><span data-stu-id="df736-207">Contains information about a low-level keyboard input event.</span></span> <br/>                                                                                                                                                    |
| [<span data-ttu-id="df736-208">**MOUSEHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="df736-208">**MOUSEHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-mousehookstruct)     | <span data-ttu-id="df736-209">Contiene informazioni su un evento del mouse passato a una routine di hook **\_ del mouse di WH** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="df736-209">Contains information about a mouse event passed to a **WH\_MOUSE** hook procedure, [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="df736-210">**MOUSEHOOKSTRUCTEX**</span><span class="sxs-lookup"><span data-stu-id="df736-210">**MOUSEHOOKSTRUCTEX**</span></span>](/windows/win32/api/winuser/ns-winuser-mousehookstructex) | <span data-ttu-id="df736-211">Contiene informazioni su un evento del mouse passato a una routine di hook **\_ del mouse di WH** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="df736-211">Contains information about a mouse event passed to a **WH\_MOUSE** hook procedure, [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="df736-212">**MSLLHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="df736-212">**MSLLHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-msllhookstruct)       | <span data-ttu-id="df736-213">Contiene informazioni su un evento di input del mouse di basso livello.</span><span class="sxs-lookup"><span data-stu-id="df736-213">Contains information about a low-level mouse input event.</span></span> <br/>                                                                                                                                                       |



 

## <a name="related-topics"></a><span data-ttu-id="df736-214">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="df736-214">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="df736-215">**SetWinEventHook**</span><span class="sxs-lookup"><span data-stu-id="df736-215">**SetWinEventHook**</span></span>](/windows/desktop/api/winuser/nf-winuser-setwineventhook)
</dt> </dl>

 

