---
title: Considerazioni sulla sicurezza interfaccia utente di Windows
description: In questo argomento vengono fornite informazioni sulle considerazioni relative alla sicurezza nell'interfaccia utente di Windows.
ms.assetid: D560E59A-D6C8-40a9-AABB-DE5A47C94E6E
keywords:
- Interfaccia utente di Windows, sicurezza
- sicurezza per l'interfaccia utente di Windows
- sicurezza delle stringhe
- input dell'utente, convalida
- convalida degli input utente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 71b714de3ab12cb10d6e5d9a2e251c34eeeff7a5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104047168"
---
# <a name="security-considerations-windows-user-interface"></a>Considerazioni sulla sicurezza: interfaccia utente di Windows

In questo argomento vengono fornite informazioni sulle considerazioni relative alla sicurezza nell'interfaccia utente di Windows. Questo argomento non fornisce tutto ciò che è necessario sapere sui problemi di sicurezza. È invece possibile utilizzarlo come punto di partenza e riferimento per questa area tecnologica.

Con l'aumento dell'interconnettività dei computer, gli sviluppatori devono ora preoccuparsi della protezione delle applicazioni. Tuttavia, la sicurezza migliora anche la sicurezza e l'affidabilità generali delle applicazioni; è quindi possibile che lo sviluppatore possa fornire un'esperienza utente ottimale. Negli argomenti seguenti vengono illustrati alcuni problemi di sicurezza potenziali quando si utilizza l'interfaccia utente di Windows.

-   [Considerazioni sulle stringhe](#string-considerations)
-   [Input utente](#user-input)
-   [Avvisi di sicurezza](#security-alerts)
-   [Argomenti correlati](#related-topics)

## <a name="string-considerations"></a>Considerazioni sulle stringhe

Molte funzioni, messaggi e macro usano stringhe nei rispettivi parametri. Tuttavia, spesso le stringhe non vengono verificate per la terminazione null o per la lunghezza. Un problema correlato è la mancata calcolo della lunghezza di una stringa o di un buffer. In entrambi i casi, ciò può causare un overflow del buffer o un troncamento dei dati, che può influire negativamente sull'applicazione. Per ulteriori informazioni sui sovraccarichi del buffer e altri problemi di sicurezza, vedere la pagina relativa alla *scrittura di codice sicuro* da Michael Howard e David LeBlanc, Microsoft Press, 2002.

Per gestire le stringhe in modo sicuro, è necessario eseguire le operazioni seguenti:

-   Controllare le stringhe per la terminazione null o per la lunghezza corretta, a seconda dei casi.
-   Prestare particolare attenzione a determinare la lunghezza di una stringa o di un buffer, soprattutto quando contiene valori **TCHAR** .
-   Se si crea una stringa o si usa una stringa usata in precedenza, inizializzarla su zero o inserire un carattere di terminazione null, a seconda dei casi.

Inoltre, è consigliabile utilizzare le funzioni [StrSafe](/windows/desktop/menurc/strsafe-ovw) quando si gestiscono le stringhe. Queste funzioni sono progettate per gestire in modo sicuro le stringhe.

## <a name="user-input"></a>Input utente

L'interfaccia utente di Windows è interessata a ricevere e rispondere alle informazioni degli utenti. Tuttavia, gli utenti che immettono dati non corretti possono interferire con l'applicazione, indipendentemente dal fatto che si desideri o meno. Quindi, la regola cardinale è che tutti gli input devono essere convalidati.

Il problema principale è costituito dai dati stringa, descritti in [considerazioni sulle stringhe](#string-considerations). Tuttavia, tutti i tipi di input devono essere convalidati prima di essere usati dall'applicazione. Un altro problema riguarda il momento in cui i dati vengono convalidati a un punto, ma vengono modificati prima di essere utilizzati, ad esempio quando si ricevono messaggi che forniscono la lunghezza del testo. Quindi, se è possibile che i dati vengano modificati, è consigliabile controllare i dati prima di usarli

## <a name="security-alerts"></a>Avvisi di sicurezza

Nella tabella seguente sono elencate le funzionalità che, se usate in modo non corretto, possono compromettere la sicurezza delle applicazioni.



| Funzionalità                                                                                                                                                   | Strategia di riduzione del rischio                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetAtomName**](/windows/desktop/api/winbase/nf-winbase-getatomnamea)                                                                                                               | Prestare attenzione quando si specificano le dimensioni del buffer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**GlobalGetAtomName**](/windows/desktop/api/winbase/nf-winbase-globalgetatomnamea)                                                                                                   | Gli atomi di stringa globali sono accessibili per qualsiasi applicazione. Tuttavia, se un'altra applicazione non è attenta, potrebbe gestire in modo non accurato i conteggi dei riferimenti ed eliminarli. È consigliabile usare invece gli atomi Integer globali.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [**ImpersonateDdeClientWindow**](/windows/desktop/api/dde/nf-dde-impersonateddeclientwindow)                                                                                 | Se la funzione ha esito negativo, le successive richieste client vengono effettuate nel contesto di sicurezza del processo chiamante. Questo può costituire un problema se il processo chiamante viene eseguito come un account con privilegi elevati. Se pertanto la chiamata ha esito negativo o genera un errore, non continuare l'esecuzione della richiesta client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**DdeImpersonateClient**](/windows/desktop/api/ddeml/nf-ddeml-ddeimpersonateclient)                                                                                             | Se la funzione ha esito negativo, le successive richieste client vengono effettuate nel contesto di sicurezza del processo chiamante. Questo può costituire un problema se il processo chiamante viene eseguito come un account con privilegi elevati. Se pertanto la chiamata ha esito negativo o genera un errore, non continuare l'esecuzione della richiesta client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**GetClipboardFormatName**](/windows/desktop/api/winuser/nf-winuser-getclipboardformatnamea)                                                                                         | Il calcolo errato della dimensione corretta del buffer *lpszFormatName* , soprattutto quando l'applicazione viene utilizzata nelle versioni ANSI e Unicode, può causare un overflow del buffer. Si noti inoltre che la stringa viene troncata se è più lunga del parametro *cchMaxCount* , il che può comportare la perdita di informazioni.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**GetMenuString**](/windows/desktop/api/winuser/nf-winuser-getmenustringa)                                                                                                           | Il parametro *lpString* è un buffer **TCHAR** e *nMaxCount* è la lunghezza della stringa di menu in **TCHAR** s. Il dimensionamento errato di questi parametri può essere la lunghezza della stringa di menu in caratteri. Il dimensionamento errato di questi parametri può causare il troncamento della stringa, causando la possibile perdita di dati.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**GetStringTypeA**](/windows/desktop/api/winnls/nf-winnls-getstringtypea), [**GetStringTypeEx**](/windows/win32/api/stringapiset/nf-stringapiset-getstringtypeexw), [**GetStringTypeW**](/windows/desktop/api/stringapiset/nf-stringapiset-getstringtypew) | Per evitare un overflow del buffer, impostare la dimensione del buffer *lpCharType* correttamente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya)                                                                                                                       | L'uso errato di **LoadLibrary** può compromettere la sicurezza dell'applicazione caricando la dll non corretta.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**LoadString**](/windows/desktop/api/winuser/nf-winuser-loadstringa)                                                                                                                 | L'uso errato include l'impostazione di dimensioni errate nel parametro *nBufferMax* . Ad esempio, sizeof (*lpBuffer*) restituisce la dimensione del buffer in byte, causando un overflow del buffer per la versione Unicode della funzione. Le situazioni di overflow del buffer sono la ragione di molti problemi di sicurezza nelle applicazioni. In questo caso, `sizeof(lpBuffer)/sizeof(TCHAR)` l'utilizzo di fornisce la dimensione corretta del buffer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**lstrcat**](/windows/desktop/api/winbase/nf-winbase-lstrcata)                                                                                                                       | Questa funzione usa la gestione delle eccezioni strutturata (SEH) per intercettare le violazioni di accesso e altri errori. Quando questa funzione intercetta gli errori SEH, restituisce **null** senza terminare con null la stringa e senza null senza terminare la stringa e senza notificare al chiamante l'errore. Il chiamante non è sicuro supporre che lo spazio insufficiente sia la condizione di errore. Il primo argomento, *lpString1*, deve essere sufficientemente grande da contenere *lpString2* è \\ 0' di chiusura; in caso contrario, potrebbe verificarsi un sovraccarico del buffer. I sovraccarichi del buffer possono causare un attacco Denial of Service contro l'applicazione se si verifica una violazione di accesso. Nel peggiore dei casi, un sovraccarico del buffer può consentire a un utente malintenzionato di inserire codice eseguibile nel processo, soprattutto se *lpString1* è un buffer basato su stack. Si consiglia di utilizzare una delle alternative seguenti. [**StringCbCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcbcata) o [**StringCchCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcata).                                                                                                                                                                                       |
| [**lstrcpy**](/windows/desktop/api/winbase/nf-winbase-lstrcpya)                                                                                                                       | Questa funzione usa la gestione delle eccezioni strutturata (SEH) per intercettare le violazioni di accesso e altri errori. Quando questa funzione intercetta gli errori SEH, restituisce **null** senza terminare con null la stringa e senza null senza terminare la stringa e senza notificare al chiamante l'errore. Il chiamante non è sicuro supporre che lo spazio insufficiente sia la condizione di errore. Il primo argomento, *lpString1*, deve essere sufficientemente grande da contenere *lpString2* è \\ 0' di chiusura; in caso contrario, potrebbe verificarsi un sovraccarico del buffer. I sovraccarichi del buffer possono causare un attacco Denial of Service contro l'applicazione se si verifica una violazione di accesso. Nel peggiore dei casi, un sovraccarico del buffer può consentire a un utente malintenzionato di inserire codice eseguibile nel processo, soprattutto se *lpString1* è un buffer basato su stack. In alternativa, è consigliabile usare [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) .                                                                                                                                                                                                                                                               |
| [**lstrcpyn**](/windows/desktop/api/winbase/nf-winbase-lstrcpyna)                                                                                                                     | Questa funzione usa la gestione delle eccezioni strutturata (SEH) per intercettare le violazioni di accesso e altri errori. Quando questa funzione intercetta gli errori SEH, restituisce **null** senza terminare con null la stringa e senza null senza terminare la stringa e senza notificare al chiamante l'errore. Il chiamante non è sicuro supporre che lo spazio insufficiente sia la condizione di errore. Se *lpString1* non è sufficientemente grande da contenere la stringa copiata, può verificarsi un sovraccarico del buffer. Inoltre, quando si copia un'intera stringa, [sizeof](https://msdn.microsoft.com/library/0w557fh7(VS.71).aspx) restituisce il numero di byte anziché **WCHAR**, che **sizeof** restituisce il numero di byte anziché i caratteri, che non è corretto per la versione Unicode di questa funzione. I sovraccarichi del buffer possono causare un attacco Denial of Service contro l'applicazione se si verifica una violazione di accesso. Nel peggiore dei casi, un sovraccarico del buffer può consentire a un utente malintenzionato di inserire codice eseguibile nel processo, soprattutto se *lpString1* è un buffer basato su stack. In alternativa, è consigliabile usare [**StringCchCopy**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) . |
| [**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena)                                                                                                                       | [**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena) presuppone che *lpString* sia una stringa con terminazione null. In caso contrario, potrebbe verificarsi un sovraccarico del buffer o un attacco di tipo Denial of Service contro l'applicazione. Si consiglia di utilizzare una delle alternative seguenti. [**StringCbLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcblengtha) o [**StringCchLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcchlengtha).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**wsprintf**](/windows/desktop/api/winuser/nf-winuser-wsprintfa)                                                                                                                     | Per la stringa restituita in *lpOut* non è garantita la terminazione null. Inoltre, evitare il formato% s, che può causare un sovraccarico del buffer. Se si verifica una violazione di accesso, l'applicazione genera un attacco Denial of Service. Nel peggiore dei casi, un utente malintenzionato può inserire codice eseguibile. Si consiglia di utilizzare una delle alternative seguenti. [**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)o [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).                                                                                                                                                                                                                                                                                                                                         |
| [**wvsprintf**](/windows/desktop/api/winuser/nf-winuser-wvsprintfa)                                                                                                                   | Per la stringa restituita in *lpOutput* non è garantita la terminazione null. Evitare inoltre di utilizzare il formato% s, che può causare un sovraccarico del buffer. Questo può causare un attacco Denial of Service se comporta una violazione di accesso o un utente malintenzionato può inserire codice eseguibile. Si consiglia di utilizzare una delle alternative seguenti. [**StringCbPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)o [**StringCchVPrintfEx**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa).                                                                                                                                                                                                                                                                                                                                                      |



 

## <a name="related-topics"></a>Argomenti correlati

<dl> <dt>

[Microsoft Security](https://www.microsoft.com/security/)
</dt> <dt>

[Sicurezza e identità](/windows/desktop/security)
</dt> <dt>

[Sicurezza dell'indice delle procedure](/previous-versions/msp-n-p/ff650055(v=pandp.10))
</dt> <dt>

[Risorse di sicurezza TechNet](https://www.microsoft.com/technet/security/default.mspx)
</dt> <dt>

[Procedure consigliate per le API di sicurezza](/windows/desktop/SecBP/best-practices-for-the-security-apis)
</dt> </dl>

 

 