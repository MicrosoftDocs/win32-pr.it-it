---
title: Considerazioni sulla sicurezza Windows Interfaccia utente
description: In questo argomento vengono fornite informazioni sulle considerazioni sulla sicurezza nel Windows Interfaccia utente.
ms.assetid: D560E59A-D6C8-40a9-AABB-DE5A47C94E6E
keywords:
- Windows Interfaccia utente, sicurezza
- sicurezza per Windows Interfaccia utente
- sicurezza delle stringhe
- input utente, convalida
- convalida degli input utente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f8d8281684dde5a78d458816c3d90c8c75fd96bb8ae7160004667ea302794c37
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/11/2021
ms.locfileid: "119589201"
---
# <a name="security-considerations-windows-user-interface"></a>Considerazioni sulla sicurezza: Windows Interfaccia utente

In questo argomento vengono fornite informazioni sulle considerazioni sulla sicurezza nel Windows Interfaccia utente. Questo argomento non fornisce tutte le informazioni necessarie sui problemi di sicurezza. Al contrario, usarlo come punto di partenza e riferimento per questa area di tecnologia.

Con l'aumento dell'interconnettività dei computer, gli sviluppatori devono ora preoccuparsi della sicurezza delle applicazioni. Tuttavia, la sicurezza migliora anche la sicurezza e l'affidabilità generali delle applicazioni. pertanto è un altro modo in cui lo sviluppatore può offrire una buona esperienza utente. Gli argomenti seguenti illustrano alcuni potenziali problemi di sicurezza quando si usa il Windows Interfaccia utente.

-   [Considerazioni sulle stringhe](#string-considerations)
-   [Input utente](#user-input)
-   [Avvisi di sicurezza](#security-alerts)
-   [Argomenti correlati](#related-topics)

## <a name="string-considerations"></a>Considerazioni sulle stringhe

Molte funzioni, messaggi e macro usano stringhe nei parametri. Tuttavia, spesso le stringhe non vengono verificate per la terminazione Null o per la lunghezza. Un problema correlato è il calcolo erto della lunghezza di una stringa o di un buffer. In entrambi i casi, ciò può causare l'overflow del buffer o il troncamento dei dati, con effetti negativi sull'applicazione. Per altre informazioni sui sovraccarichi del buffer e su altri problemi di sicurezza, vedere *Writing Secure Code* (Scrittura di codice sicuro) di Michael Howard e David Leblanc, Microsoft Press, 2002.

Per gestire le stringhe in modo sicuro, è necessario eseguire le operazioni seguenti:

-   Controllare le stringhe per la terminazione Null o per la lunghezza corretta, in base alle esigenze.
-   Fare particolare attenzione a determinare la lunghezza di una stringa o di un buffer, soprattutto quando contiene **valori TCHAR.**
-   Se si crea una stringa o si usa una stringa usata in precedenza, inizializzarla su zero o inserire un carattere di terminazione Null, in base alle esigenze.

Inoltre, è consigliabile usare le [funzioni StrSafe](/windows/desktop/menurc/strsafe-ovw) quando si gestiscono le stringhe. Queste funzioni sono progettate per gestire le stringhe in modo sicuro.

## <a name="user-input"></a>Input utente

L Windows interno utente è in grado di ottenere e rispondere alle informazioni degli utenti. Tuttavia, gli utenti che immettono dati non corretti possono interrompere l'applicazione, indipendentemente dal fatto che intendano o meno eseguire questa operazione. Pertanto, la regola di cardinalità è che tutto l'input deve essere convalidato.

Il problema principale sono i dati stringa, illustrati in [Considerazioni sulle stringhe.](#string-considerations) Tuttavia, tutti i tipi di input devono essere convalidati prima di essere usati dall'applicazione. Un altro problema riguarda il caso in cui i dati vengono convalidati in un punto, ma cambiano prima che venga usato, ad esempio, quando si ricevono messaggi che forniscono la lunghezza del testo. Pertanto, se è possibile che i dati cambino, è consigliabile controllare i dati subito prima di usarli

## <a name="security-alerts"></a>Avvisi di sicurezza

Nella tabella seguente sono elencate le funzionalità che, se usate in modo non corretto, possono compromettere la sicurezza delle applicazioni.



| Funzionalità                                                                                                                                                   | Strategia di riduzione del rischio                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetAtomName**](/windows/desktop/api/winbase/nf-winbase-getatomnamea)                                                                                                               | Prestare attenzione quando si specificano le dimensioni del buffer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [**GlobalGetAtomName**](/windows/desktop/api/winbase/nf-winbase-globalgetatomnamea)                                                                                                   | Gli atomi di stringa globali sono accessibili a qualsiasi applicazione. Tuttavia, se un'altra applicazione è incurabile, potrebbe determinare un errore di gestione dei conteggi dei riferimenti ed eliminarli. È invece consigliabile usare atomi interi globali.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [**ImpersonateDdeClientWindow**](/windows/desktop/api/dde/nf-dde-impersonateddeclientwindow)                                                                                 | Se la funzione ha esito negativo, le richieste client successive vengono effettuate nel contesto di sicurezza del processo chiamante. Questo può essere un problema se il processo chiamante è in esecuzione come account con privilegi elevati. Pertanto, se la chiamata non riesce o genera un errore, non continuare l'esecuzione della richiesta client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**DdeImpersonateClient**](/windows/desktop/api/ddeml/nf-ddeml-ddeimpersonateclient)                                                                                             | Se la funzione ha esito negativo, le richieste client successive vengono effettuate nel contesto di sicurezza del processo chiamante. Questo può essere un problema se il processo chiamante è in esecuzione come account con privilegi elevati. Pertanto, se la chiamata non riesce o genera un errore, non continuare l'esecuzione della richiesta client.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**GetClipboardFormatName**](/windows/desktop/api/winuser/nf-winuser-getclipboardformatnamea)                                                                                         | Il calcolo non corretto delle dimensioni appropriate del buffer *lpszFormatName,* soprattutto quando l'applicazione viene usata in entrambe le versioni ANSI e Unicode, può causare un overflow del buffer. Si noti inoltre che la stringa viene troncata se è più lunga del parametro *cchMaxCount,* causando la perdita di informazioni.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**GetMenuString**](/windows/desktop/api/winuser/nf-winuser-getmenustringa)                                                                                                           | Il *parametro lpString* è un buffer **TCHAR** e *nMaxCount* è la lunghezza della stringa di menu in **TCHAR** s. Il ridimensionamento errato di questi parametri può essere la lunghezza della stringa di menu in caratteri. Il ridimensionamento errato di questi parametri può causare il troncamento della stringa, causando la possibile perdita di dati.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [**GetStringTypeA,**](/windows/desktop/api/winnls/nf-winnls-getstringtypea) [**GetStringTypeEx,**](/windows/win32/api/stringapiset/nf-stringapiset-getstringtypeexw) [**GetStringTypeW**](/windows/desktop/api/stringapiset/nf-stringapiset-getstringtypew) | Per evitare un overflow del buffer, impostare correttamente le dimensioni del buffer *lpCharType.*                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya)                                                                                                                       | **L'uso errato di LoadLibrary** può compromettere la sicurezza dell'applicazione caricando la DLL errata.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**LoadString**](/windows/desktop/api/winuser/nf-winuser-loadstringa)                                                                                                                 | L'uso non corretto include la specifica di dimensioni errate nel *parametro nBufferMax.* Ad esempio, sizeof(*lpBuffer*) fornisce le dimensioni del buffer in byte, causando un overflow del buffer per la versione Unicode della funzione. Le situazioni di overflow del buffer sono la causa di molti problemi di sicurezza nelle applicazioni. In questo caso, `sizeof(lpBuffer)/sizeof(TCHAR)` l'uso di fornisce le dimensioni appropriate del buffer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**lstrcat**](/windows/desktop/api/winbase/nf-winbase-lstrcata)                                                                                                                       | Questa funzione usa la gestione strutturata delle eccezioni (SEH) per rilevare violazioni di accesso e altri errori. Quando questa funzione rileva gli errori SEH, restituisce **NULL** senza terminazione Null della stringa e senza NULL senza terminazione Null della stringa e senza notificare l'errore al chiamante. Il chiamante non può presupporre che lo spazio insufficiente sia la condizione di errore. Il primo argomento, *lpString1*, deve essere sufficientemente grande da contenere *lpString2* e la chiusura di '0'. In caso contrario, può verificarsi \\ un sovraccarico del buffer. I sovraccarichi del buffer possono causare un attacco Denial of Service contro l'applicazione in caso di violazione dell'accesso. Nel peggiore dei casi, un sovraccarico del buffer può consentire a un utente malintenzionato di inserire codice eseguibile nel processo, soprattutto se *lpString1* è un buffer basato su stack. Provare a usare una delle alternative seguenti. [**StringCbCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcbcata) o [**StringCchCat**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcata).                                                                                                                                                                                       |
| [**lstrcpy**](/windows/desktop/api/winbase/nf-winbase-lstrcpya)                                                                                                                       | Questa funzione usa la gestione strutturata delle eccezioni (SEH) per rilevare violazioni di accesso e altri errori. Quando questa funzione rileva gli errori SEH, restituisce **NULL** senza terminazione Null della stringa e senza NULL senza terminazione Null della stringa e senza notificare l'errore al chiamante. Il chiamante non può presupporre che lo spazio insufficiente sia la condizione di errore. Il primo argomento, *lpString1*, deve essere sufficientemente grande da contenere *lpString2* e la chiusura di '0'. In caso contrario, può verificarsi \\ un sovraccarico del buffer. I sovraccarichi del buffer possono causare un attacco Denial of Service contro l'applicazione in caso di violazione dell'accesso. Nel peggiore dei casi, un sovraccarico del buffer può consentire a un utente malintenzionato di inserire codice eseguibile nel processo, soprattutto se *lpString1* è un buffer basato su stack. Provare invece [**a usare StringCchCopy.**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya)                                                                                                                                                                                                                                                               |
| [**lstrcpyn**](/windows/desktop/api/winbase/nf-winbase-lstrcpyna)                                                                                                                     | Questa funzione usa la gestione strutturata delle eccezioni (SEH) per rilevare violazioni di accesso e altri errori. Quando questa funzione rileva gli errori SEH, restituisce **NULL** senza terminazione Null della stringa e senza NULL senza terminazione Null della stringa e senza notificare l'errore al chiamante. Il chiamante non può presupporre che lo spazio insufficiente sia la condizione di errore. Se *lpString1 non* è sufficientemente grande da contenere la stringa copiata, può verificarsi un sovraccarico del buffer. Inoltre, quando si copia un'intera stringa, si noti che [sizeof](https://msdn.microsoft.com/library/0w557fh7(VS.71).aspx) restituisce il numero di byte anziché **WCHAR,** che **sizeof** restituisce il numero di byte anziché i caratteri, che non è corretto per la versione Unicode di questa funzione. I sovraccarichi del buffer possono causare un attacco Denial of Service contro l'applicazione in caso di violazione dell'accesso. Nel peggiore dei casi, un sovraccarico del buffer può consentire a un utente malintenzionato di inserire codice eseguibile nel processo, soprattutto se *lpString1* è un buffer basato su stack. Provare invece [**a usare StringCchCopy.**](/windows/desktop/api/strsafe/nf-strsafe-stringcchcopya) |
| [**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena)                                                                                                                       | [**lstrlen**](/windows/desktop/api/winbase/nf-winbase-lstrlena) presuppone che *lpString* sia una stringa con terminazione Null. In caso contrario, ciò potrebbe causare un sovraccarico del buffer o un attacco Denial of Service contro l'applicazione. Provare a usare una delle alternative seguenti. [**StringCbLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcblengtha) o [**StringCchLength**](/windows/desktop/api/strsafe/nf-strsafe-stringcchlengtha).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [**wsprintf**](/windows/desktop/api/winuser/nf-winuser-wsprintfa)                                                                                                                     | Non è garantito che la stringa restituita in *lpOut* sia con terminazione Null. Evitare anche il formato %s, che può causare un sovraccarico del buffer. Se si verifica una violazione di accesso, si verifica un attacco Denial of Service all'applicazione. Nel peggiore dei casi, un utente malintenzionato può inserire codice eseguibile. Provare a usare una delle alternative seguenti. [**StringCbPrintf,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa) [**StringCbPrintfEx,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa) [**StringCbVPrintf,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa) [**StringCbVPrintfEx,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa) [**StringCchPrintf,**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa) [**StringCchPrintfEx,**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa) [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)o [**StringCchVPrintfEx.**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa)                                                                                                                                                                                                                                                                                                                                         |
| [**wvsprintf**](/windows/desktop/api/winuser/nf-winuser-wvsprintfa)                                                                                                                   | Non è garantito che la stringa restituita in *lpOutput* sia con terminazione Null. Evitare inoltre l'uso del formato %s, che può causare un sovraccarico del buffer. Ciò può causare un attacco Denial of Service se causa una violazione di accesso o se un utente malintenzionato potrebbe inserire codice eseguibile. Provare a usare una delle alternative seguenti. [**StringCbPrintf,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfa) [**StringCbPrintfEx,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbprintfexa) [**StringCbVPrintf,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfa) [**StringCbVPrintfEx,**](/windows/desktop/api/strsafe/nf-strsafe-stringcbvprintfexa) [**StringCchPrintf,**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfa) [**StringCchPrintfEx,**](/windows/desktop/api/strsafe/nf-strsafe-stringcchprintfexa) [**StringCchVPrintf**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfa)o [**StringCchVPrintfEx.**](/windows/desktop/api/strsafe/nf-strsafe-stringcchvprintfexa)                                                                                                                                                                                                                                                                                                                                                      |



 

## <a name="related-topics"></a>Argomenti correlati

<dl> <dt>

[Microsoft Security](https://www.microsoft.com/security/)
</dt> <dt>

[Sicurezza e identità](/windows/desktop/security)
</dt> <dt>

[Indice delle modalità di sicurezza](/previous-versions/msp-n-p/ff650055(v=pandp.10))
</dt> <dt>

[Risorse per la sicurezza di TechNet](https://www.microsoft.com/technet/security/default.mspx)
</dt> <dt>

[Procedure consigliate per le API di sicurezza](/windows/desktop/SecBP/best-practices-for-the-security-apis)
</dt> </dl>

 

 