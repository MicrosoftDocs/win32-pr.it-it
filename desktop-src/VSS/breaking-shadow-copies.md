---
description: 'Un richiedente può suddividere un set di copie shadow usando il metodo IVssBackupComponents:: BreakSnapshotSet o IVssBackupComponentsEx2:: BreakSnapshotSetEx.'
ms.assetid: fb796b2f-b6fb-48ee-8d42-36f88cb165aa
title: Suddivisione delle copie shadow
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7dac84c9f45d16d8a88f9d61ad6e4c277dfad3ae
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106318906"
---
# <a name="breaking-shadow-copies"></a><span data-ttu-id="537ff-103">Suddivisione delle copie shadow</span><span class="sxs-lookup"><span data-stu-id="537ff-103">Breaking Shadow Copies</span></span>

<span data-ttu-id="537ff-104">Un richiedente può suddividere un set di copie shadow usando il metodo [**IVssBackupComponents:: BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) o [**IVssBackupComponentsEx2:: BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex) .</span><span class="sxs-lookup"><span data-stu-id="537ff-104">A requester can break a shadow copy set by using the [**IVssBackupComponents::BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**IVssBackupComponentsEx2::BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex) method.</span></span>

<span data-ttu-id="537ff-105">Una copia shadow interruppe è un volume che contiene una copia shadow non più gestita da VSS.</span><span class="sxs-lookup"><span data-stu-id="537ff-105">A broken shadow copy is a volume that contains a shadow copy that is no longer managed by VSS.</span></span> <span data-ttu-id="537ff-106">La suddivisione di una copia shadow ha un significato solo se il [*provider*](vssgloss-p.md) della copia shadow è un [*provider hardware*](vssgloss-h.md).</span><span class="sxs-lookup"><span data-stu-id="537ff-106">Breaking a shadow copy has meaning only if the shadow copy's [*provider*](vssgloss-p.md) is a [*hardware provider*](vssgloss-h.md).</span></span> <span data-ttu-id="537ff-107">Questo perché solo i provider hardware possono implementare una copia shadow come volume effettivo con un ciclo di vita indipendente da VSS.</span><span class="sxs-lookup"><span data-stu-id="537ff-107">This is because only hardware providers can implement a shadow copy as an actual volume with a life cycle independent of VSS.</span></span> <span data-ttu-id="537ff-108">Se VSS non gestisce un volume di questo tipo, è ancora disponibile.</span><span class="sxs-lookup"><span data-stu-id="537ff-108">If VSS does not manage such a volume, it still is available.</span></span>

<span data-ttu-id="537ff-109">I provider di software mantengono le copie shadow solo quando sono incluse nelle operazioni VSS.</span><span class="sxs-lookup"><span data-stu-id="537ff-109">Software providers maintain shadow copies only while involved in VSS operations.</span></span> <span data-ttu-id="537ff-110">Per questo motivo, l'infrazione di una copia shadow non ha significato per i provider di software.</span><span class="sxs-lookup"><span data-stu-id="537ff-110">For that reason, breaking a shadow copy has no meaning for software providers.</span></span>

<span data-ttu-id="537ff-111">Se la copia shadow è stata gestita da un provider hardware, il richiedente deve importare la copia shadow prima di chiamare [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) o [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex).</span><span class="sxs-lookup"><span data-stu-id="537ff-111">If the shadow copy was managed by a hardware provider, the requester must import the shadow copy before calling [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex).</span></span> <span data-ttu-id="537ff-112">Nel caso di copie shadow non trasferibili (create da un provider hardware), le copie vengono importate in modo implicito come parte della chiamata [**IVssBackupComponents::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) .</span><span class="sxs-lookup"><span data-stu-id="537ff-112">In case of non-transportable (created by a hardware provider) shadow copies, they are imported implicitly as part of the [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) call.</span></span>

<span data-ttu-id="537ff-113">Dopo che il richiedente ha chiamato [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) o [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex), il set di copie shadow è ancora accessibile tramite gli oggetti dispositivo o altri percorsi di accesso, ma non è più un set di copie shadow.</span><span class="sxs-lookup"><span data-stu-id="537ff-113">After the requester has called [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex), the shadow copy set is still accessible via its device objects or other access paths, but it is no longer a shadow copy set.</span></span> <span data-ttu-id="537ff-114">Può essere gestita come uno o più lun usando le interfacce COM del servizio dischi virtuali.</span><span class="sxs-lookup"><span data-stu-id="537ff-114">It can be managed as one or more LUNs by using the Virtual Disk Service (VDS) COM interfaces.</span></span> <span data-ttu-id="537ff-115">Utilizzando VDS, un richiedente può convertire i LUN in lettura/scrittura, montarli con lettere di unità oppure mascherarli e annullarne il mascheramento in altri computer.</span><span class="sxs-lookup"><span data-stu-id="537ff-115">Using VDS, a requester can convert the LUNs to read/write, mount them with drive letters, or mask/unmask them to other computers.</span></span> <span data-ttu-id="537ff-116">Per ulteriori informazioni, vedere la [documentazione dell'API VDS](../vds/virtual-disk-service-portal.md) .</span><span class="sxs-lookup"><span data-stu-id="537ff-116">See the [VDS API documentation](../vds/virtual-disk-service-portal.md) for more information.</span></span>

 

 
