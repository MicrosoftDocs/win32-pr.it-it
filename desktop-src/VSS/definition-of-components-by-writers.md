---
description: I componenti vengono definiti da e di cui viene creata un'istanza dal writer nel documento di metadati del writer in risposta a un evento di identificazione all'inizio di un'operazione di backup (vedere Panoramica dell'inizializzazione del backup) quando il documento di metadati del writer viene popolato.
ms.assetid: 5e1c3f9b-ca83-4e70-963b-0a237c6f4b0d
title: Definizione dei componenti per Writer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa5383e9bc87620f23bb2a3ab067c1913a323782
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103885406"
---
# <a name="definition-of-components-by-writers"></a><span data-ttu-id="8ac28-103">Definizione dei componenti per Writer</span><span class="sxs-lookup"><span data-stu-id="8ac28-103">Definition of Components by Writers</span></span>

<span data-ttu-id="8ac28-104">I componenti vengono definiti da e di cui viene creata un'istanza dal writer nel documento di metadati del writer in risposta a un [*evento di identificazione*](vssgloss-i.md) all'inizio di un'operazione di backup (vedere [Panoramica dell'inizializzazione del backup](overview-of-backup-initialization.md)) quando il documento di metadati del writer viene popolato.</span><span class="sxs-lookup"><span data-stu-id="8ac28-104">Components are defined by and instantiated by writers in their Writer Metadata Document in response to an [*Identify event*](vssgloss-i.md) at the start of a backup operation (see [Overview of Backup Initialization](overview-of-backup-initialization.md)) when the Writer Metadata Document is populated.</span></span>

<span data-ttu-id="8ac28-105">Quando si crea un componente nel documento di metadati del writer, usando [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) e [**IVssCreateWriterMetadata:: AddComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addcomponent), un writer deve specificare:</span><span class="sxs-lookup"><span data-stu-id="8ac28-105">When creating a component in its Writer Metadata Document, using [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) and [**IVssCreateWriterMetadata::AddComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addcomponent), a writer must specify:</span></span>

-   <span data-ttu-id="8ac28-106">Indica se il componente è [ *selezionabile per il backup*](vssgloss-s.md)</span><span class="sxs-lookup"><span data-stu-id="8ac28-106">Whether the component is [*selectable for backup*](vssgloss-s.md)</span></span>
-   <span data-ttu-id="8ac28-107">Tipo di componente</span><span class="sxs-lookup"><span data-stu-id="8ac28-107">A component type</span></span>
-   <span data-ttu-id="8ac28-108">Nome del componente (che deve essere univoco non solo all'interno di un' [*istanza di writer*](vssgloss-w.md) specificata, ma in tutte le istanze del writer)</span><span class="sxs-lookup"><span data-stu-id="8ac28-108">A component name (which must be unique not only within a given [*writer instance*](vssgloss-w.md) but across all writer instances)</span></span>
-   <span data-ttu-id="8ac28-109">Indica se al componente sono associati metadati specifici del writer</span><span class="sxs-lookup"><span data-stu-id="8ac28-109">Whether the component has any writer-specific metadata associated with it</span></span>
-   <span data-ttu-id="8ac28-110">Indica se il writer richiede una notifica dopo un backup completato</span><span class="sxs-lookup"><span data-stu-id="8ac28-110">Whether the writer requires notification following a successful backup</span></span>

<span data-ttu-id="8ac28-111">I writer possono facoltativamente specificare:</span><span class="sxs-lookup"><span data-stu-id="8ac28-111">Writers can optionally specify:</span></span>

-   <span data-ttu-id="8ac28-112">[*Percorso logico*](vssgloss-l.md) di un componente (che deve essere univoco non solo all'interno di un'istanza di writer specificata, ma in tutte le istanze del writer)</span><span class="sxs-lookup"><span data-stu-id="8ac28-112">A component's [*logical path*](vssgloss-l.md) (which must be unique not only within a given writer instance but across all writer instances)</span></span>
-   <span data-ttu-id="8ac28-113">Descrizione o didascalia di un componente</span><span class="sxs-lookup"><span data-stu-id="8ac28-113">A component description (or caption)</span></span>
-   <span data-ttu-id="8ac28-114">Icona da usare con le GUI per indicare il componente</span><span class="sxs-lookup"><span data-stu-id="8ac28-114">An icon to be used with GUIs to indicate the component</span></span>

<span data-ttu-id="8ac28-115">Non è necessario che un componente contenga effettivamente alcun file.</span><span class="sxs-lookup"><span data-stu-id="8ac28-115">It is not necessary for a component to actually contain any files.</span></span> <span data-ttu-id="8ac28-116">Questo tipo di componente vuoto o "fittizio" può essere utile per organizzare i componenti.</span><span class="sxs-lookup"><span data-stu-id="8ac28-116">This sort of empty or "dummy" component can be useful in organizing components.</span></span> <span data-ttu-id="8ac28-117">Tale componente può essere utilizzato per definire un [*set di componenti*](vssgloss-c.md) e un componente del writer (vedere il [percorso logico dei componenti](logical-pathing-of-components.md)).</span><span class="sxs-lookup"><span data-stu-id="8ac28-117">Such a component can be used to define a [*component set*](vssgloss-c.md) and a writer's component (see [Logical Pathing of Components](logical-pathing-of-components.md)).</span></span>

## <a name="setting-up-component-organization"></a><span data-ttu-id="8ac28-118">Configurazione dell'organizzazione di componenti</span><span class="sxs-lookup"><span data-stu-id="8ac28-118">Setting Up Component Organization</span></span>

<span data-ttu-id="8ac28-119">L'impostazione della [*selezione*](vssgloss-s.md) di un componente (la relativa [*selezione per il backup*](vssgloss-s.md)e la relativa [*selezione per il ripristino*](/windows)) e i relativi [*percorsi logici*](vssgloss-l.md) consentono a un writer di richiedere o rendere facoltativo l'inclusione di determinati componenti in un'operazione di backup o ripristino e di raggruppare i componenti in [*set*](vssgloss-c.md) di componenti con un componente selezionabile che funge da punto di ingresso per l'intero gruppo.</span><span class="sxs-lookup"><span data-stu-id="8ac28-119">Setting a component's [*selectability*](vssgloss-s.md) (its [*selectability for backup*](vssgloss-s.md), and its [*selectability for restore*](/windows)) and its [*logical paths*](vssgloss-l.md) allows a writer to mandate or make optional the inclusion of certain components in a backup or restore operation, and to group components into [*component sets*](vssgloss-c.md) with one selectable component acting as an entry point to the whole group.</span></span>

<span data-ttu-id="8ac28-120">L'appartenenza a questi raggruppamenti determina quali componenti verranno utilizzati durante le operazioni di backup e ripristino.</span><span class="sxs-lookup"><span data-stu-id="8ac28-120">Membership in these groupings determines which components will be used during backup and restore operations.</span></span> <span data-ttu-id="8ac28-121">Utilizzando "selezionabile" per indicare selezionabile per indietro per l'operazione di backup e selezionabile per il ripristino per l'operazione di ripristino, gli sviluppatori devono comprendere quanto segue:</span><span class="sxs-lookup"><span data-stu-id="8ac28-121">Using "selectable" to mean selectable for back for backup operation, and selectable for restore for restore operation, developers should understand that:</span></span>

-   <span data-ttu-id="8ac28-122">Se viene eseguito il backup di tutti i componenti gestiti da un determinato writer, un richiedente deve [*includere in modo esplicito*](vssgloss-e.md) tutti i [*componenti*](vssgloss-c.md) non selezionabili senza predecessori selezionabili nel [*percorso logico*](vssgloss-l.md) del documento componenti di backup ed eseguire il backup e il ripristino di tali componenti come gruppo.</span><span class="sxs-lookup"><span data-stu-id="8ac28-122">If any components managed by a given writer are backed up, then a requester must [*explicitly include*](vssgloss-e.md) all nonselectable [*components*](vssgloss-c.md) without selectable ancestors in their [*logical path*](vssgloss-l.md) to the Backup Components Document and back up and restore those components as a group.</span></span>
-   <span data-ttu-id="8ac28-123">Un richiedente può aggiungere esplicitamente componenti selezionabili al documento dei componenti di backup durante le operazioni di backup e ripristino. una volta aggiunto, il componente deve essere sottoposto a backup o ripristino.</span><span class="sxs-lookup"><span data-stu-id="8ac28-123">A requester has the option of explicitly adding selectable components to the Backup Components Document during backup and restore operations; once added, the component must be backed up or restored.</span></span>
-   <span data-ttu-id="8ac28-124">Se un componente è selezionabile, il componente e tutti i relativi [*sottocomponenti*](vssgloss-s.md) (definiti da percorsi logici) formano un set di componenti, che può essere considerato come una singola unità che può eventualmente partecipare alle operazioni di backup e ripristino.</span><span class="sxs-lookup"><span data-stu-id="8ac28-124">If a component is selectable, the component and all of its [*subcomponents*](vssgloss-s.md) (as defined by logical paths) form a component set, which can be treated as a single unit that may optionally participate in backup and restore operations.</span></span>
-   <span data-ttu-id="8ac28-125">Un richiedente non aggiunge mai esplicitamente un componente non selezionabile con i predecessori selezionabili, un sottocomponente di un set di componenti, al documento relativo ai componenti di backup durante le operazioni di backup e ripristino.</span><span class="sxs-lookup"><span data-stu-id="8ac28-125">A requester never explicitly adds a nonselectable component with selectable ancestors, a subcomponent in a component set, to its Backup Components Document during backup and restore operations.</span></span> <span data-ttu-id="8ac28-126">Questi componenti devono essere [*inclusi in modo implicito*](/windows) se il relativo predecessore selezionabile viene aggiunto in modo esplicito, nel qual caso è necessario eseguirne il backup o il ripristino (vedere [uso dei componenti da parte del richiedente](use-of-components-by-the-requestor.md)).</span><span class="sxs-lookup"><span data-stu-id="8ac28-126">These components must be [*implicitly included*](/windows) if their selectable ancestor is explicitly added, in which case they must be backed up or restored (see [Use of Components by the Requester](use-of-components-by-the-requestor.md)).</span></span>
-   <span data-ttu-id="8ac28-127">Un componente selezionabile con un predecessore selezionabile è ancora un [*sottocomponente*](vssgloss-s.md) (membro di un set di componenti) e può essere incluso in modo implicito se il relativo predecessore selezionabile è incluso in modo esplicito nell'operazione.</span><span class="sxs-lookup"><span data-stu-id="8ac28-127">A selectable component with a selectable ancestor is still a [*subcomponent*](vssgloss-s.md) (a member of a component set) and may be implicitly included if its selectable ancestor is explicitly included in the operation.</span></span> <span data-ttu-id="8ac28-128">In questo caso, le informazioni non vengono aggiunte al documento componenti di backup.</span><span class="sxs-lookup"><span data-stu-id="8ac28-128">In this case, its information is not added to the Backup Components Document.</span></span> <span data-ttu-id="8ac28-129">Se il predecessore selezionabile non è incluso nell'operazione, il componente può essere selezionato in modo esplicito per l'inclusione nell'operazione, nel qual caso le informazioni sono incluse nel documento componenti di backup.</span><span class="sxs-lookup"><span data-stu-id="8ac28-129">If its selectable ancestor is not included in the operation, the component can be explicitly selected for inclusion in the operation, in which case its information is included in the Backup Components Document.</span></span>
-   <span data-ttu-id="8ac28-130">Un sottocomponente incluso in modo implicito in un backup può essere incluso in modo esplicito in un'operazione di ripristino, indipendentemente dallo stato di qualsiasi predecessore selezionabile, se è selezionabile per il ripristino.</span><span class="sxs-lookup"><span data-stu-id="8ac28-130">A subcomponent implicitly included in a backup can be explicitly included in a restore operation, regardless of the status of any selectable ancestor, if it is selectable for restore.</span></span> <span data-ttu-id="8ac28-131">Eventuali sottocomponenti selezionabili per il ripristino inclusi durante un'operazione di ripristino devono includere le informazioni aggiunte al documento componenti di backup.</span><span class="sxs-lookup"><span data-stu-id="8ac28-131">Any selectable for restore subcomponent included during a restore operation must have its information added to the Backup Components Document.</span></span>
-   <span data-ttu-id="8ac28-132">Un writer privo di componente aggiunto in modo esplicito al documento componenti di backup prima della generazione di [*PrepareForBackup*](vssgloss-p.md) e gli eventi di [*preripristino*](vssgloss-p.md) non riceveranno altri eventi VSS.</span><span class="sxs-lookup"><span data-stu-id="8ac28-132">A writer that has had no component explicitly added to the Backup Components Document prior to the generation of [*PrepareForBackup*](vssgloss-p.md) and [*PreRestore*](vssgloss-p.md) events will not receive any further VSS events.</span></span>

<span data-ttu-id="8ac28-133">Per ulteriori informazioni, vedere [utilizzo della selezione e dei percorsi logici](working-with-selectability-and-logical-paths.md).</span><span class="sxs-lookup"><span data-stu-id="8ac28-133">For more information, see [Working with Selectability and Logical Paths](working-with-selectability-and-logical-paths.md).</span></span>

## <a name="adding-files-to-a-component"></a><span data-ttu-id="8ac28-134">Aggiunta di file a un componente</span><span class="sxs-lookup"><span data-stu-id="8ac28-134">Adding Files to a Component</span></span>

<span data-ttu-id="8ac28-135">Un componente contiene informazioni sui file nel formato di un [*set di file*](vssgloss-f.md) contenente:</span><span class="sxs-lookup"><span data-stu-id="8ac28-135">A component contains file information in the form of a [*file set*](vssgloss-f.md) that contains:</span></span>

-   <span data-ttu-id="8ac28-136">Una directory radice dei file nel componente.</span><span class="sxs-lookup"><span data-stu-id="8ac28-136">A root directory of the files in the component.</span></span>
-   <span data-ttu-id="8ac28-137">Specifica di file per i file nel componente.</span><span class="sxs-lookup"><span data-stu-id="8ac28-137">A file specification for the files in the component.</span></span>
-   <span data-ttu-id="8ac28-138">Flag che indica se la specifica del componente è ricorsiva.</span><span class="sxs-lookup"><span data-stu-id="8ac28-138">A flag that indicates whether the component's specification is recursive.</span></span>

<span data-ttu-id="8ac28-139">A seconda del tipo di componente, che può essere un database o un gruppo di file e (nel caso di componenti di database) se i file da caricare sono file di dati o di log, un writer chiama [**IVssCreateWriterMetadata:: AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup), [**IVssCreateWriterMetadata:: AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles)o [**IVssCreateWriterMetadata:: AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) per aggiungere un set di file.</span><span class="sxs-lookup"><span data-stu-id="8ac28-139">Depending on component type, which can be a database or a file group, and (in the case of database components) whether the files to be loaded are data or log files, a writer calls [**IVssCreateWriterMetadata::AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup), [**IVssCreateWriterMetadata::AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), or [**IVssCreateWriterMetadata::AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) to add a file set.</span></span>

<span data-ttu-id="8ac28-140">Quando si usano queste funzioni, è necessario specificare i file da aggiungere al set di file come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="8ac28-140">When using these functions, you should specify the files to be added to the file set as follows:</span></span>

-   <span data-ttu-id="8ac28-141">*wszPath*: percorso della directory che contiene i file da aggiungere al set di file.</span><span class="sxs-lookup"><span data-stu-id="8ac28-141">*wszPath*: This is the path to the directory that contains the files to be added to the file set.</span></span> <span data-ttu-id="8ac28-142">Se il parametro *bRecursive* è impostato su **true**, il parametro *wszPath* specifica una gerarchia di directory da attraversare in modo ricorsivo e tutte le directory devono essere ricreate, incluse le directory vuote.</span><span class="sxs-lookup"><span data-stu-id="8ac28-142">If the *bRecursive* parameter is set to **true**, the *wszPath* parameter specifies a hierarchy of directories to be traversed recursively, and all directories should be recreated, including empty directories.</span></span>
-   <span data-ttu-id="8ac28-143">*wszFilespec*: questa stringa specifica i file in ogni directory da aggiungere al set di file.</span><span class="sxs-lookup"><span data-stu-id="8ac28-143">*wszFilespec*: This string specifies the files in each directory to be added to the file set.</span></span>

<span data-ttu-id="8ac28-144">Si supponga, ad esempio, che esista la struttura di directory seguente:</span><span class="sxs-lookup"><span data-stu-id="8ac28-144">For example, suppose the following directory structure exists:</span></span>

<dl> <span data-ttu-id="8ac28-145">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-145">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="8ac28-146">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-146">C:\\Directory1\\File2.txt</span></span>  
<span data-ttu-id="8ac28-147">C: \\ directory1 \\ directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-147">C:\\Directory1\\Directory2\\File1.txt</span></span>  
<span data-ttu-id="8ac28-148">C: \\ directory1 \\ directory2 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-148">C:\\Directory1\\Directory2\\File2.txt</span></span>  
<span data-ttu-id="8ac28-149">C: \\ directory1 \\ Directory3</span><span class="sxs-lookup"><span data-stu-id="8ac28-149">C:\\Directory1\\Directory3</span></span>\\  
</dl>

<span data-ttu-id="8ac28-150">Se il writer specifica "C: \\ directory1" per *wszPath*, "file1. \* " per *wszFilespec* e **true** per *bRecursive*, il richiedente deve includere questi file:</span><span class="sxs-lookup"><span data-stu-id="8ac28-150">If the writer specifies "C:\\Directory1" for *wszPath*, "File1.\*" for *wszFilespec*, and **true** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="8ac28-151">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-151">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="8ac28-152">C: \\ directory1 \\ directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-152">C:\\Directory1\\Directory2\\File1.txt</span></span>  
</dl>

<span data-ttu-id="8ac28-153">Se invece il writer specifica "C: \\ directory1" per *wszPath*, " \* " per *wszFilespec* e **true** per *bRecursive*, il richiedente deve includere questi file:</span><span class="sxs-lookup"><span data-stu-id="8ac28-153">If the writer instead specifies "C:\\Directory1" for *wszPath*, "\*" for *wszFilespec*, and **true** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="8ac28-154">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-154">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="8ac28-155">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-155">C:\\Directory1\\File2.txt</span></span>  
<span data-ttu-id="8ac28-156">C: \\ directory1 \\ directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-156">C:\\Directory1\\Directory2\\File1.txt</span></span>  
<span data-ttu-id="8ac28-157">C: \\ directory1 \\ directory2 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-157">C:\\Directory1\\Directory2\\File2.txt</span></span>  
</dl>

<span data-ttu-id="8ac28-158">Se il writer specifica "C: \\ directory1" per *wszPath*, " \* " per *wszFilespec* e **false** per *bRecursive*, il richiedente deve includere questi file:</span><span class="sxs-lookup"><span data-stu-id="8ac28-158">If the writer specifies "C:\\Directory1" for *wszPath*, "\*" for *wszFilespec*, and **false** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="8ac28-159">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-159">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="8ac28-160">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="8ac28-160">C:\\Directory1\\File2.txt</span></span>  
</dl>

<span data-ttu-id="8ac28-161">In tutti gli esempi precedenti, ogni volta che il writer specifica **true** per *bRecursive*, \\ \\ \\ è necessario ricreare la directory vuota C: directory1 Directory3.</span><span class="sxs-lookup"><span data-stu-id="8ac28-161">In all of the preceding examples, whenever the writer specifies **true** for *bRecursive*, the empty directory C:\\Directory1\\Directory3\\ should be recreated.</span></span>

<span data-ttu-id="8ac28-162">Per un set di file aggiunto a un componente del gruppo di file, nei casi in cui i file attualmente presenti sul disco non sono in quello che il writer considererà il percorso appropriato o predefinito, un writer può scegliere di aggiungere un percorso alternativo.</span><span class="sxs-lookup"><span data-stu-id="8ac28-162">For a file set added to a file group component, in cases where files currently on disk are not in what the writer would consider the appropriate or default location, a writer has the option of adding an alternate path.</span></span> <span data-ttu-id="8ac28-163">In questi casi, la definizione del set di file del percorso contiene la posizione normale dei file e la posizione in cui devono essere ripristinati i file, mentre il percorso alternativo contiene il percorso corrente dei file di cui eseguire il backup.</span><span class="sxs-lookup"><span data-stu-id="8ac28-163">In these cases, the file set's definition of the path contains the normal location of the files and to where files should be restored, while the alternate path contains the current location of files to be backed up.</span></span>

<span data-ttu-id="8ac28-164">Tutti i file del set di file devono esistere al momento del backup.</span><span class="sxs-lookup"><span data-stu-id="8ac28-164">All files in the file set must exist at the time of the backup.</span></span> <span data-ttu-id="8ac28-165">I richiedenti devono presupporre che tutti i file elencati nel set di file siano necessari per il backup e non riusciranno a eseguire il backup se mancano alcuni file.</span><span class="sxs-lookup"><span data-stu-id="8ac28-165">Requesters must assume that all files listed in the file set are required for the backup and will fail the backup if any files are missing.</span></span> <span data-ttu-id="8ac28-166">Si noti che quando \* si specifica "" per il parametro *wszFilespec* , può corrispondere a zero o a più file.</span><span class="sxs-lookup"><span data-stu-id="8ac28-166">Note that when "\*" is specified for the *wszFilespec* parameter, it can match zero or more files.</span></span>

<span data-ttu-id="8ac28-167">Si noti che tali attributi del documento di metadati del writer come mapping di percorsi alternativi, file inclusi ed esclusi in modo esplicito e metodi di ripristino vengono impostati a livello di writer, non a livello di componente.</span><span class="sxs-lookup"><span data-stu-id="8ac28-167">Note that such Writer Metadata Document attributes as alternate location mappings, explicitly included and excluded files, and restore methods are set at the writer level, not the component level.</span></span> <span data-ttu-id="8ac28-168">Per ulteriori informazioni, vedere [utilizzo del documento di metadati del writer](working-with-the-writer-metadata-document.md).</span><span class="sxs-lookup"><span data-stu-id="8ac28-168">(For more information, see [Working with the Writer Metadata Document](working-with-the-writer-metadata-document.md).)</span></span>

## <a name="component-definition-for-backup-and-restore-operations"></a><span data-ttu-id="8ac28-169">Definizione del componente per le operazioni di backup e ripristino</span><span class="sxs-lookup"><span data-stu-id="8ac28-169">Component Definition for Backup and Restore Operations</span></span>

<span data-ttu-id="8ac28-170">Sia le operazioni di ripristino che quelle di backup generano necessariamente un [*evento di identificazione*](vssgloss-i.md)e, per i backup e i ripristini, verranno gestite dallo stesso metodo [**CVssWriter:: onidentifi**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) .</span><span class="sxs-lookup"><span data-stu-id="8ac28-170">Both restore and backup operations necessarily generate an [*Identify event*](vssgloss-i.md), and for both backups and restores it will be handled by the same [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) method.</span></span>

<span data-ttu-id="8ac28-171">Durante le operazioni di backup, i richiedenti utilizzano le informazioni restituite dai metodi [**CVssWriter:: Onidentifi**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) del writer per determinare quali sono i writer presenti nel sistema e quindi determinare quale dei file eseguire il backup.</span><span class="sxs-lookup"><span data-stu-id="8ac28-171">During backup operations, requesters use the information returned by a writer's [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) methods to determine which writers are present on the system and then to determine which of their files to back up.</span></span>

<span data-ttu-id="8ac28-172">Durante le operazioni di ripristino, le informazioni restituite dall'evento [**CVssWriter:: Onidentifi**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) del writer vengono utilizzate solo per stabilire l'identità e lo stato dei writer attualmente presenti nel sistema. le informazioni sulle specifiche del file generate durante un ripristino non vengono utilizzate.</span><span class="sxs-lookup"><span data-stu-id="8ac28-172">During restore operations, the information returned by a writer's [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) event is used only to establish the identity and status of writers currently present on the system; the file specification information generated during a restore is not used.</span></span> <span data-ttu-id="8ac28-173">Al contrario, per ottenere questi dati vengono utilizzati i documenti di metadati del writer archiviati in fase di backup.</span><span class="sxs-lookup"><span data-stu-id="8ac28-173">Instead, Writer Metadata Documents stored at backup time are used to obtain this data.</span></span>

<span data-ttu-id="8ac28-174">Una volta generati durante un'operazione di backup, le informazioni sul componente writer, insieme al resto delle informazioni del writer, vengono salvate per essere recuperate per supportare le operazioni di ripristino.</span><span class="sxs-lookup"><span data-stu-id="8ac28-174">Once generated during a backup operation, the writer component information, along with the rest of the writer information, is saved to be retrieved to support restore operations.</span></span> <span data-ttu-id="8ac28-175">In genere è responsabilità del richiedente archiviare queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="8ac28-175">It is typically the responsibility of the requester to store this information.</span></span>

 

 
