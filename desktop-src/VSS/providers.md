---
description: I provider gestiscono i volumi in esecuzione e creano copie shadow di questi ultimi su richiesta.
ms.assetid: 4e6b46b0-df9e-4458-b0ac-e237d7656337
title: Provider
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bb336dbb51fcbd715ea236ecdc0c62d81daf29d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106310681"
---
# <a name="providers"></a><span data-ttu-id="5c0d9-103">Provider</span><span class="sxs-lookup"><span data-stu-id="5c0d9-103">Providers</span></span>

<span data-ttu-id="5c0d9-104">I [*provider*](vssgloss-p.md) gestiscono i volumi in esecuzione e creano copie shadow di questi ultimi su richiesta.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-104">[*Providers*](vssgloss-p.md) manage running volumes and create the shadow copies of them on demand.</span></span>

<span data-ttu-id="5c0d9-105">In risposta a una richiesta di un richiedente, un provider genera eventi COM per segnalare le applicazioni di una copia shadow in arrivo, quindi crea e gestisce tale copia fino a quando non è più necessaria.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-105">In response to a request from a requester, a provider generates COM events to signal applications of a coming shadow copy, then creates and maintains that copy until it is no longer needed.</span></span>

<span data-ttu-id="5c0d9-106">Mentre è in esecuzione una copia shadow, il provider crea un ambiente in cui sono effettivamente presenti due copie indipendenti di qualsiasi volume di cui è stata eseguita la copia shadow: uno del disco in uso e aggiornato normalmente, l'altra copia che è fissa e stabile per il backup.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-106">While a shadow copy is in existence, the provider creates an environment where there are effectively two independent copies of any volume that has been shadow copied: one the running disk being used and updated as normal, the other a copy that is disk fixed and stable for backup.</span></span>

<span data-ttu-id="5c0d9-107">Mentre un provider predefinito viene fornito come parte di Windows, altri fornitori sono liberi di fornire le proprie implementazioni ottimizzate per le proprie offerte hardware e software di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-107">While a default provider is supplied as part of Windows, other vendors are free to supply their own implementations that are optimized for their own storage hardware and software offerings.</span></span>

<span data-ttu-id="5c0d9-108">Dal punto di vista di un utente finale o di uno sviluppatore di applicazioni di backup/ripristino, tutti i provider avranno la stessa interfaccia (vedere [selezione dei provider](selecting-providers.md)).</span><span class="sxs-lookup"><span data-stu-id="5c0d9-108">From the point of view of an end-user or backup/restore application developer, all providers will have the same interface (see [Selecting Providers](selecting-providers.md)).</span></span>

<span data-ttu-id="5c0d9-109">Tutti i provider devono essere in grado di eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5c0d9-109">All providers must be able to do the following:</span></span>

-   <span data-ttu-id="5c0d9-110">Intercettare le richieste di I/O tra il file system e il sistema di archiviazione di massa sottostante.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-110">Intercept I/O requests between the file system and the underlying mass storage system.</span></span>
-   <span data-ttu-id="5c0d9-111">Acquisire e recuperare lo stato di un volume al momento della copia shadow, mantenendo una visualizzazione "temporizzata" dei file sul disco senza operazioni di I/O parziali riflesse nello stato.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-111">Capture and retrieve the status of a volume at the time of shadow copy, maintaining a "point in time" view of the files on the disk with no partial I/O operations reflected in its state.</span></span>
-   <span data-ttu-id="5c0d9-112">Usare questa visualizzazione "temporizzata" per esporre (al minimo per le applicazioni abilitate per VSS) un volume virtuale contenente i dati copiati dall'ombreggiatura.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-112">Use this "point in time" view to expose (minimally to VSS-enabled applications) a virtual volume containing the shadow copied data.</span></span>

<span data-ttu-id="5c0d9-113">A seconda di come viene eseguita questa operazione, un provider può essere uno dei tre tipi seguenti:</span><span class="sxs-lookup"><span data-stu-id="5c0d9-113">Depending on how this is done, a provider can be one of three types:</span></span>

-   [<span data-ttu-id="5c0d9-114">Provider di sistema</span><span class="sxs-lookup"><span data-stu-id="5c0d9-114">System Provider</span></span>](#system-provider)
-   [<span data-ttu-id="5c0d9-115">Provider di software</span><span class="sxs-lookup"><span data-stu-id="5c0d9-115">Software Providers</span></span>](#software-providers)
-   [<span data-ttu-id="5c0d9-116">Provider hardware</span><span class="sxs-lookup"><span data-stu-id="5c0d9-116">Hardware Providers</span></span>](#hardware-providers)

## <a name="system-provider"></a><span data-ttu-id="5c0d9-117">Provider di sistema</span><span class="sxs-lookup"><span data-stu-id="5c0d9-117">System Provider</span></span>

<span data-ttu-id="5c0d9-118">Un provider di copia shadow, il [*provider di sistema*](vssgloss-s.md), viene fornito come parte predefinita di un'installazione del sistema operativo Windows.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-118">One shadow copy provider, the [*system provider*](vssgloss-s.md), is supplied as a default part of a Windows operating system installation.</span></span> <span data-ttu-id="5c0d9-119">Attualmente, il provider di sistema è una particolare istanza di un provider di software.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-119">Currently, the system provider is a particular instance of a software provider.</span></span> <span data-ttu-id="5c0d9-120">Tuttavia, questo potrebbe cambiare in futuro.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-120">However, this may change in the future.</span></span>

<span data-ttu-id="5c0d9-121">Per mantenere una visualizzazione temporizzata di un volume contenuto nella copia shadow, il provider di sistema utilizza una tecnica copy-on-Write.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-121">To maintain a "point in time" view of a volume contained in the shadow copy, the system provider uses a copy-on-write technique.</span></span> <span data-ttu-id="5c0d9-122">Le copie dei settori sul disco che sono state modificate, denominate "diffs", dall'inizio della creazione della copia shadow vengono archiviate in un'area di archiviazione della copia shadow.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-122">Copies of the sectors on disk that have been modified (called "diffs") since the beginning of the shadow copy creation are stored in a shadow copy storage area.</span></span>

<span data-ttu-id="5c0d9-123">Pertanto, il provider di sistema può esporre il volume Live, che può essere scritto e letto normalmente, e applicare le "diff" ai dati del volume attivo per esporre efficacemente i dati bloccati della copia shadow.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-123">Therefore, the system provider can expose the live volume, which can be written to and read from normally, and apply the "diffs" to the live volume's data to effectively expose the frozen data of the shadow copy.</span></span>

<span data-ttu-id="5c0d9-124">Per il provider di sistema, l'area di archiviazione della copia shadow deve trovarsi in un volume NTFS.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-124">For the system provider, the shadow copy storage area must be on an NTFS volume.</span></span> <span data-ttu-id="5c0d9-125">Non è necessario che il volume per cui eseguire la copia shadow sia un volume NTFS, ma almeno un volume montato nel sistema deve essere un volume NTFS.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-125">The volume to be shadow copied does not need to be an NTFS volume, but at least one volume mounted on the system must be an NTFS volume.</span></span>

## <a name="software-providers"></a><span data-ttu-id="5c0d9-126">Provider di software</span><span class="sxs-lookup"><span data-stu-id="5c0d9-126">Software Providers</span></span>

<span data-ttu-id="5c0d9-127">I provider di copie shadow software intercettano ed elaborano le richieste di I/O in un livello software tra il file system e il software di gestione dei volumi.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-127">Software shadow copy providers intercept and process I/O requests in a software layer between the file system and the volume manager software.</span></span> <span data-ttu-id="5c0d9-128">Questi provider vengono implementati come un componente DLL in modalità utente e almeno un driver di dispositivo in modalità kernel, in genere, ma non necessariamente, un driver del filtro di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-128">These providers are implemented as a user-mode DLL component and at least one kernel-mode device driver, typically (but not necessarily) a storage filter driver.</span></span> <span data-ttu-id="5c0d9-129">Il lavoro di creazione di queste copie shadow viene eseguito nel software.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-129">The work of creating these shadow copies is done in software.</span></span>

<span data-ttu-id="5c0d9-130">Un provider di copia shadow software deve mantenere una visualizzazione temporizzata di un volume con accesso a un set di file che possono essere usati per ricreare accuratamente lo stato del volume prima della copia shadow.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-130">A software shadow copy provider must maintain a "point-in-time" view of a volume by having access to a set of files that can be used to accurately re-create volume status prior to the shadow copy.</span></span> <span data-ttu-id="5c0d9-131">Un esempio è la tecnica copy-on-Write del provider di sistema.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-131">An example of this is the copy-on-write technique of the system provider.</span></span>

<span data-ttu-id="5c0d9-132">Tuttavia, il servizio Copia Shadow del volume non impone alcuna restrizione sulla tecnica utilizzata dai provider di software per creare e gestire copie shadow e i fornitori di terze parti possono implementare i propri provider di software nel modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-132">However, VSS places no restrictions on what technique that software providers use to create and maintain shadow copies, and third-party vendors are free to implement their software providers as they see fit.</span></span>

<span data-ttu-id="5c0d9-133">VSS fornisce inoltre supporto per la maggior parte delle funzionalità dei provider di copie shadow software, ad esempio la definizione del punto nel tempo, la sincronizzazione e lo scaricamento dei dati, fornendo un'interfaccia comune per le applicazioni di backup e la gestione della copia shadow.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-133">In addition, VSS provides support for much of the functionality of software shadow copy providers, such as defining the point-in-time, data synchronization and flushing, providing a common interface for backup applications, and management of the shadow copy.</span></span>

<span data-ttu-id="5c0d9-134">Un provider di software, per definizione, sarà applicabile a una gamma più ampia di piattaforme di archiviazione rispetto a un provider hardware e dovrebbe essere in grado di lavorare anche con i dischi di base o i volumi logici.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-134">A software provider will, by definition, be applicable to a wider range of storage platforms than a hardware provider, and should be able to work with basic disks or logical volumes equally well.</span></span> <span data-ttu-id="5c0d9-135">Questa generalità sacrifica le prestazioni che possono essere disponibili implementando copie shadow in hardware e non utilizza le funzionalità di acquisizione di volumi o di mirroring dei file specifiche del fornitore.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-135">This generality sacrifices the performance that may be available by implementing shadow copies in hardware and does not make use of any vendor-specific volume capture or file mirroring features.</span></span>

## <a name="hardware-providers"></a><span data-ttu-id="5c0d9-136">Provider hardware</span><span class="sxs-lookup"><span data-stu-id="5c0d9-136">Hardware Providers</span></span>

<span data-ttu-id="5c0d9-137">I provider di copie shadow hardware intercettano le richieste di I/O dal file system a livello hardware lavorando insieme a un adattatore o a un controller di archiviazione hardware.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-137">Hardware shadow copy providers intercept I/O requests from the file system at the hardware level by working in conjunction with a hardware storage adapter or controller.</span></span> <span data-ttu-id="5c0d9-138">Il lavoro di creazione della copia shadow viene eseguito da un adattatore host, un dispositivo di archiviazione o un controller RAID esterno al sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-138">The work of creating the shadow copy is performed by a host adapter, storage appliance, or RAID controller outside of the operating system.</span></span>

<span data-ttu-id="5c0d9-139">Questi provider sono implementati come componente DLL in modalità utente che comunica con l'hardware che esporrà i dati della copia shadow: pertanto, è possibile che i provider di copie shadow hardware debbano chiamare o creare altri componenti in modalità kernel.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-139">These providers are implemented as a user-mode DLL component communicating with the hardware that will expose the shadow copy data: therefore, hardware shadow copy providers may need to call or create other kernel-mode components.</span></span>

<span data-ttu-id="5c0d9-140">I provider hardware vengono esposti a copie shadow VSS di interi dischi o unità logiche (lun).</span><span class="sxs-lookup"><span data-stu-id="5c0d9-140">Hardware providers expose to VSS shadow copies of entire disks or logical units (LUNs).</span></span> <span data-ttu-id="5c0d9-141">I richiedenti continuano a gestire copie shadow dei volumi; tutto il mapping da volume a disco viene gestito internamente dal servizio Copia Shadow del volume.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-141">Requesters still deal with shadow copies of volumes; all the volume-to-disk mapping is handled internally by VSS.</span></span> <span data-ttu-id="5c0d9-142">Le copie shadow create da provider hardware di volumi che risiedono su dischi dinamici hanno un requisito specifico, ovvero non possono essere importate nello stesso sistema.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-142">Shadow copies created by hardware providers of volumes that reside on dynamic disks have a specific requirement:  They cannot be imported onto the same system.</span></span> <span data-ttu-id="5c0d9-143">Devono essere creati trasportabili e importati in un secondo sistema.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-143">They must be created transportable and imported on a second system.</span></span>

<span data-ttu-id="5c0d9-144">Mentre un provider di copia shadow hardware utilizza la funzionalità VSS che definisce il punto nel tempo, consente la sincronizzazione dei dati, gestisce la copia shadow e fornisce un'interfaccia comune con le applicazioni di backup, VSS non specifica il meccanismo sottostante in base al quale il provider hardware produce e gestisce le copie shadow.</span><span class="sxs-lookup"><span data-stu-id="5c0d9-144">While a hardware shadow copy provider makes use of VSS functionality that defines the point in time, allows data synchronization, manages the shadow copy, and provides a common interface with backup applications, VSS does not specify the underlying mechanism by which the hardware provider produces and maintains shadow copies.</span></span>

 

 



