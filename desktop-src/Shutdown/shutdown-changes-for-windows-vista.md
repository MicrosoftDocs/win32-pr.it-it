---
description: Nella tabella seguente sono riepilogate le differenze tra l'arresto di Windows Vista e Windows XP.
ms.assetid: da7985d2-85c8-47e1-a172-c9e92f450e24
title: Modifiche di arresto per Windows Vista
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6e04bb20099349ce378384cf01c39e53ca03a896
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104050069"
---
# <a name="shutdown-changes-for-windows-vista"></a><span data-ttu-id="fd0a1-103">Modifiche di arresto per Windows Vista</span><span class="sxs-lookup"><span data-stu-id="fd0a1-103">Shutdown Changes for Windows Vista</span></span>

<span data-ttu-id="fd0a1-104">Nella tabella seguente sono riepilogate le differenze tra l'arresto di Windows Vista e Windows XP.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-104">The following table summarizes the differences between shutdown on Windows Vista and Windows XP.</span></span>



| <span data-ttu-id="fd0a1-105">Funzionalità</span><span class="sxs-lookup"><span data-stu-id="fd0a1-105">Feature</span></span>                 | <span data-ttu-id="fd0a1-106">Windows XP</span><span class="sxs-lookup"><span data-stu-id="fd0a1-106">Windows XP</span></span>                                                                                                                                                                                                                                                                                                                                                                                | <span data-ttu-id="fd0a1-107">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="fd0a1-107">Windows Vista</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="fd0a1-108">Arresto blocco</span><span class="sxs-lookup"><span data-stu-id="fd0a1-108">Blocking shutdown</span></span>       | <span data-ttu-id="fd0a1-109">Le applicazioni possono ritardare la risposta a [**WM \_ QUERYENDSESSION**](wm-queryendsession.md) per 5 secondi, quindi il sistema consente all'utente di terminare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-109">Applications can delay responding to [**WM\_QUERYENDSESSION**](wm-queryendsession.md) for 5 seconds, then the system allows the user to terminate the application.</span></span> <span data-ttu-id="fd0a1-110">Le applicazioni che restituiscono **true** in risposta a **WM \_ QUERYENDSESSION** possono ritardare la risposta a [**WM \_ ENDSESSION**](wm-endsession.md) per 5 secondi, quindi il sistema consente all'utente di terminare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-110">Applications that return **TRUE** in response to **WM\_QUERYENDSESSION** can delay responding to [**WM\_ENDSESSION**](wm-endsession.md) for 5 seconds, then the system allows the user to terminate the application.</span></span> | <span data-ttu-id="fd0a1-111">Le applicazioni possono ritardare la risposta a [**WM \_ QUERYENDSESSION**](wm-queryendsession.md) per 5 secondi, quindi il sistema consente all'utente di continuare o annullare l'arresto.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-111">Applications can delay responding to [**WM\_QUERYENDSESSION**](wm-queryendsession.md) for 5 seconds, then the system allows the user to continue or cancel shutdown.</span></span> <span data-ttu-id="fd0a1-112">Le applicazioni che restituiscono **true** in risposta a **WM \_ QUERYENDSESSION** possono ritardare la risposta a [**WM \_ ENDSESSION**](wm-endsession.md) per 5 secondi, quindi il sistema consente all'utente di continuare o annullare l'arresto.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-112">Applications that return **TRUE** in response to **WM\_QUERYENDSESSION** can delay responding to [**WM\_ENDSESSION**](wm-endsession.md) for 5 seconds, then the system allows the user to continue or cancel shutdown.</span></span>                                                                                                      |
| <span data-ttu-id="fd0a1-113">Annullamento dell'arresto</span><span class="sxs-lookup"><span data-stu-id="fd0a1-113">Canceling shutdown</span></span>      | <span data-ttu-id="fd0a1-114">Se un'applicazione restituisce **false** in risposta a [**WM \_ QUERYENDSESSION**](wm-queryendsession.md), nella maggior parte dei casi l'arresto viene annullato.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-114">If an application returns **FALSE** in response to [**WM\_QUERYENDSESSION**](wm-queryendsession.md), shutdown is canceled in most cases.</span></span> <span data-ttu-id="fd0a1-115">Tuttavia, non viene visualizzata alcuna interfaccia utente, pertanto l'utente potrebbe non essere in grado di tenere presente che l'arresto è stato annullato.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-115">However, no UI is displayed, so the user may not be aware that shutdown has been canceled.</span></span>                                                                                                                                                      | <span data-ttu-id="fd0a1-116">Se un'applicazione restituisce **false** in risposta a [**WM \_ QUERYENDSESSION**](wm-queryendsession.md), viene comunque visualizzata nell'interfaccia utente di arresto.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-116">If an application returns **FALSE** in response to [**WM\_QUERYENDSESSION**](wm-queryendsession.md), it still appears in the shutdown UI.</span></span> <span data-ttu-id="fd0a1-117">Si noti che il sistema non consente le applicazioni console o le applicazioni senza una finestra visibile per annullare l'arresto.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-117">Note that the system does not allow console applications or applications without a visible window to cancel shutdown.</span></span> <span data-ttu-id="fd0a1-118">Queste applicazioni vengono terminate automaticamente se non rispondono a **WM \_ QUERYENDSESSION** o [**WM \_ ENDSESSION**](wm-endsession.md) entro 5 secondi o se restituiscono **false** in risposta a **WM \_ QUERYENDSESSION**.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-118">These applications are automatically terminated if they do not respond to **WM\_QUERYENDSESSION** or [**WM\_ENDSESSION**](wm-endsession.md) within 5 seconds or if they return **FALSE** in response to **WM\_QUERYENDSESSION**.</span></span> |
| <span data-ttu-id="fd0a1-119">Interfaccia utente shutdown</span><span class="sxs-lookup"><span data-stu-id="fd0a1-119">Shutdown user interface</span></span> | <span data-ttu-id="fd0a1-120">Il sistema Visualizza una finestra di dialogo per l'arresto del blocco dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-120">The system displays a dialog box for each application blocking shutdown.</span></span> <span data-ttu-id="fd0a1-121">Se l'utente fa clic sul pulsante **Termina ora** , l'applicazione viene terminata.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-121">If the user click the **End Now** button, the application is terminated.</span></span> <span data-ttu-id="fd0a1-122">Se l'utente fa clic sul pulsante **Annulla** , l'arresto viene annullato e l'applicazione continua a essere eseguita.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-122">If the user clicks the **Cancel** button, shutdown is canceled and the application continues to run.</span></span>                                                                                                                                    | <span data-ttu-id="fd0a1-123">Il sistema Visualizza un'interfaccia utente a schermo intero che identifica tutte le applicazioni che bloccano l'arresto e i motivi per farlo (se hanno registrato un motivo con [**ShutdownBlockReasonCreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate)).</span><span class="sxs-lookup"><span data-stu-id="fd0a1-123">The system displays a full-screen UI that identifies all applications blocking shutdown and their reasons for doing so (if they have registered a reason using [**ShutdownBlockReasonCreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate)).</span></span>                                                                                                                                                                                                                                                                    |



 

## <a name="best-practices"></a><span data-ttu-id="fd0a1-124">Procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="fd0a1-124">Best Practices</span></span>

-   <span data-ttu-id="fd0a1-125">Le applicazioni non devono bloccare l'arresto.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-125">Applications should not block shutdown.</span></span> <span data-ttu-id="fd0a1-126">Rispondere a [**WM \_ QUERYENDSESSION**](wm-queryendsession.md) il più rapidamente possibile e posticipare le attività di pulizia fino all'elaborazione del messaggio [**WM \_ ENDSESSION**](wm-endsession.md) .</span><span class="sxs-lookup"><span data-stu-id="fd0a1-126">Respond to [**WM\_QUERYENDSESSION**](wm-queryendsession.md) as quickly as possible and postpone cleanup activities until processing the [**WM\_ENDSESSION**](wm-endsession.md) message.</span></span>
-   <span data-ttu-id="fd0a1-127">Le applicazioni che devono bloccare la chiusura devono usare la nuova funzione [**ShutdownBlockReasonCreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate) per registrare una stringa che ne spiega il motivo.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-127">Applications that must block shutdown should use the new [**ShutdownBlockReasonCreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate) function to register a string that explains the reason to the user.</span></span> <span data-ttu-id="fd0a1-128">L'utente può decidere se continuare o annullare l'arresto.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-128">The user can decide whether to continue or cancel shutdown.</span></span>
-   <span data-ttu-id="fd0a1-129">Le applicazioni non possono basarsi sulla possibilità di bloccare l'arresto.</span><span class="sxs-lookup"><span data-stu-id="fd0a1-129">Applications cannot rely on being able to block shutdown.</span></span>

 

 



