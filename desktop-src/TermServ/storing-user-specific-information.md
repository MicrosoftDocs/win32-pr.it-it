---
title: Archiviazione di informazioni specifiche dell'utente
description: Le applicazioni devono archiviare le informazioni specifiche dell'utente in percorsi specifici dell'utente, separatamente da informazioni globali che si applicano a tutti gli utenti.
ms.assetid: 32bd1d24-1d2e-4c0a-acdb-0cc67f275e6e
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 40c6236b7ba11a8b3149533e920b9b9413085d93
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104046908"
---
# <a name="storing-user-specific-information"></a><span data-ttu-id="7724d-103">Archiviazione di informazioni specifiche dell'utente</span><span class="sxs-lookup"><span data-stu-id="7724d-103">Storing user-specific information</span></span>

<span data-ttu-id="7724d-104">In un ambiente di Servizi Desktop remoto, le applicazioni devono archiviare le informazioni specifiche dell'utente in percorsi specifici dell'utente, separatamente dalle informazioni globali che si applicano a tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="7724d-104">In a Remote Desktop Services environment, applications should store user-specific information in user-specific locations, separately from global information that applies to all users.</span></span> <span data-ttu-id="7724d-105">Questa regola si applica alle informazioni archiviate nel registro di sistema e alle informazioni archiviate nei file.</span><span class="sxs-lookup"><span data-stu-id="7724d-105">This rule applies to information stored in the registry, as well as information stored in files.</span></span> <span data-ttu-id="7724d-106">In generale, non presupporre che un computer sia equivalente a un utente.</span><span class="sxs-lookup"><span data-stu-id="7724d-106">In general, do not assume that one computer is equivalent to one user.</span></span>

<span data-ttu-id="7724d-107">Archiviare le informazioni del registro di sistema specifiche dell'utente nella chiave del registro di sistema **\_ \_ dell'utente corrente di HKEY** .</span><span class="sxs-lookup"><span data-stu-id="7724d-107">Store user-specific registry information under the **HKEY\_CURRENT\_USER** registry key.</span></span> <span data-ttu-id="7724d-108">Servizi Desktop remoto carica l'hive del registro di sistema personale dell'utente corrente nell' **\_ \_ utente corrente di HKEY** quando l'utente esegue l'accesso.</span><span class="sxs-lookup"><span data-stu-id="7724d-108">Remote Desktop Services loads the current user's personal registry hive into **HKEY\_CURRENT\_USER** when the user logs on.</span></span> <span data-ttu-id="7724d-109">Naturalmente, Servizi Desktop remoto gestisce il registro di sistema per garantire che ognuno dei client connessi rilevi l'hive utente corretto in **HKEY \_ Current \_ User**.</span><span class="sxs-lookup"><span data-stu-id="7724d-109">Of course, Remote Desktop Services manages the registry to ensure that each of the logged-on clients detects the correct user hive under **HKEY\_CURRENT\_USER**.</span></span> <span data-ttu-id="7724d-110">Per ulteriori informazioni sulle chiavi del registro di sistema, vedere [chiave del registro di sistema e diritti di accesso](/windows/desktop/SysInfo/registry-key-security-and-access-rights) e [hive del registro](/windows/desktop/SysInfo/registry-hives)di sistema.</span><span class="sxs-lookup"><span data-stu-id="7724d-110">For more information about registry keys, see [Registry Key Security and Access Rights](/windows/desktop/SysInfo/registry-key-security-and-access-rights) and [Registry Hives](/windows/desktop/SysInfo/registry-hives).</span></span>

<span data-ttu-id="7724d-111">Al contrario, tutti gli utenti condividono l'hive **\_ locale del \_ computer HKEY** .</span><span class="sxs-lookup"><span data-stu-id="7724d-111">In contrast, all users share the **HKEY\_LOCAL\_MACHINE** hive.</span></span> <span data-ttu-id="7724d-112">Usare il computer **\_ locale \_ HKEY** per archiviare le informazioni specifiche del computer, non le informazioni specifiche dell'utente.</span><span class="sxs-lookup"><span data-stu-id="7724d-112">Use **HKEY\_LOCAL\_MACHINE** to store computer-specific information, not user-specific information.</span></span>

<span data-ttu-id="7724d-113">Archiviare i file preferenza utente o altri file specifici dell'utente nella directory radice dell'utente o in una directory specificata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="7724d-113">Store user-preference files or other user-specific files in the user's root directory or in a user-specified directory.</span></span> <span data-ttu-id="7724d-114">Questa considerazione si applica ai file temporanei utilizzati per archiviare le informazioni provvisorie, ad esempio i dati memorizzati nella cache, o per passare i dati a un'altra applicazione.</span><span class="sxs-lookup"><span data-stu-id="7724d-114">This consideration applies to temporary files used to store interim information (such as cached data) or to pass data on to another application.</span></span> <span data-ttu-id="7724d-115">I file temporanei specifici dell'utente devono essere archiviati anche in base ai singoli utenti.</span><span class="sxs-lookup"><span data-stu-id="7724d-115">User-specific temporary files must also be stored on a per-user basis.</span></span>

<span data-ttu-id="7724d-116">[](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetspecialfolderlocation) \_ Per ottenere il percorso della directory dei file personali dell'utente, è possibile usare la funzione SHGetSpecialFolderLocation con il flag CSIDL Personal.</span><span class="sxs-lookup"><span data-stu-id="7724d-116">You can use the [**SHGetSpecialFolderLocation**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetspecialfolderlocation) function with the CSIDL\_PERSONAL flag to get the location of the user's personal files directory.</span></span> <span data-ttu-id="7724d-117">È anche possibile usare la funzione [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) per recuperare il percorso della directory di Windows.</span><span class="sxs-lookup"><span data-stu-id="7724d-117">You can also use the [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) function to retrieve the path of the Windows directory.</span></span> <span data-ttu-id="7724d-118">In un ambiente Servizi Desktop remoto la directory di Windows è garantita come privata per ogni utente.</span><span class="sxs-lookup"><span data-stu-id="7724d-118">In a Remote Desktop Services environment, the Windows directory is guaranteed to be private for each user.</span></span> <span data-ttu-id="7724d-119">Non archiviare i file specifici dell'utente nella directory di sistema, ad esempio WINDOWS, o directory del programma, ad esempio i file di programma.</span><span class="sxs-lookup"><span data-stu-id="7724d-119">Do not store user-specific files under the system directory, such as WINDOWS, or program directory, such as Program Files.</span></span>

<span data-ttu-id="7724d-120">Per evitare conflitti tra le informazioni e le preferenze degli utenti, le applicazioni devono archiviare informazioni temporanee per singolo utente in file temporanei specifici dell'utente.</span><span class="sxs-lookup"><span data-stu-id="7724d-120">To avoid conflicts among users' information and preferences, applications should store per-user temporary information in user-specific temporary files.</span></span> <span data-ttu-id="7724d-121">Anche i file temporanei specifici dell'utente impediscono gli errori delle applicazioni causati da conflitti di blocco del file.</span><span class="sxs-lookup"><span data-stu-id="7724d-121">User-specific temporary files also prevent application failures caused by file-locking conflicts.</span></span> <span data-ttu-id="7724d-122">Per specificare il percorso per l'archiviazione di informazioni temporanee, utilizzare la funzione [**GetTempPath**](/windows/desktop/api/fileapi/nf-fileapi-gettemppatha) .</span><span class="sxs-lookup"><span data-stu-id="7724d-122">To specify the path for storing temporary information, use the [**GetTempPath**](/windows/desktop/api/fileapi/nf-fileapi-gettemppatha) function.</span></span>

 

 