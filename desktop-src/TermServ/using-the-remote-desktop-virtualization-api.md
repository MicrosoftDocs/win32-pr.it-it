---
title: Uso dell'API di virtualizzazione Desktop remoto
description: Gli sviluppatori possono utilizzare questa API per personalizzare la logica utilizzata da gestore connessione Desktop remoto per determinare la destinazione migliore per una connessione client in ingresso.
ms.assetid: b25eb87e-dac4-49ce-890e-b39c7e9e3408
ms.tgt_platform: multiple
keywords:
- Servizi Desktop remoto Servizi Desktop remoto tramite l'API di virtualizzazione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cda9ebfc014a2c8ec20d299bbb8be9183b25ce89
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104399143"
---
# <a name="using-the-remote-desktop-virtualization-api"></a><span data-ttu-id="fe19a-104">Uso dell'API di virtualizzazione Desktop remoto</span><span class="sxs-lookup"><span data-stu-id="fe19a-104">Using the Remote Desktop Virtualization API</span></span>

<span data-ttu-id="fe19a-105">Il servizio ruolo directory di sessione di Servizi terminal consente ai server terminal di archiviare le informazioni relative a utenti e sessioni in un database denominato directory di sessione.</span><span class="sxs-lookup"><span data-stu-id="fe19a-105">The Terminal Services Session Directory (TS  Session Directory) role service allows terminal servers to store user and session information in a database called a session directory.</span></span> <span data-ttu-id="fe19a-106">Quando un utente si connette a un server terminal in una farm, directory di sessione di Servizi terminal determina se l'utente dispone già di una sessione in esecuzione su un server terminal e, in tal caso, reindirizza l'utente a tale server terminal.</span><span class="sxs-lookup"><span data-stu-id="fe19a-106">When a user connects to a terminal server in a farm, TS Session Directory determines whether the user already has a session running on a terminal server and if so, it redirects the user to that terminal server.</span></span>

<span data-ttu-id="fe19a-107">In Windows Server 2008, il servizio ruolo directory di sessione di Servizi terminal è stato espanso e rinominato gestore sessioni Servizi terminal.</span><span class="sxs-lookup"><span data-stu-id="fe19a-107">In Windows Server 2008, the TS Session Directory role service was expanded and renamed Terminal Services Session Broker (TS Session Broker).</span></span> <span data-ttu-id="fe19a-108">Oltre a gestire una directory di sessioni esistenti, broker di sessione di Servizi terminal può anche broker di connessioni in ingresso.</span><span class="sxs-lookup"><span data-stu-id="fe19a-108">In addition to maintaining a directory of existing sessions, TS Session Broker can also broker incoming connections.</span></span> <span data-ttu-id="fe19a-109">Quando broker di sessione di Servizi terminal riceve una connessione in ingresso da un utente, controlla il relativo database per determinare se l'utente dispone di una sessione esistente in un server terminal.</span><span class="sxs-lookup"><span data-stu-id="fe19a-109">When TS Session Broker receives an incoming connection from a user, it checks its database to determine whether the user has an existing session on a terminal server.</span></span> <span data-ttu-id="fe19a-110">In tal caso, broker di sessione di Servizi terminal reindirizza la connessione allo stesso server terminal.</span><span class="sxs-lookup"><span data-stu-id="fe19a-110">If so, TS Session Broker redirects the connection to that same terminal server.</span></span> <span data-ttu-id="fe19a-111">In caso contrario, broker di sessione di Servizi terminal determina quale server terminal dispone del minor numero di connessioni e reindirizza la connessione al server.</span><span class="sxs-lookup"><span data-stu-id="fe19a-111">If not, TS Session Broker determines which terminal server has the fewest connections and redirects the connection to that server.</span></span>

<span data-ttu-id="fe19a-112">A partire da Windows Server 2008, Microsoft ha rilasciato anche un Application Programming Interface pubblico (API) per il monitoraggio e l'interazione con le sessioni sui server terminal.</span><span class="sxs-lookup"><span data-stu-id="fe19a-112">Beginning with Windows Server 2008, Microsoft also released a public application programming interface (API) for monitoring and interacting with sessions on terminal servers.</span></span> <span data-ttu-id="fe19a-113">Questa API è descritta in informazioni di [riferimento sul plug-in connessione Desktop remoto broker](/windows/desktop/TermServ/terminal-services-virtualization-api-reference).</span><span class="sxs-lookup"><span data-stu-id="fe19a-113">This API is described in [Remote Desktop Connection Broker Plug-in Reference](/windows/desktop/TermServ/terminal-services-virtualization-api-reference).</span></span> <span data-ttu-id="fe19a-114">Utilizzando questa API, gli sviluppatori possono creare plug-in di criteri personalizzati che eseguono l'override della logica di reindirizzamento standard di broker di sessione di Servizi terminal.</span><span class="sxs-lookup"><span data-stu-id="fe19a-114">Using this API, developers can create custom policy plug-ins that override the standard redirection logic of TS Session Broker.</span></span> <span data-ttu-id="fe19a-115">I plug-in personalizzati possono reindirizzare le sessioni ai server terminal, oltre a macchine virtuali, desktop virtuali, server blade e desktop fisici.</span><span class="sxs-lookup"><span data-stu-id="fe19a-115">The custom plug-ins can redirect sessions to terminal servers, as well as virtual machines, virtual desktops, blade servers, and physical desktops.</span></span>

<span data-ttu-id="fe19a-116">In Windows Server 2008 R2 l'architettura di Connessione Desktop remoto broker (gestore connessione Desktop remoto), precedentemente nota come broker di sessione di Servizi terminal, è stata espansa per supportare le connessioni alle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="fe19a-116">In Windows Server 2008 R2, the architecture of Remote Desktop Connection Broker (RD Connection Broker) (formerly known as TS Session Broker) was expanded to support connections to virtual machines.</span></span> <span data-ttu-id="fe19a-117">La nuova architettura supporta la gestione delle sessioni per le macchine virtuali tramite l'API di virtualizzazione Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="fe19a-117">The new architecture supports session management for virtual machines through the Remote Desktop Virtualization API.</span></span> <span data-ttu-id="fe19a-118">Gli sviluppatori possono utilizzare questa API per personalizzare la logica utilizzata da gestore connessione Desktop remoto per determinare la destinazione migliore per una connessione client in ingresso.</span><span class="sxs-lookup"><span data-stu-id="fe19a-118">Developers can use this API to customize the logic that RD Connection Broker uses to determine the best destination for an incoming client connection.</span></span>

<span data-ttu-id="fe19a-119">Desktop remoto API di virtualizzazione offre diversi vantaggi agli sviluppatori:</span><span class="sxs-lookup"><span data-stu-id="fe19a-119">Remote Desktop Virtualization API offers several benefits to developers:</span></span>

-   <span data-ttu-id="fe19a-120">Le interfacce per l'utilizzo di server terminal fisici sono simili a quelle per l'utilizzo delle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="fe19a-120">The interfaces for working with physical terminal servers are similar to those for working with virtual machines.</span></span>
-   <span data-ttu-id="fe19a-121">Gli sviluppatori possono sostituire tutta o parte della logica di reindirizzamento standard.</span><span class="sxs-lookup"><span data-stu-id="fe19a-121">Developers can replace all or part of the standard redirection logic.</span></span> <span data-ttu-id="fe19a-122">Gli sviluppatori possono basarsi sul codice fornito con il prodotto e non devono scrivere tutto da zero.</span><span class="sxs-lookup"><span data-stu-id="fe19a-122">Developers can build on the code that ships with the product and do not have to write everything from scratch.</span></span>
-   <span data-ttu-id="fe19a-123">Non è necessario alcun agente di gestione aggiuntivo sul server di gestione o all'interno della sessione.</span><span class="sxs-lookup"><span data-stu-id="fe19a-123">No additional management agent is required on the managing server or within the session.</span></span>
-   <span data-ttu-id="fe19a-124">I plug-in di broker di sessione di Servizi terminal sviluppati per l'uso con Windows Server 2008 sono ancora supportati.</span><span class="sxs-lookup"><span data-stu-id="fe19a-124">TS Session Broker plug-ins developed for use with Windows Server 2008 are still supported.</span></span>
-   <span data-ttu-id="fe19a-125">L'API consente inoltre agli sviluppatori di creare interfacce utente per l'amministrazione host sessione Desktop remoto di server Host sessione Desktop remoto (in precedenza noti come "server terminal") e macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="fe19a-125">The API also allows developers to create user interfaces for administration of both Remote Desktop Session Host (RD Session Host) servers (formerly known as "terminal servers") and virtual machines.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fe19a-126">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="fe19a-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fe19a-127">Informazioni di riferimento sulle API di virtualizzazione Desktop remoto</span><span class="sxs-lookup"><span data-stu-id="fe19a-127">Remote Desktop Virtualization API Reference</span></span>](terminal-services-virtualization-api-reference.md)
</dt> <dt>

[<span data-ttu-id="fe19a-128">Riferimento al plug-in di Connessione Desktop remoto broker</span><span class="sxs-lookup"><span data-stu-id="fe19a-128">Remote Desktop Connection Broker Plug-in Reference</span></span>](/windows/desktop/TermServ/terminal-services-virtualization-api-reference)
</dt> </dl>

 

 