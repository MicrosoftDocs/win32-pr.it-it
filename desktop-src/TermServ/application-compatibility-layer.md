---
title: Livello di compatibilità delle applicazioni
description: Per eseguire applicazioni legacy in un ambiente Servizi Desktop remoto è possibile usare il Servizi Desktop remoto livello di compatibilità delle applicazioni.
ms.assetid: 6e61ed45-4fcb-4aee-b8cc-638a9b87ce00
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b3e7bbc5867e42951783d3666aa770cdcc45406f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "106300248"
---
# <a name="application-compatibility-layer"></a><span data-ttu-id="cb0f7-103">Livello di compatibilità delle applicazioni</span><span class="sxs-lookup"><span data-stu-id="cb0f7-103">Application compatibility layer</span></span>

<span data-ttu-id="cb0f7-104">Per eseguire applicazioni legacy in un ambiente Servizi Desktop remoto è possibile usare il Servizi Desktop remoto livello di compatibilità delle applicazioni.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-104">To run legacy applications in a Remote Desktop Services environment you can use the Remote Desktop Services Application Compatibility layer.</span></span> <span data-ttu-id="cb0f7-105">Quando il server host sessione Desktop remoto (host sessione Desktop remoto) carica un'applicazione non Servizi Desktop remoto compatibile, carica anche una DLL che contiene il codice di compatibilità.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-105">When the Remote Desktop Session Host (RD Session Host) server loads an application that is not Remote Desktop Services aware, it also loads a DLL that contains compatibility code.</span></span> <span data-ttu-id="cb0f7-106">Per utilizzare il livello di compatibilità dell'applicazione Servizi Desktop remoto, è possibile impostare il flag NOT TSAWARE durante la compilazione di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-106">To use the Remote Desktop Services Application Compatibility layer, you can set the NOT TSAWARE flag when compiling an application.</span></span>

<span data-ttu-id="cb0f7-107">Se l'applicazione è Servizi Desktop remoto consapevole, è possibile evitare il sovraccarico dovuto al caricamento di questa DLL aggiuntiva e all'esecuzione del codice di compatibilità.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-107">If your application is Remote Desktop Services aware, you can avoid the overhead of loading this extra DLL and running the compatibility code.</span></span>

<span data-ttu-id="cb0f7-108">Per indicare che l'applicazione è Servizi Desktop remoto in grado di riconoscere, impostare il flag DLLCHARACTERISTICS per l' **immagine di \_ \_ Terminal \_ server \_** nell'intestazione facoltativa.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-108">To indicate that your application is Remote Desktop Services aware, set the **IMAGE\_DLLCHARACTERISTICS\_TERMINAL\_SERVER\_AWARE** flag in the optional header.</span></span> <span data-ttu-id="cb0f7-109">Se si usa il linker fornito con Microsoft Visual C++, è possibile usare l'opzione del linker **TSAWARE** per impostare questo flag.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-109">If you are using the linker that ships with Microsoft Visual C++, you can use the **TSAWARE** linker option to set this flag.</span></span> <span data-ttu-id="cb0f7-110">Lo strumento **dumpbin** fornito con Microsoft Visual C++ fornisce l'opzione */headers* per determinare lo stato del flag **TSAWARE** .</span><span class="sxs-lookup"><span data-stu-id="cb0f7-110">The **DUMPBIN** tool that ships with Microsoft Visual C++ provides the */HEADERS* option to determine the state of the **TSAWARE** flag.</span></span> <span data-ttu-id="cb0f7-111">Per ulteriori informazioni sull'utilizzo dello strumento **dumpbin** , vedere [riferimenti a DUMPBIN](/cpp/build/reference/dumpbin-reference?view=vs-2019).</span><span class="sxs-lookup"><span data-stu-id="cb0f7-111">For more information about using the **DUMPBIN** tool, see [DUMPBIN Reference](/cpp/build/reference/dumpbin-reference?view=vs-2019).</span></span>

<span data-ttu-id="cb0f7-112">Prestare attenzione quando si usa il flag **TSAWARE** , in quanto consente all'applicazione di ignorare eventuali ottimizzazioni per la compatibilità Servizi Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-112">Be careful when you use the **TSAWARE** flag because it enables your application to bypass any Remote Desktop Services compatibility optimizations.</span></span> <span data-ttu-id="cb0f7-113">Il flag **TSAWARE** deve essere usato solo se si è certi che l'applicazione sia progettata per l'ambiente Servizi Desktop remoto.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-113">The **TSAWARE** flag should only be used if you are certain that your application is designed for the Remote Desktop Services environment.</span></span> <span data-ttu-id="cb0f7-114">Se l'applicazione soddisfa i criteri seguenti, è possibile usare in modo sicuro il flag **\_ DLLCHARACTERISTICS di \_ Terminal \_ server \_** per le immagini.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-114">If your application meets the following criteria, you can safely use the **IMAGE\_DLLCHARACTERISTICS\_TERMINAL\_SERVER\_AWARE** flag.</span></span>

-   <span data-ttu-id="cb0f7-115">L'applicazione non utilizza file ini.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-115">The application does not use .ini files.</span></span>
-   <span data-ttu-id="cb0f7-116">L'applicazione non scrive in **HKEY l' \_ \_ utente corrente** durante l'installazione.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-116">The application does not write to **HKEY\_CURRENT\_USER** during setup.</span></span> <span data-ttu-id="cb0f7-117">Per ulteriori informazioni, vedere [archiviazione delle informazioni di User-Specific](storing-user-specific-information.md).</span><span class="sxs-lookup"><span data-stu-id="cb0f7-117">For more information, see [Storing User-Specific Information](storing-user-specific-information.md).</span></span>
-   <span data-ttu-id="cb0f7-118">L'applicazione non viene eseguita come servizio di sistema (ovvero, LUID = System).</span><span class="sxs-lookup"><span data-stu-id="cb0f7-118">The application does not run as a system service (that is, LUID=System).</span></span>
-   <span data-ttu-id="cb0f7-119">L'applicazione non prevede l'accesso esclusivo alle finestre o ad altre directory di sistema.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-119">The application does not expect exclusive access to the Windows or other system directories.</span></span> <span data-ttu-id="cb0f7-120">Ciò significa che l'applicazione non archivia i dati temporanei o di configurazione per utente in Windows o in altre directory di sistema.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-120">This means that the application does not store per user temporary or configuration data in the Windows or other system directories.</span></span>
-   <span data-ttu-id="cb0f7-121">L'applicazione non scrive nell'hive del registro di sistema del **computer locale HKEY** per la configurazione o i dati specifici dell'utente.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-121">The application does not write to the **HKEY Local Machine** registry hive for user specific data or configuration.</span></span>
-   <span data-ttu-id="cb0f7-122">L'applicazione segue le altre linee guida sulla compatibilità Servizi Desktop remoto citate in questo documento.</span><span class="sxs-lookup"><span data-stu-id="cb0f7-122">The application follows other Remote Desktop Services compatibility guidelines mentioned in this document.</span></span>

 

 