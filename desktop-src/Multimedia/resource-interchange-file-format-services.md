---
title: Servizi formato file di interscambio risorse
description: Servizi formato file di interscambio risorse
ms.assetid: 8526794b-7b40-470f-94f7-935d7dbf9151
keywords:
- I/O file multimediale, formato file di interscambio risorse (RIFF)
- I/O file, formato file di interscambio risorse (RIFF)
- input e output (I/O), formato del file di interscambio delle risorse (RIFF)
- I/O (input e output), formato del file di interscambio delle risorse (RIFF)
- mmioOpen (funzione)
- formato file di interscambio risorse (RIFF)
- RIFF (formato file di interscambio risorse)
- I/O RIFF
- Blocco RIFF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 50cca3792ccded248951065c7b69f2e50d27e0ba
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "104336870"
---
# <a name="resource-interchange-file-format-services"></a><span data-ttu-id="0d1fd-112">Servizi formato file di interscambio risorse</span><span class="sxs-lookup"><span data-stu-id="0d1fd-112">Resource Interchange File Format Services</span></span>

<span data-ttu-id="0d1fd-113">Il formato preferito per i file multimediali è il formato di file di interscambio risorse (RIFF).</span><span class="sxs-lookup"><span data-stu-id="0d1fd-113">The preferred format for multimedia files is resource interchange file format (RIFF).</span></span> <span data-ttu-id="0d1fd-114">Le funzioni di I/O dei file RIFF funzionano con i servizi di i/O dei file di base memorizzati nel buffer e non memorizzati nel buffer.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-114">The RIFF file I/O functions work with the basic buffered and unbuffered file I/O services.</span></span> <span data-ttu-id="0d1fd-115">È possibile aprire, leggere e scrivere file RIFF nello stesso modo degli altri tipi di file.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-115">You can open, read, and write RIFF files in the same way as other file types.</span></span> <span data-ttu-id="0d1fd-116">Per informazioni dettagliate su RIFF, vedere [avifile Functions and Macros](avifile-functions-and-macros.md).</span><span class="sxs-lookup"><span data-stu-id="0d1fd-116">For detailed information about RIFF, see [AVIFile Functions and Macros](avifile-functions-and-macros.md).</span></span>

<span data-ttu-id="0d1fd-117">I file RIFF usano codici di quattro caratteri per identificare gli elementi del file.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-117">RIFF files use four-character codes to identify file elements.</span></span> <span data-ttu-id="0d1fd-118">Questi codici sono quantità a 32 bit che rappresentano una sequenza da uno a quattro caratteri alfanumerici ASCII, con riempimento a destra con caratteri di spazio.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-118">These codes are 32-bit quantities representing a sequence of one to four ASCII alphanumeric characters, padded on the right with space characters.</span></span> <span data-ttu-id="0d1fd-119">Il tipo di dati per i codici a quattro caratteri è **fourcc**.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-119">The data type for four-character codes is **FOURCC**.</span></span> <span data-ttu-id="0d1fd-120">Usare la macro [**mmioFOURCC**](/windows/win32/api/vfw/nf-vfw-mmiofourcc) per convertire quattro caratteri in un codice di quattro caratteri.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-120">Use the [**mmioFOURCC**](/windows/win32/api/vfw/nf-vfw-mmiofourcc) macro to convert four characters into a four-character code.</span></span> <span data-ttu-id="0d1fd-121">Per convertire una stringa con terminazione null in un codice di quattro caratteri, usare la funzione [**mmioStringToFOURCC**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiostringtofourcc) .</span><span class="sxs-lookup"><span data-stu-id="0d1fd-121">To convert a null-terminated string into a four-character code, use the [**mmioStringToFOURCC**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiostringtofourcc) function.</span></span>

<span data-ttu-id="0d1fd-122">Il blocco predefinito di base *di un file* riff è un blocco.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-122">The basic building block of a RIFF file is a *chunk*.</span></span> <span data-ttu-id="0d1fd-123">Un blocco è un'unità logica di dati multimediali, ad esempio un singolo frame in un clip video.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-123">A chunk is a logical unit of multimedia data, such as a single frame in a video clip.</span></span> <span data-ttu-id="0d1fd-124">Ogni blocco contiene i campi seguenti:</span><span class="sxs-lookup"><span data-stu-id="0d1fd-124">Each chunk contains the following fields:</span></span>

-   <span data-ttu-id="0d1fd-125">Codice di quattro caratteri che specifica l'identificatore del blocco</span><span class="sxs-lookup"><span data-stu-id="0d1fd-125">A four-character code specifying the chunk identifier</span></span>
-   <span data-ttu-id="0d1fd-126">Valore parola doppia che specifica la dimensione del membro dati nel blocco</span><span class="sxs-lookup"><span data-stu-id="0d1fd-126">A doubleword value specifying the size of the data member in the chunk</span></span>
-   <span data-ttu-id="0d1fd-127">Un campo dati</span><span class="sxs-lookup"><span data-stu-id="0d1fd-127">A data field</span></span>

<span data-ttu-id="0d1fd-128">La figura seguente mostra un blocco "RIFF" che contiene due sottoblocchi.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-128">The following illustration shows a "RIFF" chunk that contains two subchunks.</span></span>

![blocco riff che contiene l'immagine di due sottoblocchi](images/mmio1.gif)

<span data-ttu-id="0d1fd-130">Un blocco contenuto in un altro blocco è un *sottoblocco*.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-130">A chunk contained in another chunk is a *subchunk*.</span></span> <span data-ttu-id="0d1fd-131">Gli unici blocchi consentiti per contenere sottoblocchi sono quelli con un identificatore di blocco "RIFF" o "LIST".</span><span class="sxs-lookup"><span data-stu-id="0d1fd-131">The only chunks allowed to contain subchunks are those with a chunk identifier of "RIFF" or "LIST".</span></span> <span data-ttu-id="0d1fd-132">Un blocco contenente un altro blocco viene chiamato *blocco padre*.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-132">A chunk that contains another chunk is called a *parent chunk*.</span></span> <span data-ttu-id="0d1fd-133">Il primo blocco in un file RIFF deve essere un blocco "RIFF".</span><span class="sxs-lookup"><span data-stu-id="0d1fd-133">The first chunk in a RIFF file must be a "RIFF" chunk.</span></span> <span data-ttu-id="0d1fd-134">Tutti gli altri blocchi del file sono sottoblocchi del blocco "RIFF".</span><span class="sxs-lookup"><span data-stu-id="0d1fd-134">All other chunks in the file are subchunks of the "RIFF" chunk.</span></span>

<span data-ttu-id="0d1fd-135">I blocchi "RIFF" includono un campo aggiuntivo nei primi quattro byte del campo dati.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-135">"RIFF" chunks include an additional field in the first four bytes of the data field.</span></span> <span data-ttu-id="0d1fd-136">Questo campo aggiuntivo fornisce il *tipo di form* del campo.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-136">This additional field provides the *form type* of the field.</span></span> <span data-ttu-id="0d1fd-137">Il tipo di modulo è un codice di quattro caratteri che identifica il formato dei dati archiviati nel file.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-137">The form type is a four-character code identifying the format of the data stored in the file.</span></span> <span data-ttu-id="0d1fd-138">Ad esempio, Microsoft waveform-file audio hanno un tipo di modulo "WAVE".</span><span class="sxs-lookup"><span data-stu-id="0d1fd-138">For example, Microsoft waveform-audio files have a form type of "WAVE".</span></span>

<span data-ttu-id="0d1fd-139">I blocchi "LIST" includono anche un campo aggiuntivo nei primi quattro byte del campo dati.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-139">"LIST" chunks also include an additional field in the first four bytes of the data field.</span></span> <span data-ttu-id="0d1fd-140">Questo campo aggiuntivo contiene il *tipo di elenco* del campo.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-140">This additional field contains the *list type* of the field.</span></span> <span data-ttu-id="0d1fd-141">Il tipo di elenco è costituito da un codice di quattro caratteri che identifica il contenuto dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-141">The list type is a four-character code identifying the contents of the list.</span></span> <span data-ttu-id="0d1fd-142">Ad esempio, un blocco "LIST" con un tipo di elenco "INFO" può contenere blocchi "ICOP" e "ICRD" che forniscono informazioni sul copyright e sulla data di creazione.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-142">For example, a "LIST" chunk with a list type of "INFO" can contain "ICOP" and "ICRD" chunks providing copyright and creation date information.</span></span> <span data-ttu-id="0d1fd-143">La figura seguente mostra un blocco "RIFF" che contiene un blocco "LIST" e un altro sottoblocco (il blocco "LIST" contiene due sottoblocchi).</span><span class="sxs-lookup"><span data-stu-id="0d1fd-143">The following illustration shows a "RIFF" chunk that contains a "LIST" chunk and one other subchunk (the "LIST" chunk contains two subchunks).</span></span>

![blocco riff che contiene un'immagine del blocco di elenco](images/mmio2.gif)

<span data-ttu-id="0d1fd-145">I servizi di I/O dei file multimediali includono due funzioni che è possibile usare per spostarsi tra I blocchi in un file RIFF: [**mmioAscend**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioascend) e [**mmioDescend**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiodescend).</span><span class="sxs-lookup"><span data-stu-id="0d1fd-145">Multimedia file I/O services include two functions you can use to navigate among chunks in a RIFF file: [**mmioAscend**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioascend) and [**mmioDescend**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiodescend).</span></span> <span data-ttu-id="0d1fd-146">È possibile utilizzare queste funzioni come funzioni di ricerca di alto livello.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-146">You can use these functions as high-level seek functions.</span></span> <span data-ttu-id="0d1fd-147">Quando si scende in un blocco, la posizione del file viene impostata sul campo dati del blocco (8 byte dall'inizio del blocco).</span><span class="sxs-lookup"><span data-stu-id="0d1fd-147">When you descend into a chunk, the file position is set to the data field of the chunk (8 bytes from the beginning of the chunk).</span></span> <span data-ttu-id="0d1fd-148">Per i blocchi "RIFF" ed "LIST", la posizione del file è impostata sulla posizione successiva al tipo di modulo o al tipo di elenco (12 byte dall'inizio del blocco).</span><span class="sxs-lookup"><span data-stu-id="0d1fd-148">For "RIFF" and "LIST" chunks, the file position is set to the location following the form type or list type (12 bytes from the beginning of the chunk).</span></span> <span data-ttu-id="0d1fd-149">Quando si esce da un blocco, la posizione del file viene impostata sulla posizione successiva alla fine del blocco.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-149">When you ascend out of a chunk, the file position is set to the location following the end of the chunk.</span></span>

<span data-ttu-id="0d1fd-150">Per creare un nuovo blocco, usare la funzione [**mmioCreateChunk**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiocreatechunk) per scrivere un'intestazione di blocco nella posizione corrente in un file aperto.</span><span class="sxs-lookup"><span data-stu-id="0d1fd-150">To create a new chunk, use the [**mmioCreateChunk**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiocreatechunk) function to write a chunk header at the current position in an open file.</span></span> <span data-ttu-id="0d1fd-151">Le funzioni **mmioAscend**, **mmioDescend** e **mmioCreateChunk** usano la struttura [**MMCKINFO**](/windows/win32/api/mmiscapi/ns-mmiscapi-mmckinfo) per specificare e recuperare informazioni sui blocchi "riff".</span><span class="sxs-lookup"><span data-stu-id="0d1fd-151">The **mmioAscend**, **mmioDescend**, and **mmioCreateChunk** functions use the [**MMCKINFO**](/windows/win32/api/mmiscapi/ns-mmiscapi-mmckinfo) structure to specify and retrieve information about "RIFF" chunks.</span></span>

 

 