---
title: Lettura da un flusso
description: Lettura da un flusso
ms.assetid: be961f06-cf5f-4093-9b31-7d1d69e62fec
keywords:
- AVIStreamInfo (funzione)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3cc7ecd606a33503557e7c7209bff68015756523
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "103963080"
---
# <a name="reading-from-a-stream"></a><span data-ttu-id="b47af-104">Lettura da un flusso</span><span class="sxs-lookup"><span data-stu-id="b47af-104">Reading from a Stream</span></span>

<span data-ttu-id="b47af-105">È possibile recuperare informazioni su un flusso aperto tramite la funzione [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) .</span><span class="sxs-lookup"><span data-stu-id="b47af-105">You can retrieve information about an open stream by using the [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) function.</span></span> <span data-ttu-id="b47af-106">Questa funzione riempie la struttura [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) con informazioni quali il tipo di dati nel flusso, il metodo di compressione usato per la scrittura di dati di flusso, la dimensione del buffer suggerita, la velocità di riproduzione e una descrizione del flusso.</span><span class="sxs-lookup"><span data-stu-id="b47af-106">This function fills the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure with information such as the type of data in the stream, the compression method used when writing stream data, the suggested buffer size, the playback rate, and a text description of the stream.</span></span>

<span data-ttu-id="b47af-107">Alcuni membri della struttura [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) sono presenti anche nella struttura [**AVIFILEINFO**](/windows/desktop/api/Vfw/ns-vfw-avifileinfoa) .</span><span class="sxs-lookup"><span data-stu-id="b47af-107">Some members of the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure are also present in the [**AVIFILEINFO**](/windows/desktop/api/Vfw/ns-vfw-avifileinfoa) structure.</span></span> <span data-ttu-id="b47af-108">Le informazioni contenute nella struttura **AVIFILEINFO** sono valide per l'intero file.</span><span class="sxs-lookup"><span data-stu-id="b47af-108">The information in the **AVIFILEINFO** structure applies to the entire file.</span></span> <span data-ttu-id="b47af-109">Le informazioni nella struttura **AVISTREAMINFO** sono specifiche del flusso a cui si accede e hanno la precedenza sulle informazioni nella struttura **AVIFILEINFO** .</span><span class="sxs-lookup"><span data-stu-id="b47af-109">The information in the **AVISTREAMINFO** structure is specific to the accessed stream and has precedence over the information in the **AVIFILEINFO** structure.</span></span>

<span data-ttu-id="b47af-110">Se a un flusso sono associate informazioni aggiuntive, è possibile recuperare queste informazioni tramite la funzione [**AVIStreamReadData**](/windows/desktop/api/Vfw/nf-vfw-avistreamreaddata) .</span><span class="sxs-lookup"><span data-stu-id="b47af-110">If a stream has supplementary information associated with it, you can retrieve this information by using the [**AVIStreamReadData**](/windows/desktop/api/Vfw/nf-vfw-avistreamreaddata) function.</span></span> <span data-ttu-id="b47af-111">Questa funzione restituisce le informazioni in un buffer fornito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b47af-111">This function returns the information in an application-supplied buffer.</span></span> <span data-ttu-id="b47af-112">Le informazioni sul flusso supplementare possono includere le impostazioni di configurazione per i metodi di compressione e decompressione usati in un flusso.</span><span class="sxs-lookup"><span data-stu-id="b47af-112">Supplementary stream information might include configuration settings for the compression and decompression methods used on a stream.</span></span> <span data-ttu-id="b47af-113">È possibile ottenere le dimensioni del buffer richieste usando la macro [**AVIStreamDataSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamdatasize) .</span><span class="sxs-lookup"><span data-stu-id="b47af-113">You can obtain the required buffer size by using the [**AVIStreamDataSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamdatasize) macro.</span></span>

<span data-ttu-id="b47af-114">È possibile recuperare le informazioni sulla formattazione di un flusso tramite la funzione [**AVIStreamReadFormat**](/windows/desktop/api/Vfw/nf-vfw-avistreamreadformat) .</span><span class="sxs-lookup"><span data-stu-id="b47af-114">You can retrieve formatting information about a stream by using the [**AVIStreamReadFormat**](/windows/desktop/api/Vfw/nf-vfw-avistreamreadformat) function.</span></span> <span data-ttu-id="b47af-115">Questa funzione restituisce una struttura specifica del flusso in un buffer fornito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b47af-115">This function returns a stream-specific structure in an application-supplied buffer.</span></span> <span data-ttu-id="b47af-116">Per un flusso video, il buffer contiene informazioni di formattazione in una struttura [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) .</span><span class="sxs-lookup"><span data-stu-id="b47af-116">For a video stream, the buffer contains formatting information in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure.</span></span> <span data-ttu-id="b47af-117">Per un flusso audio, il buffer contiene informazioni di formattazione in una struttura [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) o [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) .</span><span class="sxs-lookup"><span data-stu-id="b47af-117">For an audio stream, the buffer contains formatting information in a [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) or [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) structure.</span></span> <span data-ttu-id="b47af-118">Per altri tipi di flusso, il gestore del flusso restituisce informazioni specifiche per il flusso.</span><span class="sxs-lookup"><span data-stu-id="b47af-118">For other stream types, the stream handler returns information specific to the stream.</span></span> <span data-ttu-id="b47af-119">È possibile determinare le dimensioni del buffer richieste usando **AVIStreamReadFormat** e specificando un indirizzo di buffer **null** o usando la macro [**AVIStreamFormatSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamformatsize) .</span><span class="sxs-lookup"><span data-stu-id="b47af-119">You can determine the required buffer size by using **AVIStreamReadFormat** and specifying a **NULL** buffer address or by using the [**AVIStreamFormatSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamformatsize) macro.</span></span>

<span data-ttu-id="b47af-120">È possibile recuperare il contenuto multimediale in un flusso usando la funzione [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) .</span><span class="sxs-lookup"><span data-stu-id="b47af-120">You can retrieve the multimedia content in a stream by using the [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function.</span></span> <span data-ttu-id="b47af-121">Questa funzione copia i dati non elaborati dal flusso in un buffer fornito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b47af-121">This function copies raw data from the stream into an application-supplied buffer.</span></span> <span data-ttu-id="b47af-122">Per i flussi video, questa funzione recupera le immagini bitmap che compongono il contenuto del frame.</span><span class="sxs-lookup"><span data-stu-id="b47af-122">For video streams, this function retrieves the bitmapped images that make up the frame content.</span></span> <span data-ttu-id="b47af-123">Per i flussi audio, questa funzione recupera i campioni audio della forma d'onda che compongono il contenuto audio.</span><span class="sxs-lookup"><span data-stu-id="b47af-123">For audio streams, this function retrieves waveform-audio samples that make up the sound content.</span></span> <span data-ttu-id="b47af-124">È possibile determinare le dimensioni del buffer richieste usando **AVIStreamRead** e specificando un indirizzo di buffer **null** o usando la macro [**AVIStreamSampleSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamsamplesize) .</span><span class="sxs-lookup"><span data-stu-id="b47af-124">You can determine the required buffer size by using **AVIStreamRead** and specifying a **NULL** buffer address or by using the [**AVIStreamSampleSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamsamplesize) macro.</span></span>

<span data-ttu-id="b47af-125">Alcuni gestori di flussi AVI presentano ritardi associati all'inizializzazione o al coordinamento di software e hardware.</span><span class="sxs-lookup"><span data-stu-id="b47af-125">Some AVI stream handlers introduce delays associated with software and hardware initialization or coordination.</span></span> <span data-ttu-id="b47af-126">È possibile informare questi gestori per prepararsi per lo streaming di dati tramite la funzione [**AVIStreamBeginStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreambeginstreaming) .</span><span class="sxs-lookup"><span data-stu-id="b47af-126">You can inform these handlers to prepare for data streaming by using the [**AVIStreamBeginStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreambeginstreaming) function.</span></span> <span data-ttu-id="b47af-127">Questa funzione consente al gestore del flusso di allocare e inizializzare le risorse necessarie.</span><span class="sxs-lookup"><span data-stu-id="b47af-127">This function lets the stream handler allocate and initialize the resources it needs.</span></span> <span data-ttu-id="b47af-128">Per informare questi gestori quando il flusso è terminato, usare la funzione [**AVIStreamEndStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreamendstreaming) .</span><span class="sxs-lookup"><span data-stu-id="b47af-128">To inform these handlers when streaming has ended, use the [**AVIStreamEndStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreamendstreaming) function.</span></span> <span data-ttu-id="b47af-129">Questa funzione consente al gestore del flusso di deallocare le risorse allocate per **AVIStreamBeginStreaming**.</span><span class="sxs-lookup"><span data-stu-id="b47af-129">This function lets the stream handler deallocate the resources it allocated for **AVIStreamBeginStreaming**.</span></span>

<span data-ttu-id="b47af-130">La funzione [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) non fornisce servizi di decompressione.</span><span class="sxs-lookup"><span data-stu-id="b47af-130">The [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function does not provide decompression services.</span></span> <span data-ttu-id="b47af-131">Per informazioni su come comprimere e decomprimere flussi audio, vedere [Gestione compressione audio](audio-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="b47af-131">For information about compressing and decompressing audio streams, see [Audio Compression Manager](audio-compression-manager.md).</span></span> <span data-ttu-id="b47af-132">Per informazioni su come comprimere e decomprimere flussi video, vedere [Gestione compressione video](video-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="b47af-132">For information about compressing and decompressing video streams, see [Video Compression Manager](video-compression-manager.md).</span></span> <span data-ttu-id="b47af-133">Per informazioni su come comprimere e decomprimere singoli frame in un flusso video, vedere [utilizzo di dati video compressi in un flusso](working-with-compressed-video-data-in-a-stream.md).</span><span class="sxs-lookup"><span data-stu-id="b47af-133">For information about compressing and decompressing individual frames in a video stream, see [Working with Compressed Video Data in a Stream](working-with-compressed-video-data-in-a-stream.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="b47af-134">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="b47af-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b47af-135">Operazioni di flusso</span><span class="sxs-lookup"><span data-stu-id="b47af-135">Stream Operations</span></span>](stream-operations.md)
</dt> </dl>

 

 