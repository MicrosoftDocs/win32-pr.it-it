---
title: Riproduzione di un dispositivo
description: Riproduzione di un dispositivo
ms.assetid: 48d83e06-9e6e-498b-ad9b-0b66f235db25
keywords:
- Comando MCI_PLAY
- Finestra di riproduzione MCIAVI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f73d8b6539e842a1ffa632ed1efae5c2c8d3cda1
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "103963082"
---
# <a name="playing-a-device"></a><span data-ttu-id="7b523-105">Riproduzione di un dispositivo</span><span class="sxs-lookup"><span data-stu-id="7b523-105">Playing a Device</span></span>

<span data-ttu-id="7b523-106">Il comando [**Play**](play.md) ([**MCI \_ Play**](mci-play.md)) avvia la riproduzione di un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7b523-106">The [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)) command starts playing a device.</span></span> <span data-ttu-id="7b523-107">Senza flag, questo comando inizia la riproduzione dalla posizione corrente e viene riprodotto fino a quando il comando non viene interrotto o fino a quando non viene raggiunta la fine del file multimediale o del file.</span><span class="sxs-lookup"><span data-stu-id="7b523-107">Without any flags, this command starts playing from the current position and plays until the command is interrupted or until the end of the media or file is reached.</span></span> <span data-ttu-id="7b523-108">Dopo la riproduzione, la posizione corrente si trova alla fine del supporto.</span><span class="sxs-lookup"><span data-stu-id="7b523-108">After playback, the current position is at the end of the media.</span></span> <span data-ttu-id="7b523-109">È inoltre possibile utilizzare il comando [**Seek**](seek.md) ([**MCI \_ Seek**](mci-seek.md)) per modificare la posizione corrente.</span><span class="sxs-lookup"><span data-stu-id="7b523-109">You can also use the [**seek**](seek.md) ([**MCI\_SEEK**](mci-seek.md)) command to change the current position.</span></span>

<span data-ttu-id="7b523-110">La maggior parte dei dispositivi che supportano il comando **Play** supporta anche i flag "from" (MCI \_ from) e "to" (MCI \_ to).</span><span class="sxs-lookup"><span data-stu-id="7b523-110">Most devices that support the **play** command also support the "from" (MCI\_FROM) and "to" (MCI\_TO) flags.</span></span> <span data-ttu-id="7b523-111">Questi flag indicano la posizione in cui il dispositivo deve avviare e arrestare la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="7b523-111">These flags indicate the position at which the device should start and stop playing.</span></span> <span data-ttu-id="7b523-112">Ad esempio, il comando seguente riproduce un disco audio CD dall'inizio della prima traccia usando la funzione [**mciSendString**](/previous-versions//dd757161(v=vs.85)) :</span><span class="sxs-lookup"><span data-stu-id="7b523-112">For example, the following command plays a CD audio disc from the beginning of the first track using the [**mciSendString**](/previous-versions//dd757161(v=vs.85)) function:</span></span>


```C++
mciSendString("play cdaudio from 0", lpszReturnString, 
    lstrlen(lpszReturnString), NULL);
```



<span data-ttu-id="7b523-113">Alcuni tipi di dispositivi estendono questo comando per sfruttare le funzionalità di un determinato dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7b523-113">Some device types extend this command to exploit the capabilities of a particular device.</span></span> <span data-ttu-id="7b523-114">Ad esempio, il comando [**Play**](play.md) per il tipo di dispositivo **videodisco** include i flag "Fast" (MCI \_ VD \_ Play \_ Fast), "Slow" (MCI \_ VD \_ Play \_ Slow) e "Scan" (MCI \_ VD \_ Play \_ Scan).</span><span class="sxs-lookup"><span data-stu-id="7b523-114">For example, the [**play**](play.md) command for the **videodisc** device type includes the "fast" (MCI\_VD\_PLAY\_FAST) , "slow" (MCI\_VD\_PLAY\_SLOW), and "scan" (MCI\_VD\_PLAY\_SCAN) flags.</span></span>

> [!Note]  
> <span data-ttu-id="7b523-115">Le unità assegnate al valore di posizione dipendono dal formato dell'ora usato dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7b523-115">The units assigned to the position value depend on the time format used by the device.</span></span> <span data-ttu-id="7b523-116">Ogni dispositivo ha un formato di ora predefinito, ma è necessario specificare il formato dell'ora usando il comando [**set**](set.md) ([**MCI \_ set**](mci-set.md)) prima di emettere tutti i comandi che usano i valori di posizione.</span><span class="sxs-lookup"><span data-stu-id="7b523-116">Each device has a default time format, but you should specify the time format by using the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command before issuing any commands that use position values.</span></span>

 

## <a name="playing-an-avi-file"></a><span data-ttu-id="7b523-117">Riproduzione di un file AVI</span><span class="sxs-lookup"><span data-stu-id="7b523-117">Playing an AVI File</span></span>

<span data-ttu-id="7b523-118">I file video in Windows sono costituiti da almeno due flussi di dati con interfoliazione: un flusso video (pittorico) e un flusso audio.</span><span class="sxs-lookup"><span data-stu-id="7b523-118">Video files in Windows are made up of at least two interleaved data streams: a video (pictorial) stream and an audio stream.</span></span> <span data-ttu-id="7b523-119">È possibile riprodurre facilmente i file audio-video con interfoliazione (AVI) usando i comandi MCI.</span><span class="sxs-lookup"><span data-stu-id="7b523-119">You can easily play these audio-video interleaved (AVI) files by using MCI commands.</span></span> <span data-ttu-id="7b523-120">Le sezioni seguenti illustrano la riproduzione di file AVI.</span><span class="sxs-lookup"><span data-stu-id="7b523-120">The following sections discuss playing AVI files.</span></span>

## <a name="setting-up-an-mciavi-playback-window"></a><span data-ttu-id="7b523-121">Impostazione di una finestra di riproduzione MCIAVI</span><span class="sxs-lookup"><span data-stu-id="7b523-121">Setting Up an MCIAVI Playback Window</span></span>

<span data-ttu-id="7b523-122">L'applicazione può specificare le opzioni seguenti per definire la finestra di riproduzione per la riproduzione di un file AVI:</span><span class="sxs-lookup"><span data-stu-id="7b523-122">Your application can specify the following options to define the playback window for playing an AVI file:</span></span>

-   <span data-ttu-id="7b523-123">Usare la finestra popup predefinita del driver MCIAVI.</span><span class="sxs-lookup"><span data-stu-id="7b523-123">Use the MCIAVI driver's default pop-up window.</span></span>
-   <span data-ttu-id="7b523-124">Specificare una finestra padre e uno stile finestra che il driver MCIAVI può usare per creare la finestra di riproduzione.</span><span class="sxs-lookup"><span data-stu-id="7b523-124">Specify a parent window and window style that the MCIAVI driver can use to create the playback window.</span></span>
-   <span data-ttu-id="7b523-125">Specificare una finestra di riproduzione per il driver MCIAVI da usare per la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="7b523-125">Specify a playback window for the MCIAVI driver to use for playback.</span></span>
-   <span data-ttu-id="7b523-126">Riprodurre il file AVI in una visualizzazione a schermo intero.</span><span class="sxs-lookup"><span data-stu-id="7b523-126">Play the AVI file on a full-screen display.</span></span>

<span data-ttu-id="7b523-127">Se l'applicazione non specifica alcuna opzione della finestra, il driver MCIAVI crea una finestra predefinita per la riproduzione della sequenza.</span><span class="sxs-lookup"><span data-stu-id="7b523-127">If your application does not specify any window options, the MCIAVI driver creates a default window for playing the sequence.</span></span> <span data-ttu-id="7b523-128">Il driver crea questa finestra di riproduzione per il comando [**Apri**](open.md) ([**MCI \_ Open**](mci-open.md)), ma non Visualizza la finestra finché l'applicazione non invia un comando per visualizzare la finestra o riprodurre il file.</span><span class="sxs-lookup"><span data-stu-id="7b523-128">The driver creates this playback window for the [**open**](open.md) ([**MCI\_OPEN**](mci-open.md)) command, but it does not display the window until your application sends a command to either display the window or play the file.</span></span> <span data-ttu-id="7b523-129">Questa finestra di riproduzione predefinita è una finestra popup con un bordo di ridimensionamento, una barra del titolo, un frame spessa, un menu **finestra** e un pulsante Riduci a icona.</span><span class="sxs-lookup"><span data-stu-id="7b523-129">This default playback window is a pop-up window with a sizing border, title bar, a thick frame, a **window** menu, and a Minimize button.</span></span>

<span data-ttu-id="7b523-130">L'applicazione può inoltre specificare un handle della finestra padre e uno stile della finestra quando emette il comando **Apri** .</span><span class="sxs-lookup"><span data-stu-id="7b523-130">Your application can also specify a parent window handle and a window style when it issues the **open** command.</span></span> <span data-ttu-id="7b523-131">In questo caso, il driver MCIAVI crea una finestra basata su queste specifiche anziché sulla finestra popup predefinita.</span><span class="sxs-lookup"><span data-stu-id="7b523-131">In this case, the MCIAVI driver creates a window based on these specifications instead of the default pop-up window.</span></span> <span data-ttu-id="7b523-132">L'applicazione può specificare qualsiasi stile di finestra disponibile per la funzione [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindowa) .</span><span class="sxs-lookup"><span data-stu-id="7b523-132">Your application can specify any window style available for the [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindowa) function.</span></span> <span data-ttu-id="7b523-133">Gli stili che richiedono una finestra padre, ad esempio WS \_ child, devono includere un handle della finestra padre.</span><span class="sxs-lookup"><span data-stu-id="7b523-133">Styles that require a parent window, such as WS\_CHILD, should include a parent window handle.</span></span>

<span data-ttu-id="7b523-134">L'applicazione può anche creare una propria finestra e fornire l'handle al driver MCIAVI usando il comando [**finestra**](window.md) ([**\_ finestra MCI**](mci-window.md)).</span><span class="sxs-lookup"><span data-stu-id="7b523-134">Your application can also create its own window and supply the handle to the MCIAVI driver by using the [**window**](window.md) ([**MCI\_WINDOW**](mci-window.md)) command.</span></span> <span data-ttu-id="7b523-135">Il driver MCIAVI usa questa finestra anziché crearne una propria.</span><span class="sxs-lookup"><span data-stu-id="7b523-135">The MCIAVI driver uses this window instead of creating one of its own.</span></span>

<span data-ttu-id="7b523-136">Quando il driver MCIAVI crea la finestra di riproduzione o ottiene un handle di finestra dall'applicazione, non Visualizza la finestra finché l'applicazione non riproduce la sequenza o Invia un comando per visualizzare la finestra.</span><span class="sxs-lookup"><span data-stu-id="7b523-136">When the MCIAVI driver creates the playback window or obtains a window handle from your application, it does not display the window until your application either plays the sequence or sends a command to display the window.</span></span> <span data-ttu-id="7b523-137">L'applicazione può usare il comando **finestra** per visualizzare la finestra senza riprodurre la sequenza.</span><span class="sxs-lookup"><span data-stu-id="7b523-137">Your application can use the **window** command to display the window without playing the sequence.</span></span> <span data-ttu-id="7b523-138">Ad esempio, il comando seguente Visualizza la finestra usando [**mciSendString**](/previous-versions//dd757161(v=vs.85)):</span><span class="sxs-lookup"><span data-stu-id="7b523-138">For example, the following command displays the window using [**mciSendString**](/previous-versions//dd757161(v=vs.85)):</span></span>


```C++
mciSendString("window movie state show", lpszReturnString,
    lstrlen(lpszReturnString), NULL);
```



<span data-ttu-id="7b523-139">In questo esempio, "Movie" è un alias per il dispositivo Digital-video.</span><span class="sxs-lookup"><span data-stu-id="7b523-139">In this example, "movie" is an alias for the digital-video device.</span></span>

<span data-ttu-id="7b523-140">L'applicazione può anche riprodurre un file AVI a schermo intero.</span><span class="sxs-lookup"><span data-stu-id="7b523-140">Your application can also play an AVI file full-screen.</span></span> <span data-ttu-id="7b523-141">Per riprodurre a schermo intero, modificare il comando [**Play**](play.md) ([**MCI \_ Play**](mci-play.md)) con il flag "fullscreen \_ MCIAVI \_ Play fullscreen" \_ .</span><span class="sxs-lookup"><span data-stu-id="7b523-141">To play full-screen, modify the [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)) command with the "fullscreen" (MCI\_MCIAVI\_PLAY\_FULLSCREEN) flag.</span></span> <span data-ttu-id="7b523-142">Quando l'applicazione usa questo flag, il driver MCIAVI usa un formato a schermo intero 320 per 240 pixel per la riproduzione della sequenza.</span><span class="sxs-lookup"><span data-stu-id="7b523-142">When your application uses this flag, the MCIAVI driver uses a 320- by 240-pixel full-screen format for playing the sequence.</span></span> <span data-ttu-id="7b523-143">Ad esempio, il comando seguente riproduce il file aperto a schermo intero (usando "Movie" come alias):</span><span class="sxs-lookup"><span data-stu-id="7b523-143">For example, the following command plays the opened file full-screen (using "movie" as an alias):</span></span>


```C++
mciSendString("play movie fullscreen", lpszReturnString,
    lstrlen(lpszReturnString), NULL);
```



## <a name="changing-the-playback-state-for-an-avi-file"></a><span data-ttu-id="7b523-144">Modifica dello stato di riproduzione per un file AVI</span><span class="sxs-lookup"><span data-stu-id="7b523-144">Changing the Playback State for an AVI file</span></span>

<span data-ttu-id="7b523-145">L'applicazione può usare il comando [**Seek**](seek.md) ([**MCI \_ Seek**](mci-seek.md)) per spostare la posizione corrente all'inizio, alla fine o a una posizione arbitraria in un file AVI.</span><span class="sxs-lookup"><span data-stu-id="7b523-145">Your application can use the [**seek**](seek.md) ([**MCI\_SEEK**](mci-seek.md)) command to move the current position to the beginning, the end, or an arbitrary position in an AVI file.</span></span> <span data-ttu-id="7b523-146">Sono disponibili due modalità di ricerca per il driver MCIAVI: esatta e inesatta.</span><span class="sxs-lookup"><span data-stu-id="7b523-146">There are two seek modes for the MCIAVI driver: exact and inexact.</span></span> <span data-ttu-id="7b523-147">L'applicazione può modificare la modalità di ricerca usando il comando [**set**](set.md) ([**MCI \_ set**](mci-set.md)).</span><span class="sxs-lookup"><span data-stu-id="7b523-147">Your application can change the seek mode by using the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command.</span></span> <span data-ttu-id="7b523-148">Quando si usa il **set** "seek exactly on", il driver MCIAVI cerca esattamente il frame specificato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7b523-148">When you use **set** "seek exactly on", the MCIAVI driver seeks exactly to the frame your application specifies.</span></span> <span data-ttu-id="7b523-149">Questo potrebbe causare un ritardo se il file viene compresso temporaneamente e l'applicazione non specifica un fotogramma chiave.</span><span class="sxs-lookup"><span data-stu-id="7b523-149">This might cause a delay if the file is temporally compressed and your application does not specify a key frame.</span></span> <span data-ttu-id="7b523-150">Quando si usa **set** "seek exactly off", il driver MCIAVI Cerca il fotogramma chiave più vicino in un file compresso temporaneamente.</span><span class="sxs-lookup"><span data-stu-id="7b523-150">When you use **set** "seek exactly off", the MCIAVI driver seeks to the nearest key frame in a temporally compressed file.</span></span>

<span data-ttu-id="7b523-151">Alcuni comandi MCI consentono all'applicazione di modificare in altri modi la riproduzione di un file AVI.</span><span class="sxs-lookup"><span data-stu-id="7b523-151">Some MCI commands let your application alter the playback of an AVI file in other ways.</span></span> <span data-ttu-id="7b523-152">Ad esempio, un file AVI, per impostazione predefinita, riproduce la velocità normale, ma l'applicazione può aumentare o diminuire questa velocità usando il flag "Speed" con il comando **set** .</span><span class="sxs-lookup"><span data-stu-id="7b523-152">For example, an AVI file, by default, plays at its normal speed, but your application can increase or decrease this speed by using the "speed" flag with the **set** command.</span></span> <span data-ttu-id="7b523-153">Per i file AVI, un valore di velocità pari a 1000 è tipico.</span><span class="sxs-lookup"><span data-stu-id="7b523-153">For AVI files, a speed value of 1000 is typical.</span></span> <span data-ttu-id="7b523-154">Quindi, per riprodurre un film a metà della velocità tipica, l'applicazione può usare il **set** di comandi "movie Speed 500"; in alternativa, è possibile usare l' **impostazione** "movie Speed 2000" per riprodurre la sequenza al doppio della velocità normale.</span><span class="sxs-lookup"><span data-stu-id="7b523-154">Thus, to play a movie at half its typical speed, your application can use the command **set** "movie speed 500"; alternatively, it can use **set** "movie speed 2000" to play the sequence at twice its normal speed.</span></span>

<span data-ttu-id="7b523-155">Il comando [**seaudio**](setaudio.md) ([**MCI \_ sefonica**](mci-setaudio.md)) consente all'applicazione di controllare la parte audio di un file AVI.</span><span class="sxs-lookup"><span data-stu-id="7b523-155">The [**setaudio**](setaudio.md) ([**MCI\_SETAUDIO**](mci-setaudio.md)) command lets your application control the audio portion of an AVI file.</span></span> <span data-ttu-id="7b523-156">Nell'applicazione è possibile disattivare l'audio durante la riproduzione o, nel caso di più file di flusso audio, selezionare il flusso audio che viene riprodotto.</span><span class="sxs-lookup"><span data-stu-id="7b523-156">Your application can mute audio during playback or, in the case of multiple audio stream files, select the audio stream that is played.</span></span>

<span data-ttu-id="7b523-157">Il driver MCIAVI dispone di una finestra di dialogo per controllare alcune opzioni di riproduzione.</span><span class="sxs-lookup"><span data-stu-id="7b523-157">The MCIAVI driver has a dialog box to control some of its playback options.</span></span> <span data-ttu-id="7b523-158">Alcune opzioni disponibili per l'utente includono la selezione della riproduzione orientata a finestre o a schermo intero, la selezione della modalità di ricerca e l'ingrandimento dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="7b523-158">Some of the options available to the user include selecting window-oriented or full-screen playback, selecting the seek mode, and zooming the image.</span></span> <span data-ttu-id="7b523-159">L'applicazione può disporre di MCIAVI per visualizzare questa finestra di dialogo tramite il comando [**Configura**](configure.md) ([**MCI \_ Configure**](mci-configure.md)).</span><span class="sxs-lookup"><span data-stu-id="7b523-159">Your application can have MCIAVI display this dialog box by using the [**configure**](configure.md) ([**MCI\_CONFIGURE**](mci-configure.md)) command.</span></span>

## <a name="stream-handlers"></a><span data-ttu-id="7b523-160">Gestori di flusso</span><span class="sxs-lookup"><span data-stu-id="7b523-160">Stream Handlers</span></span>

<span data-ttu-id="7b523-161">I dati in un file AVI vengono considerati come una serie di flussi.</span><span class="sxs-lookup"><span data-stu-id="7b523-161">The data in an AVI file is treated as a series of streams.</span></span> <span data-ttu-id="7b523-162">Un file AVI contiene in genere un flusso audio e video e potrebbe essere presente anche un flusso personalizzato che contiene testo o altri dati personalizzati.</span><span class="sxs-lookup"><span data-stu-id="7b523-162">An AVI file typically contains an audio and video stream, and there might also be a custom stream that contains text or some other custom data.</span></span> <span data-ttu-id="7b523-163">Il driver MCIAVI può usare gestori diversi per questi flussi di dati.</span><span class="sxs-lookup"><span data-stu-id="7b523-163">The MCIAVI driver can use different handlers for these data streams.</span></span> <span data-ttu-id="7b523-164">Per altre informazioni sui file AVI personalizzati, vedere [gestori di file e flussi personalizzati](custom-file-and-stream-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="7b523-164">For more information about custom AVI files, see [Custom File and Stream Handlers](custom-file-and-stream-handlers.md).</span></span>

 

 