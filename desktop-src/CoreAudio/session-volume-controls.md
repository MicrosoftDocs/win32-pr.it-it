---
description: Controlli volume sessione
ms.assetid: e6d112f9-08c9-4d95-b37b-267beebd0d7f
title: Controlli volume sessione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: add29b18b39c942c54926190ef9c0f85e447bb88
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103877945"
---
# <a name="session-volume-controls"></a><span data-ttu-id="92c8a-103">Controlli volume sessione</span><span class="sxs-lookup"><span data-stu-id="92c8a-103">Session Volume Controls</span></span>

<span data-ttu-id="92c8a-104">Come spiegato in precedenza, i client WASAPI possono controllare individualmente il livello del volume di ogni [sessione audio](audio-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="92c8a-104">As explained previously, WASAPI clients can individually control the volume level of each [audio session](audio-sessions.md).</span></span> <span data-ttu-id="92c8a-105">WASAPI applica l'impostazione del volume per una sessione in modo uniforme a tutti i flussi della sessione.</span><span class="sxs-lookup"><span data-stu-id="92c8a-105">WASAPI applies the volume setting for a session uniformly to all of the streams in the session.</span></span> <span data-ttu-id="92c8a-106">Ogni livello di volume è un valore compreso tra 0,0 e 1,0, dove 0,0 indica il silenzio e 1,0 indica il volume completo (nessuna attenuazione).</span><span class="sxs-lookup"><span data-stu-id="92c8a-106">Each volume level is a value in the range 0.0 to 1.0, where 0.0 indicates silence and 1.0 indicates full volume (no attenuation).</span></span>

<span data-ttu-id="92c8a-107">Un client crea in modo implicito una sessione assegnando il primo flusso alla sessione.</span><span class="sxs-lookup"><span data-stu-id="92c8a-107">A client implicitly creates a session by assigning the first stream to that session.</span></span> <span data-ttu-id="92c8a-108">Il livello di volume predefinito della nuova sessione è 1,0.</span><span class="sxs-lookup"><span data-stu-id="92c8a-108">The default volume level of the new session is 1.0.</span></span> <span data-ttu-id="92c8a-109">Come illustrato in precedenza, l'utente può regolare il livello del volume della sessione tramite l'interfaccia utente di un programma di controllo (ad esempio, sndvol) che è un client WASAPI.</span><span class="sxs-lookup"><span data-stu-id="92c8a-109">As discussed previously, the user can adjust the volume level of the session through the user interface of a control program (for example, Sndvol) that is a WASAPI client.</span></span> <span data-ttu-id="92c8a-110">Le impostazioni di controllo sono permanenti.</span><span class="sxs-lookup"><span data-stu-id="92c8a-110">The control settings are persistent.</span></span>

<span data-ttu-id="92c8a-111">Oltre alle impostazioni del volume controllate dal client, il sistema applica le proprie impostazioni del volume alle sessioni.</span><span class="sxs-lookup"><span data-stu-id="92c8a-111">In addition to the client-controlled volume settings, the system applies its own volume settings to sessions.</span></span> <span data-ttu-id="92c8a-112">Queste impostazioni sono basate sui criteri audio e cambiano in modo dinamico in risposta alle modifiche apportate ai flussi che compongono la combinazione audio globale.</span><span class="sxs-lookup"><span data-stu-id="92c8a-112">These settings are based on audio policy and change dynamically in response to changes in the streams that make up the global audio mix.</span></span> <span data-ttu-id="92c8a-113">Per ulteriori informazioni sui criteri audio, vedere [componenti audio in modalità utente](user-mode-audio-components.md).</span><span class="sxs-lookup"><span data-stu-id="92c8a-113">For more information about audio policy, see [User-Mode Audio Components](user-mode-audio-components.md).</span></span>

<span data-ttu-id="92c8a-114">Il software di sistema che implementa il controllo del volume per ogni flusso moltiplica gli esempi PCM nel flusso in base al livello di volume effettivo.</span><span class="sxs-lookup"><span data-stu-id="92c8a-114">The system software that implements the volume control for each stream multiplies the PCM samples in the stream by the effective volume level.</span></span> <span data-ttu-id="92c8a-115">Il livello di volume effettivo è il risultato della moltiplicazione delle impostazioni del volume del client e del sistema.</span><span class="sxs-lookup"><span data-stu-id="92c8a-115">The effective volume level is the result of multiplying the client and system volume settings.</span></span> <span data-ttu-id="92c8a-116">Quindi, la variazione risultante nell'ampiezza del segnale è una combinazione lineare dei livelli di volume del client e di sistema.</span><span class="sxs-lookup"><span data-stu-id="92c8a-116">Thus, the resulting change in signal amplitude is a linear combination of the client and system volume levels.</span></span> <span data-ttu-id="92c8a-117">Se ad esempio il livello del volume del client è 0,8 e il livello del volume di sistema è 0,5, il livello di volume effettivo è (0,8)<sup>.</sup> (0,5) = 0,4.</span><span class="sxs-lookup"><span data-stu-id="92c8a-117">For example, if the client volume level is 0.8 and the system volume level is 0.5, the effective volume level is (0.8)<sup>.</sup>(0.5) = 0.4.</span></span>

<span data-ttu-id="92c8a-118">Si noti che la sonorità percepita non è lineare rispetto all'ampiezza del segnale.</span><span class="sxs-lookup"><span data-stu-id="92c8a-118">Note that perceived loudness is not linear with respect to signal amplitude.</span></span> <span data-ttu-id="92c8a-119">Al contrario, la sonorità varia approssimativamente come il logaritmo del livello di volume v:</span><span class="sxs-lookup"><span data-stu-id="92c8a-119">Instead, loudness varies approximately as the logarithm of the volume level v:</span></span>

<span data-ttu-id="92c8a-120">sonorità in decibel = 20<sup>.</sup> log ₁ ₀ (v)</span><span class="sxs-lookup"><span data-stu-id="92c8a-120">loudness in decibels = 20<sup>.</sup>log₁₀(v)</span></span>

<span data-ttu-id="92c8a-121">Pertanto, l'impostazione v = 0,5 attenua la sonorità del segnale originale (il segnale prima che venga applicato il livello del volume) di 6 decibel, impostando v = 0,25, il segnale viene attenuato di 12 decibel e così via.</span><span class="sxs-lookup"><span data-stu-id="92c8a-121">Thus, setting v = 0.5 attenuates the loudness of the original signal (the signal before the volume level is applied) by 6 decibels, setting v = 0.25 attenuates the signal by 12 decibels, and so on.</span></span> <span data-ttu-id="92c8a-122">Un livello di volume v = 1,0, corrispondente a 0 decibel, non modifica il livello del segnale originale.</span><span class="sxs-lookup"><span data-stu-id="92c8a-122">A volume level v = 1.0, corresponding to 0 decibels, does not alter the original signal level.</span></span>

<span data-ttu-id="92c8a-123">Le applicazioni audio con interfacce utente per il controllo del livello del volume visualizzano in genere i dispositivi di scorrimento che generano modifiche in sonorità percepite, che sono linearmente proporzionali alle modifiche nella posizione del dispositivo di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="92c8a-123">Audio applications with user interfaces for controlling the volume level typically display sliders that generate changes in perceived loudness that are linearly proportional to changes in slider position.</span></span> <span data-ttu-id="92c8a-124">Per produrre una relazione lineare tra la sonorità percepita e la posizione del dispositivo di scorrimento, l'applicazione deve definire una relazione non lineare tra il livello di volume v e la posizione del dispositivo di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="92c8a-124">To produce a linear relationship between perceived loudness and slider position, the application must define a nonlinear relationship between the volume level v and the slider position.</span></span> <span data-ttu-id="92c8a-125">Per altre informazioni, vedere [controlli del volume con rastremazione audio](audio-tapered-volume-controls.md).</span><span class="sxs-lookup"><span data-stu-id="92c8a-125">For more information, see [Audio-Tapered Volume Controls](audio-tapered-volume-controls.md).</span></span>

<span data-ttu-id="92c8a-126">Come spiegato in precedenza, il programma di controllo del volume di sistema, sndvol, Visualizza i dispositivi di scorrimento del volume per le sessioni audio che giocano in ogni dispositivo di rendering audio.</span><span class="sxs-lookup"><span data-stu-id="92c8a-126">As explained previously, the system volume-control program, Sndvol, displays volume sliders for the audio sessions that are playing on each audio rendering device.</span></span> <span data-ttu-id="92c8a-127">Questi dispositivi di scorrimento vengono visualizzati nella casella di gruppo **applicazioni** con etichetta nella finestra SndVol.</span><span class="sxs-lookup"><span data-stu-id="92c8a-127">These sliders appear in the group box labeled **Applications** in the SndVol window.</span></span> <span data-ttu-id="92c8a-128">In genere, ogni sessione contiene tutti i flussi di riproduzione da una particolare finestra dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92c8a-128">Typically, each session contains all of the playback streams from a particular application window.</span></span> <span data-ttu-id="92c8a-129">Attraverso i dispositivi di scorrimento nella finestra sndvol, gli utenti controllano i livelli di volume delle singole applicazioni audio.</span><span class="sxs-lookup"><span data-stu-id="92c8a-129">Through the sliders in the Sndvol window, users control the volume levels of individual audio applications.</span></span>

<span data-ttu-id="92c8a-130">Come regola generale, un'applicazione deve assegnare tutti i relativi flussi di riproduzione alla stessa sessione audio.</span><span class="sxs-lookup"><span data-stu-id="92c8a-130">As a general rule, an application should assign all of its playback streams to the same audio session.</span></span> <span data-ttu-id="92c8a-131">WASAPI non impedisce a un'applicazione di distribuire i flussi di riproduzione tra più sessioni.</span><span class="sxs-lookup"><span data-stu-id="92c8a-131">WASAPI does not prevent an application from distributing its playback streams among multiple sessions.</span></span> <span data-ttu-id="92c8a-132">Tuttavia, la proliferazione risultante di dispositivi di scorrimento del volume in sndvol potrebbe confondere gli utenti.</span><span class="sxs-lookup"><span data-stu-id="92c8a-132">However, the resulting proliferation of volume sliders in Sndvol might confuse users.</span></span>

<span data-ttu-id="92c8a-133">In alternativa, una finestra dell'applicazione può visualizzare un dispositivo di scorrimento del volume.</span><span class="sxs-lookup"><span data-stu-id="92c8a-133">As an option, an application window can display a volume slider.</span></span> <span data-ttu-id="92c8a-134">Il dispositivo di scorrimento dell'applicazione deve rispecchiare sempre lo stato del dispositivo di scorrimento sndvol corrispondente.</span><span class="sxs-lookup"><span data-stu-id="92c8a-134">The application slider should reflect the state of the corresponding Sndvol slider at all times.</span></span> <span data-ttu-id="92c8a-135">Pertanto, se l'utente modifica il livello del volume spostando il dispositivo di scorrimento nella finestra dell'applicazione, il dispositivo di scorrimento corrispondente nella finestra sndvol dovrebbe essere spostato all'uniformità con il dispositivo di scorrimento dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="92c8a-135">Thus, if the user changes the volume level by moving the slider in the application window, then the corresponding slider in the Sndvol window should move in unison with the application slider.</span></span> <span data-ttu-id="92c8a-136">Analogamente, se l'utente sposta il dispositivo di scorrimento sndvol, il dispositivo di scorrimento dell'applicazione verrà spostato all'unisono con il dispositivo di scorrimento sndvol.</span><span class="sxs-lookup"><span data-stu-id="92c8a-136">Similarly, if the user moves the Sndvol slider, then the application slider should move in unison with the Sndvol slider.</span></span>

<span data-ttu-id="92c8a-137">Per supportare questo comportamento, WASAPI implementa l'interfaccia [**ISimpleAudioVolume**](/windows/desktop/api/Audioclient/nn-audioclient-isimpleaudiovolume) .</span><span class="sxs-lookup"><span data-stu-id="92c8a-137">To support this behavior, WASAPI implements the [**ISimpleAudioVolume**](/windows/desktop/api/Audioclient/nn-audioclient-isimpleaudiovolume) interface.</span></span> <span data-ttu-id="92c8a-138">Quando l'utente sposta il dispositivo di scorrimento dell'applicazione, l'applicazione chiama il metodo [**ISimpleAudioVolume:: SetMasterVolume**](/windows/desktop/api/Audioclient/nf-audioclient-isimpleaudiovolume-setmastervolume) per regolare di conseguenza il livello del volume di sessione.</span><span class="sxs-lookup"><span data-stu-id="92c8a-138">When the user moves the application slider, the application calls the [**ISimpleAudioVolume::SetMasterVolume**](/windows/desktop/api/Audioclient/nf-audioclient-isimpleaudiovolume-setmastervolume) method to adjust the session volume level accordingly.</span></span> <span data-ttu-id="92c8a-139">Sndvol monitora le modifiche del volume apportate tramite questo metodo e riflette le modifiche nei dispositivi di scorrimento del volume visualizzati.</span><span class="sxs-lookup"><span data-stu-id="92c8a-139">Sndvol monitors volume changes made through this method and reflects the changes in the volume sliders that it displays.</span></span> <span data-ttu-id="92c8a-140">Inoltre, un'applicazione può ricevere notifiche delle modifiche del volume di sessione effettuate dall'utente tramite sndvol.</span><span class="sxs-lookup"><span data-stu-id="92c8a-140">In addition, an application can receive notifications of session volume changes that the user makes through Sndvol.</span></span> <span data-ttu-id="92c8a-141">A questo scopo, l'applicazione implementa un'interfaccia [**IAudioSessionEvents**](/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessionevents) e registra l'interfaccia con WASAPI.</span><span class="sxs-lookup"><span data-stu-id="92c8a-141">For this purpose, the application implements an [**IAudioSessionEvents**](/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessionevents) interface and registers the interface with WASAPI.</span></span> <span data-ttu-id="92c8a-142">Successivamente, ogni volta che l'utente modifica il livello di volume della sessione tramite sndvol, l'applicazione riceve una chiamata di notifica tramite il metodo [**IAudioSessionEvents:: OnSimpleVolumeChanged**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessionevents-onsimplevolumechanged) .</span><span class="sxs-lookup"><span data-stu-id="92c8a-142">Thereafter, each time the user changes the session volume level through Sndvol, the application receives a notification call through the [**IAudioSessionEvents::OnSimpleVolumeChanged**](/windows/desktop/api/Audiopolicy/nf-audiopolicy-iaudiosessionevents-onsimplevolumechanged) method.</span></span> <span data-ttu-id="92c8a-143">Per un esempio di codice che implementa un'interfaccia **IAudioSessionEvents** , vedere [eventi di sessione audio](audio-session-events.md).</span><span class="sxs-lookup"><span data-stu-id="92c8a-143">For a code example that implements an **IAudioSessionEvents** interface, see [Audio Session Events](audio-session-events.md).</span></span> <span data-ttu-id="92c8a-144">Per un esempio di codice che registra un'interfaccia **IAudioSessionEvents** , vedere [eventi audio per le applicazioni audio legacy](audio-events-for-legacy-audio-applications.md).</span><span class="sxs-lookup"><span data-stu-id="92c8a-144">For a code example that registers an **IAudioSessionEvents** interface, see [Audio Events for Legacy Audio Applications](audio-events-for-legacy-audio-applications.md).</span></span>

<span data-ttu-id="92c8a-145">L'interfaccia **ISimpleAudioVolume** applica lo stesso livello di volume in modo uniforme a tutti i canali in una sessione audio.</span><span class="sxs-lookup"><span data-stu-id="92c8a-145">The **ISimpleAudioVolume** interface applies the same volume level uniformly to all of the channels in an audio session.</span></span> <span data-ttu-id="92c8a-146">Sebbene questa interfaccia soddisfi i requisiti di controllo del volume della maggior parte delle applicazioni, è possibile che alcune applicazioni richiedano funzionalità di controllo del volume più specializzate.</span><span class="sxs-lookup"><span data-stu-id="92c8a-146">Although this interface should satisfy the volume-control requirements of most applications, a few applications might require more specialized volume-control capabilities.</span></span> <span data-ttu-id="92c8a-147">L'interfaccia [**IAudioStreamVolume**](/windows/desktop/api/Audioclient/nn-audioclient-iaudiostreamvolume) controlla il volume di un singolo flusso in una sessione relativa agli altri flussi nella sessione.</span><span class="sxs-lookup"><span data-stu-id="92c8a-147">The [**IAudioStreamVolume**](/windows/desktop/api/Audioclient/nn-audioclient-iaudiostreamvolume) interface controls the volume of an individual stream in a session relative to the other streams in the session.</span></span> <span data-ttu-id="92c8a-148">**IAudioStreamVolume** consente inoltre a un client di controllare individualmente i livelli del volume di tutti i canali nel flusso.</span><span class="sxs-lookup"><span data-stu-id="92c8a-148">**IAudioStreamVolume** also enables a client to individually control the volume levels of all the channels in the stream.</span></span> <span data-ttu-id="92c8a-149">Ad esempio, un'applicazione può usare questa funzionalità per ottenere effetti audio come la simulazione del movimento spaziale di un'origine audio mediante la panoramica da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="92c8a-149">For example, an application might use this capability to achieve audio effects such as simulating spatial movement of an audio source by panning from left to right.</span></span> <span data-ttu-id="92c8a-150">Un'altra interfaccia specializzata, [**IChannelAudioVolume**](/windows/desktop/api/Audioclient/nn-audioclient-ichannelaudiovolume), controlla i livelli di volume dei singoli canali in una sessione.</span><span class="sxs-lookup"><span data-stu-id="92c8a-150">Another specialized interface, [**IChannelAudioVolume**](/windows/desktop/api/Audioclient/nn-audioclient-ichannelaudiovolume), controls the volume levels of the individual channels in a session.</span></span> <span data-ttu-id="92c8a-151">Ad esempio, un'applicazione può usare **IChannelAudioVolume** per implementare i controlli di bilanciamento per un sistema audio stereofonico.</span><span class="sxs-lookup"><span data-stu-id="92c8a-151">For example, an application might use **IChannelAudioVolume** to implement balance controls for a stereophonic sound system.</span></span>

<span data-ttu-id="92c8a-152">I dispositivi di scorrimento del volume nella casella **applicazioni** in sndvol riflettono solo le modifiche del volume effettuate tramite l'interfaccia **ISimpleAudioVolume** .</span><span class="sxs-lookup"><span data-stu-id="92c8a-152">The volume sliders in the **Applications** box in Sndvol reflect only volume changes that are made through the **ISimpleAudioVolume** interface.</span></span> <span data-ttu-id="92c8a-153">Non riflettono le modifiche del volume effettuate tramite le interfacce **IAudioStreamVolume** e **IChannelAudioVolume** .</span><span class="sxs-lookup"><span data-stu-id="92c8a-153">They do not reflect volume changes that are made through the **IAudioStreamVolume** and **IChannelAudioVolume** interfaces.</span></span> <span data-ttu-id="92c8a-154">Sebbene alcune applicazioni possano consentire agli utenti di controllare direttamente o indirettamente le impostazioni del volume tramite **IAudioStreamVolume** e **IChannelAudioVolume**, gli sviluppatori devono evitare di presentare i dispositivi di scorrimento dell'applicazione per queste impostazioni del volume che gli utenti possono confondere con i dispositivi di scorrimento del volume in sndvol.</span><span class="sxs-lookup"><span data-stu-id="92c8a-154">Although some applications might enable users to directly or indirectly control volume settings through **IAudioStreamVolume** and **IChannelAudioVolume**, developers should avoid presenting application sliders for these volume settings that users are likely to confuse with the volume sliders in Sndvol.</span></span> <span data-ttu-id="92c8a-155">In caso contrario, è possibile che un utente sposti il dispositivo di scorrimento di un'applicazione per verificare che la modifica venga riflessa in un dispositivo di scorrimento sndvol e venga confusa in caso di modifica</span><span class="sxs-lookup"><span data-stu-id="92c8a-155">Otherwise, a user might move an application slider expecting to see the change reflected in a Sndvol slider and become confused when no such change occurs.</span></span> <span data-ttu-id="92c8a-156">Gli sviluppatori possono evitare questo problema mediante un'attenta progettazione dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="92c8a-156">Developers can avoid this problem through careful user interface design.</span></span>

<span data-ttu-id="92c8a-157">Il livello di volume effettivo di qualsiasi canale della sessione submix, come sentito dagli oratori, è il prodotto dei quattro fattori a livello di volume seguenti:</span><span class="sxs-lookup"><span data-stu-id="92c8a-157">The effective volume level of any channel in the session submix, as heard at the speakers, is the product of the following four volume-level factors:</span></span>

-   <span data-ttu-id="92c8a-158">I livelli di volume per canale dei flussi nella sessione, che i client possono controllare attraverso i metodi nell'interfaccia **IAudioStreamVolume** .</span><span class="sxs-lookup"><span data-stu-id="92c8a-158">The per-channel volume levels of the streams in the session, which clients can control through the methods in the **IAudioStreamVolume** interface.</span></span>
-   <span data-ttu-id="92c8a-159">Livello del volume per canale della sessione, che i client possono controllare attraverso i metodi dell'interfaccia **IChannelAudioVolume** .</span><span class="sxs-lookup"><span data-stu-id="92c8a-159">The per-channel volume level of the session, which clients can control through the methods in the **IChannelAudioVolume** interface.</span></span>
-   <span data-ttu-id="92c8a-160">Livello del volume master della sessione, che i client possono controllare attraverso i metodi dell'interfaccia **ISimpleAudioVolume** .</span><span class="sxs-lookup"><span data-stu-id="92c8a-160">The master volume level of the session, which clients can control through the methods in the **ISimpleAudioVolume** interface.</span></span>
-   <span data-ttu-id="92c8a-161">Livello del volume basato su criteri della sessione, che viene modificato in modo dinamico dal sistema come cambia la combinazione globale.</span><span class="sxs-lookup"><span data-stu-id="92c8a-161">The policy-based volume level of the session, which the system dynamically modifies as the global mix changes.</span></span>

<span data-ttu-id="92c8a-162">Ognuno dei quattro fattori a livello di volume nell'elenco precedente è un valore compreso tra 0,0 e 1,0, dove 0,0 indica il silenzio e 1,0 indica il volume completo (nessuna attenuazione).</span><span class="sxs-lookup"><span data-stu-id="92c8a-162">Each of the four volume-level factors in the preceding list is a value in the range 0.0 to 1.0, where 0.0 indicates silence and 1.0 indicates full volume (no attenuation).</span></span> <span data-ttu-id="92c8a-163">Il livello di volume effettivo è anche un valore compreso tra 0,0 e 1,0.</span><span class="sxs-lookup"><span data-stu-id="92c8a-163">The effective volume level is also a value in the range 0.0 to 1.0.</span></span>

<span data-ttu-id="92c8a-164">Il motore audio applica il livello di volume effettivo per ogni canale ai canali in un flusso prima di combinare il flusso con gli altri flussi nella sessione audio.</span><span class="sxs-lookup"><span data-stu-id="92c8a-164">The audio engine applies the effective volume level for each channel to the channels in a stream before mixing the stream with the other streams in the audio session.</span></span> <span data-ttu-id="92c8a-165">Se qualsiasi valore di esempio in un canale supera 0 decibel dopo che il motore audio li ha moltiplicato per il livello di volume effettivo, il motore Ritaglia gli esempi prima di aggiungerli alla sessione submix.</span><span class="sxs-lookup"><span data-stu-id="92c8a-165">If any sample values in a channel exceed 0 decibels after the audio engine has multiplied them by the effective volume level, the engine clips the samples before adding them to the session submix.</span></span>

## <a name="related-topics"></a><span data-ttu-id="92c8a-166">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="92c8a-166">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="92c8a-167">Controlli del volume</span><span class="sxs-lookup"><span data-stu-id="92c8a-167">Volume Controls</span></span>](volume-controls.md)
</dt> </dl>

 

 



