---
description: Tipi di intestazione bitmap
ms.assetid: 6df4655a-f707-4893-b6e6-f7e4d7f67b4e
title: Tipi di intestazione bitmap
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5910b0fb5be1166e807db1f3362186a206abc2b7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103880333"
---
# <a name="bitmap-header-types"></a><span data-ttu-id="540e4-103">Tipi di intestazione bitmap</span><span class="sxs-lookup"><span data-stu-id="540e4-103">Bitmap Header Types</span></span>

<span data-ttu-id="540e4-104">La bitmap ha quattro tipi di intestazione di base:</span><span class="sxs-lookup"><span data-stu-id="540e4-104">The bitmap has four basic header types:</span></span>

-   [<span data-ttu-id="540e4-105">**STRUTTURA BITMAPCOREHEADER**</span><span class="sxs-lookup"><span data-stu-id="540e4-105">**BITMAPCOREHEADER**</span></span>](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader)
-   <span data-ttu-id="540e4-106">[**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="540e4-106">[**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85))</span></span>
-   [<span data-ttu-id="540e4-107">**BITMAPV4HEADER**</span><span class="sxs-lookup"><span data-stu-id="540e4-107">**BITMAPV4HEADER**</span></span>](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)
-   [<span data-ttu-id="540e4-108">**BITMAPV5HEADER**</span><span class="sxs-lookup"><span data-stu-id="540e4-108">**BITMAPV5HEADER**</span></span>](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header)

<span data-ttu-id="540e4-109">I quattro tipi di intestazioni bitmap sono distinti dal membro **size** , che è il primo **DWORD** in ogni struttura.</span><span class="sxs-lookup"><span data-stu-id="540e4-109">The four types of bitmap headers are differentiated by the **Size** member, which is the first **DWORD** in each of the structures.</span></span>

<span data-ttu-id="540e4-110">La struttura [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) è una struttura [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) estesa, ovvero una struttura [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) estesa.</span><span class="sxs-lookup"><span data-stu-id="540e4-110">The [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structure is an extended [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) structure, which is an extended [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) structure.</span></span> <span data-ttu-id="540e4-111">Tuttavia, **BITMAPINFOHEADER** e [**struttura BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) hanno solo il membro **size** in comune con altre strutture di intestazione bitmap.</span><span class="sxs-lookup"><span data-stu-id="540e4-111">However, the **BITMAPINFOHEADER** and [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) have only the **Size** member in common with other bitmap header structures.</span></span>

<span data-ttu-id="540e4-112">I formati [**struttura BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) e [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) sono stati sostituiti rispettivamente dai formati [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) e [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="540e4-112">The [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) and [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header) formats have been superseded by [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) and [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) formats, respectively.</span></span> <span data-ttu-id="540e4-113">I formati **struttura BITMAPCOREHEADER** e **BITMAPV4HEADER** vengono presentati per completezza e compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="540e4-113">The **BITMAPCOREHEADER** and **BITMAPV4HEADER** formats are presented for completeness and backward compatibility.</span></span>

<span data-ttu-id="540e4-114">Il formato di una DIB è il seguente (per altre informazioni, vedere [bitmap storage](bitmap-storage.md) ):</span><span class="sxs-lookup"><span data-stu-id="540e4-114">The format for a DIB is the following (for more information, see [Bitmap Storage](bitmap-storage.md) ):</span></span>

-   <span data-ttu-id="540e4-115">struttura [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader)</span><span class="sxs-lookup"><span data-stu-id="540e4-115">a [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader) structure</span></span>
-   <span data-ttu-id="540e4-116">[**struttura BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader), [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)o una struttura [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="540e4-116">either a [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader), a [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), a [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header), or a [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structure.</span></span>
-   <span data-ttu-id="540e4-117">tabella dei colori facoltativa, ovvero un set di strutture [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) o un set di strutture [**RGBTRIPLE**](/windows/win32/api/wingdi/ns-wingdi-rgbtriple) .</span><span class="sxs-lookup"><span data-stu-id="540e4-117">an optional color table, which is either a set of [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) structures or a set of [**RGBTRIPLE**](/windows/win32/api/wingdi/ns-wingdi-rgbtriple) structures.</span></span>
-   <span data-ttu-id="540e4-118">dati bitmap</span><span class="sxs-lookup"><span data-stu-id="540e4-118">the bitmap data</span></span>
-   <span data-ttu-id="540e4-119">dati di profilo facoltativi</span><span class="sxs-lookup"><span data-stu-id="540e4-119">optional Profile data</span></span>

<span data-ttu-id="540e4-120">Una tabella colori descrive il modo in cui i valori dei pixel corrispondono ai valori dei colori RGB.</span><span class="sxs-lookup"><span data-stu-id="540e4-120">A color table describes how pixel values correspond to RGB color values.</span></span> <span data-ttu-id="540e4-121">RGB è un modello per la descrizione dei colori prodotti dalla creazione di una luce.</span><span class="sxs-lookup"><span data-stu-id="540e4-121">RGB is a model for describing colors that are produced by emitting light.</span></span>

<span data-ttu-id="540e4-122">I *dati del profilo* fanno riferimento al nome del file di profilo (profilo collegato) o ai bit di profilo effettivi (profilo incorporato).</span><span class="sxs-lookup"><span data-stu-id="540e4-122">*Profile data* refers to either the profile file name (linked profile) or the actual profile bits (embedded profile).</span></span> <span data-ttu-id="540e4-123">Il formato del file inserisce i dati del profilo alla fine del file.</span><span class="sxs-lookup"><span data-stu-id="540e4-123">The file format places the profile data at the end of the file.</span></span> <span data-ttu-id="540e4-124">I dati del profilo vengono posizionati subito dopo la tabella dei colori (se presente).</span><span class="sxs-lookup"><span data-stu-id="540e4-124">The profile data is placed just after the color table (if present).</span></span> <span data-ttu-id="540e4-125">Tuttavia, se la funzione riceve una DIB compressa, i dati del profilo vengono inseriti dopo i bit bitmap, ad esempio nel formato del file.</span><span class="sxs-lookup"><span data-stu-id="540e4-125">However, if the function receives a packed DIB, the profile data comes after the bitmap bits, like in the file format.</span></span>

<span data-ttu-id="540e4-126">I dati del profilo sono disponibili solo per le strutture [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) in cui **bV5CSType** è collegato al profilo \_ o incorporato nel profilo \_ .</span><span class="sxs-lookup"><span data-stu-id="540e4-126">Profile data will only exist for [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structures where **bV5CSType** is PROFILE\_LINKED or PROFILE\_EMBEDDED.</span></span> <span data-ttu-id="540e4-127">Per le funzioni che ricevono la precedenza compressa, i dati del profilo vengono restituiti dopo i dati bitmap.</span><span class="sxs-lookup"><span data-stu-id="540e4-127">For functions that receive packed DIBs, the profile data comes after the bitmap data.</span></span>

<span data-ttu-id="540e4-128">Un dispositivo pallettizzati è un dispositivo che usa tavolozze per assegnare colori.</span><span class="sxs-lookup"><span data-stu-id="540e4-128">A palettized device is any device that uses palettes to assign colors.</span></span> <span data-ttu-id="540e4-129">L'esempio classico di un dispositivo pallettizzati è una visualizzazione in esecuzione in profondità di colore a 8 bit, ovvero 256 colori.</span><span class="sxs-lookup"><span data-stu-id="540e4-129">The classic example of a palettized device is a display running in 8 bit color depth (that is, 256 colors).</span></span> <span data-ttu-id="540e4-130">La visualizzazione in questa modalità usa una tabella dei colori di piccole dimensioni per assegnare colori a una bitmap.</span><span class="sxs-lookup"><span data-stu-id="540e4-130">The display in this mode uses a small color table to assign colors to a bitmap.</span></span> <span data-ttu-id="540e4-131">I colori in una bitmap vengono assegnati al colore più vicino nella tavolozza usata dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="540e4-131">The colors in a bitmap are assigned to the closest color in the palette that the device is using.</span></span> <span data-ttu-id="540e4-132">Il dispositivo pallettizzati non crea una tavolozza ottimale per la visualizzazione della bitmap; Usa semplicemente tutti gli strumenti presenti nella tavolozza corrente.</span><span class="sxs-lookup"><span data-stu-id="540e4-132">The palettized device does not create an optimal palette for displaying the bitmap; it simply uses whatever is in the current palette.</span></span> <span data-ttu-id="540e4-133">Le applicazioni sono responsabili della creazione di una tavolozza e della relativa selezione nel sistema.</span><span class="sxs-lookup"><span data-stu-id="540e4-133">Applications are responsible for creating a palette and selecting it into the system.</span></span> <span data-ttu-id="540e4-134">In generale, le bitmap a 16, 24 e 32 bit per pixel (BPP) non contengono tabelle colori (noto anche come</span><span class="sxs-lookup"><span data-stu-id="540e4-134">In general, 16-, 24-, and 32-bits-per-pixel (bpp) bitmaps do not contain color tables (a.k.a.</span></span> <span data-ttu-id="540e4-135">tavolozze ottimali per la bitmap); in questo caso, l'applicazione è responsabile della generazione di una tavolozza ottimale.</span><span class="sxs-lookup"><span data-stu-id="540e4-135">optimal palettes for the bitmap); the application is responsible for generating a optimal palette in this case.</span></span> <span data-ttu-id="540e4-136">Tuttavia, le bitmap a 16, 24 e 32-BPP possono contenere tabelle dei colori ottimali per la visualizzazione su dispositivi pallettizzati. in questo caso l'applicazione deve solo creare una tavolozza basata sulla tabella dei colori presente nel file bitmap.</span><span class="sxs-lookup"><span data-stu-id="540e4-136">However, 16-, 24-, and 32-bpp bitmaps can contain such optimal color tables for displaying on palettized devices; in this case the application just needs to create a palette based off the color table present in the bitmap file.</span></span>

<span data-ttu-id="540e4-137">Le bitmap che sono da 1 a 4 o 8 BPP devono avere una tabella dei colori con una dimensione massima basata sul BPP.</span><span class="sxs-lookup"><span data-stu-id="540e4-137">Bitmaps that are 1, 4, or 8 bpp must have a color table with a maximum size based on the bpp.</span></span> <span data-ttu-id="540e4-138">La dimensione massima per le bitmap da 1, 4 e 8 BPP è 2 alla potenza del BPP.</span><span class="sxs-lookup"><span data-stu-id="540e4-138">The maximum size for 1, 4, and 8 bpp bitmaps is 2 to the power of the bpp.</span></span> <span data-ttu-id="540e4-139">Una bitmap da 1 BPP, quindi, ha un massimo di due colori, la bitmap di 4 BPP è costituita da un massimo di 16 colori e la bitmap da 8 BPP ha un massimo di 256 colori.</span><span class="sxs-lookup"><span data-stu-id="540e4-139">Thus, a 1 bpp bitmap has a maximum of two colors, the 4 bpp bitmap has a maximum of 16 colors, and the 8 bpp bitmap has a maximum of 256 colors.</span></span>

<span data-ttu-id="540e4-140">Le bitmap che sono 16, 24 o 32-BPP non richiedono tabelle dei colori, ma possono avere per specificare i colori per i dispositivi pallettizzati.</span><span class="sxs-lookup"><span data-stu-id="540e4-140">Bitmaps that are 16-, 24-, or 32-bpp do not require color tables, but may have them to specify colors for palettized devices.</span></span> <span data-ttu-id="540e4-141">Se è presente una tabella dei colori per la bitmap a 16, 24 o 32-BPP, il membro **biClrUsed** specifica le dimensioni della tabella dei colori e la tabella dei colori deve contenere molti colori.</span><span class="sxs-lookup"><span data-stu-id="540e4-141">If a color table is present for 16-, 24-, or 32-bpp bitmap, the **biClrUsed** member specifies the size of the color table and the color table must have that many colors in it.</span></span> <span data-ttu-id="540e4-142">Se **biClrUsed** è zero, non è presente alcuna tabella colori.</span><span class="sxs-lookup"><span data-stu-id="540e4-142">If **biClrUsed** is zero, there is no color table.</span></span>

<span data-ttu-id="540e4-143">Le maschere bit rosse, verdi e blu per le \_ bitmap bit di BI seguono immediatamente le strutture [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)e [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="540e4-143">The red, green, and blue bitfield masks for BI\_BITFIELD bitmaps immediately follow the [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header), and [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structures.</span></span> <span data-ttu-id="540e4-144">Le strutture **BITMAPV4HEADER** e **BITMAPV5HEADER** contengono membri aggiuntivi per le maschere rosse, verdi e blu, come indicato di seguito.</span><span class="sxs-lookup"><span data-stu-id="540e4-144">The **BITMAPV4HEADER** and **BITMAPV5HEADER** structures contain additional members for red, green, and blue masks as follows.</span></span>



| <span data-ttu-id="540e4-145">Membro</span><span class="sxs-lookup"><span data-stu-id="540e4-145">Member</span></span>        | <span data-ttu-id="540e4-146">Significato</span><span class="sxs-lookup"><span data-stu-id="540e4-146">Meaning</span></span>                                                                                                                        |
|---------------|--------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="540e4-147">**RedMask**</span><span class="sxs-lookup"><span data-stu-id="540e4-147">**RedMask**</span></span>   | <span data-ttu-id="540e4-148">Maschera di colore che specifica il componente rosso di ogni pixel, valido solo se il membro di **compressione** è impostato su bi \_ campi.</span><span class="sxs-lookup"><span data-stu-id="540e4-148">Color mask that specifies the red component of each pixel, valid only if the **Compression** member is set to BI\_BITFIELDS.</span></span>   |
| <span data-ttu-id="540e4-149">**GreenMask**</span><span class="sxs-lookup"><span data-stu-id="540e4-149">**GreenMask**</span></span> | <span data-ttu-id="540e4-150">Maschera di colore che specifica il componente verde di ogni pixel, valido solo se il membro di **compressione** è impostato su bi \_ campi.</span><span class="sxs-lookup"><span data-stu-id="540e4-150">Color mask that specifies the green component of each pixel, valid only if the **Compression** member is set to BI\_BITFIELDS.</span></span> |
| <span data-ttu-id="540e4-151">**BlueMask**</span><span class="sxs-lookup"><span data-stu-id="540e4-151">**BlueMask**</span></span>  | <span data-ttu-id="540e4-152">Maschera di colore che specifica il componente blu di ogni pixel, valido solo se il membro di **compressione** è impostato su bi \_ campi.</span><span class="sxs-lookup"><span data-stu-id="540e4-152">Color mask that specifies the blue component of each pixel, valid only if the **Compression** member is set to BI\_BITFIELDS.</span></span>  |



 

<span data-ttu-id="540e4-153">Quando il membro della **bicompressione** di [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) è impostato su bi \_ campi e la funzione riceve un argomento di tipo **LPBITMAPINFO**, le maschere dei colori seguiranno immediatamente l'intestazione.</span><span class="sxs-lookup"><span data-stu-id="540e4-153">When the **biCompression** member of [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) is set to BI\_BITFIELDS and the function receives an argument of type **LPBITMAPINFO**, the color masks will immediately follow the header.</span></span> <span data-ttu-id="540e4-154">La tabella dei colori, se presente, seguirà le maschere dei colori.</span><span class="sxs-lookup"><span data-stu-id="540e4-154">The color table, if present, will follow the color masks.</span></span> <span data-ttu-id="540e4-155">Le bitmap [**struttura BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) non supportano le maschere colori.</span><span class="sxs-lookup"><span data-stu-id="540e4-155">[**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) bitmaps do not support color masks.</span></span>

<span data-ttu-id="540e4-156">Per impostazione predefinita, i dati bitmap sono al di sotto del formato.</span><span class="sxs-lookup"><span data-stu-id="540e4-156">By default, bitmap data is bottom-up in its format.</span></span> <span data-ttu-id="540e4-157">Il bottom-up indica che la prima riga di analisi nei dati bitmap è l'ultima riga da visualizzare.</span><span class="sxs-lookup"><span data-stu-id="540e4-157">Bottom-up means that the first scan line in the bitmap data is the last scan line to be displayed.</span></span> <span data-ttu-id="540e4-158">Ad esempio, il valore<sup>0 del pixel della</sup> riga<sup>0 dell'</sup> analisi dei dati bitmap di una bitmap di 10 pixel per 10 pixel sarà il 0<sup>°</sup> pixel della riga di analisi 9<sup>°</sup> dell'immagine visualizzata o stampata.</span><span class="sxs-lookup"><span data-stu-id="540e4-158">For example, the 0<sup>th</sup> pixel of the 0<sup>th</sup> scan line of the bitmap data of a 10-pixel by 10-pixel bitmap will be the 0<sup>th</sup> pixel of the 9<sup>th</sup> scan line of the displayed or printed image.</span></span> <span data-ttu-id="540e4-159">Le bitmap in formato RLE (Run-Length codificate) e le bitmap [**struttura BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) non possono essere bitmap dall'alto verso il basso.</span><span class="sxs-lookup"><span data-stu-id="540e4-159">Run-length encoded (RLE) format bitmaps and [**BITMAPCOREHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapcoreheader) bitmaps cannot be top-down bitmaps.</span></span> <span data-ttu-id="540e4-160">Le righe di analisi sono allineate a **DWORD** , ad eccezione delle bitmap compresse da RLE.</span><span class="sxs-lookup"><span data-stu-id="540e4-160">The scan lines are **DWORD** aligned, except for RLE-compressed bitmaps.</span></span> <span data-ttu-id="540e4-161">Devono essere riempiti per le larghezze di riga di analisi, in byte, che non sono divisibili equamente per quattro, ad eccezione delle bitmap compresse RLE.</span><span class="sxs-lookup"><span data-stu-id="540e4-161">They must be padded for scan line widths, in bytes, that are not evenly divisible by four, except for RLE compressed bitmaps.</span></span> <span data-ttu-id="540e4-162">Ad esempio, una bitmap da 10 a 10 pixel a 24 BPP avrà due byte di riempimento alla fine di ogni riga di analisi.</span><span class="sxs-lookup"><span data-stu-id="540e4-162">For example, a 10- by 10-pixel 24-bpp bitmap will have two padding bytes at the end of each scan line.</span></span>

 

 
