---
description: La maggior parte del disegno eseguita durante l'elaborazione del messaggio di disegno WM \_ è asincrona, ovvero si verifica un ritardo tra il momento in cui una parte della finestra viene invalidata e l'ora di invio del disegno WM \_ .
ms.assetid: c4eac615-6526-4ca6-854b-b4a598da13a4
title: Disegno sincrono e asincrono
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a80dd5d5d63cbe10d19ec98e9f5dc9ae9163c18a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103968344"
---
# <a name="synchronous-and-asynchronous-drawing"></a><span data-ttu-id="e2bda-103">Disegno sincrono e asincrono</span><span class="sxs-lookup"><span data-stu-id="e2bda-103">Synchronous and Asynchronous Drawing</span></span>

<span data-ttu-id="e2bda-104">La maggior parte del disegno eseguita durante l'elaborazione del messaggio di disegno [**WM \_**](wm-paint.md) è asincrona, ovvero si verifica un ritardo tra il momento in cui una parte della finestra viene invalidata e l'ora di invio del disegno WM \_ .</span><span class="sxs-lookup"><span data-stu-id="e2bda-104">Most drawing carried out during processing of the [**WM\_PAINT**](wm-paint.md) message is asynchronous; that is, there is a delay between the time a portion of the window is invalidated and the time WM\_PAINT is sent.</span></span> <span data-ttu-id="e2bda-105">Durante il ritardo, l'applicazione in genere recupera i messaggi dalla coda ed esegue altre attività.</span><span class="sxs-lookup"><span data-stu-id="e2bda-105">During the delay, the application typically retrieves messages from the queue and carries out other tasks.</span></span> <span data-ttu-id="e2bda-106">Il motivo del ritardo è che il sistema tratta in genere il disegno in una finestra come operazione con priorità bassa e funziona come se i messaggi e i messaggi di input dell'utente che potrebbero influire sulla posizione o le dimensioni di una finestra verranno elaborati prima di WM \_ Paint.</span><span class="sxs-lookup"><span data-stu-id="e2bda-106">The reason for the delay is that the system generally treats drawing in a window as a low-priority operation and works as though user-input messages and messages that may affect the position or size of a window will be processed before WM\_PAINT .</span></span>

<span data-ttu-id="e2bda-107">In alcuni casi, è necessario che un'applicazione venga creata in modo sincrono, in modo da creare la finestra immediatamente dopo aver invalidato una parte della finestra.</span><span class="sxs-lookup"><span data-stu-id="e2bda-107">In some cases, it is necessary for an application to draw synchronously that is, draw in the window immediately after invalidating a portion of the window.</span></span> <span data-ttu-id="e2bda-108">Un'applicazione tipica disegna la finestra principale immediatamente dopo la creazione della finestra per segnalare all'utente che l'applicazione è stata avviata correttamente.</span><span class="sxs-lookup"><span data-stu-id="e2bda-108">A typical application draws its main window immediately after creating the window to signal the user that the application has started successfully.</span></span> <span data-ttu-id="e2bda-109">Il sistema disegna alcune finestre di controllo in modo sincrono, ad esempio i pulsanti, perché tale finestra funge da stato attivo per l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e2bda-109">The system draws some control windows synchronously, such as buttons, because such windows serve as the focus for user input.</span></span> <span data-ttu-id="e2bda-110">Sebbene qualsiasi finestra con una semplice routine di disegno possa essere disegnata in modo sincrono, tutto questo disegno dovrebbe essere eseguito rapidamente e non dovrebbe interferire con la capacità dell'applicazione di rispondere all'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="e2bda-110">Although any window with a simple drawing routine can be drawn synchronously, all such drawing should be done quickly and should not interfere with the application's ability to respond to user input.</span></span>

<span data-ttu-id="e2bda-111">Le funzioni [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) e [**RedrawWindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) consentono il disegno sincrono.</span><span class="sxs-lookup"><span data-stu-id="e2bda-111">The [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) and [**RedrawWindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) functions allow for synchronous drawing.</span></span> <span data-ttu-id="e2bda-112">**UpdateWindow** Invia un messaggio di [**\_ disegno WM**](wm-paint.md) direttamente alla finestra se l'area di aggiornamento non è vuota.</span><span class="sxs-lookup"><span data-stu-id="e2bda-112">**UpdateWindow** sends a [**WM\_PAINT**](wm-paint.md) message directly to the window if the update region is not empty.</span></span> <span data-ttu-id="e2bda-113">**RedrawWindow** invia anche un messaggio di **\_ disegno WM** , ma fornisce all'applicazione un maggiore controllo sulla modalità di disegno della finestra, ad esempio se disegnare l'area non client e lo sfondo della finestra o se inviare il messaggio indipendentemente dal fatto che l'area di aggiornamento sia vuota o meno.</span><span class="sxs-lookup"><span data-stu-id="e2bda-113">**RedrawWindow** also sends a **WM\_PAINT** message, but gives the application greater control over how to draw the window, such as whether to draw the nonclient area and window background or whether to send the message regardless of whether the update region is empty.</span></span> <span data-ttu-id="e2bda-114">Queste funzioni inviano il messaggio di **\_ disegno WM** direttamente alla finestra, indipendentemente dal numero di altri messaggi nella coda di messaggi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e2bda-114">These functions send the **WM\_PAINT** message directly to the window, regardless of the number of other messages in the application message queue.</span></span>

<span data-ttu-id="e2bda-115">Qualsiasi finestra che richiede lunghe operazioni di disegno deve essere disegnata in modo asincrono per impedire che i messaggi in sospeso vengano bloccati quando viene disegnata la finestra.</span><span class="sxs-lookup"><span data-stu-id="e2bda-115">Any window requiring time-consuming drawing operations should be drawn asynchronously to prevent pending messages from being blocked as the window is drawn.</span></span> <span data-ttu-id="e2bda-116">Inoltre, qualsiasi applicazione che invalida spesso piccole parti di una finestra deve consentire il consolidamento di queste parti non valide in un singolo messaggio [**di \_ disegno WM**](wm-paint.md) asincrono, anziché una serie di messaggi **di \_ disegno WM** sincroni.</span><span class="sxs-lookup"><span data-stu-id="e2bda-116">Also, any application that frequently invalidates small portions of a window should allow these invalid portions to consolidate into a single asynchronous [**WM\_PAINT**](wm-paint.md) message, rather than a series of synchronous **WM\_PAINT** messages.</span></span>

 

 



