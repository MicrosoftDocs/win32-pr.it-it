---
description: Diverse funzioni di tipo carattere e output di testo hanno un parametro che specifica la lunghezza della stringa di output di testo. Un esempio tipico è il parametro cchText di DrawTextEx.
ms.assetid: 695fd0f9-abd4-4666-acad-2c409624ddc6
title: Specifica della lunghezza della stringa di output di testo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2c120026d1b65170b6fe35bc65400280f6f1ffa5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103968271"
---
# <a name="specifying-length-of-text-output-string"></a><span data-ttu-id="e50ed-104">Specifica della lunghezza della stringa di output di testo</span><span class="sxs-lookup"><span data-stu-id="e50ed-104">Specifying length of text-output string</span></span>

<span data-ttu-id="e50ed-105">Diverse funzioni di tipo carattere e output di testo hanno un parametro che specifica la lunghezza della stringa di output di testo.</span><span class="sxs-lookup"><span data-stu-id="e50ed-105">Several of the font and text-output functions have a parameter that specifies the length of the text-output string.</span></span> <span data-ttu-id="e50ed-106">Un esempio tipico è il parametro *cchText* di [**DrawTextEx**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa).</span><span class="sxs-lookup"><span data-stu-id="e50ed-106">A typical example is the *cchText* parameter of [**DrawTextEx**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa).</span></span>

<span data-ttu-id="e50ed-107">Ognuna di queste funzioni ha una versione "ANSI" e una versione Unicode, ad esempio [**DrawTextExA**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa) e **DrawTextExW**, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="e50ed-107">Each of these functions has both an "ANSI" version and a Unicode version (for example, [**DrawTextExA**](/windows/desktop/api/Winuser/nf-winuser-drawtextexa) and **DrawTextExW**, respectively).</span></span> <span data-ttu-id="e50ed-108">Per la versione "ANSI" di ogni funzione, la lunghezza viene specificata come numero di BYTE e per la funzione Unicode viene specificata come conteggio di parole.</span><span class="sxs-lookup"><span data-stu-id="e50ed-108">For the "ANSI" version of each function, the length is specified as a BYTE count and for the Unicode function it is specified as a WORD count.</span></span>

<span data-ttu-id="e50ed-109">Si tratta di un'operazione tradizionale che può essere considerata come un "conteggio dei caratteri".</span><span class="sxs-lookup"><span data-stu-id="e50ed-109">It is traditional to think of this as a "character count".</span></span> <span data-ttu-id="e50ed-110">Questo è in genere accurato per molte lingue, incluso l'inglese, ma in generale non è accurato.</span><span class="sxs-lookup"><span data-stu-id="e50ed-110">That is generally accurate for many languages, including English, but it is not accurate in general.</span></span> <span data-ttu-id="e50ed-111">Nelle stringhe "ANSI", i caratteri nelle tabelle codici [SBCS](../intl/single-byte-character-sets.md) accettano un byte ogni, ma la maggior parte dei caratteri nelle tabelle codici [DBCS](../intl/double-byte-character-sets.md) accetta due byte.</span><span class="sxs-lookup"><span data-stu-id="e50ed-111">In "ANSI" strings, characters in [SBCS](../intl/single-byte-character-sets.md) code pages take one byte each, but most characters in [DBCS](../intl/double-byte-character-sets.md) code pages take two bytes.</span></span> <span data-ttu-id="e50ed-112">Analogamente, la maggior parte dei caratteri Unicode attualmente definiti si trova nel piano di base multilingue (BMP) e le relative rappresentazioni UTF-16 si adattano a una parola, ma i caratteri supplementari sono rappresentati in Unicode da' ' surrogati '', che richiedono due parole.</span><span class="sxs-lookup"><span data-stu-id="e50ed-112">Similarly, most currently defined Unicode characters reside in the Basic Multilingual Plane (BMP) and their UTF-16 representations fit in one WORD, but supplementary characters are represented in Unicode by ''surrogates'', which require two WORDs.</span></span>

<span data-ttu-id="e50ed-113">Ognuna di queste funzioni impiega un conteggio di lunghezza.</span><span class="sxs-lookup"><span data-stu-id="e50ed-113">Each of these functions takes a length count.</span></span> <span data-ttu-id="e50ed-114">Per la versione "ANSI" di ogni funzione, la lunghezza viene specificata come lunghezza del conteggio dei BYTE di una stringa che non include il carattere di terminazione **null** .</span><span class="sxs-lookup"><span data-stu-id="e50ed-114">For the "ANSI" version of each function, the length is specified as a BYTE count length of a string not including the **NULL** terminator.</span></span> <span data-ttu-id="e50ed-115">Per la funzione Unicode, il conteggio di lunghezza è il numero di byte diviso per sizeof (WCHAR), ovvero 2, escluso il carattere di terminazione **null** .</span><span class="sxs-lookup"><span data-stu-id="e50ed-115">For the Unicode function, the length count is the byte count divided by sizeof(WCHAR), which is 2, not including the **NULL** terminator.</span></span> <span data-ttu-id="e50ed-116">Il conteggio dei caratteri è il conteggio del numero di caratteri, che potrebbe non corrispondere al numero di lunghezza della stringa.</span><span class="sxs-lookup"><span data-stu-id="e50ed-116">The character count is the count of the number of characters, which might not equal the length count of the string.</span></span> <span data-ttu-id="e50ed-117">In alcuni casi, i caratteri accettano più di un BYTE per ANSI (ad esempio, il carattere [DBCS](../intl/double-byte-character-sets.md) ) e più di una parola per Unicode, ad esempio i caratteri surrogati.</span><span class="sxs-lookup"><span data-stu-id="e50ed-117">In some instances, characters take more than one BYTE for ANSI (for example, [DBCS](../intl/double-byte-character-sets.md) character) and more than one WORD for Unicode (for example, surrogate characters).</span></span> <span data-ttu-id="e50ed-118">Inoltre, il numero di glifi potrebbe non essere uguale al numero di caratteri perché più caratteri potrebbero essere compositi per creare un glifo.</span><span class="sxs-lookup"><span data-stu-id="e50ed-118">Further, the number of glyphs might not equal the number of characters because multiple characters might be composited to make one glyph.</span></span> <span data-ttu-id="e50ed-119">Il numero di lunghezze è la quantità di dati.</span><span class="sxs-lookup"><span data-stu-id="e50ed-119">Length count is the amount of data.</span></span> <span data-ttu-id="e50ed-120">Il conteggio dei caratteri è il numero di unità elaborate come un'unica entità.</span><span class="sxs-lookup"><span data-stu-id="e50ed-120">Character count is the number of units that are processed as one entity.</span></span> <span data-ttu-id="e50ed-121">I glifi sono elementi di cui viene eseguito il rendering.</span><span class="sxs-lookup"><span data-stu-id="e50ed-121">Glyphs are what gets rendered.</span></span> <span data-ttu-id="e50ed-122">In Unicode, ad esempio, è possibile avere una stringa con lunghezza 3, che è di 2 caratteri e che comporta il rendering di 1 glifo.</span><span class="sxs-lookup"><span data-stu-id="e50ed-122">For example, in Unicode, you can have a string with length of 3, which is 2 characters and which results in 1 glyph being rendered.</span></span> <span data-ttu-id="e50ed-123">Tuttavia, in genere la maggior parte delle stringhe Unicode, il numero di caratteri e il numero di glifi sottoposti a rendering sono uguali.</span><span class="sxs-lookup"><span data-stu-id="e50ed-123">However, typically, most Unicode strings length, character count, and number of rendered glyphs are equal.</span></span>

<span data-ttu-id="e50ed-124">È possibile usare \_ tcslen () per ottenere la lunghezza della stringa.</span><span class="sxs-lookup"><span data-stu-id="e50ed-124">You can use \_tcslen() to get the string length.</span></span> <span data-ttu-id="e50ed-125">Per ANSI, \_ tcslen () restituisce il numero di byte.</span><span class="sxs-lookup"><span data-stu-id="e50ed-125">For ANSI, \_tcslen() returns the number of bytes.</span></span> <span data-ttu-id="e50ed-126">Per Unicode, \_ tcslen () restituisce il numero di WCHAR (ovvero parole).</span><span class="sxs-lookup"><span data-stu-id="e50ed-126">For Unicode, \_tcslen() returns the number of WCHARs (that is, WORDs).</span></span>

<span data-ttu-id="e50ed-127">I caratteri di elaborazione speciali come le schede e i trattini morbidi che non sono sempre disegnati possono influenzare l'output disegnato.</span><span class="sxs-lookup"><span data-stu-id="e50ed-127">Special processing characters like tabs and soft hyphens that aren't always drawn can affect the drawn output.</span></span> <span data-ttu-id="e50ed-128">Vengono inclusi nei conteggi della lunghezza della stringa e dei caratteri, ma potrebbero non essere rappresentati direttamente da un glifo sottoposto a rendering.</span><span class="sxs-lookup"><span data-stu-id="e50ed-128">They get included in the string length and character counts, but might not be directly represented by a rendered glyph.</span></span>

<span data-ttu-id="e50ed-129">Alcune di queste funzioni consentono al chiamante di specificare la lunghezza di-1 per indicare che la stringa è con terminazione null. in tal caso, la funzione calcolerà automaticamente il numero di caratteri.</span><span class="sxs-lookup"><span data-stu-id="e50ed-129">Some of these functions allow the caller to specify the length as -1 to indicate that the string is null-terminated; in that case the function will compute the character count automatically.</span></span> <span data-ttu-id="e50ed-130">Non tutte le funzioni offrono questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="e50ed-130">Not all of the functions offer this capability.</span></span> <span data-ttu-id="e50ed-131">Viene specificato in base alla funzione. vedere la documentazione delle singole funzioni.</span><span class="sxs-lookup"><span data-stu-id="e50ed-131">That is specified on a function-by-function basis; see the individual function documentation.</span></span>

 

 
