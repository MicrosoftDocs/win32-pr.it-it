---
description: Le bitmap dipendenti dal dispositivo (DDB) vengono descritte usando una singola struttura, la struttura BITMAP.
ms.assetid: 63ff9cd6-cd07-4085-b166-268e4d9b7aad
title: Bitmap Device-Dependent
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 92a3de2c59509c71b38f9981df330b3b28effa26
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104130798"
---
# <a name="device-dependent-bitmaps"></a><span data-ttu-id="5d142-103">Bitmap Device-Dependent</span><span class="sxs-lookup"><span data-stu-id="5d142-103">Device-Dependent Bitmaps</span></span>

<span data-ttu-id="5d142-104">Le bitmap dipendenti dal dispositivo (DDB) vengono descritte usando una singola struttura, la struttura [**bitmap**](/windows/win32/api/wingdi/ns-wingdi-bitmap) .</span><span class="sxs-lookup"><span data-stu-id="5d142-104">Device-dependent bitmaps (DDBs) are described by using a single structure, the [**BITMAP**](/windows/win32/api/wingdi/ns-wingdi-bitmap) structure.</span></span> <span data-ttu-id="5d142-105">I membri di questa struttura specificano la larghezza e l'altezza di un'area rettangolare, in pixel; larghezza della matrice che esegue il mapping delle voci dalla tavolozza del dispositivo ai pixel; e il formato colori del dispositivo, in termini di piani di colore e bit per pixel.</span><span class="sxs-lookup"><span data-stu-id="5d142-105">The members of this structure specify the width and height of a rectangular region, in pixels; the width of the array that maps entries from the device palette to pixels; and the device's color format, in terms of color planes and bits per pixel.</span></span> <span data-ttu-id="5d142-106">Un'applicazione può recuperare il formato di colore di un dispositivo chiamando la funzione [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) e specificando le costanti appropriate.</span><span class="sxs-lookup"><span data-stu-id="5d142-106">An application can retrieve the color format of a device by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function and specifying the appropriate constants.</span></span> <span data-ttu-id="5d142-107">Si noti che un DDB non contiene valori di colore; i colori sono invece in un formato dipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="5d142-107">Note that a DDB does not contain color values; instead, the colors are in a device-dependent format.</span></span> <span data-ttu-id="5d142-108">Per altre informazioni, vedere [color in bitmaps](color-in-bitmaps.md).</span><span class="sxs-lookup"><span data-stu-id="5d142-108">For more information, see [Color in Bitmaps](color-in-bitmaps.md).</span></span> <span data-ttu-id="5d142-109">Poiché ogni dispositivo può avere un proprio set di colori, un DDB creato per un dispositivo potrebbe non essere visualizzato correttamente in un dispositivo diverso.</span><span class="sxs-lookup"><span data-stu-id="5d142-109">Because each device can have its own set of colors, a DDB created for one device may not display well on a different device.</span></span>

<span data-ttu-id="5d142-110">Per usare un DDB in un contesto di dispositivo, deve avere l'organizzazione dei colori del contesto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="5d142-110">To use a DDB in a device context, it must have the color organization of that device context.</span></span> <span data-ttu-id="5d142-111">In questo modo, un DDB viene spesso definito *bitmap compatibile* e in genere offre prestazioni GDI migliori rispetto a una DIB.</span><span class="sxs-lookup"><span data-stu-id="5d142-111">Thus, a DDB is often called a *compatible bitmap* and it usually has better GDI performance than a DIB.</span></span> <span data-ttu-id="5d142-112">Ad esempio, per creare una bitmap per la memoria video, è preferibile usare una bitmap compatibile con lo stesso formato di colore dello schermo principale.</span><span class="sxs-lookup"><span data-stu-id="5d142-112">For example, to create a bitmap for video memory, it is best to use a compatible bitmap with the same color format as the primary display.</span></span> <span data-ttu-id="5d142-113">Una volta nella memoria video, il rendering nella bitmap e la relativa visualizzazione sullo schermo sono molto più veloci rispetto a una superficie di memoria di sistema o direttamente da una DIB.</span><span class="sxs-lookup"><span data-stu-id="5d142-113">Once in video memory, rendering to the bitmap and displaying it to the screen are significantly faster than from a system memory surface or directly from a DIB.</span></span>

<span data-ttu-id="5d142-114">Oltre ad abilitare prestazioni GDI migliori, le bitmap compatibili vengono usate per acquisire immagini (vedere [acquisizione di un'immagine](capturing-an-image.md) ) e per creare bitmap in fase di esecuzione per i menu vedere "creazione della bitmap" in (vedere [using menus](../menurc/using-menus.md) ).</span><span class="sxs-lookup"><span data-stu-id="5d142-114">In addition to enabling better GDI performance, compatible bitmaps are used to capture images (see [Capturing an Image](capturing-an-image.md) ) and to create bitmaps at run time for menus see "Creating the Bitmap" in (see [Using Menus](../menurc/using-menus.md) ).</span></span>

<span data-ttu-id="5d142-115">Per trasferire una bitmap tra dispositivi con diverse organizzazioni di colori, usare [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) per convertire la bitmap compatibile in una DIB e chiamare [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) o [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) per visualizzare la DIB nel secondo dispositivo.</span><span class="sxs-lookup"><span data-stu-id="5d142-115">To transfer a bitmap between devices with different color organization, use [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) to convert the compatible bitmap to a DIB and call [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) or [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) to display the DIB to the second device.</span></span>

<span data-ttu-id="5d142-116">Esistono due tipi di DDB: uncardable e non eliminabile.</span><span class="sxs-lookup"><span data-stu-id="5d142-116">There are two types of DDBs: discardable and nondiscardable.</span></span> <span data-ttu-id="5d142-117">Un DDB scartabile è una bitmap che il sistema rimuove se la bitmap non è selezionata in un controller di dominio e se la memoria di sistema è insufficiente.</span><span class="sxs-lookup"><span data-stu-id="5d142-117">A discardable DDB is a bitmap that the system discards if the bitmap is not selected into a DC and if system memory is low.</span></span> <span data-ttu-id="5d142-118">La funzione [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) crea bitmap ignorabili.</span><span class="sxs-lookup"><span data-stu-id="5d142-118">The [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) function creates discardable bitmaps.</span></span> <span data-ttu-id="5d142-119">Le funzioni [**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap)e [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) creano bitmap non eliminabili.</span><span class="sxs-lookup"><span data-stu-id="5d142-119">The [**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap), and [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) functions create nondiscardable bitmaps.</span></span>

<span data-ttu-id="5d142-120">Un'applicazione può creare un DDB da una DIB inizializzando le strutture necessarie e chiamando la funzione [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) .</span><span class="sxs-lookup"><span data-stu-id="5d142-120">An application can create a DDB from a DIB by initializing the required structures and calling the [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) function.</span></span> <span data-ttu-id="5d142-121">Specificare CBM \_ init nella chiamata a **CreateDIBitmap** equivale a chiamare la funzione [**CREATECOMPATIBLEBITMAP**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) per creare un DDB nel formato del dispositivo e quindi chiamare la funzione [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) per convertire i bit DIB in DDB.</span><span class="sxs-lookup"><span data-stu-id="5d142-121">Specifying CBM\_INIT in the call to **CreateDIBitmap** is equivalent to calling the [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) function to create a DDB in the format of the device and then calling the [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) function to translate the DIB bits to the DDB.</span></span> <span data-ttu-id="5d142-122">Per determinare se un dispositivo supporta la funzione **SetDIBits** , chiamare la funzione [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) specificando la \_ bitmap RC di \_ come flag RasterCaps.</span><span class="sxs-lookup"><span data-stu-id="5d142-122">To determine whether a device supports the **SetDIBits** function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DI\_BITMAP as the RASTERCAPS flag.</span></span>

 

 
