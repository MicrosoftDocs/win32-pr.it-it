---
description: "Un'applicazione viene disegnata in una finestra a diverse volte: quando si crea una finestra per la prima volta, quando si modificano le dimensioni della finestra, quando si sposta la finestra da un'altra finestra, quando si riducono o si ottimizza la finestra, quando si visualizzano i dati da un file aperto e quando si scorre, si modifica o si seleziona una parte dei dati visualizzati."
ms.assetid: 4b5d6842-5707-4884-a55a-e09e342cea46
title: Quando creare un oggetto in una finestra
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 42c8c157de5a591be5ad1a6ad3e319cf83220e77
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104345136"
---
# <a name="when-to-draw-in-a-window"></a><span data-ttu-id="cd2db-103">Quando creare un oggetto in una finestra</span><span class="sxs-lookup"><span data-stu-id="cd2db-103">When to Draw in a Window</span></span>

<span data-ttu-id="cd2db-104">Un'applicazione viene disegnata in una finestra a diverse volte: quando si crea una finestra per la prima volta, quando si modificano le dimensioni della finestra, quando si sposta la finestra da un'altra finestra, quando si riducono o si ottimizza la finestra, quando si visualizzano i dati da un file aperto e quando si scorre, si modifica o si seleziona una parte dei dati visualizzati.</span><span class="sxs-lookup"><span data-stu-id="cd2db-104">An application draws in a window at a variety of times: when first creating a window, when changing the size of the window, when moving the window from behind another window, when minimizing or maximizing the window, when displaying data from an opened file, and when scrolling, changing, or selecting a portion of the displayed data.</span></span>

<span data-ttu-id="cd2db-105">Il sistema gestisce le azioni, ad esempio lo stato di trasferimento e il ridimensionamento di una finestra</span><span class="sxs-lookup"><span data-stu-id="cd2db-105">The system manages actions such as moving and sizing a window.</span></span> <span data-ttu-id="cd2db-106">Se un'azione influisce sul contenuto della finestra, il sistema contrassegna la parte interessata della finestra come pronta per l'aggiornamento e, alla successiva opportunità, invia un messaggio [**di \_ disegno WM**](wm-paint.md) alla routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="cd2db-106">If an action affects the content of the window, the system marks the affected portion of the window as ready for updating and, at the next opportunity, sends a [**WM\_PAINT**](wm-paint.md) message to the window procedure of the window.</span></span> <span data-ttu-id="cd2db-107">Il messaggio è un segnale all'applicazione per determinare quali elementi devono essere aggiornati e per eseguire il disegno necessario.</span><span class="sxs-lookup"><span data-stu-id="cd2db-107">The message is a signal to the application to determine what must be updated and to carry out the necessary drawing.</span></span>

<span data-ttu-id="cd2db-108">Alcune azioni sono gestite dall'applicazione, ad esempio la visualizzazione di file aperti e la selezione dei dati visualizzati.</span><span class="sxs-lookup"><span data-stu-id="cd2db-108">Some actions are managed by the application, such as displaying open files and selecting displayed data.</span></span> <span data-ttu-id="cd2db-109">Per queste azioni, un'applicazione può contrassegnare l'aggiornamento della parte della finestra interessata dall'azione, causando l'invio di un messaggio di [**\_ disegno WM**](wm-paint.md) alla successiva opportunità.</span><span class="sxs-lookup"><span data-stu-id="cd2db-109">For these actions, an application can mark for updating the portion of the window affected by the action, causing a [**WM\_PAINT**](wm-paint.md) message to be sent at the next opportunity.</span></span> <span data-ttu-id="cd2db-110">Se un'azione richiede un feedback immediato, l'applicazione può disegnare mentre viene eseguita l'azione, senza attendere **il \_ disegno WM**.</span><span class="sxs-lookup"><span data-stu-id="cd2db-110">If an action requires immediate feedback, the application can draw while the action takes place, without waiting for **WM\_PAINT**.</span></span> <span data-ttu-id="cd2db-111">Ad esempio, in un'applicazione tipica viene evidenziata l'area selezionata dall'utente anziché attendere il successivo messaggio di **\_ disegno WM** per aggiornare l'area.</span><span class="sxs-lookup"><span data-stu-id="cd2db-111">For example, a typical application highlights the area the user selects rather than waiting for the next **WM\_PAINT** message to update the area.</span></span>

<span data-ttu-id="cd2db-112">In tutti i casi, un'applicazione può creare in una finestra non appena viene creata.</span><span class="sxs-lookup"><span data-stu-id="cd2db-112">In all cases, an application can draw in a window as soon as it is created.</span></span> <span data-ttu-id="cd2db-113">Per creare la finestra, l'applicazione deve prima recuperare un handle per un contesto di dispositivo di visualizzazione per la finestra.</span><span class="sxs-lookup"><span data-stu-id="cd2db-113">To draw in the window, the application must first retrieve a handle to a display device context for the window.</span></span> <span data-ttu-id="cd2db-114">Idealmente, un'applicazione esegue la maggior parte delle operazioni di disegno durante l'elaborazione dei messaggi di disegno [**WM \_**](wm-paint.md) .</span><span class="sxs-lookup"><span data-stu-id="cd2db-114">Ideally, an application carries out most of its drawing operations during the processing of [**WM\_PAINT**](wm-paint.md) messages.</span></span> <span data-ttu-id="cd2db-115">In questo caso, l'applicazione recupera un contesto di dispositivo di visualizzazione chiamando la funzione [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) .</span><span class="sxs-lookup"><span data-stu-id="cd2db-115">In this case, the application retrieves a display device context by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function.</span></span> <span data-ttu-id="cd2db-116">Se un'applicazione viene disegnata in qualsiasi altro momento, ad esempio all'interno di [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) o durante l'elaborazione dei messaggi della tastiera o del mouse, viene chiamata la funzione [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) o [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) per recuperare il controller di dominio di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="cd2db-116">If an application draws at any other time, such as from within [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) or during the processing of keyboard or mouse messages, it calls the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function to retrieve the display DC.</span></span>

 

 
