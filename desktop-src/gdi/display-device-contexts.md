---
description: Un'applicazione ottiene un controller di dominio di visualizzazione chiamando la funzione BeginPaint, GetDC o GetDCEx e identificando la finestra in cui verrà visualizzato l'output corrispondente.
ms.assetid: 8f952d68-ee52-4e63-9f09-80a14c755d31
title: Visualizzare i contesti di dispositivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 41d0eeb3055209ad99a6a50fd129f9f9c064bf52
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103754447"
---
# <a name="display-device-contexts"></a><span data-ttu-id="b733d-103">Visualizzare i contesti di dispositivo</span><span class="sxs-lookup"><span data-stu-id="b733d-103">Display Device Contexts</span></span>

<span data-ttu-id="b733d-104">Un'applicazione ottiene un controller di dominio di visualizzazione chiamando la funzione [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc)o [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) e identificando la finestra in cui verrà visualizzato l'output corrispondente.</span><span class="sxs-lookup"><span data-stu-id="b733d-104">An application obtains a display DC by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and identifying the window in which the corresponding output will appear.</span></span> <span data-ttu-id="b733d-105">In genere, un'applicazione ottiene un controller di dominio di visualizzazione solo quando deve essere disegnato nell'area client.</span><span class="sxs-lookup"><span data-stu-id="b733d-105">Typically, an application obtains a display DC only when it must draw in the client area.</span></span> <span data-ttu-id="b733d-106">Tuttavia, è possibile ottenere un [contesto di dispositivo della finestra](#window-device-contexts) chiamando la funzione [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) .</span><span class="sxs-lookup"><span data-stu-id="b733d-106">However, one may obtain a [window device context](#window-device-contexts) by calling the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) function.</span></span> <span data-ttu-id="b733d-107">Al termine del disegno, l'applicazione deve rilasciare il controller di dominio chiamando la funzione [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) o [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) .</span><span class="sxs-lookup"><span data-stu-id="b733d-107">When the application is finished drawing, it must release the DC by calling the [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) or [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="b733d-108">Sono disponibili cinque tipi di controller di dominio per le visualizzazioni video:</span><span class="sxs-lookup"><span data-stu-id="b733d-108">There are five types of DCs for video displays:</span></span>

-   <span data-ttu-id="b733d-109">Classe</span><span class="sxs-lookup"><span data-stu-id="b733d-109">Class</span></span>
-   <span data-ttu-id="b733d-110">Comuni</span><span class="sxs-lookup"><span data-stu-id="b733d-110">Common</span></span>
-   <span data-ttu-id="b733d-111">Privato</span><span class="sxs-lookup"><span data-stu-id="b733d-111">Private</span></span>
-   <span data-ttu-id="b733d-112">Finestra</span><span class="sxs-lookup"><span data-stu-id="b733d-112">Window</span></span>
-   <span data-ttu-id="b733d-113">Padre</span><span class="sxs-lookup"><span data-stu-id="b733d-113">Parent</span></span>

## <a name="class-device-contexts"></a><span data-ttu-id="b733d-114">Contesti di dispositivo di classe</span><span class="sxs-lookup"><span data-stu-id="b733d-114">Class Device Contexts</span></span>

<span data-ttu-id="b733d-115">I *contesti di dispositivo di classe* sono supportati rigorosamente per la compatibilità con le versioni di Windows a 16 bit.</span><span class="sxs-lookup"><span data-stu-id="b733d-115">*Class device contexts* are supported strictly for compatibility with 16-bit versions of Windows.</span></span> <span data-ttu-id="b733d-116">Quando si scrive l'applicazione, evitare di usare il contesto di dispositivo della classe; usare invece un contesto di dispositivo privato.</span><span class="sxs-lookup"><span data-stu-id="b733d-116">When writing your application, avoid using the class device context; use a private device context instead.</span></span>

## <a name="common-device-contexts"></a><span data-ttu-id="b733d-117">Contesti di dispositivo comuni</span><span class="sxs-lookup"><span data-stu-id="b733d-117">Common Device Contexts</span></span>

<span data-ttu-id="b733d-118">Per i *contesti di dispositivo comuni* vengono visualizzati i controller di dominio gestiti in una cache speciale dal sistema.</span><span class="sxs-lookup"><span data-stu-id="b733d-118">*Common device contexts* are display DCs maintained in a special cache by the system.</span></span> <span data-ttu-id="b733d-119">I contesti di dispositivo comuni vengono usati nelle applicazioni che eseguono operazioni di disegno non frequenti.</span><span class="sxs-lookup"><span data-stu-id="b733d-119">Common device contexts are used in applications that perform infrequent drawing operations.</span></span> <span data-ttu-id="b733d-120">Prima che il sistema restituisca l'handle del controller di dominio, Inizializza il contesto di dispositivo comune con gli oggetti, gli attributi e le modalità predefiniti.</span><span class="sxs-lookup"><span data-stu-id="b733d-120">Before the system returns the DC handle, it initializes the common device context with default objects, attributes, and modes.</span></span> <span data-ttu-id="b733d-121">Tutte le operazioni di disegno eseguite dall'applicazione utilizzano queste impostazioni predefinite a meno che non venga chiamata una delle funzioni GDI per selezionare un nuovo oggetto, modificare gli attributi di un oggetto esistente o selezionare una nuova modalità.</span><span class="sxs-lookup"><span data-stu-id="b733d-121">Any drawing operations performed by the application use these defaults unless one of the GDI functions is called to select a new object, change the attributes of an existing object, or select a new mode.</span></span>

<span data-ttu-id="b733d-122">Poiché esiste solo un numero limitato di contesti di dispositivo comuni, un'applicazione deve rilasciarli dopo aver completato il disegno.</span><span class="sxs-lookup"><span data-stu-id="b733d-122">Because only a limited number of common device contexts exist, an application should release them after it has finished drawing.</span></span> <span data-ttu-id="b733d-123">Quando l'applicazione rilascia un contesto di dispositivo comune, tutte le modifiche apportate ai dati predefiniti vengono perse.</span><span class="sxs-lookup"><span data-stu-id="b733d-123">When the application releases a common device context, any changes to the default data are lost.</span></span>

## <a name="private-device-contexts"></a><span data-ttu-id="b733d-124">Contesti di dispositivi privati</span><span class="sxs-lookup"><span data-stu-id="b733d-124">Private Device Contexts</span></span>

<span data-ttu-id="b733d-125">I *contesti di dispositivi privati* sono i controller di dominio che, a differenza dei contesti di dispositivo comuni, conservano le modifiche ai dati predefiniti anche dopo che sono stati rilasciati da un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b733d-125">*Private device contexts* are display DCs that, unlike common device contexts, retain any changes to the default data even after an application releases them.</span></span> <span data-ttu-id="b733d-126">I contesti di dispositivi privati vengono utilizzati nelle applicazioni che eseguono numerose operazioni di disegno, ad esempio applicazioni CAD (computer-aided design), applicazioni di pubblicazione desktop, applicazioni di disegno e disegno e così via.</span><span class="sxs-lookup"><span data-stu-id="b733d-126">Private device contexts are used in applications that perform numerous drawing operations such as computer-aided design (CAD) applications, desktop-publishing applications, drawing and painting applications, and so on.</span></span> <span data-ttu-id="b733d-127">I contesti di dispositivo privati non fanno parte della cache di sistema e pertanto non devono essere rilasciati dopo l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="b733d-127">Private device contexts are not part of the system cache and therefore need not be released after use.</span></span> <span data-ttu-id="b733d-128">Il sistema rimuove automaticamente un contesto di dispositivo privato dopo che l'ultima finestra di tale classe è stata eliminata definitivamente.</span><span class="sxs-lookup"><span data-stu-id="b733d-128">The system automatically removes a private device context after the last window of that class has been destroyed.</span></span>

<span data-ttu-id="b733d-129">Un'applicazione crea un contesto di dispositivo privato specificando prima di \_ tutto lo stile della classe della finestra CS OWNDC Quando Inizializza il membro dello **stile** della struttura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) e chiama la funzione [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) .</span><span class="sxs-lookup"><span data-stu-id="b733d-129">An application creates a private device context by first specifying the CS\_OWNDC window-class style when it initializes the **style** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure and calls the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="b733d-130">Per ulteriori informazioni sulle classi della finestra, vedere [classi di finestra](../winmsg/window-classes.md).</span><span class="sxs-lookup"><span data-stu-id="b733d-130">(For more information about window classes, see [Window Classes](../winmsg/window-classes.md).)</span></span>

<span data-ttu-id="b733d-131">Dopo la creazione di una finestra con lo \_ stile cs OWNDC, un'applicazione può chiamare la funzione [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex)o [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) una volta per ottenere un handle che identifica un contesto di dispositivo privato.</span><span class="sxs-lookup"><span data-stu-id="b733d-131">After creating a window with the CS\_OWNDC style, an application can call the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex), or [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function once to obtain a handle identifying a private device context.</span></span> <span data-ttu-id="b733d-132">L'applicazione può continuare a usare questo handle (e il controller di dominio associato) finché non elimina la finestra creata con questa classe.</span><span class="sxs-lookup"><span data-stu-id="b733d-132">The application can continue using this handle (and the associated DC) until it deletes the window created with this class.</span></span> <span data-ttu-id="b733d-133">Tutte le modifiche apportate agli oggetti grafici e ai relativi attributi, o modalità grafica, vengono conservate dal sistema fino a quando la finestra non viene eliminata.</span><span class="sxs-lookup"><span data-stu-id="b733d-133">Any changes to graphic objects and their attributes, or graphic modes are retained by the system until the window is deleted.</span></span>

## <a name="window-device-contexts"></a><span data-ttu-id="b733d-134">Contesti di dispositivo finestra</span><span class="sxs-lookup"><span data-stu-id="b733d-134">Window Device Contexts</span></span>

<span data-ttu-id="b733d-135">Un *contesto di dispositivo finestra* consente a un'applicazione di creare qualsiasi punto in una finestra, inclusa l'area non client.</span><span class="sxs-lookup"><span data-stu-id="b733d-135">A *window device context* enables an application to draw anywhere in a window, including the nonclient area.</span></span> <span data-ttu-id="b733d-136">I contesti di dispositivo Windows vengono in genere usati da applicazioni che elaborano i messaggi [**WM \_ NCPAINT**](wm-ncpaint.md) e [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) per Windows con aree non client personalizzate.</span><span class="sxs-lookup"><span data-stu-id="b733d-136">Window device contexts are typically used by applications that process the [**WM\_NCPAINT**](wm-ncpaint.md) and [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) messages for windows with custom nonclient areas.</span></span> <span data-ttu-id="b733d-137">L'uso di un contesto di dispositivo Windows non è consigliato per altri scopi.</span><span class="sxs-lookup"><span data-stu-id="b733d-137">Using a window device context is not recommended for any other purpose.</span></span> <span data-ttu-id="b733d-138">Per ulteriori informazioni, vedere [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span><span class="sxs-lookup"><span data-stu-id="b733d-138">For more information; see [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span></span>

## <a name="parent-device-contexts"></a><span data-ttu-id="b733d-139">Contesti di dispositivo padre</span><span class="sxs-lookup"><span data-stu-id="b733d-139">Parent Device Contexts</span></span>

<span data-ttu-id="b733d-140">Un *contesto di dispositivo padre* consente a un'applicazione di ridurre al minimo il tempo necessario per configurare l'area di visualizzazione per una finestra.</span><span class="sxs-lookup"><span data-stu-id="b733d-140">A *parent device context* enables an application to minimize the time necessary to set up the clipping region for a window.</span></span> <span data-ttu-id="b733d-141">Un'applicazione usa in genere i contesti di dispositivo padre per velocizzare il disegno per le finestre di controllo senza richiedere un contesto di dispositivo privato o di classe.</span><span class="sxs-lookup"><span data-stu-id="b733d-141">An application typically uses parent device contexts to speed up drawing for control windows without requiring a private or class device context.</span></span> <span data-ttu-id="b733d-142">Ad esempio, il sistema usa i contesti di dispositivo padre per i pulsanti di comando e di modifica.</span><span class="sxs-lookup"><span data-stu-id="b733d-142">For example, the system uses parent device contexts for push button and edit controls.</span></span> <span data-ttu-id="b733d-143">I contesti di dispositivo padre sono destinati all'uso solo con le finestre figlio, mai con finestre popup o di primo livello.</span><span class="sxs-lookup"><span data-stu-id="b733d-143">Parent device contexts are intended for use with child windows only, never with top-level or pop-up windows.</span></span> <span data-ttu-id="b733d-144">Per ulteriori informazioni, vedere [contesti di dispositivo di visualizzazione padre](parent-display-device-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="b733d-144">For more information; see [Parent Display Device Contexts](parent-display-device-contexts.md).</span></span>

 

 
