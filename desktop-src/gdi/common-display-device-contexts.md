---
description: Per il disegno nell'area client della finestra viene usato un contesto di dispositivo comune.
ms.assetid: 63c4f775-b1a3-4f7c-808b-81c596f26353
title: Contesti di dispositivo di visualizzazione comuni
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 890b0235784ec1ed11c8ce3a553244629a008d75
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103967063"
---
# <a name="common-display-device-contexts"></a><span data-ttu-id="87cf5-103">Contesti di dispositivo di visualizzazione comuni</span><span class="sxs-lookup"><span data-stu-id="87cf5-103">Common Display Device Contexts</span></span>

<span data-ttu-id="87cf5-104">Per il disegno nell'area client della finestra viene usato un *contesto di dispositivo comune* .</span><span class="sxs-lookup"><span data-stu-id="87cf5-104">A *common device context* is used for drawing in the client area of the window.</span></span> <span data-ttu-id="87cf5-105">Per impostazione predefinita, il sistema fornisce un contesto di dispositivo comune per qualsiasi finestra la cui classe di finestra non specifica in modo esplicito uno stile del contesto del dispositivo di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="87cf5-105">The system provides a common device context by default for any window whose window class does not explicitly specify a display device context style.</span></span> <span data-ttu-id="87cf5-106">I contesti di dispositivo comuni vengono in genere usati con le finestre che possono essere disegnate senza modifiche estese agli attributi del contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="87cf5-106">Common device contexts are typically used with windows that can be drawn without extensive changes to the device context attributes.</span></span> <span data-ttu-id="87cf5-107">I contesti di dispositivo comuni sono pratici perché non richiedono risorse di memoria o di sistema aggiuntive, ma possono risultare poco pratici se l'applicazione deve configurare molti attributi prima di utilizzarli.</span><span class="sxs-lookup"><span data-stu-id="87cf5-107">Common device contexts are convenient because they do not require additional memory or system resources, but they can be inconvenient if the application must set up many attributes before using them.</span></span>

<span data-ttu-id="87cf5-108">Il sistema recupera tutti i contesti di dispositivo comuni dalla cache del contesto del dispositivo di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="87cf5-108">The system retrieves all common device contexts from the display device context cache.</span></span> <span data-ttu-id="87cf5-109">Un'applicazione può recuperare un contesto di dispositivo comune immediatamente dopo la creazione della finestra.</span><span class="sxs-lookup"><span data-stu-id="87cf5-109">An application can retrieve a common device context immediately after the window is created.</span></span> <span data-ttu-id="87cf5-110">Poiché il contesto di dispositivo comune è dalla cache, l'applicazione deve sempre rilasciare il contesto di dispositivo appena possibile dopo il disegno.</span><span class="sxs-lookup"><span data-stu-id="87cf5-110">Because the common device context is from the cache, the application must always release the device context as soon as possible after drawing.</span></span> <span data-ttu-id="87cf5-111">Dopo che il contesto di dispositivo comune è stato rilasciato, non è più valido e l'applicazione non deve tentare di eseguire il progetto.</span><span class="sxs-lookup"><span data-stu-id="87cf5-111">After the common device context is released, it is no longer valid and the application must not attempt to draw with it.</span></span> <span data-ttu-id="87cf5-112">Per ridisegnare, l'applicazione deve recuperare un nuovo contesto di dispositivo comune e continuare a recuperare e rilasciare un contesto di dispositivo comune ogni volta che viene disegnato nella finestra.</span><span class="sxs-lookup"><span data-stu-id="87cf5-112">To draw again, the application must retrieve a new common device context, and continue to retrieve and release a common device context each time it draws in the window.</span></span> <span data-ttu-id="87cf5-113">Se l'applicazione recupera l'handle del contesto di dispositivo usando la funzione [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) , deve usare la funzione [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) per rilasciare l'handle.</span><span class="sxs-lookup"><span data-stu-id="87cf5-113">If the application retrieves the device context handle by using the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) function, it must use the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function to release the handle.</span></span> <span data-ttu-id="87cf5-114">Analogamente, per ogni funzione [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) , l'applicazione deve usare una funzione [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) corrispondente.</span><span class="sxs-lookup"><span data-stu-id="87cf5-114">Similarly, for each [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function, the application must use a corresponding [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) function.</span></span>

<span data-ttu-id="87cf5-115">Quando l'applicazione recupera il contesto di dispositivo, il sistema regola l'origine in modo che sia allineata all'angolo superiore sinistro dell'area client.</span><span class="sxs-lookup"><span data-stu-id="87cf5-115">When the application retrieves the device context, the system adjusts the origin so that it aligns with the upper left corner of the client area.</span></span> <span data-ttu-id="87cf5-116">Imposta anche l'area di visualizzazione in modo che l'output nel contesto di dispositivo venga ritagliato nell'area client.</span><span class="sxs-lookup"><span data-stu-id="87cf5-116">It also sets the clipping region so that output to the device context is clipped to the client area.</span></span> <span data-ttu-id="87cf5-117">Qualsiasi output che altrimenti verrebbe visualizzato all'esterno dell'area client viene troncato.</span><span class="sxs-lookup"><span data-stu-id="87cf5-117">Any output that would otherwise appear outside the client area is clipped.</span></span> <span data-ttu-id="87cf5-118">Se l'applicazione recupera il contesto di dispositivo comune usando [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), il sistema include anche l'area di aggiornamento nell'area di ridimensionamento per limitare ulteriormente l'output.</span><span class="sxs-lookup"><span data-stu-id="87cf5-118">If the application retrieves the common device context by using [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), the system also includes the update region in the clipping region to further restrict the output.</span></span>

<span data-ttu-id="87cf5-119">Quando un'applicazione rilascia un contesto di dispositivo comune, il sistema ripristina i valori predefiniti per gli attributi del contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="87cf5-119">When an application releases a common device context, the system restores the default values for the attributes of the device context.</span></span> <span data-ttu-id="87cf5-120">Un'applicazione che modifica i valori di attributo deve eseguire tale operazione ogni volta che viene recuperato un contesto di dispositivo comune.</span><span class="sxs-lookup"><span data-stu-id="87cf5-120">An application that modifies attribute values must do so each time it retrieves a common device context.</span></span> <span data-ttu-id="87cf5-121">Quando si rilascia il contesto di dispositivo, vengono rilasciati tutti gli oggetti Drawing che l'applicazione potrebbe avere selezionato, pertanto l'applicazione non deve rilasciare questi oggetti prima di rilasciare il contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="87cf5-121">Releasing the device context releases any drawing objects the application may have selected into it, so the application need not release these objects before releasing the device context.</span></span> <span data-ttu-id="87cf5-122">In tutti i casi, un'applicazione non deve mai presupporre che il contesto di dispositivo comune mantenga le selezioni non predefinite dopo il rilascio.</span><span class="sxs-lookup"><span data-stu-id="87cf5-122">In all cases, an application must never assume that the common device context retains nondefault selections after being released.</span></span>

 

 



