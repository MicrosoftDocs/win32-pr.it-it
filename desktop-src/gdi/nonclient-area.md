---
description: Il sistema invia un \_ messaggio WM NCPAINT alla finestra ogni volta che è necessario aggiornare una parte dell'area non client della finestra, ad esempio la barra del titolo, la barra dei menu o la cornice della finestra.
ms.assetid: e4dc61f3-6a9f-4ed4-8685-62eb4ceb85f1
title: Area non client
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c51da31709f5bd9326cc0d05a9e37e2df78bfbb4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104226680"
---
# <a name="nonclient-area"></a><span data-ttu-id="1ce0b-103">Area non client</span><span class="sxs-lookup"><span data-stu-id="1ce0b-103">Nonclient Area</span></span>

<span data-ttu-id="1ce0b-104">Il sistema invia un messaggio [**WM \_ NCPAINT**](wm-ncpaint.md) alla finestra ogni volta che è necessario aggiornare una parte dell'area non client della finestra, ad esempio la barra del titolo, la barra dei menu o la cornice della finestra.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-104">The system sends a [**WM\_NCPAINT**](wm-ncpaint.md) message to the window whenever a part of the nonclient area of the window, such as the title bar, menu bar, or window frame, must be updated.</span></span> <span data-ttu-id="1ce0b-105">Il sistema può anche inviare altri messaggi per indicare a una finestra di aggiornare una parte della relativa area client; ad esempio, quando una finestra diventa attiva o inattiva, invia il messaggio [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) per aggiornare la relativa barra del titolo.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-105">The system may also send other messages to direct a window to update a portion of its client area; for example, when a window becomes active or inactive, it sends the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message to update its title bar.</span></span> <span data-ttu-id="1ce0b-106">In generale, non è consigliabile elaborare questi messaggi per le finestre standard, perché l'applicazione deve essere in grado di creare tutte le parti necessarie dell'area non client per la finestra.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-106">In general, processing these messages for standard windows is not recommended, because the application must be able to draw all the required parts of the nonclient area for the window.</span></span> <span data-ttu-id="1ce0b-107">Per questo motivo, la maggior parte delle applicazioni passa questi messaggi a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per l'elaborazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-107">For this reason, most applications pass these messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

<span data-ttu-id="1ce0b-108">Un'applicazione che crea aree non client personalizzate per le finestre deve elaborare questi messaggi.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-108">An application that creates custom nonclient areas for its windows must process these messages.</span></span> <span data-ttu-id="1ce0b-109">Quando si esegue questa operazione, l'applicazione deve usare un contesto di dispositivo della finestra per eseguire il disegno nella finestra.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-109">When doing so, the application must use a window device context to carry out drawing in the window.</span></span> <span data-ttu-id="1ce0b-110">Il *contesto di dispositivo della finestra* consente all'applicazione di creare tutte le parti della finestra, inclusa l'area non client.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-110">The *window device context* enables the application to draw in all portions of the window, including the nonclient area.</span></span> <span data-ttu-id="1ce0b-111">Un'applicazione recupera un contesto di dispositivo della finestra usando la funzione [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) o [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) e, al termine del disegno, deve rilasciare il contesto di dispositivo della finestra usando la funzione [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) .</span><span class="sxs-lookup"><span data-stu-id="1ce0b-111">An application retrieves a window device context by using the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and, when drawing is complete, must release the window device context by using the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="1ce0b-112">Il sistema mantiene un'area di aggiornamento per l'area non client.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-112">The system maintains an update region for the nonclient area.</span></span> <span data-ttu-id="1ce0b-113">Quando un'applicazione riceve un messaggio [**WM \_ NCPAINT**](wm-ncpaint.md) , il parametro *wParam* contiene un handle per un'area che definisce le dimensioni dell'area di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-113">When an application receives a [**WM\_NCPAINT**](wm-ncpaint.md) message, the *wParam* parameter contains a handle to a region defining the dimensions of the update region.</span></span> <span data-ttu-id="1ce0b-114">L'applicazione può usare l'handle per combinare l'area di aggiornamento con l'area di ridimensionamento per il contesto di dispositivo della finestra.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-114">The application can use the handle to combine the update region with the clipping region for the window device context.</span></span> <span data-ttu-id="1ce0b-115">Il sistema non combina automaticamente l'area di aggiornamento durante il recupero del contesto di dispositivo della finestra, a meno che l'applicazione non usi [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) e specifichi sia l'handle dell'area sia il \_ flag DCX INTERSECTRGN.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-115">The system does not automatically combine the update region when retrieving the window device context unless the application uses [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) and specifies both the region handle and the DCX\_INTERSECTRGN flag.</span></span> <span data-ttu-id="1ce0b-116">Se l'applicazione non combina l'area di aggiornamento, verranno ritagliate solo le operazioni di disegno che altrimenti si estendono all'esterno della finestra.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-116">If the application does not combine the update region, only drawing operations that would otherwise extend outside the window are clipped.</span></span> <span data-ttu-id="1ce0b-117">L'applicazione non è responsabile della cancellazione dell'area di aggiornamento, indipendentemente dal fatto che usi l'area.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-117">The application is not responsible for clearing the update region, regardless of whether it uses the region.</span></span>

<span data-ttu-id="1ce0b-118">Se un'applicazione elabora il messaggio [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) , dopo l'elaborazione deve restituire **true** per indicare al sistema di completare la modifica della finestra attiva.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-118">If an application processes the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message, after processing it must return **TRUE** to direct the system to complete the change of active window.</span></span> <span data-ttu-id="1ce0b-119">Se la finestra è ridotta a icona quando l'applicazione riceve il messaggio **WM \_ NCACTIVATE** , deve passare il messaggio a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="1ce0b-119">If the window is minimized when the application receives the **WM\_NCACTIVATE** message, it should pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span> <span data-ttu-id="1ce0b-120">In questi casi, la funzione predefinita ridisegnato l'etichetta per l'icona.</span><span class="sxs-lookup"><span data-stu-id="1ce0b-120">In such cases, the default function redraws the label for the icon.</span></span>

 

 
