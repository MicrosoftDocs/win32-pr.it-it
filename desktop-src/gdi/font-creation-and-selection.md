---
description: La finestra di dialogo comune carattere semplifica il processo di creazione e selezione di tipi di carattere.
ms.assetid: 7183be25-a8e4-47a0-a34a-63eadf6ca10d
title: Creazione e selezione di tipi di carattere
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37b4a70a1a49fc318ca69998d97e15fca838668d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104994048"
---
# <a name="font-creation-and-selection"></a>Creazione e selezione di tipi di carattere

La finestra di dialogo comune **carattere** semplifica il processo di creazione e selezione di tipi di carattere. Inizializzando la struttura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) e chiamando la funzione [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) , un'applicazione può supportare la stessa interfaccia di selezione dei tipi di carattere che in precedenza richiedeva molte righe di codice personalizzato. Per ulteriori informazioni sulla finestra di dialogo comune del **tipo di carattere** , vedere libreria della finestra di [dialogo comune](../dlgbox/common-dialog-box-library.md).

## <a name="selection-by-the-user"></a>Selezione effettuata dall'utente

La maggior parte delle operazioni di creazione e selezione dei tipi di carattere implica l'utente. Ad esempio, le applicazioni di elaborazione di testi consentono all'utente di selezionare tipi di carattere univoci per intestazioni, note a piè di pagina e testo del corpo. Dopo che l'utente ha selezionato un tipo di carattere utilizzando la finestra di dialogo **tipo di carattere** e premuto il pulsante **OK** , la funzione [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) Inizializza i membri di una struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) con gli attributi del tipo di carattere richiesto. Per usare questo tipo di carattere per le operazioni di output di testo, un'applicazione deve prima creare un tipo di carattere logico e quindi selezionare tale tipo di carattere nel relativo contesto di dispositivo. Un *tipo di carattere logico* è una descrizione fornita dall'applicazione di un tipo di carattere ideale. Uno sviluppatore può creare un tipo di carattere logico chiamando le funzioni [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) o [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) . In questo caso, l'applicazione chiamerebbe [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) e fornirà un puntatore alla struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inizializzata da [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta). In generale, è più efficiente chiamare **CreateFontIndirect** poiché [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) richiede diversi parametri mentre **CreateFontIndirect** richiede un solo puntatore a **LOGFONT**.

Prima che un'applicazione possa effettivamente iniziare a disegnare testo con un tipo di carattere logico, deve trovare la corrispondenza più vicina tra i tipi di carattere archiviati internamente nel dispositivo e i tipi di carattere le cui risorse sono state caricate nel sistema operativo. I tipi di carattere archiviati nel dispositivo o nel sistema operativo sono denominati *tipi di carattere fisici*. Il processo di ricerca del tipo di carattere fisico che corrisponde maggiormente a un tipo di carattere logico specificato viene definito mapping dei tipi di carattere. Questo processo si verifica quando un'applicazione chiama la funzione [**SelezionaOggetto**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) e fornisce un handle che identifica un tipo di carattere logico. Il mapping dei tipi di carattere viene eseguito utilizzando un algoritmo interno che confronta gli attributi del tipo di carattere logico richiesto con gli attributi dei tipi di carattere fisici disponibili. Quando l'algoritmo di mapping dei tipi di carattere completa la ricerca e determina la corrispondenza più vicina possibile, la funzione [**SelezionaOggetto**](/windows/win32/api/wingdi/nf-wingdi-selectobject) restituisce e l'applicazione può iniziare a disegnare il testo con il nuovo tipo di carattere.

La funzione [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) specifica se l'algoritmo del mapper dei tipi di carattere cerca solo i tipi di carattere fisici con proporzioni corrispondenti al dispositivo fisico. Le proporzioni per un dispositivo sono il rapporto costituito dalla larghezza e dall'altezza di un pixel sul dispositivo.

Il tipo di carattere del sistema, noto anche come shell o tipo di carattere predefinito, è il tipo di carattere utilizzato per il testo nelle barre del titolo, nei menu e nelle finestre di dialogo.

## <a name="special-font-selection-considerations"></a>Considerazioni speciali sulla selezione dei caratteri

Sebbene la maggior parte delle operazioni di selezione dei tipi di carattere comporti l'utente, in alcuni casi non è vero. È ad esempio possibile che uno sviluppatore desideri utilizzare un tipo di carattere univoco in un'applicazione per creare testo in una finestra del controllo. Per selezionare un tipo di carattere appropriato, l'applicazione deve essere in grado di determinare quali tipi di carattere sono disponibili, creare un tipo di carattere logico che descriva uno di questi tipi di carattere disponibili e quindi selezionare il tipo di carattere nel contesto di dispositivo appropriato.

Un'applicazione può enumerare i tipi di carattere disponibili usando le funzioni [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) o [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) . [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) è consigliato perché enumera tutti gli stili associati a un nome di famiglia. Questo può essere utile per i tipi di carattere con stili diversi o insolito e per i tipi di carattere che interessano i confini internazionali.

Una volta che un'applicazione ha enumerato i tipi di carattere disponibili e individuato una corrispondenza appropriata, deve usare i valori restituiti dalla funzione di enumerazione dei tipi di carattere per inizializzare i membri di una struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) . Quindi, può chiamare la funzione [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) , passando a essa un puntatore alla struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inizializzata. Se la funzione [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) ha esito positivo, l'applicazione può quindi selezionare il tipo di carattere logico chiamando la funzione [**SelezionaOggetto**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) . Quando si inizializzano i membri della struttura **LOGFONT** , assicurarsi di specificare un set di caratteri specifico nel membro **lfCharSet** . Questo membro è importante nel processo di mapping dei tipi di carattere e i risultati saranno incoerenti se il membro non è inizializzato correttamente. Se si specifica un nome di carattere tipografico nel membro **lfFaceName** della struttura **LOGFONT** , assicurarsi che il valore **lfCharSet** corrisponda al set di caratteri del carattere tipografico specificato in **lfFaceName**. Se ad esempio si vuole selezionare un tipo di carattere, ad esempio MS Mincho, **lfCharSet** deve essere impostato sul valore predefinito ShiftJIS \_ CharSet.

I tipi di carattere per molte lingue asiatiche orientali hanno due nomi tipografici: un nome inglese e un nome localizzato. [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)e [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) accettano il nome del carattere tipografico localizzato per le impostazioni locali del sistema che corrispondono alla lingua, ma accettano il nome del carattere tipografico inglese per tutte le altre impostazioni locali del sistema. Il metodo migliore consiste nel provare un solo nome e, in caso di errore, provare l'altro. Si noti che [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa)e [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) restituiscono il nome del carattere tipografico inglese se le impostazioni locali del sistema non corrispondono alla lingua del tipo di carattere. A partire da Windows 2000, questo non è più un problema perché il mapper dei tipi di carattere per [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta)e [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) riconosce il nome del carattere tipografico, indipendentemente dalle impostazioni locali.

 

 
