---
description: La finestra di dialogo comune carattere semplifica il processo di creazione e selezione di tipi di carattere.
ms.assetid: 7183be25-a8e4-47a0-a34a-63eadf6ca10d
title: Creazione e selezione di tipi di carattere
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37b4a70a1a49fc318ca69998d97e15fca838668d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104994048"
---
# <a name="font-creation-and-selection"></a><span data-ttu-id="8ca41-103">Creazione e selezione di tipi di carattere</span><span class="sxs-lookup"><span data-stu-id="8ca41-103">Font Creation and Selection</span></span>

<span data-ttu-id="8ca41-104">La finestra di dialogo comune **carattere** semplifica il processo di creazione e selezione di tipi di carattere.</span><span class="sxs-lookup"><span data-stu-id="8ca41-104">The **Font** common dialog box simplifies the process of creating and selecting fonts.</span></span> <span data-ttu-id="8ca41-105">Inizializzando la struttura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) e chiamando la funzione [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) , un'applicazione può supportare la stessa interfaccia di selezione dei tipi di carattere che in precedenza richiedeva molte righe di codice personalizzato.</span><span class="sxs-lookup"><span data-stu-id="8ca41-105">By initializing the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure and calling the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function, an application can support the same font-selection interface that previously required many lines of custom code.</span></span> <span data-ttu-id="8ca41-106">Per ulteriori informazioni sulla finestra di dialogo comune del **tipo di carattere** , vedere libreria della finestra di [dialogo comune](../dlgbox/common-dialog-box-library.md).</span><span class="sxs-lookup"><span data-stu-id="8ca41-106">(For more information about the **Font** common dialog box, see [Common Dialog Box Library](../dlgbox/common-dialog-box-library.md).)</span></span>

## <a name="selection-by-the-user"></a><span data-ttu-id="8ca41-107">Selezione effettuata dall'utente</span><span class="sxs-lookup"><span data-stu-id="8ca41-107">Selection by the User</span></span>

<span data-ttu-id="8ca41-108">La maggior parte delle operazioni di creazione e selezione dei tipi di carattere implica l'utente.</span><span class="sxs-lookup"><span data-stu-id="8ca41-108">Most font creation and selection operations involve the user.</span></span> <span data-ttu-id="8ca41-109">Ad esempio, le applicazioni di elaborazione di testi consentono all'utente di selezionare tipi di carattere univoci per intestazioni, note a piè di pagina e testo del corpo.</span><span class="sxs-lookup"><span data-stu-id="8ca41-109">For example, word processing applications let the user select unique fonts for headings, footnotes, and body text.</span></span> <span data-ttu-id="8ca41-110">Dopo che l'utente ha selezionato un tipo di carattere utilizzando la finestra di dialogo **tipo di carattere** e premuto il pulsante **OK** , la funzione [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) Inizializza i membri di una struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) con gli attributi del tipo di carattere richiesto.</span><span class="sxs-lookup"><span data-stu-id="8ca41-110">After the user selects a font by using the **Font** dialog box and presses the **OK** button, the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function initializes the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure with the attributes of the requested font.</span></span> <span data-ttu-id="8ca41-111">Per usare questo tipo di carattere per le operazioni di output di testo, un'applicazione deve prima creare un tipo di carattere logico e quindi selezionare tale tipo di carattere nel relativo contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8ca41-111">To use this font for text-output operations, an application must first create a logical font and then select that font into its device context.</span></span> <span data-ttu-id="8ca41-112">Un *tipo di carattere logico* è una descrizione fornita dall'applicazione di un tipo di carattere ideale.</span><span class="sxs-lookup"><span data-stu-id="8ca41-112">A *logical font* is an application-supplied description of an ideal font.</span></span> <span data-ttu-id="8ca41-113">Uno sviluppatore può creare un tipo di carattere logico chiamando le funzioni [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) o [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) .</span><span class="sxs-lookup"><span data-stu-id="8ca41-113">A developer can create a logical font by calling the [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) or the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) functions.</span></span> <span data-ttu-id="8ca41-114">In questo caso, l'applicazione chiamerebbe [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) e fornirà un puntatore alla struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inizializzata da [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta).</span><span class="sxs-lookup"><span data-stu-id="8ca41-114">In this case, the application would call [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) and supply a pointer to the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure initialized by [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta).</span></span> <span data-ttu-id="8ca41-115">In generale, è più efficiente chiamare **CreateFontIndirect** poiché [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) richiede diversi parametri mentre **CreateFontIndirect** richiede un solo puntatore a **LOGFONT**.</span><span class="sxs-lookup"><span data-stu-id="8ca41-115">In general, it is more efficient to call **CreateFontIndirect** because [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) requires several parameters while **CreateFontIndirect** requires only one pointer to **LOGFONT**.</span></span>

<span data-ttu-id="8ca41-116">Prima che un'applicazione possa effettivamente iniziare a disegnare testo con un tipo di carattere logico, deve trovare la corrispondenza più vicina tra i tipi di carattere archiviati internamente nel dispositivo e i tipi di carattere le cui risorse sono state caricate nel sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="8ca41-116">Before an application can actually begin drawing text with a logical font, it must find the closest match from the fonts stored internally on the device and the fonts whose resources have been loaded into the operating system.</span></span> <span data-ttu-id="8ca41-117">I tipi di carattere archiviati nel dispositivo o nel sistema operativo sono denominati *tipi di carattere fisici*.</span><span class="sxs-lookup"><span data-stu-id="8ca41-117">The fonts stored on the device or in the operating system are called *physical fonts*.</span></span> <span data-ttu-id="8ca41-118">Il processo di ricerca del tipo di carattere fisico che corrisponde maggiormente a un tipo di carattere logico specificato viene definito mapping dei tipi di carattere.</span><span class="sxs-lookup"><span data-stu-id="8ca41-118">The process of finding the physical font that most closely matches a specified logical font is called font mapping.</span></span> <span data-ttu-id="8ca41-119">Questo processo si verifica quando un'applicazione chiama la funzione [**SelezionaOggetto**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) e fornisce un handle che identifica un tipo di carattere logico.</span><span class="sxs-lookup"><span data-stu-id="8ca41-119">This process occurs when an application calls the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function and supplies a handle identifying a logical font.</span></span> <span data-ttu-id="8ca41-120">Il mapping dei tipi di carattere viene eseguito utilizzando un algoritmo interno che confronta gli attributi del tipo di carattere logico richiesto con gli attributi dei tipi di carattere fisici disponibili.</span><span class="sxs-lookup"><span data-stu-id="8ca41-120">Font mapping is performed by using an internal algorithm that compares the attributes of the requested logical font against the attributes of available physical fonts.</span></span> <span data-ttu-id="8ca41-121">Quando l'algoritmo di mapping dei tipi di carattere completa la ricerca e determina la corrispondenza più vicina possibile, la funzione [**SelezionaOggetto**](/windows/win32/api/wingdi/nf-wingdi-selectobject) restituisce e l'applicazione può iniziare a disegnare il testo con il nuovo tipo di carattere.</span><span class="sxs-lookup"><span data-stu-id="8ca41-121">When the font mapper algorithm completes its search and determines the closest possible match, the [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject) function returns and the application can begin drawing text with the new font.</span></span>

<span data-ttu-id="8ca41-122">La funzione [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) specifica se l'algoritmo del mapper dei tipi di carattere cerca solo i tipi di carattere fisici con proporzioni corrispondenti al dispositivo fisico.</span><span class="sxs-lookup"><span data-stu-id="8ca41-122">The [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) function specifies whether the font mapper algorithm searches only for physical fonts with aspect ratios that match the physical device.</span></span> <span data-ttu-id="8ca41-123">Le proporzioni per un dispositivo sono il rapporto costituito dalla larghezza e dall'altezza di un pixel sul dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8ca41-123">The aspect ratio for a device is the ratio formed by the width and the height of a pixel on that device.</span></span>

<span data-ttu-id="8ca41-124">Il tipo di carattere del sistema, noto anche come shell o tipo di carattere predefinito, è il tipo di carattere utilizzato per il testo nelle barre del titolo, nei menu e nelle finestre di dialogo.</span><span class="sxs-lookup"><span data-stu-id="8ca41-124">The system font (also known as the shell or default font) is the font used for text in the title bars, menus, and dialog boxes.</span></span>

## <a name="special-font-selection-considerations"></a><span data-ttu-id="8ca41-125">Considerazioni speciali sulla selezione dei caratteri</span><span class="sxs-lookup"><span data-stu-id="8ca41-125">Special Font Selection Considerations</span></span>

<span data-ttu-id="8ca41-126">Sebbene la maggior parte delle operazioni di selezione dei tipi di carattere comporti l'utente, in alcuni casi non è vero.</span><span class="sxs-lookup"><span data-stu-id="8ca41-126">Although most font selection operations involve the user, there are some instances where this is not true.</span></span> <span data-ttu-id="8ca41-127">È ad esempio possibile che uno sviluppatore desideri utilizzare un tipo di carattere univoco in un'applicazione per creare testo in una finestra del controllo.</span><span class="sxs-lookup"><span data-stu-id="8ca41-127">For example, a developer may want to use a unique font in an application to draw text in a control window.</span></span> <span data-ttu-id="8ca41-128">Per selezionare un tipo di carattere appropriato, l'applicazione deve essere in grado di determinare quali tipi di carattere sono disponibili, creare un tipo di carattere logico che descriva uno di questi tipi di carattere disponibili e quindi selezionare il tipo di carattere nel contesto di dispositivo appropriato.</span><span class="sxs-lookup"><span data-stu-id="8ca41-128">To select an appropriate font, the application must be able to determine what fonts are available, create a logical font that describes one of these available fonts, and then select that font into the appropriate device context.</span></span>

<span data-ttu-id="8ca41-129">Un'applicazione può enumerare i tipi di carattere disponibili usando le funzioni [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) o [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) .</span><span class="sxs-lookup"><span data-stu-id="8ca41-129">An application can enumerate the available fonts by using the [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) or [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) functions.</span></span> <span data-ttu-id="8ca41-130">[**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) è consigliato perché enumera tutti gli stili associati a un nome di famiglia.</span><span class="sxs-lookup"><span data-stu-id="8ca41-130">[**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) is recommended because it enumerates all the styles associated with a family name.</span></span> <span data-ttu-id="8ca41-131">Questo può essere utile per i tipi di carattere con stili diversi o insolito e per i tipi di carattere che interessano i confini internazionali.</span><span class="sxs-lookup"><span data-stu-id="8ca41-131">This can be useful for fonts with many or unusual styles and for fonts that cross international borders.</span></span>

<span data-ttu-id="8ca41-132">Una volta che un'applicazione ha enumerato i tipi di carattere disponibili e individuato una corrispondenza appropriata, deve usare i valori restituiti dalla funzione di enumerazione dei tipi di carattere per inizializzare i membri di una struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) .</span><span class="sxs-lookup"><span data-stu-id="8ca41-132">Once an application has enumerated the available fonts and located an appropriate match, it should use the values returned by the font enumeration function to initialize the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="8ca41-133">Quindi, può chiamare la funzione [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) , passando a essa un puntatore alla struttura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inizializzata.</span><span class="sxs-lookup"><span data-stu-id="8ca41-133">Then it can call the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) function, passing to it a pointer to the initialized [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="8ca41-134">Se la funzione [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) ha esito positivo, l'applicazione può quindi selezionare il tipo di carattere logico chiamando la funzione [**SelezionaOggetto**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) .</span><span class="sxs-lookup"><span data-stu-id="8ca41-134">If the [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) function is successful, the application can then select the logical font by calling the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function.</span></span> <span data-ttu-id="8ca41-135">Quando si inizializzano i membri della struttura **LOGFONT** , assicurarsi di specificare un set di caratteri specifico nel membro **lfCharSet** .</span><span class="sxs-lookup"><span data-stu-id="8ca41-135">When initializing the members of the **LOGFONT** structure, be sure to specify a specific character set in the **lfCharSet** member.</span></span> <span data-ttu-id="8ca41-136">Questo membro è importante nel processo di mapping dei tipi di carattere e i risultati saranno incoerenti se il membro non è inizializzato correttamente.</span><span class="sxs-lookup"><span data-stu-id="8ca41-136">This member is important in the font mapping process and the results will be inconsistent if this member is not initialized correctly.</span></span> <span data-ttu-id="8ca41-137">Se si specifica un nome di carattere tipografico nel membro **lfFaceName** della struttura **LOGFONT** , assicurarsi che il valore **lfCharSet** corrisponda al set di caratteri del carattere tipografico specificato in **lfFaceName**.</span><span class="sxs-lookup"><span data-stu-id="8ca41-137">If you specify a typeface name in the **lfFaceName** member of the **LOGFONT** structure, make sure that the **lfCharSet** value matches the character set of the typeface specified in **lfFaceName**.</span></span> <span data-ttu-id="8ca41-138">Se ad esempio si vuole selezionare un tipo di carattere, ad esempio MS Mincho, **lfCharSet** deve essere impostato sul valore predefinito ShiftJIS \_ CharSet.</span><span class="sxs-lookup"><span data-stu-id="8ca41-138">For example, if you want to select a font such as MS Mincho, **lfCharSet** must be set to the predefined value SHIFTJIS\_CHARSET.</span></span>

<span data-ttu-id="8ca41-139">I tipi di carattere per molte lingue asiatiche orientali hanno due nomi tipografici: un nome inglese e un nome localizzato.</span><span class="sxs-lookup"><span data-stu-id="8ca41-139">The fonts for many East Asian languages have two typeface names: an English name and a localized name.</span></span> <span data-ttu-id="8ca41-140">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)e [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) accettano il nome del carattere tipografico localizzato per le impostazioni locali del sistema che corrispondono alla lingua, ma accettano il nome del carattere tipografico inglese per tutte le altre impostazioni locali del sistema.</span><span class="sxs-lookup"><span data-stu-id="8ca41-140">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) take the localized typeface name for a system locale that matches the language, but they take the English typeface name for all other system locales.</span></span> <span data-ttu-id="8ca41-141">Il metodo migliore consiste nel provare un solo nome e, in caso di errore, provare l'altro.</span><span class="sxs-lookup"><span data-stu-id="8ca41-141">The best method is to try one name and, on failure, try the other.</span></span> <span data-ttu-id="8ca41-142">Si noti che [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa)e [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) restituiscono il nome del carattere tipografico inglese se le impostazioni locali del sistema non corrispondono alla lingua del tipo di carattere.</span><span class="sxs-lookup"><span data-stu-id="8ca41-142">Note that [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa), and [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) return the English typeface name if the system locale does not match the language of the font.</span></span> <span data-ttu-id="8ca41-143">A partire da Windows 2000, questo non è più un problema perché il mapper dei tipi di carattere per [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta)e [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) riconosce il nome del carattere tipografico, indipendentemente dalle impostazioni locali.</span><span class="sxs-lookup"><span data-stu-id="8ca41-143">Starting with Windows 2000, this is no longer a problem because the font mapper for [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) recognizes either typeface name, regardless of locale.</span></span>

 

 
