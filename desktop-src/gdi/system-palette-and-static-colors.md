---
description: In genere, le voci della tavolozza di sistema riservate dal sistema per i colori statici non possono essere modificate.
ms.assetid: be258151-36cc-42ba-8005-ff9d8e59b894
title: Tavolozza di sistema e colori statici
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 537bdc87fecdd055334b83a56b0a53f9999be94c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104979423"
---
# <a name="system-palette-and-static-colors"></a><span data-ttu-id="b59ff-103">Tavolozza di sistema e colori statici</span><span class="sxs-lookup"><span data-stu-id="b59ff-103">System Palette and Static Colors</span></span>

<span data-ttu-id="b59ff-104">In genere, le voci della tavolozza di sistema riservate dal sistema per i colori statici non possono essere modificate.</span><span class="sxs-lookup"><span data-stu-id="b59ff-104">Ordinarily, the system palette entries that the system reserves for static colors cannot be changed.</span></span> <span data-ttu-id="b59ff-105">Un'applicazione può eseguire l'override di questo comportamento predefinito utilizzando la funzione [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) per ridurre il numero di voci di colore statiche e, pertanto, aumentare il numero di voci della tavolozza di sistema inutilizzate.</span><span class="sxs-lookup"><span data-stu-id="b59ff-105">An application can override this default behavior by using the [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) function to reduce the number of static color entries and, thereby, increase the number of unused system palette entries.</span></span> <span data-ttu-id="b59ff-106">Tuttavia, poiché la modifica dei colori statici può avere un effetto immediato e significativo su tutte le finestre sullo schermo, un'applicazione non deve chiamare **SetSystemPaletteUse**, a meno che non disponga di una finestra ingrandita e dello stato attivo per l'input.</span><span class="sxs-lookup"><span data-stu-id="b59ff-106">However, because changing the static colors can have an immediate and dramatic effect on all windows on the display, an application should not call **SetSystemPaletteUse**, unless it has a maximized window and the input focus.</span></span>

<span data-ttu-id="b59ff-107">Quando un'applicazione chiama [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) con il \_ valore Nostatic SYSPAL, il sistema libera tutte le voci riservate, consentendo a tali voci di ricevere nuovi valori di colore quando l'applicazione realizza successivamente la relativa tavolozza logica.</span><span class="sxs-lookup"><span data-stu-id="b59ff-107">When an application calls [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) with the SYSPAL\_NOSTATIC value, the system frees all but two of the reserved entries, allowing those entries to receive new color values when the application subsequently realizes its logical palette.</span></span> <span data-ttu-id="b59ff-108">Le rimanenti due voci di colore statiche rimangono riservate e sono impostate su bianco e nero.</span><span class="sxs-lookup"><span data-stu-id="b59ff-108">The remaining two static color entries remain reserved and are set to white and black.</span></span> <span data-ttu-id="b59ff-109">Un'applicazione può ripristinare le voci riservate chiamando **SetSystemPaletteUse** con il \_ valore statico SYSPAL.</span><span class="sxs-lookup"><span data-stu-id="b59ff-109">An application can restore the reserved entries by calling **SetSystemPaletteUse** with the SYSPAL\_STATIC value.</span></span> <span data-ttu-id="b59ff-110">Consente di individuare l'utilizzo corrente della tavolozza di sistema tramite la funzione [**GetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-getsystempaletteuse) .</span><span class="sxs-lookup"><span data-stu-id="b59ff-110">It can discover the current system palette usage by using the [**GetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-getsystempaletteuse) function.</span></span>

<span data-ttu-id="b59ff-111">Inoltre, dopo aver impostato l'utilizzo della tavolozza di sistema su SYSPAL \_ Nostatic, è necessario che l'applicazione realizzi immediatamente la relativa tavolozza logica, chiami la funzione [**GetSysColor**](/windows/win32/api/winuser/nf-winuser-getsyscolor) per salvare le impostazioni correnti relative ai colori del sistema, chiami la funzione [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) per impostare i colori di sistema su valori ragionevoli usando il nero e il bianco e infine invia il messaggio [**WM \_ SYSCOLORCHANGE**](wm-syscolorchange.md) ad altre finestre di primo livello per</span><span class="sxs-lookup"><span data-stu-id="b59ff-111">Furthermore, after setting the system palette usage to SYSPAL\_NOSTATIC, the application must immediately realize its logical palette, call the [**GetSysColor**](/windows/win32/api/winuser/nf-winuser-getsyscolor) function to save the current system color settings, call the [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) function to set the system colors to reasonable values using black and white, and finally send the [**WM\_SYSCOLORCHANGE**](wm-syscolorchange.md) message to other top-level windows to allow them to be redrawn with the new system colors.</span></span> <span data-ttu-id="b59ff-112">Quando si impostano i colori di sistema utilizzando il nero e il bianco, l'applicazione deve verificare che gli elementi adiacenti o sovrapposti, ad esempio i bordi e i frame della finestra, siano impostati rispettivamente su nero e bianco.</span><span class="sxs-lookup"><span data-stu-id="b59ff-112">When setting system colors using black and white, the application should make sure adjacent or overlapping items, such as window frames and borders, are set to black and white, respectively.</span></span>

<span data-ttu-id="b59ff-113">Prima che l'applicazione perda lo stato attivo per l'input, chiude la finestra o termina, deve chiamare immediatamente [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) con il \_ valore statico SYSPAL, realizzare la relativa tavolozza logica, ripristinare i colori di sistema nei valori precedenti e inviare il messaggio [**WM \_ SYSCOLORCHANGE**](wm-syscolorchange.md) .</span><span class="sxs-lookup"><span data-stu-id="b59ff-113">Before the application loses the input focus, closes its window, or terminates, it must immediately call [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) with the SYSPAL\_STATIC value, realize its logical palette, restore the system colors to their previous values, and send the [**WM\_SYSCOLORCHANGE**](wm-syscolorchange.md) message.</span></span> <span data-ttu-id="b59ff-114">Il sistema invia un messaggio di [**\_ disegno WM**](wm-paint.md) a qualsiasi finestra interessata da una modifica del colore di sistema.</span><span class="sxs-lookup"><span data-stu-id="b59ff-114">The system sends a [**WM\_PAINT**](wm-paint.md) message to any window that is affected by a system color change.</span></span> <span data-ttu-id="b59ff-115">Le applicazioni che hanno pennelli che usano i colori di sistema esistenti devono eliminare tali pennelli e ricrearli usando i nuovi colori di sistema.</span><span class="sxs-lookup"><span data-stu-id="b59ff-115">Applications that have brushes using the existing system colors should delete those brushes and re-create them using the new system colors.</span></span>

 

 
