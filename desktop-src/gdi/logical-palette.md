---
description: Una tavolozza logica è una tavolozza dei colori che un'applicazione crea e associa a un determinato contesto di dispositivo.
ms.assetid: 7cc86771-237d-4539-8f48-2474edb764a4
title: Tavolozza logica
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 597e049c4320ff3ac30099e767c35a3438237904
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104978567"
---
# <a name="logical-palette"></a><span data-ttu-id="39648-103">Tavolozza logica</span><span class="sxs-lookup"><span data-stu-id="39648-103">Logical Palette</span></span>

<span data-ttu-id="39648-104">Una *tavolozza logica* è una tavolozza dei colori che un'applicazione crea e associa a un determinato contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="39648-104">A *logical palette* is a color palette that an application creates and associates with a given device context.</span></span> <span data-ttu-id="39648-105">Le tavolozze logiche consentono alle applicazioni di definire e usare i colori che soddisfano le proprie esigenze specifiche.</span><span class="sxs-lookup"><span data-stu-id="39648-105">Logical palettes let applications define and use colors that meet their specific needs.</span></span> <span data-ttu-id="39648-106">Le applicazioni possono creare un numero qualsiasi di tavolozze logiche, usandole per contesti di dispositivo separati o passando tra di essi per un singolo contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="39648-106">Applications can create any number of logical palettes, using them for separate device contexts or switching between them for a single device context.</span></span> <span data-ttu-id="39648-107">Il numero massimo di tavolozze che un'applicazione può creare dipende dalle risorse del sistema.</span><span class="sxs-lookup"><span data-stu-id="39648-107">The maximum number of palettes that an application can create depends on the resources of the system.</span></span>

<span data-ttu-id="39648-108">Un'applicazione crea una tavolozza logica tramite la funzione [**CreatePalette**](/windows/desktop/api/Wingdi/nf-wingdi-createpalette) .</span><span class="sxs-lookup"><span data-stu-id="39648-108">An application creates a logical palette by using the [**CreatePalette**](/windows/desktop/api/Wingdi/nf-wingdi-createpalette) function.</span></span> <span data-ttu-id="39648-109">L'applicazione compila una struttura [**LOGPALETTE**](/windows/win32/api/wingdi/ns-wingdi-logpalette) , che specifica il numero di voci e i valori di colore per ogni voce, quindi l'applicazione passa la struttura a **CreatePalette**.</span><span class="sxs-lookup"><span data-stu-id="39648-109">The application fills a [**LOGPALETTE**](/windows/win32/api/wingdi/ns-wingdi-logpalette) structure, which specifies the number of entries and the color values for each entry, and then the application passes the structure to **CreatePalette**.</span></span> <span data-ttu-id="39648-110">La funzione restituisce un handle della tavolozza utilizzato dall'applicazione in tutte le operazioni successive per identificare la tavolozza.</span><span class="sxs-lookup"><span data-stu-id="39648-110">The function returns a palette handle that the application uses in all subsequent operations to identify the palette.</span></span> <span data-ttu-id="39648-111">Per utilizzare i colori nella tavolozza logica, l'applicazione seleziona la tavolozza in un contesto di dispositivo utilizzando la funzione [**SelectPalette**](/windows/desktop/api/Wingdi/nf-wingdi-selectpalette) e quindi realizza la tavolozza utilizzando la funzione [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) .</span><span class="sxs-lookup"><span data-stu-id="39648-111">To use colors in the logical palette, the application selects the palette into a device context by using the [**SelectPalette**](/windows/desktop/api/Wingdi/nf-wingdi-selectpalette) function and then realizes the palette by using the [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) function.</span></span> <span data-ttu-id="39648-112">I colori della tavolozza sono disponibili non appena viene realizzata la tavolozza logica.</span><span class="sxs-lookup"><span data-stu-id="39648-112">The colors in the palette are available as soon as the logical palette is realized.</span></span>

<span data-ttu-id="39648-113">Un'applicazione deve limitare le dimensioni delle tavolozze logiche a un numero sufficiente di voci per rappresentare i colori necessari.</span><span class="sxs-lookup"><span data-stu-id="39648-113">An application should limit the size of its logical palettes to just enough entries to represent the colors needed.</span></span> <span data-ttu-id="39648-114">Le applicazioni non possono creare tavolozze logiche superiori alla dimensione massima della tavolozza, un valore dipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="39648-114">Applications cannot create logical palettes larger than the maximum palette size, a device-dependent value.</span></span> <span data-ttu-id="39648-115">Le applicazioni possono ottenere le dimensioni massime usando la funzione [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) per recuperare il valore SIZEPALETTE.</span><span class="sxs-lookup"><span data-stu-id="39648-115">Applications can obtain the maximum size by using the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function to retrieve the SIZEPALETTE value.</span></span>

<span data-ttu-id="39648-116">Sebbene un'applicazione possa specificare qualsiasi valore di colore per una determinata voce in una tavolozza logica, non tutti i colori possono essere generati dal dispositivo specificato.</span><span class="sxs-lookup"><span data-stu-id="39648-116">Although an application can specify any color value for a given entry in a logical palette, not all colors can be generated by the given device.</span></span> <span data-ttu-id="39648-117">Il sistema non fornisce un modo per individuare i colori supportati, ma l'applicazione può individuare il numero totale di questi colori recuperando la risoluzione dei colori del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="39648-117">The system does not provide a way to discover which colors are supported, but the application can discover the total number of these colors by retrieving the color resolution of the device.</span></span> <span data-ttu-id="39648-118">La risoluzione dei colori, specificata nei bit di colore per pixel, è uguale al valore COLORRES restituito dalla funzione [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) .</span><span class="sxs-lookup"><span data-stu-id="39648-118">The color resolution, specified in color bits per pixel, is equal to the COLORRES value returned by the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function.</span></span> <span data-ttu-id="39648-119">Un dispositivo con risoluzione dei colori pari a 18 ha 262.144 colori possibili.</span><span class="sxs-lookup"><span data-stu-id="39648-119">A device that has a color resolution of 18 has 262,144 possible colors.</span></span> <span data-ttu-id="39648-120">Se un'applicazione richiede un colore non supportato, il sistema sceglie un'approssimazione appropriata.</span><span class="sxs-lookup"><span data-stu-id="39648-120">If an application requests a color that is not supported, the system chooses an appropriate approximation.</span></span>

<span data-ttu-id="39648-121">Una volta creata una tavolozza logica, un'applicazione può modificare i colori della tavolozza utilizzando la funzione [**SetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-setpaletteentries) .</span><span class="sxs-lookup"><span data-stu-id="39648-121">Once a logical palette is created, an application can change colors in the palette by using the [**SetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-setpaletteentries) function.</span></span> <span data-ttu-id="39648-122">Se la tavolozza logica è stata selezionata e realizzata, la modifica della tavolozza non influisce immediatamente sui colori visualizzati.</span><span class="sxs-lookup"><span data-stu-id="39648-122">If the logical palette has been selected and realized, changing the palette does not immediately affect the colors being displayed.</span></span> <span data-ttu-id="39648-123">Per aggiornare i colori, l'applicazione deve utilizzare le funzioni [**UnrealizeObject**](/windows/desktop/api/Wingdi/nf-wingdi-unrealizeobject) e [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) .</span><span class="sxs-lookup"><span data-stu-id="39648-123">The application must use the [**UnrealizeObject**](/windows/desktop/api/Wingdi/nf-wingdi-unrealizeobject) and [**RealizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-realizepalette) functions to update the colors.</span></span> <span data-ttu-id="39648-124">In alcuni casi, è possibile che l'applicazione debba deselezionare, deselezionare, selezionare e realizzare la tavolozza logica per assicurarsi che i colori vengano aggiornati esattamente come richiesto.</span><span class="sxs-lookup"><span data-stu-id="39648-124">In some cases, the application may need to deselect, unrealize, select, and realize the logical palette to ensure that the colors are updated exactly as requested.</span></span> <span data-ttu-id="39648-125">Se un'applicazione seleziona una tavolozza logica in più di un contesto di dispositivo, le modifiche apportate alla tavolozza logica hanno effetto su tutti i contesti di dispositivo per i quali è selezionata.</span><span class="sxs-lookup"><span data-stu-id="39648-125">If an application selects a logical palette into more than one device context, changes to the logical palette affect all device contexts for which it is selected.</span></span>

<span data-ttu-id="39648-126">Un'applicazione può modificare il numero di voci in una tavolozza logica tramite la funzione [**ResizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-resizepalette) .</span><span class="sxs-lookup"><span data-stu-id="39648-126">An application can change the number of entries in a logical palette by using the [**ResizePalette**](/windows/desktop/api/Wingdi/nf-wingdi-resizepalette) function.</span></span> <span data-ttu-id="39648-127">Se l'applicazione riduce le dimensioni, le voci rimanenti restano invariate.</span><span class="sxs-lookup"><span data-stu-id="39648-127">If the application reduces the size, the remaining entries are unchanged.</span></span> <span data-ttu-id="39648-128">Se l'applicazione estende le dimensioni, il sistema imposta il colore per ogni nuova voce su nero (0, 0, 0) e il flag su zero.</span><span class="sxs-lookup"><span data-stu-id="39648-128">If the application extends the size, the system sets the color for each new entry to black (0, 0, 0) and the flag to zero.</span></span>

<span data-ttu-id="39648-129">Un'applicazione può recuperare i valori relativi al colore e al flag per le voci in una tavolozza logica specificata tramite la funzione [**GetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-getpaletteentries) .</span><span class="sxs-lookup"><span data-stu-id="39648-129">An application can retrieve the color and flag values for entries in a given logical palette by using the [**GetPaletteEntries**](/windows/desktop/api/Wingdi/nf-wingdi-getpaletteentries) function.</span></span> <span data-ttu-id="39648-130">Un'applicazione può recuperare l'indice per la voce in una tavolozza logica specificata che corrisponde maggiormente a un valore di colore specificato tramite la funzione [**GetNearestPaletteIndex**](/windows/desktop/api/Wingdi/nf-wingdi-getnearestpaletteindex) .</span><span class="sxs-lookup"><span data-stu-id="39648-130">An application can retrieve the index for the entry in a given logical palette that most closely matches a specified color value by using the [**GetNearestPaletteIndex**](/windows/desktop/api/Wingdi/nf-wingdi-getnearestpaletteindex) function.</span></span>

<span data-ttu-id="39648-131">Quando un'applicazione non necessita più di una tavolozza logica, può eliminarla usando la funzione [**DeleteObject**](/windows/desktop/api/Wingdi/nf-wingdi-deleteobject) .</span><span class="sxs-lookup"><span data-stu-id="39648-131">When an application no longer needs a logical palette, it can delete it by using the [**DeleteObject**](/windows/desktop/api/Wingdi/nf-wingdi-deleteobject) function.</span></span> <span data-ttu-id="39648-132">Prima di eliminare la tavolozza, l'applicazione deve assicurarsi che la tavolozza logica non sia più selezionata in un contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="39648-132">The application must make sure the logical palette is no longer selected into a device context before deleting the palette.</span></span>

 

 



