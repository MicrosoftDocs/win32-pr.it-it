---
title: Uso della precisione minima HLSL
description: A partire da Windows 8, i driver grafici possono implementare i tipi di dati scalari HLSL precisione minima usando una precisione maggiore o uguale alla precisione dei bit specificata.
ms.assetid: 422B0C45-5CEB-4235-AD05-62D36C36CFC6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de7f66f35aef3e870edb4e8564a280be89ce34be
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "103728167"
---
# <a name="using-hlsl-minimum-precision"></a><span data-ttu-id="22e88-103">Uso della precisione minima HLSL</span><span class="sxs-lookup"><span data-stu-id="22e88-103">Using HLSL minimum precision</span></span>

<span data-ttu-id="22e88-104">A partire da Windows 8, i driver grafici possono implementare i [tipi di dati scalari HLSL](dx-graphics-hlsl-scalar.md) precisione minima usando una precisione maggiore o uguale alla precisione dei bit specificata.</span><span class="sxs-lookup"><span data-stu-id="22e88-104">Starting with Windows 8, graphics drivers can implement minimum precision [HLSL scalar data types](dx-graphics-hlsl-scalar.md) by using any precision greater than or equal to their specified bit precision.</span></span> <span data-ttu-id="22e88-105">Quando il codice shader con precisione minima di HLSL viene usato nell'hardware che implementa la precisione minima di HLSL, si usa una minore larghezza di banda di memoria e, di conseguenza, si usa meno energia del sistema.</span><span class="sxs-lookup"><span data-stu-id="22e88-105">When your HLSL minimum precision shader code is used on hardware that implements HLSL minimum precision, you use less memory bandwidth and as a result you also use less system power.</span></span>

<span data-ttu-id="22e88-106">È possibile eseguire una query per il supporto di precisione minima fornito dal driver di grafica chiamando [**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) con il valore di supporto della precisione minima dello [**\_ shader della funzionalità \_ \_ \_ \_ d3d11**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) .</span><span class="sxs-lookup"><span data-stu-id="22e88-106">You can query for the minimum precision support that the graphics driver provides by calling [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) with the [**D3D11\_FEATURE\_SHADER\_MIN\_PRECISION\_SUPPORT**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) value.</span></span> <span data-ttu-id="22e88-107">Per altre informazioni, vedere [supporto della precisione minima di HLSL](/windows/desktop/direct3d11/direct3d-11-1-features).</span><span class="sxs-lookup"><span data-stu-id="22e88-107">For more info, see [HLSL minimum precision support](/windows/desktop/direct3d11/direct3d-11-1-features).</span></span>

-   [<span data-ttu-id="22e88-108">Dichiarare le variabili con tipi di dati con precisione minima</span><span class="sxs-lookup"><span data-stu-id="22e88-108">Declare variables with minimum precision data types</span></span>](#declare-variables-with-minimum-precision-data-types)
-   [<span data-ttu-id="22e88-109">Test del codice shader con precisione minima</span><span class="sxs-lookup"><span data-stu-id="22e88-109">Testing your minimum precision shader code</span></span>](#testing-your-minimum-precision-shader-code)
-   [<span data-ttu-id="22e88-110">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="22e88-110">Related topics</span></span>](#related-topics)

## <a name="declare-variables-with-minimum-precision-data-types"></a><span data-ttu-id="22e88-111">Dichiarare le variabili con tipi di dati con precisione minima</span><span class="sxs-lookup"><span data-stu-id="22e88-111">Declare variables with minimum precision data types</span></span>

<span data-ttu-id="22e88-112">Per usare la precisione minima nel codice dello shader HLSL, dichiarare le singole variabili con tipi come **min16float** (**min16float4** per un vettore), **min16int**, **min10float** e così via.</span><span class="sxs-lookup"><span data-stu-id="22e88-112">To use minimum precision in HLSL shader code, declare individual variables with types like **min16float** (**min16float4** for a vector), **min16int**, **min10float**, and so on.</span></span> <span data-ttu-id="22e88-113">Con queste variabili, il codice dello shader indica che non richiede una maggiore precisione rispetto a quanto indicato dalle variabili.</span><span class="sxs-lookup"><span data-stu-id="22e88-113">With these variables, your shader code indicates that it doesn’t require more precision than what the variables indicate.</span></span> <span data-ttu-id="22e88-114">Tuttavia, l'hardware può ignorare gli indicatori di precisione minimi ed eseguire a una precisione completa a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="22e88-114">But hardware can ignore the minimum precision indicators and run at full 32-bit precision.</span></span> <span data-ttu-id="22e88-115">Quando il codice dello shader viene usato nell'hardware che sfrutta la precisione minima, si usa una minore larghezza di banda di memoria e, di conseguenza, si usa meno energia del sistema purché il codice dello shader non preveda una maggiore precisione rispetto a quanto specificato.</span><span class="sxs-lookup"><span data-stu-id="22e88-115">When your shader code is used on hardware that takes advantage of minimum precision, you use less memory bandwidth and as a result you also use less system power as long as your shader code doesn’t expect more precision than it specified.</span></span>

<span data-ttu-id="22e88-116">Non è necessario creare più shader che non usano la precisione minima.</span><span class="sxs-lookup"><span data-stu-id="22e88-116">You don't need to author multiple shaders that do and don't use minimum precision.</span></span> <span data-ttu-id="22e88-117">Al contrario, creare shader con precisione minima e le variabili di precisione minime si comportano con una precisione a 32 bit completa se il driver di grafica segnala che non supporta alcuna precisione minima.</span><span class="sxs-lookup"><span data-stu-id="22e88-117">Instead, create shaders with minimum precision, and the minimum precision variables behave at full 32-bit precision if the graphics driver reports that it doesn't support any minimum precision.</span></span> <span data-ttu-id="22e88-118">Gli shader con precisione minima di HLSL non funzionano con i sistemi operativi precedenti a Windows 8, pertanto se si prevede di usare sistemi operativi precedenti, è necessario creare più shader, ad altre operazioni che non usano la precisione minima.</span><span class="sxs-lookup"><span data-stu-id="22e88-118">HLSL minimum precision shaders don't work on operating systems earlier than Windows 8 so if you plan to target earlier operating systems, you'll need to author multiple shaders, some that do and others that don't use minimum precision.</span></span>

> [!Note]  
> <span data-ttu-id="22e88-119">Non eseguire commutazioni di dati tra diversi livelli di precisione all'interno di uno shader, perché questi tipi di conversione sono inutili e riducono le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="22e88-119">Don't make data switches between different precision levels within a shader because these types of conversions are wasteful and reduce performance.</span></span> <span data-ttu-id="22e88-120">L'eccezione è che le costanti dello shader sono sempre di 32 bit, ma i fornitori possono progettare hardware grafico che può essere convertito liberamente in una precisione inferiore che la lettura dell'istruzione HLSL potrebbe usare.</span><span class="sxs-lookup"><span data-stu-id="22e88-120">The exception is that shader constants are still always 32 bit, but vendors can design graphics hardware that can freely down-convert to whatever lower precision the HLSL instruction reading might use.</span></span>

 

<span data-ttu-id="22e88-121">Con la precisione minima è possibile controllare la precisione dei calcoli in varie parti del codice dello shader.</span><span class="sxs-lookup"><span data-stu-id="22e88-121">By using minimum precision, you can control the precision of computations in various parts of your shader code.</span></span>

<span data-ttu-id="22e88-122">Le regole per la precisione minima HLSL sono simili a C/C++, in cui i tipi in un'espressione determinano la precisione dell'operazione, non il tipo in cui viene eseguita la scrittura.</span><span class="sxs-lookup"><span data-stu-id="22e88-122">The rules for HLSL minimum precision are similar to C/C++, where the types in an expression determine the precision of the operation, not the type being eventually written to.</span></span>

## <a name="testing-your-minimum-precision-shader-code"></a><span data-ttu-id="22e88-123">Test del codice shader con precisione minima</span><span class="sxs-lookup"><span data-stu-id="22e88-123">Testing your minimum precision shader code</span></span>

<span data-ttu-id="22e88-124">L'unità di rasterizzazione dei riferimenti ([**\_ riferimento al \_ tipo \_ di driver D3D**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) offre un'idea approssimativa del modo in cui la precisione minima nel codice dello shader HLSL si comporta quantizzando ciascuna istruzione HLSL alla precisione specificata.</span><span class="sxs-lookup"><span data-stu-id="22e88-124">The reference rasterizer ([**D3D\_DRIVER\_TYPE\_REFERENCE**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) gives you a rough idea of how minimum precision in your HLSL shader code behaves by quantizing each HLSL instruction to the specified precision.</span></span> <span data-ttu-id="22e88-125">In questo modo è possibile individuare il codice che potrebbe inavvertitamente basarsi su un valore superiore alla precisione minima.</span><span class="sxs-lookup"><span data-stu-id="22e88-125">This helps you discover code that might accidentally rely on more than the minimum precision.</span></span> <span data-ttu-id="22e88-126">L'rasterizzazione dei riferimenti non viene eseguita più velocemente quando il codice dello shader HLSL usa la precisione minima, ma è possibile usarlo per verificare la correttezza del codice.</span><span class="sxs-lookup"><span data-stu-id="22e88-126">The reference rasterizer doesn’t run any faster when your HLSL shader code uses minimum precision, but you can use it to verify the correctness of your code.</span></span> <span data-ttu-id="22e88-127">[Warp](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**\_ tipo di driver D3D \_ \_ Warp**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) non supporta l'utilizzo della precisione minima nel codice dello shader HLSL. WARP viene eseguito solo a una precisione a 32 bit completa.</span><span class="sxs-lookup"><span data-stu-id="22e88-127">[WARP](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**D3D\_DRIVER\_TYPE\_WARP**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) doesn’t support using minimum precision in HLSL shader code; WARP just runs at full 32-bit precision.</span></span>

## <a name="related-topics"></a><span data-ttu-id="22e88-128">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="22e88-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="22e88-129">Guida alla programmazione per HLSL</span><span class="sxs-lookup"><span data-stu-id="22e88-129">Programming Guide for HLSL</span></span>](dx-graphics-hlsl-pguide.md)
</dt> </dl>

 

 