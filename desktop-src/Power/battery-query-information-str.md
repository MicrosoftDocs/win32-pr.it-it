---
description: Contiene informazioni sulle query della batteria.
ms.assetid: ef5466fe-7de8-48cd-ad48-5774d7a4bb46
title: Struttura BATTERY_QUERY_INFORMATION (Poclass. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- BATTERY_QUERY_INFORMATION
api_type:
- HeaderDef
api_location:
- Poclass.h
- Batclass.h
ms.openlocfilehash: 511980dd4307077b8b160550c661a15a5714b96f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103881729"
---
# <a name="battery_query_information-structure"></a><span data-ttu-id="340ce-103">\_ \_ Struttura delle informazioni sulle query della batteria</span><span class="sxs-lookup"><span data-stu-id="340ce-103">BATTERY\_QUERY\_INFORMATION structure</span></span>

<span data-ttu-id="340ce-104">Contiene informazioni sulle query della batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-104">Contains battery query information.</span></span> <span data-ttu-id="340ce-105">Questa struttura viene utilizzata con il codice di controllo delle [**\_ informazioni di \_ query \_ della batteria IOCTL**](ioctl-battery-query-information.md) per specificare il tipo di informazioni da restituire.</span><span class="sxs-lookup"><span data-stu-id="340ce-105">This structure is used with the [**IOCTL\_BATTERY\_QUERY\_INFORMATION**](ioctl-battery-query-information.md) control code to specify the type of information to return.</span></span>

## <a name="syntax"></a><span data-ttu-id="340ce-106">Sintassi</span><span class="sxs-lookup"><span data-stu-id="340ce-106">Syntax</span></span>


```C++
typedef struct _BATTERY_QUERY_INFORMATION {
  ULONG                           BatteryTag;
  BATTERY_QUERY_INFORMATION_LEVEL InformationLevel;
  LONG                            AtRate;
} BATTERY_QUERY_INFORMATION, *PBATTERY_QUERY_INFORMATION;
```



## <a name="members"></a><span data-ttu-id="340ce-107">Members</span><span class="sxs-lookup"><span data-stu-id="340ce-107">Members</span></span>

<dl> <dt>

<span data-ttu-id="340ce-108">**BatteryTag**</span><span class="sxs-lookup"><span data-stu-id="340ce-108">**BatteryTag**</span></span>
</dt> <dd>

<span data-ttu-id="340ce-109">Tag della batteria corrente per la batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-109">The current battery tag for the battery.</span></span> <span data-ttu-id="340ce-110">Possono essere restituite solo le informazioni per una batteria corrispondente al tag.</span><span class="sxs-lookup"><span data-stu-id="340ce-110">Only information for a battery matching the tag can be returned.</span></span> <span data-ttu-id="340ce-111">Ogni volta che questo valore non corrisponde al tag corrente della batteria, la richiesta IOCTL verrà completata con il \_ file di errore \_ non \_ trovato.</span><span class="sxs-lookup"><span data-stu-id="340ce-111">Whenever this value does not match the battery's current tag, the IOCTL request will be completed with ERROR\_FILE\_NOT\_FOUND.</span></span> <span data-ttu-id="340ce-112">Indica al chiamante che la batteria associata al tag esiste più.</span><span class="sxs-lookup"><span data-stu-id="340ce-112">This indicates to the caller that the battery associated with the tag longer exists.</span></span> <span data-ttu-id="340ce-113">Il chiamante può scegliere di usare l'operazione di [**\_ tag di \_ query \_ della batteria IOCTL**](ioctl-battery-query-tag.md) per determinare il tag della batteria appena installata, se disponibile.</span><span class="sxs-lookup"><span data-stu-id="340ce-113">The caller may opt to use the [**IOCTL\_BATTERY\_QUERY\_TAG**](ioctl-battery-query-tag.md) operation to determine the tag of the newly installed battery, if one exists.</span></span> <span data-ttu-id="340ce-114">Per ulteriori informazioni, vedere la pagina relativa ai [tag della batteria](battery-information.md) .</span><span class="sxs-lookup"><span data-stu-id="340ce-114">(See [Battery Tags](battery-information.md) for more information.)</span></span>

<span data-ttu-id="340ce-115">Quando viene eseguita una richiesta di informazioni sulle query, questo valore viene verificato.</span><span class="sxs-lookup"><span data-stu-id="340ce-115">When a query information request is made, this value is verified.</span></span> <span data-ttu-id="340ce-116">Inoltre, se la richiesta è in corso mentre questo valore viene modificato, la richiesta viene interrotta con lo stato del file di errore \_ \_ non \_ trovato.</span><span class="sxs-lookup"><span data-stu-id="340ce-116">In addition, if the request is in progress while this value changes, the request is aborted with the status of ERROR\_FILE\_NOT\_FOUND.</span></span>

</dd> <dt>

<span data-ttu-id="340ce-117">**InformationLevel**</span><span class="sxs-lookup"><span data-stu-id="340ce-117">**InformationLevel**</span></span>
</dt> <dd>

<span data-ttu-id="340ce-118">Livello delle informazioni sulla batteria sottoposte a query.</span><span class="sxs-lookup"><span data-stu-id="340ce-118">The level of the battery information being queried.</span></span> <span data-ttu-id="340ce-119">I dati restituiti dall'IOCTL dipendono da questo valore.</span><span class="sxs-lookup"><span data-stu-id="340ce-119">The data returned by the IOCTL depends on this value.</span></span> <span data-ttu-id="340ce-120">Il membro può essere uno dei valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="340ce-120">This member can be one of the following values.</span></span>



| <span data-ttu-id="340ce-121">Valore</span><span class="sxs-lookup"><span data-stu-id="340ce-121">Value</span></span>                                                                                                                                                                                                                                                                                                               | <span data-ttu-id="340ce-122">Significato</span><span class="sxs-lookup"><span data-stu-id="340ce-122">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="BatteryDeviceName"></span><span id="batterydevicename"></span><span id="BATTERYDEVICENAME"></span><dl> <span data-ttu-id="340ce-123"><dt>**BatteryDeviceName**</dt> <dt>4</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-123"><dt>**BatteryDeviceName**</dt> <dt>4</dt></span></span> </dl>                                                 | <span data-ttu-id="340ce-124">Stringa Unicode con terminazione null che contiene il nome della batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-124">Null-terminated Unicode string that contains the battery's name.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="BatteryEstimatedTime"></span><span id="batteryestimatedtime"></span><span id="BATTERYESTIMATEDTIME"></span><dl> <span data-ttu-id="340ce-125"><dt>**BatteryEstimatedTime**</dt> <dt>3</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-125"><dt>**BatteryEstimatedTime**</dt> <dt>3</dt></span></span> </dl>                                     | <span data-ttu-id="340ce-126">**ULONG** che specifica il tempo di esecuzione stimato della batteria, in secondi.</span><span class="sxs-lookup"><span data-stu-id="340ce-126">A **ULONG** that specifies the estimated battery run time, in seconds.</span></span> <span data-ttu-id="340ce-127">Se la frequenza di svuotamento fornita nel membro **AtRate** della struttura di **\_ \_ informazioni sulle query della batteria** è zero, questo calcolo è basato sulla velocità attuale di svuotamento.</span><span class="sxs-lookup"><span data-stu-id="340ce-127">If the rate of drain provided in the **AtRate** member of the **BATTERY\_QUERY\_INFORMATION** structure is zero, this calculation is based on the present rate of drain.</span></span> <span data-ttu-id="340ce-128">Se **AtRate** è diverso da zero, l'ora restituita è il tempo di esecuzione previsto per la velocità specificata.</span><span class="sxs-lookup"><span data-stu-id="340ce-128">If **AtRate** is nonzero, the time returned is the expected run time for the given rate.</span></span> <span data-ttu-id="340ce-129">Se il tempo stimato è sconosciuto (ad esempio, la batteria non viene ricaricata e il **AtRate** specificato è zero), il valore restituito è l' \_ ora sconosciuta della batteria \_ .</span><span class="sxs-lookup"><span data-stu-id="340ce-129">If the estimated time is unknown (for example, the battery is not discharging and the **AtRate** specified was zero), the return value is BATTERY\_UNKNOWN\_TIME.</span></span> <span data-ttu-id="340ce-130">Si noti che questo valore non è molto accurato in alcuni sistemi di batteria e può variare notevolmente a seconda del consumo di energia attuale, che può essere influenzato dall'attività del disco e da altri fattori.</span><span class="sxs-lookup"><span data-stu-id="340ce-130">Note that this value is not very accurate on some battery systems, and may vary widely depending on present power usage, which could be affected by disk activity and other factors.</span></span> <span data-ttu-id="340ce-131">Non esiste alcun meccanismo di notifica delle modifiche in questo valore.</span><span class="sxs-lookup"><span data-stu-id="340ce-131">There is no notification mechanism for changes in this value.</span></span><br/> |
| <span id="BatteryGranularityInformation"></span><span id="batterygranularityinformation"></span><span id="BATTERYGRANULARITYINFORMATION"></span><dl> <span data-ttu-id="340ce-132"><dt>**BatteryGranularityInformation**</dt> <dt>1</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-132"><dt>**BatteryGranularityInformation**</dt> <dt>1</dt></span></span> </dl> | <span data-ttu-id="340ce-133">Una matrice di strutture di [**\_ \_ scalabilità di report della batteria**](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale) , mai più di quattro voci.</span><span class="sxs-lookup"><span data-stu-id="340ce-133">An array of [**BATTERY\_REPORTING\_SCALE**](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale) structures, never more than four entries.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="BatteryInformation"></span><span id="batteryinformation"></span><span id="BATTERYINFORMATION"></span><dl> <span data-ttu-id="340ce-134"><dt>**BatteryInformation**</dt> <dt>0</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-134"><dt>**BatteryInformation**</dt> <dt>0</dt></span></span> </dl>                                             | <span data-ttu-id="340ce-135">Struttura [**\_ delle informazioni sulla batteria**](battery-information-str.md) .</span><span class="sxs-lookup"><span data-stu-id="340ce-135">A [**BATTERY\_INFORMATION**](battery-information-str.md) structure.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="BatteryManufactureDate"></span><span id="batterymanufacturedate"></span><span id="BATTERYMANUFACTUREDATE"></span><dl> <span data-ttu-id="340ce-136"><dt>**BatteryManufactureDate**</dt> <dt>5</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-136"><dt>**BatteryManufactureDate**</dt> <dt>5</dt></span></span> </dl>                             | <span data-ttu-id="340ce-137">Struttura [**della \_ \_ Data di produzione della batteria**](battery-manufacture-date-str.md) .</span><span class="sxs-lookup"><span data-stu-id="340ce-137">A [**BATTERY\_MANUFACTURE\_DATE**](battery-manufacture-date-str.md) structure.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="BatteryManufactureName"></span><span id="batterymanufacturename"></span><span id="BATTERYMANUFACTURENAME"></span><dl> <span data-ttu-id="340ce-138"><dt>**BatteryManufactureName**</dt> <dt>6</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-138"><dt>**BatteryManufactureName**</dt> <dt>6</dt></span></span> </dl>                             | <span data-ttu-id="340ce-139">Stringa Unicode con terminazione null che specifica il nome del produttore della batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-139">Null-terminated Unicode string that specifies the name of the manufacturer of the battery.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatterySerialNumber"></span><span id="batteryserialnumber"></span><span id="BATTERYSERIALNUMBER"></span><dl> <span data-ttu-id="340ce-140"><dt>**BatterySerialNumber**</dt> <dt>8</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-140"><dt>**BatterySerialNumber**</dt> <dt>8</dt></span></span> </dl>                                         | <span data-ttu-id="340ce-141">Stringa Unicode con terminazione null che specifica il numero di serie della batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-141">Null-terminated Unicode string that specifies the battery's serial number.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatteryTemperature"></span><span id="batterytemperature"></span><span id="BATTERYTEMPERATURE"></span><dl> <span data-ttu-id="340ce-142"><dt>**BatteryTemperature**</dt> <dt>2</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-142"><dt>**BatteryTemperature**</dt> <dt>2</dt></span></span> </dl>                                             | <span data-ttu-id="340ce-143">**ULONG** che specifica la temperatura corrente della batteria, in decimi di grado Kelvin.</span><span class="sxs-lookup"><span data-stu-id="340ce-143">A **ULONG** that specifies the battery's current temperature, in 10ths of a degree Kelvin.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="BatteryUniqueID"></span><span id="batteryuniqueid"></span><span id="BATTERYUNIQUEID"></span><dl> <span data-ttu-id="340ce-144"><dt>**BatteryUniqueID**</dt> <dt>7</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-144"><dt>**BatteryUniqueID**</dt> <dt>7</dt></span></span> </dl>                                                         | <span data-ttu-id="340ce-145">Stringa Unicode con terminazione null che identifica in modo univoco la batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-145">Null-terminated Unicode string that uniquely identifies the battery.</span></span> <span data-ttu-id="340ce-146">Questo valore può essere usato per tenere traccia di una batteria specifica.</span><span class="sxs-lookup"><span data-stu-id="340ce-146">This value can be used to track a specific battery.</span></span> <span data-ttu-id="340ce-147">Nel caso di batterie intelligenti, questo ID è la concatenazione del nome del produttore, del nome del dispositivo, della data di produzione e di una rappresentazione stampabile del numero di serie.</span><span class="sxs-lookup"><span data-stu-id="340ce-147">In the case of smart batteries, this ID would be the concatenation of the manufacturer's name, device name, date of manufacture, and a printable representation of the serial number.</span></span> <br/> <span data-ttu-id="340ce-148">Questo valore non può essere visualizzato all'utente.</span><span class="sxs-lookup"><span data-stu-id="340ce-148">This value is not intended to be displayed to the user.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                            |



 

</dd> <dt>

<span data-ttu-id="340ce-149">**AtRate**</span><span class="sxs-lookup"><span data-stu-id="340ce-149">**AtRate**</span></span>
</dt> <dd>

<span data-ttu-id="340ce-150">Questo membro viene usato solo se **InformationLevel** è BatteryEstimatedTime.</span><span class="sxs-lookup"><span data-stu-id="340ce-150">This member is used only if **InformationLevel** is BatteryEstimatedTime.</span></span>

<span data-ttu-id="340ce-151">Se questo membro è diverso da zero, si tratta di una frequenza di svuotamento che verrà usata per calcolare il tempo fino a quando la batteria non viene caricata per la BatteryEstimatedTime di una singola batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-151">If this member is nonzero, it is a rate of drain that will be used to calculate the time until the battery is discharged for the BatteryEstimatedTime of an individual battery.</span></span> <span data-ttu-id="340ce-152">Deve essere specificato in mW e deve essere un valore negativo per rappresentare una velocità di scaricamento della batteria.</span><span class="sxs-lookup"><span data-stu-id="340ce-152">It must be specified in mW, and must be a negative value to represent a battery discharge rate.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="340ce-153">Commenti</span><span class="sxs-lookup"><span data-stu-id="340ce-153">Remarks</span></span>

<span data-ttu-id="340ce-154">Alcune informazioni sulle batterie sono facoltative o potrebbero non essere significative per alcune batterie.</span><span class="sxs-lookup"><span data-stu-id="340ce-154">Some information about batteries is optional or may be meaningless for some batteries.</span></span> <span data-ttu-id="340ce-155">Se il tipo specifico di dati richiesti non è disponibile per la batteria corrente, \_ \_ viene restituita la funzione Error non valida.</span><span class="sxs-lookup"><span data-stu-id="340ce-155">If the particular type of data requested is not available for the current battery, then ERROR\_INVALID\_FUNCTION is returned.</span></span>

## <a name="requirements"></a><span data-ttu-id="340ce-156">Requisiti</span><span class="sxs-lookup"><span data-stu-id="340ce-156">Requirements</span></span>



| <span data-ttu-id="340ce-157">Requisito</span><span class="sxs-lookup"><span data-stu-id="340ce-157">Requirement</span></span> | <span data-ttu-id="340ce-158">Valore</span><span class="sxs-lookup"><span data-stu-id="340ce-158">Value</span></span> |
|-------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="340ce-159">Client minimo supportato</span><span class="sxs-lookup"><span data-stu-id="340ce-159">Minimum supported client</span></span><br/> | <span data-ttu-id="340ce-160">\[Solo app desktop Windows XP\]</span><span class="sxs-lookup"><span data-stu-id="340ce-160">Windows XP \[desktop apps only\]</span></span><br/>                                                                                                                                                                                                                         |
| <span data-ttu-id="340ce-161">Server minimo supportato</span><span class="sxs-lookup"><span data-stu-id="340ce-161">Minimum supported server</span></span><br/> | <span data-ttu-id="340ce-162">\[Solo app desktop Windows Server 2003\]</span><span class="sxs-lookup"><span data-stu-id="340ce-162">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                                                                                                                                                                                                |
| <span data-ttu-id="340ce-163">Intestazione</span><span class="sxs-lookup"><span data-stu-id="340ce-163">Header</span></span><br/>                   | <dl> <span data-ttu-id="340ce-164"><dt>Poclass. h; </dt> <dt>Batclass. h in Windows server 2008 R2, Windows 7, Windows server 2008, Windows Vista, Windows server 2003 e Windows XP</dt></span><span class="sxs-lookup"><span data-stu-id="340ce-164"><dt>Poclass.h; </dt> <dt>Batclass.h on Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP</dt></span></span> </dl> |



## <a name="see-also"></a><span data-ttu-id="340ce-165">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="340ce-165">See also</span></span>

<dl> <dt>

[<span data-ttu-id="340ce-166">**\_informazioni sulla batteria**</span><span class="sxs-lookup"><span data-stu-id="340ce-166">**BATTERY\_INFORMATION**</span></span>](battery-information-str.md)
</dt> <dt>

[<span data-ttu-id="340ce-167">**\_Data di produzione della batteria \_**</span><span class="sxs-lookup"><span data-stu-id="340ce-167">**BATTERY\_MANUFACTURE\_DATE**</span></span>](battery-manufacture-date-str.md)
</dt> <dt>

[<span data-ttu-id="340ce-168">**\_ \_ scalabilità report batteria**</span><span class="sxs-lookup"><span data-stu-id="340ce-168">**BATTERY\_REPORTING\_SCALE**</span></span>](/windows/desktop/api/WinNT/ns-winnt-battery_reporting_scale)
</dt> <dt>

[<span data-ttu-id="340ce-169">**\_ \_ informazioni sulle query della batteria IOCTL \_**</span><span class="sxs-lookup"><span data-stu-id="340ce-169">**IOCTL\_BATTERY\_QUERY\_INFORMATION**</span></span>](ioctl-battery-query-information.md)
</dt> <dt>

[<span data-ttu-id="340ce-170">**\_tag di \_ query della batteria IOCTL \_**</span><span class="sxs-lookup"><span data-stu-id="340ce-170">**IOCTL\_BATTERY\_QUERY\_TAG**</span></span>](ioctl-battery-query-tag.md)
</dt> </dl>

 

 




