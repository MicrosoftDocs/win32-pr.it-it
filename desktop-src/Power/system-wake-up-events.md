---
description: L'applicazione può ripristinare lo stato di lavoro di un computer che si trova in uno stato di sospensione utilizzando un timer pianificato o un evento del dispositivo.
ms.assetid: b7326b09-0829-4e76-80d0-e4ecdf7f556e
title: Eventi di riattivazione del sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f13332305ef023d932f2912f7299aa12cd402733
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106312012"
---
# <a name="system-wake-up-events"></a><span data-ttu-id="350df-103">Eventi di riattivazione del sistema</span><span class="sxs-lookup"><span data-stu-id="350df-103">System Wake-up Events</span></span>

<span data-ttu-id="350df-104">Le informazioni seguenti si applicano a riattivazioni da [sospensione (S3) e ibernazione (S4)](/windows-hardware/drivers/kernel/system-sleeping-states).</span><span class="sxs-lookup"><span data-stu-id="350df-104">The following information applies to wakes from [sleep (S3) and hibernate (S4)](/windows-hardware/drivers/kernel/system-sleeping-states).</span></span> <span data-ttu-id="350df-105">Per le riattivazioni da Modern standby (S0 Low Power Idle), fare riferimento alle [transizioni da Idle a attivo](/windows-hardware/design/device-experiences/transition-from-idle-to-active).</span><span class="sxs-lookup"><span data-stu-id="350df-105">For wakes from Modern Standby (S0 Low Power Idle), please refer to [transitions from idle to active](/windows-hardware/design/device-experiences/transition-from-idle-to-active).</span></span>

<span data-ttu-id="350df-106">L'applicazione può ripristinare lo stato di lavoro di un computer che si trova in uno stato di sospensione utilizzando un timer pianificato o un evento del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="350df-106">Your application can restore a computer that is in a sleep state to the working state by using a scheduled timer or a device event.</span></span> <span data-ttu-id="350df-107">Questa operazione è nota come *evento di riattivazione*.</span><span class="sxs-lookup"><span data-stu-id="350df-107">This is known as a *wake-up event*.</span></span> <span data-ttu-id="350df-108">Usare un [oggetto timer in attesa](/windows/desktop/Sync/waitable-timer-objects) per specificare l'ora in cui il sistema deve essere riattivato.</span><span class="sxs-lookup"><span data-stu-id="350df-108">Use a [waitable timer object](/windows/desktop/Sync/waitable-timer-objects) to specify the time at which the system should wake.</span></span> <span data-ttu-id="350df-109">Per creare l'oggetto, utilizzare la funzione [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) .</span><span class="sxs-lookup"><span data-stu-id="350df-109">To create the object, use the [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) function.</span></span> <span data-ttu-id="350df-110">Per impostare il timer, utilizzare la funzione [**SetWaitableTimer**](/windows/desktop/api/synchapi/nf-synchapi-setwaitabletimer) .</span><span class="sxs-lookup"><span data-stu-id="350df-110">To set the timer, use the [**SetWaitableTimer**](/windows/desktop/api/synchapi/nf-synchapi-setwaitabletimer) function.</span></span> <span data-ttu-id="350df-111">Il parametro *pDueTime* specifica quando verrà segnalato il timer.</span><span class="sxs-lookup"><span data-stu-id="350df-111">The *pDueTime* parameter specifies when the timer will be signaled.</span></span> <span data-ttu-id="350df-112">Per specificare che il sistema deve essere riattivato quando viene segnalato il timer, impostare il parametro *fResume* su **true**.</span><span class="sxs-lookup"><span data-stu-id="350df-112">To specify that the system should wake when the timer is signaled, set the *fResume* parameter to **TRUE**.</span></span>

<span data-ttu-id="350df-113">Quando il sistema viene riattivato automaticamente a causa di un evento (diverso dall'attività dell'utente o dall'interruttore di alimentazione), il sistema imposta automaticamente un timer di inattività automatica su almeno 2 minuti.</span><span class="sxs-lookup"><span data-stu-id="350df-113">When the system wakes automatically because of an event (other than power switch or user activity), the system automatically sets an unattended idle timer to at least 2 minutes.</span></span> <span data-ttu-id="350df-114">Questo timer concede alle applicazioni un tempo sufficiente per chiamare la funzione [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) per indicare che sono occupate.</span><span class="sxs-lookup"><span data-stu-id="350df-114">This timer gives applications sufficient time to call the [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) function to indicate that they are busy.</span></span> <span data-ttu-id="350df-115">Questo tempo consente al sistema di tornare rapidamente allo stato di sospensione dopo che il computer non è più necessario.</span><span class="sxs-lookup"><span data-stu-id="350df-115">This time enables the system to return to the sleep state quickly after the computer is no longer required.</span></span> <span data-ttu-id="350df-116">I criteri seguenti determinano se il sistema torna allo stato di sospensione:</span><span class="sxs-lookup"><span data-stu-id="350df-116">The following criteria determine whether the system returns to the sleep state:</span></span>

-   <span data-ttu-id="350df-117">Se il sistema viene riattivato automaticamente (ovvero non è presente alcuna attività utente), si arresta non appena il timer di inattività automatico scade, presupponendo che nessuna applicazione abbia chiamato [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) per indicare che il sistema è necessario.</span><span class="sxs-lookup"><span data-stu-id="350df-117">If the system wakes automatically (that is, no user activity is present), it shuts down as soon as the unattended idle timer expires, assuming that no applications have called [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) to indicate that the system is required.</span></span>
-   <span data-ttu-id="350df-118">Per impostazione predefinita, le riattivazioni basate su dispositivo attivano il timer di inattività automatico a meno che il driver di dispositivo non indichi la presenza dell'utente.</span><span class="sxs-lookup"><span data-stu-id="350df-118">Device-based wakes trigger the unattended idle timer by default unless the device driver indicates user presence.</span></span> <span data-ttu-id="350df-119">Se il driver indica la presenza dell'utente, viene usato il timer di inattività del sistema.</span><span class="sxs-lookup"><span data-stu-id="350df-119">If the driver indicates user presence, then the system idle timer is used.</span></span>
-   <span data-ttu-id="350df-120">Se il sistema viene riattivato automaticamente, ma l'utente fornisce nuovo input mentre l'evento viene gestito, il sistema non torna automaticamente in sospensione in base al timer di inattività automatico.</span><span class="sxs-lookup"><span data-stu-id="350df-120">If the system wakes automatically, but the user provides new input while the event is handled, the system does not automatically return to sleep based on the unattended idle timer.</span></span> <span data-ttu-id="350df-121">Al contrario, il sistema torna in sospensione in base al timer di inattività del sistema.</span><span class="sxs-lookup"><span data-stu-id="350df-121">Instead, the system returns to sleep based on the system idle timer.</span></span>
-   <span data-ttu-id="350df-122">Se il sistema viene riattivato a causa dell'attività dell'utente, il sistema non torna automaticamente in sospensione in base al timer di inattività automatico.</span><span class="sxs-lookup"><span data-stu-id="350df-122">If the system wakes due to user activity, the system does not automatically return to sleep based on the unattended idle timer.</span></span> <span data-ttu-id="350df-123">Al contrario, il sistema torna in sospensione in base al timer di inattività del sistema.</span><span class="sxs-lookup"><span data-stu-id="350df-123">Instead the system returns to sleep based on the system idle timer.</span></span>

<span data-ttu-id="350df-124">Quando il sistema viene riattivato automaticamente, trasmette l'evento [PBT \_ APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) a tutte le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="350df-124">When the system wakes automatically, it broadcasts the [PBT\_APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) event to all applications.</span></span> <span data-ttu-id="350df-125">Poiché l'utente non è presente, la maggior parte delle applicazioni non deve eseguire alcuna operazione.</span><span class="sxs-lookup"><span data-stu-id="350df-125">Because the user is not present, most applications should do nothing.</span></span> <span data-ttu-id="350df-126">Le applicazioni che gestiscono gli eventi, ad esempio i server fax, devono gestire gli eventi.</span><span class="sxs-lookup"><span data-stu-id="350df-126">Event-handling applications, such as fax servers, should handle their events.</span></span> <span data-ttu-id="350df-127">Per determinare se il sistema è in questo stato, chiamare la funzione [**IsSystemResumeAutomatic**](/windows/desktop/api/Winbase/nf-winbase-issystemresumeautomatic) .</span><span class="sxs-lookup"><span data-stu-id="350df-127">To determine whether the system is in this state, call the [**IsSystemResumeAutomatic**](/windows/desktop/api/Winbase/nf-winbase-issystemresumeautomatic) function.</span></span> <span data-ttu-id="350df-128">Quando il sistema viene riattivato automaticamente, la visualizzazione non viene attivata automaticamente.</span><span class="sxs-lookup"><span data-stu-id="350df-128">When the system wakes automatically, the display is not automatically turned on.</span></span>

<span data-ttu-id="350df-129">Se il sistema viene riattivato a causa dell'attività dell'utente, il sistema trasmette prima l'evento [PBT \_ APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) seguito da un evento [ \_ APMRESUMESUSPEND PBT](pbt-apmresumesuspend.md) .</span><span class="sxs-lookup"><span data-stu-id="350df-129">If the system wakes due to user activity, the system will first broadcast the [PBT\_APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) event followed by a [PBT\_APMRESUMESUSPEND](pbt-apmresumesuspend.md) event.</span></span> <span data-ttu-id="350df-130">Il sistema, inoltre, attiverà lo schermo.</span><span class="sxs-lookup"><span data-stu-id="350df-130">In addition, the system will turn on the display.</span></span> <span data-ttu-id="350df-131">L'applicazione deve riaprire i file chiusi quando il sistema entra in sospensione e prepara l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="350df-131">Your application should reopen files that it closed when the system entered sleep and prepare for user input.</span></span>

## <a name="related-topics"></a><span data-ttu-id="350df-132">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="350df-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="350df-133">Informazioni sul risparmio energia</span><span class="sxs-lookup"><span data-stu-id="350df-133">About Power Management</span></span>](about-power-management.md)
</dt> <dt>

[<span data-ttu-id="350df-134">Criteri di sospensione del sistema</span><span class="sxs-lookup"><span data-stu-id="350df-134">System Sleep Criteria</span></span>](system-sleep-criteria.md)
</dt> </dl>

 

 
