---
title: IDXCoreAdapterFactory::RegisterEventNotification
description: Esegue la registrazione per ricevere notifiche di condizioni specifiche da un elenco di adapter o adapter di DXCore.
ms.localizationpriority: low
ms.topic: reference
ms.date: 06/20/2019
ms.openlocfilehash: 3643fbb01fc955049c297a577f18d4d276e73f46
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104473843"
---
# <a name="idxcoreadapterfactoryregistereventnotification-method"></a><span data-ttu-id="208f2-103">Metodo IDXCoreAdapterFactory:: RegisterEventNotification</span><span class="sxs-lookup"><span data-stu-id="208f2-103">IDXCoreAdapterFactory::RegisterEventNotification method</span></span>

<span data-ttu-id="208f2-104">Esegue la registrazione per ricevere notifiche di condizioni specifiche da un elenco di adapter o adapter di DXCore.</span><span class="sxs-lookup"><span data-stu-id="208f2-104">Registers to receive notifications of specific conditions from a DXCore adapter or adapter list.</span></span> <span data-ttu-id="208f2-105">Per istruzioni sulla programmazione ed esempi di codice, vedere [uso di DXCore per enumerare gli adapter](../dxcore-enum-adapters.md).</span><span class="sxs-lookup"><span data-stu-id="208f2-105">For programming guidance, and code examples, see [Using DXCore to enumerate adapters](../dxcore-enum-adapters.md).</span></span>

## <a name="syntax"></a><span data-ttu-id="208f2-106">Sintassi</span><span class="sxs-lookup"><span data-stu-id="208f2-106">Syntax</span></span>

```cpp
virtual HRESULT STDMETHODCALLTYPE RegisterEventNotification(
  _In_ IUnknown *dxCoreObject,
  DXCoreNotificationType notificationType,
  _In_ PFN_DXCORE_NOTIFICATION_CALLBACK callbackFunction,
  _In_opt_ void *callbackContext,
  _Out_ uint32_t *eventCookie) = 0;
```

## <a name="parameters"></a><span data-ttu-id="208f2-107">Parametri</span><span class="sxs-lookup"><span data-stu-id="208f2-107">Parameters</span></span>

### <a name="dxcoreobject-in"></a><span data-ttu-id="208f2-108">dxCoreObject [in]</span><span class="sxs-lookup"><span data-stu-id="208f2-108">dxCoreObject [in]</span></span>

<span data-ttu-id="208f2-109">Tipo: **[IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown)\***</span><span class="sxs-lookup"><span data-stu-id="208f2-109">Type: **[IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown)\***</span></span>

<span data-ttu-id="208f2-110">Oggetto DXCore ([IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) o [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md)) le cui notifiche si stanno sottoscrivendo.</span><span class="sxs-lookup"><span data-stu-id="208f2-110">The DXCore object ([IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) or [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md)) whose notifications you're subscribing to.</span></span>

### <a name="notificationtype"></a><span data-ttu-id="208f2-111">notificationType</span><span class="sxs-lookup"><span data-stu-id="208f2-111">notificationType</span></span>

<span data-ttu-id="208f2-112">Tipo: **[DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md)**</span><span class="sxs-lookup"><span data-stu-id="208f2-112">Type: **[DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md)**</span></span>

<span data-ttu-id="208f2-113">Tipo di notifica per cui si sta effettuando la registrazione.</span><span class="sxs-lookup"><span data-stu-id="208f2-113">The type of notification that you're registering for.</span></span> <span data-ttu-id="208f2-114">Per informazioni sui tipi validi con i tipi di oggetti, vedere la tabella in [DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md) .</span><span class="sxs-lookup"><span data-stu-id="208f2-114">See the table in [DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md) for info about what types are valid with which kinds of objects.</span></span>

### <a name="callbackfunction-in"></a><span data-ttu-id="208f2-115">callbackFunction [in]</span><span class="sxs-lookup"><span data-stu-id="208f2-115">callbackFunction [in]</span></span>

<span data-ttu-id="208f2-116">Tipo: **[PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md)**</span><span class="sxs-lookup"><span data-stu-id="208f2-116">Type: **[PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md)**</span></span>

<span data-ttu-id="208f2-117">Puntatore a una funzione di callback (implementata dall'applicazione), che viene chiamata dall'oggetto DXCore per gli eventi di notifica.</span><span class="sxs-lookup"><span data-stu-id="208f2-117">A pointer to a callback function (implemented by your application), which is called by the DXCore object for notification events.</span></span> <span data-ttu-id="208f2-118">Per la firma della funzione, vedere [PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md).</span><span class="sxs-lookup"><span data-stu-id="208f2-118">For the signature of the function, see [PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md).</span></span>

### <a name="callbackcontext-in"></a><span data-ttu-id="208f2-119">callbackContext [in]</span><span class="sxs-lookup"><span data-stu-id="208f2-119">callbackContext [in]</span></span>

<span data-ttu-id="208f2-120">Tipo: **void \***</span><span class="sxs-lookup"><span data-stu-id="208f2-120">Type: **void\***</span></span>

<span data-ttu-id="208f2-121">Puntatore facoltativo a un oggetto contenente informazioni sul contesto.</span><span class="sxs-lookup"><span data-stu-id="208f2-121">An optional pointer to an object containing context info.</span></span> <span data-ttu-id="208f2-122">Questo oggetto viene passato alla funzione di callback quando viene generata la notifica.</span><span class="sxs-lookup"><span data-stu-id="208f2-122">This object is passed to your callback function when the notification is raised.</span></span>

### <a name="eventcookie-out"></a><span data-ttu-id="208f2-123">eventCookie [out]</span><span class="sxs-lookup"><span data-stu-id="208f2-123">eventCookie [out]</span></span>

<span data-ttu-id="208f2-124">Tipo: **uint32_t \***</span><span class="sxs-lookup"><span data-stu-id="208f2-124">Type: **uint32_t\***</span></span>

<span data-ttu-id="208f2-125">Puntatore a un valore **uint32_t** .</span><span class="sxs-lookup"><span data-stu-id="208f2-125">A pointer to a **uint32_t** value.</span></span> <span data-ttu-id="208f2-126">In caso di esito positivo, la funzione dereferenzia il puntatore e imposta il valore su un valore di cookie diverso da zero che rappresenta la registrazione.</span><span class="sxs-lookup"><span data-stu-id="208f2-126">If successful, the function dereferences the pointer and sets the value to a non-zero cookie value representing this registration.</span></span> <span data-ttu-id="208f2-127">Utilizzare questo valore del cookie per annullare la registrazione dalla notifica chiamando [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span><span class="sxs-lookup"><span data-stu-id="208f2-127">Use this cookie value to unregister from the notification by calling [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span></span> <span data-ttu-id="208f2-128">Vedere la **sezione Osservazioni**.</span><span class="sxs-lookup"><span data-stu-id="208f2-128">See **Remarks**.</span></span>

<span data-ttu-id="208f2-129">Se ha esito negativo, la funzione dereferenzia il puntatore e imposta il valore su zero, che rappresenta un valore di cookie non valido.</span><span class="sxs-lookup"><span data-stu-id="208f2-129">If unsuccessful, the function dereferences the pointer and sets the value to zero, which represents an invalid cookie value.</span></span>

## <a name="returns"></a><span data-ttu-id="208f2-130">Restituisce</span><span class="sxs-lookup"><span data-stu-id="208f2-130">Returns</span></span>

<span data-ttu-id="208f2-131">Tipo: **[HRESULT](../../com/structure-of-com-error-codes.md)**</span><span class="sxs-lookup"><span data-stu-id="208f2-131">Type: **[HRESULT](../../com/structure-of-com-error-codes.md)**</span></span>

<span data-ttu-id="208f2-132">Se la funzione ha esito positivo, restituisce **S_OK**.</span><span class="sxs-lookup"><span data-stu-id="208f2-132">If the function succeeds, it returns **S_OK**.</span></span> <span data-ttu-id="208f2-133">In caso contrario, restituisce un [codice di errore](../../com/com-error-codes-10.md) [**HRESULT**](../../com/structure-of-com-error-codes.md) .</span><span class="sxs-lookup"><span data-stu-id="208f2-133">Otherwise, it returns an [**HRESULT**](../../com/structure-of-com-error-codes.md) [error code](../../com/com-error-codes-10.md).</span></span>

|<span data-ttu-id="208f2-134">Valore restituito</span><span class="sxs-lookup"><span data-stu-id="208f2-134">Return value</span></span>|<span data-ttu-id="208f2-135">Descrizione</span><span class="sxs-lookup"><span data-stu-id="208f2-135">Description</span></span>|
|-|-|
|<span data-ttu-id="208f2-136">DXGI_ERROR_INVALID_CALL</span><span class="sxs-lookup"><span data-stu-id="208f2-136">DXGI_ERROR_INVALID_CALL</span></span>|<span data-ttu-id="208f2-137">*NotificationType* non è supportato dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="208f2-137">*notificationType* is unsupported by the operating system (OS).</span></span>|
|<span data-ttu-id="208f2-138">E_INVALIDARG</span><span class="sxs-lookup"><span data-stu-id="208f2-138">E_INVALIDARG</span></span>|<span data-ttu-id="208f2-139">`nullptr` è stato specificato per *dxCoreObject* o se è stata specificata una combinazione di *NotificationType* e *dxCoreObject* non valida.</span><span class="sxs-lookup"><span data-stu-id="208f2-139">`nullptr` was provided for *dxCoreObject*, or if an invalid *notificationType* and *dxCoreObject* combination was provided.</span></span>|
|<span data-ttu-id="208f2-140">E_POINTER</span><span class="sxs-lookup"><span data-stu-id="208f2-140">E_POINTER</span></span>|<span data-ttu-id="208f2-141">`nullptr` è stato specificato per *callbackFunction* o *eventCookie*.</span><span class="sxs-lookup"><span data-stu-id="208f2-141">`nullptr` was provided for either *callbackFunction* or *eventCookie*.</span></span>|

## <a name="remarks"></a><span data-ttu-id="208f2-142">Commenti</span><span class="sxs-lookup"><span data-stu-id="208f2-142">Remarks</span></span>

<span data-ttu-id="208f2-143">Usare **RegisterEventNotification** per registrare gli eventi generati dalle interfacce [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md) e [IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) .</span><span class="sxs-lookup"><span data-stu-id="208f2-143">You use **RegisterEventNotification** to register for events raised by [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md) and [IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) interfaces.</span></span> <span data-ttu-id="208f2-144">Questi tipi di notifica sono supportati.</span><span class="sxs-lookup"><span data-stu-id="208f2-144">These notification types are supported.</span></span>

|[<span data-ttu-id="208f2-145">DXCoreNotificationType</span><span class="sxs-lookup"><span data-stu-id="208f2-145">DXCoreNotificationType</span></span>](./ne-dxcore_interface-dxcorenotificationtype.md)|<span data-ttu-id="208f2-146">*DxCoreObject* supportati</span><span class="sxs-lookup"><span data-stu-id="208f2-146">Supported *dxCoreObject*</span></span>|<span data-ttu-id="208f2-147">Note</span><span class="sxs-lookup"><span data-stu-id="208f2-147">Notes</span></span>|
|-|-|-|
|<span data-ttu-id="208f2-148">AdapterListStale</span><span class="sxs-lookup"><span data-stu-id="208f2-148">AdapterListStale</span></span>|<span data-ttu-id="208f2-149">**IDXCoreAdapterList**</span><span class="sxs-lookup"><span data-stu-id="208f2-149">**IDXCoreAdapterList**</span></span>|<span data-ttu-id="208f2-150">Indica che l'elenco degli adapter che soddisfano i criteri di filtro è stato modificato.</span><span class="sxs-lookup"><span data-stu-id="208f2-150">Indicates that the list of adapters meeting your filter criteria has changed.</span></span> <span data-ttu-id="208f2-151">Se l'elenco degli adapter non è aggiornato al momento della registrazione, il callback viene immediatamente chiamato.</span><span class="sxs-lookup"><span data-stu-id="208f2-151">If the adapter list is stale at the time of registration, then your callback is immediately called.</span></span> <span data-ttu-id="208f2-152">Questo callback viene eseguito al massimo una volta per ogni registrazione.</span><span class="sxs-lookup"><span data-stu-id="208f2-152">This callback occurs at most one time per registration.</span></span>|
|<span data-ttu-id="208f2-153">AdapterNoLongerValid</span><span class="sxs-lookup"><span data-stu-id="208f2-153">AdapterNoLongerValid</span></span>|<span data-ttu-id="208f2-154">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="208f2-154">**IDXCoreAdapter**</span></span>|<span data-ttu-id="208f2-155">Indica che l'adapter non è più valido.</span><span class="sxs-lookup"><span data-stu-id="208f2-155">Indicates that the adapter is no longer valid.</span></span> <span data-ttu-id="208f2-156">Se l'adapter non è valido al momento della registrazione, il callback viene immediatamente chiamato.</span><span class="sxs-lookup"><span data-stu-id="208f2-156">If the adapter is invalid at registration time, then your callback is immediately called.</span></span>|
|<span data-ttu-id="208f2-157">AdapterBudgetChange</span><span class="sxs-lookup"><span data-stu-id="208f2-157">AdapterBudgetChange</span></span>|<span data-ttu-id="208f2-158">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="208f2-158">**IDXCoreAdapter**</span></span>|<span data-ttu-id="208f2-159">Indica che si è verificato un evento di budget della memoria e che è necessario chiamare [IDXCoreAdapter:: QueryState](./nf-dxcore_interface-idxcoreadapter-querystate.md) (con [DXCoreAdapterState:: AdapterMemoryBudget](./ne-dxcore_interface-dxcoreadapterstate.md)) per valutare lo stato del budget di memoria corrente.</span><span class="sxs-lookup"><span data-stu-id="208f2-159">Indicates that a memory budgeting event has occurred, and that you should call [IDXCoreAdapter::QueryState](./nf-dxcore_interface-idxcoreadapter-querystate.md) (with [DXCoreAdapterState::AdapterMemoryBudget](./ne-dxcore_interface-dxcoreadapterstate.md)) to evaluate the current memory budget state.</span></span> <span data-ttu-id="208f2-160">Al momento della registrazione, si verificherà sempre un callback iniziale per consentire l'esecuzione di query sullo stato iniziale.</span><span class="sxs-lookup"><span data-stu-id="208f2-160">Upon registration, an initial callback will always occur to allow you to query the initial state.</span></span>|
|<span data-ttu-id="208f2-161">AdapterHardwareContentProtectionTeardown</span><span class="sxs-lookup"><span data-stu-id="208f2-161">AdapterHardwareContentProtectionTeardown</span></span>|<span data-ttu-id="208f2-162">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="208f2-162">**IDXCoreAdapter**</span></span>|<span data-ttu-id="208f2-163">Indica che è necessario valutare nuovamente lo stato della sessione di crittografia corrente. ad esempio, chiamando [ID3D11VideoContext1:: CheckCryptoSessionStatus](/windows/win32/api/d3d11_1/nf-d3d11_1-id3d11videocontext1-checkcryptosessionstatus) per determinare l'effetto del teardown hardware per una specifica interfaccia [ID3D11CryptoSession](/windows/win32/api/d3d11/nn-d3d11-id3d11cryptosession) .</span><span class="sxs-lookup"><span data-stu-id="208f2-163">Indicates that you should re-evaluate the current crypto session status; for example, by calling [ID3D11VideoContext1::CheckCryptoSessionStatus](/windows/win32/api/d3d11_1/nf-d3d11_1-id3d11videocontext1-checkcryptosessionstatus) to determine the impact of the hardware teardown for a specific [ID3D11CryptoSession](/windows/win32/api/d3d11/nn-d3d11-id3d11cryptosession) interface.</span></span> <span data-ttu-id="208f2-164">Al momento della registrazione, si verificherà sempre un callback iniziale per consentire l'esecuzione di query sullo stato iniziale.</span><span class="sxs-lookup"><span data-stu-id="208f2-164">Upon registration, an initial callback will always occur to allow you to query the initial state.</span></span>|

<span data-ttu-id="208f2-165">Una chiamata alla funzione fornita in *callbackFunction* viene eseguita in modo asincrono in un thread in background da DXCore quando si verifica l'evento rilevato.</span><span class="sxs-lookup"><span data-stu-id="208f2-165">A call to the function that you provide in *callbackFunction* is made asynchronously on a background thread by DXCore when the detected event occurs.</span></span> <span data-ttu-id="208f2-166">Non viene garantita alcuna garanzia per quanto riguarda l'ordinamento o la tempistica dei callback &mdash; , più callback possono verificarsi in qualsiasi ordine o anche simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="208f2-166">No guarantee is made as to the ordering or timing of callbacks&mdash;multiple callbacks may occur in any order, or even simultaneously.</span></span> <span data-ttu-id="208f2-167">È anche possibile che il callback venga richiamato prima del completamento di **RegisterEventNotification** .</span><span class="sxs-lookup"><span data-stu-id="208f2-167">It's even possible for your callback to be invoked before **RegisterEventNotification** has completed.</span></span> <span data-ttu-id="208f2-168">In tal caso, DXCore garantisce che *eventCookie* sia impostato prima della chiamata al callback.</span><span class="sxs-lookup"><span data-stu-id="208f2-168">In that case, DXCore guarantees that your *eventCookie* is set before your callback is called.</span></span> <span data-ttu-id="208f2-169">Più callback per una registrazione specifica verranno serializzati nell'ordine.</span><span class="sxs-lookup"><span data-stu-id="208f2-169">Multiple callbacks for a specific registration will be serialized in order.</span></span>

<span data-ttu-id="208f2-170">I callback possono verificarsi in qualsiasi momento fino a quando non si chiama [UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md)e viene completato.</span><span class="sxs-lookup"><span data-stu-id="208f2-170">Callbacks may occur at any time until you call [UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), and it completes.</span></span> <span data-ttu-id="208f2-171">I callback si verificano nei propri thread ed è possibile effettuare chiamate all'API DXCore su tali thread, incluso **UnregisterEventNotification**.</span><span class="sxs-lookup"><span data-stu-id="208f2-171">Callbacks occur on their own threads, and you may make calls into the DXCore API on those threads, including **UnregisterEventNotification**.</span></span> <span data-ttu-id="208f2-172">Tuttavia, non è necessario rilasciare l'ultimo riferimento a *dxCoreObject* in questo thread.</span><span class="sxs-lookup"><span data-stu-id="208f2-172">However, you must not release the last reference to the *dxCoreObject* on this thread.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="208f2-173">Prima di eliminare l'oggetto DXCore rappresentato dall'argomento *dxCoreObject* passato a **RegisterEventNotification**, è necessario usare il valore del cookie per annullare la registrazione dell'oggetto dalle notifiche chiamando [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span><span class="sxs-lookup"><span data-stu-id="208f2-173">Before you destroy the DXCore object represented by the *dxCoreObject* argument passed to **RegisterEventNotification**, you must use the cookie value to unregister that object from notifications by calling [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span></span> <span data-ttu-id="208f2-174">Se non si esegue questa operazione, viene generata un'eccezione irreversibile quando viene rilevata la situazione.</span><span class="sxs-lookup"><span data-stu-id="208f2-174">If you don't do that, then a fatal exception is raised when the situation is detected.</span></span>

## <a name="see-also"></a><span data-ttu-id="208f2-175">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="208f2-175">See also</span></span>

<span data-ttu-id="208f2-176">[IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md), [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md), [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), [riferimento a DXCore](../dxcore-reference.md), [uso di DXCore per enumerare gli adapter](../dxcore-enum-adapters.md)</span><span class="sxs-lookup"><span data-stu-id="208f2-176">[IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md), [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md), [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), [DXCore Reference](../dxcore-reference.md), [Using DXCore to enumerate adapters](../dxcore-enum-adapters.md)</span></span>