---
title: Input da tastiera (input da tastiera e mouse)
description: In questa sezione viene illustrato il modo in cui il sistema genera input da tastiera e il modo in cui un'applicazione riceve ed elabora tale input.
ms.assetid: vs|winui|~\winui\windowsuserinterface\userinput\keyboardinput.htm
keywords:
- input dell'utente, input da tastiera
- acquisizione dell'input dell'utente, input da tastiera
- input da tastiera
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6425da1617f73171ab54460c2634b22ffbfa4404
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/10/2020
ms.locfileid: "106300877"
---
# <a name="keyboard-input-keyboard-and-mouse-input"></a>Input da tastiera (input da tastiera e mouse)

In questa sezione viene descritto il modo in cui il sistema genera input da tastiera e il modo in cui un'applicazione riceve ed elabora tale input.

### <a name="in-this-section"></a>Contenuto della sezione



| Nome                                                     | Descrizione                                                       |
|----------------------------------------------------------|-------------------------------------------------------------------|
| [Informazioni sull'input da tastiera](about-keyboard-input.md)         | Descrive l'input da tastiera.<br/>                              |
| [Uso dell'input da tastiera](using-keyboard-input.md)         | Vengono illustrate le attività associate all'input da tastiera. <br/> |
| [Riferimento per input da tastiera](keyboard-input-reference.md) | Contiene il riferimento all'API.<br/>                            |



 

### <a name="functions"></a>Funzioni



| Nome                                                     | Descrizione                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) | Imposta l'identificatore delle impostazioni locali di input (chiamato in precedenza handle di layout della tastiera) per il thread chiamante o per il processo corrente. L'identificatore delle impostazioni locali di input specifica le impostazioni locali e il layout fisico della tastiera.<br/>                                                                                                                                                                |
| [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput)                         | Blocca gli eventi di input della tastiera e del mouse dal raggiungimento delle applicazioni. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**EnableWindow**](/windows/win32/api/winuser/nf-winuser-enablewindow)                     | Abilita o Disabilita l'input del mouse e della tastiera per la finestra o il controllo specificato. Quando l'input è disabilitato, la finestra non riceve input, ad esempio clic del mouse e pressione di tasto. Quando l'input è abilitato, la finestra riceve tutti gli input.<br/>                                                                                                                                                     |
| [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow)               | Recupera l'handle di finestra alla finestra attiva collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                                                          |
| [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate)             | Determina se un tasto è attivo o attivo nel momento in cui viene chiamata la funzione e se il tasto è stato premuto dopo una chiamata precedente a [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate). <br/>                                                                                                                                                                                                         |
| [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus)                             | Recupera l'handle per la finestra con lo stato attivo della tastiera, se la finestra è collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                          |
| [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout)           | Recupera l'identificatore delle impostazioni locali di input attivo (denominato in precedenza il layout di tastiera) per il thread specificato. Se il parametro *IDthread* è zero, viene restituito l'identificatore delle impostazioni locali di input per il thread attivo.<br/>                                                                                                                                                                           |
| [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist)   | Recupera gli identificatori delle impostazioni locali di input (chiamati in precedenza handle di layout della tastiera) corrispondenti al set corrente di impostazioni locali di input nel sistema. La funzione copia gli identificatori nel buffer specificato.<br/>                                                                                                                                                                             |
| [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea)   | Recupera il nome dell'identificatore delle impostazioni locali di input attivo (denominato in precedenza il layout della tastiera). <br/>                                                                                                                                                                                                                                                                                           |
| [**GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate)             | Copia lo stato delle chiavi virtuali 256 nel buffer specificato. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta)                 | Recupera una stringa che rappresenta il nome di una chiave. <br/>                                                                                                                                                                                                                                                                                                                                     |
| [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate)                       | Recupera lo stato della chiave virtuale specificata. Lo stato specifica se il tasto è attivo, inattivo o disattivato (on, off alternando ogni volta che viene premuto il tasto). <br/>                                                                                                                                                                                                                       |
| [**GetLastInputInfo**](/windows/win32/api/winuser/nf-winuser-getlastinputinfo)             | Recupera l'ora dell'ultimo evento di input.<br/>                                                                                                                                                                                                                                                                                                                                                |
| [**IsWindowEnabled**](/windows/win32/api/winuser/nf-winuser-iswindowenabled)               | Determina se la finestra specificata è abilitata per l'input del mouse e della tastiera. <br/>                                                                                                                                                                                                                                                                                                          |
| [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta)         | Carica nel sistema un nuovo identificatore delle impostazioni locali di input (denominato in precedenza il layout della tastiera). È possibile caricare diversi identificatori delle impostazioni locali di input alla volta, ma solo uno per processo è attivo alla volta. Il caricamento di più identificatori delle impostazioni locali di input consente di passare rapidamente dall'una all'altra.<br/>                                                                                             |
| [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya)                   | Converte (esegue il mapping) di un codice di chiave virtuale in un codice di analisi o un valore di carattere oppure converte un codice di analisi in un codice di chiave virtuale. <br/> Per specificare un handle per il layout di tastiera da usare per tradurre il codice specificato, usare la funzione [**MapVirtualKeyEx**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa) .<br/>                                                                                                |
| [**MapVirtualKeyEx**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa)               | Esegue il mapping di un codice di chiave virtuale in un codice di analisi o di un valore di carattere oppure converte un codice di analisi in un codice di chiave virtuale. La funzione converte i codici usando la lingua di input e un identificatore delle impostazioni locali di input.<br/>                                                                                                                                                                                 |
| [**OemKeyScan**](/windows/win32/api/winuser/nf-winuser-oemkeyscan)                         | Esegue il mapping dei codici OEMASCII da 0 a 0x0FF nei codici di analisi OEM e negli Stati di spostamento. La funzione fornisce informazioni che consentono a un programma di inviare testo OEM a un altro programma simulando l'input da tastiera. <br/>                                                                                                                                                                                   |
| [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey)                 | Definisce un tasto di scelta rapida a livello di sistema.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput)                           | Sintetizza le sequenze di tasti, i movimenti del mouse e i clic sui pulsanti.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow)               | Attiva una finestra. La finestra deve essere collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                                                                    |
| [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus)                             | Imposta lo stato attivo della tastiera sulla finestra specificata. La finestra deve essere collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                                       |
| [**SetKeyboardState**](/windows/win32/api/winuser/nf-winuser-setkeyboardstate)             | Copia una matrice di 256 byte di stati dei tasti della tastiera nella tabella di stato di input della tastiera del thread chiamante. Si tratta della stessa tabella a cui si accede dalle funzioni [**GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate) e [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) . Le modifiche apportate a questa tabella non influiscono sull'input da tastiera a nessun altro thread. <br/>                                                                   |
| [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii)                               | Converte il codice della chiave virtuale specificato e lo stato della tastiera nel carattere o nei caratteri corrispondenti. La funzione converte il codice usando la lingua di input e il layout di tastiera fisico identificato dall'handle di layout della tastiera.<br/> Per specificare un handle per il layout di tastiera da usare per tradurre il codice specificato, usare la funzione [**ToAsciiEx**](/windows/win32/api/winuser/nf-winuser-toasciiex) .<br/> |
| [**ToAsciiEx**](/windows/win32/api/winuser/nf-winuser-toasciiex)                           | Converte il codice della chiave virtuale specificato e lo stato della tastiera nel carattere o nei caratteri corrispondenti. La funzione converte il codice usando la lingua di input e il layout di tastiera fisico identificato dall'identificatore delle impostazioni locali di input.<br/>                                                                                                                                               |
| [**Tounicode**](/windows/win32/api/winuser/nf-winuser-tounicode)                           | Converte il codice della chiave virtuale e lo stato della tastiera specificati nel carattere o nei caratteri Unicode corrispondenti. <br/> Per specificare un handle per il layout di tastiera da usare per tradurre il codice specificato, usare la funzione [**ToUnicodeEx**](/windows/win32/api/winuser/nf-winuser-tounicodeex) .<br/>                                                                                                                     |
| [**ToUnicodeEx**](/windows/win32/api/winuser/nf-winuser-tounicodeex)                       | Converte il codice della chiave virtuale e lo stato della tastiera specificati nel carattere o nei caratteri Unicode corrispondenti.<br/>                                                                                                                                                                                                                                                                         |
| [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout)     | Scarica un identificatore delle impostazioni locali di input (noto in precedenza come layout di tastiera). <br/>                                                                                                                                                                                                                                                                                                                   |
| [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey)             | Libera un tasto di scelta precedentemente registrato dal thread chiamante. <br/>                                                                                                                                                                                                                                                                                                                              |
| [**VkKeyScanEx**](/windows/win32/api/winuser/nf-winuser-vkkeyscanexa)                       | Converte un carattere nel codice della chiave virtuale e nello stato di spostamento corrispondenti. La funzione converte il carattere utilizzando la lingua di input e il layout di tastiera fisico identificato dall'identificatore delle impostazioni locali di input. <br/>                                                                                                                                                                      |



 

Le funzioni seguenti sono obsolete.



| Funzione                               | Descrizione                                                                                                                                                                                                                                                                   |
|----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetKBCodePage**](/windows/win32/api/winuser/nf-winuser-getkbcodepage) | Recupera la tabella codici corrente.<br/>                                                                                                                                                                                                                                   |
| [**\_evento KeyBD**](/windows/win32/api/winuser/nf-winuser-keybd_event)    | Sintetizza una sequenza di tasti. Il sistema può usare questa sequenza di tasti sintetizzata per generare un messaggio [**WM \_ KEYUP**](wm-keyup.md) o [**WM \_ KeyDown**](wm-keydown.md) . Il gestore di interrupt del driver della tastiera chiama la funzione di [**\_ evento keybd**](/windows/win32/api/winuser/nf-winuser-keybd_event) .<br/> |
| [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana)         | Converte un carattere nel codice della chiave virtuale corrispondente e lo stato di spostamento per la tastiera corrente.<br/>                                                                                                                                                             |



 

### <a name="messages"></a>Messaggi



| Nome                                  | Descrizione                                                                                                           |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| [**WM \_ GEThotkey**](wm-gethotkey.md) | Determina il tasto di scelta associato a una finestra. <br/>                                                          |
| [**sehotkey WM \_**](wm-sethotkey.md) | Associa un tasto di scelta con la finestra. Quando l'utente preme il tasto di scelta, il sistema attiva la finestra. <br/> |



 

### <a name="notifications"></a>Notifiche



| Nome                                      | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**\_attivazione WM**](wm-activate.md)       | Inviato sia alla finestra attivata che alla finestra da disattivare. Se le finestre utilizzano la stessa coda di input, il messaggio viene inviato in modo sincrono, prima alla routine della finestra della finestra di primo livello da disattivare, quindi alla routine della finestra della finestra di primo livello attivata. Se le finestre utilizzano code di input diverse, il messaggio viene inviato in modo asincrono, quindi la finestra viene attivata immediatamente. <br/>                                                                                                                               |
| [**\_APPCOMMAND WM**](wm-appcommand.md)   | Notifica a una finestra che l'utente ha generato un evento del comando dell'applicazione, ad esempio facendo clic su un pulsante di comando dell'applicazione utilizzando il mouse o digitando un tasto di comando dell'applicazione sulla tastiera.<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**\_carattere WM**](wm-char.md)               | Inviato alla finestra con lo stato attivo quando un messaggio di [**WM \_ KeyDown**](wm-keydown.md) viene convertito dalla funzione [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . Il messaggio [**WM \_ char**](wm-char.md) contiene il codice carattere della chiave che è stata premuta. <br/>                                                                                                                                                                                                                                                                             |
| [**\_DEADCHAR WM**](wm-deadchar.md)       | Inserito nella finestra con lo stato attivo quando un messaggio [**WM \_ KEYUP**](wm-keyup.md) viene convertito dalla funzione [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . [**WM \_ DEADCHAR**](wm-deadchar.md) specifica un codice carattere generato da una chiave non recapitabile. Una chiave non recapitabile è una chiave che genera un carattere, ad esempio il dieresto (punto doppio), combinato con un altro carattere per formare un carattere composito. Il carattere dieresto (), ad esempio, viene generato digitando la chiave non recapitabile per il carattere dieresto, quindi digitando il tasto O. <br/> |
| [**\_tasto di scelta rapida WM**](wm-hotkey.md)           | Inviato quando l'utente preme un tasto di scelta registrato dalla funzione [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) . Il messaggio viene inserito nella parte superiore della coda di messaggi associata al thread che ha registrato il tasto di scelta. <br/>                                                                                                                                                                                                                                                                                                                                 |
| [**KeyDown di WM \_**](wm-keydown.md)         | Inserito nella finestra con lo stato attivo della tastiera quando viene premuto un tasto non di sistema. Una chiave non di sistema è una chiave che viene premuto quando il tasto ALT non viene premuto. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**KEYUP di WM \_**](wm-keyup.md)             | Inviato alla finestra con lo stato attivo quando viene rilasciato un tasto non di sistema. Una chiave non di sistema è una chiave che viene premuto quando il tasto ALT non viene premuto oppure un tasto di scelta rapida quando una finestra ha lo stato attivo della tastiera. <br/>                                                                                                                                                                                                                                                                                                                          |
| [**\_KILLFOCUS WM**](wm-killfocus.md)     | Inviato a una finestra immediatamente prima che perda lo stato attivo della tastiera. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**\_stato attivo WM**](wm-setfocus.md)       | Inviato a una finestra dopo che ha ottenuto lo stato attivo della tastiera. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**\_SYSDEADCHAR WM**](wm-sysdeadchar.md) | Inviato alla finestra con lo stato attivo quando un messaggio [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) viene convertito dalla funzione [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) specifica il codice carattere di una chiave di sistema non recapitabile, ovvero un tasto inattivo premuto tenendo premuto il tasto ALT. <br/>                                                                                                                                                                                                        |
| [**\_SYSKEYDOWN WM**](wm-syskeydown.md)   | Inserito nella finestra con lo stato attivo quando l'utente preme il tasto F10 (che attiva la barra dei menu) o tiene premuto il tasto ALT, quindi preme un altro tasto. Si verifica anche quando nessuna finestra dispone attualmente dello stato attivo della tastiera; in questo caso, il messaggio [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) viene inviato alla finestra attiva. La finestra che riceve il messaggio può distinguere tra questi due contesti controllando il codice del contesto nel parametro *lParam* . <br/>                                                                             |
| [**\_SYSKEYUP WM**](wm-syskeyup.md)       | Inserito nella finestra con lo stato attivo quando l'utente rilascia un tasto premuto mentre il tasto ALT è stato premuto. Si verifica anche quando nessuna finestra dispone attualmente dello stato attivo della tastiera; in questo caso, il messaggio [**WM \_ SYSKEYUP**](wm-syskeyup.md) viene inviato alla finestra attiva. La finestra che riceve il messaggio può distinguere tra questi due contesti controllando il codice del contesto nel parametro *lParam* . <br/>                                                                                                                           |
| [**UNICHAR WM \_**](wm-unichar.md)         | Inviato alla finestra con lo stato attivo quando un messaggio di [**WM \_ KeyDown**](wm-keydown.md) viene convertito dalla funzione [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) . Il [**messaggio \_ UNICHAR WM**](wm-unichar.md) contiene il codice carattere della chiave che è stata premuta.<br/>                                                                                                                                                                                                                                                                        |



 

### <a name="structures"></a>Strutture



| Nome                                   | Descrizione                                                                                                              |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| [**HARDWAREINPUT**](/windows/win32/api/winuser/ns-winuser-hardwareinput) | Contiene informazioni su un messaggio simulato generato da un dispositivo di input diverso da una tastiera o da un mouse. <br/>  |
| [**INPUT**](/windows/win32/api/winuser/ns-winuser-input)                 | Contiene le informazioni utilizzate per sintetizzare gli eventi di input, ad esempio le sequenze di tasti, il movimento del mouse e i clic del mouse.<br/> |
| [**KEYBDINPUT**](/windows/win32/api/winuser/ns-winuser-keybdinput)       | Contiene informazioni su un evento di tastiera simulato. <br/>                                                       |
| [**LASTINPUTINFO**](/windows/win32/api/winuser/ns-winuser-lastinputinfo) | Contiene l'ora dell'ultimo input.<br/>                                                                          |
| [**MOUSEINPUT**](/windows/win32/api/winuser/ns-winuser-mouseinput)       | Contiene informazioni su un evento del mouse simulato.<br/>                                                           |



 

### <a name="constants"></a>Costanti



| Nome                                           | Descrizione                                                                                                                                                                         |
|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Codici chiave virtuale**](virtual-key-codes.md) | I nomi delle costanti simboliche, i valori esadecimali e gli equivalenti di mouse o tastiera per i codici chiave virtuale utilizzati dal sistema. I codici vengono elencati in ordine numerico. <br/> |



 

 

