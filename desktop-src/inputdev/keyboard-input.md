---
title: Input da tastiera (input da tastiera e mouse)
description: Questa sezione illustra come il sistema genera l'input da tastiera e come un'applicazione riceve ed elabora tale input.
ms.assetid: vs|winui|~\winui\windowsuserinterface\userinput\keyboardinput.htm
keywords:
- input utente, input da tastiera
- acquisizione di input utente, input da tastiera
- input da tastiera
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 249e42a97c0848a9935fe700a0408989cbab90abc53c9ac2da6c7ef56fbc31da
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/11/2021
ms.locfileid: "118757590"
---
# <a name="keyboard-input-keyboard-and-mouse-input"></a>Input da tastiera (input da tastiera e mouse)

Questa sezione descrive come il sistema genera l'input da tastiera e come un'applicazione riceve ed elabora tale input.

### <a name="in-this-section"></a>Contenuto della sezione



| Nome                                                     | Descrizione                                                       |
|----------------------------------------------------------|-------------------------------------------------------------------|
| [Informazioni sull'input da tastiera](about-keyboard-input.md)         | Illustra l'input da tastiera.<br/>                              |
| [Uso dell'input da tastiera](using-keyboard-input.md)         | Illustra le attività associate all'input da tastiera. <br/> |
| [Informazioni di riferimento per l'input da tastiera](keyboard-input-reference.md) | Contiene il riferimento all'API.<br/>                            |



 

### <a name="functions"></a>Funzioni



| Nome                                                     | Descrizione                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) | Imposta l'identificatore delle impostazioni locali di input (in precedenza denominato handle di layout di tastiera) per il thread chiamante o il processo corrente. L'identificatore delle impostazioni locali di input specifica le impostazioni locali e il layout fisico della tastiera.<br/>                                                                                                                                                                |
| [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput)                         | Impedisce agli eventi di input di tastiera e mouse di raggiungere le applicazioni. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**EnableWindow**](/windows/win32/api/winuser/nf-winuser-enablewindow)                     | Abilita o disabilita l'input da mouse e tastiera per la finestra o il controllo specificato. Quando l'input è disabilitato, la finestra non riceve input, ad esempio i clic del mouse e le combinazioni di tasti. Quando l'input è abilitato, la finestra riceve tutti gli input.<br/>                                                                                                                                                     |
| [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow)               | Recupera l'handle di finestra per la finestra attiva collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                                                          |
| [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate)             | Determina se un tasto è verso l'alto o verso il basso nel momento in cui viene chiamata la funzione e se il tasto è stato premuto dopo una chiamata precedente a [**GetAsyncKeyState.**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) <br/>                                                                                                                                                                                                         |
| [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus)                             | Recupera l'handle per la finestra con lo stato attivo della tastiera, se la finestra è collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                          |
| [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout)           | Recupera l'identificatore delle impostazioni locali di input attivo (in precedenza denominato layout di tastiera) per il thread specificato. Se il *parametro idThread* è zero, viene restituito l'identificatore delle impostazioni locali di input per il thread attivo.<br/>                                                                                                                                                                           |
| [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist)   | Recupera gli identificatori delle impostazioni locali di input (in precedenza definiti handle di layout di tastiera) corrispondenti al set corrente di impostazioni locali di input nel sistema. La funzione copia gli identificatori nel buffer specificato.<br/>                                                                                                                                                                             |
| [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea)   | Recupera il nome dell'identificatore delle impostazioni locali di input attivo (in precedenza denominato layout di tastiera). <br/>                                                                                                                                                                                                                                                                                           |
| [**GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate)             | Copia lo stato delle 256 chiavi virtuali nel buffer specificato. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta)                 | Recupera una stringa che rappresenta il nome di una chiave. <br/>                                                                                                                                                                                                                                                                                                                                     |
| [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate)                       | Recupera lo stato della chiave virtuale specificata. Lo stato specifica se il tasto è verso l'alto, verso il basso o l'interruttore (attivato, disattivato alternato ogni volta che viene premuto il tasto). <br/>                                                                                                                                                                                                                       |
| [**GetLastInputInfo**](/windows/win32/api/winuser/nf-winuser-getlastinputinfo)             | Recupera l'ora dell'ultimo evento di input.<br/>                                                                                                                                                                                                                                                                                                                                                |
| [**IsWindowEnabled**](/windows/win32/api/winuser/nf-winuser-iswindowenabled)               | Determina se la finestra specificata è abilitata per l'input tramite mouse e tastiera. <br/>                                                                                                                                                                                                                                                                                                          |
| [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta)         | Carica un nuovo identificatore delle impostazioni locali di input (in precedenza denominato layout di tastiera) nel sistema. È possibile caricare diversi identificatori delle impostazioni locali di input alla volta, ma ne è attivo solo uno per processo alla volta. Il caricamento di più identificatori delle impostazioni locali di input consente di passare rapidamente da uno all'altro.<br/>                                                                                             |
| [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya)                   | Converte (mappa) un codice di chiave virtuale in un codice di analisi o in un valore di carattere o converte un codice di analisi in un codice di chiave virtuale. <br/> Per specificare un handle per il layout di tastiera da usare per la traduzione del codice specificato, usare la [**funzione MapVirtualKeyEx.**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa)<br/>                                                                                                |
| [**MapVirtualKeyEx**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa)               | Mappe codice di una chiave virtuale in un codice di analisi o in un valore di carattere o converte un codice di analisi in un codice a chiave virtuale. La funzione converte i codici usando la lingua di input e un identificatore delle impostazioni locali di input.<br/>                                                                                                                                                                                 |
| [**OemKeyScan**](/windows/win32/api/winuser/nf-winuser-oemkeyscan)                         | Mappe I codici OEMASCII da 0 a 0x0FF nei codici di analisi OEM e negli stati di spostamento. La funzione fornisce informazioni che consentono a un programma di inviare testo OEM a un altro programma simulando l'input da tastiera. <br/>                                                                                                                                                                                   |
| [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey)                 | Definisce un tasto di scelta rapida a livello di sistema.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput)                           | Sintetizza le sequenze di tasti, i movimenti del mouse e i clic sui pulsanti.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow)               | Attiva una finestra. La finestra deve essere collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                                                                    |
| [**Setfocus**](/windows/win32/api/winuser/nf-winuser-setfocus)                             | Imposta lo stato attivo della tastiera sulla finestra specificata. La finestra deve essere collegata alla coda di messaggi del thread chiamante. <br/>                                                                                                                                                                                                                                                                       |
| [**SetKeyboardState**](/windows/win32/api/winuser/nf-winuser-setkeyboardstate)             | Copia una matrice di 256 byte di stati dei tasti della tastiera nella tabella dello stato di input della tastiera del thread chiamante. Si tratta della stessa tabella a cui si accede dalle [**funzioni GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate) [**e GetKeyState.**](/windows/win32/api/winuser/nf-winuser-getkeystate) Le modifiche apportate a questa tabella non influiscono sull'input da tastiera per altri thread. <br/>                                                                   |
| [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii)                               | Converte il codice del tasto virtuale e lo stato della tastiera specificati nel carattere o nei caratteri corrispondenti. La funzione converte il codice usando la lingua di input e il layout di tastiera fisico identificati dall'handle di layout di tastiera.<br/> Per specificare un handle per il layout di tastiera da usare per convertire il codice specificato, usare la [**funzione ToAsciiEx.**](/windows/win32/api/winuser/nf-winuser-toasciiex)<br/> |
| [**ToAsciiEx**](/windows/win32/api/winuser/nf-winuser-toasciiex)                           | Converte il codice del tasto virtuale e lo stato della tastiera specificati nel carattere o nei caratteri corrispondenti. La funzione converte il codice usando la lingua di input e il layout di tastiera fisico identificati dall'identificatore delle impostazioni locali di input.<br/>                                                                                                                                               |
| [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode)                           | Converte il codice del tasto virtuale e lo stato della tastiera specificati nel carattere o nei caratteri Unicode corrispondenti. <br/> Per specificare un handle per il layout di tastiera da usare per convertire il codice specificato, usare la [**funzione ToUnicodeEx.**](/windows/win32/api/winuser/nf-winuser-tounicodeex)<br/>                                                                                                                     |
| [**ToUnicodeEx**](/windows/win32/api/winuser/nf-winuser-tounicodeex)                       | Converte il codice del tasto virtuale e lo stato della tastiera specificati nel carattere o nei caratteri Unicode corrispondenti.<br/>                                                                                                                                                                                                                                                                         |
| [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout)     | Scarica un identificatore delle impostazioni locali di input (in precedenza denominato layout di tastiera). <br/>                                                                                                                                                                                                                                                                                                                   |
| [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey)             | Libera un tasto di scelta precedentemente registrato dal thread chiamante. <br/>                                                                                                                                                                                                                                                                                                                              |
| [**VkKeyScanEx**](/windows/win32/api/winuser/nf-winuser-vkkeyscanexa)                       | Converte un carattere nel codice del tasto virtuale corrispondente e sposta lo stato. La funzione converte il carattere usando la lingua di input e il layout di tastiera fisico identificati dall'identificatore delle impostazioni locali di input. <br/>                                                                                                                                                                      |



 

Le funzioni seguenti sono obsolete.



| Funzione                               | Descrizione                                                                                                                                                                                                                                                                   |
|----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetKBCodePage**](/windows/win32/api/winuser/nf-winuser-getkbcodepage) | Recupera la tabella codici corrente.<br/>                                                                                                                                                                                                                                   |
| [**evento \_ keybd**](/windows/win32/api/winuser/nf-winuser-keybd_event)    | Sintetizza una sequenza di tasti. Il sistema può usare tale sequenza di tasti sintetizzata per generare un [**messaggio WM \_ KEYUP**](wm-keyup.md) o [**WM \_ KEYDOWN.**](wm-keydown.md) Il gestore di interrupt del driver della tastiera chiama la [**funzione di evento keybd. \_**](/windows/win32/api/winuser/nf-winuser-keybd_event)<br/> |
| [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana)         | Converte un carattere nel codice del tasto virtuale corrispondente e lo stato di spostamento per la tastiera corrente.<br/>                                                                                                                                                             |



 

### <a name="messages"></a>Messaggi



| Nome                                  | Descrizione                                                                                                           |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| [**WM \_ GETHOTKEY**](wm-gethotkey.md) | Determina il tasto di scelta rapida associato a una finestra. <br/>                                                          |
| [**WM \_ SETHOTKEY**](wm-sethotkey.md) | Associa un tasto di scelta rapida alla finestra. Quando l'utente preme il tasto di scelta rapida, il sistema attiva la finestra. <br/> |



 

### <a name="notifications"></a>Notifiche



| Nome                                      | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**WM \_ ACTIVATE**](wm-activate.md)       | Inviato sia alla finestra attivata che alla finestra disattivata. Se le finestre usano la stessa coda di input, il messaggio viene inviato in modo sincrono, prima alla routine della finestra di primo livello in fase di disattivazione, quindi alla routine della finestra di primo livello attivata. Se le finestre usano code di input diverse, il messaggio viene inviato in modo asincrono, quindi la finestra viene attivata immediatamente. <br/>                                                                                                                               |
| [**WM \_ APPCOMMAND**](wm-appcommand.md)   | Notifica a una finestra che l'utente ha generato un evento di comando dell'applicazione, ad esempio facendo clic su un pulsante di comando dell'applicazione usando il mouse o digitando un tasto di comando dell'applicazione sulla tastiera.<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**WM \_ CHAR**](wm-char.md)               | Inviato alla finestra con lo stato attivo della tastiera quando [**un messaggio WM \_ KEYDOWN**](wm-keydown.md) viene convertito dalla [**funzione TranslateMessage.**](/windows/desktop/api/winuser/nf-winuser-translatemessage) Il [**messaggio WM \_ CHAR**](wm-char.md) contiene il codice carattere del tasto premuto. <br/>                                                                                                                                                                                                                                                                             |
| [**WM \_ DEADCHAR**](wm-deadchar.md)       | Inviato alla finestra con lo stato attivo della tastiera quando un [**messaggio WM \_ KEYUP**](wm-keyup.md) viene convertito dalla [**funzione TranslateMessage.**](/windows/desktop/api/winuser/nf-winuser-translatemessage) [**WM \_ DEADCHAR**](wm-deadchar.md) specifica un codice carattere generato da una chiave non in esecuzione. Una chiave non disponibile è una chiave che genera un carattere, ad esempio l'umlaut (doppio punto), che viene combinato con un altro carattere per formare un carattere composito. Ad esempio, il carattere umlaut-O ( ) viene generato digitando il tasto non disponibile per il carattere umlaut e quindi digitando il tasto O. <br/> |
| [**TASTO \_ DI SCELTA RAPIDA WM**](wm-hotkey.md)           | Pubblicato quando l'utente preme un tasto di scelta rapida registrato dalla [**funzione RegisterHotKey.**](/windows/win32/api/winuser/nf-winuser-registerhotkey) Il messaggio viene inserito nella parte superiore della coda di messaggi associata al thread che ha registrato il tasto di scelta rapida. <br/>                                                                                                                                                                                                                                                                                                                                 |
| [**WM \_ KEYDOWN**](wm-keydown.md)         | Inviato alla finestra con lo stato attivo della tastiera quando viene premuto un tasto non di sistema. Un tasto non di sistema è un tasto che viene premuto quando il tasto ALT non viene premuto. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**WM \_ KEYUP**](wm-keyup.md)             | Inviato alla finestra con lo stato attivo quando viene rilasciato un tasto non di sistema. Un tasto non di sistema è un tasto premuto quando il tasto ALT non viene premuto o un tasto della tastiera che viene premuto quando una finestra ha lo stato attivo della tastiera. <br/>                                                                                                                                                                                                                                                                                                                          |
| [**WM \_ KILLFOCUS**](wm-killfocus.md)     | Inviato a una finestra immediatamente prima di perdere lo stato attivo della tastiera. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**WM \_ SETFOCUS**](wm-setfocus.md)       | Inviato a una finestra dopo aver acquisito lo stato attivo della tastiera. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) | Inviato alla finestra con lo stato attivo della tastiera quando [**un messaggio WM \_ SYSKEYDOWN**](wm-syskeydown.md) viene convertito dalla [**funzione TranslateMessage.**](/windows/desktop/api/winuser/nf-winuser-translatemessage) [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) specifica il codice carattere di un tasto di scelta rapida di sistema, un tasto non in esecuzione premuto mentre si tiene premuto ALT. <br/>                                                                                                                                                                                                        |
| [**WM \_ SYSKEYDOWN**](wm-syskeydown.md)   | Inviato alla finestra con lo stato attivo della tastiera quando l'utente preme il tasto F10 (che attiva la barra dei menu) o tiene premuto ALT e quindi preme un altro tasto. Si verifica anche quando nessuna finestra ha attualmente lo stato attivo della tastiera. In questo caso, il [**messaggio WM \_ SYSKEYDOWN**](wm-syskeydown.md) viene inviato alla finestra attiva. La finestra che riceve il messaggio può distinguere questi due contesti controllando il codice del contesto nel *parametro lParam.* <br/>                                                                             |
| [**WM \_ SYSKEYUP**](wm-syskeyup.md)       | Inviato alla finestra con lo stato attivo della tastiera quando l'utente rilascia un tasto premuto mentre il tasto ALT è stato premuto. Si verifica anche quando nessuna finestra ha attualmente lo stato attivo della tastiera. In questo caso, il [**messaggio WM \_ SYSKEYUP**](wm-syskeyup.md) viene inviato alla finestra attiva. La finestra che riceve il messaggio può distinguere questi due contesti controllando il codice del contesto nel *parametro lParam.* <br/>                                                                                                                           |
| [**WM \_ UNICHAR**](wm-unichar.md)         | Inviato alla finestra con lo stato attivo della tastiera quando [**un messaggio WM \_ KEYDOWN**](wm-keydown.md) viene convertito dalla [**funzione TranslateMessage.**](/windows/desktop/api/winuser/nf-winuser-translatemessage) Il [**messaggio \_ WM UNICHAR**](wm-unichar.md) contiene il codice carattere del tasto premuto.<br/>                                                                                                                                                                                                                                                                        |



 

### <a name="structures"></a>Strutture



| Nome                                   | Descrizione                                                                                                              |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| [**HARDWAREINPUT**](/windows/win32/api/winuser/ns-winuser-hardwareinput) | Contiene informazioni su un messaggio simulato generato da un dispositivo di input diverso da una tastiera o da un mouse. <br/>  |
| [**Input**](/windows/win32/api/winuser/ns-winuser-input)                 | Contiene informazioni usate per sintetizzare gli eventi di input, ad esempio le sequenze di tasti, lo spostamento del mouse e i clic del mouse.<br/> |
| [**KEYBDINPUT**](/windows/win32/api/winuser/ns-winuser-keybdinput)       | Contiene informazioni su un evento di tastiera simulato. <br/>                                                       |
| [**LASTINPUTINFO**](/windows/win32/api/winuser/ns-winuser-lastinputinfo) | Contiene l'ora dell'ultimo input.<br/>                                                                          |
| [**MOUSEINPUT**](/windows/win32/api/winuser/ns-winuser-mouseinput)       | Contiene informazioni su un evento mouse simulato.<br/>                                                           |



 

### <a name="constants"></a>Costanti



| Nome                                           | Descrizione                                                                                                                                                                         |
|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Codici di chiave virtuale**](virtual-key-codes.md) | I nomi delle costanti simboliche, i valori esadecimali e gli equivalenti del mouse o della tastiera per i codici dei tasti virtuali usati dal sistema. I codici sono elencati in ordine numerico. <br/> |



 

 

