---
title: Sequenza di chiamate API supplicant
description: Informazioni sulla sequenza di chiamate dell'API supplicant. Vedere una panoramica della sequenza di chiamate e visualizzare altre risorse disponibili.
ms.assetid: 83276783-aee5-43ac-982d-1144df982a7d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 49c93afea6dbf4c3220bbeaec4f6278eb3d0b756
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "103963473"
---
# <a name="supplicant-api-call-sequence"></a><span data-ttu-id="fc508-104">Sequenza di chiamate API supplicant</span><span class="sxs-lookup"><span data-stu-id="fc508-104">Supplicant API Call Sequence</span></span>

<span data-ttu-id="fc508-105">Questo argomento fornisce la sequenza di chiamate specifica per l'API supplicant.</span><span class="sxs-lookup"><span data-stu-id="fc508-105">This topic provides the specific call sequence for the supplicant API.</span></span>

## <a name="supplicant-api-call-sequence-overview"></a><span data-ttu-id="fc508-106">Panoramica della sequenza di chiamate dell'API supplicant</span><span class="sxs-lookup"><span data-stu-id="fc508-106">Supplicant API Call Sequence Overview</span></span>

<span data-ttu-id="fc508-107">Quando il richiedente riceve un pacchetto EAP da un provider, ad esempio un punto di accesso, si verifica in genere il flusso di chiamate API di supplicar seguente.</span><span class="sxs-lookup"><span data-stu-id="fc508-107">When the supplicant receives an EAP packet from a provider, such as an access point, the following supplicant API call flow typically occurs.</span></span>

-   <span data-ttu-id="fc508-108">L'applicazione chiama [**EapHostPeerBeginSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) con dati di configurazione EAPHost e dati utente.</span><span class="sxs-lookup"><span data-stu-id="fc508-108">The application calls [**EapHostPeerBeginSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) with EAPHost configuration data and user data.</span></span> <span data-ttu-id="fc508-109">Una chiamata riuscita restituisce un handle di sessione dell' **\_ \_ handle di sessione EAP** .</span><span class="sxs-lookup"><span data-stu-id="fc508-109">A successful call returns an **EAP\_SESSION\_HANDLE** session handle.</span></span>
-   <span data-ttu-id="fc508-110">Ogni pacchetto ricevuto dal supplicant viene elaborato da una chiamata a [**EapHostPeerProcessReceivedPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerprocessreceivedpacket).</span><span class="sxs-lookup"><span data-stu-id="fc508-110">Each packet received by the supplicant is processed by a call to [**EapHostPeerProcessReceivedPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerprocessreceivedpacket).</span></span> <span data-ttu-id="fc508-111">Il supplicant chiama quindi la funzione corrispondente al codice dell'azione restituito dalla funzione.</span><span class="sxs-lookup"><span data-stu-id="fc508-111">The supplicant then calls the function corresponding to the action code returned by the function.</span></span>
-   <span data-ttu-id="fc508-112">Se il codice dell'azione è **EapHostPeerResponseSend**, il supplicant chiama [**EapHostPeerGetSendPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetsendpacket) per ottenere la risposta da inviare all'autenticatore.</span><span class="sxs-lookup"><span data-stu-id="fc508-112">If the action code is **EapHostPeerResponseSend**, then the supplicant calls [**EapHostPeerGetSendPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetsendpacket) to obtain the response to be sent to the authenticator.</span></span>
-   <span data-ttu-id="fc508-113">Se durante la sessione, il codice dell'azione restituito al richiedente è **EapHostPeerResponseRespond**, indica che gli attributi EAP sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="fc508-113">If during the session, the action code returned to the supplicant is **EapHostPeerResponseRespond**, it indicates that EAP attributes are available.</span></span> <span data-ttu-id="fc508-114">Il supplicant chiama quindi [**EapHostPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresponseattributes) per ottenerli.</span><span class="sxs-lookup"><span data-stu-id="fc508-114">The supplicant then calls [**EapHostPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresponseattributes) to obtain them.</span></span> <span data-ttu-id="fc508-115">Questi attributi contengono dati supplementari usati durante il processo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="fc508-115">These attributes contain supplemental data used during the authentication process.</span></span> <span data-ttu-id="fc508-116">Al termine dell'elaborazione degli attributi, il richiedente chiama [**EapHostPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetresponseattributes) che aggiorna i dati.</span><span class="sxs-lookup"><span data-stu-id="fc508-116">After supplicant completes processing the attributes it calls [**EapHostPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetresponseattributes) which updates the data.</span></span> <span data-ttu-id="fc508-117">Questa funzione restituisce un codice di azione che determina l'azione successiva del richiedente.</span><span class="sxs-lookup"><span data-stu-id="fc508-117">This function returns an action code which determines the supplicant's next action.</span></span>
-   <span data-ttu-id="fc508-118">Se il codice dell'azione è **EapHostPeerResponseInvokeUI** , il supplicant genera una finestra di dialogo dell'interfaccia utente per ottenere dati interattivi dall'utente, ad esempio le credenziali o le informazioni di identità.</span><span class="sxs-lookup"><span data-stu-id="fc508-118">If the action code is **EapHostPeerResponseInvokeUI** the supplicant raises a user interface dialog to obtain interactive data from the user, such as credentials or identity information.</span></span> <span data-ttu-id="fc508-119">Vedere l'intervento dell'utente con il flusso di chiamate API supplicar di seguito.</span><span class="sxs-lookup"><span data-stu-id="fc508-119">See User Interaction with the Supplicant API Call Flow below.</span></span>
-   <span data-ttu-id="fc508-120">Se il codice dell'azione è **EapHostPeerResponseResult**, indica che i risultati della sessione di autenticazione sono disponibili per il richiedente.</span><span class="sxs-lookup"><span data-stu-id="fc508-120">If the action code is **EapHostPeerResponseResult**, it indicates that the results of the authentication session are available to the supplicant.</span></span> <span data-ttu-id="fc508-121">Il supplicant chiama quindi [**EapHostPeerGetResult**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresult) per ottenere i risultati.</span><span class="sxs-lookup"><span data-stu-id="fc508-121">The supplicant then calls [**EapHostPeerGetResult**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresult) to obtain the results.</span></span> <span data-ttu-id="fc508-122">Indipendentemente dal fatto che i risultati indichino l'esito positivo o negativo, il supplicant chiama [**EapHostPeerEndSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerendsession).</span><span class="sxs-lookup"><span data-stu-id="fc508-122">Regardless of whether the results indicate success or failure, the supplicant calls [**EapHostPeerEndSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerendsession).</span></span> <span data-ttu-id="fc508-123">In caso di errore, è possibile tentare di ripetere l'autenticazione aprendo un'altra sessione con EAPHost e fornendo una nuova identità oppure ritentando l'autenticazione con l'identità originale.</span><span class="sxs-lookup"><span data-stu-id="fc508-123">In the case of failure, re-authentication can be attempted by opening another session with EAPHost and providing a new identity, or attempting authentication with the original identity again.</span></span>

## <a name="user-interaction-with-the-supplicant-api-call-flow"></a><span data-ttu-id="fc508-124">Interazione dell'utente con il flusso di chiamata dell'API supplicant</span><span class="sxs-lookup"><span data-stu-id="fc508-124">User Interaction with the Supplicant API Call Flow</span></span>

<span data-ttu-id="fc508-125">In alcuni casi, il richiedente deve ottenere informazioni dall'utente per continuare il processo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="fc508-125">In certain cases, the supplicant needs to obtain information from the user to continue the authentication process.</span></span>

<span data-ttu-id="fc508-126">Nell'elenco seguente viene illustrata la sequenza di chiamate sul processo dell'interfaccia utente supplicant e EAPHost necessario per abilitare l'input interattivo.</span><span class="sxs-lookup"><span data-stu-id="fc508-126">The following list demonstrates the sequence of calls on the supplicant and EAPHost UI process necessary to enable interactive input.</span></span>

1.  <span data-ttu-id="fc508-127">Il supplicant ottiene il contesto dell'interfaccia utente corrente chiamando [**EapHostPeerGetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetuicontext).</span><span class="sxs-lookup"><span data-stu-id="fc508-127">The supplicant obtains the current user interface context by calling [**EapHostPeerGetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetuicontext).</span></span>
2.  <span data-ttu-id="fc508-128">Il supplicant invia quindi i dati del contesto dell'interfaccia utente al processo dell'interfaccia utente del richiedente.</span><span class="sxs-lookup"><span data-stu-id="fc508-128">The supplicant then sends the UI context data to the supplicant UI process.</span></span>
    > [!Note]  
    > <span data-ttu-id="fc508-129">Il processo dell'interfaccia utente, che in genere raccoglie l'interfaccia utente o gestisce l'interfaccia utente interattiva, è separato dal processo di supplicant.</span><span class="sxs-lookup"><span data-stu-id="fc508-129">The UI process, which typically collects UI or handles interactive UI, is separate from the supplicant process.</span></span> <span data-ttu-id="fc508-130">La separazione dei due processi non è un requisito di EAPHost, ma questa operazione ha il vantaggio di consentire al processo dell'interfaccia utente di interagire con il desktop.</span><span class="sxs-lookup"><span data-stu-id="fc508-130">Separating the two processes is not a requirement of EAPHost, but doing so has the advantage of allowing the UI process to interact with the desktop.</span></span>

     

3.  <span data-ttu-id="fc508-131">Se il supplicante desidera eseguire il rendering dell'interfaccia utente da solo, chiama la funzione [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) per ottenere i campi di input per i componenti dell'interfaccia utente interattivi da generare.</span><span class="sxs-lookup"><span data-stu-id="fc508-131">If the supplicant wants to render the UI by itself then it calls the [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) function to obtain the input fields for interactive UI components to be raised.</span></span> <span data-ttu-id="fc508-132">In caso contrario, segue il modello tradizionale di richiamo dell'interfaccia utente interattiva del metodo chiamando [ **EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)</span><span class="sxs-lookup"><span data-stu-id="fc508-132">Otherwise, it follows the traditional model of invoking method interactive UI by calling [**EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)</span></span>
    > [!Note]  
    > <span data-ttu-id="fc508-133">Se viene restituito l' [**operazione del \_ metodo EAP E \_ EAPHOST \_ \_ \_ \_**](eap-related-error-and-information-constants.md) , il richiedente deve seguire il modello tradizionale di richiamo dell'interfaccia utente interattiva del metodo chiamando [**EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui).</span><span class="sxs-lookup"><span data-stu-id="fc508-133">If [**EAP\_E\_EAPHOST\_METHOD\_OPERATION\_NOT\_SUPPORTED**](eap-related-error-and-information-constants.md) is returned, the supplicant must follow the traditional model of invoking method interactive UI by calling [**EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui).</span></span> <span data-ttu-id="fc508-134">Se si verifica un errore, [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) restituirà un codice restituito diverso da **null**.</span><span class="sxs-lookup"><span data-stu-id="fc508-134">If there is an error, [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) will return a return code other than **NULL**.</span></span>

     

4.  <span data-ttu-id="fc508-135">Indica se il richiedente chiama [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) o [**EaphostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui) il processo dell'interfaccia utente passa i dati di contesto esistenti e carica Eappcfg.dll.</span><span class="sxs-lookup"><span data-stu-id="fc508-135">Whether the supplicant calls [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) or [**EaphostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui) the UI process passes the existing context data and loads Eappcfg.dll.</span></span> <span data-ttu-id="fc508-136">Viene generata un'interfaccia utente appropriata per raccogliere i nuovi dati.</span><span class="sxs-lookup"><span data-stu-id="fc508-136">Appropriate UI is raised to collect the new data.</span></span> <span data-ttu-id="fc508-137">I nuovi dati del contesto dell'interfaccia utente, che possono ora contenere l'input dell'utente, vengono copiati e i dati di contesto obsoleti vengono rilasciati con una chiamata a [**EapPeerFreeMemory**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerfreememory).</span><span class="sxs-lookup"><span data-stu-id="fc508-137">The new UI context data, which may now contain user input, is copied, and the old context data is released with a call to [**EapPeerFreeMemory**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerfreememory).</span></span>
5.  <span data-ttu-id="fc508-138">Il processo dell'interfaccia utente restituisce i nuovi dati di contesto al supplicant, che chiama [**EapHostPeerSetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetuicontext) per impostarlo.</span><span class="sxs-lookup"><span data-stu-id="fc508-138">The UI process returns the new context data to the supplicant, which calls [**EapHostPeerSetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetuicontext) to set it.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fc508-139">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="fc508-139">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fc508-140">Sequenza di chiamate API del metodo peer</span><span class="sxs-lookup"><span data-stu-id="fc508-140">Peer Method API Call Sequence</span></span>](peer-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="fc508-141">Sequenza di chiamate API del metodo Authenticator</span><span class="sxs-lookup"><span data-stu-id="fc508-141">Authenticator Method API Call Sequence</span></span>](authenticator-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="fc508-142">Sequenza di chiamate EAPHost</span><span class="sxs-lookup"><span data-stu-id="fc508-142">EAPHost Call Sequence</span></span>](about-eaphost-call-sequences.md)
</dt> <dt>

[<span data-ttu-id="fc508-143">Supplicant EAPHost</span><span class="sxs-lookup"><span data-stu-id="fc508-143">EAPHost Supplicants</span></span>](eaphost-supplicants.md)
</dt> </dl>

 

 




