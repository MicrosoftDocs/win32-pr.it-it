---
description: Questo argomento fornisce indicazioni per gli sviluppatori su come ottimizzare le prestazioni e l'efficienza nello stack di presentazione nelle versioni moderne di Windows.
ms.assetid: B6B92F4F-B1D0-40B9-987D-F0C0F2CC7AD1
title: Per ottenere prestazioni ottimali, usare DXGI flip model
ms.topic: article
ms.date: 05/31/2018
ms.custom: RS5
ms.openlocfilehash: 2a1e671c03f468fd62b0b5bad0f008f84e62ca3c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "106303914"
---
# <a name="for-best-performance-use-dxgi-flip-model"></a><span data-ttu-id="7006b-103">Per ottenere prestazioni ottimali, usare DXGI flip model</span><span class="sxs-lookup"><span data-stu-id="7006b-103">For best performance, use DXGI flip model</span></span>

<span data-ttu-id="7006b-104">Questo argomento fornisce indicazioni per gli sviluppatori su come ottimizzare le prestazioni e l'efficienza nello stack di presentazione nelle versioni moderne di Windows.</span><span class="sxs-lookup"><span data-stu-id="7006b-104">This topic provides developer guidance on how to maximize performance and efficiency in the presentation stack on modern versions of Windows.</span></span> <span data-ttu-id="7006b-105">Viene rilevata la posizione in cui [DXGI flip model](dxgi-flip-model.md), [DirectX 12: Presentation Modes in Windows 10 (video)](https://www.youtube.com/watch?v=E3wTajGZOsA)e i [miglioramenti della presentazione in Windows 10: un primo aspetto (video)](https://www.youtube.com/watch?v=nUZVV_mssWQ) interrotto.</span><span class="sxs-lookup"><span data-stu-id="7006b-105">It picks up where [DXGI flip model](dxgi-flip-model.md), [DirectX 12: Presentation Modes In Windows 10 (video)](https://www.youtube.com/watch?v=E3wTajGZOsA), and [Presentation Enhancements in Windows 10: An Early Look (video)](https://www.youtube.com/watch?v=nUZVV_mssWQ) left off.</span></span>

## <a name="call-to-action"></a><span data-ttu-id="7006b-106">Invito all'azione</span><span class="sxs-lookup"><span data-stu-id="7006b-106">Call to action</span></span>

<span data-ttu-id="7006b-107">Se si sta ancora usando **DXGI \_ swap \_ Effect \_ scarto** o **DXGI \_ swap \_ Effect \_ sequenziale** (noto anche come</span><span class="sxs-lookup"><span data-stu-id="7006b-107">If you are still using **DXGI\_SWAP\_EFFECT\_DISCARD** or **DXGI\_SWAP\_EFFECT\_SEQUENTIAL** (a.k.a.</span></span> <span data-ttu-id="7006b-108">il modello present "BLT"), è giunto il momento di arrestarsi.</span><span class="sxs-lookup"><span data-stu-id="7006b-108">the "blt" present model), it's time to stop!</span></span>

<span data-ttu-id="7006b-109">Passare a **DXGI \_ swap \_ Effect \_ Flip \_ sequenziale** o **DXGI \_ swap \_ Effect \_ Flip \_ ignorate** (noto anche come</span><span class="sxs-lookup"><span data-stu-id="7006b-109">Switching to **DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL** or **DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD** (a.k.a.</span></span> <span data-ttu-id="7006b-110">il modello Flip) offrirà prestazioni migliori, una riduzione dell'utilizzo di energia e un set più completo di funzionalità.</span><span class="sxs-lookup"><span data-stu-id="7006b-110">the flip model) will give better performance, lower power usage, and provide a richer set of features.</span></span> <span data-ttu-id="7006b-111">Per ulteriori informazioni su questi valori, vedere [ \_ enumerazione DXGI swap \_ Effect](/windows/desktop/api/DXGI/ne-dxgi-dxgi_swap_effect) .</span><span class="sxs-lookup"><span data-stu-id="7006b-111">(See [DXGI\_SWAP\_EFFECT enumeration](/windows/desktop/api/DXGI/ne-dxgi-dxgi_swap_effect) for more information about these values.)</span></span>

<span data-ttu-id="7006b-112">Flip model Presents Go per quanto riguarda la modalità finestra in modo efficace equivalente o migliore rispetto alla modalità classica "esclusiva a schermo intero".</span><span class="sxs-lookup"><span data-stu-id="7006b-112">Flip model presents go as far as making windowed mode effectively equivalent or better when compared to the classic "fullscreen exclusive" mode.</span></span> <span data-ttu-id="7006b-113">In realtà, può essere utile riconsiderare se l'applicazione necessita effettivamente di una modalità esclusiva a schermo intero, perché i vantaggi di una finestra senza bordi del modello sono più veloci Alt-Tab il cambio e una migliore integrazione con le funzionalità di visualizzazione moderne.</span><span class="sxs-lookup"><span data-stu-id="7006b-113">In fact, you may want to reconsider whether your application actually needs a fullscreen exclusive mode, since the benefits of a flip model borderless window include faster Alt-Tab switching and better integration with modern display features.</span></span>

<span data-ttu-id="7006b-114">Perché ora?</span><span class="sxs-lookup"><span data-stu-id="7006b-114">Why now?</span></span> <span data-ttu-id="7006b-115">Prima dell'aggiornamento del 2018 aprile, il modello BLT presentava un effetto di strappo visibile se usato nelle configurazioni GPU ibride, spesso disponibile nei portatili di fascia alta (vedere [KB 3158621](https://support.microsoft.com/help/3158621/hybrid-graphics-and-vsync-results-in-graphic-tearing-in-some-games-and)).</span><span class="sxs-lookup"><span data-stu-id="7006b-115">Prior to the April 2018 Update, blt model presents could result in visible tearing when used on hybrid GPU configurations, often found in high-end laptops (see [KB 3158621](https://support.microsoft.com/help/3158621/hybrid-graphics-and-vsync-results-in-graphic-tearing-in-some-games-and)).</span></span> <span data-ttu-id="7006b-116">Nell'aggiornamento di aprile 2018, questo strappo è stato risolto, a scapito di alcune operazioni aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="7006b-116">In the April 2018 Update, this tearing has been fixed, at the cost of some additional work.</span></span> <span data-ttu-id="7006b-117">Se si esegue BLT presenta un framerate elevato tra GPU ibride, soprattutto a risoluzioni elevate, ad esempio 4K, questo lavoro aggiuntivo può influire sulle prestazioni complessive.</span><span class="sxs-lookup"><span data-stu-id="7006b-117">If you are doing blt presents at high framerates across hybrid GPUs, especially at high resolutions such as 4K, this additional work may affect overall performance.</span></span> <span data-ttu-id="7006b-118">Per garantire prestazioni ottimali in questi sistemi, passare dal BLT al modello Flip present.</span><span class="sxs-lookup"><span data-stu-id="7006b-118">To maintain best performance on these systems, switch from the blt to the flip present model.</span></span> <span data-ttu-id="7006b-119">Inoltre, è consigliabile ridurre la risoluzione dei presentazione catena, soprattutto se non è il punto principale di interazione dell'utente (come spesso accade con le finestre di anteprima di VR).</span><span class="sxs-lookup"><span data-stu-id="7006b-119">Additionally, consider reducing the resolution of your swapchain, especially if it isn’t the primary point of user interaction (as is often the case with VR preview windows).</span></span>

## <a name="a-brief-history"></a><span data-ttu-id="7006b-120">Una breve cronologia</span><span class="sxs-lookup"><span data-stu-id="7006b-120">A brief history</span></span>

<span data-ttu-id="7006b-121">Che cos'è il modello Flip?</span><span class="sxs-lookup"><span data-stu-id="7006b-121">What is the flip model?</span></span> <span data-ttu-id="7006b-122">Qual è l'alternativa?</span><span class="sxs-lookup"><span data-stu-id="7006b-122">What is the alternative?</span></span>

<span data-ttu-id="7006b-123">Prima di Windows 7, l'unico modo per presentare il contenuto da D3D era "BLT" o copiarlo in una superficie di proprietà della finestra o dello schermo.</span><span class="sxs-lookup"><span data-stu-id="7006b-123">Prior to Windows 7, the only way to present content from D3D was to "blt" or copy it into a surface which was owned by the window or screen.</span></span> <span data-ttu-id="7006b-124">A partire dall'effetto di swap FLIPEX di D3D9's e passando a DXGI tramite l' \_ effetto di scambio sequenziale Flip in Windows 8, abbiamo sviluppato un modo più efficiente per inserire il contenuto sullo schermo condividendo il contenuto direttamente con il compositor desktop, con copie minime.</span><span class="sxs-lookup"><span data-stu-id="7006b-124">Beginning with D3D9’s FLIPEX swap effect, and coming to DXGI through the FLIP\_SEQUENTIAL swap effect in Windows 8, we’ve developed a more efficient way to put content on screen by sharing it directly with the desktop compositor, with minimal copies.</span></span> <span data-ttu-id="7006b-125">Vedere [DXGI flip model](dxgi-flip-model.md) per una panoramica di alto livello della tecnologia.</span><span class="sxs-lookup"><span data-stu-id="7006b-125">See [DXGI flip model](dxgi-flip-model.md) for a high level overview of the technology.</span></span>

<span data-ttu-id="7006b-126">Questa ottimizzazione è possibile grazie a DWM (Gestione finestre desktop), ovvero il compositor che guida il desktop di Windows.</span><span class="sxs-lookup"><span data-stu-id="7006b-126">This optimization is possible thanks to the DWM (Desktop Window Manager), which is the compositor that drives the Windows desktop.</span></span>

## <a name="when-should-i-use-the-blt-model"></a><span data-ttu-id="7006b-127">Quando è consigliabile utilizzare il modello BLT?</span><span class="sxs-lookup"><span data-stu-id="7006b-127">When should I use the blt model?</span></span>

<span data-ttu-id="7006b-128">Esiste una delle funzionalità che il modello Flip non fornisce: la possibilità di avere più API che producono contenuto, che tutti i livelli nello stesso **HWND**, su base attuale.</span><span class="sxs-lookup"><span data-stu-id="7006b-128">There is one piece of functionality that the flip model does not provide: the ability to have multiple different APIs producing content, which all layer together into the same **HWND**, on a present-by-present basis.</span></span> <span data-ttu-id="7006b-129">Un esempio di questo approccio consiste nell'usare D3D per creare uno sfondo della finestra, quindi [Windows GDI](/windows/desktop/gdi/windows-gdi) per creare un elemento in primo piano o per usare due API grafiche diverse o due le catene dalla stessa API, per produrre frame alternativi.</span><span class="sxs-lookup"><span data-stu-id="7006b-129">An example of this would be using D3D to draw a window background, and then [Windows GDI](/windows/desktop/gdi/windows-gdi) to draw something on top, or using two different graphics APIs, or two swapchains from the same API, to produce alternating frames.</span></span> <span data-ttu-id="7006b-130">Se non è necessaria l'interoperabilità a livello di **HWND** tra i componenti grafici, non è necessario il modello BLT.</span><span class="sxs-lookup"><span data-stu-id="7006b-130">If you don’t require **HWND**-level interop between graphics components, then you don’t need blt model.</span></span>

<span data-ttu-id="7006b-131">Esiste una seconda funzionalità che non è stata fornita nella progettazione del modello Flip originale, ma è ora disponibile, che è la possibilità di presentare un framerate non limitato.</span><span class="sxs-lookup"><span data-stu-id="7006b-131">There is a second piece of functionality that was not provided in the original flip model design, but is available now, which is the ability to present at an unthrottled framerate.</span></span> <span data-ttu-id="7006b-132">Per un'applicazione che usa l'intervallo di sincronizzazione 0, non è consigliabile passare a capovolgere il modello a meno che non sia disponibile l'API [IDXGIFactory5:: CheckFeatureSupport](/windows/desktop/api/DXGI1_5/nf-dxgi1_5-idxgifactory5-checkfeaturesupport) e il supporto dei report per la **\_ funzionalità DXGI \_ \_ consenta lo \_ strappo**.</span><span class="sxs-lookup"><span data-stu-id="7006b-132">For an application using sync interval 0, we do not recommend switching to flip model unless the [IDXGIFactory5::CheckFeatureSupport](/windows/desktop/api/DXGI1_5/nf-dxgi1_5-idxgifactory5-checkfeaturesupport) API is available, and reports support for **DXGI\_FEATURE\_PRESENT\_ALLOW\_TEARING**.</span></span> <span data-ttu-id="7006b-133">Questa funzionalità è quasi onnipresente nelle versioni recenti di Windows 10 e nell'hardware moderno.</span><span class="sxs-lookup"><span data-stu-id="7006b-133">This feature is nearly ubiquitous on recent versions of Windows 10 and on modern hardware.</span></span>

## <a name="directflip"></a><span data-ttu-id="7006b-134">DirectFlip</span><span class="sxs-lookup"><span data-stu-id="7006b-134">DirectFlip</span></span>

<span data-ttu-id="7006b-135">Se sono state osservate le [modalità di presentazione di DirectX 12 in Windows 10](https://www.youtube.com/watch?v=E3wTajGZOsA), verrà visualizzato il discorso "Direct Flip" e "Independent Flip".</span><span class="sxs-lookup"><span data-stu-id="7006b-135">If you’ve watched [DirectX 12: Presentation Modes In Windows 10](https://www.youtube.com/watch?v=E3wTajGZOsA), you’ll see talk about "Direct Flip" and "Independent Flip."</span></span> <span data-ttu-id="7006b-136">Si tratta di ottimizzazioni abilitate per le applicazioni che usano il modello Flip le catene.</span><span class="sxs-lookup"><span data-stu-id="7006b-136">These are optimizations that are enabled for applications using flip model swapchains.</span></span> <span data-ttu-id="7006b-137">A seconda della configurazione della finestra e del buffer, è possibile ignorare completamente la composizione del desktop e inviare direttamente i frame dell'applicazione allo schermo, nello stesso modo in cui viene utilizzato lo schermo a schermo intero esclusivo.</span><span class="sxs-lookup"><span data-stu-id="7006b-137">Depending on window and buffer configuration, it is possible to bypass desktop composition entirely and directly send application frames to the screen, in the same way that exclusive fullscreen does.</span></span>

<span data-ttu-id="7006b-138">Questi giorni, queste ottimizzazioni possono impegnarsi in uno dei tre scenari, per aumentare le funzionalità:</span><span class="sxs-lookup"><span data-stu-id="7006b-138">These days, these optimizations can engage in one of 3 scenarios, in order of increasing functionality:</span></span>

1.  <span data-ttu-id="7006b-139">**DirectFlip**: i buffer presentazione catena corrispondono alle dimensioni dello schermo e l'area client della finestra copre la schermata.</span><span class="sxs-lookup"><span data-stu-id="7006b-139">**DirectFlip**: Your swapchain buffers match the screen dimensions, and your window client region covers the screen.</span></span> <span data-ttu-id="7006b-140">Anziché utilizzare DWM presentazione catena per visualizzare sullo schermo, viene utilizzata l'applicazione presentazione catena.</span><span class="sxs-lookup"><span data-stu-id="7006b-140">Instead of using the DWM swapchain to display on the screen, the application swapchain is used.</span></span>
2.  <span data-ttu-id="7006b-141">**DirectFlip con** gli adattatori del pannello: l'area client della finestra copre lo schermo e i buffer presentazione catena rientrano in un fattore di scala dipendente dall'hardware (ad esempio, 0,25 x a 4x) dello schermo.</span><span class="sxs-lookup"><span data-stu-id="7006b-141">**DirectFlip with panel fitters**: Your window client region covers the screen, and your swapchain buffers are within some hardware-dependent scaling factor (for example, 0.25x to 4x) of the screen.</span></span> <span data-ttu-id="7006b-142">L'hardware di analisi GPU viene usato per ridimensionare il buffer mentre lo si invia alla visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="7006b-142">The GPU scanout hardware is used to scale your buffer while sending it to the display.</span></span>
3.  <span data-ttu-id="7006b-143">**DirectFlip con sovrapposizione multipiano (MPO)**: i buffer presentazione catena sono all'interno di un fattore di scala dipendente dall'hardware delle dimensioni della finestra.</span><span class="sxs-lookup"><span data-stu-id="7006b-143">**DirectFlip with multi-plane overlay (MPO)**: Your swapchain buffers are within some hardware-dependent scaling factor of your window dimensions.</span></span> <span data-ttu-id="7006b-144">DWM è in grado di riservare un piano dedicato di analisi dell'hardware per l'applicazione, che viene quindi sottoposta a scansione e potenzialmente allungata a un'area secondaria con Alpha Blend dello schermo.</span><span class="sxs-lookup"><span data-stu-id="7006b-144">The DWM is able to reserve a dedicated hardware scanout plane for your application, which is then scanned out and potentially stretched to an alpha-blended sub-region of the screen.</span></span>

<span data-ttu-id="7006b-145">Con il modello Flip a finestra, l'applicazione può eseguire query sul supporto hardware per diversi scenari DirectFlip e implementare tipi diversi di scalabilità dinamica tramite l'uso di [IDXGIOutput6:: CheckHardwareCompositionSupport](/windows/desktop/api/DXGI1_6/nf-dxgi1_6-idxgioutput6-checkhardwarecompositionsupport).</span><span class="sxs-lookup"><span data-stu-id="7006b-145">With the windowed flip model, the application can query hardware support for different DirectFlip scenarios and implement different types of dynamic scaling via the use of [IDXGIOutput6::CheckHardwareCompositionSupport](/windows/desktop/api/DXGI1_6/nf-dxgi1_6-idxgioutput6-checkhardwarecompositionsupport).</span></span> <span data-ttu-id="7006b-146">Un avvertimento da tenere presente è che se gli installatori di pannelli vengono utilizzati, è possibile che il cursore soffra degli effetti collaterali, che è indicato tramite il **cursore del \_ flag di supporto della composizione hardware DXGI \_ \_ \_ \_ \_ esteso**.</span><span class="sxs-lookup"><span data-stu-id="7006b-146">One caveat to keep in mind is that if panel fitters are utilized, it’s possible for the cursor to suffer stretching side effects, which is indicated via **DXGI\_HARDWARE\_COMPOSITION\_SUPPORT\_FLAG\_CURSOR\_STRETCHED**.</span></span>

<span data-ttu-id="7006b-147">Una volta che il presentazione catena è stato "DirectFlipped", lo strumento DWM può passare alla modalità di sospensione e riattivarsi solo quando vengono apportate modifiche all'esterno dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="7006b-147">Once your swapchain has been "DirectFlipped," then the DWM can go to sleep, and only wake up when something changes outside of your application.</span></span> <span data-ttu-id="7006b-148">I frame dell'applicazione vengono inviati direttamente allo schermo, in modo indipendente, con la stessa efficienza dell'esclusiva a schermo intero.</span><span class="sxs-lookup"><span data-stu-id="7006b-148">Your application frames are sent directly to the screen, independently, with the same efficiency as fullscreen exclusive.</span></span> <span data-ttu-id="7006b-149">Si tratta di un "Flip indipendente" e può interagire con tutti gli scenari descritti in precedenza.</span><span class="sxs-lookup"><span data-stu-id="7006b-149">This is "Independent Flip," and can engage in all of the above scenarios.</span></span> <span data-ttu-id="7006b-150">Se sono disponibili altri contenuti desktop, DWM può eseguire facilmente la transizione alla modalità composta, "invertire la composizione" del contenuto sopra l'applicazione prima di ingrandirla o utilizzare MPO per gestire la modalità Flip indipendente.</span><span class="sxs-lookup"><span data-stu-id="7006b-150">If other desktop contents come on top, the DWM can either seamlessly transition back to composed mode, efficiently "reverse compose" the contents on top of the application before flipping it, or leverage MPO to maintain the independent flip mode.</span></span>

<span data-ttu-id="7006b-151">Vedere lo strumento [PresentMon](https://github.com/GameTechDev/PresentMon) per ottenere informazioni dettagliate su come è stato usato.</span><span class="sxs-lookup"><span data-stu-id="7006b-151">Check out the [PresentMon](https://github.com/GameTechDev/PresentMon) tool to get insight into which of the above was used.</span></span>

## <a name="what-else-is-new-in-the-flip-model"></a><span data-ttu-id="7006b-152">Quali sono le altre novità del modello Flip?</span><span class="sxs-lookup"><span data-stu-id="7006b-152">What else is new in the flip model?</span></span>

<span data-ttu-id="7006b-153">Oltre ai miglioramenti descritti in precedenza, che si applicano a le catene standard senza alcuna operazione speciale, sono disponibili diverse funzionalità per l'uso delle applicazioni flip model:</span><span class="sxs-lookup"><span data-stu-id="7006b-153">In addition to the above improvements, which apply to standard swapchains without anything special, there are several features available for flip model applications to use:</span></span>

-   <span data-ttu-id="7006b-154">Riduzione della latenza utilizzando l' **\_ \_ \_ \_ \_ \_ \_ oggetto waitable frame flag della catena di scambio DXGI**.</span><span class="sxs-lookup"><span data-stu-id="7006b-154">Decreasing latency using **DXGI\_SWAP\_CHAIN\_FLAG\_FRAME\_LATENCY\_WAITABLE\_OBJECT**.</span></span> <span data-ttu-id="7006b-155">In modalità Flip indipendente, è possibile arrivare fino a 1 frame di latenza nelle versioni recenti di Windows, con il fallback normale al minimo possibile quando composto.</span><span class="sxs-lookup"><span data-stu-id="7006b-155">When in Independent Flip mode, you can get down to 1 frame of latency on recent versions of Windows, with graceful fallback to the minimum possible when composed.</span></span>
    -   <span data-ttu-id="7006b-156">Avvertenza: si è verificato un problema che ha fornito almeno due fotogrammi di latenza nell'aggiornamento dell'anniversario di Windows 10 e versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="7006b-156">Caveat: there was an issue that gave a minimum of two frames of latency in the Windows 10 Anniversary Update and earlier.</span></span> <span data-ttu-id="7006b-157">Per ulteriori informazioni, vedere [questo argomento del forum](https://www.gamedev.net/forums/topic/686507-windows-10-dx12-low-latency-tearing-free-rendering/) .</span><span class="sxs-lookup"><span data-stu-id="7006b-157">See [this forum topic](https://www.gamedev.net/forums/topic/686507-windows-10-dx12-low-latency-tearing-free-rendering/) for more information.</span></span> <span data-ttu-id="7006b-158">Questo problema è stato risolto nell'aggiornamento del creatore della ricadenza.</span><span class="sxs-lookup"><span data-stu-id="7006b-158">This is fixed in the Fall Creator’s Update.</span></span>
-   <span data-ttu-id="7006b-159">**DXGI \_ SWAP \_ Effect \_ Flip \_ Ignora** consente la modalità "composizione inversa" del flip diretto, il che comporta un minor lavoro complessivo per la visualizzazione del desktop.</span><span class="sxs-lookup"><span data-stu-id="7006b-159">**DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD** enables a "reverse composition" mode of direct flip, which results in less overall work to display the desktop.</span></span> <span data-ttu-id="7006b-160">DWM può scarabocchiare sui buffer dell'applicazione e inviarli allo schermo, anziché eseguire una copia completa nella propria le catene.</span><span class="sxs-lookup"><span data-stu-id="7006b-160">The DWM can scribble on the application buffers and send those to the screen, instead of performing a full copy into their own swapchains.</span></span>
-   <span data-ttu-id="7006b-161">**DXGI \_ Il \_ flag chain di scambio \_ \_ consente lo \_ strappo** può consentire una latenza ancora inferiore rispetto all'oggetto waitable, anche in una finestra nei sistemi con supporto di sovrimpressione a più livelli.</span><span class="sxs-lookup"><span data-stu-id="7006b-161">**DXGI\_SWAP\_CHAIN\_FLAG\_ALLOW\_TEARING** can enable even lower latency than the waitable object, even in a window on systems with multi-plane overlay support.</span></span>
-   <span data-ttu-id="7006b-162">Le applicazioni hanno il controllo sulla scalabilità del contenuto che si verifica durante il ridimensionamento della finestra, usando la proprietà [DXGI \_ scaling](/windows/desktop/api/DXGI1_2/ne-dxgi1_2-dxgi_scaling) impostata durante la creazione del presentazione catena</span><span class="sxs-lookup"><span data-stu-id="7006b-162">Applications have control over content scaling that happens during window resize, using the [DXGI\_SCALING](/windows/desktop/api/DXGI1_2/ne-dxgi1_2-dxgi_scaling) property set during swapchain creation.</span></span>
-   <span data-ttu-id="7006b-163">Il contenuto in formati HDR (R10G10B10A2 \_ UNORM o R16G16B16A16 \_ float) non viene bloccato a meno che non sia composto da un desktop SDR.</span><span class="sxs-lookup"><span data-stu-id="7006b-163">Content in HDR formats (R10G10B10A2\_UNORM or R16G16B16A16\_FLOAT) isn’t clamped unless it’s composed to an SDR desktop.</span></span>
-   <span data-ttu-id="7006b-164">Le statistiche presenti sono disponibili in modalità finestra.</span><span class="sxs-lookup"><span data-stu-id="7006b-164">Present statistics are available in windowed mode.</span></span>
-   <span data-ttu-id="7006b-165">Esiste una maggiore compatibilità con il modello di applicazione UWP (piattaforma UWP (Universal Windows Platform)) e DX12, poiché sono compatibili solo con il modello flip.</span><span class="sxs-lookup"><span data-stu-id="7006b-165">There is greater compatibility with the UWP (Universal Windows Platform) application model and DX12 since these are only compatible with the flip model.</span></span>

## <a name="what-do-i-have-to-do-to-use-the-flip-model"></a><span data-ttu-id="7006b-166">Cosa devo fare per usare il modello Flip?</span><span class="sxs-lookup"><span data-stu-id="7006b-166">What do I have to do to use the flip model?</span></span>

<span data-ttu-id="7006b-167">Capovolgere il modello le catene presenta alcuni requisiti aggiuntivi oltre al le catene BLT:</span><span class="sxs-lookup"><span data-stu-id="7006b-167">Flip model swapchains have a few additional requirements on top of blt swapchains:</span></span>

1.  <span data-ttu-id="7006b-168">Il numero di buffer deve essere almeno 2.</span><span class="sxs-lookup"><span data-stu-id="7006b-168">The buffer count must be at least 2.</span></span>
2.  <span data-ttu-id="7006b-169">Dopo [le](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-present) chiamate a, il buffer nascosto deve essere riassociato in modo esplicito al contesto immediato d3d11 prima di poterlo usare nuovamente.</span><span class="sxs-lookup"><span data-stu-id="7006b-169">After [Present](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-present) calls, the back buffer needs to explicitly be re-bound to the D3D11 immediate context before it can be used again.</span></span>
3.  <span data-ttu-id="7006b-170">Dopo la chiamata a [SetFullscreenState](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate), l'applicazione deve chiamare [ResizeBuffers](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) prima di essere **presente**.</span><span class="sxs-lookup"><span data-stu-id="7006b-170">After calling [SetFullscreenState](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate), the application must call [ResizeBuffers](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) before **Present**.</span></span>
4.  <span data-ttu-id="7006b-171">MSAA (anti-aliasing di multicampionamento) le catene non sono supportati direttamente nel modello Flip, quindi l'applicazione deve eseguire una risoluzione MSAA prima di emettere il **presente**.</span><span class="sxs-lookup"><span data-stu-id="7006b-171">MSAA (multisample anti-aliasing) swapchains are not directly supported in the flip model, so the application will need to do an MSAA resolve before issuing the **Present**.</span></span>

## <a name="how-to-choose-the-right-rendering-and-presentation-resolutions"></a><span data-ttu-id="7006b-172">Come scegliere le risoluzioni per il rendering e la presentazione corrette</span><span class="sxs-lookup"><span data-stu-id="7006b-172">How to choose the right rendering and presentation resolutions</span></span>

<span data-ttu-id="7006b-173">Il modello tradizionale per le applicazioni in passato è stato quello di fornire all'utente un elenco di risoluzioni da scegliere quando l'utente seleziona la modalità a schermo intero esclusivo.</span><span class="sxs-lookup"><span data-stu-id="7006b-173">The traditional pattern for applications in the past has been to provide the user with a list of resolutions to choose from when the user selects exclusive fullscreen mode.</span></span> <span data-ttu-id="7006b-174">Con la possibilità di visualizzare i moderni per iniziare a ridimensionare facilmente il contenuto, è consigliabile fornire agli utenti la possibilità di scegliere una risoluzione per il rendering per il ridimensionamento delle prestazioni, indipendente dalla risoluzione dell'output e persino in modalità finestra.</span><span class="sxs-lookup"><span data-stu-id="7006b-174">With the ability of modern displays to seamlessly begin scaling content, consider providing users with the ability to choose a rendering resolution for performance scaling, independent from an output resolution, and even in windowed mode.</span></span> <span data-ttu-id="7006b-175">Inoltre, le applicazioni devono utilizzare **IDXGIOutput6:: CheckHardwareCompositionSupport** per determinare se è necessario ridimensionare il contenuto prima di presentarlo o se devono consentire all'hardware di eseguire il ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="7006b-175">Furthermore, applications should leverage **IDXGIOutput6::CheckHardwareCompositionSupport** to determine if they need to scale the content before presenting it, or if they should let the hardware do the scaling for them.</span></span>

<span data-ttu-id="7006b-176">Potrebbe essere necessario eseguire la migrazione del contenuto da una GPU a un'altra come parte dell'operazione presente o di composizione.</span><span class="sxs-lookup"><span data-stu-id="7006b-176">Your content may need to be migrated from one GPU to another as part of the present or composition operation.</span></span> <span data-ttu-id="7006b-177">Questo problema si verifica spesso nei computer portatili con più GPU oppure nei sistemi con GPU esterne collegate.</span><span class="sxs-lookup"><span data-stu-id="7006b-177">This is often true on multi-GPU laptops, or systems with external GPUs plugged in.</span></span> <span data-ttu-id="7006b-178">Man mano che queste configurazioni diventano più comuni e, poiché i display ad alta risoluzione diventano più comuni, aumenta il costo della presentazione di un presentazione catena di risoluzione completa.</span><span class="sxs-lookup"><span data-stu-id="7006b-178">As these configurations get more common, and as high-resolution displays become more common, the cost of presenting a full resolution swapchain increases.</span></span> <span data-ttu-id="7006b-179">Se la destinazione del presentazione catena non è il punto principale di interazione dell'utente, come spesso accade con i titoli VR che presentano un'anteprima 2D della scena VR in una finestra secondaria, provare a usare un presentazione catena di risoluzione inferiore per ridurre al minimo la quantità di larghezza di banda che deve essere trasferita tra GPU diverse.</span><span class="sxs-lookup"><span data-stu-id="7006b-179">If the target of your swapchain isn’t the primary point of user interaction, as is often the case with VR titles that present a 2D preview of the VR scene into a secondary window, consider using a lower resolution swapchain to minimize the amount of bandwidth that needs to be transferred across different GPUs.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="7006b-180">Altre considerazioni</span><span class="sxs-lookup"><span data-stu-id="7006b-180">Other considerations</span></span>

<span data-ttu-id="7006b-181">La prima volta che si chiede alla GPU di scrivere nel buffer nascosto presentazione catena è il momento in cui la GPU resterà in attesa che il buffer diventi disponibile.</span><span class="sxs-lookup"><span data-stu-id="7006b-181">The first time you ask the GPU to write to the swapchain back buffer is the time that the GPU will stall waiting for the buffer to become available.</span></span> <span data-ttu-id="7006b-182">Quando possibile, ritardare questo punto fino al frame possibile.</span><span class="sxs-lookup"><span data-stu-id="7006b-182">When possible, delay this point as far into the frame as possible.</span></span>

 

 
