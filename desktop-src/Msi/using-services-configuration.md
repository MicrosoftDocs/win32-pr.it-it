---
description: La configurazione dei servizi consente all'Windows Installer di personalizzare i servizi in un computer.
ms.assetid: 164280b2-1c75-49d2-ac04-c3654be84134
title: Uso della configurazione dei servizi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2f6e3040d51b1056a370490fc5328a6bafe07555
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104484188"
---
# <a name="using-services-configuration"></a><span data-ttu-id="b3fc9-103">Uso della configurazione dei servizi</span><span class="sxs-lookup"><span data-stu-id="b3fc9-103">Using Services Configuration</span></span>

<span data-ttu-id="b3fc9-104">La configurazione dei servizi consente all'Windows Installer di personalizzare i [Servizi](../services/services.md) in un computer.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-104">Services configuration enables the Windows Installer to customize the [services](../services/services.md) on a computer.</span></span> <span data-ttu-id="b3fc9-105">Gli sviluppatori possono creare un pacchetto di Windows Installer per installare, arrestare, avviare ed eliminare servizi durante un'installazione tramite le tabelle [ServiceControl](servicecontrol-table.md) e [ServiceInstall](serviceinstall-table.md) e le azioni [InstallServices](installservices-action.md), [StopServices](stopservices-action.md) e [DeleteServices](deleteservices-action.md) .</span><span class="sxs-lookup"><span data-stu-id="b3fc9-105">Developers can author a Windows Installer package to install, stop, start and delete services during an installation by using the [ServiceControl](servicecontrol-table.md) and [ServiceInstall](serviceinstall-table.md) tables and the [InstallServices](installservices-action.md), [StopServices](stopservices-action.md) and [DeleteServices](deleteservices-action.md) actions.</span></span>

<span data-ttu-id="b3fc9-106">A partire dai pacchetti scritti per Windows Installer 5,0, gli sviluppatori possono anche usare l'azione standard [MsiConfigureServices](msiconfigureservices-action.md) e la [tabella MsiServiceConfig](msiserviceconfig-table.md) per configurare le opzioni di personalizzazione del servizio estese disponibili con Windows 7 e Windows Server 2008 R2 e Windows Vista e Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-106">Beginning with packages written for Windows Installer 5.0, developers can also use the [MsiConfigureServices](msiconfigureservices-action.md) standard action and the [MsiServiceConfig table](msiserviceconfig-table.md) to configure the extended service customization options available with Windows 7 and Windows Server 2008 R2 and Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="b3fc9-107">I pacchetti di installazione esistenti scritti per le versioni del Windows Installer che non includevano la tabella MsiServiceConfig possono essere ancora installati con Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-107">Existing installation packages written for versions of the Windows Installer that did not include the MsiServiceConfig table can be still be installed using Windows Installer 5.0.</span></span> <span data-ttu-id="b3fc9-108">La funzionalità di configurazione dei servizi del Windows Installer non è in grado di configurare gli account del servizio di rete, installare i processi dell'host del servizio condiviso (SVCHOST) o riavviare i servizi arrestati come parte dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-108">The services configuration feature of the Windows Installer cannot configure network service accounts, install shared service host (svchost) processes, or restart services stopped as part of the installation.</span></span>

<span data-ttu-id="b3fc9-109">**Windows XP e Windows Server 2003 o versioni precedenti:** Non supportato.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-109">**Windows XP and Windows Server 2003 or earlier:** Not supported.</span></span> <span data-ttu-id="b3fc9-110">Le tabelle di configurazione dei servizi e le azioni standard sono disponibili a partire da Windows Installer 5,0 in esecuzione su Windows 7 e Windows Server 2008 R2 e Windows Installer 4,5 in esecuzione in Windows Vista e Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-110">The service configuration tables and standard actions are available beginning with Windows Installer 5.0 running on Windows 7 and Windows Server 2008 R2 and Windows Installer 4.5 running on Windows Vista and Windows Server 2008.</span></span>

<span data-ttu-id="b3fc9-111">Per richiedere le configurazioni del servizio specificate nella [tabella MsiServiceConfig](msiserviceconfig-table.md), è necessario includere l'azione [MsiConfigureServices](msiconfigureservices-action.md) nella tabella [InstallExecuteSequence](installexecutesequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="b3fc9-111">You must include the [MsiConfigureServices](msiconfigureservices-action.md) action in the [InstallExecuteSequence](installexecutesequence-table.md) table to request the service configurations that you specify in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="b3fc9-112">Il Windows Installer utilizza le informazioni nella tabella MsiServiceConfig solo quando l'azione MsiConfigureServices standard è inclusa in una tabella di sequenza.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-112">The Windows Installer uses the information in the MsiServiceConfig table only when the MsiConfigureServices standard action is included in a sequence table.</span></span> <span data-ttu-id="b3fc9-113">L'azione standard MsiConfigureServices usa anche le informazioni contenute nelle tabelle [ServiceControl](servicecontrol-table.md) e [ServiceInstall](serviceinstall-table.md) .</span><span class="sxs-lookup"><span data-stu-id="b3fc9-113">The MsiConfigureServices standard action also uses information in the [ServiceControl](servicecontrol-table.md) and [ServiceInstall](serviceinstall-table.md) tables.</span></span>

<span data-ttu-id="b3fc9-114">Per richiedere che il sistema fornisca solo i privilegi necessari per un particolare servizio, specificare l'opzione di configurazione servizio e configurazione del **servizio \_ \_ richiesta \_ \_ informazioni privilegi** nella [tabella MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="b3fc9-114">To request that the system give only required privileges to a particular service, specify the service and the **SERVICE\_CONFIG\_REQUIRED\_PRIVILEGES\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="b3fc9-115">Rimuovere i privilegi non necessari dal token del processo del servizio.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-115">Remove the unneeded privileges from the service's process token.</span></span> <span data-ttu-id="b3fc9-116">Questa opzione può essere utilizzata per configurare i servizi eseguiti nel contesto di sicurezza degli [account utente del servizio](../services/service-user-accounts.md)LocalSystem, LocalService o NetworkService.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-116">This option can be used to configure services run in the security context of the LocalSystem, LocalService, or NetworkService [service user accounts](../services/service-user-accounts.md).</span></span>

<span data-ttu-id="b3fc9-117">Per richiedere che il sistema ritardi l'avvio automatico di un servizio per un periodo di tempo dopo l'avvio di tutti gli altri servizi di avvio automatico, specificare il servizio e l'opzione di **\_ \_ \_ \_ avvio automatico ritardato della configurazione del servizio** nella [tabella MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="b3fc9-117">To request that the system delay the automatic start of a service for a time after the start of all other auto-start services, specify the service and the **SERVICE\_CONFIG\_DELAYED\_AUTO\_START** option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="b3fc9-118">Il servizio in fase di ritardo deve essere installato dal pacchetto corrente con l' \_ avvio automatico del servizio \_ specificato nella tabella [ServiceInstall](serviceinstall-table.md) o il servizio deve essere già installato come servizio di avvio automatico.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-118">The service being delayed must be installed by the current package with SERVICE\_AUTO\_START specified in the [ServiceInstall](serviceinstall-table.md) table or the service must already be installed as an auto-start service.</span></span>

<span data-ttu-id="b3fc9-119">Per richiedere al sistema di riservare una risorsa per l'uso esclusivo di un determinato servizio, specificare il servizio, il tipo di SID del servizio e l'opzione di configurazione Service **\_ config \_ Service \_ \_ info SID** nella [tabella MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="b3fc9-119">To request that the system reserve a resource for the exclusive use of a particular service, specify the service, the service SID type, and the **SERVICE\_CONFIG\_SERVICE\_SID\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="b3fc9-120">Aggiungere il SID del servizio all'elenco di controllo di accesso (ACL) della risorsa.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-120">Add the service's SID to the resource's Access Control List (ACL) for the resource.</span></span>

<span data-ttu-id="b3fc9-121">Per richiedere che [Gestione controllo servizi](../services/service-control-manager.md) (SCM) attenda dopo l'invio della notifica di **\_ \_ prechiusura del controllo** del servizio a un servizio, eseguire le operazioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="b3fc9-121">To request that the [Service Control Manager](../services/service-control-manager.md) (SCM) wait after sending the **SERVICE\_CONTROL\_PRESHUTDOWN** notification to a service, do the following.</span></span> <span data-ttu-id="b3fc9-122">Specificare il servizio, l'intervallo di tempo in cui il controllo SCM deve attendere e l'opzione di configurazione **Service \_ config \_ preshutdown \_ info** nella [tabella MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="b3fc9-122">Specify the service, the length of time the SCM should wait, and the **SERVICE\_CONFIG\_PRESHUTDOWN\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span>

<span data-ttu-id="b3fc9-123">Per configurare quando il sistema deve eseguire azioni dopo l'errore di un servizio, specificare l'opzione relativa al servizio e alla configurazione del servizio non **\_ \_ riuscito \_ \_** nella [tabella MsiServiceConfig](msiserviceconfig-table.md).</span><span class="sxs-lookup"><span data-stu-id="b3fc9-123">To configure when the system should run actions after the failure of a service, specify the service and the **SERVICE\_CONFIG\_FAILURE\_ACTIONS\_FLAG** option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="b3fc9-124">Aggiungere le azioni da eseguire alla [tabella MsiServiceConfigFailureActions](msiserviceconfigfailureactions-table.md).</span><span class="sxs-lookup"><span data-stu-id="b3fc9-124">Add the actions to be run to the [MsiServiceConfigFailureActions table](msiserviceconfigfailureactions-table.md).</span></span>

<span data-ttu-id="b3fc9-125">Per ulteriori informazioni sulle funzionalità di personalizzazione dei servizi estese introdotte con i sistemi operativi Windows Vista e Windows Server 2008, vedere [modifiche ai servizi per Windows Vista](../services/service-changes-for-windows-vista.md).</span><span class="sxs-lookup"><span data-stu-id="b3fc9-125">For more about the extended service customization capabilities introduced with the Windows Vista and Windows Server 2008 operating systems, see [Service Changes for Windows Vista](../services/service-changes-for-windows-vista.md).</span></span>

 

 
