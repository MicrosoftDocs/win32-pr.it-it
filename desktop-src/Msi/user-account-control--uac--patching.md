---
description: Il controllo dell'account utente (UAC) consente agli autori di Windows Installer installazioni di identificare patch firmate digitalmente che possono essere applicate in futuro da utenti non amministratori.
ms.assetid: f7d64f61-24c8-4037-a10b-d68d0e9e3c42
title: Applicazione di patch al controllo dell'account utente (UAC)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d111a39245ab15b24c1734d278a8e0a477e68a6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103885477"
---
# <a name="user-account-control-uac-patching"></a><span data-ttu-id="f43fb-103">Applicazione di patch al controllo dell'account utente (UAC)</span><span class="sxs-lookup"><span data-stu-id="f43fb-103">User Account Control (UAC) Patching</span></span>

<span data-ttu-id="f43fb-104">Il [*controllo dell'account utente*](u-gly.md) (UAC) consente agli autori di Windows Installer installazioni di identificare patch firmate digitalmente che possono essere applicate in futuro da utenti non amministratori.</span><span class="sxs-lookup"><span data-stu-id="f43fb-104">[*User Account Control*](u-gly.md) (UAC) patching enables the authors of Windows Installer installations to identify digitally-signed patches that can be applied in the future by non-administrator users.</span></span>

<span data-ttu-id="f43fb-105">Se la firma digitale non corrisponde al certificato, Windows Vista Visualizza una finestra di dialogo del controllo dell'account utente che richiede l'autorizzazione di amministratore prima di installare la patch.</span><span class="sxs-lookup"><span data-stu-id="f43fb-105">If the digital signature does not match the certificate, Windows Vista displays a UAC dialog box requesting administrator authorization before installing the patch.</span></span> <span data-ttu-id="f43fb-106">Nei sistemi precedenti a Windows Vista, tramite il programma di installazione non viene applicata una patch firmata che non corrisponde al certificato.</span><span class="sxs-lookup"><span data-stu-id="f43fb-106">On systems earlier than Windows Vista, the installer will not apply a signed patch that does not match the certificate.</span></span>

<span data-ttu-id="f43fb-107">Se un utente non amministratore tenta di applicare una patch a un'applicazione e non sono state soddisfatte le condizioni seguenti, Windows Vista invierà una notifica all'utente che è necessaria l'autorizzazione di amministratore prima di installare la patch.</span><span class="sxs-lookup"><span data-stu-id="f43fb-107">If a non-administrator attempts to apply a patch to an application, and the following conditions have not been met, Windows Vista will notify the user that administrator authorization is required before installing the patch.</span></span> <span data-ttu-id="f43fb-108">Un non amministratore può continuare l'installazione della patch, senza la necessità di ottenere ulteriori autorizzazioni di amministratore, purché siano soddisfatte le condizioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="f43fb-108">A non-administrator can continue installing the patch, without needing to obtain additional administrator authorization, provided the following conditions are met.</span></span>

-   <span data-ttu-id="f43fb-109">L'applicazione è stata installata in Windows Vista o Windows XP utilizzando Windows Installer 3,0 o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="f43fb-109">The application was installed on Windows Vista or Windows XP using Windows Installer 3.0 or later.</span></span>

    <span data-ttu-id="f43fb-110">**Windows Server 2008:** Non supportato.</span><span class="sxs-lookup"><span data-stu-id="f43fb-110">**Windows Server 2008:** Not supported.</span></span>

-   <span data-ttu-id="f43fb-111">Se l'applicazione è stata installata in Windows XP, l'applicazione deve essere installata anche da un supporto rimovibile, ad esempio un disco CD-ROM o DVD.</span><span class="sxs-lookup"><span data-stu-id="f43fb-111">If the application was installed on Windows XP, the application must also have been installed from removable media, such a CD-ROM or DVD disk.</span></span> <span data-ttu-id="f43fb-112">Questa restrizione non è applicabile se l'applicazione è stata installata in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="f43fb-112">This restriction does not apply if the application was installed on Windows Vista.</span></span>
-   <span data-ttu-id="f43fb-113">L'applicazione non è stata installata da un'immagine di origine dell' [installazione amministrativa](administrative-installation.md) .</span><span class="sxs-lookup"><span data-stu-id="f43fb-113">The application was not installed from an [administrative installation](administrative-installation.md) source image.</span></span>
-   <span data-ttu-id="f43fb-114">L'applicazione è stata originariamente installata per computer.</span><span class="sxs-lookup"><span data-stu-id="f43fb-114">The application was originally installed per-machine.</span></span> <span data-ttu-id="f43fb-115">Per informazioni su come consentire agli utenti non amministratori di applicare patch alle applicazioni gestite per ogni utente dopo che la patch è stata approvata come attendibile da un amministratore, vedere [applicazione di patch a Per-User applicazioni gestite](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="f43fb-115">For information about how to enable non-administrators to apply patches to per-user-managed applications after the patch has been approved as trusted by an administrator, see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span>
-   <span data-ttu-id="f43fb-116">La [tabella MsiPatchCertificate](msipatchcertificate-table.md) è presente nel pacchetto di Windows Installer (file con estensione msi) e contiene le informazioni necessarie per abilitare il controllo dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="f43fb-116">The [MsiPatchCertificate table](msipatchcertificate-table.md) is present in the Window Installer package (.msi file) and contains the information needed to enable UAC.</span></span> <span data-ttu-id="f43fb-117">È possibile che la tabella e le informazioni siano state incluse nel pacchetto di installazione originale o aggiunte al pacchetto da un file di patch Windows Installer (file con estensione msp).</span><span class="sxs-lookup"><span data-stu-id="f43fb-117">The table and information may have been be included in the original installation package or added to the package by a Windows Installer patch file (.msp file).</span></span>
-   <span data-ttu-id="f43fb-118">Le patch sono firmate digitalmente da un certificato elencato nella [tabella MsiPatchCertificate](msipatchcertificate-table.md).</span><span class="sxs-lookup"><span data-stu-id="f43fb-118">The patches are digitally signed by a certificate listed in the [MsiPatchCertificate table](msipatchcertificate-table.md).</span></span> <span data-ttu-id="f43fb-119">Per ulteriori informazioni sui certificati di firma digitale, vedere [firme digitali e Windows Installer](digital-signatures-and-windows-installer.md).</span><span class="sxs-lookup"><span data-stu-id="f43fb-119">For more information about digital signature certificates, see [Digital Signatures and Windows Installer](digital-signatures-and-windows-installer.md).</span></span>
-   <span data-ttu-id="f43fb-120">La firma digitale nel pacchetto di patch può essere verificata rispetto al certificato nella [tabella MsiPatchCertificate](msipatchcertificate-table.md).</span><span class="sxs-lookup"><span data-stu-id="f43fb-120">The digital signature on the patch package can be verified against the certificate in the [MsiPatchCertificate table](msipatchcertificate-table.md).</span></span> <span data-ttu-id="f43fb-121">Per ulteriori informazioni sull'utilizzo di firme digitali, certificati digitali e [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust), vedere la sezione relativa alla [sicurezza](https://msdn.microsoft.com/library/cc527452.aspx) del Software Development Kit (SDK) di Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="f43fb-121">For more information about the use of digital signatures, digital certificates, and [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust), see the [Security](https://msdn.microsoft.com/library/cc527452.aspx) section of the Microsoft Windows Software Development Kit (SDK).</span></span>
-   <span data-ttu-id="f43fb-122">Il certificato del firmatario usato per verificare la firma digitale nel pacchetto di patch è valido e non è stato revocato.</span><span class="sxs-lookup"><span data-stu-id="f43fb-122">The signer certificate used to verify the digital signature on the patch package is valid and has not been revoked.</span></span>
    > [!Note]  
    > <span data-ttu-id="f43fb-123">Sebbene non sia possibile firmare una patch usando un certificato scaduto, la valutazione di una firma digitale in una patch non ha esito negativo se il certificato è scaduto.</span><span class="sxs-lookup"><span data-stu-id="f43fb-123">Although you cannot sign a patch using an expired certificate, evaluation of a digital signature on a patch does not fail if the certificate has expired.</span></span> <span data-ttu-id="f43fb-124">La valutazione utilizza la [tabella MsiPatchCertificate](msipatchcertificate-table.md)corrente, che è costituita dalla tabella MsiPatchCertificate nel pacchetto originale e dalle patch sequenziate prima della tabella corrente.</span><span class="sxs-lookup"><span data-stu-id="f43fb-124">Evaluation uses the current [MsiPatchCertificate table](msipatchcertificate-table.md), which consists of the MsiPatchCertificate table in the original package and any changes to the table by patches sequenced prior to the current one.</span></span> <span data-ttu-id="f43fb-125">Una patch può aggiungere nuovi certificati alla tabella MsiPatchCertificate per valutare le patch sequenziate dopo la patch corrente.</span><span class="sxs-lookup"><span data-stu-id="f43fb-125">A patch can add new certificates to the MsiPatchCertificate table to evaluate patches sequenced after the current patch.</span></span> <span data-ttu-id="f43fb-126">Un certificato revocato viene sempre rifiutato.</span><span class="sxs-lookup"><span data-stu-id="f43fb-126">A revoked certificate is always rejected.</span></span>

     

-   <span data-ttu-id="f43fb-127">L'applicazione di patch con privilegi minimi non è stata disabilitata impostando la proprietà [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) o il criterio [DisableLUAPatching](disableluapatching.md) .</span><span class="sxs-lookup"><span data-stu-id="f43fb-127">Least-privilege patching has not been disabled by setting the [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) property or the [DisableLUAPatching](disableluapatching.md) policy.</span></span>

<span data-ttu-id="f43fb-128">Una patch applicata con l'applicazione di patch del controllo dell'account utente può essere rimossa anche da un utente non amministratore.</span><span class="sxs-lookup"><span data-stu-id="f43fb-128">A patch that has been applied using UAC patching can also be removed by a non-administrator.</span></span>

<span data-ttu-id="f43fb-129">Gli amministratori possono applicare patch ai prodotti installati per computer indipendentemente dall'impostazione del controllo dell'account utente dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f43fb-129">Administrators can apply patches to per-machine installed products regardless of the application's UAC setting.</span></span>

<span data-ttu-id="f43fb-130">È possibile determinare se l'applicazione di patch con privilegi minimi è abilitata per un'applicazione usando la funzione [**MsiGetProductInfoEx**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoexa) per eseguire una query per la proprietà INSTALLPROPERTY dell' \_ \_ app Lua autorizzata \_ o usando il metodo [**ProductInfo**](installer-productinfo.md) per eseguire una query per la proprietà "AuthorizedLUAApp".</span><span class="sxs-lookup"><span data-stu-id="f43fb-130">You can determine whether least-privilege patching is enabled for an application by using the [**MsiGetProductInfoEx**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoexa) function to query for the INSTALLPROPERTY\_AUTHORIZED\_LUA\_APP property, or by using the [**ProductInfo**](installer-productinfo.md) method to query for the "AuthorizedLUAApp" property.</span></span> <span data-ttu-id="f43fb-131">Se il valore di una delle due proprietà è 1, l'applicazione è abilitata per l'applicazione di patch a un account utente con privilegi minimi.</span><span class="sxs-lookup"><span data-stu-id="f43fb-131">If the value of either property is 1, the application is enabled for least-privilege user account patching.</span></span>

<span data-ttu-id="f43fb-132">Un amministratore può disabilitare l'applicazione di patch con privilegi minimi nel computer impostando il criterio [DisableLUAPatching](disableluapatching.md) su 1.</span><span class="sxs-lookup"><span data-stu-id="f43fb-132">An administrator can disable least-privilege patching on the computer by setting the [DisableLUAPatching](disableluapatching.md) policy to 1.</span></span> <span data-ttu-id="f43fb-133">È possibile impostare la proprietà [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) su 1 durante l'installazione iniziale di un'applicazione per evitare l'applicazione di patch con privilegi minimi solo per tale applicazione.</span><span class="sxs-lookup"><span data-stu-id="f43fb-133">You can set the [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) property to 1 during the initial installation of an application to prevent least-privilege patching for that application only.</span></span>

<span data-ttu-id="f43fb-134">Questa funzionalità è disponibile a partire dalla versione Windows Installer 3,0.</span><span class="sxs-lookup"><span data-stu-id="f43fb-134">This functionality is available beginning with Windows Installer version 3.0.</span></span> <span data-ttu-id="f43fb-135">L'applicazione di patch a controllo dell'account utente (UAC) è stata chiamata applicazione di patch con privilegi minimi in Windows XP.</span><span class="sxs-lookup"><span data-stu-id="f43fb-135">User Account Control (UAC) patching was called least-privilege user account (LUA) patching in Windows XP.</span></span> <span data-ttu-id="f43fb-136">L'applicazione di patch LUA non è disponibile in Windows 2000 e Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="f43fb-136">LUA patching is not available on Windows 2000 and Windows Server 2003.</span></span>

<span data-ttu-id="f43fb-137">Per ulteriori informazioni sulla compatibilità delle applicazioni e sullo sviluppo di applicazioni compatibili con controllo dell'account utente, vedere le informazioni sull'UAC fornite in [Microsoft TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="f43fb-137">For more information about application compatibility and developing applications that are compatible with User Account Control (UAC), see the UAC information that is provided on [Microsoft Technet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10)).</span></span>

 

 
