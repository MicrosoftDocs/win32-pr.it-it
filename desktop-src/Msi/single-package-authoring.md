---
description: Un pacchetto a doppio scopo è un pacchetto di Windows Installer 5,0 che è stato creato per essere in grado di installare un'applicazione nel contesto di installazione per utente o per computer.
ms.assetid: b2da9fba-8fdf-48fa-a662-6b3eee1bfe87
title: Creazione di pacchetti singoli
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 87c22b9be930be2d2178ea4efb7ba1538320823a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106314774"
---
# <a name="single-package-authoring"></a><span data-ttu-id="76984-103">Creazione di pacchetti singoli</span><span class="sxs-lookup"><span data-stu-id="76984-103">Single Package Authoring</span></span>

<span data-ttu-id="76984-104">Un pacchetto a doppio scopo è un pacchetto di Windows Installer 5,0 che è stato creato per essere in grado di installare un'applicazione nel [contesto di installazione](installation-context.md)per utente o per computer.</span><span class="sxs-lookup"><span data-stu-id="76984-104">A dual-purpose package is a Windows Installer 5.0 package that has been authored to be capable of installing an application in either the per-user or per-machine [installation context](installation-context.md).</span></span> <span data-ttu-id="76984-105">Gli sviluppatori che utilizzano un pacchetto a doppio scopo per la propria applicazione possono fornire agli utenti la possibilità di scegliere il contesto di installazione al momento dell'installazione e possono rimuovere le richieste di credenziali UAC dalle installazioni per utente in Windows 7 o Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="76984-105">Setup developers that use a dual-purpose package for their application can provide their users with a choice of installation context at installation time and can remove UAC credential prompts from per-user installations on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="76984-106">Lo sviluppo di un pacchetto a doppio scopo Windows Installer 5,0 per l'installazione in Windows 7 e Windows Server 2008 R2 viene definito creazione di pacchetti singoli.</span><span class="sxs-lookup"><span data-stu-id="76984-106">The development of a dual-purpose Windows Installer 5.0 package for installation on Windows 7 and Windows Server 2008 R2 is referred to as single package authoring.</span></span>

<span data-ttu-id="76984-107">È possibile iniziare a sviluppare pacchetti a doppio scopo per Windows 7 e Windows Server 2008 R2 usando Windows Installer 5,0, la proprietà [**MSIINSTALLPERUSER**](msiinstallperuser.md) , la proprietà [**ALLUSERS**](allusers.md) e le cartelle note e le registrazioni con supporto per utente della [Shell di Windows](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="76984-107">You can begin to develop dual-purpose packages for Windows 7 and Windows Server 2008 R2 by using Windows Installer 5.0, the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property, the [**ALLUSERS**](allusers.md) property, and the per-user capable known folders and registrations of the [Windows Shell](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85)).</span></span> <span data-ttu-id="76984-108">Quando Windows Installer 5,0 installa un pacchetto a doppio scopo nel contesto per utente in Windows 7 o Windows Server 2008 R2, il programma di installazione indirizza le voci di file e del registro di sistema a percorsi per utente e non Visualizza richieste di credenziali per il controllo dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="76984-108">When Windows Installer 5.0 installs a dual-purpose package in the per-user context on Windows 7 or Windows Server 2008 R2, the installer directs file and registry entries to per-user locations and does not display UAC prompts for credentials.</span></span> <span data-ttu-id="76984-109">Quando Windows Installer 5,0 installa un pacchetto a doppio scopo nel contesto per computer, il programma di installazione indirizza i file e le voci del registro di sistema a percorsi per computer e richiede le credenziali UAC per confermare che l'utente dispone di privilegi sufficienti per installare il software per tutti gli utenti del computer.</span><span class="sxs-lookup"><span data-stu-id="76984-109">When Windows Installer 5.0 installs a dual-purpose package in the per-machine context, the installer directs files and registry entries to per-machine locations and prompts for UAC credentials to confirm that the user has sufficient privileges to install software for all users of the computer.</span></span> <span data-ttu-id="76984-110">Una volta Windows Installer 5,0 installa un'applicazione, viene usato lo stesso contesto di installazione per tutti gli aggiornamenti, le riparazioni o la rimozione successivi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="76984-110">Once Windows Installer 5.0 installs an application, it uses the same installation context for all subsequent updates, repairs, or removal of the application.</span></span>

<span data-ttu-id="76984-111">**[Windows Installer 4,5 o versioni precedenti](not-supported-in-windows-installer-4-5.md):** le proprietà [**MSIINSTALLPERUSER**](msiinstallperuser.md) e le versioni per utente delle cartelle a cui fanno riferimento le proprietà [**ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md)e [**CommonFiles64Folder**](commonfiles64folder.md) non sono supportate.</span><span class="sxs-lookup"><span data-stu-id="76984-111">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** The [**MSIINSTALLPERUSER**](msiinstallperuser.md) property and per-user versions of folders referenced by the [**ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md), and [**CommonFiles64Folder**](commonfiles64folder.md) properties are not supported.</span></span> <span data-ttu-id="76984-112">Le cartelle **FOLDERID \_ UserProgramFiles** e **FOLDERID \_ UserProgramFilesCommon** sono disponibili a partire da Windows 7 e Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="76984-112">The **FOLDERID\_UserProgramFiles** and **FOLDERID\_UserProgramFilesCommon** folders are available beginning with Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="76984-113">Ciò significa che le installazioni sviluppate per Windows Installer 4,5 o i file diretti precedenti e le voci del registro di sistema in FOLDERID \_ ProgramFiles, FOLDERID \_ PROGRAMFILESCOMMON, FOLDERID \_ ProgramFilesX64 e FOLDERID ProgramFilesCommonX64 \_ .</span><span class="sxs-lookup"><span data-stu-id="76984-113">This means installations developed for Windows Installer 4.5 or earlier direct files and registry entries to FOLDERID\_ProgramFiles, FOLDERID\_ProgramFilesCommon, FOLDERID\_ProgramFilesX64, and FOLDERID\_ProgramFilesCommonX64.</span></span> <span data-ttu-id="76984-114">Poiché si tratta di percorsi accessibili ad altri utenti del computer, i sistemi Windows Vista e versioni successive richiedono la visualizzazione delle credenziali del controllo dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="76984-114">Because these are locations accessible to other users of the computer, Windows Vista and later systems require the display of UAC prompts for credentials.</span></span>

<span data-ttu-id="76984-115">Quando un utente installa un pacchetto a doppio scopo creato per Windows Installer 5,0 con Windows Installer 4,5 o versioni precedenti, il programma di installazione ignora la proprietà [**MSIINSTALLPERUSER**](msiinstallperuser.md) .</span><span class="sxs-lookup"><span data-stu-id="76984-115">When a user installs a dual-purpose package authored for Windows Installer 5.0 with Windows Installer 4.5 or earlier, the installer ignores the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property.</span></span> <span data-ttu-id="76984-116">In questo caso, l'installazione può indirizzare i file e le voci del registro di sistema a posizioni accessibili ad altri utenti e richiedere al sistema di visualizzare le richieste di credenziali del controllo dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="76984-116">In this case, the installation can direct files and registry entries to locations accessible to other users and require the system to display UAC prompts for credentials.</span></span> <span data-ttu-id="76984-117">Windows Installer 5,0 può installare un pacchetto sviluppato per Windows Installer 4,5 o versioni precedenti, tuttavia, l'installazione indirizza i file e le voci del registro di sistema ai percorsi accessibili ad altri utenti e richiede al sistema di visualizzare le credenziali del controllo dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="76984-117">Windows Installer 5.0 can install a package that was developed for Windows Installer 4.5 or earlier, however, the installation directs files and registry entries to locations accessible to other users and requires the system to display UAC prompts for credentials.</span></span>

## <a name="development-guidelines"></a><span data-ttu-id="76984-118">Linee guida per lo sviluppo</span><span class="sxs-lookup"><span data-stu-id="76984-118">Development Guidelines</span></span>

<span data-ttu-id="76984-119">Attenersi alle seguenti linee guida per la creazione di pacchetti singoli per assicurarsi che il pacchetto possa essere installato nel contesto per utente o per computer.</span><span class="sxs-lookup"><span data-stu-id="76984-119">Adhere to the following single-package authoring guidelines to ensure that the package can be installed in either the per-user or per-machine context.</span></span> <span data-ttu-id="76984-120">Attenersi a queste linee guida per consentire all'utente di scegliere al momento dell'installazione un'installazione per utente o per computer e di rimuovere le richieste di controllo dell'account utente dalle installazioni per utente.</span><span class="sxs-lookup"><span data-stu-id="76984-120">Follow these guidelines to enable the user to choose at installation time a per-user or per-machine installation and to remove UAC prompts from per-user installations.</span></span>

-   <span data-ttu-id="76984-121">Per l'installazione per utente è necessario Windows Installer 5,0 in Windows 7 o Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="76984-121">Per-user installation requires Windows Installer 5.0 on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="76984-122">È necessario informare l'utente che il pacchetto supporta l'installazione per computer dell'applicazione in versioni precedenti del sistema.</span><span class="sxs-lookup"><span data-stu-id="76984-122">You should inform the user that the package supports per-machine installation of the application on earlier versions of the system.</span></span>
-   <span data-ttu-id="76984-123">Inizializzare i valori per le proprietà [**ALLUSERS**](allusers.md) e [**MSIINSTALLPERUSER**](msiinstallperuser.md) nella [tabella delle proprietà](property-table.md) del pacchetto a doppio scopo.</span><span class="sxs-lookup"><span data-stu-id="76984-123">Initialize the values for the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties in the [Property Table](property-table.md) of your dual-purpose package.</span></span> <span data-ttu-id="76984-124">Usare il valore **ALLUSERS** 2 e il valore **MSIINSTALLPERUSER** 1 come valori iniziali.</span><span class="sxs-lookup"><span data-stu-id="76984-124">Use **ALLUSERS** value of 2 and a **MSIINSTALLPERUSER** value of 1 as the initial values.</span></span> <span data-ttu-id="76984-125">Viene specificata l'installazione per utente come impostazione predefinita per il pacchetto a doppio scopo.</span><span class="sxs-lookup"><span data-stu-id="76984-125">This specifies per-user installation as the default for the dual-purpose package.</span></span>
-   <span data-ttu-id="76984-126">Provare a creare una finestra di dialogo per l' [interfaccia utente](user-interface.md) del pacchetto a doppio scopo che consenta all'utente di scegliere il contesto al momento dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="76984-126">Consider authoring a dialog box for the [user interface](user-interface.md) of your dual-purpose package that enables the user to choose the context at installation time.</span></span> <span data-ttu-id="76984-127">Creare i controlli in questa finestra di dialogo personalizzata per impostare i valori delle proprietà [**ALLUSERS**](allusers.md) e [**MSIINSTALLPERUSER**](msiinstallperuser.md) .</span><span class="sxs-lookup"><span data-stu-id="76984-127">Author the controls on this custom dialog box to set the values of the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties.</span></span> <span data-ttu-id="76984-128">Per il valore **ALLUSERS** 2, impostare **MSIINSTALLPERUSER** su un valore pari a 1 per specificare un'installazione per utente e impostare **MSIINSTALLPERUSER** su una stringa vuota ("") per specificare un'installazione per computer.</span><span class="sxs-lookup"><span data-stu-id="76984-128">For the **ALLUSERS** value of 2, set **MSIINSTALLPERUSER** to a value of 1 to specify a per-user installation and set **MSIINSTALLPERUSER** to an empty string ("") to specify a per-machine installation.</span></span> <span data-ttu-id="76984-129">Gli utenti possono inoltre impostare **ALLUSERS** e **MSIINSTALLPERUSER** nella riga di comando se installano il pacchetto dalla riga di comando.</span><span class="sxs-lookup"><span data-stu-id="76984-129">Users can also set the **ALLUSERS** and **MSIINSTALLPERUSER** on the command line if they install the package from the command line.</span></span>
-   <span data-ttu-id="76984-130">Convalidare il pacchetto utilizzando gli [analizzatori di coerenza interni-CIEM](internal-consistency-evaluators-ices.md).</span><span class="sxs-lookup"><span data-stu-id="76984-130">Validate the package using [Internal Consistency Evaluators - ICEs](internal-consistency-evaluators-ices.md).</span></span> <span data-ttu-id="76984-131">Il pacchetto deve essere in grado di passare la convalida da [ICE105](ice-105.md) a un pacchetto a doppio scopo valido.</span><span class="sxs-lookup"><span data-stu-id="76984-131">The package must be able to pass validation by [ICE105](ice-105.md) to be a valid dual-purpose package.</span></span>
-   <span data-ttu-id="76984-132">Utilizzare la [tabella del registro di sistema](registry-table.md) e la [tabella RemoveRegistry](removeregistry-table.md) per reindirizzare le voci del registro di sistema alle parti per singolo utente del registro di sistema durante le installazioni per utente.</span><span class="sxs-lookup"><span data-stu-id="76984-132">Use the [Registry Table](registry-table.md) and [RemoveRegistry Table](removeregistry-table.md) to redirect registry entries to the per-user parts of the registry during per-user installations.</span></span> <span data-ttu-id="76984-133">In un'installazione per utente, le voci del registro di sistema con-1 nella colonna radice vengono reindirizzate a **HKEY \_ Current \_ User** e in un'installazione per computer vengono indirizzate **al \_ \_ computer locale HKEY**.</span><span class="sxs-lookup"><span data-stu-id="76984-133">In a per-user installation, registry entries that have -1 in the Root column are redirected to **HKEY\_CURRENT\_USER**, and in a per-machine installation these are directed to **HKEY\_LOCAL\_MACHINE**.</span></span> <span data-ttu-id="76984-134">In un'installazione per utente, le voci del registro di sistema con msidbRegistryRootClassesRoot (0) nella colonna radice vengono reindirizzate alle  \\  \\ **classi** Software HKCU e, in un'installazione per computer, vengono indirizzate a  \\  \\ **classi** Software HKLM.</span><span class="sxs-lookup"><span data-stu-id="76984-134">In a per-user installation, registry entries that have msidbRegistryRootClassesRoot (0) in the Root column are redirected to **HKCU**\\**Software**\\**Classes**, and in a per-machine installation, these are directed to **HKLM**\\**Software**\\**Classes**.</span></span>
-   <span data-ttu-id="76984-135">Usare la proprietà [**ProgramFilesFolder**](programfilesfolder.md) nella [tabella di directory](directory-table.md) dei [pacchetti di Windows Installer a 32 bit](32-bit-windows-installer-packages.md) per specificare i percorsi delle directory contenenti componenti a 32 bit non condivisi tra le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="76984-135">Use the [**ProgramFilesFolder**](programfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components not shared across applications.</span></span> <span data-ttu-id="76984-136">Quando un utente installa il pacchetto a doppio scopo usando il contesto per computer, questi componenti vengono salvati nella cartella programmi nelle versioni a 32 bit di Windows e nella cartella programmi (x86) nelle versioni a 64 bit del sistema.</span><span class="sxs-lookup"><span data-stu-id="76984-136">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder on 32-bit versions of Windows and in the Program Files (x86) folder on 64-bit versions of the system.</span></span> <span data-ttu-id="76984-137">Tutti gli utenti possono accedere ai componenti di tali directory.</span><span class="sxs-lookup"><span data-stu-id="76984-137">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="76984-138">Quando un utente installa il pacchetto a doppio scopo in Windows 7 o Windows Server 2008 R2 usando il contesto per utente, questi componenti vengono salvati nella cartella programmi dell'utente corrente (ad esempio in% LocalAppData% \\ Programs) ed è possibile accedervi solo da tale utente.</span><span class="sxs-lookup"><span data-stu-id="76984-138">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="76984-139">Usare la proprietà [**CommonFilesFolder**](commonfilesfolder.md) nella [tabella di directory](directory-table.md) dei [pacchetti di Windows Installer a 32 bit](32-bit-windows-installer-packages.md) per specificare i percorsi delle directory contenenti componenti a 32 bit condivisi tra le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="76984-139">Use the [**CommonFilesFolder**](commonfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components shared across applications.</span></span> <span data-ttu-id="76984-140">Quando un utente installa il pacchetto a doppio scopo usando il contesto per computer, questi componenti vengono salvati nella cartella file comuni e possono essere accessibili da tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="76984-140">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="76984-141">Quando un utente installa il pacchetto a doppio scopo in Windows 7 o Windows Server 2008 R2 usando il contesto per utente, questi componenti vengono salvati nella cartella comune dell'utente corrente (ad esempio, in% LocalAppData% \\ programs \\ Common) ed è possibile accedervi solo da tale utente.</span><span class="sxs-lookup"><span data-stu-id="76984-141">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="76984-142">Usare la proprietà [**ProgramFiles64Folder**](programfiles64folder.md) nella [tabella di directory](directory-table.md) dei [pacchetti di Windows Installer a 64 bit](64-bit-windows-installer-packages.md) per specificare i percorsi delle directory contenenti componenti a 64 bit non condivisi tra le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="76984-142">Use the [**ProgramFiles64Folder**](programfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components not shared across applications.</span></span> <span data-ttu-id="76984-143">Quando un utente installa il pacchetto a doppio scopo usando il contesto per computer, questi componenti vengono salvati nella cartella programmi.</span><span class="sxs-lookup"><span data-stu-id="76984-143">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder.</span></span> <span data-ttu-id="76984-144">Tutti gli utenti possono accedere ai componenti di tali directory.</span><span class="sxs-lookup"><span data-stu-id="76984-144">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="76984-145">Quando un utente installa il pacchetto a doppio scopo in Windows 7 o Windows Server 2008 R2 usando il contesto per utente, questi componenti vengono salvati nella cartella programmi dell'utente corrente (ad esempio in% LocalAppData% \\ Programs) ed è possibile accedervi solo da tale utente.</span><span class="sxs-lookup"><span data-stu-id="76984-145">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span> <span data-ttu-id="76984-146">Per ulteriori informazioni sulla creazione di un pacchetto per l'installazione di un'applicazione in sistemi operativi a 64 bit, vedere [Windows Installer nei sistemi operativi a 64 bit](windows-installer-on-64-bit-operating-systems.md).</span><span class="sxs-lookup"><span data-stu-id="76984-146">For more information about authoring a package to install an application on 64-bit operating systems, see [Windows Installer on 64-bit Operating Systems](windows-installer-on-64-bit-operating-systems.md).</span></span>
-   <span data-ttu-id="76984-147">Usare la proprietà [**CommonFiles64Folder**](commonfiles64folder.md) nella [tabella di directory](directory-table.md) dei [pacchetti di Windows Installer a 64 bit](64-bit-windows-installer-packages.md) per specificare i percorsi delle directory contenenti componenti a 64 bit condivisi tra le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="76984-147">Use the [**CommonFiles64Folder**](commonfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components shared across applications.</span></span> <span data-ttu-id="76984-148">Quando un utente installa il pacchetto a doppio scopo usando il contesto per computer, questi componenti vengono salvati nella cartella file comuni e possono essere accessibili da tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="76984-148">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="76984-149">Quando un utente installa il pacchetto a doppio scopo in Windows 7 o Windows Server 2008 R2 usando il contesto per utente, questi componenti vengono salvati nella cartella comune dell'utente corrente (ad esempio, in% LocalAppData% \\ programs \\ Common) ed è possibile accedervi solo da tale utente.</span><span class="sxs-lookup"><span data-stu-id="76984-149">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="76984-150">Usare le proprietà [**ProgramFilesFolder**](programfilesfolder.md) e [**CommonFilesFolder**](commonfilesfolder.md) nella [tabella di directory](directory-table.md) dei [pacchetti di Windows Installer a 64 bit](64-bit-windows-installer-packages.md) per specificare il percorso delle directory contenenti componenti a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="76984-150">Use the [**ProgramFilesFolder**](programfilesfolder.md) and [**CommonFilesFolder**](commonfilesfolder.md) properties in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the location of directories containing 32-bit components.</span></span> <span data-ttu-id="76984-151">Usare nomi diversi per le versioni a 32 bit e a 64 bit di tutti i componenti forniti con lo stesso nome oppure, in alternativa, salvare le versioni in cartelle diverse.</span><span class="sxs-lookup"><span data-stu-id="76984-151">Use different names for the 32-bit and 64-bit versions of any components provided with the same name, or alternatively, save the versions in different folders.</span></span> <span data-ttu-id="76984-152">Ad esempio, aggiungere informazioni alla tabella directory per specificare il percorso della directory contenente la versione a 32 bit come nome \[ \] \\  \\ *dell'applicazione* ProgramFilesFolder ISV nome \\ x86 e il percorso della directory che contiene la versione a 64 bit come \[ Program64FilesFolder \] \\ *ISV nome* \\ *applicazione* nome \\ x64.</span><span class="sxs-lookup"><span data-stu-id="76984-152">For example, add information to the Directory table to specify the location of the directory containing the 32-bit version as \[ProgramFilesFolder\]\\*ISV Name*\\*Application Name*\\x86 and the location of the directory containing the 64-bit version as \[Program64FilesFolder\]\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="76984-153">Un'installazione per computer salva quindi la versione a 32 bit in programmi (x86) ISV nome \\  \\ *applicazione* \\ x86 e salva la versione a 64 bit in Program Files \\ *ISV nome* \\ *applicazione* \\ x64.</span><span class="sxs-lookup"><span data-stu-id="76984-153">A per-machine installation then saves the 32-bit version in Program Files(x86)\\*ISV Name*\\*Application Name*\\x86 and saves the 64-bit version in Program Files\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="76984-154">Un'installazione per utente salva la versione a 32 bit in% LocalAppData% \\ programmi \\ *ISV nome* \\ *applicazione* \\ x86 e installa la versione a 64 bit in% LocalAppData% \\ programmi \\ *ISV nome* \\ *applicazione* \\ x64.</span><span class="sxs-lookup"><span data-stu-id="76984-154">A per-user installation saves the 32-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x86 and installs the 64-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x64.</span></span>
-   <span data-ttu-id="76984-155">Archiviare i dati di configurazione per utente per l'applicazione in \\ Users \\ *nomeutente* \\ AppData.</span><span class="sxs-lookup"><span data-stu-id="76984-155">Store per-user configuration data for the application under \\Users\\*username*\\AppData.</span></span>
-   <span data-ttu-id="76984-156">Consente di archiviare i modelli e i file generati dall'applicazione nelle sottocartelle in \\ \\ *username (nome utente*).</span><span class="sxs-lookup"><span data-stu-id="76984-156">Store templates and files generated by the application in subfolders under \\Users\\*username*.</span></span>
-   <span data-ttu-id="76984-157">Se l'applicazione usa le estensioni della shell, è necessario usare i punti di [estendibilità della shell](https://msdn.microsoft.com/library/bb762762.aspx) con supporto per utente disponibili a partire da Windows 7 o windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="76984-157">If your application uses shell extensions, you should use the per-user-capable [shell extensibility](https://msdn.microsoft.com/library/bb762762.aspx) points that are available beginning in Windows 7 or Windows Server 2008 R2.</span></span>
-   <span data-ttu-id="76984-158">Non usare azioni personalizzate nel pacchetto che richiedono privilegi elevati per l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="76984-158">Do not use custom actions in your package that require elevated privileges to run.</span></span> <span data-ttu-id="76984-159">La tabella [CustomAction](customaction-table.md) non deve contenere azioni personalizzate contrassegnate per l'esecuzione con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="76984-159">The [CustomAction](customaction-table.md) table should contain no custom actions that have been marked to run with elevated privileges.</span></span> <span data-ttu-id="76984-160">Per altre informazioni sulle azioni personalizzate con privilegi elevati, vedere [sicurezza dell'azione personalizzata](custom-action-security.md).</span><span class="sxs-lookup"><span data-stu-id="76984-160">For more information about elevated custom actions, see [Custom Action Security](custom-action-security.md).</span></span>
-   <span data-ttu-id="76984-161">Non scrivere in alcuna cartella di sistema globale.</span><span class="sxs-lookup"><span data-stu-id="76984-161">Do not write in any global system folders.</span></span> <span data-ttu-id="76984-162">La tabella di [directory](directory-table.md) non deve contenere un riferimento a nessuna delle proprietà della cartella di sistema seguenti.</span><span class="sxs-lookup"><span data-stu-id="76984-162">The [Directory](directory-table.md) table should not contain a reference to any of the following system folder properties.</span></span>

    <dl>

[<span data-ttu-id="76984-163">**AdminToolsFolder**</span><span class="sxs-lookup"><span data-stu-id="76984-163">**AdminToolsFolder**</span></span>](admintoolsfolder.md)  
    [<span data-ttu-id="76984-164">**CommonAppDataFolder**</span><span class="sxs-lookup"><span data-stu-id="76984-164">**CommonAppDataFolder**</span></span>](commonappdatafolder.md)  
    [<span data-ttu-id="76984-165">**FontsFolder**</span><span class="sxs-lookup"><span data-stu-id="76984-165">**FontsFolder**</span></span>](fontsfolder.md)  
    [<span data-ttu-id="76984-166">**System16Folder**</span><span class="sxs-lookup"><span data-stu-id="76984-166">**System16Folder**</span></span>](system16folder.md)  
    [<span data-ttu-id="76984-167">**System64Folder**</span><span class="sxs-lookup"><span data-stu-id="76984-167">**System64Folder**</span></span>](system64folder.md)  
    [<span data-ttu-id="76984-168">**SystemFolder**</span><span class="sxs-lookup"><span data-stu-id="76984-168">**SystemFolder**</span></span>](systemfolder.md)  
    [<span data-ttu-id="76984-169">**TempFolder**</span><span class="sxs-lookup"><span data-stu-id="76984-169">**TempFolder**</span></span>](tempfolder.md)  
    [<span data-ttu-id="76984-170">**WindowsFolder**</span><span class="sxs-lookup"><span data-stu-id="76984-170">**WindowsFolder**</span></span>](windowsfolder.md)  
    [<span data-ttu-id="76984-171">**WindowsVolume**</span><span class="sxs-lookup"><span data-stu-id="76984-171">**WindowsVolume**</span></span>](windowsvolume.md)  
    </dl>

-   <span data-ttu-id="76984-172">Non installare un assembly Common Language Runtime nella Global Assembly Cache (GAC). Per ulteriori informazioni sull'installazione degli assembly per la Global Assembly Cache, vedere [aggiunta di assembly a un pacchetto](adding-assemblies-to-a-package.md) e [installazione di assembly Common Language Runtime](installation-of-common-language-runtime-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="76984-172">Do not install a common language runtime assembly into the global assembly cache (GAC.) For more information about installing assemblies to the global assembly cache, see [Adding Assemblies to a Package](adding-assemblies-to-a-package.md) and [Installation of Common Language Runtime Assemblies](installation-of-common-language-runtime-assemblies.md).</span></span>
-   <span data-ttu-id="76984-173">Non installare alcuna origine dati ODBC.</span><span class="sxs-lookup"><span data-stu-id="76984-173">Do not install any ODBC data sources.</span></span> <span data-ttu-id="76984-174">Non usare la tabella [ODBCDataSource](odbcdatasource-table.md) per installare un'origine dati.</span><span class="sxs-lookup"><span data-stu-id="76984-174">Do not use the [ODBCDataSource](odbcdatasource-table.md) table to install a data source.</span></span>
-   <span data-ttu-id="76984-175">Non installare alcun servizio.</span><span class="sxs-lookup"><span data-stu-id="76984-175">Do not install any services.</span></span> <span data-ttu-id="76984-176">Non usare la tabella [ServiceInstall](serviceinstall-table.md) per installare un servizio.</span><span class="sxs-lookup"><span data-stu-id="76984-176">Do not use the [ServiceInstall](serviceinstall-table.md) table to install a service.</span></span>

## <a name="example"></a><span data-ttu-id="76984-177">Esempio</span><span class="sxs-lookup"><span data-stu-id="76984-177">Example</span></span>

<span data-ttu-id="76984-178">Un esempio di pacchetto a doppio scopo è disponibile nei [componenti Windows SDK per Windows Installer sviluppatori](platform-sdk-components-for-windows-installer-developers.md) come file PUASample1.msi.</span><span class="sxs-lookup"><span data-stu-id="76984-178">An example of a dual-purpose package is provided in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md) as the file PUASample1.msi.</span></span> <span data-ttu-id="76984-179">Se si dispone dell'SDK corrente, è possibile accedere a tutti gli strumenti e i dati necessari per riprodurre il pacchetto di installazione di esempio.</span><span class="sxs-lookup"><span data-stu-id="76984-179">If you have the current SDK, you have access to all the tools and data necessary to reproduce the sample installation package.</span></span> <span data-ttu-id="76984-180">Per ulteriori informazioni su questo esempio, vedere [esempio di creazione di pacchetti singoli](single-package-authoring-example.md).</span><span class="sxs-lookup"><span data-stu-id="76984-180">For more information about this example, see [Single Package Authoring Example](single-package-authoring-example.md).</span></span>

 

 
