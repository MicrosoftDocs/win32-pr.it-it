---
description: L'uso di simboli pubblici per i file binari di destinazione e di aggiornamento delle immagini può ridurre le dimensioni di una dimensione di circa una metà.
ms.assetid: 83351a1b-ba70-4f0b-bacf-71ad7993a5aa
title: Uso di simboli per ridurre le dimensioni delle patch binarie
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d5ccf33dbf3ffefbee909d99bd0204ea2f49aba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106307836"
---
# <a name="using-symbols-to-reduce-binary-patch-size"></a><span data-ttu-id="cd987-103">Uso di simboli per ridurre le dimensioni delle patch binarie</span><span class="sxs-lookup"><span data-stu-id="cd987-103">Using Symbols to Reduce Binary Patch Size</span></span>

<span data-ttu-id="cd987-104">L'uso di simboli pubblici per i file binari di destinazione e di aggiornamento delle immagini può ridurre le dimensioni di una dimensione di circa una metà.</span><span class="sxs-lookup"><span data-stu-id="cd987-104">Using public symbols for your target and upgrade image binaries can reduce binary patch sizes by approximately one half.</span></span> <span data-ttu-id="cd987-105">La riduzione effettiva dipende dai simboli utilizzati.</span><span class="sxs-lookup"><span data-stu-id="cd987-105">The actual reduction depends upon the symbols used.</span></span> <span data-ttu-id="cd987-106">Si noti che l'uso di simboli può comportare tempi di creazione di patch più lenti perché richiede più tempo per elaborare i file di simboli.</span><span class="sxs-lookup"><span data-stu-id="cd987-106">Note that using symbols can result in slower patch creation times because it takes longer to process the symbol files.</span></span>

<span data-ttu-id="cd987-107">Per ridurre le dimensioni di una patch binaria usando i simboli, è necessario specificare i simboli per i file binari di destinazione e di aggiornamento dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="cd987-107">To reduce the size of a binary patch using symbols, you must provide symbols for both the target and upgrade image binaries.</span></span> <span data-ttu-id="cd987-108">Specificare i simboli nella colonna SymbolPaths della tabella [TargetImages](targetimages-table-patchwiz-dll-.md) e nella colonna SymbolPaths della tabella [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) .</span><span class="sxs-lookup"><span data-stu-id="cd987-108">Specify the symbols in the SymbolPaths column of the [TargetImages](targetimages-table-patchwiz-dll-.md) table and the SymbolPaths column of the [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) table.</span></span> <span data-ttu-id="cd987-109">È necessario utilizzare Visual C++ per generare simboli nel formato di file del database di programma (PDB).</span><span class="sxs-lookup"><span data-stu-id="cd987-109">You must use Visual C++ to generate symbols in the program database (PDB) file format.</span></span> <span data-ttu-id="cd987-110">Le versioni più recenti di Visual C++ forniscono tutte le informazioni necessarie nel file PDB.</span><span class="sxs-lookup"><span data-stu-id="cd987-110">Newer versions of Visual C++ provide all of the necessary information in the PDB file.</span></span> <span data-ttu-id="cd987-111">Le versioni precedenti di Visual C++ generano anche il formato di file di debug (DBG).</span><span class="sxs-lookup"><span data-stu-id="cd987-111">Older versions of Visual C++ also generate the debug (DBG) file format.</span></span> <span data-ttu-id="cd987-112">In questo caso, il valore SymbolsPaths deve specificare il percorso dei file PDB e DBG.</span><span class="sxs-lookup"><span data-stu-id="cd987-112">In this case, the SymbolsPaths value should specify the location of both the PDB and DBG files.</span></span>

<span data-ttu-id="cd987-113">Ad esempio, il TargetImage per una patch potrebbe essere il pacchetto di installazione fornito con Windows 2000 e che installa la versione 1.1.1029.0 di MSI.DLL.</span><span class="sxs-lookup"><span data-stu-id="cd987-113">For example, the TargetImage for a patch might be the installation package that shipped with Windows 2000 and that installs the 1.1.1029.0 version of MSI.DLL.</span></span> <span data-ttu-id="cd987-114">UpgradedImage potrebbe essere il pacchetto di installazione aggiornato fornito con Windows 2000 con Service Pack 1 (SP1) e che installa la versione 1.11.1314.0 di MSI.DLL.</span><span class="sxs-lookup"><span data-stu-id="cd987-114">The UpgradedImage might be the updated installation package that shipped with Windows 2000 with Service Pack 1 (SP1) and that installs the 1.11.1314.0 version of MSI.DLL.</span></span> <span data-ttu-id="cd987-115">Sarà quindi necessario creare due file di proprietà di creazione patch (PCP), uno con la colonna SymbolPaths delle tabelle [TargetImages](targetimages-table-patchwiz-dll-.md) e [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) a sinistra (vuoto) e l'altro con la colonna SymbolPaths delle tabelle TargetImages e UpgradedImages popolate con la posizione dei simboli per i file binari.</span><span class="sxs-lookup"><span data-stu-id="cd987-115">Two Patch Creation Properties (PCP) files would then have to be created, one with the SymbolPaths column of both the [TargetImages](targetimages-table-patchwiz-dll-.md) and [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) tables left NULL (blank) and the other with the SymbolPaths column of both the TargetImages and UpgradedImages tables populated with the location of the symbols for the binaries.</span></span> <span data-ttu-id="cd987-116">In questo caso, la dimensione della patch generata senza usare i simboli può essere approssimativamente tre volte la dimensione della patch generata usando i simboli.</span><span class="sxs-lookup"><span data-stu-id="cd987-116">In this case, the size of the patch generated without using symbols can be approximately three times the size of the patch generated using symbols.</span></span>

<span data-ttu-id="cd987-117">L'utilità Mpatch.exe può essere utilizzata per testare la generazione di patch binarie per un singolo file e per verificare se i simboli sono validi o meno.</span><span class="sxs-lookup"><span data-stu-id="cd987-117">The Mpatch.exe utility can be used to test the generation of binary patches for a single file and to check whether or not the symbols are valid.</span></span> <span data-ttu-id="cd987-118">L'utilità Mpatch.exe è inclusa nei [componenti Windows SDK per Windows Installer sviluppatori](platform-sdk-components-for-windows-installer-developers.md).</span><span class="sxs-lookup"><span data-stu-id="cd987-118">The Mpatch.exe utility is included in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md).</span></span> <span data-ttu-id="cd987-119">L'output di Mpatch.exe indicherà se i simboli non corrispondono.</span><span class="sxs-lookup"><span data-stu-id="cd987-119">The output of Mpatch.exe will indicate if the symbols do not match.</span></span>

<span data-ttu-id="cd987-120">Ad esempio, immettere la riga di comando seguente per verificare se i simboli sono validi o meno.</span><span class="sxs-lookup"><span data-stu-id="cd987-120">For example, enter the following command line to check whether or not the symbols are valid.</span></span>

<span data-ttu-id="cd987-121">**mpatch.exe-NEWSYMPATH: d: \\ Update-OLDSYMPATH: d: \\ target d: \\ target \\example.dll d: \\ Update \\example.dll example. Pat**</span><span class="sxs-lookup"><span data-stu-id="cd987-121">**mpatch.exe -NEWSYMPATH:d:\\update -OLDSYMPATH:d:\\target d:\\target\\example.dll d:\\update\\example.dll example.pat**</span></span>

<span data-ttu-id="cd987-122">Se i simboli non sono nella posizione corretta, l'output di Mpatch.exe può includere il seguente avviso.</span><span class="sxs-lookup"><span data-stu-id="cd987-122">If the symbols are not in the correct location, the output of Mpatch.exe may include the following warning.</span></span>

``` syntax
WARNING: no debug symbols for d:\update\example.dll
```

 

 



