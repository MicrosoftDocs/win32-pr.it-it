---
description: A partire da Windows Installer 3,0, gli autori possono aggiungere informazioni di sequenziazione delle patch al database del pacchetto di patch nella tabella MsiPatchSequence.
ms.assetid: 9cdcb25f-2c3d-411e-9aae-bdd52df38a97
title: Sequenziazione di patch
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa9cbd9aead596abfaeb50d972915bf4d618440d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104234180"
---
# <a name="sequencing-patches"></a><span data-ttu-id="06a95-103">Sequenziazione di patch</span><span class="sxs-lookup"><span data-stu-id="06a95-103">Sequencing Patches</span></span>

<span data-ttu-id="06a95-104">A partire da Windows Installer 3,0, gli autori possono aggiungere informazioni di sequenziazione delle patch al database del pacchetto di patch nella tabella [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="06a95-104">Beginning with Windows Installer 3.0, authors can add patch sequencing information to the patch package database in the [MsiPatchSequence](msipatchsequence-table.md) table.</span></span> <span data-ttu-id="06a95-105">Il programma di installazione può utilizzare queste informazioni per determinare quali patch sono applicabili a un pacchetto di installazione, per determinare la migliore sequenza di patch e per installare le patch in un ordine costante indipendentemente dall'ordine in cui vengono fornite al sistema.</span><span class="sxs-lookup"><span data-stu-id="06a95-105">The installer can use this information to determine which patches are applicable to an installation package, to determine the best patching sequence, and to install patches in an constant order independent of the order they are provided to the system.</span></span>

<span data-ttu-id="06a95-106">**Windows Installer 2,0:** Non supportato.</span><span class="sxs-lookup"><span data-stu-id="06a95-106">**Windows Installer 2.0:** Not supported.</span></span> <span data-ttu-id="06a95-107">Windows Installer versioni precedenti a Windows Installer 3,0 installare le patch nell'ordine in cui sono fornite al sistema, indipendentemente dal fatto che contengano una tabella [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="06a95-107">Windows Installer versions previous to Windows Installer 3.0 install patches in the order that they are provided to the system regardless of whether they contain an [MsiPatchSequence](msipatchsequence-table.md) table.</span></span>

<span data-ttu-id="06a95-108">Gli elementi seguenti sono necessari per usare la funzionalità di sequenziazione delle patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-108">The following are required to use the patch sequencing functionality.</span></span>

-   <span data-ttu-id="06a95-109">I [pacchetti di patch](patch-packages.md) (file con estensione msp) devono avere una tabella [MsiPatchSequence](msipatchsequence-table.md) contenente le informazioni di sequenziazione.</span><span class="sxs-lookup"><span data-stu-id="06a95-109">[Patch packages](patch-packages.md) (.msp files) must have a [MsiPatchSequence](msipatchsequence-table.md) table containing sequencing information.</span></span> <span data-ttu-id="06a95-110">Il programma di installazione installa le patch che non dispongono di una tabella MsiPatchSequence nell'ordine in cui sono fornite al sistema.</span><span class="sxs-lookup"><span data-stu-id="06a95-110">The installer installs patches that do not have a MsiPatchSequence table in the order that they are provided to the system.</span></span>
-   <span data-ttu-id="06a95-111">Le patch vengono installate con Windows Installer 3,0 o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="06a95-111">Patches are installed using Windows Installer 3.0 or later.</span></span>

<span data-ttu-id="06a95-112">Windows Installer versione 3,0 dispone delle funzioni seguenti che possono essere utilizzate dalle applicazioni per determinare la migliore sequenza di patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-112">Windows Installer version 3.0 has the following functions that applications can use to determine the best patching sequence.</span></span>

-   <span data-ttu-id="06a95-113">La funzione [**MsiDeterminePatchSequence**](/windows/desktop/api/Msi/nf-msi-msideterminepatchsequencea) accetta un elenco di patch e determina la sequenza che è possibile applicare a un prodotto installato.</span><span class="sxs-lookup"><span data-stu-id="06a95-113">The [**MsiDeterminePatchSequence**](/windows/desktop/api/Msi/nf-msi-msideterminepatchsequencea) function takes a list of patches and determines in what sequence they can be applied to an installed product.</span></span> <span data-ttu-id="06a95-114">Questa funzione rappresenta le patch o i prodotti già installati nel sistema.</span><span class="sxs-lookup"><span data-stu-id="06a95-114">This function accounts for any patches or products that have already been installed on the system.</span></span>
-   <span data-ttu-id="06a95-115">La funzione [**MsiDetermineApplicablePatches**](/windows/desktop/api/Msi/nf-msi-msidetermineapplicablepatchesa) accetta un elenco di patch e determina la sequenza che è possibile applicare a un prodotto installato.</span><span class="sxs-lookup"><span data-stu-id="06a95-115">The [**MsiDetermineApplicablePatches**](/windows/desktop/api/Msi/nf-msi-msidetermineapplicablepatchesa) function takes a list of patches and determines in what sequence they can be applied to an installed product.</span></span> <span data-ttu-id="06a95-116">Questa funzione non tiene conto di eventuali patch o prodotti già installati nel sistema.</span><span class="sxs-lookup"><span data-stu-id="06a95-116">This function does not account for any patches or products that have already been installed on the system.</span></span>

<span data-ttu-id="06a95-117">Windows Installer versione 3,0 può applicare più patch a un prodotto in un'unica installazione di patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-117">Windows Installer version 3.0 can apply multiple patches to a product in a single patching installation.</span></span> <span data-ttu-id="06a95-118">Il gruppo di patch può contenere patch che includono informazioni sulle sequenze di patch, ovvero una tabella [MsiPatchSequence](msipatchsequence-table.md) , e patch che non lo sono.</span><span class="sxs-lookup"><span data-stu-id="06a95-118">The group of patches can contain patches that include patching sequence information (a [MsiPatchSequence](msipatchsequence-table.md) table) and patches that do not.</span></span> <span data-ttu-id="06a95-119">Il Windows Installer installa i pacchetti di patch senza questa tabella nell'ordine in cui vengono forniti al sistema.</span><span class="sxs-lookup"><span data-stu-id="06a95-119">The Windows Installer installs the patch packages without this table in the order that they are provided to the system.</span></span> <span data-ttu-id="06a95-120">Gli account del programma di installazione per i pacchetti di patch che non dispongono di una tabella MsiPatchSequence, ma che sono stati contrassegnati come patch obsoleti o sostituiti dal metodo descritto nella sezione seguente.</span><span class="sxs-lookup"><span data-stu-id="06a95-120">The installer accounts for patch packages that lack a MsiPatchSequence table, but that have been marked as obsolete or superseded patches by the method described in the following section.</span></span>

<span data-ttu-id="06a95-121">Quando Windows Installer versione 3,0 installa più patch, seguono questi passaggi per determinare la sequenza in cui vengono applicate le singole patch al prodotto:</span><span class="sxs-lookup"><span data-stu-id="06a95-121">When Windows Installer version 3.0 installs multiple patches, it follows these steps to determine the sequence in which individual patches are applied to the product:</span></span>

1.  <span data-ttu-id="06a95-122">Le patch installate senza una tabella [MsiPatchSequence](msipatchsequence-table.md) vengono inserite nella sequenza nell'ordine in cui sono state applicate al prodotto.</span><span class="sxs-lookup"><span data-stu-id="06a95-122">Installed patches without a [MsiPatchSequence](msipatchsequence-table.md) table are put in the sequence in the order that they were applied to the product.</span></span> <span data-ttu-id="06a95-123">La prima patch applicata viene posizionata per prima nella sequenza.</span><span class="sxs-lookup"><span data-stu-id="06a95-123">The first patch that was applied is placed first in the sequence.</span></span>
2.  <span data-ttu-id="06a95-124">Le nuove patch senza una [tabella MsiPatchSequence](msipatchsequence-table.md) vengono inserite nella sequenza.</span><span class="sxs-lookup"><span data-stu-id="06a95-124">New patches without a [MsiPatchSequence table](msipatchsequence-table.md) are put in the sequence.</span></span> <span data-ttu-id="06a95-125">Queste patch vengono applicate dall'installazione corrente delle patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-125">These patches are being applied by the current patching installation.</span></span> <span data-ttu-id="06a95-126">Vengono inserite nell'ordine in cui vengono fornite al sistema e inserite dopo tutte le patch nel passaggio 1.</span><span class="sxs-lookup"><span data-stu-id="06a95-126">They are put in the order that they are provided to the system, and placed after all the patches in step 1.</span></span>
3.  <span data-ttu-id="06a95-127">Le patch obsolete vengono eliminate dalla sequenza di patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-127">Obsolete patches are eliminated from the sequence of patches.</span></span>
    > [!Note]  
    > <span data-ttu-id="06a95-128">Un pacchetto di patch può specificare nella proprietà [**Riepilogo numero revisione**](revision-number-summary.md) un elenco esplicito di patch obsolete da rimuovere dalla patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-128">A patch package can specify in the [**Revision Number Summary**](revision-number-summary.md) property an explicit list of obsolete patches to be removed by the patch.</span></span> <span data-ttu-id="06a95-129">Questo elenco è destinato all'uso da parte di Windows Installer versioni precedenti alla versione 3,0.</span><span class="sxs-lookup"><span data-stu-id="06a95-129">This list is intended for use by Windows Installer versions earlier than version 3.0.</span></span> <span data-ttu-id="06a95-130">Windows Installer versione 3,0 rimuove le patch contrassegnate come obsolete dalla sequenza, solo se le patch non dispongono della [tabella MsiPatchSequence](msipatchsequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="06a95-130">Windows Installer version 3.0 removes the patches marked as obsolete from the sequence, only if the patches do not have the [MsiPatchSequence table](msipatchsequence-table.md).</span></span>

     

4.  <span data-ttu-id="06a95-131">Il programma di installazione esegue la sequenza di patch e determina quali patch sono applicabili nella sequenza specificata.</span><span class="sxs-lookup"><span data-stu-id="06a95-131">The installer steps through the patching sequence and determines which patches are applicable in the given sequence.</span></span> <span data-ttu-id="06a95-132">Quando si applicano più patch a un prodotto, ogni patch nella sequenza trasforma anche il database di installazione del prodotto (file con estensione msi).</span><span class="sxs-lookup"><span data-stu-id="06a95-132">When multiple patches are applied to a product, each patch in the sequence also transforms the product's installation database (.msi file).</span></span> <span data-ttu-id="06a95-133">Una patch è applicabile in una determinata sequenza solo se la trasformazione del database è in grado di accettare il [codice del prodotto](product-codes.md), la [**versione**](productversion.md), la [**lingua**](productlanguage.md)e il [**UpgradeCode**](upgradecode.md) risultante dall'applicazione delle trasformazioni di tutti i [pacchetti di patch](patch-packages.md) precedenti al database del prodotto.</span><span class="sxs-lookup"><span data-stu-id="06a95-133">A patch is applicable in a particular sequence only if its database transform is capable of taking the [product code](product-codes.md), [**version**](productversion.md), [**language**](productlanguage.md), and [**upgradecode**](upgradecode.md) that result from applying the transforms of all preceding [patch packages](patch-packages.md) to the product database.</span></span> <span data-ttu-id="06a95-134">Il programma di installazione Elimina eventuali patch non applicabili dalla sequenza.</span><span class="sxs-lookup"><span data-stu-id="06a95-134">The installer eliminates any inapplicable patches from the sequence.</span></span>
5.  <span data-ttu-id="06a95-135">Il programma di installazione inizia a inserire patch con informazioni di sequenziazione nella tabella [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="06a95-135">The installer begins placing patches that have sequencing information in their [MsiPatchSequence](msipatchsequence-table.md) table.</span></span> <span data-ttu-id="06a95-136">Le patch di [aggiornamento secondarie](minor-upgrades.md) che includono la tabella MsiPatchSequence vengono inserite nella sequenza dopo le patch sequenziate nei passaggi precedenti e nell'ordine in cui si trovano più a una versione più recente del prodotto dopo l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="06a95-136">[Minor upgrade](minor-upgrades.md) patches that have the MsiPatchSequence table are placed in the sequence after the patches that were sequenced in previous steps and in the order of their lowest to highest product versions after being upgraded.</span></span> <span data-ttu-id="06a95-137">Windows Installer Elimina quindi eventuali patch di aggiornamento secondarie non applicabili in questa sequenza.</span><span class="sxs-lookup"><span data-stu-id="06a95-137">Windows Installer then eliminates any minor upgrade patches that are inapplicable in this sequence.</span></span>
6.  <span data-ttu-id="06a95-138">Le patch di [aggiornamento di piccole dimensioni](small-updates.md) destinate a [aggiornamenti secondari](minor-upgrades.md) con una tabella [MsiPatchSequence](msipatchsequence-table.md) vengono assegnate alla versione più recente della patch di aggiornamento secondaria nella sequenza.</span><span class="sxs-lookup"><span data-stu-id="06a95-138">[Small update](small-updates.md) patches targeting [minor upgrades](minor-upgrades.md) having a [MsiPatchSequence](msipatchsequence-table.md) table, are assigned to the highest version of the minor upgrade patch in the sequence.</span></span>
7.  <span data-ttu-id="06a95-139">Tutte le patch di [aggiornamento di piccole dimensioni](small-updates.md) che rimangono non assegnate dopo i passaggi precedenti e con la tabella [MsiPatchSequence](msipatchsequence-table.md) vengono inserite nella sequenza prima del primo [aggiornamento secondario](minor-upgrades.md) con la tabella MsiPatchSequence e dopo il database di installazione con estensione msi e le eventuali patch senza la tabella MsiPatchSequence.</span><span class="sxs-lookup"><span data-stu-id="06a95-139">All [small update](small-updates.md) patches that remain unassigned after the previous steps, and that have the [MsiPatchSequence](msipatchsequence-table.md) table, are put in the sequence before the first [minor upgrade](minor-upgrades.md) that has the MsiPatchSequence table, and after the .msi installation database and any patches without the MsiPatchSequence table.</span></span> <span data-ttu-id="06a95-140">Windows Installer Elimina quindi eventuali patch di aggiornamento di piccole dimensioni non applicabili in questa sequenza.</span><span class="sxs-lookup"><span data-stu-id="06a95-140">Windows Installer then eliminates any small update patches that are inapplicable in this sequence.</span></span>
8.  <span data-ttu-id="06a95-141">Windows Installer versione 3,0 Elimina le patch sostituite dalla sequenza.</span><span class="sxs-lookup"><span data-stu-id="06a95-141">Windows Installer version 3.0 eliminates superseded patches from the sequence.</span></span> <span data-ttu-id="06a95-142">Quando una patch sostituisce le patch che si verificano prima nella sequenza di patch, la patch contiene tutte le correzioni nelle patch precedenti.</span><span class="sxs-lookup"><span data-stu-id="06a95-142">When a patch supersedes patches that occur earlier in the patch sequence, the patch contains all the fixes in the earlier patches.</span></span> <span data-ttu-id="06a95-143">Le patch precedenti non sono più necessarie.</span><span class="sxs-lookup"><span data-stu-id="06a95-143">The earlier patches are no longer required.</span></span> <span data-ttu-id="06a95-144">Per eliminare le patch sostituite, il Windows Installer richiede le informazioni nella tabella [MsiPatchSequence](msipatchsequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="06a95-144">The Windows Installer requires the information in the [MsiPatchSequence](msipatchsequence-table.md) table to eliminate superseded patches.</span></span>
    > [!Note]  
    > <span data-ttu-id="06a95-145">Le patch destinate a sostituire un set di patch precedente devono essere create per sostituire le patch precedenti in tutte le famiglie di patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-145">Patches intended to supersede an earlier set of patches must be authored to supersede the earlier patches in all patch families.</span></span> <span data-ttu-id="06a95-146">Le patch di [aggiornamento di piccole dimensioni](small-updates.md) possono sostituire solo piccoli aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="06a95-146">[Small update](small-updates.md) patches can only supersede small updates.</span></span> <span data-ttu-id="06a95-147">Gli aggiornamenti [secondari](minor-upgrades.md) possono sostituire sia gli aggiornamenti di piccole dimensioni che altri aggiornamenti secondari.</span><span class="sxs-lookup"><span data-stu-id="06a95-147">[Minor upgrades](minor-upgrades.md) can supersede both small updates and other minor upgrades.</span></span>

     

9.  <span data-ttu-id="06a95-148">Patch di [aggiornamento di piccole dimensioni](small-updates.md) che contengono tabelle [MsiPatchSequence](msipatchsequence-table.md) , vengono sequenziate nelle versioni del prodotto in base alle informazioni di sequenziazione nelle tabelle MsiPatchSequence.</span><span class="sxs-lookup"><span data-stu-id="06a95-148">[Small update](small-updates.md) patches that carry [MsiPatchSequence](msipatchsequence-table.md) tables, get sequenced within product versions according to the sequencing information in their MsiPatchSequence tables.</span></span> <span data-ttu-id="06a95-149">Questa operazione determina la sequenza di patch finale.</span><span class="sxs-lookup"><span data-stu-id="06a95-149">This determines the final patching sequence.</span></span>

<span data-ttu-id="06a95-150">Una patch che non dovrebbe più essere utilizzata può essere eliminata dalla sequenza di patch.</span><span class="sxs-lookup"><span data-stu-id="06a95-150">A patch that should no longer be used can be eliminated from the patching sequence.</span></span> <span data-ttu-id="06a95-151">Per ulteriori informazioni su come eliminare le patch dalla sequenza di patch, vedere [eliminazione di patch](eliminating-patches.md).</span><span class="sxs-lookup"><span data-stu-id="06a95-151">For more information about how to eliminate patches from the patching sequence, see [Eliminating Patches](eliminating-patches.md).</span></span>

<span data-ttu-id="06a95-152">Per un esempio di come la tabella [MsiPatchSequence](msipatchsequence-table.md) può essere usata per applicare le patch nell'ordine in cui sono state create, vedere l'esempio relativo a [più patch](multiple-patching-example.md).</span><span class="sxs-lookup"><span data-stu-id="06a95-152">For an example of how the [MsiPatchSequence](msipatchsequence-table.md) table can be used to apply patches in the order in which they are authored, see the [Multiple Patching Example](multiple-patching-example.md).</span></span>

 

 



