---
description: Le funzionalità del Windows Installer di impostare le autorizzazioni di accesso per servizi, file, cartelle create e voci del registro di sistema consentono di rendere più sicure le applicazioni di installazione.
ms.assetid: a25fcecf-f15f-4772-8f41-d03864484cc9
title: Protezione delle risorse
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 415fe7b2df343a54aa0819031f4fd22b05857618
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106313333"
---
# <a name="securing-resources"></a><span data-ttu-id="a24a4-103">Protezione delle risorse</span><span class="sxs-lookup"><span data-stu-id="a24a4-103">Securing Resources</span></span>

<span data-ttu-id="a24a4-104">Le funzionalità del Windows Installer di impostare le autorizzazioni di accesso per servizi, file, cartelle create e voci del registro di sistema consentono di rendere più sicure le applicazioni di installazione.</span><span class="sxs-lookup"><span data-stu-id="a24a4-104">The capability of the Windows Installer to set access permissions on services, files, created folders, and registry entries can help make installation applications more secure.</span></span> <span data-ttu-id="a24a4-105">L'utilizzo delle tabelle [MsiLockPermissionsEx](msilockpermissionsex-table.md) o [LockPermissions](lockpermissions-table.md) per proteggere le risorse è una delle [linee guida consigliate per la creazione di installazioni protette](guidelines-for-authoring-secure-installations.md).</span><span class="sxs-lookup"><span data-stu-id="a24a4-105">The use of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) or [LockPermissions](lockpermissions-table.md) tables to secure resources is one of the recommended [Guidelines for Authoring Secure Installations](guidelines-for-authoring-secure-installations.md).</span></span> <span data-ttu-id="a24a4-106">La tabella MsiLockPermissionsEx può consentire a un autore di pacchetti di proteggere una risorsa senza dover scrivere un' [azione personalizzata](custom-actions.md).</span><span class="sxs-lookup"><span data-stu-id="a24a4-106">The MsiLockPermissionsEx table can enable a package author to secure a resource without having to write a [custom action](custom-actions.md).</span></span>

<span data-ttu-id="a24a4-107">A partire dai pacchetti sviluppati per Windows Installer 5,0, la tabella [MsiLockPermissionsEx](msilockpermissionsex-table.md) deve sostituire l'uso della tabella [LockPermissions](lockpermissions-table.md) .</span><span class="sxs-lookup"><span data-stu-id="a24a4-107">Beginning with packages developed for Windows Installer 5.0, the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table should replace the use of the [LockPermissions](lockpermissions-table.md) table.</span></span> <span data-ttu-id="a24a4-108">La funzionalità estesa fornita dalla tabella MsiLockPermissionsEx consente a un pacchetto di proteggere i [Servizi](../services/services.md), i file, le cartelle e le chiavi del registro di sistema di Windows.</span><span class="sxs-lookup"><span data-stu-id="a24a4-108">The extended functionality provided by the MsiLockPermissionsEx table enables a package to secure Windows [Services](../services/services.md), files, folders, and registry keys.</span></span> <span data-ttu-id="a24a4-109">Un pacchetto non deve contenere le tabelle MsiLockPermissionsEx e LockPermissions.</span><span class="sxs-lookup"><span data-stu-id="a24a4-109">A package should not contain both the MsiLockPermissionsEx and the LockPermissions tables.</span></span>

<span data-ttu-id="a24a4-110">Windows Installer 4,5 e versioni precedenti ignora la [tabella MsiLockPermissionsEx](msilockpermissionsex-table.md).</span><span class="sxs-lookup"><span data-stu-id="a24a4-110">Windows Installer 4.5 and earlier ignores the [MsiLockPermissionsEx table](msilockpermissionsex-table.md).</span></span> <span data-ttu-id="a24a4-111">A partire da Windows Installer 5,0, l'installazione non riesce con un messaggio di errore 1941 se il pacchetto contiene sia una [tabella LockPermissions](lockpermissions-table.md) che una tabella MsiLockPermissionsEx.</span><span class="sxs-lookup"><span data-stu-id="a24a4-111">Beginning with Windows Installer 5.0, the installation fails with an error message 1941 if the package contains both a [LockPermissions table](lockpermissions-table.md) and MsiLockPermissionsEx table.</span></span> <span data-ttu-id="a24a4-112">I pacchetti di installazione esistenti che contengono solo la tabella LockPermissions possono essere ancora installati con Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="a24a4-112">Existing installation packages that contain only the LockPermissions table can be still be installed using Windows Installer 5.0.</span></span>

<span data-ttu-id="a24a4-113">Windows Installer 5,0 elabora le informazioni nella tabella [MsiLockPermissionsEx](msilockpermissionsex-table.md) quando esegue le azioni standard [InstallFiles](installfiles-action.md), [InstallServices](installservices-action.md), [WriteRegistryValori consente](writeregistryvalues-action.md) e [CreateFolders](createfolders-action.md) .</span><span class="sxs-lookup"><span data-stu-id="a24a4-113">Windows Installer 5.0 processes the information in the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table when it runs the [InstallFiles](installfiles-action.md), [InstallServices](installservices-action.md), [WriteRegistryValues](writeregistryvalues-action.md) and [CreateFolders](createfolders-action.md) standard actions.</span></span> <span data-ttu-id="a24a4-114">Un oggetto a protezione diretta deve essere installato o reinstallato per essere protetto e non è possibile aggiungere un elenco di [controllo di accesso](../secauthz/access-control-lists.md) (ACL) a un oggetto esistente senza reinstallare tale oggetto.</span><span class="sxs-lookup"><span data-stu-id="a24a4-114">A securable object must be installed or reinstalled to be secured and it is not possible to append an [Access Control List](../secauthz/access-control-lists.md) (ACL) to an existing object without reinstalling that object.</span></span>

<span data-ttu-id="a24a4-115">Per specificare il servizio, il file, la directory o la chiave del registro di sistema da proteggere, immettere le informazioni di identificazione nei campi LockObject e Table della tabella [MsiLockPermissionsEx](msilockpermissionsex-table.md) .</span><span class="sxs-lookup"><span data-stu-id="a24a4-115">To specify the service, file, directory, or registry key that is to be secured, enter the identifying information in the LockObject and Table fields of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table.</span></span> <span data-ttu-id="a24a4-116">Un oggetto viene identificato dalla relativa chiave primaria nella tabella [ServiceInstall](serviceinstall-table.md), nella tabella [file](file-table.md), nella [tabella del registro di sistema](registry-table.md)o nella [tabella CreateFolder](createfolder-table.md).</span><span class="sxs-lookup"><span data-stu-id="a24a4-116">An object is identified by it's primary key in the [ServiceInstall Table](serviceinstall-table.md), [File Table](file-table.md), [Registry Table](registry-table.md), or [CreateFolder Table](createfolder-table.md).</span></span>

<span data-ttu-id="a24a4-117">Per richiedere che le autorizzazioni specificate si applichino a un oggetto, immettere una stringa del descrittore di sicurezza valida nel campo *SDDLText* della tabella [MsiLockPermissionsEx](msilockpermissionsex-table.md) utilizzando il linguaggio SDDL ( [Security Descriptor Definition Language](../secauthz/security-descriptor-definition-language.md) ) valido.</span><span class="sxs-lookup"><span data-stu-id="a24a4-117">To request that specified permissions apply to an object, enter a valid security descriptor string in the *SDDLText* field of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table using valid [security descriptor definition language](../secauthz/security-descriptor-definition-language.md) (SDDL).</span></span> <span data-ttu-id="a24a4-118">La tabella **MsiLockPermissionsEx** può specificare un descrittore di sicurezza che nega le autorizzazioni, specifica l'ereditarietà delle autorizzazioni da una risorsa padre o specifica le autorizzazioni di un nuovo account.</span><span class="sxs-lookup"><span data-stu-id="a24a4-118">The **MsiLockPermissionsEx** table can specify a security descriptor that denies permissions, specifies inheritance of permissions from a parent resource, or specifies the permissions of a new account.</span></span> <span data-ttu-id="a24a4-119">Per un elenco di tutte le autorizzazioni che possono essere concesse, negate o ereditate, vedere [stringhe ACE](../secauthz/ace-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a24a4-119">For a list of all the permissions that can be granted, denied, or inherited see [ACE Strings](../secauthz/ace-strings.md).</span></span> <span data-ttu-id="a24a4-120">Windows Installer 5,0 estende il set di identificatori di sicurezza (SID) disponibili. Per un elenco dei SID validi, vedere [stringhe SID](../secauthz/sid-strings.md).</span><span class="sxs-lookup"><span data-stu-id="a24a4-120">Windows Installer 5.0 extends the set of available security identifiers (SIDs.) For a list of the valid SIDs, see [SID Strings](../secauthz/sid-strings.md).</span></span>

> [!NOTE]
> <span data-ttu-id="a24a4-121">Se si desidera configurare il descrittore di sicurezza di una risorsa padre per specificare che le autorizzazioni vengono ereditate dagli oggetti figlio, è necessario che il programma di installazione applichi le autorizzazioni alla risorsa padre prima di creare gli oggetti figlio.</span><span class="sxs-lookup"><span data-stu-id="a24a4-121">If you want to configure the security descriptor of a parent resource to specify that that its permissions be inherited by child objects, your installer must apply permissions to the parent resource before it creates the child objects.</span></span> <span data-ttu-id="a24a4-122">Se il programma di installazione crea gli oggetti figlio prima di applicare le autorizzazioni ereditabili alla risorsa padre, le autorizzazioni della risorsa padre non verranno propagate agli oggetti figlio.</span><span class="sxs-lookup"><span data-stu-id="a24a4-122">If your installer creates the child objects before it applies the inheritable permissions to the parent resource, the permissions of the parent resource will not propagate to the child objects.</span></span>

<span data-ttu-id="a24a4-123">A partire da Windows Installer 5,0, il tipo di dati [FormattedSDDLText](formattedsddltext.md) estende il tipo di dati [formattato](formatted.md) .</span><span class="sxs-lookup"><span data-stu-id="a24a4-123">Beginning with Windows Installer 5.0, the [FormattedSDDLText](formattedsddltext.md) data type extends the [Formatted](formatted.md) data type.</span></span> <span data-ttu-id="a24a4-124">Il Windows Installer verifica che la stringa FormattedSDDLText immessa nella colonna SDDLText della tabella [MsiLockPermissionsEx](msilockpermissionsex-table.md) sia conforme al [formato della stringa del descrittore di sicurezza](../secauthz/security-descriptor-string-format.md).</span><span class="sxs-lookup"><span data-stu-id="a24a4-124">The Windows Installer validates that the FormattedSDDLText string entered in the SDDLText column of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table conforms to the [Security Descriptor String Format](../secauthz/security-descriptor-string-format.md).</span></span>

<span data-ttu-id="a24a4-125">**[Windows Installer 4,5 o versioni precedenti](not-supported-in-windows-installer-4-5.md):** Non supportato.</span><span class="sxs-lookup"><span data-stu-id="a24a4-125">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** Not supported.</span></span> <span data-ttu-id="a24a4-126">La tabella [MsiLockPermissionsEx](msilockpermissionsex-table.md) e il tipo di dati [FormattedSDDLText](formattedsddltext.md) sono disponibili a partire da Windows Installer 5,0.</span><span class="sxs-lookup"><span data-stu-id="a24a4-126">The [MsiLockPermissionsEx](msilockpermissionsex-table.md) table and [FormattedSDDLText](formattedsddltext.md) data type are available beginning with Windows Installer 5.0.</span></span>

 

 
