---
description: Dato che il controllo dell'account utente in Windows Vista limita i privilegi durante un'installazione, gli sviluppatori di Windows Installer pacchetti non devono presupporre che l'installazione abbia sempre accesso a tutte le parti del sistema.
ms.assetid: 8e3b4ad8-b978-4e27-b060-1d023846718f
title: Linee guida per i pacchetti
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: db228c2dff443d421ddc089074f0fcce6ae93e2f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103882966"
---
# <a name="guidelines-for-packages"></a><span data-ttu-id="42b7c-103">Linee guida per i pacchetti</span><span class="sxs-lookup"><span data-stu-id="42b7c-103">Guidelines for Packages</span></span>

<span data-ttu-id="42b7c-104">Dato che il [*controllo dell'account utente*](u-gly.md) in Windows Vista limita i privilegi durante un'installazione, gli sviluppatori di Windows Installer pacchetti non devono presupporre che l'installazione abbia sempre accesso a tutte le parti del sistema.</span><span class="sxs-lookup"><span data-stu-id="42b7c-104">Because [*User Account Control*](u-gly.md) (UAC) in Windows Vista restricts privileges during an installation, developers of Windows Installer packages should not assume that their installation always has access to all parts of the system.</span></span>

<span data-ttu-id="42b7c-105">Nella maggior parte dei casi, un pacchetto di installazione che è possibile distribuire correttamente agli utenti standard tramite [criteri di gruppo](/previous-versions/windows/desktop/Policy/group-policy-start-page) dovrebbe funzionare anche con UAC in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="42b7c-105">An installer package that can be successfully deployed to standard users via [Group Policy](/previous-versions/windows/desktop/Policy/group-policy-start-page) should in most cases also work with UAC in Windows Vista.</span></span> <span data-ttu-id="42b7c-106">È possibile che si verifichino eccezioni se la [tabella InstallUISequence](installuisequence-table.md) contiene l' [azione LaunchConditions](launchconditions-action.md) o la [tabella LaunchCondition](launchcondition-table.md) contiene una condizione basata sulla [Proprietà Privileged](privileged.md).</span><span class="sxs-lookup"><span data-stu-id="42b7c-106">Exceptions to this can occur if the [InstallUISequence table](installuisequence-table.md) contains the [LaunchConditions action](launchconditions-action.md) or the [LaunchCondition table](launchcondition-table.md) contains a condition based on the [Privileged property](privileged.md).</span></span> <span data-ttu-id="42b7c-107">Gli sviluppatori di pacchetti Windows Installer devono pertanto attenersi alle linee guida seguenti per assicurarsi che il pacchetto funzioni con UAC e Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="42b7c-107">Windows Installer package developers should therefore adhere to the following guidelines to ensure their package works with UAC and Windows Vista.</span></span>

-   <span data-ttu-id="42b7c-108">Quando si include una condizione del [*contesto di installazione*](i-gly.md) con un'azione nella [tabella InstallUISequence](installuisequence-table.md), utilizzare un'istruzione condizionale basata sulla [Proprietà Privileged](privileged.md).</span><span class="sxs-lookup"><span data-stu-id="42b7c-108">When including an [*installation context*](i-gly.md) condition with an action in the [InstallUISequence table](installuisequence-table.md), use a conditional statement based on the [Privileged property](privileged.md).</span></span> <span data-ttu-id="42b7c-109">Non usare una condizione basata sulla proprietà [**AdminUser**](adminuser.md) .</span><span class="sxs-lookup"><span data-stu-id="42b7c-109">Do not use a condition based on the [**AdminUser**](adminuser.md) property.</span></span>
-   <span data-ttu-id="42b7c-110">Quando si include il contesto di installazione con le condizioni di avvio dell'installazione, usare un' [azione personalizzata di tipo 19](custom-action-type-19.md) nella [tabella InstallExecuteSequence](installexecutesequence-table.md) e fare in modo che l'azione personalizzata sia condizionale sulla [Proprietà Privileged](privileged.md).</span><span class="sxs-lookup"><span data-stu-id="42b7c-110">When including the installation context with the installation launch conditions, use a [Custom Action Type 19](custom-action-type-19.md) in the [InstallExecuteSequence table](installexecutesequence-table.md) and make the custom action conditional upon the [Privileged property](privileged.md).</span></span> <span data-ttu-id="42b7c-111">Non usare un'azione nella [tabella LaunchCondition](launchcondition-table.md) con una condizione basata sulla [proprietà AdminUser](adminuser.md) o sulla proprietà privileged.</span><span class="sxs-lookup"><span data-stu-id="42b7c-111">Do not use an action in the [LaunchCondition table](launchcondition-table.md) with a condition based on the [AdminUser property](adminuser.md) or Privileged property.</span></span>
-   <span data-ttu-id="42b7c-112">Per leggere o modificare la configurazione di sistema, usare un' [azione personalizzata di esecuzione posticipata](deferred-execution-custom-actions.md) nella [tabella InstallExecuteSequence](installexecutesequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="42b7c-112">To read or modify the system configuration, use a [deferred execution custom action](deferred-execution-custom-actions.md) in the [InstallExecuteSequence table](installexecutesequence-table.md).</span></span> <span data-ttu-id="42b7c-113">Non usare azioni personalizzate di esecuzione immediata nella [tabella InstallUISequence](installuisequence-table.md) per modificare la configurazione di sistema.</span><span class="sxs-lookup"><span data-stu-id="42b7c-113">Do not use immediate execution custom actions in the [InstallUISequence table](installuisequence-table.md) to modify the system configuration.</span></span>
-   <span data-ttu-id="42b7c-114">Per modificare parti del sistema che non sono specifiche dell'utente, utilizzare un'azione personalizzata rinviata nella [tabella InstallExecuteSequence](installexecutesequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="42b7c-114">To modify parts of the system that are not user specific, use a deferred custom action in the [InstallExecuteSequence table](installexecutesequence-table.md).</span></span> <span data-ttu-id="42b7c-115">È necessario includere il bit msidbCustomActionTypeNoImpersonate nel tipo di azione personalizzata.</span><span class="sxs-lookup"><span data-stu-id="42b7c-115">You should include the msidbCustomActionTypeNoImpersonate bit in the custom action type.</span></span>
-   <span data-ttu-id="42b7c-116">Omettere il bit 3 dal valore della proprietà riepilogo [**conteggio parole**](word-count-summary.md) per indicare che è possibile richiedere l'elevazione del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="42b7c-116">Omit Bit 3 from the value of the [**Word Count**](word-count-summary.md) Summary Property to indicate that the package can be required to be elevated.</span></span> <span data-ttu-id="42b7c-117">Non includere questo bit a meno che non siano necessari privilegi elevati per installare il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="42b7c-117">Do not include this bit unless elevated privileges are not required to install this package.</span></span>
-   <span data-ttu-id="42b7c-118">Includere un manifesto con il livello di esecuzione richiesto dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="42b7c-118">Include a manifest with the application's Requested Execution Level.</span></span>
-   <span data-ttu-id="42b7c-119">Includere un certificato nella tabella [MsiPatchCertificate](msipatchcertificate-table.md) del pacchetto originale e firmare tutte le patch con lo stesso certificato.</span><span class="sxs-lookup"><span data-stu-id="42b7c-119">Include a certificate in the [MsiPatchCertificate](msipatchcertificate-table.md) table of original package and sign all patches with the same certificate.</span></span>
-   <span data-ttu-id="42b7c-120">Se sono necessari privilegi elevati per installare un pacchetto di Windows Installer, l'autore del pacchetto deve includere l'attributo [ElevationShield](elevationshield-attribute.md) per il [controllo pulsante](pushbutton-control.md) utilizzato per avviare l'installazione.</span><span class="sxs-lookup"><span data-stu-id="42b7c-120">If elevated privileges are required to install a Windows Installer package, the author of the package should include the [ElevationShield](elevationshield-attribute.md) attribute for the [PushButton control](pushbutton-control.md) used to start the installation.</span></span> <span data-ttu-id="42b7c-121">Verrà visualizzato un avviso per informare l'utente che facendo clic sul pulsante verrà visualizzata la finestra di dialogo controllo dell'account utente che richiede l'autorizzazione di amministratore per continuare l'installazione.</span><span class="sxs-lookup"><span data-stu-id="42b7c-121">This will alert the user that clicking on the button will display the UAC dialog box requesting administrator authorization to continue the installation.</span></span>
-   <span data-ttu-id="42b7c-122">Impostare la proprietà [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) su 1 per indicare al Windows Installer che il pacchetto è stato creato e testato per conformarsi a UAC in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="42b7c-122">Set the [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) property to 1 to indicate to the Windows Installer that the package has been authored and tested to comply with UAC in Windows Vista.</span></span> <span data-ttu-id="42b7c-123">Se questa proprietà non è impostata, il programma di installazione determina se il pacchetto è conforme a UAC.</span><span class="sxs-lookup"><span data-stu-id="42b7c-123">If this property is not set, the installer determines whether the package complies with UAC.</span></span>

<span data-ttu-id="42b7c-124">Al di fuori di [criteri di gruppo](/previous-versions/windows/desktop/Policy/group-policy-start-page), è possibile utilizzare il controllo seguente per la conformità del controllo dell'account utente in Windows XP.</span><span class="sxs-lookup"><span data-stu-id="42b7c-124">Outside of [Group Policy](/previous-versions/windows/desktop/Policy/group-policy-start-page), the following check for UAC compliance can be used on Windows XP.</span></span>

<span data-ttu-id="42b7c-125">**Per verificare la conformità del controllo dell'account utente al di fuori di Criteri di gruppo**</span><span class="sxs-lookup"><span data-stu-id="42b7c-125">**To check for UAC compliance outside of Group Policy**</span></span>

1.  <span data-ttu-id="42b7c-126">Accedere al computer come amministratore.</span><span class="sxs-lookup"><span data-stu-id="42b7c-126">Log on to the computer as an administrator.</span></span>
2.  <span data-ttu-id="42b7c-127">Annunciare il pacchetto per un'installazione per computer:</span><span class="sxs-lookup"><span data-stu-id="42b7c-127">Advertise the package for a per-machine installation:</span></span>

    <span data-ttu-id="42b7c-128">*package.msi* **msiexec/JM**</span><span class="sxs-lookup"><span data-stu-id="42b7c-128">**msiexec /jm** *package.msi*</span></span>

3.  <span data-ttu-id="42b7c-129">Disconnettersi dal computer.</span><span class="sxs-lookup"><span data-stu-id="42b7c-129">Log off the computer.</span></span>
4.  <span data-ttu-id="42b7c-130">Accedere al computer come utente standard.</span><span class="sxs-lookup"><span data-stu-id="42b7c-130">Log on to the computer as a standard user.</span></span>
5.  <span data-ttu-id="42b7c-131">Tentativo di installare il pacchetto annunciato:</span><span class="sxs-lookup"><span data-stu-id="42b7c-131">Attempt to install the advertised package:</span></span>

    <span data-ttu-id="42b7c-132">**msiexec/i** *package.msi*</span><span class="sxs-lookup"><span data-stu-id="42b7c-132">**msiexec /i** *package.msi*</span></span>

6.  <span data-ttu-id="42b7c-133">Nella maggior parte dei casi, se l'installazione ha esito positivo, il pacchetto è conforme a controllo dell'account utente.</span><span class="sxs-lookup"><span data-stu-id="42b7c-133">In most cases, if the installation is successful, the package is UAC compliant.</span></span>
7.  <span data-ttu-id="42b7c-134">Impostare la proprietà [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) del pacchetto su 1.</span><span class="sxs-lookup"><span data-stu-id="42b7c-134">Set the [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) property in the package to 1.</span></span>
8.  <span data-ttu-id="42b7c-135">Verificare la corretta installazione del pacchetto utilizzando Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="42b7c-135">Test for correct installation of the package using Windows Vista.</span></span>

 

 
