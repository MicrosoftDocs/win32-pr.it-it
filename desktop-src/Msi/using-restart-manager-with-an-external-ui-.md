---
description: Windows Installer gli sviluppatori possono preparare il pacchetto di installazione in modo che funzioni con Gestione riavvio attenendosi alle linee guida descritte in uso di Windows Installer con Gestione riavvio.
ms.assetid: 777f8864-b3d2-43c7-9296-1118f3595d7b
title: Uso di gestione riavvio con un'interfaccia utente esterna
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0f112884669b173b40f3806c48cf8e05308c5b44
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104226122"
---
# <a name="using-restart-manager-with-an-external-ui"></a><span data-ttu-id="c7af2-103">Uso di gestione riavvio con un'interfaccia utente esterna</span><span class="sxs-lookup"><span data-stu-id="c7af2-103">Using Restart Manager with an External UI</span></span>

<span data-ttu-id="c7af2-104">Windows Installer gli sviluppatori possono preparare il pacchetto di installazione in modo che funzioni con [Gestione riavvio](../rstmgr/restart-manager-portal.md) attenendosi alle linee guida descritte in [uso di Windows Installer con Gestione riavvio](using-windows-installer-with-restart-manager.md).</span><span class="sxs-lookup"><span data-stu-id="c7af2-104">Windows Installer developers can prepare their installation package to work with [Restart Manager](../rstmgr/restart-manager-portal.md) by following the guidelines described in [Using Windows Installer with Restart Manager](using-windows-installer-with-restart-manager.md).</span></span>

<span data-ttu-id="c7af2-105">Specificare il \_ tipo di messaggio RMFILESINUSE di INSTALLLOGMODE quando si chiama la funzione [**MsiSetExternalUI**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) o [**MsiSetExternalUIRecord**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) per abilitare il gestore dell'interfaccia utente esterno.</span><span class="sxs-lookup"><span data-stu-id="c7af2-105">Specify the INSTALLLOGMODE\_RMFILESINUSE message type when calling the [**MsiSetExternalUI**](/windows/desktop/api/Msi/nf-msi-msisetexternaluia) or [**MsiSetExternalUIRecord**](/windows/desktop/api/Msi/nf-msi-msisetexternaluirecord) function to enable the external user-interface handler.</span></span> <span data-ttu-id="c7af2-106">Windows Installer quindi Invia un \_ messaggio RMFILESINUSE di INSTALLMESSAGE per l'uso da parte di gestori dell'interfaccia utente esterni che supportano [Gestione riavvio](../rstmgr/restart-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="c7af2-106">Windows Installer then sends an INSTALLMESSAGE\_RMFILESINUSE message for use by external user-interface handlers that support the [Restart Manager](../rstmgr/restart-manager-portal.md).</span></span>

<span data-ttu-id="c7af2-107">Il gestore dell'interfaccia utente esterno deve gestire le informazioni contenute nei \_ messaggi INSTALLMESSAGE RMFILESINUSE.</span><span class="sxs-lookup"><span data-stu-id="c7af2-107">Your external user-interface handler should handle the information contained in INSTALLMESSAGE\_RMFILESINUSE messages.</span></span> <span data-ttu-id="c7af2-108">Se nessuna interfaccia utente registrata o interna gestisce il \_ messaggio RMFILESINUSE di INSTALLMESSAGE, Windows Installer Invia un \_ messaggio filesinus INSTALLMESSAGE per l'uso da parte dei gestori esterni esistenti che supportano i \_ messaggi FilesInUse INSTALLMESSAGE e la finestra di dialogo [filesinus](filesinuse-dialog.md) .</span><span class="sxs-lookup"><span data-stu-id="c7af2-108">If no registered or internal user-interface handles the INSTALLMESSAGE\_RMFILESINUSE message, Windows Installer sends an INSTALLMESSAGE\_FILESINUSE message for use by existing external handlers that support INSTALLMESSAGE\_FILESINUSE messages and the [FilesInUse](filesinuse-dialog.md) dialog box.</span></span>

<span data-ttu-id="c7af2-109">L'interfaccia utente esterna può restituire i valori elencati nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="c7af2-109">The external user interface can return the values listed in the following table.</span></span>



| <span data-ttu-id="c7af2-110">Valore restituito dall'interfaccia utente esterna</span><span class="sxs-lookup"><span data-stu-id="c7af2-110">External UI return value</span></span> | <span data-ttu-id="c7af2-111">Azione eseguita da Windows Installer</span><span class="sxs-lookup"><span data-stu-id="c7af2-111">Action taken by Windows Installer</span></span>                                                                                                                                                                                                                                                                                                              |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c7af2-112">IDOK</span><span class="sxs-lookup"><span data-stu-id="c7af2-112">IDOK</span></span>                     | <span data-ttu-id="c7af2-113">Il pulsante **OK** è stato premuto dall'utente.</span><span class="sxs-lookup"><span data-stu-id="c7af2-113">The **OK** button was pressed by the user.</span></span> <span data-ttu-id="c7af2-114">Il Windows Installer richiede che [Gestione riavvio](../rstmgr/restart-manager-portal.md) arresti e riavvii le applicazioni che contengono i file attualmente in uso.</span><span class="sxs-lookup"><span data-stu-id="c7af2-114">The Windows Installer will request that the [Restart Manager](../rstmgr/restart-manager-portal.md) shut down and restart the applications that hold files currently in use.</span></span>                                                                                                                                               |
| <span data-ttu-id="c7af2-115">IDCANCEL</span><span class="sxs-lookup"><span data-stu-id="c7af2-115">IDCANCEL</span></span>                 | <span data-ttu-id="c7af2-116">È stato premuto il pulsante **Annulla** .</span><span class="sxs-lookup"><span data-stu-id="c7af2-116">The **CANCEL** button was pressed.</span></span> <span data-ttu-id="c7af2-117">Annulla l'installazione.</span><span class="sxs-lookup"><span data-stu-id="c7af2-117">Cancel the installation.</span></span>                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="c7af2-118">IDIGNORE</span><span class="sxs-lookup"><span data-stu-id="c7af2-118">IDIGNORE</span></span>                 | <span data-ttu-id="c7af2-119">È stato premuto il pulsante **Ignora** .</span><span class="sxs-lookup"><span data-stu-id="c7af2-119">The **IGNORE** button was pressed.</span></span> <span data-ttu-id="c7af2-120">Ignorare e continuare l'installazione.</span><span class="sxs-lookup"><span data-stu-id="c7af2-120">Ignore and continue the installation.</span></span> <span data-ttu-id="c7af2-121">Al termine dell'installazione verrà richiesto un riavvio.</span><span class="sxs-lookup"><span data-stu-id="c7af2-121">A restart will be required at the end of the installation.</span></span>                                                                                                                                                                                                            |
| <span data-ttu-id="c7af2-122">IDNO</span><span class="sxs-lookup"><span data-stu-id="c7af2-122">IDNO</span></span>                     | <span data-ttu-id="c7af2-123">È stato premuto il pulsante **No** .</span><span class="sxs-lookup"><span data-stu-id="c7af2-123">The **NO** button was pressed.</span></span> <span data-ttu-id="c7af2-124">Se il pacchetto contiene una finestra di dialogo [MsiRMFilesInUse](msirmfilesinuse-dialog.md) , inviare un messaggio 1610.</span><span class="sxs-lookup"><span data-stu-id="c7af2-124">If the package has an [MsiRMFilesInUse](msirmfilesinuse-dialog.md) dialog box, send a 1610 message.</span></span> <span data-ttu-id="c7af2-125">Per ulteriori informazioni, vedere [Windows Installer messaggi di errore](windows-installer-error-messages.md).</span><span class="sxs-lookup"><span data-stu-id="c7af2-125">For more information, see [Windows Installer Error Messages](windows-installer-error-messages.md).</span></span> <span data-ttu-id="c7af2-126">Se il pacchetto non dispone di una finestra di dialogo MsiRMFilesInUse, inviare un \_ messaggio FILESINUS INSTALLMESSAGE.</span><span class="sxs-lookup"><span data-stu-id="c7af2-126">If the package does not have a MsiRMFilesInUse dialog box, send an INSTALLMESSAGE\_FILESINUSE message.</span></span> |
| <span data-ttu-id="c7af2-127">IDRETRY</span><span class="sxs-lookup"><span data-stu-id="c7af2-127">IDRETRY</span></span>                  | <span data-ttu-id="c7af2-128">È stato premuto il pulsante **Riprova** .</span><span class="sxs-lookup"><span data-stu-id="c7af2-128">The **RETRY** button was pressed.</span></span> <span data-ttu-id="c7af2-129">Inviare il \_ messaggio FILESINUS INSTALLMESSAGE.</span><span class="sxs-lookup"><span data-stu-id="c7af2-129">Send the INSTALLMESSAGE\_FILESINUSE message.</span></span>                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="c7af2-130">-1</span><span class="sxs-lookup"><span data-stu-id="c7af2-130">-1</span></span>                       | <span data-ttu-id="c7af2-131">Errore.</span><span class="sxs-lookup"><span data-stu-id="c7af2-131">An error.</span></span> <span data-ttu-id="c7af2-132">Terminare l'installazione.</span><span class="sxs-lookup"><span data-stu-id="c7af2-132">End the installation.</span></span>                                                                                                                                                                                                                                                                                                                |



 

 

 
