---
description: Il commit delle azioni personalizzate viene eseguito al completamento dello script di installazione.
ms.assetid: ad766585-e8ac-44b6-9717-7979f803886c
title: Esegui commit di azioni personalizzate
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 174af16a84f71ff90a1fc35c76054ee503449b8a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106309995"
---
# <a name="commit-custom-actions"></a><span data-ttu-id="c1138-103">Esegui commit di azioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="c1138-103">Commit Custom Actions</span></span>

<span data-ttu-id="c1138-104">Il commit delle azioni personalizzate viene eseguito al completamento dello script di installazione.</span><span class="sxs-lookup"><span data-stu-id="c1138-104">Commit Custom actions are executed upon successful completion of the installation script.</span></span> <span data-ttu-id="c1138-105">Se l' [azione InstallFinalize](installfinalize-action.md) ha esito positivo, il programma di installazione eseguirà tutte le azioni personalizzate di commit esistenti.</span><span class="sxs-lookup"><span data-stu-id="c1138-105">If the [InstallFinalize action](installfinalize-action.md) is successful, the installer will then run any existing Commit Custom actions.</span></span> <span data-ttu-id="c1138-106">L'unico parametro di modalità impostato dal programma di installazione in questo caso è MSIRUNMODE \_ commit.</span><span class="sxs-lookup"><span data-stu-id="c1138-106">The only mode parameter the installer sets in this case is MSIRUNMODE\_COMMIT.</span></span> <span data-ttu-id="c1138-107">Per una descrizione dei parametri della modalità di esecuzione, vedere [**MsiGetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode) .</span><span class="sxs-lookup"><span data-stu-id="c1138-107">See [**MsiGetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode) for a description of the run mode parameters.</span></span>

<span data-ttu-id="c1138-108">È possibile specificare un'azione personalizzata di commit aggiungendo un flag di opzione al campo Type della [tabella CustomAction](customaction-table.md).</span><span class="sxs-lookup"><span data-stu-id="c1138-108">A commit custom action can be specified by adding an option flag to the Type field of the [CustomAction table](customaction-table.md).</span></span> <span data-ttu-id="c1138-109">Vedere [azione personalizzata In-Script opzioni di esecuzione](custom-action-in-script-execution-options.md) per il flag di opzione che designa un'azione personalizzata di commit.</span><span class="sxs-lookup"><span data-stu-id="c1138-109">See [Custom Action In-Script Execution Options](custom-action-in-script-execution-options.md) for the option flag designating a commit custom action.</span></span>

<span data-ttu-id="c1138-110">Un'azione personalizzata di commit è il complemento di un' [azione di rollback personalizzata](rollback-custom-actions.md) e può essere utilizzata con azioni personalizzate di rollback per annullare le azioni personalizzate che consentono di apportare modifiche direttamente al sistema.</span><span class="sxs-lookup"><span data-stu-id="c1138-110">A commit custom action is the complement to a [rollback custom action](rollback-custom-actions.md) and can be used with rollback custom actions to reverse custom actions that make changes directly to the system.</span></span>

<span data-ttu-id="c1138-111">Si noti che un'azione di rollback personalizzata potrebbe non essere in grado di rimuovere tutte le modifiche apportate dalle azioni personalizzate di commit.</span><span class="sxs-lookup"><span data-stu-id="c1138-111">Note that a rollback custom action may not be able to remove all of the changes made by commit custom actions.</span></span> <span data-ttu-id="c1138-112">Sebbene il programma di installazione scriva le azioni personalizzate rollback e commit nello script rollback, le azioni personalizzate di commit vengono eseguite solo dopo che il programma di installazione ha elaborato correttamente lo script di installazione.</span><span class="sxs-lookup"><span data-stu-id="c1138-112">Although the installer writes both rollback and commit custom actions into the rollback script, commit custom actions only run after the installer has successfully processed the installation script.</span></span> <span data-ttu-id="c1138-113">Le azioni personalizzate di commit sono le prime azioni da eseguire nello script di rollback.</span><span class="sxs-lookup"><span data-stu-id="c1138-113">Commit custom actions are the first actions to run in the rollback script.</span></span> <span data-ttu-id="c1138-114">Se un'azione personalizzata di commit ha esito negativo, il programma di installazione avvia il rollback ma può solo eseguire il rollback delle operazioni già scritte nello script di rollback.</span><span class="sxs-lookup"><span data-stu-id="c1138-114">If a commit custom action fails, the installer initiates rollback but can only rollback those operations already written to the rollback script.</span></span> <span data-ttu-id="c1138-115">Ciò significa che, a seconda dell'azione personalizzata commit, un rollback potrebbe non essere in grado di annullare le modifiche apportate dall'azione.</span><span class="sxs-lookup"><span data-stu-id="c1138-115">This means that depending on the commit custom action, a rollback may not be able to undo the changes made by the action.</span></span> <span data-ttu-id="c1138-116">È possibile ignorare gli errori nelle azioni personalizzate di commit creando l'azione personalizzata per ignorare i codici restituiti.</span><span class="sxs-lookup"><span data-stu-id="c1138-116">You can ignore failures in commit custom actions by authoring the custom action to ignore return codes.</span></span>

<span data-ttu-id="c1138-117">Le azioni personalizzate rollback e commit non vengono eseguite quando il rollback è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="c1138-117">Rollback and commit custom actions do not run when rollback is disabled.</span></span> <span data-ttu-id="c1138-118">Se l'autore di un pacchetto richiede questi tipi di azioni personalizzate per l'installazione corretta, è consigliabile usare la proprietà [**RollbackDisabled**](rollbackdisabled.md) in una condizione che impedisce che l'installazione continui quando il rollback è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="c1138-118">If a package author requires these types of custom actions for proper installation, they should use the [**RollbackDisabled**](rollbackdisabled.md) Property in a condition that prevents the installation from continuing when rollback is disabled.</span></span>

 

 



