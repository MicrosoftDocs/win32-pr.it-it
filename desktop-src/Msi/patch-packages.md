---
description: Una patch Windows Installer (file con estensione msp) è un file usato per distribuire gli aggiornamenti alle applicazioni Windows Installer.
ms.assetid: f59736d7-0b5a-466c-ab60-f210ccccb07f
title: Pacchetti patch
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56b4bb5b7e182c8118f5a40c45be440784b92099
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103755610"
---
# <a name="patch-packages"></a><span data-ttu-id="c0721-103">Pacchetti patch</span><span class="sxs-lookup"><span data-stu-id="c0721-103">Patch Packages</span></span>

<span data-ttu-id="c0721-104">Una patch Windows Installer (file con estensione msp) è un file usato per distribuire gli aggiornamenti alle applicazioni Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="c0721-104">A Windows Installer patch (.msp file) is a file used to deliver updates to Windows Installer applications.</span></span> <span data-ttu-id="c0721-105">La patch è un pacchetto autonomo che contiene tutte le informazioni necessarie per aggiornare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c0721-105">The patch is a self-contained package that contains all the information required to update the application.</span></span> <span data-ttu-id="c0721-106">Un pacchetto di patch (file con estensione msp) può essere molto più piccolo del pacchetto di Windows Installer (file con estensione msi) per l'intera applicazione aggiornata.</span><span class="sxs-lookup"><span data-stu-id="c0721-106">A patch package (.msp file) can be much smaller than the Windows Installer package (.msi file) for the entire updated application.</span></span> <span data-ttu-id="c0721-107">Per ulteriori informazioni sulla distribuzione di aggiornamenti più piccoli alle applicazioni, vedere [riduzione delle dimensioni delle patch](reducing-patch-size.md).</span><span class="sxs-lookup"><span data-stu-id="c0721-107">For more information about delivering smaller updates to applications, see [Reducing Patch Size](reducing-patch-size.md).</span></span>

<span data-ttu-id="c0721-108">Un pacchetto di patch contiene gli aggiornamenti effettivi dell'applicazione e descrive quali versioni dell'applicazione possono ricevere la patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-108">A patch package contains the actual updates to the application and describes which versions of the application can receive the patch.</span></span> <span data-ttu-id="c0721-109">Le patch contengono almeno due trasformazioni di database.</span><span class="sxs-lookup"><span data-stu-id="c0721-109">Patches contain at minimum two database transforms.</span></span> <span data-ttu-id="c0721-110">Una trasformazione aggiorna le informazioni nel database di installazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="c0721-110">One transform updates the information in the installation database of the application.</span></span> <span data-ttu-id="c0721-111">L'altra trasformazione aggiunge le informazioni utilizzate dal programma di installazione per l'applicazione di patch ai file.</span><span class="sxs-lookup"><span data-stu-id="c0721-111">The other transform adds information that the installer uses for patching files.</span></span> <span data-ttu-id="c0721-112">Il programma di installazione utilizza le informazioni fornite dalle trasformazioni per applicare i file di patch archiviati nel flusso di file CAB del pacchetto di patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-112">The installer uses the information provided by the transforms to apply patch files that are stored in the cabinet file stream of the patch package.</span></span> <span data-ttu-id="c0721-113">Un pacchetto di patch non dispone di un database come un pacchetto di installazione (file con estensione msi).</span><span class="sxs-lookup"><span data-stu-id="c0721-113">A patch package does not have a database like an installation package (.msi file.)</span></span>

<span data-ttu-id="c0721-114">A partire da Windows Installer versione 3,0, i pacchetti di patch possono contenere informazioni che descrivono la sequenza di patch per la patch rispetto ad altri aggiornamenti nella tabella [MsiPatchSequence](msipatchsequence-table.md) e informazioni descrittive aggiuntive nella tabella [MsiPatchMetadata](msipatchmetadata-table.md) .</span><span class="sxs-lookup"><span data-stu-id="c0721-114">Beginning with Windows Installer version 3.0, patch packages can contain information that describe the patching sequence for the patch relative to other updates in the [MsiPatchSequence](msipatchsequence-table.md) table and additional descriptive information in the [MsiPatchMetadata](msipatchmetadata-table.md) table.</span></span>

<span data-ttu-id="c0721-115">Gli utenti possono installare le applicazioni e gli aggiornamenti da un'immagine di amministrazione di rete.</span><span class="sxs-lookup"><span data-stu-id="c0721-115">Users can install applications and updates from a network administrative image.</span></span> <span data-ttu-id="c0721-116">Sebbene i pacchetti di patch possano essere applicati alle installazioni amministrative, il metodo consigliato per recapitare gli aggiornamenti è quello di consentire agli utenti di installare l'applicazione originale e quindi applicare le patch all'istanza locale dell'applicazione nel computer.</span><span class="sxs-lookup"><span data-stu-id="c0721-116">Although patch packages can be applied to administrative installations, the recommended method to deliver updates is to have users install the original application and then apply the patches to the local instance of the application on to their computer.</span></span> <span data-ttu-id="c0721-117">In questo modo gli utenti vengono sincronizzati con l'immagine amministrativa.</span><span class="sxs-lookup"><span data-stu-id="c0721-117">This keeps users in synchronization with the administrative image.</span></span> <span data-ttu-id="c0721-118">Se viene applicata una patch all'installazione amministrativa, tutti i client dell'installazione amministrativa dovranno rimemorizzare e reinstallare l'applicazione per la ricezione dell'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="c0721-118">If a patch is applied to the administrative installation, all clients of that administrative installation must recache and reinstall the application to receive the update.</span></span> <span data-ttu-id="c0721-119">Fino a quando un utente non memorizza nella cache e reinstalla, l'utente non è in grado di installare le installazioni su richiesta e di ripristino dall'installazione amministrativa con patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-119">Until a user recaches and reinstalls, the user is unable to install-on-demand and repair installations from the patched administrative installation.</span></span>

<span data-ttu-id="c0721-120">A partire da Windows Installer 3,0, gli utenti non amministratori possono applicare patch alle applicazioni gestite per ogni utente dopo che la patch è stata approvata come attendibile da un amministratore.</span><span class="sxs-lookup"><span data-stu-id="c0721-120">Beginning with Windows Installer 3.0, non-administrators can apply patches to per-user-managed applications after the patch has been approved as trusted by an administrator.</span></span> <span data-ttu-id="c0721-121">Per altre informazioni su come eseguire questa operazione, vedere [applicazione di patch Per-User applicazioni gestite](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="c0721-121">For more information on how to do this, see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span> <span data-ttu-id="c0721-122">Un altro metodo consiste nell'usare l'applicazione di patch con privilegi minimi.</span><span class="sxs-lookup"><span data-stu-id="c0721-122">Another method is to use least privileged user account patching.</span></span>

> [!Note]  
> <span data-ttu-id="c0721-123">Se è stato impostato il criterio [AllowLockdownPatch](allowlockdownpatch.md) , gli utenti non amministratori possono applicare una patch a un'applicazione esistente durante l'esecuzione di un'installazione con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="c0721-123">If the [AllowLockdownPatch](allowlockdownpatch.md) policy has been set, non-administrator users can apply a patch to an existing application while running an installation at elevated privileges.</span></span> <span data-ttu-id="c0721-124">Questo metodo non è consigliato perché consente di applicare patch non attendibili a un'applicazione che può essere eseguita con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="c0721-124">This method is not recommended because it enables untrusted patches to be applied to an application that can run with elevated privileges.</span></span>

 

<span data-ttu-id="c0721-125">I pacchetti di patch sono costituiti dalle parti seguenti.</span><span class="sxs-lookup"><span data-stu-id="c0721-125">Patch packages are comprised of the following parts.</span></span> <span data-ttu-id="c0721-126">Per ulteriori informazioni sulla costruzione di pacchetti di patch, vedere [creazione di un pacchetto di patch](creating-a-patch-package.md).</span><span class="sxs-lookup"><span data-stu-id="c0721-126">For more information about the construction of patch packages, see [Creating a Patch Package](creating-a-patch-package.md).</span></span>

## <a name="summary-information-stream"></a><span data-ttu-id="c0721-127">Flusso di informazioni di riepilogo</span><span class="sxs-lookup"><span data-stu-id="c0721-127">Summary Information Stream</span></span>

<span data-ttu-id="c0721-128">Il flusso di informazioni di riepilogo del pacchetto di patch fornisce informazioni sull'identità e lo scopo della patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-128">The summary information stream of the patch package provides information about the identity and purpose of the patch.</span></span>

<span data-ttu-id="c0721-129">Il flusso di informazioni di riepilogo include almeno quanto segue:</span><span class="sxs-lookup"><span data-stu-id="c0721-129">The summary information stream holds a minimum of the following:</span></span>

-   <span data-ttu-id="c0721-130">GUID che identifica in modo univoco la patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-130">A GUID that uniquely identifies the patch.</span></span> <span data-ttu-id="c0721-131">Il GUID per questa patch viene aggiunto con un elenco di GUID per le patch precedenti che vengono sostituite da questa patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-131">The GUID for this patch is appended with a list of GUIDs for earlier patches that are replaced by this patch.</span></span>
-   <span data-ttu-id="c0721-132">Elenco delimitato da punti e virgola di codici prodotto per destinazioni valide per questa patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-132">A semicolon-delimited list of product codes for valid targets for this patch.</span></span>
-   <span data-ttu-id="c0721-133">Elenco delimitato da punti e virgola di nomi di sottoarchivi di trasformazione nell'ordine in cui devono essere elaborati.</span><span class="sxs-lookup"><span data-stu-id="c0721-133">A semicolon-delimited list of transform substorage names in the order they are to be processed.</span></span>
-   <span data-ttu-id="c0721-134">Elenco di origini delimitate da punti e virgola per questa patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-134">A semicolon-delimited list of sources for this patch.</span></span>

## <a name="transform-substorage"></a><span data-ttu-id="c0721-135">Trasforma substorage</span><span class="sxs-lookup"><span data-stu-id="c0721-135">Transform Substorage</span></span>

<span data-ttu-id="c0721-136">Un pacchetto di patch contiene le trasformazioni che possono aggiungere o rimuovere file, voci del registro di sistema, interfacce utente e personalizzazioni.</span><span class="sxs-lookup"><span data-stu-id="c0721-136">A patch package contains transforms that can add or remove files, registry entries, user interfaces, and customizations.</span></span> <span data-ttu-id="c0721-137">Le trasformazioni sono incluse come sottoarchivi nel pacchetto.</span><span class="sxs-lookup"><span data-stu-id="c0721-137">Transforms are included as substorages in the package.</span></span> <span data-ttu-id="c0721-138">Un pacchetto di patch contiene due trasformazioni per ogni database di destinazione.</span><span class="sxs-lookup"><span data-stu-id="c0721-138">A patch package contains two transforms for each target database.</span></span> <span data-ttu-id="c0721-139">Una trasformazione è costituita dagli aggiornamenti effettivi del database di installazione e viene generata dalle differenze tra le immagini originali e aggiornate del pacchetto di installazione.</span><span class="sxs-lookup"><span data-stu-id="c0721-139">One transform is the actual updates to the installation database and is generated from the differences between the original and updated images of the installation package.</span></span> <span data-ttu-id="c0721-140">L'altra trasformazione aggiunge voci alle tabelle [patch](patch-table.md), [PacchettoPatch](patchpackage-table.md), [media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md)e [AdminExecuteSequence](adminexecutesequence-table.md) .</span><span class="sxs-lookup"><span data-stu-id="c0721-140">The other transform adds entries to the [Patch](patch-table.md), [PatchPackage](patchpackage-table.md), [Media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md), and [AdminExecuteSequence](adminexecutesequence-table.md) tables.</span></span> <span data-ttu-id="c0721-141">Le informazioni contenute nell'archivio subarchiviazione lo uniscono a una specifica [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md)e [**ProductLanguage**](productlanguage.md).</span><span class="sxs-lookup"><span data-stu-id="c0721-141">Information in the substorage ties it to a specific [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md), and [**ProductLanguage**](productlanguage.md).</span></span> <span data-ttu-id="c0721-142">Un pacchetto di patch che può essere applicato a più destinazioni contiene più di una coppia di queste trasformazioni.</span><span class="sxs-lookup"><span data-stu-id="c0721-142">A patch package that can be applied to multiple targets contains more than one pair of these transforms.</span></span>

## <a name="cabinet-file-stream"></a><span data-ttu-id="c0721-143">Flusso di file CAB</span><span class="sxs-lookup"><span data-stu-id="c0721-143">Cabinet File Stream</span></span>

<span data-ttu-id="c0721-144">Il flusso di file cab incluso in una patch può contenere questi tipi di file:</span><span class="sxs-lookup"><span data-stu-id="c0721-144">The cabinet file stream included in a patch can contain these types of files:</span></span>

-   <span data-ttu-id="c0721-145">Applicare patch ai file contenenti le informazioni necessarie per modificare la versione precedente del file nella nuova versione.</span><span class="sxs-lookup"><span data-stu-id="c0721-145">Patch files containing the information required to change the old version of the file into the new version.</span></span> <span data-ttu-id="c0721-146">Per aggiornare una o più versioni precedenti di un file, è possibile utilizzare un unico file di patch.</span><span class="sxs-lookup"><span data-stu-id="c0721-146">A single patch file can be used to update one or more old versions of a file.</span></span>
-   <span data-ttu-id="c0721-147">File aggiuntivi aggiunti all'applicazione che non sono presenti nella versione precedente.</span><span class="sxs-lookup"><span data-stu-id="c0721-147">Additional files being added to the application that are not present in the old version.</span></span>
-   <span data-ttu-id="c0721-148">Intero file di sostituzione.</span><span class="sxs-lookup"><span data-stu-id="c0721-148">An entire replacement file.</span></span> <span data-ttu-id="c0721-149">Nel rari casi in cui la nuova versione di un file è inferiore alla patch necessaria per aggiornare la versione precedente del file, il nuovo file può essere incluso completamente.</span><span class="sxs-lookup"><span data-stu-id="c0721-149">In the rare case where the new version of a file is smaller than the patch required to update the old version of that file, the new file can be included in its entirety.</span></span> <span data-ttu-id="c0721-150">Si tratta di nuovi file installati nelle versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="c0721-150">These are new files that are installed over their old versions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c0721-151">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="c0721-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c0721-152">Creazione di un pacchetto di patch</span><span class="sxs-lookup"><span data-stu-id="c0721-152">Creating a Patch Package</span></span>](creating-a-patch-package.md)
</dt> </dl>

 

 



