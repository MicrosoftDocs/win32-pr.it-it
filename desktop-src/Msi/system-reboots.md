---
description: Il Windows Installer può determinare quando è necessario riavviare il sistema e richiedere automaticamente all'utente di riavviare il computer al termine dell'installazione.
ms.assetid: 10117d2c-c2c8-456f-9fce-a89c2d69d3c1
title: Riavvio del sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9b32149bbcd43e284f45d7cabcba94a080be5262
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106308673"
---
# <a name="system-reboots"></a><span data-ttu-id="bf774-103">Riavvio del sistema</span><span class="sxs-lookup"><span data-stu-id="bf774-103">System Reboots</span></span>

<span data-ttu-id="bf774-104">Il Windows Installer può determinare quando è necessario riavviare il sistema e richiedere automaticamente all'utente di riavviare il computer al termine dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="bf774-104">The Windows Installer can determine when a reboot of the system is necessary and automatically prompt the user to reboot at the end of the installation.</span></span> <span data-ttu-id="bf774-105">Ad esempio, il programma di installazione richiede automaticamente un riavvio se è necessario sostituire i file in uso durante l'installazione.</span><span class="sxs-lookup"><span data-stu-id="bf774-105">For example, the installer automatically prompts for a reboot if it needs to replace any files that are in use during the installation.</span></span>

<span data-ttu-id="bf774-106">Le applicazioni che utilizzano [Windows Installer](windows-installer-portal.md) versione 4,0 o successive per l'installazione e la manutenzione utilizzano automaticamente [Gestione riavvio](../rstmgr/restart-manager-portal.md) per ridurre i riavvii del sistema.</span><span class="sxs-lookup"><span data-stu-id="bf774-106">Applications that use [Windows Installer](windows-installer-portal.md) version 4.0 or later for installation and servicing automatically use the [Restart Manager](../rstmgr/restart-manager-portal.md) to reduce system restarts.</span></span> <span data-ttu-id="bf774-107">Windows Installer versione 4,0 o versioni successive dispone di proprietà e criteri che consentono all'autore del pacchetto e agli amministratori di controllare l'interazione di Windows Installer con Gestione riavvio.</span><span class="sxs-lookup"><span data-stu-id="bf774-107">Windows Installer version 4.0 or later has properties and policies that enable the package author and administrators to control the interaction of Windows Installer with the Restart Manager.</span></span> <span data-ttu-id="bf774-108">Per ulteriori informazioni, vedere [utilizzo di Windows Installer con Gestione riavvio](using-windows-installer-with-restart-manager.md).</span><span class="sxs-lookup"><span data-stu-id="bf774-108">For more information, see [Using Windows Installer with Restart Manager](using-windows-installer-with-restart-manager.md).</span></span>

<span data-ttu-id="bf774-109">Gli autori dei pacchetti di installazione possono pianificare ed evitare i riavvii utilizzando le azioni standard nelle tabelle di sequenza e impostando le proprietà.</span><span class="sxs-lookup"><span data-stu-id="bf774-109">Installation package authors can schedule and suppress reboots by using standard actions in the sequence tables and by setting properties.</span></span> <span data-ttu-id="bf774-110">Per gestire i riavvii del sistema vengono utilizzate le azioni e le proprietà seguenti.</span><span class="sxs-lookup"><span data-stu-id="bf774-110">The following actions and properties are used to handle system reboots.</span></span>



| <span data-ttu-id="bf774-111">Azione, finestra di dialogo o proprietà</span><span class="sxs-lookup"><span data-stu-id="bf774-111">Action, dialog box, or property</span></span>                                                | <span data-ttu-id="bf774-112">Breve descrizione</span><span class="sxs-lookup"><span data-stu-id="bf774-112">Brief description</span></span>                                                                                                                                             |
|--------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="bf774-113">Azione ForceReboot</span><span class="sxs-lookup"><span data-stu-id="bf774-113">ForceReboot Action</span></span>](forcereboot-action.md)                                   | <span data-ttu-id="bf774-114">Richiede all'utente di riavviare il computer durante l'installazione.</span><span class="sxs-lookup"><span data-stu-id="bf774-114">Prompts the user for a reboot during the installation.</span></span>                                                                                                        |
| [<span data-ttu-id="bf774-115">Azione ScheduleReboot</span><span class="sxs-lookup"><span data-stu-id="bf774-115">ScheduleReboot Action</span></span>](schedulereboot-action.md)                             | <span data-ttu-id="bf774-116">Richiede all'utente di riavviare il computer al termine dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="bf774-116">Prompts the user for a reboot at the end of the installation.</span></span>                                                                                                 |
| [<span data-ttu-id="bf774-117">**Riavvia proprietà**</span><span class="sxs-lookup"><span data-stu-id="bf774-117">**REBOOT Property**</span></span>](reboot.md)                                              | <span data-ttu-id="bf774-118">Forza o Disattiva determinati prompt automatici per il riavvio del sistema.</span><span class="sxs-lookup"><span data-stu-id="bf774-118">Forces or suppresses certain automatic prompts for a system reboot.</span></span>                                                                                           |
| [<span data-ttu-id="bf774-119">**Proprietà REBOOTPROMPT**</span><span class="sxs-lookup"><span data-stu-id="bf774-119">**REBOOTPROMPT Property**</span></span>](rebootprompt.md)                                  | <span data-ttu-id="bf774-120">Disattiva la visualizzazione dei prompt per i riavvii per l'utente.</span><span class="sxs-lookup"><span data-stu-id="bf774-120">Suppresses the display of prompts for reboots to the user.</span></span> <span data-ttu-id="bf774-121">Tutti i riavvii necessari avvengono automaticamente.</span><span class="sxs-lookup"><span data-stu-id="bf774-121">Any needed reboots happen automatically.</span></span>                                                           |
| [<span data-ttu-id="bf774-122">**Proprietà AFTERREBOOT**</span><span class="sxs-lookup"><span data-stu-id="bf774-122">**AFTERREBOOT Property**</span></span>](afterreboot.md)                                    | <span data-ttu-id="bf774-123">Utilizzato comunemente in una condizione imposta sull'azione ForceReboot.</span><span class="sxs-lookup"><span data-stu-id="bf774-123">Commonly used in a condition imposed on the ForceReboot Action.</span></span>                                                                                               |
| [<span data-ttu-id="bf774-124">Azione InstallValidate</span><span class="sxs-lookup"><span data-stu-id="bf774-124">InstallValidate Action</span></span>](installvalidate-action.md)                           | <span data-ttu-id="bf774-125">Visualizza la finestra di dialogo filesinusale, se necessario, per consentire agli utenti di arrestare i processi ed evitare alcuni riavvii del sistema.</span><span class="sxs-lookup"><span data-stu-id="bf774-125">Displays the FilesInUse Dialog, if necessary, giving users the opportunity to shut down processes and avoid some system reboots.</span></span>                              |
| [<span data-ttu-id="bf774-126">Finestra di dialogo filesinus</span><span class="sxs-lookup"><span data-stu-id="bf774-126">FilesInUse Dialog</span></span>](filesinuse-dialog.md)                                     | <span data-ttu-id="bf774-127">Fornisce agli utenti la possibilità di arrestare i processi per evitare alcuni riavvii del sistema.</span><span class="sxs-lookup"><span data-stu-id="bf774-127">Gives users the opportunity to shut down processes to avoid some system reboots.</span></span>                                                                              |
| [<span data-ttu-id="bf774-128">Finestra di dialogo MsiRMFilesInUse</span><span class="sxs-lookup"><span data-stu-id="bf774-128">MsiRMFilesInUse Dialog</span></span>](msirmfilesinuse-dialog.md)                           | <span data-ttu-id="bf774-129">Fornisce agli utenti la possibilità di usare [Gestione riavvio](../rstmgr/restart-manager-portal.md) per chiudere e riavviare le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="bf774-129">Gives users the option to use the [Restart Manager](../rstmgr/restart-manager-portal.md) to close and restart applications.</span></span> <span data-ttu-id="bf774-130">Disponibile a partire dalla versione Windows Installer 4,0.</span><span class="sxs-lookup"><span data-stu-id="bf774-130">Available beginning with Windows Installer version 4.0.</span></span> |
| [<span data-ttu-id="bf774-131">**Proprietà ReplacedInUseFiles**</span><span class="sxs-lookup"><span data-stu-id="bf774-131">**ReplacedInUseFiles Property**</span></span>](replacedinusefiles.md)                      | <span data-ttu-id="bf774-132">Impostare se il programma di installazione viene installato su un file in uso.</span><span class="sxs-lookup"><span data-stu-id="bf774-132">Set if the installer installs over a file in use.</span></span> <span data-ttu-id="bf774-133">Questa proprietà viene utilizzata dalle azioni personalizzate per rilevare che è necessario riavviare il computer.</span><span class="sxs-lookup"><span data-stu-id="bf774-133">This property is used by custom actions to detect that a reboot is required.</span></span>                                |
| [<span data-ttu-id="bf774-134">**MSIRESTARTMANAGERCONTROL**</span><span class="sxs-lookup"><span data-stu-id="bf774-134">**MSIRESTARTMANAGERCONTROL**</span></span>](msirestartmanagercontrol.md)                   | <span data-ttu-id="bf774-135">Per disabilitare Windows Installer interazione con [Gestione riavvio](../rstmgr/restart-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="bf774-135">Property to disable Windows Installer interaction with the [Restart Manager](../rstmgr/restart-manager-portal.md).</span></span> <span data-ttu-id="bf774-136">Disponibile a partire dalla versione Windows Installer 4,0.</span><span class="sxs-lookup"><span data-stu-id="bf774-136">Available beginning with Windows Installer version 4.0.</span></span>          |
| [<span data-ttu-id="bf774-137">**MSIDISABLERMRESTART**</span><span class="sxs-lookup"><span data-stu-id="bf774-137">**MSIDISABLERMRESTART**</span></span>](msidisablermrestart.md)                             | <span data-ttu-id="bf774-138">Specifica il modo in cui [Gestione riavvio](../rstmgr/restart-manager-portal.md) chiude e riavvia le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="bf774-138">Specifies how the [Restart Manager](../rstmgr/restart-manager-portal.md) closes and restarts applications.</span></span> <span data-ttu-id="bf774-139">Disponibile a partire dalla versione Windows Installer 4,0.</span><span class="sxs-lookup"><span data-stu-id="bf774-139">Available beginning with Windows Installer version 4.0.</span></span>                  |
| [<span data-ttu-id="bf774-140">**MSIRMSHUTDOWN**</span><span class="sxs-lookup"><span data-stu-id="bf774-140">**MSIRMSHUTDOWN**</span></span>](msirmshutdown.md)                                         | <span data-ttu-id="bf774-141">Specifica il modo in cui [Gestione riavvio](../rstmgr/restart-manager-portal.md) chiude e riavvia le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="bf774-141">Specifies how the [Restart Manager](../rstmgr/restart-manager-portal.md) closes and restarts applications.</span></span> <span data-ttu-id="bf774-142">Disponibile a partire dalla versione Windows Installer 4,0.</span><span class="sxs-lookup"><span data-stu-id="bf774-142">Available beginning with Windows Installer version 4.0.</span></span>                  |
| [<span data-ttu-id="bf774-143">**MsiSystemRebootPending**</span><span class="sxs-lookup"><span data-stu-id="bf774-143">**MsiSystemRebootPending**</span></span>](msisystemrebootpending.md)                       | <span data-ttu-id="bf774-144">Questa proprietà viene impostata dal programma di installazione se è in sospeso il riavvio del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="bf774-144">Installer sets this property if a restart of the operating system is pending.</span></span> <span data-ttu-id="bf774-145">Disponibile a partire dalla versione Windows Installer 4,0.</span><span class="sxs-lookup"><span data-stu-id="bf774-145">Available beginning with Windows Installer version 4.0.</span></span>                         |
| [<span data-ttu-id="bf774-146">DisableAutomaticApplicationShutdown</span><span class="sxs-lookup"><span data-stu-id="bf774-146">DisableAutomaticApplicationShutdown</span></span>](disableautomaticapplicationshutdown.md) | <span data-ttu-id="bf774-147">Criteri per disabilitare Windows Installer interazione con [Gestione riavvio](../rstmgr/restart-manager-portal.md).</span><span class="sxs-lookup"><span data-stu-id="bf774-147">Policy to disable Windows Installer interaction with [Restart Manager](../rstmgr/restart-manager-portal.md).</span></span> <span data-ttu-id="bf774-148">Disponibile a partire dalla versione Windows Installer 4,0.</span><span class="sxs-lookup"><span data-stu-id="bf774-148">Available beginning with Windows Installer version 4.0.</span></span>                |



 

<span data-ttu-id="bf774-149">ERRORE \_ installazione \_ sospensione indica che l'installazione non è stata completata o non è stata completata.</span><span class="sxs-lookup"><span data-stu-id="bf774-149">ERROR\_INSTALL\_SUSPEND means the installation did not complete or rollback.</span></span> <span data-ttu-id="bf774-150">Per completare l'installazione, è necessario riprenderla.</span><span class="sxs-lookup"><span data-stu-id="bf774-150">The installation must resume before it is completed.</span></span> <span data-ttu-id="bf774-151">Potrebbe essere necessario riavviare il sistema prima di poter riprendere l'installazione.</span><span class="sxs-lookup"><span data-stu-id="bf774-151">The system may need to be rebooted before the installation can resume.</span></span>

<span data-ttu-id="bf774-152">Il Windows Installer restituisce il codice di errore \_ install \_ Suspend Quando viene eseguita l' [azione ForceReboot](forcereboot-action.md) .</span><span class="sxs-lookup"><span data-stu-id="bf774-152">The Windows Installer returns the error code ERROR\_INSTALL\_SUSPEND when the [ForceReboot action](forcereboot-action.md) is run.</span></span> <span data-ttu-id="bf774-153">Viene restituito un errore di \_ \_ riavvio \_ necessario se è necessario riavviare prima di eseguire l'applicazione e viene restituito \_ l'errore \_ riavvio completato \_ se il programma di installazione ha effettivamente avviato un riavvio.</span><span class="sxs-lookup"><span data-stu-id="bf774-153">It returns ERROR\_SUCCESS\_REBOOT\_REQUIRED if a reboot is required before running the application, and it returns ERROR\_SUCCESS\_REBOOT\_INITIATED if the installer has actually started a reboot.</span></span> <span data-ttu-id="bf774-154">Si noti che poiché i riavvii sono asincroni, il riavvio può effettivamente verificarsi prima della restituzione del codice di errore.</span><span class="sxs-lookup"><span data-stu-id="bf774-154">Note that because reboots are asynchronous, the reboot may actually occur before the error code is returned.</span></span> <span data-ttu-id="bf774-155">Per ulteriori informazioni, vedere [codici di errore](error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="bf774-155">For more information, see [Error Codes](error-codes.md).</span></span>

<span data-ttu-id="bf774-156">Le azioni personalizzate possono forzare la richiesta di riavvio al termine di un'installazione chiamando [**MsiSetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msisetmode).</span><span class="sxs-lookup"><span data-stu-id="bf774-156">Custom actions can force a prompt for reboot at the end of an installation by calling [**MsiSetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msisetmode).</span></span> <span data-ttu-id="bf774-157">Le azioni personalizzate possono inoltre verificare la presenza di un prompt di riavvio in sospeso chiamando [**MsiGetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode).</span><span class="sxs-lookup"><span data-stu-id="bf774-157">Custom actions can also check for a pending reboot prompt by calling [**MsiGetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode).</span></span>

## <a name="filesinuse-dialog"></a><span data-ttu-id="bf774-158">Finestra di dialogo filesinus</span><span class="sxs-lookup"><span data-stu-id="bf774-158">FilesInUse Dialog</span></span>

<span data-ttu-id="bf774-159">Il programma di installazione può determinare quando è necessario riavviare il sistema e richiedere all'utente una richiesta di riavvio.</span><span class="sxs-lookup"><span data-stu-id="bf774-159">The installer can determine when a reboot of the system is necessary and prompt the user with a request to reboot.</span></span> <span data-ttu-id="bf774-160">In genere, è necessario riavviare il sistema perché il programma di installazione sta tentando di installare un file attualmente in uso.</span><span class="sxs-lookup"><span data-stu-id="bf774-160">Commonly, a system reboot is required because the installer is attempting to install a file that is currently being used.</span></span> <span data-ttu-id="bf774-161">Se l' [azione InstallValidate](installvalidate-action.md) rileva l'installazione di un file in uso, viene visualizzata la [finestra di dialogo filesinusale](filesinuse-dialog.md).</span><span class="sxs-lookup"><span data-stu-id="bf774-161">If the [InstallValidate action](installvalidate-action.md) detects the installation of a file in use it displays the [FilesInUse Dialog](filesinuse-dialog.md).</span></span>

<span data-ttu-id="bf774-162">Se si prevede che il programma di installazione visualizzi un FilesInUseDialog, ma ciò potrebbe essere dovuto a uno dei motivi seguenti:</span><span class="sxs-lookup"><span data-stu-id="bf774-162">If you expect the installer to display a FilesInUseDialog, but it does not, this may be due to one of the following reasons:</span></span>

-   <span data-ttu-id="bf774-163">I file in uso non sono eseguibili.</span><span class="sxs-lookup"><span data-stu-id="bf774-163">The files in use are not executables.</span></span>
-   <span data-ttu-id="bf774-164">Il programma di installazione non sta effettivamente tentando di installare tali file.</span><span class="sxs-lookup"><span data-stu-id="bf774-164">The installer is not actually trying to install those files.</span></span>
-   <span data-ttu-id="bf774-165">Il processo che contiene questi file è il processo che richiama l'installazione.</span><span class="sxs-lookup"><span data-stu-id="bf774-165">The process holding those files is the process invoking the installation.</span></span>
-   <span data-ttu-id="bf774-166">Il processo che contiene questi file non dispone di una finestra con un titolo associato.</span><span class="sxs-lookup"><span data-stu-id="bf774-166">The process holding those files is one that does not have a window with a title associated with it.</span></span>

<span data-ttu-id="bf774-167">Per ulteriori informazioni, vedere [registrazione di richieste di riavvio](logging-of-reboot-requests.md).</span><span class="sxs-lookup"><span data-stu-id="bf774-167">For more information, see [Logging of Reboot Requests](logging-of-reboot-requests.md).</span></span>

 

 
