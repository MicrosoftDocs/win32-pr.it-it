---
description: Quando si applica l'applicazione di patch ai file con contenuto variabile, potrebbe essere necessario mantenere le aree selezionate del file di destinazione per impedire la perdita di informazioni critiche.
ms.assetid: 4a610588-556e-489f-ac14-73e5e6b776fe
title: Applicazione di patch alle aree selezionate di un file
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 778df4b0cc98eeacd1106929b18c7461c6fa9e70
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106308892"
---
# <a name="patching-selected-regions-of-a-file"></a><span data-ttu-id="34c59-103">Applicazione di patch alle aree selezionate di un file</span><span class="sxs-lookup"><span data-stu-id="34c59-103">Patching Selected Regions of a File</span></span>

<span data-ttu-id="34c59-104">Quando si applica l'applicazione di patch ai file con contenuto variabile, potrebbe essere necessario mantenere le aree selezionate del file di destinazione per impedire la perdita di informazioni critiche.</span><span class="sxs-lookup"><span data-stu-id="34c59-104">When patching files having variable content, it may be necessary to retain selected regions of the target file to prevent the lost of critical information.</span></span> <span data-ttu-id="34c59-105">Alcune applicazioni, ad esempio, timbrano le informazioni utente nel file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="34c59-105">For example, some applications stamp user information into the executable file.</span></span> <span data-ttu-id="34c59-106">Poiché il contenuto del file di destinazione può dipendere dal computer in cui è installata l'applicazione, diventa difficile determinare se un file specifico è una destinazione valida per la patch.</span><span class="sxs-lookup"><span data-stu-id="34c59-106">Because the contents of the target file might depend upon the computer on which the application is installed, it becomes difficult to determine whether a particular file is a valid target for the patch.</span></span> <span data-ttu-id="34c59-107">Le informazioni sugli utenti scritte nel file di destinazione possono anche essere sovrascritte da una patch.</span><span class="sxs-lookup"><span data-stu-id="34c59-107">User information written in the target file can also be overwritten by a patch.</span></span>

<span data-ttu-id="34c59-108">Quando si genera un file PCP (Patch Creation Properties) con [Msimsp.exe](msimsp-exe.md) e [PATCHWIZ.DLL](patchwiz-dll.md), è possibile specificare che le informazioni in determinate aree del file di destinazione vengano ignorate durante l'applicazione di patch.</span><span class="sxs-lookup"><span data-stu-id="34c59-108">When you generate a patch creation properties (PCP) file with [Msimsp.exe](msimsp-exe.md) and [PATCHWIZ.DLL](patchwiz-dll.md), you can specify that the information in certain regions of the target file be ignored during patching.</span></span> <span data-ttu-id="34c59-109">È anche possibile specificare che le informazioni in altre aree del file di destinazione vengano conservate e copiate in un percorso di offset nel file aggiornato.</span><span class="sxs-lookup"><span data-stu-id="34c59-109">You can also specify that information in other regions of the target file be retained and copied to an offset location in the updated file.</span></span> <span data-ttu-id="34c59-110">Specificare le aree del file di destinazione da ignorare e le aree da mantenere durante la creazione delle tabelle [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md), [ExternalFiles](externalfiles-table-patchwiz-dll-.md)e [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) .</span><span class="sxs-lookup"><span data-stu-id="34c59-110">You specify which regions of the target file to ignore and which regions to retain when authoring the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md), [ExternalFiles](externalfiles-table-patchwiz-dll-.md), and [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) tables.</span></span>

<span data-ttu-id="34c59-111">Utilizzare la colonna RetainOffsets della tabella [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) e le colonne RetainOffsets e RetainLengths della tabella [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) per copiare un intervallo di informazioni dal file di destinazione in un intervallo di offset nel file aggiornato.</span><span class="sxs-lookup"><span data-stu-id="34c59-111">Use the RetainOffsets column of the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) table and the RetainOffsets and RetainLengths columns of the [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) table to copy a range of information from the target file to an offset range in the updated file.</span></span> <span data-ttu-id="34c59-112">Le informazioni contenute in questo intervallo vengono mantenute.</span><span class="sxs-lookup"><span data-stu-id="34c59-112">The information in this range is retained.</span></span> <span data-ttu-id="34c59-113">Consente di specificare la lunghezza dell'intervallo utilizzando le colonne RetainLengths della tabella FamilyFileRanges.</span><span class="sxs-lookup"><span data-stu-id="34c59-113">Specify the length of the range using the RetainLengths columns of the FamilyFileRanges table.</span></span> <span data-ttu-id="34c59-114">La lunghezza dell'intervallo mantenuto è la stessa nei file di destinazione e aggiornati.</span><span class="sxs-lookup"><span data-stu-id="34c59-114">The length of the retained range is the same in the target and updated files.</span></span> <span data-ttu-id="34c59-115">Specificare l'offset dell'intervallo nel file di destinazione usando la colonna RetainOffsets della tabella TargetFiles OptionalData.</span><span class="sxs-lookup"><span data-stu-id="34c59-115">Specify the offset of the range in the target file using the RetainOffsets column of the TargetFiles OptionalData table.</span></span> <span data-ttu-id="34c59-116">Specificare l'offset dell'intervallo nel file aggiornato utilizzando la colonna RetainOffsets della tabella FamilyFileRanges.</span><span class="sxs-lookup"><span data-stu-id="34c59-116">Specify the offset of the range in the updated file using the RetainOffsets column of the FamilyFileRanges table.</span></span> <span data-ttu-id="34c59-117">L'intervallo del file di destinazione mantenuto è quindi il valore di RetainOffsets nella tabella TargetFiles OptionalData e RetainLengths.</span><span class="sxs-lookup"><span data-stu-id="34c59-117">The range of the target file retained is therefore the value of RetainOffsets in the TargetFiles OptionalData table plus RetainLengths.</span></span> <span data-ttu-id="34c59-118">Queste informazioni vengono copiate nel file di aggiornamento nell'intervallo specificato dal valore di RetainOffsets nelle tabelle FamilyFileRanges più RetainLengths.</span><span class="sxs-lookup"><span data-stu-id="34c59-118">This information gets copied to the update file in the range given by the value of RetainOffsets in the FamilyFileRanges tables plus RetainLengths.</span></span> <span data-ttu-id="34c59-119">È possibile specificare più intervalli, ma l'ordine delle lunghezze deve corrispondere all'ordine degli offset.</span><span class="sxs-lookup"><span data-stu-id="34c59-119">You can specify multiple ranges but the order of the lengths must match the order of the offsets.</span></span>

<span data-ttu-id="34c59-120">Usare la tabella [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) per ignorare un intervallo del file di destinazione.</span><span class="sxs-lookup"><span data-stu-id="34c59-120">Use the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) table to ignore a range of the target file.</span></span> <span data-ttu-id="34c59-121">Le informazioni contenute in questo intervallo del file di destinazione possono comunque essere sovrascritte dalla patch.</span><span class="sxs-lookup"><span data-stu-id="34c59-121">Information in this range of the target file can still be overwritten by the patch.</span></span> <span data-ttu-id="34c59-122">Specificare l'offset dell'intervallo nella colonna IgnoreOffsets e la relativa lunghezza nella colonna IgnoreLengths.</span><span class="sxs-lookup"><span data-stu-id="34c59-122">Specify the offset of the range in the IgnoreOffsets column and its length in the IgnoreLengths column.</span></span> <span data-ttu-id="34c59-123">È possibile specificare più intervalli, ma l'ordine delle lunghezze deve corrispondere all'ordine degli offset.</span><span class="sxs-lookup"><span data-stu-id="34c59-123">You can specify multiple ranges but the order of the lengths must match the order of the offsets.</span></span>

<span data-ttu-id="34c59-124">I valori nelle colonne lunghezze e offset possono essere decimali o esadecimali.</span><span class="sxs-lookup"><span data-stu-id="34c59-124">The values in the lengths and offsets columns can be decimal or hexadecimal.</span></span> <span data-ttu-id="34c59-125">[PATCHWIZ.DLL](patchwiz-dll.md) considera il valore come esadecimale se è preceduto da "0x".</span><span class="sxs-lookup"><span data-stu-id="34c59-125">[PATCHWIZ.DLL](patchwiz-dll.md) treats the value as hexadecimal if it is prefixed by "0x".</span></span> <span data-ttu-id="34c59-126">Le colonne sono colonne stringa, quindi PATCHWIZ.DLL converte i valori in ULONG.</span><span class="sxs-lookup"><span data-stu-id="34c59-126">The columns are string columns, so PATCHWIZ.DLL converts the values to ULONGs.</span></span> <span data-ttu-id="34c59-127">La colonna length specifica la lunghezza in byte.</span><span class="sxs-lookup"><span data-stu-id="34c59-127">The length column specifies the length in bytes.</span></span>

 

 



