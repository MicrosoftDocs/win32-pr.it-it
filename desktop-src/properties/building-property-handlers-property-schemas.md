---
description: Le proprietà utilizzate nel sistema di proprietà di Windows Vista e versioni successive sono dichiarate negli schemi proprietà.
ms.assetid: 4e301210-df3a-41db-a58e-015ee8d41714
title: Creazione di proprietà personalizzate.
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 90849383e25889edf7f3abd4704c36354eff153c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104346646"
---
# <a name="creating-custom-properties"></a><span data-ttu-id="27e15-103">Creazione di proprietà personalizzate.</span><span class="sxs-lookup"><span data-stu-id="27e15-103">Creating Custom Properties</span></span>

<span data-ttu-id="27e15-104">Le proprietà utilizzate nel sistema di proprietà di Windows Vista e versioni successive sono dichiarate negli schemi proprietà.</span><span class="sxs-lookup"><span data-stu-id="27e15-104">Properties used in the property system of Windows Vista and later are declared in property schemas.</span></span> <span data-ttu-id="27e15-105">Questi schemi di proprietà sono definiti in file XML e descrivono i vari aspetti di una proprietà, incluso il relativo tipo (incluse le informazioni sul tipo primitivo e se è multivalore), come possono essere visualizzati nell'interfaccia utente di Windows, il tipo di etichette (stringhe di modifica descrittiva) da usare con esso e come viene memorizzato nella cache nell'archivio di ricerca per un accesso più rapido</span><span class="sxs-lookup"><span data-stu-id="27e15-105">These property schemas are defined in XML files and describe various aspects of a property including its type (including information on its primitive type and whether it is multi-valued), how it can be displayed in the Windows UI, what kind of labels (user-friendly editing strings) are to be used with it, and how it is cached in the search store for faster access.</span></span> <span data-ttu-id="27e15-106">Le proprietà sono identificate dal nome canonico o dalla relativa chiave di proprietà (PKEY).</span><span class="sxs-lookup"><span data-stu-id="27e15-106">Properties are identified by their Canonical Name or their Property Key (PKEY).</span></span>

<span data-ttu-id="27e15-107">Un nome canonico è il nome descrittivo della proprietà e usa una convenzione dello spazio dei nomi simile a quella usata in Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="27e15-107">A canonical name is the reader-friendly name of the property and uses a namespace convention similar to that used in Microsoft .NET.</span></span> <span data-ttu-id="27e15-108">Per le proprietà definite dal sistema, ovvero quelle incluse in Windows, la convenzione è `System.GroupName.PropertyName` .</span><span class="sxs-lookup"><span data-stu-id="27e15-108">For system-defined properties (those that are included with Windows), the convention is `System.GroupName.PropertyName`.</span></span> <span data-ttu-id="27e15-109">Si noti che in questi nomi viene usato lo schema di maiuscole e minuscole Pascal, che converte in maiuscolo le lettere all'inizio di ogni parola.</span><span class="sxs-lookup"><span data-stu-id="27e15-109">Note that the Pascal casing scheme, which capitalizes letters at the beginning of each word, is used in these names.</span></span> <span data-ttu-id="27e15-110">I nomi canonici vengono usati in vari punti, inclusi gli elenchi di proprietà e i nomi di colonna nella cache delle proprietà.</span><span class="sxs-lookup"><span data-stu-id="27e15-110">Canonical names are used in various places including property lists and column names in the property cache.</span></span> <span data-ttu-id="27e15-111">Vengono pertanto utilizzati nelle query Structured Query Language (SQL) per recuperare il valore di una proprietà.</span><span class="sxs-lookup"><span data-stu-id="27e15-111">They are therefore used in Structured Query Language (SQL) queries to retrieve a property value.</span></span>

<span data-ttu-id="27e15-112">Un PKEY è una coppia di valori costituita da un GUID e un **valore DWORD**, definiti rispettivamente come *FormatID* e *propid* .</span><span class="sxs-lookup"><span data-stu-id="27e15-112">A PKEY is a pair of values consisting of a GUID and a **DWORD**, referred to as a *formatID* and *propID* respectively.</span></span> <span data-ttu-id="27e15-113">È rappresentato da una struttura [**PropertyKey**](/windows/win32/api/wtypes/ns-wtypes-propertykey) .</span><span class="sxs-lookup"><span data-stu-id="27e15-113">It is represented by a [**PROPERTYKEY**](/windows/win32/api/wtypes/ns-wtypes-propertykey) structure.</span></span> <span data-ttu-id="27e15-114">La maggior parte delle API del sistema di proprietà accetta queste chiavi di proprietà.</span><span class="sxs-lookup"><span data-stu-id="27e15-114">Most of the property system APIs accept these property keys.</span></span> <span data-ttu-id="27e15-115">Windows Software Development Kit (SDK) include il file di intestazione Propkey. h che include una definizione macro di ogni chiave di `System` proprietà con la convenzione `PKEY_GroupName_PropertyName` .</span><span class="sxs-lookup"><span data-stu-id="27e15-115">The Windows Software Development Kit (SDK) includes the header file Propkey.h that includes a macro definition of each of the `System` property keys with the convention of `PKEY_GroupName_PropertyName`.</span></span> <span data-ttu-id="27e15-116">Ad esempio, `PKEY_Photo_DateTaken` è la chiave della proprietà per la proprietà con nome canonico `System.Photo.DateTaken` .</span><span class="sxs-lookup"><span data-stu-id="27e15-116">For example, `PKEY_Photo_DateTaken` is the property key for the property with canonical name `System.Photo.DateTaken`.</span></span> <span data-ttu-id="27e15-117">I valori delle proprietà vengono archiviati nel formato di una struttura [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) , che è un'estensione dei tipi Variant OLE.</span><span class="sxs-lookup"><span data-stu-id="27e15-117">Property values are stored in the form of a [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) structure, which is an extension of the OLE VARIANT types.</span></span>

<span data-ttu-id="27e15-118">In questa sezione è contenuto il seguente argomento, che è parte integrante della creazione di proprietà personalizzate:</span><span class="sxs-lookup"><span data-stu-id="27e15-118">This section contains the following topic, which is integral to creating custom properties:</span></span>

-   [<span data-ttu-id="27e15-119">Informazioni sullo schema della descrizione della proprietà</span><span class="sxs-lookup"><span data-stu-id="27e15-119">Understanding the Property Description Schema</span></span>](./propdesc-schema-entry.md)

> [!Note]  
> <span data-ttu-id="27e15-120">A causa di potenziali problemi che l'indicizzatore potrebbe avere quando si utilizza lo schema del sistema di proprietà, è fondamentale definire gli attributi in modo accurato e strategico per il primo rilascio dello schema.</span><span class="sxs-lookup"><span data-stu-id="27e15-120">Due to potential difficulties that the indexer may have when consuming the property system's schema, it is critical that you define attributes carefully and strategically for the first release of the schema.</span></span> <span data-ttu-id="27e15-121">Eventuali modifiche apportate agli attributi (tipo, larghezza delle colonne, se indicizzabili) non verranno riflesse nel database dopo che uno schema è stato registrato.</span><span class="sxs-lookup"><span data-stu-id="27e15-121">Any changes to attributes (type, column width, whether indexible) will not be reflected in the database after a schema has been registered.</span></span> <span data-ttu-id="27e15-122">L'unico modo per riconoscere queste modifiche dopo che lo schema è stato registrato una volta in un sistema sarebbe ricompilare l'indice e quindi registrare il nuovo schema oppure per registrare lo schema e quindi creare una nuova proprietà per ogni versione successiva; ad esempio `PKEY_GroupName_PropertyNameV2` , `PKEY_GroupName_PropertyNameV3` e così via).</span><span class="sxs-lookup"><span data-stu-id="27e15-122">The only ways to have these changes recognized after the schema has been registered once on a system would be either to rebuild the index and then register the new schema, or to register the schema and then create a new property for each subsequent release; for example `PKEY_GroupName_PropertyNameV2`, `PKEY_GroupName_PropertyNameV3`, and so forth).</span></span> <span data-ttu-id="27e15-123">Non è consigliabile creare nuove proprietà in questo modo, perché più colonne estranee potrebbero avere conseguenze sulle prestazioni del sistema.</span><span class="sxs-lookup"><span data-stu-id="27e15-123">We do not recommend creating new properties in this manner, because multiple extraneous columns may impact system performance.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="27e15-124">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="27e15-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="27e15-125">Implementazione di gestori di proprietà</span><span class="sxs-lookup"><span data-stu-id="27e15-125">Implementing Property Handlers</span></span>](./building-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="27e15-126">Schema Descrizione proprietà</span><span class="sxs-lookup"><span data-stu-id="27e15-126">Property Description Schema</span></span>](./propdesc-schema-entry.md)
</dt> </dl>

 

 
