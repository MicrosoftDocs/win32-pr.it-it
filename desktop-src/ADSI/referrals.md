---
title: Riferimenti (ADSI)
description: I riferimenti si verificano quando il server su cui si esegue una query non contiene tali dati, ma è possibile trovarli.
ms.assetid: 2068ce7a-0b94-4d25-a18f-97f26863bd1d
ms.tgt_platform: multiple
keywords:
- Riferimenti ADSI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e79e6b2e8a737f6bb40386effd68f7f31d8d490d
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "104118439"
---
# <a name="referrals-adsi"></a><span data-ttu-id="536d0-104">Riferimenti (ADSI)</span><span class="sxs-lookup"><span data-stu-id="536d0-104">Referrals (ADSI)</span></span>

<span data-ttu-id="536d0-105">I riferimenti si verificano quando il server su cui si esegue una query non contiene tali dati, ma è possibile trovarli.</span><span class="sxs-lookup"><span data-stu-id="536d0-105">Referrals occur when the server you are querying does not contain that data, but can find it.</span></span> <span data-ttu-id="536d0-106">Il server di destinazione restituisce il set di risultati, che può includere sia i dati effettivi che un riferimento a un altro server per recuperare i dati aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="536d0-106">The target server returns the result set, which may include both the actual data and a referral to another server to retrieve the additional data.</span></span> <span data-ttu-id="536d0-107">Abilitando la ricerca dei *riferimenti*, il codice client ADSI sottostante utilizzerà i dati di riferimento per tentare di recuperare l'oggetto di destinazione dal server descritto nei dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="536d0-107">By enabling *referral chasing*, the underlying ADSI client code will use that referral data to attempt to retrieve the target object from the server described in the referral data.</span></span> <span data-ttu-id="536d0-108">Tenere presente che la disabilitazione della ricerca dei riferimenti può comportare un set di risultati più piccolo, mentre l'abilitazione del riferimento può causare la disattivazione di una query su più server.</span><span class="sxs-lookup"><span data-stu-id="536d0-108">Be aware that the disabling referral chasing may result in a smaller result set, whereas enabling referral chasing may cause a query to span many servers.</span></span> <span data-ttu-id="536d0-109">Quando possibile, la soluzione consigliata consiste nell'usare il catalogo globale.</span><span class="sxs-lookup"><span data-stu-id="536d0-109">When possible, the recommended solution is to use the global catalog.</span></span>

<span data-ttu-id="536d0-110">Per ulteriori informazioni sui riferimenti e l'inseguimento dei riferimenti in Active Directory, vedere [riferimenti](/windows/desktop/AD/referrals).</span><span class="sxs-lookup"><span data-stu-id="536d0-110">For more information about referrals and referral chasing in Active Directory, see [Referrals](/windows/desktop/AD/referrals).</span></span>

<span data-ttu-id="536d0-111">Ad esempio, quando un client indica al server A (A) di eseguire una query su un oggetto utente (U), un può suggerire che il client continua la ricerca nel server B (B) se U non si trova in un, ma è noto come B. Il client ha la possibilità di scegliere di seguire o meno il riferimento.</span><span class="sxs-lookup"><span data-stu-id="536d0-111">For example, when a client instructs Server A (A) to query a user object (U), A can suggest that the client continue the search on Server B (B) if U does not reside on A, but is known to be on B. The client has the choice of pursuing the referral or not.</span></span> <span data-ttu-id="536d0-112">I riferimenti di ricerca fanno in modo che il client richieda un riconoscimento avanzato della funzionalità di ogni server.</span><span class="sxs-lookup"><span data-stu-id="536d0-112">Search referrals free the client from requiring advanced recognition of the capability of each server.</span></span> <span data-ttu-id="536d0-113">Tuttavia, il client deve specificare il tipo di riferimenti che un server deve eseguire.</span><span class="sxs-lookup"><span data-stu-id="536d0-113">However, the client must specify the type of referrals a server should make.</span></span>

<span data-ttu-id="536d0-114">Active Directory offre servizi di riferimento per la ricerca.</span><span class="sxs-lookup"><span data-stu-id="536d0-114">Active Directory offers search referral services.</span></span> <span data-ttu-id="536d0-115">Un client può scegliere uno dei seguenti tipi di Chasing di riferimento:</span><span class="sxs-lookup"><span data-stu-id="536d0-115">A client can choose any of the following types of referral chasing:</span></span>

-   <span data-ttu-id="536d0-116">Mai: il server non deve generare un riferimento a un client anche se riconosce che un altro server archivia i dati richiesti.</span><span class="sxs-lookup"><span data-stu-id="536d0-116">Never: The server should not generate a referral to a client even though it recognizes that another server stores the requested data.</span></span>
-   <span data-ttu-id="536d0-117">Esterno: il server deve generare riferimenti se la richiesta può essere risolta in un altro server di un albero di directory diverso.</span><span class="sxs-lookup"><span data-stu-id="536d0-117">External: The server should generate referrals if the request can be resolved on another server of a different directory tree.</span></span> <span data-ttu-id="536d0-118">Ad esempio, un client esegue una query "OU = Sales, DC = Fabrikam, DC = COM" nel server "fab01" nel dominio "Fabrikam.com".</span><span class="sxs-lookup"><span data-stu-id="536d0-118">For example, a client queries "OU=Sales,DC=Fabrikam,DC=COM" on the "fab01" server on the "Fabrikam.com" domain.</span></span> <span data-ttu-id="536d0-119">Tuttavia, l'oggetto non appartiene a "fab01", ma è noto che si trova nel server "ARC01" nel dominio "Fabrikam.com".</span><span class="sxs-lookup"><span data-stu-id="536d0-119">However, the object does not belong to "fab01", but is known to be on the "arc01" server on the "Fabrikam.com" domain.</span></span> <span data-ttu-id="536d0-120">Quindi, "fab01" fa riferimento al client a "ARC01".</span><span class="sxs-lookup"><span data-stu-id="536d0-120">Thus, "fab01" refers the client to "arc01".</span></span>
-   <span data-ttu-id="536d0-121">Subordinata: il server deve generare riferimenti se la richiesta può essere risolta in un server il cui nome costituisce un percorso contiguo dal server di origine.</span><span class="sxs-lookup"><span data-stu-id="536d0-121">Subordinate: The server should generate referrals if the request can be resolved on a server whose name forms a contiguous path from the originating server.</span></span> <span data-ttu-id="536d0-122">L'ambito di ricerca deve essere a livello di sottoalbero.</span><span class="sxs-lookup"><span data-stu-id="536d0-122">The search scope must be at the subtree level.</span></span>

    <span data-ttu-id="536d0-123">Ad esempio, il server A contiene oggetti in "DC = Sales, DC = Fabrikam, DC = com".</span><span class="sxs-lookup"><span data-stu-id="536d0-123">For example, Server A contains objects in "DC=Sales,DC=Fabrikam,DC=Com".</span></span> <span data-ttu-id="536d0-124">Il server B contiene oggetti in "DC = Seattle, DC = Sales, DC = Fabrikam, DC = com".</span><span class="sxs-lookup"><span data-stu-id="536d0-124">Server B contains objects in "DC=Seattle,DC=Sales,DC=Fabrikam,DC=Com".</span></span> <span data-ttu-id="536d0-125">Tenere presente che il nome del server B costituisce un percorso contiguo dal server A. Quando un client contatta il server A, richiede la ricerca di un sottoalbero su "DC = Sales, DC = Fabrikam, DC = com" e specifica che il riferimento deve essere un tipo subordinato, si verifica l'evento seguente:</span><span class="sxs-lookup"><span data-stu-id="536d0-125">Be aware that the name of Server B forms a contiguous path from Server A. When a client contacts Server A, requests a subtree search on "DC=Sales,DC=Fabrikam,DC=Com", and specifies the referral to be a subordinate type, the following event occurs:</span></span>

    -   <span data-ttu-id="536d0-126">Il server A restituisce tutti gli oggetti che conosce nell'ambito.</span><span class="sxs-lookup"><span data-stu-id="536d0-126">Server A returns all objects that it knows within its scope.</span></span>
    -   <span data-ttu-id="536d0-127">Il server A informa il client che gli oggetti in "DC = Seattle, DC = Sales, DC = Fabrikam, DC = COM" sono reperibili nel server B.</span><span class="sxs-lookup"><span data-stu-id="536d0-127">Server A informs the client that objects in "DC=Seattle,DC=Sales,DC=Fabrikam,DC=COM" can be found on Server B.</span></span>

    <span data-ttu-id="536d0-128">Il client può scegliere di contattare il server B. In tal caso, si verifica l'evento seguente:</span><span class="sxs-lookup"><span data-stu-id="536d0-128">The client can choose to contact Server B. If so, the following event occurs:</span></span>

    -   <span data-ttu-id="536d0-129">Il server B risponde con gli oggetti richiesti.</span><span class="sxs-lookup"><span data-stu-id="536d0-129">Server B responds with the requested objects.</span></span>
    -   <span data-ttu-id="536d0-130">Se il server B rileva altri server nel percorso di denominazione contiguo e il processo continua.</span><span class="sxs-lookup"><span data-stu-id="536d0-130">If Server B detects other servers on the contiguous naming path and the process continues.</span></span>

-   <span data-ttu-id="536d0-131">Sempre: il server genera riferimenti se la ricerca può essere risolta in base al tipo esterno o al tipo subordinato.</span><span class="sxs-lookup"><span data-stu-id="536d0-131">Always: The server generates referrals if the search can be resolved based on either the external type or the subordinate type.</span></span>

> [!Note]  
> <span data-ttu-id="536d0-132">In Active Directory, il catalogo globale contiene tutti gli oggetti in una determinata azienda.</span><span class="sxs-lookup"><span data-stu-id="536d0-132">In Active Directory, the global catalog contains all objects in a given enterprise.</span></span> <span data-ttu-id="536d0-133">La ricerca di un server di catalogo globale garantisce prestazioni migliori rispetto al proseguimento dei riferimenti da un server a un altro.</span><span class="sxs-lookup"><span data-stu-id="536d0-133">Searching a global catalog server yields better performance than pursuing referrals from one server to another.</span></span>

 

<span data-ttu-id="536d0-134">Nella maggior parte dei casi, l'inseguimento dei riferimenti sarà trasparente per il chiamante.</span><span class="sxs-lookup"><span data-stu-id="536d0-134">In most cases, the referral chasing will be transparent to the caller.</span></span> <span data-ttu-id="536d0-135">Se il riferimento è a un oggetto in un dominio o in una foresta diversa, l'API LDAP sottostante tenterà di usare le credenziali correnti per eseguire il binding alla destinazione del riferimento.</span><span class="sxs-lookup"><span data-stu-id="536d0-135">If the referral is to an object in a different domain or forest, the underlying LDAP API will attempt to use the current credentials to bind to the target of the referral.</span></span> <span data-ttu-id="536d0-136">Se l'operazione ha esito positivo, l'inseguimento dei riferimenti sarà trasparente.</span><span class="sxs-lookup"><span data-stu-id="536d0-136">If this is successful, the referral chasing will be transparent.</span></span> <span data-ttu-id="536d0-137">Se l'operazione non riesce, verrà restituito il riferimento e un codice di errore di riferimento.</span><span class="sxs-lookup"><span data-stu-id="536d0-137">If this is not successful, the referral and a referral error code will be returned.</span></span>

<span data-ttu-id="536d0-138">Per ulteriori informazioni sull'utilizzo delle opzioni di ricerca dei riferimenti con un'interfaccia di ricerca specifica, vedere:</span><span class="sxs-lookup"><span data-stu-id="536d0-138">For more information about using the referral chasing options with a specific search interface, see:</span></span>

-   [<span data-ttu-id="536d0-139">Inseguimento dei riferimenti con IDirectorySearch</span><span class="sxs-lookup"><span data-stu-id="536d0-139">Referral Chasing with IDirectorySearch</span></span>](referral-chasing-with-idirectorysearch.md)
-   [<span data-ttu-id="536d0-140">Ricerca con ActiveX Data Objects</span><span class="sxs-lookup"><span data-stu-id="536d0-140">Searching with ActiveX Data Objects</span></span>](searching-with-activex-data-objects-ado.md)
-   [<span data-ttu-id="536d0-141">Ricerca con OLE DB</span><span class="sxs-lookup"><span data-stu-id="536d0-141">Searching with OLE DB</span></span>](searching-with-ole-db.md)

 

 