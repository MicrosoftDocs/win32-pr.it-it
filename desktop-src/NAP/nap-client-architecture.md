---
title: Architettura client NAP
description: Un client di protezione accesso alla rete è un computer che esegue Windows XP con Service Pack 3 (SP3), Windows Vista o Windows Server 2008 che include la piattaforma NAP.
ms.assetid: 163c33c9-b18b-49f9-a2a1-fd90a1dc0826
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15862eaa6ae4f4c1f79c53cf9d540aedec295e8a
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "104331900"
---
# <a name="nap-client-architecture"></a><span data-ttu-id="c3898-103">Architettura client NAP</span><span class="sxs-lookup"><span data-stu-id="c3898-103">NAP Client Architecture</span></span>

> [!Note]  
> <span data-ttu-id="c3898-104">La piattaforma protezione accesso alla rete non è disponibile a partire da Windows 10</span><span class="sxs-lookup"><span data-stu-id="c3898-104">The Network Access Protection platform is not available starting with Windows 10</span></span>

 

<span data-ttu-id="c3898-105">Un client di protezione accesso alla rete è un computer che esegue Windows XP con Service Pack 3 (SP3), Windows Vista o Windows Server 2008 che include la piattaforma NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-105">A NAP client is a computer running Windows XP with Service Pack 3 (SP3), Windows Vista, or Windows Server 2008 that includes the NAP platform.</span></span>

<span data-ttu-id="c3898-106">In questa figura viene illustrata l'architettura della piattaforma NAP in un client di protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-106">This figure shows the architecture of the NAP platform on a NAP client.</span></span>

![architettura della piattaforma NAP in un client di protezione accesso alla rete](images/nap-client-side-arch.png)

<span data-ttu-id="c3898-108">L'architettura client di protezione accesso alla rete è costituita dagli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c3898-108">The NAP client architecture consists of the following:</span></span>

-   <span data-ttu-id="c3898-109">Un livello di componenti del client di imposizione (EC)</span><span class="sxs-lookup"><span data-stu-id="c3898-109">A layer of Enforcement Client (EC) components</span></span>

    <span data-ttu-id="c3898-110">Ogni sistema di protezione accesso alla rete è definito per un tipo diverso di accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-110">Each NAP EC is defined for a different type of network access.</span></span> <span data-ttu-id="c3898-111">È ad esempio disponibile una protezione accesso alla rete (NAP) per la configurazione DHCP e una protezione accesso alla rete EC per le connessioni VPN di accesso remoto.</span><span class="sxs-lookup"><span data-stu-id="c3898-111">For example, there is a NAP EC for DHCP configuration and a NAP EC for remote access VPN connections.</span></span> <span data-ttu-id="c3898-112">È possibile trovare la corrispondenza di NAP EC con un tipo specifico di punto di imposizione NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-112">The NAP EC can be matched to a specific type of NAP enforcement point.</span></span> <span data-ttu-id="c3898-113">Ad esempio, la protezione accesso alla rete DHCP è progettata per funzionare con un punto di imposizione di protezione accesso alla rete basato su DHCP.</span><span class="sxs-lookup"><span data-stu-id="c3898-113">For example, the DHCP NAP EC is designed to work with a DHCP-based NAP enforcement point.</span></span> <span data-ttu-id="c3898-114">Alcune funzionalità di protezione accesso alla rete sono fornite con la piattaforma NAP e i fornitori di software di terze parti oppure Microsoft possono fornire altri utenti.</span><span class="sxs-lookup"><span data-stu-id="c3898-114">Some NAP ECs are provided with the NAP platform and third-party software vendors or Microsoft can provide others.</span></span>

-   <span data-ttu-id="c3898-115">Un livello di componenti dell'agente integrità sistema (SHA)</span><span class="sxs-lookup"><span data-stu-id="c3898-115">A layer of System Health Agent (SHA) components</span></span>

    <span data-ttu-id="c3898-116">Un componente SHA mantiene e segnala uno o più elementi di integrità del sistema.</span><span class="sxs-lookup"><span data-stu-id="c3898-116">An SHA component maintains and reports one or multiple elements of system health.</span></span> <span data-ttu-id="c3898-117">Ad esempio, potrebbe essere presente un SHA per le firme antivirus e un SHA per gli aggiornamenti del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="c3898-117">For example, there might be an SHA for antivirus signatures and an SHA for operating system updates.</span></span> <span data-ttu-id="c3898-118">Un SHA può essere associato a un server di monitoraggio e aggiornamento, ovvero un computer che contiene le risorse di aggiornamento dell'integrità ai quali i client di protezione accesso alla rete possono accedere per correggere lo stato non conforme.</span><span class="sxs-lookup"><span data-stu-id="c3898-118">An SHA can be matched to a remediation server, which is a computer that contains health update resources that NAP clients can access to remediate their noncompliant state.</span></span> <span data-ttu-id="c3898-119">Ad esempio, un SHA per la verifica delle firme antivirus viene associato al server che contiene il file della firma antivirus più recente.</span><span class="sxs-lookup"><span data-stu-id="c3898-119">For example, an SHA for checking antivirus signatures is matched to the server that contains the latest antivirus signature file.</span></span> <span data-ttu-id="c3898-120">Non è necessario che SHAs disponga di un server di monitoraggio e aggiornamento corrispondente.</span><span class="sxs-lookup"><span data-stu-id="c3898-120">SHAs do not have to have a corresponding remediation server.</span></span> <span data-ttu-id="c3898-121">Ad esempio, un SHA può verificare solo le impostazioni di sistema locale per assicurarsi che sia abilitato un firewall basato su host.</span><span class="sxs-lookup"><span data-stu-id="c3898-121">For example, an SHA can just check local system settings to ensure that a host-based firewall is enabled.</span></span> <span data-ttu-id="c3898-122">Windows Vista e Windows XP Service Pack 3 includono il Agente integrità protezione di Windows (Agente integrità sicurezza) che monitora le impostazioni del Centro sicurezza PC Windows.</span><span class="sxs-lookup"><span data-stu-id="c3898-122">Windows Vista and Windows XP Service Pack 3 include the Windows Security Health Agent (WSHA) that monitors the settings of the Windows Security Center.</span></span> <span data-ttu-id="c3898-123">I fornitori di software di terze parti o Microsoft possono fornire SHAs aggiuntive alla piattaforma NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-123">Third-party software vendors or Microsoft can provide additional SHAs to the NAP platform.</span></span>

-   <span data-ttu-id="c3898-124">Agente NAP</span><span class="sxs-lookup"><span data-stu-id="c3898-124">NAP Agent</span></span>

    <span data-ttu-id="c3898-125">Mantiene le informazioni sullo stato di integrità corrente del client di protezione accesso alla rete e facilita la comunicazione tra i livelli di protezione accesso alla rete EC e SHA.</span><span class="sxs-lookup"><span data-stu-id="c3898-125">Maintains the current health state information of the NAP client and facilitates communication between the NAP EC and SHA layers.</span></span> <span data-ttu-id="c3898-126">L'agente NAP viene fornito con la piattaforma NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-126">The NAP Agent is provided with the NAP platform.</span></span>

-   <span data-ttu-id="c3898-127">API dell'agente integrità sistema</span><span class="sxs-lookup"><span data-stu-id="c3898-127">System Health Agent API</span></span>

    <span data-ttu-id="c3898-128">Fornisce un set di funzioni che consentono la registrazione di SHAs con l'agente NAP, per indicare lo stato di integrità del sistema, rispondere alle query per lo stato di integrità del sistema dall'agente NAP e affinché l'agente NAP passi le informazioni di monitoraggio e aggiornamento dell'integrità del sistema a un SHA.</span><span class="sxs-lookup"><span data-stu-id="c3898-128">Provides a set of functions that allow SHAs to register with the NAP Agent, to indicate system health status, respond to queries for system health status from the NAP Agent, and for the NAP Agent to pass system health remediation information to an SHA.</span></span> <span data-ttu-id="c3898-129">L'API SHA consente ai fornitori di creare e installare SHAs aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="c3898-129">The SHA API allows vendors to create and install additional SHAs.</span></span> <span data-ttu-id="c3898-130">L'API SHA viene fornita con la piattaforma NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-130">The SHA API is provided with the NAP platform.</span></span> <span data-ttu-id="c3898-131">Vedere le interfacce NAP seguenti: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md)e [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span><span class="sxs-lookup"><span data-stu-id="c3898-131">See the following NAP interfaces: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md), and [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span></span>

<span data-ttu-id="c3898-132">Per indicare lo stato di integrità di un SHA specifico, un SHA crea un rapporto [**di integrità e**](/windows/win32/api/naptypes/ns-naptypes-soh)lo passa all'agente NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-132">To indicate the health state of a specific SHA, an SHA creates a statement of health ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) and passes it to the NAP Agent.</span></span> <span data-ttu-id="c3898-133">Un rapporto di integrità può contenere uno o più elementi di integrità del sistema.</span><span class="sxs-lookup"><span data-stu-id="c3898-133">An SoH can contain one or multiple elements of system health.</span></span> <span data-ttu-id="c3898-134">Ad esempio, l'SHA per un programma antivirus può creare un rapporto di integrità contenente lo stato del software antivirus in esecuzione nel computer, la versione e l'ultimo aggiornamento della firma antivirus ricevuto.</span><span class="sxs-lookup"><span data-stu-id="c3898-134">For example, the SHA for an antivirus program can create an SoH containing the state of the antivirus software running on the computer, its version, and the last antivirus signature update received.</span></span> <span data-ttu-id="c3898-135">Ogni volta che un SHA aggiorna il proprio stato, viene creato un nuovo rapporto di integrità e passato all'agente NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-135">Whenever an SHA updates its status, it creates a new SoH and passes it to the NAP Agent.</span></span> <span data-ttu-id="c3898-136">Per indicare lo stato di integrità generale di un client di protezione accesso alla rete, l'agente protezione accesso alla rete utilizza un rapporto di integrità del sistema (SSoH), che include le informazioni sulla versione per il client di protezione accesso alla rete e il set di invieranno per il SHAs installato.</span><span class="sxs-lookup"><span data-stu-id="c3898-136">To indicate the overall health state of a NAP client, the NAP Agent uses a system statement of health (SSoH), which includes version information for the NAP client and the set of SoHs for the installed SHAs.</span></span>

<span data-ttu-id="c3898-137">Le sezioni seguenti descrivono in modo dettagliato i componenti dell'architettura client di protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-137">The following sections describe the components of the NAP client architecture in further detail.</span></span>

## <a name="nap-enforcement-client"></a><span data-ttu-id="c3898-138">Client di imposizione Protezione accesso alla rete</span><span class="sxs-lookup"><span data-stu-id="c3898-138">NAP Enforcement Client</span></span>

<span data-ttu-id="c3898-139">Un client di imposizione di protezione accesso alla rete richiede un certo livello di accesso a una rete, passa lo stato di integrità del computer a un punto di imposizione di protezione accesso alla rete che fornisce l'accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-139">A NAP Enforcement Client (EC) requests some level of access to a network, passes the computer's health status to a NAP enforcement point that is providing the network access.</span></span> <span data-ttu-id="c3898-140">I punti di imposizione di protezione accesso alla rete sono computer o dispositivi di accesso alla rete che utilizzano NAP oppure possono essere utilizzati con protezione accesso alla rete per richiedere la valutazione dello stato di integrità di un client di protezione accesso alla rete e la comunicazione con restrizioni.</span><span class="sxs-lookup"><span data-stu-id="c3898-140">NAP enforcement points are computers or network access devices that use NAP or can be used with NAP to require the evaluation of a NAP client’s health state and provide restricted network access or communication.</span></span> <span data-ttu-id="c3898-141">Se l'integrità del computer non è conforme, NAP EC indica lo stato limitato del client di protezione accesso alla rete per altri componenti dell'architettura client di protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-141">If the computer’s health is not compliant, the NAP EC indicates the restricted status of the NAP client to other components of the NAP client architecture.</span></span>

<span data-ttu-id="c3898-142">NAP ECs per la piattaforma NAP fornita in Windows XP con SP3, Windows Vista e Windows Server 2008 è il seguente:</span><span class="sxs-lookup"><span data-stu-id="c3898-142">The NAP ECs for the NAP platform supplied in Windows XP with SP3, Windows Vista, and Windows Server 2008 are the following:</span></span>

-   <span data-ttu-id="c3898-143">Protezione accesso alla rete IPsec per le comunicazioni protette da IPsec.</span><span class="sxs-lookup"><span data-stu-id="c3898-143">An IPsec NAP EC for IPsec-protected communications.</span></span>
-   <span data-ttu-id="c3898-144">Rete di protezione accesso alla rete (NAP) EAPHost per le connessioni autenticate con 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="c3898-144">An EAPHost NAP EC for 802.1X-authenticated connections.</span></span>
-   <span data-ttu-id="c3898-145">Protezione accesso alla rete VPN per le connessioni VPN di accesso remoto.</span><span class="sxs-lookup"><span data-stu-id="c3898-145">A VPN NAP EC for remote access VPN connections.</span></span>
-   <span data-ttu-id="c3898-146">Una protezione accesso alla rete DHCP per la configurazione degli indirizzi IPv4 basata su DHCP.</span><span class="sxs-lookup"><span data-stu-id="c3898-146">A DHCP NAP EC for DHCP-based IPv4 address configuration.</span></span>
-   <span data-ttu-id="c3898-147">Un gateway di protezione accesso alla rete gateway di Servizi terminal per le connessioni gateway Servizi terminal</span><span class="sxs-lookup"><span data-stu-id="c3898-147">A TS Gateway NAP EC for TS Gateway connections.</span></span>

<span data-ttu-id="c3898-148">Per Windows XP con SP3, sono disponibili NAP ECs per le connessioni cablate e wireless autenticate tramite 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="c3898-148">For Windows XP with SP3, there are separate NAP ECs for 802.1X-authenticated wired and wireless connections.</span></span>

### <a name="ipsec-nap-ec"></a><span data-ttu-id="c3898-149">Protezione accesso alla rete IPsec</span><span class="sxs-lookup"><span data-stu-id="c3898-149">IPsec NAP EC</span></span>

<span data-ttu-id="c3898-150">Protezione accesso alla rete IPsec è un componente che ottiene il SSoH dall'agente protezione accesso alla rete e lo invia a un'Autorità registrazione integrità, un computer che esegue Windows Server 2008 e Internet Information Services (IIS) che ottiene i certificati di integrità da un'autorità di certificazione (CA) per i computer conformi.</span><span class="sxs-lookup"><span data-stu-id="c3898-150">The IPsec NAP EC is a component that obtains the SSoH from the NAP Agent and sends it to a Health Registration Authority (HRA), a computer running Windows Server 2008 and Internet Information Services (IIS) that obtains health certificates from a certification authority (CA) for compliant computers.</span></span> <span data-ttu-id="c3898-151">La protezione accesso alla rete IPsec è nota come EC relying party IPsec nello snap-in configurazione client di protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-151">The IPsec NAP EC is known as the IPsec Relying Party EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="c3898-152">Inoltre, la protezione accesso alla rete IPsec interagisce con quanto segue:</span><span class="sxs-lookup"><span data-stu-id="c3898-152">The IPsec NAP EC also interacts with the following:</span></span>

-   <span data-ttu-id="c3898-153">Archivio certificati in cui archiviare il certificato di integrità.</span><span class="sxs-lookup"><span data-stu-id="c3898-153">The certificate store to store the health certificate.</span></span>
-   <span data-ttu-id="c3898-154">Componenti IPsec di Windows per garantire che il certificato di integrità venga utilizzato per le comunicazioni protette da IPsec.</span><span class="sxs-lookup"><span data-stu-id="c3898-154">The IPsec components in Windows to ensure that the health certificate is used for IPsec-protected communication.</span></span>
-   <span data-ttu-id="c3898-155">Il firewall basato su host, ad esempio Windows Firewall, in modo che il traffico protetto da IPsec sia consentito dal firewall.</span><span class="sxs-lookup"><span data-stu-id="c3898-155">The host-based firewall (such as Windows Firewall) so that IPsec-protected traffic is allowed by the firewall.</span></span>

### <a name="eaphost-nap-ec"></a><span data-ttu-id="c3898-156">NAP NAP EC</span><span class="sxs-lookup"><span data-stu-id="c3898-156">EAPHost NAP EC</span></span>

<span data-ttu-id="c3898-157">EAPHost NAP è un componente che ottiene il SSoH dall'agente NAP e lo invia come messaggio PEAP-Type-Length-Value (TLV) per le connessioni autenticate tramite 802.1 X.</span><span class="sxs-lookup"><span data-stu-id="c3898-157">The EAPHost NAP EC is a component that obtains the SSoH from the NAP Agent and sends it as a PEAP-Type-Length-Value (TLV) message for 802.1X-authenticated connections.</span></span> <span data-ttu-id="c3898-158">Il protocollo di protezione accesso alla rete EAPHost è noto come la quarantena EAP EC nello snap-in configurazione client di protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-158">The EAPHost NAP EC is known as the EAP Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="vpn-nap-ec"></a><span data-ttu-id="c3898-159">PROTEZIONE ACCESSO ALLA RETE VPN EC</span><span class="sxs-lookup"><span data-stu-id="c3898-159">VPN NAP EC</span></span>

<span data-ttu-id="c3898-160">La protezione accesso alla rete VPN è una funzionalità nel servizio gestione connessione di accesso remoto che ottiene il SSoH dall'agente protezione accesso alla rete e lo invia come messaggio PEAP-TLV per le connessioni VPN di accesso remoto.</span><span class="sxs-lookup"><span data-stu-id="c3898-160">The VPN NAP EC is functionality in the Remote Access Connection Manager service that obtains the SSoH from the NAP Agent and sends it as a PEAP-TLV message for remote access VPN connections.</span></span> <span data-ttu-id="c3898-161">La protezione accesso alla rete VPN è nota come quarantena di accesso remoto EC nello snap-in configurazione client di protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-161">The VPN NAP EC is known as the Remote Access Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="dhcp-nap-ec"></a><span data-ttu-id="c3898-162">PROTEZIONE ACCESSO ALLA RETE DHCP</span><span class="sxs-lookup"><span data-stu-id="c3898-162">DHCP NAP EC</span></span>

<span data-ttu-id="c3898-163">La protezione accesso alla rete DHCP è una funzionalità del servizio client DHCP che utilizza messaggi DHCP standard del settore per scambiare messaggi di integrità del sistema e informazioni limitate sull'accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-163">The DHCP NAP EC is functionality in the DHCP Client service that uses industry standard DHCP messages to exchange system health messages and limited network access information.</span></span> <span data-ttu-id="c3898-164">Il protocollo EC DHCP IPsec è noto come "quarantena DHCP" nello snap-in configurazione client di protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-164">The IPsec DHCP EC is known as the DHCP Quarantine EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="c3898-165">Il SSoH di protezione accesso alla rete DHCP consente di ottenere l'agente protezione accesso alla rete.</span><span class="sxs-lookup"><span data-stu-id="c3898-165">The DHCP NAP EC obtains the SSoH from the NAP Agent.</span></span> <span data-ttu-id="c3898-166">Il servizio client DHCP frammenta la SSoH, se necessario, e inserisce ogni frammento in un'opzione DHCP specifica del fornitore Microsoft che viene inviata nei messaggi DHCPDiscover, DHCPRequest o DHCPInform.</span><span class="sxs-lookup"><span data-stu-id="c3898-166">The DHCP Client service fragments the SSoH, if required, and puts each fragment into a Microsoft vendor-specific DHCP option that is sent in DHCPDiscover, DHCPRequest or DHCPInform messages.</span></span> <span data-ttu-id="c3898-167">I messaggi DHCPDecline e DHCPRelease non contengono SSoH.</span><span class="sxs-lookup"><span data-stu-id="c3898-167">DHCPDecline and DHCPRelease messages do not contain the SSoH.</span></span>

## <a name="system-health-agent"></a><span data-ttu-id="c3898-168">Agente integrità sistema</span><span class="sxs-lookup"><span data-stu-id="c3898-168">System Health Agent</span></span>

<span data-ttu-id="c3898-169">Un agente integrità sistema esegue gli aggiornamenti dell'integrità del sistema e ne pubblica lo stato sotto forma di rapporto di integrità con l'agente NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-169">A System Health Agent (SHA) performs system health updates and publishes its status in the form of an SoH to the NAP Agent.</span></span> <span data-ttu-id="c3898-170">Il rapporto di integrità contiene informazioni che possono essere utilizzate dal server criteri di integrità protezione accesso alla rete per verificare che il computer client sia nello stato di integrità richiesto.</span><span class="sxs-lookup"><span data-stu-id="c3898-170">The SoH contains information that the NAP health policy server can use to verify that the client computer is in the required state of health.</span></span> <span data-ttu-id="c3898-171">Un servizio di convalida dell'integrità di sistema è associato a un servizio di convalida dell'integrità di sistema sul lato server dell'architettura della piattaforma NAP.</span><span class="sxs-lookup"><span data-stu-id="c3898-171">An SHA is matched to a System Health Validator (SHV) on the server-side of the NAP platform architecture.</span></span> <span data-ttu-id="c3898-172">Il servizio di convalida dell'integrità di sistema corrispondente può restituire una risposta a rapporto di integrità (SoHR) al client di protezione accesso alla rete, che viene passato dall'agente di protezione accesso alla rete e dall'agente NAP al servizio SHA, indicando le operazioni da eseguire se SHA non è in uno stato di integrità obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="c3898-172">The corresponding SHV can return an SoH Response (SoHR) to the NAP client, which is passed by the NAP EC and the NAP Agent to the SHA, informing it of what to do if the SHA is not in a required state of health.</span></span> <span data-ttu-id="c3898-173">Ad esempio, il SoHR inviato da un servizio di convalida dell'integrità del sistema antivirus potrebbe indicare all'SHA del virus corrispondente di eseguire una query su un server di firma antivirus per ottenere la versione più recente del file di firma antivirus.</span><span class="sxs-lookup"><span data-stu-id="c3898-173">For example, the SoHR sent by an antivirus SHV could instruct the corresponding antivirus SHA to query an antivirus signature server to obtain the latest version of the antivirus signature file.</span></span> <span data-ttu-id="c3898-174">Il SoHR può includere anche il nome o l'indirizzo IP del server di firma antivirus su cui eseguire una query.</span><span class="sxs-lookup"><span data-stu-id="c3898-174">The SoHR can also include the name or IP address of the antivirus signature server to query.</span></span>

<span data-ttu-id="c3898-175">Un SHA può utilizzare un client di criteri installato localmente per supportare le funzioni di gestione dell'integrità del sistema insieme a un server dei criteri.</span><span class="sxs-lookup"><span data-stu-id="c3898-175">An SHA can use a locally installed policy client to assist in system health management functions in conjunction with a policy server.</span></span> <span data-ttu-id="c3898-176">Ad esempio, un aggiornamento software SHA può usare il software client del software installato localmente (il client dei criteri) per eseguire il controllo della versione e le funzioni di installazione e aggiornamento con il server di aggiornamento software (il server dei criteri).</span><span class="sxs-lookup"><span data-stu-id="c3898-176">For example, a software update SHA can use the locally installed software client software (the policy client) to perform version checking and installation and update functions with the software update server (the policy server).</span></span>

## <a name="nap-agent"></a><span data-ttu-id="c3898-177">Agente NAP</span><span class="sxs-lookup"><span data-stu-id="c3898-177">NAP Agent</span></span>

<span data-ttu-id="c3898-178">L'agente NAP fornisce i servizi seguenti:</span><span class="sxs-lookup"><span data-stu-id="c3898-178">The NAP Agent provides the following services:</span></span>

-   <span data-ttu-id="c3898-179">Raccoglie i invieranno da ogni SHA e li memorizza nella cache.</span><span class="sxs-lookup"><span data-stu-id="c3898-179">Collects the SoHs from each SHA and caches them.</span></span> <span data-ttu-id="c3898-180">La cache del rapporto di integrità viene aggiornata ogni volta che un oggetto SHA fornisce un rapporto di integrità nuovo o aggiornato.</span><span class="sxs-lookup"><span data-stu-id="c3898-180">The SoH cache is updated whenever an SHA supplies a new or updated SoH.</span></span>
-   <span data-ttu-id="c3898-181">Archivia il SSoH e lo fornisce a NAP ECs su richiesta.</span><span class="sxs-lookup"><span data-stu-id="c3898-181">Stores the SSoH and supplies it to the NAP ECs upon request.</span></span>
-   <span data-ttu-id="c3898-182">Passa le notifiche a SHAs quando viene modificato lo stato con restrizioni.</span><span class="sxs-lookup"><span data-stu-id="c3898-182">Passes notifications to SHAs when the restricted state changes.</span></span>
-   <span data-ttu-id="c3898-183">Mantiene lo stato con restrizioni del sistema e raccoglie informazioni sullo stato da ogni SHA.</span><span class="sxs-lookup"><span data-stu-id="c3898-183">Maintains the system restricted state and collects status information from each SHA.</span></span>
-   <span data-ttu-id="c3898-184">Passa SoHRs all'oggetto SHA appropriato.</span><span class="sxs-lookup"><span data-stu-id="c3898-184">Passes SoHRs to the appropriate SHA.</span></span>

 

 




