---
title: Messaggi finestra (introduzione a Win32 e C++)
description: Messaggi di finestra (introduzione a Win32 e C++)
ms.assetid: 90c20456-44ed-4f0f-a6d3-b6c5660f0bc7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c00da564396e0f95947e33fb7d8db8b217ac5cdf
ms.sourcegitcommit: 95685061d5b0333bbf9e6ebd208dde8190f97005
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/28/2021
ms.locfileid: "108103839"
---
# <a name="window-messages-get-started-with-win32-and-c"></a><span data-ttu-id="b1ab5-103">Messaggi di finestra (introduzione a Win32 e C++)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-103">Window Messages (Get Started with Win32 and C++)</span></span>

<span data-ttu-id="b1ab5-104">Un'applicazione GUI deve rispondere agli eventi dell'utente e del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-104">A GUI application must respond to events from the user and from the operating system.</span></span>

- <span data-ttu-id="b1ab5-105">**Gli eventi dell'utente** includono tutti i modi in cui un utente può interagire con il programma: clic del mouse, tratti chiave, movimenti touch screen e così via.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-105">**Events from the user** include all the ways that someone can interact with your program: mouse clicks, key strokes, touch-screen gestures, and so on.</span></span>
- <span data-ttu-id="b1ab5-106">**Gli eventi del sistema operativo** includono qualsiasi elemento "esterno" al programma che può influire sul comportamento del programma.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-106">**Events from the operating system** include anything "outside" of the program that can affect how the program behaves.</span></span> <span data-ttu-id="b1ab5-107">Ad esempio, l'utente potrebbe collegare un nuovo dispositivo hardware o Windows potrebbe immettere uno stato di alimentazione inferiore (sospensione o ibernazione).</span><span class="sxs-lookup"><span data-stu-id="b1ab5-107">For example, the user might plug in a new hardware device, or Windows might enter a lower-power state (sleep or hibernate).</span></span>

<span data-ttu-id="b1ab5-108">Questi eventi possono verificarsi in qualsiasi momento mentre il programma è in esecuzione, quasi in qualsiasi ordine.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-108">These events can occur at any time while the program is running, in almost any order.</span></span> <span data-ttu-id="b1ab5-109">Come si struttura un programma il cui flusso di esecuzione non può essere previsto in anticipo?</span><span class="sxs-lookup"><span data-stu-id="b1ab5-109">How do you structure a program whose flow of execution cannot be predicted in advance?</span></span>

<span data-ttu-id="b1ab5-110">Per risolvere questo problema, Windows usa un modello di passaggio dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-110">To solve this problem, Windows uses a message-passing model.</span></span> <span data-ttu-id="b1ab5-111">Il sistema operativo comunica con la finestra dell'applicazione passando messaggi.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-111">The operating system communicates with your application window by passing messages to it.</span></span> <span data-ttu-id="b1ab5-112">Un messaggio è semplicemente un codice numerico che definisce un evento specifico.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-112">A message is simply a numeric code that designates a particular event.</span></span> <span data-ttu-id="b1ab5-113">Ad esempio, se l'utente preme il pulsante sinistro del mouse, la finestra riceve un messaggio con il codice di messaggio seguente.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-113">For example, if the user presses the left mouse button, the window receives a message that has the following message code.</span></span>

```C++
#define WM_LBUTTONDOWN    0x0201
```

<span data-ttu-id="b1ab5-114">Ad alcuni messaggi sono associati dati.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-114">Some messages have data associated with them.</span></span> <span data-ttu-id="b1ab5-115">Ad esempio, il [**messaggio WM \_ LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) include la coordinata x e la coordinata y del cursore del mouse.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-115">For example, the [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) message includes the x-coordinate and y-coordinate of the mouse cursor.</span></span>

<span data-ttu-id="b1ab5-116">Per passare un messaggio a una finestra, il sistema operativo chiama la routine della finestra registrata per tale finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-116">To pass a message to a window, the operating system calls the window procedure registered for that window.</span></span> <span data-ttu-id="b1ab5-117">A questo punto è possibile conoscere la procedura della finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-117">(And now you know what the window procedure is for.)</span></span>

## <a name="the-message-loop"></a><span data-ttu-id="b1ab5-118">Ciclo del messaggio</span><span class="sxs-lookup"><span data-stu-id="b1ab5-118">The Message Loop</span></span>

<span data-ttu-id="b1ab5-119">Un'applicazione riceverà migliaia di messaggi durante l'esecuzione.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-119">An application will receive thousands of messages while it runs.</span></span> <span data-ttu-id="b1ab5-120">Si consideri che ogni pressione di tasto e clic del pulsante del mouse genera un messaggio. Inoltre, un'applicazione può avere diverse finestre, ognuna con una propria procedura di finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-120">(Consider that every keystroke and mouse-button click generates a message.) Additionally, an application can have several windows, each with its own window procedure.</span></span> <span data-ttu-id="b1ab5-121">In che modo il programma riceve tutti questi messaggi e li recapita alla procedura di finestra corretta?</span><span class="sxs-lookup"><span data-stu-id="b1ab5-121">How does the program receive all these messages and deliver them to the correct window procedure?</span></span> <span data-ttu-id="b1ab5-122">L'applicazione richiede un ciclo per recuperare i messaggi e inviare i messaggi alle finestre corrette.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-122">The application needs a loop to retrieve the messages and dispatch them to the correct windows.</span></span>

<span data-ttu-id="b1ab5-123">Per ogni thread che crea una finestra, il sistema operativo crea una coda per i messaggi della finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-123">For each thread that creates a window, the operating system creates a queue for window messages.</span></span> <span data-ttu-id="b1ab5-124">Questa coda contiene i messaggi per tutte le finestre create nel thread.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-124">This queue holds messages for all the windows that are created on that thread.</span></span> <span data-ttu-id="b1ab5-125">La coda stessa è nascosta dal programma.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-125">The queue itself is hidden from your program.</span></span> <span data-ttu-id="b1ab5-126">Non è possibile modificare direttamente la coda.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-126">You cannot manipulate the queue directly.</span></span> <span data-ttu-id="b1ab5-127">Tuttavia, è possibile eseguire il pull di un messaggio dalla coda chiamando la [**funzione GetMessage.**](/windows/desktop/api/winuser/nf-winuser-getmessage)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-127">However, you can pull a message from the queue by calling the [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) function.</span></span>

```C++
MSG msg;
GetMessage(&msg, NULL, 0, 0);
```

<span data-ttu-id="b1ab5-128">Questa funzione rimuove il primo messaggio dall'inizio della coda.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-128">This function removes the first message from the head of the queue.</span></span> <span data-ttu-id="b1ab5-129">Se la coda è vuota, la funzione si blocca fino a quando non viene accodato un altro messaggio.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-129">If the queue is empty, the function blocks until another message is queued.</span></span> <span data-ttu-id="b1ab5-130">Il fatto che [**i blocchi GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) non rispettino il programma.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-130">The fact that [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) blocks will not make your program unresponsive.</span></span> <span data-ttu-id="b1ab5-131">Se non sono presenti messaggi, il programma non deve eseguire alcuna operazione.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-131">If there are no messages, there is nothing for the program to do.</span></span> <span data-ttu-id="b1ab5-132">Se è necessario eseguire l'elaborazione in background, è possibile creare thread aggiuntivi che continuano a essere eseguiti mentre **GetMessage** attende un altro messaggio.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-132">If you have to perform background processing, you can create additional threads that continue to run while **GetMessage** waits for another message.</span></span> <span data-ttu-id="b1ab5-133">Vedere [Avoiding Bottlenecks in Your Window Procedure (Evitare](writing-the-window-procedure.md)colli di bottiglia nella procedura della finestra).</span><span class="sxs-lookup"><span data-stu-id="b1ab5-133">(See [Avoiding Bottlenecks in Your Window Procedure](writing-the-window-procedure.md).)</span></span>

<span data-ttu-id="b1ab5-134">Il primo parametro di [**GetMessage è**](/windows/desktop/api/winuser/nf-winuser-getmessage) l'indirizzo di una [**struttura MSG.**](/windows/win32/api/winuser/ns-winuser-msg)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-134">The first parameter of [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) is the address of a [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span> <span data-ttu-id="b1ab5-135">Se la funzione ha esito positivo, inserisce nella **struttura MSG** le informazioni sul messaggio.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-135">If the function succeeds, it fills in the **MSG** structure with information about the message.</span></span> <span data-ttu-id="b1ab5-136">Sono inclusi la finestra di destinazione e il codice del messaggio.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-136">This includes the target window and the message code.</span></span> <span data-ttu-id="b1ab5-137">Gli altri tre parametri consentono di filtrare i messaggi ricevuti dalla coda.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-137">The other three parameters let you filter which messages you get from the queue.</span></span> <span data-ttu-id="b1ab5-138">In quasi tutti i casi, questi parametri verranno impostati su zero.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-138">In almost all cases, you will set these parameters to zero.</span></span>

<span data-ttu-id="b1ab5-139">Anche se [**la struttura MSG**](/windows/win32/api/winuser/ns-winuser-msg) contiene informazioni sul messaggio, quasi mai si esaminerà direttamente questa struttura.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-139">Although the [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure contains information about the message, you will almost never examine this structure directly.</span></span> <span data-ttu-id="b1ab5-140">Verrà invece passato direttamente ad altre due funzioni.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-140">Instead, you will pass it directly to two other functions.</span></span>

```C++
TranslateMessage(&msg); 
DispatchMessage(&msg);
```

<span data-ttu-id="b1ab5-141">La [**funzione TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) è correlata all'input da tastiera.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-141">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function is related to keyboard input.</span></span> <span data-ttu-id="b1ab5-142">Converte le sequenze di tasti (tasto giù, tasto su) in caratteri.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-142">It translates keystrokes (key down, key up) into characters.</span></span> <span data-ttu-id="b1ab5-143">Non è necessario conoscere il funzionamento di questa funzione. ricordarsi di chiamarlo prima [**di DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage).</span><span class="sxs-lookup"><span data-stu-id="b1ab5-143">You do not really have to know how this function works; just remember to call it before [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage).</span></span> <span data-ttu-id="b1ab5-144">Il collegamento alla documentazione MSDN contiene altre informazioni, se si è incuriositi.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-144">The link to the MSDN documentation will give you more information, if you are curious.</span></span>

<span data-ttu-id="b1ab5-145">La [**funzione DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) indica al sistema operativo di chiamare la routine della finestra che rappresenta la destinazione del messaggio.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-145">The [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) function tells the operating system to call the window procedure of the window that is the target of the message.</span></span> <span data-ttu-id="b1ab5-146">In altre parole, il sistema operativo cerca l'handle di finestra nella relativa tabella di finestre, trova il puntatore a funzione associato alla finestra e richiama la funzione.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-146">In other words, the operating system looks up the window handle in its table of windows, finds the function pointer associated with the window, and invokes the function.</span></span>

<span data-ttu-id="b1ab5-147">Si supponga, ad esempio, che l'utente premo il pulsante sinistro del mouse.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-147">For example, suppose that the user presses the left mouse button.</span></span> <span data-ttu-id="b1ab5-148">Ciò causa una catena di eventi:</span><span class="sxs-lookup"><span data-stu-id="b1ab5-148">This causes a chain of events:</span></span>

1. <span data-ttu-id="b1ab5-149">Il sistema operativo inserisce [**un messaggio WM \_ LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) nella coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-149">The operating system puts a [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) message on the message queue.</span></span>
2. <span data-ttu-id="b1ab5-150">Il programma chiama la [**funzione GetMessage.**](/windows/desktop/api/winuser/nf-winuser-getmessage)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-150">Your program calls the [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) function.</span></span>
3. <span data-ttu-id="b1ab5-151">[**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) estrae [**il messaggio WM \_ LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) dalla coda e compila la [**struttura MSG.**](/windows/win32/api/winuser/ns-winuser-msg)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-151">[**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) pulls the [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown) message from the queue and fills in the [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span>
4. <span data-ttu-id="b1ab5-152">Il programma chiama le [**funzioni TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) e [**DispatchMessage.**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-152">Your program calls the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) and [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) functions.</span></span>
5. <span data-ttu-id="b1ab5-153">[**All'interno di DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)il sistema operativo chiama la routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-153">Inside [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage), the operating system calls your window procedure.</span></span>
6. <span data-ttu-id="b1ab5-154">La routine della finestra può rispondere al messaggio o ignorarlo.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-154">Your window procedure can either respond to the message or ignore it.</span></span>

<span data-ttu-id="b1ab5-155">Quando la routine della finestra viene restituita, torna a [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage).</span><span class="sxs-lookup"><span data-stu-id="b1ab5-155">When the window procedure returns, it returns back to [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage).</span></span> <span data-ttu-id="b1ab5-156">In questo modo si torna al ciclo di messaggi per il messaggio successivo.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-156">This returns to the message loop for the next message.</span></span> <span data-ttu-id="b1ab5-157">Finché il programma è in esecuzione, i messaggi continueranno ad arrivare nella coda.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-157">As long as your program is running, messages will continue to arrive on the queue.</span></span> <span data-ttu-id="b1ab5-158">Pertanto, è necessario disporre di un ciclo che estrae continuamente i messaggi dalla coda e li invia.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-158">Therefore, you must have a loop that continually pulls messages from the queue and dispatches them.</span></span> <span data-ttu-id="b1ab5-159">È possibile pensare al ciclo come a eseguire le operazioni seguenti:You can think of the loop as doing the following:</span><span class="sxs-lookup"><span data-stu-id="b1ab5-159">You can think of the loop as doing the following:</span></span>

```C++
// WARNING: Don't actually write your loop this way.

while (1)      
{
    GetMessage(&msg, NULL, 0,  0);
    TranslateMessage(&msg); 
    DispatchMessage(&msg);
}
```

<span data-ttu-id="b1ab5-160">Come scritto, naturalmente, questo ciclo non terminerebbe mai.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-160">As written, of course, this loop would never end.</span></span> <span data-ttu-id="b1ab5-161">È qui che entra in campo il valore restituito per [**la funzione GetMessage.**](/windows/desktop/api/winuser/nf-winuser-getmessage)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-161">That is where the return value for the [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) function comes in.</span></span> <span data-ttu-id="b1ab5-162">In **genere, GetMessage** restituisce un valore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-162">Normally, **GetMessage** returns a nonzero value.</span></span> <span data-ttu-id="b1ab5-163">Per uscire dall'applicazione ed uscire dal ciclo di messaggi, chiamare la [**funzione PostQuitMessage.**](/windows/desktop/api/winuser/nf-winuser-postquitmessage)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-163">When you want to exit the application and break out of the message loop, call the [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage) function.</span></span>

```C++
        PostQuitMessage(0);
```

<span data-ttu-id="b1ab5-164">La [**funzione PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage) inserisce [**un messaggio WM \_ QUIT**](/windows/desktop/winmsg/wm-quit) nella coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-164">The [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage) function puts a [**WM\_QUIT**](/windows/desktop/winmsg/wm-quit) message on the message queue.</span></span> <span data-ttu-id="b1ab5-165">**WM \_ QUIT** è un messaggio speciale: [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) restituisce zero, segnalando la fine del ciclo di messaggi.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-165">**WM\_QUIT** is a special message: It causes [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) to return zero, signaling the end of the message loop.</span></span> <span data-ttu-id="b1ab5-166">Ecco il ciclo di messaggi modificato.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-166">Here is the revised message loop.</span></span>

```C++
// Correct.

MSG msg = { };
while (GetMessage(&msg, NULL, 0, 0) > 0)
{
    TranslateMessage(&msg);
    DispatchMessage(&msg);
}
```

<span data-ttu-id="b1ab5-167">Se [**GetMessage restituisce**](/windows/desktop/api/winuser/nf-winuser-getmessage) un valore diverso da zero, l'espressione nel **ciclo while** restituisce true.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-167">As long as [**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) returns a nonzero value, the expression in the **while** loop evaluates to true.</span></span> <span data-ttu-id="b1ab5-168">Dopo aver chiamato [**PostQuitMessage,**](/windows/desktop/api/winuser/nf-winuser-postquitmessage)l'espressione diventa false e il programma esce dal ciclo.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-168">After you call [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage), the expression becomes false and the program breaks out of the loop.</span></span> <span data-ttu-id="b1ab5-169">Un risultato interessante di questo comportamento è che la routine della finestra non riceve mai un [**messaggio WM \_ QUIT.**](/windows/desktop/winmsg/wm-quit)</span><span class="sxs-lookup"><span data-stu-id="b1ab5-169">(One interesting result of this behavior is that your window procedure never receives a [**WM\_QUIT**](/windows/desktop/winmsg/wm-quit) message.</span></span> <span data-ttu-id="b1ab5-170">Non è pertanto necessario disporre di un'istruzione case per questo messaggio nella routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-170">Therefore, you do not have to have a case statement for this message in your window procedure.)</span></span>

<span data-ttu-id="b1ab5-171">La domanda ovvia successiva è quando chiamare [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage).</span><span class="sxs-lookup"><span data-stu-id="b1ab5-171">The next obvious question is when to call [**PostQuitMessage**](/windows/desktop/api/winuser/nf-winuser-postquitmessage).</span></span> <span data-ttu-id="b1ab5-172">Si tornerà a questa domanda nell'argomento [Chiusura della](closing-the-window.md)finestra, ma prima è necessario scrivere la procedura della finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-172">We'll return to this question in the topic [Closing the Window](closing-the-window.md), but first we have to write our window procedure.</span></span>

## <a name="posted-messages-versus-sent-messages"></a><span data-ttu-id="b1ab5-173">Messaggi inviati e messaggi inviati</span><span class="sxs-lookup"><span data-stu-id="b1ab5-173">Posted Messages versus Sent Messages</span></span>

<span data-ttu-id="b1ab5-174">La sezione precedente ha parlato di messaggi che vengono inviati a una coda.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-174">The previous section talked about messages going onto a queue.</span></span> <span data-ttu-id="b1ab5-175">In alcuni casi, il sistema operativo chiamerà direttamente una routine della finestra, ignorando la coda.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-175">Sometimes, the operating system will call a window procedure directly, bypassing the queue.</span></span>

<span data-ttu-id="b1ab5-176">La terminologia di questa distinzione può generare confusione:</span><span class="sxs-lookup"><span data-stu-id="b1ab5-176">The terminology for this distinction can be confusing:</span></span>

-   <span data-ttu-id="b1ab5-177">*L'inserimento* di un messaggio indica che il messaggio viene inviato nella coda di messaggi e viene inviato tramite il ciclo di messaggi ([**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) e [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)).</span><span class="sxs-lookup"><span data-stu-id="b1ab5-177">*Posting* a message means the message goes on the message queue, and is dispatched through the message loop ([**GetMessage**](/windows/desktop/api/winuser/nf-winuser-getmessage) and [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage)).</span></span>
-   <span data-ttu-id="b1ab5-178">*L'invio* di un messaggio significa che il messaggio ignora la coda e il sistema operativo chiama direttamente la routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-178">*Sending* a message means the message skips the queue, and the operating system calls the window procedure directly.</span></span>

<span data-ttu-id="b1ab5-179">Per il momento, la differenza non è molto importante.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-179">For now, the difference is not very important.</span></span> <span data-ttu-id="b1ab5-180">La routine della finestra gestisce tutti i messaggi.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-180">The window procedure handles all messages.</span></span> <span data-ttu-id="b1ab5-181">Tuttavia, alcuni messaggi ignorano la coda e passano direttamente alla procedura della finestra.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-181">However, some messages bypass the queue and go directly to your window procedure.</span></span> <span data-ttu-id="b1ab5-182">Tuttavia, può fare la differenza se l'applicazione comunica tra le finestre.</span><span class="sxs-lookup"><span data-stu-id="b1ab5-182">However, it can make a difference if your application communicates between windows.</span></span> <span data-ttu-id="b1ab5-183">Per una descrizione più approfondita di questo problema, vedere l'argomento [Informazioni su messaggi e code di messaggi](/windows/desktop/winmsg/about-messages-and-message-queues).</span><span class="sxs-lookup"><span data-stu-id="b1ab5-183">You can find a more thorough discussion of this issue in the topic [About Messages and Message Queues](/windows/desktop/winmsg/about-messages-and-message-queues).</span></span>

## <a name="next"></a><span data-ttu-id="b1ab5-184">Prossima</span><span class="sxs-lookup"><span data-stu-id="b1ab5-184">Next</span></span>

[<span data-ttu-id="b1ab5-185">Scrittura della routine della finestra</span><span class="sxs-lookup"><span data-stu-id="b1ab5-185">Writing the Window Procedure</span></span>](writing-the-window-procedure.md)
