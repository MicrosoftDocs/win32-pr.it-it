---
description: Le funzioni di messaggio CryptoAPI rispettano lo \# standard CMS (Cryptographic Message Syntax) PKCS 7. Gli sviluppatori devono acquisire familiarità con questa specifica per utilizzare in modo più efficace le funzioni dei messaggi di basso livello. Alcune delle definizioni sono evidenziate qui.
ms.assetid: 99b633fe-9898-4570-ba8b-16ee78d351da
title: '\#Concetti sulla sintassi della messaggistica crittografica PKCS 7'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5ead1c5e75737db80adbca725a30cb730b547be4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106315377"
---
# <a name="pkcs-7-cryptographic-messaging-syntax-concepts"></a><span data-ttu-id="76f16-105">\#Concetti sulla sintassi della messaggistica crittografica PKCS 7</span><span class="sxs-lookup"><span data-stu-id="76f16-105">PKCS \#7 Cryptographic Messaging Syntax Concepts</span></span>

<span data-ttu-id="76f16-106">Le funzioni di messaggio CryptoAPI rispettano lo [standard CMS (Cryptographic Message Syntax)](https://www.ietf.org/rfc/rfc3369.txt) [*PKCS \# 7*](../secgloss/p-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="76f16-106">The CryptoAPI message functions adhere to [*PKCS \#7*](../secgloss/p-gly.md) [Cryptographic Message Syntax (CMS) Standard](https://www.ietf.org/rfc/rfc3369.txt).</span></span> <span data-ttu-id="76f16-107">Gli sviluppatori devono acquisire familiarità con questa specifica per utilizzare in modo più efficace le [*funzioni dei messaggi di basso livello*](../secgloss/l-gly.md).</span><span class="sxs-lookup"><span data-stu-id="76f16-107">Developers need to be familiar with this specification to most effectively use the [*low-level message functions*](../secgloss/l-gly.md).</span></span> <span data-ttu-id="76f16-108">Alcune delle definizioni sono evidenziate qui.</span><span class="sxs-lookup"><span data-stu-id="76f16-108">A few of its definitions are highlighted here.</span></span>

<span data-ttu-id="76f16-109">Lo \# standard PKCS 7 descrive una sintassi generale per i dati a cui è possibile applicare la [*crittografia*](../secgloss/c-gly.md) , ad esempio le [*firme digitali*](../secgloss/d-gly.md) e le [*buste digitali*](../secgloss/d-gly.md).</span><span class="sxs-lookup"><span data-stu-id="76f16-109">The PKCS \#7 standard describes a general syntax for data that may have [*cryptography*](../secgloss/c-gly.md) applied to it, such as [*digital signatures*](../secgloss/d-gly.md) and [*digital envelopes*](../secgloss/d-gly.md).</span></span> <span data-ttu-id="76f16-110">La sintassi ammette la ricorsione, in modo che, ad esempio, una busta possa essere annidata all'interno di un'altra oppure un'entità possa firmare i dati digitali che sono già stati inseriti in una busta.</span><span class="sxs-lookup"><span data-stu-id="76f16-110">The syntax admits recursion, so that, for example, one envelope can be nested inside another, or one party can sign digital data that has already been put into an envelope.</span></span> <span data-ttu-id="76f16-111">Consente inoltre di eseguire l'autenticazione degli attributi arbitrari, ad esempio l'ora di firma, insieme al contenuto di un messaggio.</span><span class="sxs-lookup"><span data-stu-id="76f16-111">It also allows arbitrary attributes, such as signing time, to be authenticated along with the content of a message.</span></span> <span data-ttu-id="76f16-112">Inoltre, fornisce altri attributi, ad esempio [*controfirme*](../secgloss/c-gly.md), da associare a una firma.</span><span class="sxs-lookup"><span data-stu-id="76f16-112">Further, it provides for other attributes, such as [*countersignatures*](../secgloss/c-gly.md), to be associated with a signature.</span></span>

<span data-ttu-id="76f16-113">Il tipo di dati contenuti in un \# messaggio PKCS 7 viene definito tipo di contenuto.</span><span class="sxs-lookup"><span data-stu-id="76f16-113">The type of data contained in a PKCS \#7 message is called its content type.</span></span> <span data-ttu-id="76f16-114">Sono disponibili due classi di tipi di contenuto: base e migliorata.</span><span class="sxs-lookup"><span data-stu-id="76f16-114">There are two classes of content types: Base and Enhanced.</span></span>

-   <span data-ttu-id="76f16-115">I tipi di contenuto di base contengono solo dati senza miglioramenti per la crittografia.</span><span class="sxs-lookup"><span data-stu-id="76f16-115">Base content types contain only data with no cryptographic enhancements.</span></span> <span data-ttu-id="76f16-116">Attualmente esiste un solo tipo di contenuto in questa classe, il [*tipo di contenuto dei dati*](../secgloss/d-gly.md).</span><span class="sxs-lookup"><span data-stu-id="76f16-116">Presently there is only one content type in this class, the [*data content type*](../secgloss/d-gly.md).</span></span>
-   <span data-ttu-id="76f16-117">I [*tipi di contenuto avanzati*](../secgloss/e-gly.md) contengono dati di alcuni tipi (probabilmente crittografati) e altri miglioramenti crittografici (ad esempio hash o firme).</span><span class="sxs-lookup"><span data-stu-id="76f16-117">[*Enhanced content types*](../secgloss/e-gly.md) contain data of some type (possibly encrypted), and other cryptographic enhancements (such as hashes or signatures).</span></span>

<span data-ttu-id="76f16-118">Il contenuto della classe avanzata usa l'incapsulamento, dando luogo a termini di [*contenuto esterno*](../secgloss/o-gly.md) (quello contenente i miglioramenti) e al [*contenuto interno*](../secgloss/i-gly.md) (quello che viene migliorato).</span><span class="sxs-lookup"><span data-stu-id="76f16-118">The content in the Enhanced class employs encapsulation, giving rise to the terms [*outer content*](../secgloss/o-gly.md) (the one containing the enhancements) and [*inner content*](../secgloss/i-gly.md) (the one being enhanced).</span></span> <span data-ttu-id="76f16-119">Una classe avanzata, ad esempio, può contenere il [*tipo di contenuto dei dati*](../secgloss/d-gly.md) (classe base) con una firma inclusa.</span><span class="sxs-lookup"><span data-stu-id="76f16-119">For example, an Enhanced class might contain the [*data content type*](../secgloss/d-gly.md) (Base class) that has a signature included with it.</span></span> <span data-ttu-id="76f16-120">In questo caso, il tipo di contenuto dei dati è il *contenuto interno* e la combinazione del tipo di contenuto dei dati e la firma formano il contenuto esterno.</span><span class="sxs-lookup"><span data-stu-id="76f16-120">In this case, the data content type is the *inner content* and the combination of the data content type and the signature forms the outer content.</span></span>

<span data-ttu-id="76f16-121">I tipi di contenuto definiti nello \# standard PKCS 7 sono i seguenti.</span><span class="sxs-lookup"><span data-stu-id="76f16-121">The content types defined in the PKCS \#7 standard are as follows.</span></span>



| <span data-ttu-id="76f16-122">Tipo di contenuto</span><span class="sxs-lookup"><span data-stu-id="76f16-122">Content type</span></span>              | <span data-ttu-id="76f16-123">Descrizione</span><span class="sxs-lookup"><span data-stu-id="76f16-123">Description</span></span>                                                                                                                                                                                                                                                                                                           |
|---------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="76f16-124">Data</span><span class="sxs-lookup"><span data-stu-id="76f16-124">Data</span></span>                      | <span data-ttu-id="76f16-125">Stringa ottetto (**byte**).</span><span class="sxs-lookup"><span data-stu-id="76f16-125">An octet (**BYTE**) string.</span></span>                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="76f16-126">Dati firmati</span><span class="sxs-lookup"><span data-stu-id="76f16-126">Signed Data</span></span>               | <span data-ttu-id="76f16-127">Contenuto di qualsiasi tipo e [*hash*](../secgloss/h-gly.md) di messaggi crittografati ([*digest*](../secgloss/m-gly.md)) del contenuto per zero o più firmatari.</span><span class="sxs-lookup"><span data-stu-id="76f16-127">Content of any type and encrypted message [*hashes*](../secgloss/h-gly.md) ([*digests*](../secgloss/m-gly.md)) of the content for zero or more signers.</span></span>                                                                           |
| <span data-ttu-id="76f16-128">Dati in busta</span><span class="sxs-lookup"><span data-stu-id="76f16-128">Enveloped Data</span></span>            | <span data-ttu-id="76f16-129">Contenuto crittografato di qualsiasi tipo e chiavi di crittografia del contenuto crittografate per uno o più destinatari.</span><span class="sxs-lookup"><span data-stu-id="76f16-129">Encrypted content of any type and encrypted content-encryption keys for one or more recipients.</span></span> <span data-ttu-id="76f16-130">La combinazione di contenuto crittografato e chiave di crittografia del contenuto crittografata per un destinatario è una [*busta digitale*](../secgloss/d-gly.md) per tale destinatario.</span><span class="sxs-lookup"><span data-stu-id="76f16-130">The combination of encrypted content and encrypted content-encryption key for a recipient is a [*digital envelope*](../secgloss/d-gly.md) for that recipient.</span></span> |
| <span data-ttu-id="76f16-131">Dati firmati e in busta</span><span class="sxs-lookup"><span data-stu-id="76f16-131">Signed-and-Enveloped Data</span></span> | <span data-ttu-id="76f16-132">Contenuto crittografato di qualsiasi tipo, chiavi di crittografia del contenuto crittografate per uno o più destinatari e digest di messaggi crittografati in forma doppia per uno o più firmatari.</span><span class="sxs-lookup"><span data-stu-id="76f16-132">Encrypted content of any type, encrypted content-encryption keys for one or more recipients, and doubly encrypted message digests for one or more signers.</span></span> <span data-ttu-id="76f16-133">La crittografia doppia è costituita da una crittografia con la chiave privata di un firmatario seguita da una crittografia con la chiave di crittografia del contenuto.</span><span class="sxs-lookup"><span data-stu-id="76f16-133">The double encryption consists of an encryption with a signer's private key followed by an encryption with the content-encryption key.</span></span>                     |
| <span data-ttu-id="76f16-134">Dati digest</span><span class="sxs-lookup"><span data-stu-id="76f16-134">Digested Data</span></span>             | <span data-ttu-id="76f16-135">Contenuto di qualsiasi tipo e un [*hash*](../secgloss/h-gly.md) del messaggio (digest) del contenuto.</span><span class="sxs-lookup"><span data-stu-id="76f16-135">Content of any type and a message [*hash*](../secgloss/h-gly.md) (digest) of the content.</span></span>                                                                                                                                                                                             |
| <span data-ttu-id="76f16-136">Dati crittografati</span><span class="sxs-lookup"><span data-stu-id="76f16-136">Encrypted Data</span></span>            | <span data-ttu-id="76f16-137">Contenuto crittografato di qualsiasi tipo.</span><span class="sxs-lookup"><span data-stu-id="76f16-137">Encrypted content of any type.</span></span> <span data-ttu-id="76f16-138">A differenza del [*tipo di contenuto dati*](../secgloss/d-gly.md)in busta, il tipo di contenuto dati crittografati non ha né destinatari né chiavi di crittografia del contenuto crittografate.</span><span class="sxs-lookup"><span data-stu-id="76f16-138">Unlike the enveloped-[*data content type*](../secgloss/d-gly.md), the encrypted-data content type has neither recipients nor encrypted content-encryption keys.</span></span> <span data-ttu-id="76f16-139">Si presuppone che le chiavi siano gestite in altri modi.</span><span class="sxs-lookup"><span data-stu-id="76f16-139">Keys are assumed to be managed by other means.</span></span>               |



 

> [!Note]  
> <span data-ttu-id="76f16-140">In tutta la \# specifica PKCS 7, i termini *digest* e [*digested*](../secgloss/d-gly.md) fanno riferimento al valore prodotto dall'applicazione di un [*algoritmo hash*](../secgloss/h-gly.md) ai dati.</span><span class="sxs-lookup"><span data-stu-id="76f16-140">Throughout the PKCS \#7 specification, the terms *digest* and [*digested*](../secgloss/d-gly.md) refer to the value produced from applying a [*hashing algorithm*](../secgloss/h-gly.md) to data.</span></span> <span data-ttu-id="76f16-141">Questa documentazione usa i termini [*hash*](../secgloss/h-gly.md) e *Hashed* per lo stesso scopo.</span><span class="sxs-lookup"><span data-stu-id="76f16-141">This documentation uses the terms [*hash*](../secgloss/h-gly.md) and *hashed* for the same purpose.</span></span> <span data-ttu-id="76f16-142">Ad esempio, il tipo di dati utilizzato con le [*funzioni di messaggio di basso livello*](../secgloss/l-gly.md) viene chiamato Hashed anziché digested.</span><span class="sxs-lookup"><span data-stu-id="76f16-142">For example, the data type used with the [*low-level message functions*](../secgloss/l-gly.md) is called hashed rather than digested.</span></span> <span data-ttu-id="76f16-143">Ai fini di questa documentazione, i due set di termini possono essere usati in modo intercambiabile.</span><span class="sxs-lookup"><span data-stu-id="76f16-143">For the purposes of this documentation, the two sets of terms may be used interchangeably.</span></span>

 

 

 
