---
description: La prima funzione CryptoAPI chiamata da un'applicazione che usa le API crittografiche è la funzione CryptAcquireContext.
ms.assetid: ad1ff45c-7d02-431b-a287-e9db765476ce
title: Contesti del provider del servizio di crittografia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df20df528b0ba0c385c7ab690436351d918f1521
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104128799"
---
# <a name="cryptographic-service-provider-contexts"></a><span data-ttu-id="5bf6d-103">Contesti del provider del servizio di crittografia</span><span class="sxs-lookup"><span data-stu-id="5bf6d-103">Cryptographic Service Provider Contexts</span></span>

<span data-ttu-id="5bf6d-104">La prima funzione [*CryptoAPI*](../secgloss/c-gly.md) chiamata da un'applicazione che usa le API crittografiche è la funzione [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) .</span><span class="sxs-lookup"><span data-stu-id="5bf6d-104">The first [*CryptoAPI*](../secgloss/c-gly.md) function called by an application that uses any cryptographic APIs is the [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) function.</span></span> <span data-ttu-id="5bf6d-105">Questa funzione restituisce un handle a un particolare CSP che include la specifica di un particolare [*contenitore di chiavi*](../secgloss/k-gly.md) all'interno del CSP.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-105">This function returns a handle to a particular CSP which includes the specification of a particular [*key container*](../secgloss/k-gly.md) within the CSP.</span></span> <span data-ttu-id="5bf6d-106">Questo contenitore di chiavi è un contenitore di chiavi richiesto in modo specifico oppure è il contenitore di chiavi predefinito per l'utente attualmente connesso.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-106">This key container is either a specifically requested key container or it is the default key container for the currently logged-on user.</span></span>

<span data-ttu-id="5bf6d-107">[**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) può anche creare un nuovo contenitore di chiavi.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-107">[**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) can also create a new key container.</span></span> <span data-ttu-id="5bf6d-108">Per altre informazioni, vedere [esempio di programma c: creazione di un contenitore di chiavi e generazione di chiavi](example-c-program-creating-a-key-container-and-generating-keys.md) e [programma c di esempio: uso di CryptAcquireContext](example-c-program-using-cryptacquirecontext.md).</span><span class="sxs-lookup"><span data-stu-id="5bf6d-108">For more information, see [Example C Program: Creating a Key Container and Generating Keys](example-c-program-creating-a-key-container-and-generating-keys.md) and [Example C Program: Using CryptAcquireContext](example-c-program-using-cryptacquirecontext.md).</span></span>

<span data-ttu-id="5bf6d-109">Un [*provider del servizio di crittografia*](../secgloss/c-gly.md) (CSP) dispone di un nome e di un tipo.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-109">A [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) has both a name and a type.</span></span> <span data-ttu-id="5bf6d-110">Il nome di uno dei CSP attualmente forniti con il sistema operativo è ad esempio provider del servizio di [crittografia di base Microsoft](microsoft-base-cryptographic-provider.md).</span><span class="sxs-lookup"><span data-stu-id="5bf6d-110">For example, the name of one of the CSPs currently shipped with the operating system is [Microsoft Base Cryptographic Provider](microsoft-base-cryptographic-provider.md).</span></span> <span data-ttu-id="5bf6d-111">Si tratta di un provider di tipo [ \_ \_ completo di prova RSA](prov-rsa-full.md) .</span><span class="sxs-lookup"><span data-stu-id="5bf6d-111">It is a [PROV\_RSA\_FULL](prov-rsa-full.md) type provider.</span></span> <span data-ttu-id="5bf6d-112">Il nome di ciascun provider è univoco. il tipo di provider non è.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-112">The name of each provider is unique; the provider type is not.</span></span>

<span data-ttu-id="5bf6d-113">Quando un'applicazione chiama [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) per ottenere un handle CSP, specifica un tipo di provider e, facoltativamente, un nome di provider.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-113">When an application calls [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to obtain a CSP handle, it specifies a provider type and, optionally, a provider name.</span></span> <span data-ttu-id="5bf6d-114">Se vengono specificati sia un tipo che un nome, la funzione carica il CSP con il tipo di provider e il nome del provider corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-114">If both a type and a name are specified, the function loads the CSP with the matching provider type and provider name.</span></span> <span data-ttu-id="5bf6d-115">La funzione restituisce l'handle del CSP che fornisce l'accesso al CSP e a un [*contenitore di chiavi*](../secgloss/k-gly.md) all'interno del CSP.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-115">The function returns the CSP's handle which provides access to both the CSP and to a [*key container*](../secgloss/k-gly.md) within the CSP.</span></span>

<span data-ttu-id="5bf6d-116">Quando un'applicazione chiama [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) e specifica un tipo di provider ma nessun nome di provider, la funzione Cerca un provider denominato, controllando prima di tutto un elenco di provider denominati predefiniti associati all'utente connesso e, in caso di esito negativo, da un elenco di provider denominati predefiniti associati al computer.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-116">When an application calls [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) and specifies a provider type but no provider name, the function looks for a named provider, first checking a list of default named providers associated with the logged-on user and, if that fails, from a list of default named providers associated with the computer.</span></span> <span data-ttu-id="5bf6d-117">Una volta determinato il nome del provider, la funzione **CryptAcquireContext** Cerca il CSP per quel provider, lo carica e restituisce il relativo handle.</span><span class="sxs-lookup"><span data-stu-id="5bf6d-117">After the provider name has been determined, the **CryptAcquireContext** function searches for the CSP for that provider, loads it, and returns its handle.</span></span>

<span data-ttu-id="5bf6d-118">Al termine dell'utilizzo di un handle CSP, rilasciarlo chiamando la funzione [**CryptReleaseContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptreleasecontext) .</span><span class="sxs-lookup"><span data-stu-id="5bf6d-118">When you have finished using a CSP handle, release it by calling the [**CryptReleaseContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptreleasecontext) function.</span></span>

 

 
