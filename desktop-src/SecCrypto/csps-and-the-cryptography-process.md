---
description: Le funzioni CryptoAPI utilizzano i provider del servizio di crittografia (CSP) per eseguire la crittografia e la decrittografia e fornire l'archiviazione e la sicurezza chiave.
ms.assetid: 7977e59b-7ce1-4bb4-aae4-d67b7d646493
title: CSP e il processo di crittografia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f5404fc3641a9a2c753158f5acb84850f3f0f29
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104049424"
---
# <a name="csps-and-the-cryptography-process"></a><span data-ttu-id="32441-103">CSP e il processo di crittografia</span><span class="sxs-lookup"><span data-stu-id="32441-103">CSPs and the Cryptography Process</span></span>

<span data-ttu-id="32441-104">Le funzioni [*CryptoAPI*](../secgloss/c-gly.md) utilizzano i [*provider del servizio di crittografia*](../secgloss/c-gly.md) (CSP) per eseguire la crittografia e la decrittografia e fornire l'archiviazione e la sicurezza chiave.</span><span class="sxs-lookup"><span data-stu-id="32441-104">[*CryptoAPI*](../secgloss/c-gly.md) functions use [*cryptographic service providers*](../secgloss/c-gly.md) (CSPs) to perform encryption and decryption, and to provide key storage and security.</span></span> <span data-ttu-id="32441-105">Questi CSP sono moduli indipendenti.</span><span class="sxs-lookup"><span data-stu-id="32441-105">These CSPs are independent modules.</span></span> <span data-ttu-id="32441-106">Idealmente, i CSP vengono scritti in modo da essere indipendenti da una particolare applicazione, in modo che qualsiasi applicazione venga eseguita con diversi CSP.</span><span class="sxs-lookup"><span data-stu-id="32441-106">Ideally, CSPs are written to be independent of a particular application, so that any application will run with a variety of CSPs.</span></span> <span data-ttu-id="32441-107">In realtà, tuttavia, alcune applicazioni hanno requisiti specifici che richiedono un CSP personalizzato.</span><span class="sxs-lookup"><span data-stu-id="32441-107">In reality, however, some applications have specific requirements that require a customized CSP.</span></span> <span data-ttu-id="32441-108">Viene confrontato con il modello [*GDI*](../secgloss/g-gly.md) di Windows.</span><span class="sxs-lookup"><span data-stu-id="32441-108">This compares to the Windows [*GDI*](../secgloss/g-gly.md) model.</span></span> <span data-ttu-id="32441-109">I CSP sono analoghi ai driver di dispositivo grafici.</span><span class="sxs-lookup"><span data-stu-id="32441-109">CSPs are analogous to graphics device drivers.</span></span>

<span data-ttu-id="32441-110">La qualità della protezione delle chiavi all'interno del sistema è un parametro di progettazione del CSP e non del sistema nel suo complesso.</span><span class="sxs-lookup"><span data-stu-id="32441-110">The quality of protection for keys within the system is a design parameter of the CSP and not of the system as a whole.</span></span> <span data-ttu-id="32441-111">Questo consente l'esecuzione di un'applicazione in diversi contesti di sicurezza senza modifiche.</span><span class="sxs-lookup"><span data-stu-id="32441-111">This allows an application to run in a variety of security contexts without modification.</span></span>

<span data-ttu-id="32441-112">Per le applicazioni di accesso è necessario limitare con attenzione gli elementi interni crittografici.</span><span class="sxs-lookup"><span data-stu-id="32441-112">The access applications have to the cryptographic internals is carefully restricted.</span></span> <span data-ttu-id="32441-113">Ciò facilita lo sviluppo di applicazioni sicure e portatili.</span><span class="sxs-lookup"><span data-stu-id="32441-113">This facilitates secure and portable application development.</span></span>

<span data-ttu-id="32441-114">Si applicano le tre regole di progettazione seguenti:</span><span class="sxs-lookup"><span data-stu-id="32441-114">The following three design rules apply:</span></span>

-   <span data-ttu-id="32441-115">Le applicazioni non possono accedere direttamente al materiale delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="32441-115">Applications cannot directly access keying material.</span></span> <span data-ttu-id="32441-116">Poiché tutti i materiali delle chiavi vengono generati all'interno del CSP e utilizzati dall'applicazione tramite handle opachi, non vi è alcun rischio che un'applicazione o le DLL associate siano in grado di divulgare materiale per le chiavi o di scegliere materiale per le chiavi da origini casuali non sufficienti.</span><span class="sxs-lookup"><span data-stu-id="32441-116">Because all keying material is generated within the CSP and used by the application through opaque handles, there is no risk of an application or its associated DLLs either divulging keying material or choosing keying material from poor random sources.</span></span>
-   <span data-ttu-id="32441-117">Le applicazioni non possono specificare i dettagli delle operazioni di crittografia.</span><span class="sxs-lookup"><span data-stu-id="32441-117">Applications cannot specify the details of cryptographic operations.</span></span> <span data-ttu-id="32441-118">L'interfaccia CSP consente a un'applicazione di scegliere un algoritmo di crittografia o di firma, ma l'implementazione di ogni operazione di crittografia viene eseguita dal CSP.</span><span class="sxs-lookup"><span data-stu-id="32441-118">The CSP interface allows an application to choose an encryption or signature algorithm, but the implementation of every cryptographic operation is done by the CSP.</span></span>
-   <span data-ttu-id="32441-119">Le applicazioni non gestiscono le [*credenziali*](../secgloss/c-gly.md) utente o altri dati di autenticazione utente.</span><span class="sxs-lookup"><span data-stu-id="32441-119">Applications do not handle user [*credentials*](../secgloss/c-gly.md) or other user authentication data.</span></span> <span data-ttu-id="32441-120">L'autenticazione utente viene eseguita dal CSP; quindi, i CSP futuri con funzionalità di autenticazione avanzata, ad esempio gli input biometrici, funzioneranno senza dover modificare il modello di autenticazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="32441-120">User authentication is done by the CSP; therefore, future CSPs with advanced authentication capabilities, such as biometric inputs, will function without needing to change the application authentication model.</span></span>

<span data-ttu-id="32441-121">Come minimo, un CSP è costituito da una libreria a collegamento dinamico (DLL) e da un [*file di firma*](../secgloss/s-gly.md).</span><span class="sxs-lookup"><span data-stu-id="32441-121">At a minimum, a CSP consists of a dynamic-link library (DLL) and a [*signature file*](../secgloss/s-gly.md).</span></span> <span data-ttu-id="32441-122">Il file della firma è necessario per garantire che [*CryptoAPI*](../secgloss/c-gly.md) riconosca il CSP.</span><span class="sxs-lookup"><span data-stu-id="32441-122">The signature file is necessary to ensure that the [*CryptoAPI*](../secgloss/c-gly.md) recognizes the CSP.</span></span> <span data-ttu-id="32441-123">CryptoAPI convalida periodicamente questa firma per assicurarsi che vengano rilevate eventuali manomissioni del CSP.</span><span class="sxs-lookup"><span data-stu-id="32441-123">CryptoAPI validates this signature periodically to ensure that any tampering with the CSP is detected.</span></span>

<span data-ttu-id="32441-124">Alcuni DSN possono implementare una parte delle funzionalità in un servizio separato da indirizzi chiamato tramite RPC locale o in hardware chiamato tramite un driver di dispositivo di sistema.</span><span class="sxs-lookup"><span data-stu-id="32441-124">Some CSPs can implement a fraction of their functionality in an address-separated service called through local RPC or in hardware called through a system device driver.</span></span> <span data-ttu-id="32441-125">Isolando le operazioni globali di crittografia e stato di chiave in un servizio separato dall'indirizzo o nell'hardware, le chiavi e le operazioni non sono sicure per la manomissione in uno spazio dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="32441-125">Isolating global key-state and central cryptographic operations in an address-separated service or in hardware keeps keys and operations safe from tampering within an application data space.</span></span>

<span data-ttu-id="32441-126">Non è consigliabile che le applicazioni utilizzino gli attributi specifici di un CSP specifico.</span><span class="sxs-lookup"><span data-stu-id="32441-126">It is unwise for applications to take advantage of attributes particular to a specific CSP.</span></span> <span data-ttu-id="32441-127">Ad esempio, il provider di crittografia di base Microsoft (fornito con CryptoAPI) supporta le chiavi di sessione a 40 bit e le chiavi pubbliche a 512 bit.</span><span class="sxs-lookup"><span data-stu-id="32441-127">For example, the Microsoft Base Cryptographic Provider (supplied with CryptoAPI) supports 40-bit session keys and 512-bit public keys.</span></span> <span data-ttu-id="32441-128">Le applicazioni che modificano queste chiavi devono evitare presupposti sulla quantità di memoria necessaria per archiviare queste chiavi perché l'applicazione potrebbe non riuscire se viene utilizzato un CSP diverso.</span><span class="sxs-lookup"><span data-stu-id="32441-128">Applications manipulating these keys must avoid assumptions about the amount of memory needed to store these keys because the application is likely to fail if a different CSP is used.</span></span> <span data-ttu-id="32441-129">Le applicazioni ben scritte devono funzionare con una varietà di CSP.</span><span class="sxs-lookup"><span data-stu-id="32441-129">Well-written applications must work with a variety of CSPs.</span></span>

<span data-ttu-id="32441-130">Per informazioni dettagliate sui tipi di provider del servizio di crittografia e sui DSN predefiniti che possono essere utilizzati con CryptoAPI, vedere [tipi di provider](cryptographic-provider-types.md) del servizio di crittografia e provider del [servizio di crittografia Microsoft](microsoft-cryptographic-service-providers.md).</span><span class="sxs-lookup"><span data-stu-id="32441-130">For details about cryptographic provider types and predefined CSPs that can be used with CryptoAPI, see [Cryptographic Provider Types](cryptographic-provider-types.md) and [Microsoft Cryptographic Service Providers](microsoft-cryptographic-service-providers.md).</span></span>

 

 
