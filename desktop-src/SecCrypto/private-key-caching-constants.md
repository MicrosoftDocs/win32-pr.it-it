---
description: Utilizzato per rappresentare le voci del registro di sistema che controllano la memorizzazione nella cache della chiave privata da CSP basati su software Microsoft.
ms.assetid: 67909072-72fe-4777-ae52-a7b9047c9dd5
title: Costanti di caching della chiave privata (Wincrypt. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 6afa1394b33f4e36e31934e813b7c9fc41814e28
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103885650"
---
# <a name="private-key-caching-constants"></a>Costanti di caching della chiave privata

Le costanti seguenti vengono utilizzate per rappresentare le voci del registro di sistema che controllano la memorizzazione nella cache della [*chiave privata*](../secgloss/p-gly.md) da CSP basati su software Microsoft.



| Costante/valore                                                                                                                                                                                                                                                                                                                                                                                    | Descrizione                                                                                                |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------|
| <span id="szKEY_CRYPTOAPI_PRIVATE_KEY_OPTIONS"></span><span id="szkey_cryptoapi_private_key_options"></span><span id="SZKEY_CRYPTOAPI_PRIVATE_KEY_OPTIONS"></span><dl> <dt>**szKEY \_ \_ \_ \_ Opzioni chiave privata CryptoAPI**</dt> <dt>" \\ \\ criteri software \\ \\ Microsoft \\ \\ Cryptography"</dt> </dl> | Percorso, sotto la radice **del \_ \_ computer locale HKEY** , delle voci del registro di sistema per la memorizzazione nella cache della chiave privata.<br/> |



Le costanti seguenti vengono utilizzate per identificare i valori del registro di sistema che controllano globalmente la memorizzazione nella cache della chiave privata per un processo specifico da parte dei CSP basati su software Microsoft.



| Costante/valore                                                                                                                                                                                                                                                                                                                                                                                    | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="szPRIV_KEY_CACHE_MAX_ITEMS"></span><span id="szpriv_key_cache_max_items"></span><span id="SZPRIV_KEY_CACHE_MAX_ITEMS"></span><dl> <dt>**szPRIV \_ \_ \_ Numero massimo di \_ elementi della cache chiave**</dt> <dt>"PrivKeyCacheMaxItems"</dt> </dl>                                                                  | Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica il numero massimo di chiavi private che possono essere memorizzate nella cache per un singolo processo. Questo controllo viene eseguito ogni volta che viene letta una chiave privata archiviata. Se viene superato il numero massimo, la chiave usata meno di recente viene rimossa dalla cache.<br/> Se questo valore è zero, nessuna chiave viene memorizzata nella cache. Se questo valore non è presente, per impostazione predefinita viene usato il valore **\_ \_ \_ \_ \_ predefinito max Items nella cache della chiave cPRIV** .<br/> Se viene fatto riferimento a una chiave privata eliminata dalla cache in un contesto aperto, la chiave viene letta dalla risorsa di archiviazione alla successiva esecuzione di un tentativo di usare la chiave.<br/> **Windows Server 2003 e Windows XP con SP1 e versioni precedenti:** Il valore del registro di sistema non è supportato.<br/>                                  |
| <span id="cPRIV_KEY_CACHE_MAX_ITEMS_DEFAULT"></span><span id="cpriv_key_cache_max_items_default"></span><span id="CPRIV_KEY_CACHE_MAX_ITEMS_DEFAULT"></span><dl> <dt>**cPRIV \_ \_ \_ Numero massimo di \_ elementi \_ predefiniti per la cache chiave**</dt> <dt>20</dt> </dl>                                                         | Il valore predefinito della voce del registro di sistema **\_ \_ \_ Max \_ Items della cache della chiave szPRIV** se non è specificato alcun valore.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span id="szPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS"></span><span id="szpriv_key_cache_purge_interval_seconds"></span><span id="SZPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS"></span><dl> <dt>**szPRIV \_ \_Intervallo di \_ ripulitura \_ \_ della cache chiave**</dt> <dt>"PrivKeyCachePurgeIntervalSeconds"</dt> </dl> | Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica la durata massima, in secondi, di qualsiasi chiave privata memorizzata nella cache. Questo controllo viene eseguito ogni volta che viene utilizzata o letta una chiave privata archiviata. Se la quantità di tempo trascorso dall'ultima cancellazione è avvenuta, tutte le chiavi memorizzate nella cache a cui non è stato fatto riferimento dopo l'ultima cancellazione verranno rimosse dalla cache.<br/> Se questo valore non è presente, per impostazione predefinita viene usato il valore **\_ \_ \_ \_ \_ \_ predefinito intervallo di ripulitura della cache della chiave cPRIV** .<br/> Se viene fatto riferimento a una chiave privata deselezionata dalla cache in un contesto aperto, la chiave verrà letta dalla risorsa di archiviazione alla successiva esecuzione di un tentativo di utilizzo della chiave.<br/> **Windows Server 2003 e Windows XP con SP1 e versioni precedenti:** Il valore del registro di sistema non è supportato.<br/> |
| <span id="cPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS_DEFAULT"></span><span id="cpriv_key_cache_purge_interval_seconds_default"></span><span id="CPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS_DEFAULT"></span><dl> <dt>**cPRIV \_ \_Intervallo di ripulitura della cache delle chiavi- \_ \_ \_ \_ valore predefinito**</dt> <dt>86400</dt> </dl> | Se non viene specificato alcun valore, il valore predefinito della voce del registro di sistema **szPRIV della \_ cache delle chiavi \_ \_ ripulisce \_ intervallo \_** Questo valore è equivalente a un giorno.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



Le costanti seguenti vengono utilizzate per identificare i valori del registro di sistema che controllano la memorizzazione nella cache della chiave privata per una singola istanza del [*provider del servizio di crittografia*](../secgloss/c-gly.md) (CSP) basata su software Microsoft.



| Costante/valore                                                                                                                                                                                                                                                                                          | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <dt></dt><dt>"AllowCachePW"</dt> </dl>                                                                                                                                                         | Valore **reg \_ DWORD** sotto la chiave del registro di sistema **HKEY \_ Local \_ computer \\ \\ criteri software \\ Microsoft \\ Cryptography \\ Protect** che specifica se la memorizzazione delle password nella cache è abilitata per le chiavi protette da password nei CSP basati su software Microsoft. Se questo valore è 0, la memorizzazione nella cache delle password viene anabelta e all'utente viene richiesta la password ogni volta che viene usata una chiave protetta da password. Qualsiasi altro valore, o l'assenza di questo valore, indica che la password verrà memorizzata nella cache. In questo scenario, l'utente viene richiesto una sola volta per ogni processo per ogni chiave di questo tipo. <br/> |
| <span id="szKEY_CACHE_ENABLED"></span><span id="szkey_cache_enabled"></span><span id="SZKEY_CACHE_ENABLED"></span><dl> <dt>**szKEY \_ CACHE \_ abilitata**</dt> <dt>"CachePrivateKeys"</dt> </dl>          | Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica se la memorizzazione nella cache della chiave privata è abilitata. Se questo valore è 1, la memorizzazione nella cache della chiave privata è abilitata. Qualsiasi altro valore, o l'assenza di questo valore, indica che la memorizzazione nella cache della chiave privata è disabilitata.<br/> **Windows Vista con SP1, Windows Vista e Windows XP:** Il valore del registro di sistema non è supportato.<br/>                                                                                                                                                        |
| <span id="szKEY_CACHE_SECONDS"></span><span id="szkey_cache_seconds"></span><span id="SZKEY_CACHE_SECONDS"></span><dl> <dt>**szKEY \_ \_Secondi di memorizzazione nella cache**</dt> <dt>"PrivateKeyLifetimeSeconds"</dt> </dl> | Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica la durata massima, in secondi, di qualsiasi chiave privata memorizzata nella cache.<br/> **Windows XP:** Il valore del registro di sistema non è supportato.<br/>                                                                                                                                                                                                                                                                                                                                          |



## <a name="remarks"></a>Commenti

Di seguito sono riportate le differenze tra i secondi della **\_ cache \_ szKEY** e i valori di **intervallo di eliminazione della \_ cache delle chiavi \_ \_ \_ \_ szPRIV** :

 **\_secondi cache \_ szKEY**  

-   Questo valore si applica solo a un CSP specifico. Una volta rilasciato il CSP, viene rilasciata anche la cache del CSP.  
-   Questo valore viene applicato solo quando viene effettuato un tentativo di usare una chiave privata specifica con un handle di contesto specifico.  

**\_ \_ \_ secondi intervallo di ripulitura della cache della chiave \_ szPRIV \_**  

-   Questo valore si applica a tutti i CSP in un processo. Anche se il CSP viene rilasciato, la cache non viene rilasciata.  
-   Questo valore si applica ogni volta che una chiave privata archiviata viene utilizzata o letta dall'archiviazione in un singolo processo.  



## <a name="requirements"></a>Requisiti



| Requisito | Valore |
|-------------------------------------|---------------------------------------------------------------------------------------|
| Client minimo supportato<br/> | \[Solo app desktop Windows XP\]<br/>                                           |
| Server minimo supportato<br/> | \[Solo app desktop Windows Server 2003\]<br/>                                  |
| Intestazione<br/>                   | <dl> <dt>Wincrypt. h</dt> </dl> |



 

 
