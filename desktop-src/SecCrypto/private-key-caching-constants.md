---
description: Utilizzato per rappresentare le voci del registro di sistema che controllano la memorizzazione nella cache della chiave privata da CSP basati su software Microsoft.
ms.assetid: 67909072-72fe-4777-ae52-a7b9047c9dd5
title: Costanti di caching della chiave privata (Wincrypt. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 6afa1394b33f4e36e31934e813b7c9fc41814e28
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103885650"
---
# <a name="private-key-caching-constants"></a><span data-ttu-id="e2f79-103">Costanti di caching della chiave privata</span><span class="sxs-lookup"><span data-stu-id="e2f79-103">Private Key Caching Constants</span></span>

<span data-ttu-id="e2f79-104">Le costanti seguenti vengono utilizzate per rappresentare le voci del registro di sistema che controllano la memorizzazione nella cache della [*chiave privata*](../secgloss/p-gly.md) da CSP basati su software Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e2f79-104">The following constants are used to represent registry entries that control [*private key*](../secgloss/p-gly.md) caching by Microsoft software-based CSPs.</span></span>



| <span data-ttu-id="e2f79-105">Costante/valore</span><span class="sxs-lookup"><span data-stu-id="e2f79-105">Constant/value</span></span>                                                                                                                                                                                                                                                                                                                                                                                    | <span data-ttu-id="e2f79-106">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e2f79-106">Description</span></span>                                                                                                |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------|
| <span id="szKEY_CRYPTOAPI_PRIVATE_KEY_OPTIONS"></span><span id="szkey_cryptoapi_private_key_options"></span><span id="SZKEY_CRYPTOAPI_PRIVATE_KEY_OPTIONS"></span><dl> <span data-ttu-id="e2f79-107"><dt>**szKEY \_ \_ \_ \_ Opzioni chiave privata CryptoAPI**</dt> <dt>" \\ \\ criteri software \\ \\ Microsoft \\ \\ Cryptography"</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-107"><dt>**szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS**</dt> <dt>"Software\\\\Policies\\\\Microsoft\\\\Cryptography"</dt></span></span> </dl> | <span data-ttu-id="e2f79-108">Percorso, sotto la radice **del \_ \_ computer locale HKEY** , delle voci del registro di sistema per la memorizzazione nella cache della chiave privata.</span><span class="sxs-lookup"><span data-stu-id="e2f79-108">The path, under the **HKEY\_LOCAL\_MACHINE** root, of the private key caching registry entries.</span></span><br/> |



<span data-ttu-id="e2f79-109">Le costanti seguenti vengono utilizzate per identificare i valori del registro di sistema che controllano globalmente la memorizzazione nella cache della chiave privata per un processo specifico da parte dei CSP basati su software Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e2f79-109">The following constants are used to identify registry values that control private key caching globally for a specific process by Microsoft software-based CSPs.</span></span>



| <span data-ttu-id="e2f79-110">Costante/valore</span><span class="sxs-lookup"><span data-stu-id="e2f79-110">Constant/value</span></span>                                                                                                                                                                                                                                                                                                                                                                                    | <span data-ttu-id="e2f79-111">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e2f79-111">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="szPRIV_KEY_CACHE_MAX_ITEMS"></span><span id="szpriv_key_cache_max_items"></span><span id="SZPRIV_KEY_CACHE_MAX_ITEMS"></span><dl> <span data-ttu-id="e2f79-112"><dt>**szPRIV \_ \_ \_ Numero massimo di \_ elementi della cache chiave**</dt> <dt>"PrivKeyCacheMaxItems"</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-112"><dt>**szPRIV\_KEY\_CACHE\_MAX\_ITEMS**</dt> <dt>"PrivKeyCacheMaxItems"</dt></span></span> </dl>                                                                  | <span data-ttu-id="e2f79-113">Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica il numero massimo di chiavi private che possono essere memorizzate nella cache per un singolo processo.</span><span class="sxs-lookup"><span data-stu-id="e2f79-113">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies the maximum number of private keys that can be cached at one time for a single process.</span></span> <span data-ttu-id="e2f79-114">Questo controllo viene eseguito ogni volta che viene letta una chiave privata archiviata.</span><span class="sxs-lookup"><span data-stu-id="e2f79-114">This check is performed whenever a stored private key is read.</span></span> <span data-ttu-id="e2f79-115">Se viene superato il numero massimo, la chiave usata meno di recente viene rimossa dalla cache.</span><span class="sxs-lookup"><span data-stu-id="e2f79-115">If the maximum number is exceeded, the least recently used key is removed from the cache.</span></span><br/> <span data-ttu-id="e2f79-116">Se questo valore è zero, nessuna chiave viene memorizzata nella cache.</span><span class="sxs-lookup"><span data-stu-id="e2f79-116">If this value is zero, no keys are cached.</span></span> <span data-ttu-id="e2f79-117">Se questo valore non è presente, per impostazione predefinita viene usato il valore **\_ \_ \_ \_ \_ predefinito max Items nella cache della chiave cPRIV** .</span><span class="sxs-lookup"><span data-stu-id="e2f79-117">If this value is not present, the **cPRIV\_KEY\_CACHE\_MAX\_ITEMS\_DEFAULT** value is used as the default.</span></span><br/> <span data-ttu-id="e2f79-118">Se viene fatto riferimento a una chiave privata eliminata dalla cache in un contesto aperto, la chiave viene letta dalla risorsa di archiviazione alla successiva esecuzione di un tentativo di usare la chiave.</span><span class="sxs-lookup"><span data-stu-id="e2f79-118">If a private key that is deleted from the cache is currently referenced in an open context, then the key is read from storage the next time an attempt is made to use the key.</span></span><br/> <span data-ttu-id="e2f79-119">**Windows Server 2003 e Windows XP con SP1 e versioni precedenti:** Il valore del registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="e2f79-119">**Windows Server 2003 and Windows XP with SP1 and earlier:** This registry value is not supported.</span></span><br/>                                  |
| <span id="cPRIV_KEY_CACHE_MAX_ITEMS_DEFAULT"></span><span id="cpriv_key_cache_max_items_default"></span><span id="CPRIV_KEY_CACHE_MAX_ITEMS_DEFAULT"></span><dl> <span data-ttu-id="e2f79-120"><dt>**cPRIV \_ \_ \_ Numero massimo di \_ elementi \_ predefiniti per la cache chiave**</dt> <dt>20</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-120"><dt>**cPRIV\_KEY\_CACHE\_MAX\_ITEMS\_DEFAULT**</dt> <dt>20</dt></span></span> </dl>                                                         | <span data-ttu-id="e2f79-121">Il valore predefinito della voce del registro di sistema **\_ \_ \_ Max \_ Items della cache della chiave szPRIV** se non è specificato alcun valore.</span><span class="sxs-lookup"><span data-stu-id="e2f79-121">The default value of the **szPRIV\_KEY\_CACHE\_MAX\_ITEMS** registry entry if no value is specified.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span id="szPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS"></span><span id="szpriv_key_cache_purge_interval_seconds"></span><span id="SZPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS"></span><dl> <span data-ttu-id="e2f79-122"><dt>**szPRIV \_ \_Intervallo di \_ ripulitura \_ \_ della cache chiave**</dt> <dt>"PrivKeyCachePurgeIntervalSeconds"</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-122"><dt>**szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS**</dt> <dt>"PrivKeyCachePurgeIntervalSeconds"</dt></span></span> </dl> | <span data-ttu-id="e2f79-123">Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica la durata massima, in secondi, di qualsiasi chiave privata memorizzata nella cache.</span><span class="sxs-lookup"><span data-stu-id="e2f79-123">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies the maximum age, in seconds, of any cached private key.</span></span> <span data-ttu-id="e2f79-124">Questo controllo viene eseguito ogni volta che viene utilizzata o letta una chiave privata archiviata.</span><span class="sxs-lookup"><span data-stu-id="e2f79-124">This check is performed whenever a stored private key is used or read.</span></span> <span data-ttu-id="e2f79-125">Se la quantità di tempo trascorso dall'ultima cancellazione è avvenuta, tutte le chiavi memorizzate nella cache a cui non è stato fatto riferimento dopo l'ultima cancellazione verranno rimosse dalla cache.</span><span class="sxs-lookup"><span data-stu-id="e2f79-125">If this amount of time has elapsed since the last clearing occurred, all cached keys that have not been referenced since the last clearing will be removed from the cache.</span></span><br/> <span data-ttu-id="e2f79-126">Se questo valore non è presente, per impostazione predefinita viene usato il valore **\_ \_ \_ \_ \_ \_ predefinito intervallo di ripulitura della cache della chiave cPRIV** .</span><span class="sxs-lookup"><span data-stu-id="e2f79-126">If this value is not present, the **cPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS\_DEFAULT** value is used as the default.</span></span><br/> <span data-ttu-id="e2f79-127">Se viene fatto riferimento a una chiave privata deselezionata dalla cache in un contesto aperto, la chiave verrà letta dalla risorsa di archiviazione alla successiva esecuzione di un tentativo di utilizzo della chiave.</span><span class="sxs-lookup"><span data-stu-id="e2f79-127">If a private key that is cleared from the cache is currently referenced in an open context, then the key will be read from storage the next time an attempt is made to use the key.</span></span><br/> <span data-ttu-id="e2f79-128">**Windows Server 2003 e Windows XP con SP1 e versioni precedenti:** Il valore del registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="e2f79-128">**Windows Server 2003 and Windows XP with SP1 and earlier:** This registry value is not supported.</span></span><br/> |
| <span id="cPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS_DEFAULT"></span><span id="cpriv_key_cache_purge_interval_seconds_default"></span><span id="CPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS_DEFAULT"></span><dl> <span data-ttu-id="e2f79-129"><dt>**cPRIV \_ \_Intervallo di ripulitura della cache delle chiavi- \_ \_ \_ \_ valore predefinito**</dt> <dt>86400</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-129"><dt>**cPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS\_DEFAULT**</dt> <dt>86400</dt></span></span> </dl> | <span data-ttu-id="e2f79-130">Se non viene specificato alcun valore, il valore predefinito della voce del registro di sistema **szPRIV della \_ cache delle chiavi \_ \_ ripulisce \_ intervallo \_**</span><span class="sxs-lookup"><span data-stu-id="e2f79-130">The default value of the **szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS** registry entry if no value is specified.</span></span> <span data-ttu-id="e2f79-131">Questo valore è equivalente a un giorno.</span><span class="sxs-lookup"><span data-stu-id="e2f79-131">This value is equivalent to one day.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



<span data-ttu-id="e2f79-132">Le costanti seguenti vengono utilizzate per identificare i valori del registro di sistema che controllano la memorizzazione nella cache della chiave privata per una singola istanza del [*provider del servizio di crittografia*](../secgloss/c-gly.md) (CSP) basata su software Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e2f79-132">The following constants are used to identify registry values that control private key caching for a single Microsoft software-based [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) instance.</span></span>



| <span data-ttu-id="e2f79-133">Costante/valore</span><span class="sxs-lookup"><span data-stu-id="e2f79-133">Constant/value</span></span>                                                                                                                                                                                                                                                                                          | <span data-ttu-id="e2f79-134">Descrizione</span><span class="sxs-lookup"><span data-stu-id="e2f79-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <span data-ttu-id="e2f79-135"><dt></dt><dt>"AllowCachePW"</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-135"><dt></dt> <dt>"AllowCachePW"</dt></span></span> </dl>                                                                                                                                                         | <span data-ttu-id="e2f79-136">Valore **reg \_ DWORD** sotto la chiave del registro di sistema **HKEY \_ Local \_ computer \\ \\ criteri software \\ Microsoft \\ Cryptography \\ Protect** che specifica se la memorizzazione delle password nella cache è abilitata per le chiavi protette da password nei CSP basati su software Microsoft.</span><span class="sxs-lookup"><span data-stu-id="e2f79-136">A **REG\_DWORD** value under the **HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Cryptography\\Protect** registry key that specifies whether password caching is enabled for password-protected keys in the Microsoft software-based CSPs.</span></span> <span data-ttu-id="e2f79-137">Se questo valore è 0, la memorizzazione nella cache delle password viene anabelta e all'utente viene richiesta la password ogni volta che viene usata una chiave protetta da password.</span><span class="sxs-lookup"><span data-stu-id="e2f79-137">If this value is 0, then password caching is disabeld and the user is prompted for the password every time a password-protected key is used.</span></span> <span data-ttu-id="e2f79-138">Qualsiasi altro valore, o l'assenza di questo valore, indica che la password verrà memorizzata nella cache.</span><span class="sxs-lookup"><span data-stu-id="e2f79-138">Any other value, or the absence of this value, indicates that the password will be cached.</span></span> <span data-ttu-id="e2f79-139">In questo scenario, l'utente viene richiesto una sola volta per ogni processo per ogni chiave di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="e2f79-139">In this scenario, the user is only prompted once per process for each such key.</span></span> <br/> |
| <span id="szKEY_CACHE_ENABLED"></span><span id="szkey_cache_enabled"></span><span id="SZKEY_CACHE_ENABLED"></span><dl> <span data-ttu-id="e2f79-140"><dt>**szKEY \_ CACHE \_ abilitata**</dt> <dt>"CachePrivateKeys"</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-140"><dt>**szKEY\_CACHE\_ENABLED**</dt> <dt>"CachePrivateKeys"</dt></span></span> </dl>          | <span data-ttu-id="e2f79-141">Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica se la memorizzazione nella cache della chiave privata è abilitata.</span><span class="sxs-lookup"><span data-stu-id="e2f79-141">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies whether private key caching is enabled.</span></span> <span data-ttu-id="e2f79-142">Se questo valore è 1, la memorizzazione nella cache della chiave privata è abilitata.</span><span class="sxs-lookup"><span data-stu-id="e2f79-142">If this value is 1, then private key caching is enabled.</span></span> <span data-ttu-id="e2f79-143">Qualsiasi altro valore, o l'assenza di questo valore, indica che la memorizzazione nella cache della chiave privata è disabilitata.</span><span class="sxs-lookup"><span data-stu-id="e2f79-143">Any other value, or the absence of this value, indicates that private key caching is disabled.</span></span><br/> <span data-ttu-id="e2f79-144">**Windows Vista con SP1, Windows Vista e Windows XP:** Il valore del registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="e2f79-144">**Windows Vista with SP1, Windows Vista and Windows XP:** This registry value is not supported.</span></span><br/>                                                                                                                                                        |
| <span id="szKEY_CACHE_SECONDS"></span><span id="szkey_cache_seconds"></span><span id="SZKEY_CACHE_SECONDS"></span><dl> <span data-ttu-id="e2f79-145"><dt>**szKEY \_ \_Secondi di memorizzazione nella cache**</dt> <dt>"PrivateKeyLifetimeSeconds"</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-145"><dt>**szKEY\_CACHE\_SECONDS**</dt> <dt>"PrivateKeyLifetimeSeconds"</dt></span></span> </dl> | <span data-ttu-id="e2f79-146">Valore **reg \_ DWORD** nella chiave del registro di sistema **szKEY \_ CryptoAPI \_ private \_ Key \_ options** che specifica la durata massima, in secondi, di qualsiasi chiave privata memorizzata nella cache.</span><span class="sxs-lookup"><span data-stu-id="e2f79-146">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies the maximum age, in seconds, of any cached private key.</span></span><br/> <span data-ttu-id="e2f79-147">**Windows XP:** Il valore del registro di sistema non è supportato.</span><span class="sxs-lookup"><span data-stu-id="e2f79-147">**Windows XP:** This registry value is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                          |



## <a name="remarks"></a><span data-ttu-id="e2f79-148">Commenti</span><span class="sxs-lookup"><span data-stu-id="e2f79-148">Remarks</span></span>

<span data-ttu-id="e2f79-149">Di seguito sono riportate le differenze tra i secondi della **\_ cache \_ szKEY** e i valori di **intervallo di eliminazione della \_ cache delle chiavi \_ \_ \_ \_ szPRIV** :</span><span class="sxs-lookup"><span data-stu-id="e2f79-149">The differences between the **szKEY\_CACHE\_SECONDS** and the **szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS** values are as follows:</span></span>

 <span data-ttu-id="e2f79-150">**\_secondi cache \_ szKEY**</span><span class="sxs-lookup"><span data-stu-id="e2f79-150">**szKEY\_CACHE\_SECONDS**</span></span>  

-   <span data-ttu-id="e2f79-151">Questo valore si applica solo a un CSP specifico.</span><span class="sxs-lookup"><span data-stu-id="e2f79-151">This value only applies to a specific CSP.</span></span> <span data-ttu-id="e2f79-152">Una volta rilasciato il CSP, viene rilasciata anche la cache del CSP.</span><span class="sxs-lookup"><span data-stu-id="e2f79-152">After the CSP is released, the CSP's cache is released as well.</span></span>  
-   <span data-ttu-id="e2f79-153">Questo valore viene applicato solo quando viene effettuato un tentativo di usare una chiave privata specifica con un handle di contesto specifico.</span><span class="sxs-lookup"><span data-stu-id="e2f79-153">This value is only applied when an attempt is made to use a specific private key with a specific context handle.</span></span>  

<span data-ttu-id="e2f79-154">**\_ \_ \_ secondi intervallo di ripulitura della cache della chiave \_ szPRIV \_**</span><span class="sxs-lookup"><span data-stu-id="e2f79-154">**szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS**</span></span>  

-   <span data-ttu-id="e2f79-155">Questo valore si applica a tutti i CSP in un processo.</span><span class="sxs-lookup"><span data-stu-id="e2f79-155">This value applies to all CSPs in a process.</span></span> <span data-ttu-id="e2f79-156">Anche se il CSP viene rilasciato, la cache non viene rilasciata.</span><span class="sxs-lookup"><span data-stu-id="e2f79-156">Even if the CSP is released, this cache is not released.</span></span>  
-   <span data-ttu-id="e2f79-157">Questo valore si applica ogni volta che una chiave privata archiviata viene utilizzata o letta dall'archiviazione in un singolo processo.</span><span class="sxs-lookup"><span data-stu-id="e2f79-157">This value applies whenever any stored private key is used or read from storage in a single process.</span></span>  



## <a name="requirements"></a><span data-ttu-id="e2f79-158">Requisiti</span><span class="sxs-lookup"><span data-stu-id="e2f79-158">Requirements</span></span>



| <span data-ttu-id="e2f79-159">Requisito</span><span class="sxs-lookup"><span data-stu-id="e2f79-159">Requirement</span></span> | <span data-ttu-id="e2f79-160">Valore</span><span class="sxs-lookup"><span data-stu-id="e2f79-160">Value</span></span> |
|-------------------------------------|---------------------------------------------------------------------------------------|
| <span data-ttu-id="e2f79-161">Client minimo supportato</span><span class="sxs-lookup"><span data-stu-id="e2f79-161">Minimum supported client</span></span><br/> | <span data-ttu-id="e2f79-162">\[Solo app desktop Windows XP\]</span><span class="sxs-lookup"><span data-stu-id="e2f79-162">Windows XP \[desktop apps only\]</span></span><br/>                                           |
| <span data-ttu-id="e2f79-163">Server minimo supportato</span><span class="sxs-lookup"><span data-stu-id="e2f79-163">Minimum supported server</span></span><br/> | <span data-ttu-id="e2f79-164">\[Solo app desktop Windows Server 2003\]</span><span class="sxs-lookup"><span data-stu-id="e2f79-164">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                  |
| <span data-ttu-id="e2f79-165">Intestazione</span><span class="sxs-lookup"><span data-stu-id="e2f79-165">Header</span></span><br/>                   | <dl> <span data-ttu-id="e2f79-166"><dt>Wincrypt. h</dt></span><span class="sxs-lookup"><span data-stu-id="e2f79-166"><dt>Wincrypt.h</dt></span></span> </dl> |



 

 
