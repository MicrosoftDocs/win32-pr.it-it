---
description: Codifica e decodifica di un contesto di certificato tramite CryptoAPI.
ms.assetid: 149d1097-5f50-40ba-84f1-b815f54ba33d
title: Codifica e decodifica di un contesto del certificato
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b4168d15ad8db5d4711a18f2042106e7d6d46010
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104226440"
---
# <a name="encoding-and-decoding-a-certificate-context"></a><span data-ttu-id="0dede-103">Codifica e decodifica di un contesto del certificato</span><span class="sxs-lookup"><span data-stu-id="0dede-103">Encoding and Decoding a Certificate Context</span></span>

<span data-ttu-id="0dede-104">[*CryptoAPI*](../secgloss/c-gly.md) supporta la codifica e la decodifica dei [*certificati*](../secgloss/c-gly.md).</span><span class="sxs-lookup"><span data-stu-id="0dede-104">[*CryptoAPI*](../secgloss/c-gly.md) supports the encoding and decoding of [*certificates*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="0dede-105">CryptoAPI include un sistema completo e flessibile di funzioni e strutture C che consentono la codifica e la decodifica in diversi modi.</span><span class="sxs-lookup"><span data-stu-id="0dede-105">CryptoAPI includes an extensive, flexible system of functions and C structures that allow encoding and decoding in various ways.</span></span> <span data-ttu-id="0dede-106">CryptoAPI supporta la struttura di certificati [*X. 509*](../secgloss/x-gly.md) standard e la codifica ASN. 1 (standard [*Abstract Syntax Notation One*](../secgloss/a-gly.md) ) per garantire l'interoperabilità con altri sistemi.</span><span class="sxs-lookup"><span data-stu-id="0dede-106">CryptoAPI supports standard [*X.509*](../secgloss/x-gly.md) certificate structure and standard [*Abstract Syntax Notation One*](../secgloss/a-gly.md) (ASN.1) encoding to provide interoperability with other systems.</span></span>

<span data-ttu-id="0dede-107">Per una panoramica dei dati codificati, vedere [dati codificati e decodificati](encoded-and-decoded-data.md).</span><span class="sxs-lookup"><span data-stu-id="0dede-107">For an overview of encoded data, see [Encoded and Decoded Data](encoded-and-decoded-data.md).</span></span>

## <a name="certificate-contexts"></a><span data-ttu-id="0dede-108">Contesti di certificato</span><span class="sxs-lookup"><span data-stu-id="0dede-108">Certificate Contexts</span></span>

<span data-ttu-id="0dede-109">Un [*contesto del certificato*](../secgloss/c-gly.md), un [**\_ contesto**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context)del certificato, è una struttura C che contiene un membro codificato, un handle per un [*archivio certificati*](../secgloss/c-gly.md), un puntatore al [*BLOB del certificato*](../secgloss/c-gly.md)codificato originale e un puntatore a una struttura di [**\_ informazioni**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) del certificato.</span><span class="sxs-lookup"><span data-stu-id="0dede-109">A [*certificate context*](../secgloss/c-gly.md), [**CERT\_CONTEXT**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context), is a C structure that contains an encoded member, a handle to a [*certificate store*](../secgloss/c-gly.md), a pointer to the original encoded [*certificate BLOB*](../secgloss/c-gly.md), and a pointer to a [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) C structure.</span></span>

<span data-ttu-id="0dede-110">La struttura delle [**\_ informazioni**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) sul certificato è il cuore del certificato.</span><span class="sxs-lookup"><span data-stu-id="0dede-110">The [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) structure is the heart of the certificate.</span></span> <span data-ttu-id="0dede-111">Contiene, in formato diretto e in formato codificato, tutte le informazioni di base del certificato.</span><span class="sxs-lookup"><span data-stu-id="0dede-111">It contains, in direct form and in encoded form, all the basic information in the certificate.</span></span> <span data-ttu-id="0dede-112">Nella figura seguente viene illustrata la struttura di **\_ info CERT** con tutti i membri codificati visualizzati come ombreggiati.</span><span class="sxs-lookup"><span data-stu-id="0dede-112">The following illustration shows the **CERT\_INFO** structure with all of its encoded members shown as shaded.</span></span>

![\-struttura di informazioni CERT](images/certinf2.png)

<span data-ttu-id="0dede-114">I membri **IssuerUniqueID** e **SubjectUniqueID** fanno parte dell'implementazione del certificato [*X. 509*](../secgloss/x-gly.md) versione 2, ma vengono usati raramente.</span><span class="sxs-lookup"><span data-stu-id="0dede-114">The **IssuerUniqueID** and **SubjectUniqueID** members are part of the [*X.509*](../secgloss/x-gly.md) version 2 certificate implementation but are seldom used.</span></span> <span data-ttu-id="0dede-115">Le estensioni del certificato nella versione 3 sostituiscono la funzionalità di questi membri.</span><span class="sxs-lookup"><span data-stu-id="0dede-115">Certificate extensions in version 3 replace the functionality of these members.</span></span>

<span data-ttu-id="0dede-116">Se sono necessarie le informazioni contenute nell' **emittente** e nell' **oggetto** con codifica (ombreggiata), i membri devono essere decodificati.</span><span class="sxs-lookup"><span data-stu-id="0dede-116">If the information contained in the encoded (shaded) members **Issuer** and **Subject** is needed, those members must be decoded.</span></span> <span data-ttu-id="0dede-117">Usare [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) per decodificare questi membri.</span><span class="sxs-lookup"><span data-stu-id="0dede-117">Use [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) to decode these members.</span></span> <span data-ttu-id="0dede-118">Nella figura seguente viene illustrato il processo di decodifica di uno di questi membri.</span><span class="sxs-lookup"><span data-stu-id="0dede-118">The following illustration shows the process of decoding one of these members.</span></span>

![decodifica con cryptdecodeobject](images/infoflow.png)

<span data-ttu-id="0dede-120">Nel caso illustrato, la funzione [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) crea una struttura [**di \_ \_ informazioni sul nome del certificato**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_name_info) , una matrice di strutture [**\_ RDN CERT**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn) , una matrice corrispondente di strutture [**\_ RDN RDN \_**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn_attr) e una stringa che contiene il nome.</span><span class="sxs-lookup"><span data-stu-id="0dede-120">In the illustrated case, the [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) function creates a [**CERT\_NAME\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_name_info) structure, an array of [**CERT\_RDN**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn) structures, a corresponding array of [**CERT\_RDN\_ATTR**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn_attr) structures, and a string that contains the name.</span></span> <span data-ttu-id="0dede-121">I membri della struttura di **\_ RDN \_ RDN del certificato** determinano il contenuto della stringa.</span><span class="sxs-lookup"><span data-stu-id="0dede-121">Members of the **CERT\_RDN\_ATTR** structure determine the contents of the string.</span></span> <span data-ttu-id="0dede-122">Se, ad esempio, il membro **pszObjId** è 2.5.4.3, la stringa contiene un nome comune.</span><span class="sxs-lookup"><span data-stu-id="0dede-122">For example, if the **pszObjId** member is 2.5.4.3, the string contains a common name.</span></span> <span data-ttu-id="0dede-123">Se è 2.5.4.10, la stringa conterrà un nome di organizzazione.</span><span class="sxs-lookup"><span data-stu-id="0dede-123">If it is 2.5.4.10, the string would contain an organization name.</span></span> <span data-ttu-id="0dede-124">Per un elenco di questi [*identificatori di oggetto*](../secgloss/o-gly.md) (OID), vedere **CERT \_ RDN \_ attr**.</span><span class="sxs-lookup"><span data-stu-id="0dede-124">For a list of these [*object identifiers*](../secgloss/o-gly.md) (OIDs), see **CERT\_RDN\_ATTR**.</span></span>

<span data-ttu-id="0dede-125">Il membro **dwValueType** contiene informazioni sul tipo di stringa.</span><span class="sxs-lookup"><span data-stu-id="0dede-125">The **dwValueType** member contains information about the type of string.</span></span> <span data-ttu-id="0dede-126">Se è \_ \_ una stringa stampabile di tipo RDN \_ , il membro del valore contiene una stringa di caratteri con terminazione di byte e di lunghezza zero.</span><span class="sxs-lookup"><span data-stu-id="0dede-126">If it is CERT\_RDN\_PRINTABLE\_STRING, the value member contains a byte-width, zero-terminated character string.</span></span> <span data-ttu-id="0dede-127">Se è una stringa \_ \_ Unicode del certificato RDN \_ , la stringa è una stringa di caratteri a larghezza doppia (con dimensione di Word).</span><span class="sxs-lookup"><span data-stu-id="0dede-127">If it is CERT\_RDN\_UNICODE\_STRING, the string is a double-width (word-sized) character string.</span></span>

<span data-ttu-id="0dede-128">Per un processo dettagliato per la codifica e la decodifica dei certificati, vedere [codifica di una \_ struttura di informazioni del certificato](encoding-a-cert-info-structure.md) e [decodifica di una \_ struttura di informazioni del certificato](decoding-a-cert-info-structure.md).</span><span class="sxs-lookup"><span data-stu-id="0dede-128">For a detailed process for encoding and decoding certificates, see [Encoding a CERT\_INFO Structure](encoding-a-cert-info-structure.md) and [Decoding a CERT\_INFO Structure](decoding-a-cert-info-structure.md).</span></span>

 

 
