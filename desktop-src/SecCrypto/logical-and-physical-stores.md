---
description: Gli archivi di sistema predefiniti, inclusi MY, CA e ROOT, vengono implementati come archivi di raccolte logiche con diversi archivi fisici predefiniti come archivi membri.
ms.assetid: 1d82b94b-4842-454a-aca4-823cd264ac52
title: Archivi logici e fisici
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 66a5441bac91e39b7f4c124daecd3a6a569c323c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103752138"
---
# <a name="logical-and-physical-stores"></a><span data-ttu-id="ccd39-103">Archivi logici e fisici</span><span class="sxs-lookup"><span data-stu-id="ccd39-103">Logical and Physical Stores</span></span>

<span data-ttu-id="ccd39-104">Gli archivi di sistema predefiniti, inclusi MY, CA e ROOT, vengono implementati come archivi di raccolte logiche con diversi archivi fisici predefiniti come archivi membri.</span><span class="sxs-lookup"><span data-stu-id="ccd39-104">Default system stores, including MY, CA, and ROOT, are implemented as logical collection stores with a number of predefined physical stores as their member stores.</span></span> <span data-ttu-id="ccd39-105">Gli archivi fisici dei membri di un archivio di sistema vengono aperti automaticamente al momento dell'apertura dell'archivio di sistema.</span><span class="sxs-lookup"><span data-stu-id="ccd39-105">The member physical stores of a system store are opened automatically when the system store is opened.</span></span> <span data-ttu-id="ccd39-106">Un utente può aggiungere altri archivi fisici a qualsiasi raccolta di archivi di sistema.</span><span class="sxs-lookup"><span data-stu-id="ccd39-106">A user can add additional physical stores to any system store collection.</span></span> <span data-ttu-id="ccd39-107">La funzione CryptoAPI [**CertRegisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregisterphysicalstore) aggiunge un nuovo archivio fisico a una raccolta di archivi di sistema.</span><span class="sxs-lookup"><span data-stu-id="ccd39-107">The CryptoAPI function [**CertRegisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregisterphysicalstore) adds a new physical store to a system store collection.</span></span> <span data-ttu-id="ccd39-108">[**CertUnregisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregisterphysicalstore) Annulla l'associazione di un archivio fisico da un archivio di sistema logico.</span><span class="sxs-lookup"><span data-stu-id="ccd39-108">[**CertUnregisterPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregisterphysicalstore) disassociates a physical store from a logical system store.</span></span> <span data-ttu-id="ccd39-109">[**CertRegisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregistersystemstore) crea un nuovo archivio di sistema in un HKEY del registro di sistema, mentre [**CertUnregisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregistersystemstore) rimuove un archivio di sistema dal registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="ccd39-109">[**CertRegisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certregistersystemstore) creates a new system store under a registry hKey, while [**CertUnregisterSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certunregistersystemstore) removes a system store from the registry.</span></span>

<span data-ttu-id="ccd39-110">In CryptoAPI gli archivi di sistema sono archivi logici con archivi fisici associati.</span><span class="sxs-lookup"><span data-stu-id="ccd39-110">In CryptoAPI, system stores are logical stores with associated physical stores.</span></span> <span data-ttu-id="ccd39-111">Tutti i certificati in un archivio di sistema esistente rimangono disponibili e l'aggiunta fisica di nuovi certificati viene eseguita negli archivi fisici che costituiscono l'archivio di sistema logico.</span><span class="sxs-lookup"><span data-stu-id="ccd39-111">All the certificates in an existing system store remain available, and the physical addition of new certificates is made in the physical stores that make up the logical system store.</span></span>

<span data-ttu-id="ccd39-112">Gli utenti che preferiscono continuare a usare gli archivi di sistema fisici e non convertirli in archivi logici possono aprire gli archivi di sistema con il \_ \_ \_ provider del registro di sistema CERT Store prov \_ .</span><span class="sxs-lookup"><span data-stu-id="ccd39-112">Users who prefer to continue to use physical system stores and not convert to logical stores can open system stores with the CERT\_STORE\_PROV\_SYSTEM\_REGISTRY provider.</span></span> <span data-ttu-id="ccd39-113">Questo provider continuerà a usare ogni archivio di sistema come singolo archivio fisico.</span><span class="sxs-lookup"><span data-stu-id="ccd39-113">This provider will continue to use each system store as a single, physical store.</span></span>

<span data-ttu-id="ccd39-114">Le funzioni [**CertEnumSystemStoreLocation**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstorelocation), [**CertEnumSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstore)e [**CertEnumPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumphysicalstore) elencano i percorsi di archivio del sistema, gli archivi di sistema disponibili e tutti gli archivi fisici che sono membri di un archivio di sistema.</span><span class="sxs-lookup"><span data-stu-id="ccd39-114">The functions [**CertEnumSystemStoreLocation**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstorelocation), [**CertEnumSystemStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumsystemstore), and [**CertEnumPhysicalStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumphysicalstore) list system store locations, available system stores, and all physical stores that are members of a system store.</span></span>

<span data-ttu-id="ccd39-115">È anche possibile rilocare gli archivi di sistema.</span><span class="sxs-lookup"><span data-stu-id="ccd39-115">System stores can also be relocated.</span></span> <span data-ttu-id="ccd39-116">Per impostazione predefinita, viene aperto un archivio di sistema relativo a una sottochiave del registro di sistema che segue un criterio predefinito.</span><span class="sxs-lookup"><span data-stu-id="ccd39-116">By default, a system store is opened relative to a registry subkey following a predefined pattern.</span></span> <span data-ttu-id="ccd39-117">Per ulteriori informazioni, vedere [percorsi di archivio di sistema](system-store-locations.md).</span><span class="sxs-lookup"><span data-stu-id="ccd39-117">For more information, see [System Store Locations](system-store-locations.md).</span></span> <span data-ttu-id="ccd39-118">L'impostazione \_ del \_ flag di rilocazione dell'archivio di sistema CERT \_ \_ nel parametro *dwFlags* passato a [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) posiziona un archivio di sistema nel registro di sistema in una sottochiave del registro di sistema specificata dall'utente anziché in quella predefinita.</span><span class="sxs-lookup"><span data-stu-id="ccd39-118">Setting CERT\_SYSTEM\_STORE\_RELOCATE\_FLAG in the *dwFlags* parameter passed to [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) places a system store in the registry under a user-specified registry subkey instead of the predefined one.</span></span>

 

 



