---
description: Poiché il numero di certificati, elenchi di revoche di certificati (CRL) e elenco di certificati attendibili (scopi consentiti) nella raccolta di un utente cresce, l'organizzazione di tali certificati diventa un problema.
ms.assetid: 13e7e077-e8be-4ba4-99e1-08421fd2452e
title: Archivi della raccolta
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bfeb8ef071d7a5ccf6bc7ce43ba418117879536
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103883802"
---
# <a name="collection-stores"></a><span data-ttu-id="ef985-103">Archivi della raccolta</span><span class="sxs-lookup"><span data-stu-id="ef985-103">Collection Stores</span></span>

<span data-ttu-id="ef985-104">Poiché il numero di [*certificati*](../secgloss/c-gly.md), [*elenchi di revoche di certificati*](../secgloss/c-gly.md) (CRL) e [*elenco di certificati attendibili*](../secgloss/c-gly.md) (scopi consentiti) nella raccolta di un utente cresce, l'organizzazione di tali certificati diventa un problema.</span><span class="sxs-lookup"><span data-stu-id="ef985-104">As the number of [*certificates*](../secgloss/c-gly.md), [*certificate revocation lists*](../secgloss/c-gly.md) (CRLs), and [*certificate trust list*](../secgloss/c-gly.md) (CTLs) in a user's collection grows, the organization of those certificates becomes an issue.</span></span> <span data-ttu-id="ef985-105">Una possibile soluzione consiste nel creare archivi certificati separati per gestire tipi diversi di certificati.</span><span class="sxs-lookup"><span data-stu-id="ef985-105">One possible solution is to create separate certificate stores to keep different kinds of certificates.</span></span> <span data-ttu-id="ef985-106">Questa soluzione crea un nuovo problema perché un'applicazione potrebbe dover eseguire ricerche in diversi archivi diversi per trovare un certificato specifico.</span><span class="sxs-lookup"><span data-stu-id="ef985-106">This solution creates a new problem because an application might need to search several different stores to find a specific certificate.</span></span> <span data-ttu-id="ef985-107">Questo problema viene risolto utilizzando gli archivi logici o di raccolta.</span><span class="sxs-lookup"><span data-stu-id="ef985-107">The use of logical or collection stores solves this problem.</span></span>

<span data-ttu-id="ef985-108">Un archivio [*logico*](../secgloss/l-gly.md) e un archivio certificati raccolta sono gruppi di archivi fisici che vengono visualizzati in un'applicazione come singolo archivio.</span><span class="sxs-lookup"><span data-stu-id="ef985-108">A [*logical store*](../secgloss/l-gly.md) and a collection certificate store are groups of physical stores that appears to an application as a single store.</span></span> <span data-ttu-id="ef985-109">È possibile cercare o enumerare tutti gli archivi membri di un archivio logico o di una raccolta con una singola chiamata di funzione a [**CertFindCertificateInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfindcertificateinstore) o [**CertEnumCertificatesInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumcertificatesinstore).</span><span class="sxs-lookup"><span data-stu-id="ef985-109">All member stores of a logical or collection store can be searched or enumerated with a single function call to either [**CertFindCertificateInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certfindcertificateinstore) or [**CertEnumCertificatesInStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certenumcertificatesinstore).</span></span>

<span data-ttu-id="ef985-110">L'utilizzo di archivi logici o di raccolte fornisce anche la flessibilità che è difficile ottenere con i record cartacei.</span><span class="sxs-lookup"><span data-stu-id="ef985-110">The use of logical or collection stores also provides flexibility that is difficult to achieve with paper records.</span></span> <span data-ttu-id="ef985-111">Un certificato in un singolo archivio fisico potrebbe dover essere membro di più gruppi logici diversi.</span><span class="sxs-lookup"><span data-stu-id="ef985-111">A certificate in a single physical store might need to be a member of several different logical groups.</span></span> <span data-ttu-id="ef985-112">Pertanto, un singolo archivio fisico può essere un membro di più di un archivio logico o di raccolta, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="ef985-112">Therefore, an individual physical store can be a member of more than one logical or collection store as shown in the following illustration.</span></span>

![archivi della raccolta](images/mancert.png)

<span data-ttu-id="ef985-114">Questa illustrazione presenta i concetti di base dell'archivio certificati logici seguenti:</span><span class="sxs-lookup"><span data-stu-id="ef985-114">This illustration presents the following basic, logical certificate store concepts:</span></span>

-   <span data-ttu-id="ef985-115">Un archivio certificati della raccolta include un puntatore al primo blocco del puntatore per l'archivio della raccolta.</span><span class="sxs-lookup"><span data-stu-id="ef985-115">A collection certificate store has a pointer to the first pointer block for that collection store.</span></span>
-   <span data-ttu-id="ef985-116">Ogni blocco del puntatore di un archivio di raccolta dispone di un puntatore a un archivio di pari livello e un puntatore al successivo blocco del puntatore della raccolta.</span><span class="sxs-lookup"><span data-stu-id="ef985-116">Each pointer block of a collection store has a pointer to a sibling store and a pointer to the next pointer block of the collection.</span></span>
-   <span data-ttu-id="ef985-117">Ogni archivio di pari livello in una raccolta è un archivio certificati fisico semplice.</span><span class="sxs-lookup"><span data-stu-id="ef985-117">Each sibling store in a collection is a simple physical certificate store.</span></span>
-   <span data-ttu-id="ef985-118">Un archivio certificati semplice può essere un archivio di pari livello di un membro in molti archivi di raccolta diversi.</span><span class="sxs-lookup"><span data-stu-id="ef985-118">A simple certificate store can be a member sibling store in many different collection stores.</span></span>
-   <span data-ttu-id="ef985-119">I certificati aggiunti a un archivio di raccolta vengono fisicamente aggiunti a uno degli archivi di pari livello nella raccolta.</span><span class="sxs-lookup"><span data-stu-id="ef985-119">Certificates added to a collection store are physically added to one of the sibling stores in the collection.</span></span>
-   <span data-ttu-id="ef985-120">È possibile accedere ai certificati in un archivio di pari livello da qualsiasi archivio di raccolta in cui è membro l'archivio di pari livello.</span><span class="sxs-lookup"><span data-stu-id="ef985-120">Certificates in a sibling store can be accessed by any collection store in which the sibling store is a member.</span></span>

<span data-ttu-id="ef985-121">Gli archivi di raccolta vengono compilati all'interno di un'applicazione aprendo un archivio di raccolta tramite [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) e quindi utilizzando [**CertAddStoreToCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certaddstoretocollection) per aggiungere un archivio di pari livello aperto all'archivio della raccolta.</span><span class="sxs-lookup"><span data-stu-id="ef985-121">Collection stores are built within an application by opening a collection store by using [**CertOpenStore**](/windows/desktop/api/Wincrypt/nf-wincrypt-certopenstore) and then using [**CertAddStoreToCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certaddstoretocollection) to add an open sibling store to the collection store.</span></span> <span data-ttu-id="ef985-122">Un archivio di pari livello può essere eliminato da un archivio di raccolta chiamando [**CertRemoveStoreFromCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certremovestorefromcollection).</span><span class="sxs-lookup"><span data-stu-id="ef985-122">A sibling store can be deleted from a collection store by calling [**CertRemoveStoreFromCollection**](/windows/desktop/api/Wincrypt/nf-wincrypt-certremovestorefromcollection).</span></span>

 

 
