---
description: Il controllo della registrazione dei certificati può essere utilizzato da un'applicazione che deve richiedere l'emissione di un certificato a un oggetto denominato.
ms.assetid: ce6661b0-7ed2-452f-a54c-6705d14f3298
title: Controllo di registrazione certificati
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e417a9db7984cbb58b7c2e3b51d828b6d61a97b6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306542"
---
# <a name="certificate-enrollment-control"></a><span data-ttu-id="2b615-103">Controllo di registrazione certificati</span><span class="sxs-lookup"><span data-stu-id="2b615-103">Certificate Enrollment Control</span></span>

<span data-ttu-id="2b615-104">Il controllo della registrazione dei certificati può essere utilizzato da un'applicazione che deve richiedere l'emissione di un certificato a un oggetto denominato.</span><span class="sxs-lookup"><span data-stu-id="2b615-104">Certificate Enrollment Control can be used by an application that must request that a certificate be issued to a named subject.</span></span> <span data-ttu-id="2b615-105">È progettato per accettare i dati sotto forma di stringa binaria (BSTR).</span><span class="sxs-lookup"><span data-stu-id="2b615-105">It is designed to accept data in the form of a binary string (BSTR).</span></span> <span data-ttu-id="2b615-106">I dati possono provenire da una pagina Web o dall'interfaccia utente del sistema di sviluppo Visual Basic o Visual C++.</span><span class="sxs-lookup"><span data-stu-id="2b615-106">The data can come from a webpage or from the user interface of the Visual Basic or Visual C++ development system.</span></span> <span data-ttu-id="2b615-107">L'output del controllo di registrazione certificati è una \# richiesta di certificato PKCS 10 che può essere inviata a un'autorità di [*certificazione*](../secgloss/c-gly.md) (CA).</span><span class="sxs-lookup"><span data-stu-id="2b615-107">The output from the Certificate Enrollment Control is a PKCS \#10 certificate request that can be sent on to a [*certification authority*](../secgloss/c-gly.md) (CA).</span></span>

![controllo di registrazione certificati](images/xen-arch.png)

<span data-ttu-id="2b615-109">Le informazioni necessarie sull'utente, il soggetto del certificato, vengono raccolte dall'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="2b615-109">Necessary information about the user, the certificate subject, is collected by the User Interface.</span></span> <span data-ttu-id="2b615-110">Queste informazioni vengono fornite come input BSTR per il controllo di registrazione del certificato.</span><span class="sxs-lookup"><span data-stu-id="2b615-110">This information is provided as a BSTR input to the Certificate Enrollment Control.</span></span> <span data-ttu-id="2b615-111">Il controllo di registrazione certificati genera la chiave di firma appropriata, la chiave per lo scambio delle chiavi o entrambe le coppie di chiavi.</span><span class="sxs-lookup"><span data-stu-id="2b615-111">The Certificate Enrollment Control generates the appropriate signature key, key exchange key, or both key pairs.</span></span> <span data-ttu-id="2b615-112">Il controllo genera quindi e firma una \# richiesta di [*certificato*](../secgloss/c-gly.md) PKCS 10 utilizzando la [*chiave privata*](../secgloss/p-gly.md)generata.</span><span class="sxs-lookup"><span data-stu-id="2b615-112">The control then generates and signs a PKCS \#10 [*certificate request*](../secgloss/c-gly.md) by using the generated [*private key*](../secgloss/p-gly.md).</span></span> <span data-ttu-id="2b615-113">Il controllo registrazione certificati collega quindi la coppia di chiavi a un certificato fittizio temporaneo archiviato nell'archivio richieste fino a quando il certificato emesso non viene restituito da un'autorità di certificazione.</span><span class="sxs-lookup"><span data-stu-id="2b615-113">The Certificate Enrollment Control then links the key pair to a temporary dummy certificate which is stored in the request store until the issued certificate is returned from a certification authority.</span></span> <span data-ttu-id="2b615-114">Infine, l'applicazione invia la \# richiesta di certificato PKCS 10 a una CA.</span><span class="sxs-lookup"><span data-stu-id="2b615-114">Finally, the application sends the PKCS \#10 certificate request to a CA.</span></span>

<span data-ttu-id="2b615-115">Se la CA approva la richiesta di certificato, la CA crea un certificato contenente la chiave pubblica.</span><span class="sxs-lookup"><span data-stu-id="2b615-115">If the CA approves the certificate request, the CA creates a certificate containing the public key.</span></span> <span data-ttu-id="2b615-116">La CA firma e restituisce anche il certificato.</span><span class="sxs-lookup"><span data-stu-id="2b615-116">The CA also signs and returns the certificate.</span></span>

<span data-ttu-id="2b615-117">Quando il certificato richiesto viene restituito dalla CA, l'applicazione passa \# di nuovo il messaggio PKCS 7 al controllo di registrazione del certificato in cui il certificato o la catena di certificati viene estratta dal \# messaggio PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="2b615-117">When the requested certificate is returned from the CA, the application passes the PKCS \#7 message back to the Certificate Enrollment Control where the certificate or chain of certificates is extracted from the PKCS \#7 message.</span></span> <span data-ttu-id="2b615-118">Il certificato e tutti gli altri certificati nella catena di certificati vengono archiviati in un [*archivio certificati*](../secgloss/c-gly.md).</span><span class="sxs-lookup"><span data-stu-id="2b615-118">The certificate and any other certificates in the chain of trust are stored in a [*certificate store*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="2b615-119">Il certificato restituito non viene modificato in alcun modo.</span><span class="sxs-lookup"><span data-stu-id="2b615-119">The returned certificate is not modified in any way.</span></span> <span data-ttu-id="2b615-120">Qualsiasi applicazione in grado di riconoscere i certificati è ora in grado di accedere al certificato dall'archivio.</span><span class="sxs-lookup"><span data-stu-id="2b615-120">Any certificate-aware application can now access this certificate from the store.</span></span>

<span data-ttu-id="2b615-121">Il controllo registrazione smart card viene usato da un amministratore per eseguire la registrazione per conto di utenti di smart card.</span><span class="sxs-lookup"><span data-stu-id="2b615-121">Smart Card Enrollment Control is used by an administrator to enroll on behalf of smart card users.</span></span> <span data-ttu-id="2b615-122">Il processo di registrazione comporta l'emissione di un certificato archiviato nella smart card di un utente.</span><span class="sxs-lookup"><span data-stu-id="2b615-122">The enrollment process results in a certificate being issued that is stored on a user's smart card.</span></span>

<span data-ttu-id="2b615-123">Il controllo di registrazione delle smart card è contenuto in Scrdenrl.dll ed è costituito da un oggetto, **SCrdEnr**.</span><span class="sxs-lookup"><span data-stu-id="2b615-123">The Smart Card Enrollment Control is contained in Scrdenrl.dll and consists of one object, **SCrdEnr**.</span></span> <span data-ttu-id="2b615-124">Nessun altro oggetto incluso in Scrdenrl.dll.</span><span class="sxs-lookup"><span data-stu-id="2b615-124">No other objects are included in Scrdenrl.dll.</span></span> <span data-ttu-id="2b615-125">Questo oggetto di registrazione di smart card può essere utilizzato con un linguaggio di script, ad esempio Visual Basic Scripting Edition (VBScript).</span><span class="sxs-lookup"><span data-stu-id="2b615-125">This Smart Card Enrollment object can be used with a script language, such as Visual Basic Scripting Edition (VBScript).</span></span>

<span data-ttu-id="2b615-126">Nel computer in cui è in esecuzione il controllo registrazione smart card deve essere installato un [*lettore di smart card*](../secgloss/r-gly.md) .</span><span class="sxs-lookup"><span data-stu-id="2b615-126">A [*smart card reader*](../secgloss/r-gly.md) must be installed on the computer running the Smart Card Enrollment Control.</span></span>

<span data-ttu-id="2b615-127">Inoltre, l'emittente della smart card deve avere ottenuto un certificato di firma basato sul modello di certificato "EnrollmentAgent".</span><span class="sxs-lookup"><span data-stu-id="2b615-127">Additionally, the smart card issuer must have obtained a signing certificate based on the "EnrollmentAgent" certificate template.</span></span> <span data-ttu-id="2b615-128">Questo certificato di firma verrà usato per firmare la richiesta di certificato generata per conto del destinatario della smart card.</span><span class="sxs-lookup"><span data-stu-id="2b615-128">This signing certificate will be used to sign the certificate request generated on behalf of the smart card recipient.</span></span> <span data-ttu-id="2b615-129">Per impostazione predefinita, agli amministratori di dominio viene concessa l'autorizzazione a richiedere un certificato basato sul modello "agente di registrazione".</span><span class="sxs-lookup"><span data-stu-id="2b615-129">By default, domain administrators are granted permission to request a certificate based on the "Enrollment Agent" template.</span></span> <span data-ttu-id="2b615-130">È possibile concedere a un altro utente l'autorizzazione per la registrazione di un certificato "EnrollmentAgent" (tramite lo snap-in MMC siti e servizi Active Directory); Questa operazione, tuttavia, consente a questo utente di emettere autonomamente una smart card con privilegi di amministratore di dominio.</span><span class="sxs-lookup"><span data-stu-id="2b615-130">Another user can be granted permission to enroll for an "EnrollmentAgent" certificate (by means of the Active Directory Sites and Services MMC snap-in); doing so, however, allows this user to self-issue a smart card with domain administrator privileges.</span></span>

 

 
