---
title: Architettura plug-in
description: Le unità biometriche espongono le funzionalità di un dispositivo al Framework tramite un'interfaccia standard costituita da sensori, motore e adattatori di archiviazione.
ms.assetid: d2835413-70a3-45fa-93e2-3fe78097554f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 52e43af9c0ea5a8db57cc0e0970b5625b1ba118f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104473710"
---
# <a name="plug-in-architecture"></a><span data-ttu-id="f6ef9-103">Architettura plug-in</span><span class="sxs-lookup"><span data-stu-id="f6ef9-103">Plug-in architecture</span></span>

<span data-ttu-id="f6ef9-104">I dispositivi biometrici sono prodotti in un'ampia gamma di tipi e configurazioni.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-104">Biometric devices are manufactured in a wide variety of types and configurations.</span></span> <span data-ttu-id="f6ef9-105">Il Windows Biometric Framework risolve questa varietà offrendo un'architettura estendibile che consente agli sviluppatori di terze parti di creare componenti plug-in personalizzati.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-105">The Windows Biometric Framework addresses this variety by providing an extensible architecture that enables third party developers to create custom plug-in components.</span></span> <span data-ttu-id="f6ef9-106">Il componente principale è un oggetto software denominato unità biometrica.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-106">The primary component is a software object called a biometric unit.</span></span> <span data-ttu-id="f6ef9-107">Le unità biometriche espongono le funzionalità di un dispositivo al Framework tramite un'interfaccia standard costituita da sensori, motore e adattatori di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-107">Biometric units expose the capabilities of a device to the framework through a standard interface that consists of sensor, engine, and storage adapters.</span></span> <span data-ttu-id="f6ef9-108">Le unità biometriche e i relativi componenti costitutivi vengono descritti negli argomenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-108">Biometric units and their constituent components are discussed in the following topics.</span></span>

## <a name="biometric-unit"></a><span data-ttu-id="f6ef9-109">Unità biometrica</span><span class="sxs-lookup"><span data-stu-id="f6ef9-109">Biometric unit</span></span>

<span data-ttu-id="f6ef9-110">Il componente centrale dell'architettura di plug-in Windows Biometric Framework è l'unità biometrica, un oggetto software che espone le funzionalità di un dispositivo biometrico al Framework tramite un'interfaccia standard.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-110">The central component of the Windows Biometric Framework plug-in architecture is the biometric unit, a software object that exposes the capabilities of a biometric device to the framework through a standard interface.</span></span>

<span data-ttu-id="f6ef9-111">Un singolo sensore fisico è associato a ogni unità biometrica.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-111">A single physical sensor is associated with each biometric unit.</span></span> <span data-ttu-id="f6ef9-112">Il sensore acquisisce i dati biometrici e può anche, a seconda delle funzionalità hardware, eseguire altre operazioni biometriche, ad esempio la corrispondenza dei modelli e l'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-112">The sensor captures biometric data and may also, depending on its hardware capabilities, perform other biometric operations such as template matching and storage.</span></span> <span data-ttu-id="f6ef9-113">I sensori che non supportano l'onboarding o l'archiviazione richiedono moduli software aggiuntivi per eseguire queste funzioni.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-113">Sensors that do not support onboard matching or storage require additional software modules to perform these functions.</span></span> <span data-ttu-id="f6ef9-114">Per ulteriori informazioni, vedere [Adapter](/previous-versions//dd401508(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="f6ef9-114">For more information, see [Adapters](/previous-versions//dd401508(v=vs.85)).</span></span>

<span data-ttu-id="f6ef9-115">Nella figura seguente viene illustrato il flusso di dati attraverso un'unità biometrica.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-115">The following illustration shows how data flows through a biometric unit.</span></span> <span data-ttu-id="f6ef9-116">Il flusso di dati costituisce essenzialmente un tipo di pipeline.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-116">Essentially, the data flow forms a type of pipeline.</span></span> <span data-ttu-id="f6ef9-117">L'input iniziale per la pipeline è un campione biometrico acquisito da un sensore fisico.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-117">The initial input to the pipeline is a biometric sample captured by a physical sensor.</span></span> <span data-ttu-id="f6ef9-118">Il motore tenta di trovare una corrispondenza tra l'esempio e i modelli già presenti nell'archivio modelli o, se non viene trovata alcuna corrispondenza, compila un nuovo modello da esempi fisici ripetuti e salva il modello nell'archivio.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-118">The engine attempts to match the sample to templates that already exist in the template store or, if no match is found, builds a new template from repeated physical samples and saves the template in the store.</span></span>

![flusso di dati attraverso un'unità biometrica](images/biometricunit-dataflow.png)

## <a name="biometric-unit-life-cycle"></a><span data-ttu-id="f6ef9-120">Ciclo di vita dell'unità biometrica</span><span class="sxs-lookup"><span data-stu-id="f6ef9-120">Biometric unit life cycle</span></span>

### <a name="creation"></a><span data-ttu-id="f6ef9-121">Creazione</span><span class="sxs-lookup"><span data-stu-id="f6ef9-121">Creation</span></span>

<span data-ttu-id="f6ef9-122">Quando il servizio biometrico di Windows viene avviato o quando riceve una notifica hardware dal gestore di Plug and Play, analizza tutti i componenti hardware che supportano il noto GUID di interfaccia \_ DEVINTERFACE \_ Biometric \_ Reader (E2B5183A-99EA-4cc3-AD6B-80CA8D715B80).</span><span class="sxs-lookup"><span data-stu-id="f6ef9-122">When the Windows Biometric Service starts or when it receives a hardware notification from the Plug and Play manager, it scans for any hardware that supports the well-known interface GUID\_DEVINTERFACE\_BIOMETRIC\_READER (E2B5183A-99EA-4cc3-AD6B-80CA8D715B80).</span></span> <span data-ttu-id="f6ef9-123">Per ogni dispositivo biometrico è stato individuato:</span><span class="sxs-lookup"><span data-stu-id="f6ef9-123">For each biometric device discovered it then:</span></span>

-   <span data-ttu-id="f6ef9-124">Apre un handle per il dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-124">Opens a handle to the device.</span></span>
-   <span data-ttu-id="f6ef9-125">Esegue una query sulle funzionalità del dispositivo usando un'interfaccia di controllo del driver biometrico di Windows.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-125">Queries the device capabilities by using a Windows Biometric Driver control interface.</span></span>
-   <span data-ttu-id="f6ef9-126">Apre la chiave del registro di sistema del dispositivo e tenta di individuare le informazioni relative a tutti i plug-in di adapter associati.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-126">Opens the device registry key and attempts to locate information about any associated adapter plug-ins.</span></span>
-   <span data-ttu-id="f6ef9-127">Apre la chiave del registro di sistema del servizio biometrico di Windows e cerca informazioni sui plug-in globali che devono eseguire l'override dei valori specifici del dispositivo rilevati nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-127">Opens the Windows Biometric Service registry key and searches for information about any global plug-ins that should override the device specific values found in the preceding step.</span></span>
-   <span data-ttu-id="f6ef9-128">Compila un'unità biometrica per rappresentare il dispositivo e passa l'unità a un provider di servizi biometrico.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-128">Builds a biometric unit to represent the device and passes the unit to a biometric service provider.</span></span>

### <a name="configuration"></a><span data-ttu-id="f6ef9-129">Configurazione</span><span class="sxs-lookup"><span data-stu-id="f6ef9-129">Configuration</span></span>

<span data-ttu-id="f6ef9-130">Dopo che un provider di servizi biometrico (BSP) accetta un'unità biometrica, configura l'unità e la assegna a un pool di sensori.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-130">After a biometric service provider (BSP) accepts a biometric unit, it configures the unit and assigns it to a sensor pool.</span></span> <span data-ttu-id="f6ef9-131">Per altre informazioni, vedere [pool di sensori](sensor-pools.md).</span><span class="sxs-lookup"><span data-stu-id="f6ef9-131">For more information, see [Sensor Pools](sensor-pools.md).</span></span> <span data-ttu-id="f6ef9-132">L'unità viene configurata caricando le schede appropriate, connettendosi a un archivio modelli e possibilmente modificando la modalità operativa.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-132">The unit is configured by loading the appropriate adapters, connecting to a template store, and possibly changing the operating mode.</span></span> <span data-ttu-id="f6ef9-133">Un'unità biometrica può essere configurata in modo da funzionare in una delle due modalità seguenti:</span><span class="sxs-lookup"><span data-stu-id="f6ef9-133">A biometric unit can be configured to operate in one of two modes:</span></span>

-   <span data-ttu-id="f6ef9-134">Nella modalità di base, l'unità funge da dispositivo di acquisizione semplice.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-134">In the basic mode, the unit acts as a simple capture device.</span></span> <span data-ttu-id="f6ef9-135">Non usa l'elaborazione o l'archiviazione onboarding, ma si basa interamente sulle schede software per ottenere supporto aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-135">It does not use onboard processing or storage but relies entirely on software adapters for additional support.</span></span> <span data-ttu-id="f6ef9-136">Dovrebbe essere in grado di generare esempi in un formato standard.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-136">It should be able to generate samples in a standard format.</span></span> <span data-ttu-id="f6ef9-137">Ad esempio, i lettori di impronte digitali devono generare esempi che siano conformi a ANSI INCIs 381-2004.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-137">For example, fingerprint readers should generate samples that comply with ANSI INCITS 381-2004.</span></span> <span data-ttu-id="f6ef9-138">Lo scopo della modalità di base è quello di supportare l'interoperabilità tra i componenti di fornitori diversi.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-138">The purpose of the basic mode is to support interoperability among components from different vendors.</span></span>
-   <span data-ttu-id="f6ef9-139">In modalità avanzata l'unità biometrica usa le funzioni di elaborazione e archiviazione di onboarding.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-139">In the advanced mode, the biometric unit uses onboard processing and storage functions.</span></span> <span data-ttu-id="f6ef9-140">Deve esporre le interfacce standard, ma è in grado di generare ed elaborare esempi in qualsiasi formato desiderato.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-140">It must expose the standard interfaces but can generate and process samples in any format desired.</span></span>

<span data-ttu-id="f6ef9-141">Quando un'unità biometrica viene spostata da un pool di sensori a un altro, gli adapter vengono scaricati e vengono riconfigurati per il nuovo pool di sensori.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-141">When a biometric unit is moved from one sensor pool to another, its adapters are unloaded and it is reconfigured for the new sensor pool.</span></span> <span data-ttu-id="f6ef9-142">L'identità dell'unità biometrica rimane costante; vengono modificati solo i plug-in di configurazione hardware e di adapter.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-142">The identity of the biometric unit remains constant; only the hardware configuration and adapter plug-ins change.</span></span>

### <a name="shut-down"></a><span data-ttu-id="f6ef9-143">Arresta</span><span class="sxs-lookup"><span data-stu-id="f6ef9-143">Shut Down</span></span>

<span data-ttu-id="f6ef9-144">Quando il servizio biometrico di Windows viene arrestato o quando il Plug and Play Manager notifica che un'unità è stata rimossa, il servizio Elimina tutte le unità biometriche.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-144">When the Windows Biometric Service shuts down or when the Plug and Play manager notifies it that a unit has been removed, the service deletes all biometric units.</span></span>

## <a name="adapters"></a><span data-ttu-id="f6ef9-145">adapter</span><span class="sxs-lookup"><span data-stu-id="f6ef9-145">Adapters</span></span>

<span data-ttu-id="f6ef9-146">I componenti del software plug-in denominati adapter consentono di connettere un'unità biometrica all'hardware sottostante e fornire tutte le funzionalità che potrebbero mancare dall'hardware del sensore.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-146">Plug-in software components called adapters connect a biometric unit to its underlying hardware and supply any functionality that may be missing from the sensor hardware.</span></span> <span data-ttu-id="f6ef9-147">Sono disponibili tre tipi di adapter che è possibile creare:</span><span class="sxs-lookup"><span data-stu-id="f6ef9-147">There are three types of adapters that you can create:</span></span>

-   <span data-ttu-id="f6ef9-148">Un adattatore del sensore esegue il wrapping di un dispositivo biometrico e fornisce un'interfaccia standard per la configurazione del sensore, l'acquisizione di esempi e il controllo del flusso di dati biometrici nel motore di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-148">A sensor adapter wraps a biometric device and provides a standard interface for configuring the sensor, capturing samples, and controlling the flow of biometric data to the processing engine.</span></span>
-   <span data-ttu-id="f6ef9-149">Un adattatore del motore genera modelli biometrici dagli esempi acquisiti, associa gli esempi ai modelli esistenti e indicizza i modelli.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-149">An engine adapter generates biometric templates from captured samples, matches samples to existing templates, and indexes templates.</span></span>
-   <span data-ttu-id="f6ef9-150">Un adattatore di archiviazione gestisce i database modello.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-150">A storage adapter manages template databases.</span></span>

<span data-ttu-id="f6ef9-151">È possibile caricare e scaricare gli adapter in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-151">Adapters can be loaded and unloaded at runtime.</span></span> <span data-ttu-id="f6ef9-152">In questo modo, il servizio biometrico di Windows consente di riconfigurare dinamicamente un'unità biometrica connettendosi a un diverso set di schede.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-152">This enables the Windows Biometric Service to dynamically reconfigure a biometric unit by connecting it to a different set of adapters.</span></span>

<span data-ttu-id="f6ef9-153">Infine, ognuna delle interfacce dei sensori, dei motori e degli adattatori di archiviazione espone due metodi, **ControlUnit** e **ControlUnitPrivileged**, che consentono alle applicazioni client di accedere alle funzionalità di adapter personalizzate definite dal fornitore.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-153">Finally, each of the sensor, engine, and storage adapter interfaces expose two methods, **ControlUnit** and **ControlUnitPrivileged**, that enable client applications to access custom adapter capabilities defined by the vendor.</span></span> <span data-ttu-id="f6ef9-154">Ciò consente al fornitore di definire un set di operazioni di controllo quasi illimitato per un dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-154">This allows the vendor to define an almost unlimited set of control operations for a device.</span></span> <span data-ttu-id="f6ef9-155">Inoltre, scegliendo la funzione da implementare, un fornitore può scegliere di rendere disponibili alcune operazioni di controllo agli utenti senza privilegi, limitando al tempo stesso le altre operazioni agli utenti con privilegi.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-155">Further, by choosing which function to implement, a vendor can choose to make some control operations available to non-privileged users while restricting other operations to privileged users.</span></span>

<span data-ttu-id="f6ef9-156">Per ulteriori informazioni sulla creazione di adapter, vedere [creazione di plug-](creating-adapter-plug-ins.md)in di adapter.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-156">For more information about how to create adapters, see [Create adapter plug-ins](creating-adapter-plug-ins.md).</span></span>

## <a name="adapter-performance-requirements"></a><span data-ttu-id="f6ef9-157">Requisiti delle prestazioni dell'adapter</span><span class="sxs-lookup"><span data-stu-id="f6ef9-157">Adapter performance requirements</span></span>

<span data-ttu-id="f6ef9-158">Poiché l'obiettivo è la risposta rapida complessiva, le prestazioni di un adapter non vengono specificate in termini di limiti di tempo per routine specifiche.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-158">Because the objective is fast response overall, the performance of an adapter isn't specified in terms of time limits on specific routines.</span></span> <span data-ttu-id="f6ef9-159">Al contrario, le prestazioni vengono specificate come un set di requisiti per l'esperienza utente complessiva.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-159">Instead, performance is specified as a set of requirements for the overall user experience.</span></span>

<span data-ttu-id="f6ef9-160">Esistono due requisiti:</span><span class="sxs-lookup"><span data-stu-id="f6ef9-160">There are two requirements:</span></span>

-   <span data-ttu-id="f6ef9-161">Qualsiasi interazione tra l'utente e il sistema operativo che prevede la biometria deve essere completata entro due secondi.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-161">Any interaction between the user and the operating system that involves biometrics must complete within two seconds.</span></span> <span data-ttu-id="f6ef9-162">Tale intervallo misura l'ora di inizio e di fine che l'utente percepisce dal momento in cui tocca o scorre il sensore fino al momento in cui si verifica un evento visibile sullo schermo del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-162">That interval measures the start-to-finish time that the user perceives from the time they touch or swipe the sensor until the time something visible happens on the device screen.</span></span> <span data-ttu-id="f6ef9-163">Ad esempio, durante lo sblocco, non è necessario più di un ritardo di due secondi tra l'utente che tocca o scorre il sensore di impronta digitale e la schermata di blocco che riconosce l'identità dell'utente.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-163">(For example, during unlock, there must be no more than a two-second delay between the user touching or swiping the fingerprint sensor and the lock screen acknowledging the user's identity.)</span></span>
-   <span data-ttu-id="f6ef9-164">Per quanto riguarda l'aspetto iniziale dei riquadri delle credenziali nella schermata di accesso o di blocco, è possibile attendere un po' più tempo (tre secondi, massimo), ma si preferisce ancora prima piuttosto che in seguito.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-164">For the initial appearance of credential tiles on the sign-in or lock screen, we allow a little more time (three seconds, maximum), but we still prefer sooner rather than later.</span></span> <span data-ttu-id="f6ef9-165">In particolare, il riquadro bio deve essere visibile sullo schermo entro tre secondi dall'aspetto del pannello di blocco o di accesso.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-165">Specifically, the bio tile needs to be visible on screen within three seconds of the appearance of the lock or sign-in panel.</span></span>

<span data-ttu-id="f6ef9-166">Questi numeri non sono arbitrari.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-166">These numbers are not arbitrary.</span></span> <span data-ttu-id="f6ef9-167">Numerosi studi hanno dimostrato che gli esseri umani tendono a sperimentare tutto ciò che accade in un intervallo di due secondi come parte del momento "ora".</span><span class="sxs-lookup"><span data-stu-id="f6ef9-167">Numerous studies have shown that human beings tend to experience everything that happens within a two-second interval as part of the "now" moment.</span></span> <span data-ttu-id="f6ef9-168">Se l'evento A e l'evento B avvengono entro due secondi l'uno dall'altro, gli utenti percepiscono tali eventi come simultanei.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-168">If event A and event B happen within two seconds of each other, people perceive those events as being simultaneous.</span></span> <span data-ttu-id="f6ef9-169">Se gli eventi sono separati da più di tre secondi, le persone pensano che ci sia un ritardo, ovvero che qualcosa stia "richiedendo troppo tempo".</span><span class="sxs-lookup"><span data-stu-id="f6ef9-169">If the events are separated by more than about three seconds, people think there's a delay—they feel that something is "taking too long."</span></span> <span data-ttu-id="f6ef9-170">Si tratta quindi di un problema di psicologia umana cablata.</span><span class="sxs-lookup"><span data-stu-id="f6ef9-170">So this is an issue of hardwired human psychology.</span></span>

 

 