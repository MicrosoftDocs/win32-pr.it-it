---
description: Sicurezza dei componenti in coda
ms.assetid: 3fbeb81a-e3e4-495b-b891-896877fab92f
title: Sicurezza dei componenti in coda
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 29b51592f6216d7380e877f2cd582a277f1583b8
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104127142"
---
# <a name="queued-components-security"></a><span data-ttu-id="ffc94-103">Sicurezza dei componenti in coda</span><span class="sxs-lookup"><span data-stu-id="ffc94-103">Queued Components Security</span></span>

<span data-ttu-id="ffc94-104">Quando un client effettua una chiamata al metodo in un oggetto in coda, la chiamata viene effettivamente effettuata al registratore, che lo inserisce come parte di un messaggio al server.</span><span class="sxs-lookup"><span data-stu-id="ffc94-104">When a client makes a method call to a queued object, the call is actually made to the recorder, which packages it as part of a message to the server.</span></span> <span data-ttu-id="ffc94-105">Il listener legge il messaggio dalla coda e lo passa al lettore.</span><span class="sxs-lookup"><span data-stu-id="ffc94-105">The listener reads the message from the queue and passes it to the player.</span></span> <span data-ttu-id="ffc94-106">Il lettore richiama il componente server effettivo ed effettua la stessa chiamata al metodo.</span><span class="sxs-lookup"><span data-stu-id="ffc94-106">The player invokes the actual server component and makes the same method call.</span></span> <span data-ttu-id="ffc94-107">Il componente server deve osservare il contesto di chiamata di sicurezza del client (non il contesto di chiamata di sicurezza del giocatore) quando il giocatore effettua la chiamata al metodo.</span><span class="sxs-lookup"><span data-stu-id="ffc94-107">The server component must observe the security call context of the client (not the player's security call context) when the player makes the method call.</span></span> <span data-ttu-id="ffc94-108">Il registratore esegue il marshalling del contesto di chiamata di sicurezza del client nel messaggio e il giocatore ne esegue l'unmarshalling sul server prima di effettuare la chiamata al metodo.</span><span class="sxs-lookup"><span data-stu-id="ffc94-108">The recorder marshals the client's security call context into the message, and the player unmarshals it at the server before making the method call.</span></span> <span data-ttu-id="ffc94-109">Per quanto riguarda l'oggetto server, non esiste alcuna differenza nel contesto di sicurezza tra una chiamata diretta dal client e una chiamata indiretta da parte del lettore.</span><span class="sxs-lookup"><span data-stu-id="ffc94-109">As far as the server object is concerned, there is no difference in security context between a direct call from the client and an indirect call from the player.</span></span> <span data-ttu-id="ffc94-110">In particolare, i metodi richiamati Execute con i privilegi del mittente.</span><span class="sxs-lookup"><span data-stu-id="ffc94-110">In particular, the methods invoked execute with the sender's privileges.</span></span>

<span data-ttu-id="ffc94-111">Un componente COM+ accodato supporta la semantica di sicurezza basata sui ruoli come gli altri componenti creati per l'utilizzo con le applicazioni COM+.</span><span class="sxs-lookup"><span data-stu-id="ffc94-111">A COM+ queued component supports role-based security semantics just like other components built for use with COM+ applications.</span></span> <span data-ttu-id="ffc94-112">I componenti di un'applicazione in coda possono pertanto utilizzare interfacce programmatiche per individuare l'appartenenza al ruolo del chiamante ([**ISecurityCallContext:: IsCallerInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-iscallerinrole)) o un utente specifico ([**ISecurityCallContext:: IsUserInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-isuserinrole)).</span><span class="sxs-lookup"><span data-stu-id="ffc94-112">Components of a queued application can therefore use programmatic interfaces to discover the role membership of their caller ([**ISecurityCallContext::IsCallerInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-iscallerinrole)) or a specific user ([**ISecurityCallContext::IsUserInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-isuserinrole)).</span></span> <span data-ttu-id="ffc94-113">È consigliabile che tutti i componenti in coda con un potenziale impatto sulla sicurezza usino queste interfacce per controllare in modo esplicito le credenziali del mittente.</span><span class="sxs-lookup"><span data-stu-id="ffc94-113">It is recommended that any queued component with a potential security impact use these interfaces to explicitly check the sender's credentials.</span></span>

<span data-ttu-id="ffc94-114">L'identità del chiamante è l'identità associata a una chiamata al metodo.</span><span class="sxs-lookup"><span data-stu-id="ffc94-114">The caller identity is the identity associated with a method call.</span></span> <span data-ttu-id="ffc94-115">L'identità del chiamante viene utilizzata dalla sicurezza basata sui ruoli ed è presente nel contesto della chiamata di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="ffc94-115">Caller identity is used by role-based security and is present in the security call context.</span></span> <span data-ttu-id="ffc94-116">Nei componenti in coda, l'identità del chiamante viene rappresentata come dati nel messaggio di Accodamento messaggi.</span><span class="sxs-lookup"><span data-stu-id="ffc94-116">In queued components, the caller identity is represented as data in the Message Queuing message.</span></span> <span data-ttu-id="ffc94-117">Accodamento messaggi autentica l'identità del mittente del messaggio.</span><span class="sxs-lookup"><span data-stu-id="ffc94-117">Message Queuing authenticates the message sender identity.</span></span> <span data-ttu-id="ffc94-118">Quando l'identità del chiamante e l'identità del mittente del messaggio sono le stesse, Accodamento messaggi autentica sia il messaggio che il chiamante.</span><span class="sxs-lookup"><span data-stu-id="ffc94-118">When the caller identity and the message sender identity are the same, Message Queuing authenticates both the message and the caller.</span></span> <span data-ttu-id="ffc94-119">Questo è il caso usuale.</span><span class="sxs-lookup"><span data-stu-id="ffc94-119">This is the usual case.</span></span>

> [!Note]  
> <span data-ttu-id="ffc94-120">I componenti COM+ in coda non supportano la sicurezza in stile di rappresentazione, che consente a un server di ottenere un token di accesso corrispondente all'identità del client e usarlo per eseguire controlli di controllo di accesso o per agire nel contesto di sicurezza del client.</span><span class="sxs-lookup"><span data-stu-id="ffc94-120">COM+ queued components does not support impersonation-style security, which allows a server to obtain an access token corresponding to the client identity and use it either to perform access control checks or to act under the client security context.</span></span>

 

<span data-ttu-id="ffc94-121">Quando il chiamante di un componente in coda interagisce con il componente tramite una registrazione out-of-process, le identità del chiamante e del mittente del messaggio (registratore) possono essere diverse.</span><span class="sxs-lookup"><span data-stu-id="ffc94-121">When the caller of a queued component is interacting with the component through an out-of-process recorder, the identities of the caller and message sender (recorder) can be different.</span></span> <span data-ttu-id="ffc94-122">In questo caso, i componenti in coda COM+ verificano che il mittente del messaggio sia un membro del ruolo utente attendibile QC sul server.</span><span class="sxs-lookup"><span data-stu-id="ffc94-122">In this case, COM+ queued components verifies that the message sender is a member of the QC Trusted User role on the server.</span></span> <span data-ttu-id="ffc94-123">Inoltre, la registrazione out-of-process richiede un certificato di autenticazione perché viene autenticato da Accodamento messaggi.</span><span class="sxs-lookup"><span data-stu-id="ffc94-123">Additionally, the out-of-process recorder requires an authentication certificate because it is being authenticated by Message Queuing.</span></span>

<span data-ttu-id="ffc94-124">Ai membri del ruolo utente attendibile QC è consentito specificare un'identità arbitraria, il che significa che un membro malintenzionato potrebbe eseguire una chiamata di componente in coda con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="ffc94-124">Members of the QC Trusted User role are allowed to specify an arbitrary identity, which means that a malicious member could execute a queued component call with elevated privileges.</span></span> <span data-ttu-id="ffc94-125">È quindi consigliabile che il numero di tali utenti venga mantenuto come minimo assoluto.</span><span class="sxs-lookup"><span data-stu-id="ffc94-125">It is therefore recommended that the number of such users be kept to an absolute minimum.</span></span>

<span data-ttu-id="ffc94-126">A causa del rischio di un attacco sofisticato associato a qualsiasi meccanismo che propaga l'identità in una rete, nonché il rischio di un attacco di tipo Denial of Service semplice tramite l'alluvione delle code con richieste non eseguibili, si consiglia di distribuire il servizio componenti in coda COM+ solo in una rete di host attendibili, ad esempio in una rete privata o in una rete privata virtuale o dietro un firewall configurato in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="ffc94-126">Because of the risk of a sophisticated attack associated with any mechanism which propagates identity across a network, as well as the risk of a simple denial of service attack by flooding the queues with unexecutable requests, it is recommended that you deploy the COM+ queued components service only on a network of trusted hosts—for example, on a private network or a virtual private network, or behind an appropriately configured firewall.</span></span>

<span data-ttu-id="ffc94-127">I componenti COM+ in coda vengono eseguiti su DCOM, quindi è possibile proteggere l'integrità e la segretezza delle chiamate ai metodi in coda selezionando la **privacy dei pacchetti** come **livello di autenticazione delle chiamate** impostazione nella scheda **sicurezza** della finestra delle **Proprietà** dell'applicazione in coda.</span><span class="sxs-lookup"><span data-stu-id="ffc94-127">COM+ queued components runs over DCOM, so you can help protect the integrity and secrecy of queued method calls by selecting **Packet Privacy** as the **Authentication Level of Calls** setting on the **Security** tab of your queued application's **Properties** sheet.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ffc94-128">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="ffc94-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ffc94-129">Sicurezza COM+</span><span class="sxs-lookup"><span data-stu-id="ffc94-129">COM+ Security</span></span>](com--security.md)
</dt> <dt>

[<span data-ttu-id="ffc94-130">Limitazioni di sicurezza in modalità gruppo di lavoro</span><span class="sxs-lookup"><span data-stu-id="ffc94-130">Security Limitations in Workgroup Mode</span></span>](security-limitations-in-workgroup-mode.md)
</dt> <dt>

[<span data-ttu-id="ffc94-131">Specifica del protocollo di autenticazione</span><span class="sxs-lookup"><span data-stu-id="ffc94-131">Specifying the Authentication Protocol</span></span>](specifying-the-authentication-protocol.md)
</dt> </dl>

 

 



