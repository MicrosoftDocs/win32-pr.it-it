---
description: I compromessi sono intrinseci nell'applicazione della sicurezza.
ms.assetid: f01573f3-aae6-400e-bdd9-6f34f4e262f6
title: Decidere dove applicare la protezione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4ac994fb98d50a7e26f1b8142e77dc9ff771f6b2
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104523258"
---
# <a name="deciding-where-to-enforce-security"></a><span data-ttu-id="4a003-103">Decidere dove applicare la protezione</span><span class="sxs-lookup"><span data-stu-id="4a003-103">Deciding Where to Enforce Security</span></span>

<span data-ttu-id="4a003-104">I compromessi sono intrinseci nell'applicazione della sicurezza.</span><span class="sxs-lookup"><span data-stu-id="4a003-104">Trade-offs are inherent in enforcing security.</span></span> <span data-ttu-id="4a003-105">Un database può essere un luogo naturale per applicare la logica di sicurezza, dato che in definitiva i dati sono la cosa più importante da proteggere.</span><span class="sxs-lookup"><span data-stu-id="4a003-105">A database can be a natural place to put security logic, given that ultimately that data is the most important thing to protect.</span></span> <span data-ttu-id="4a003-106">Questa operazione, tuttavia, ha implicazioni significative sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="4a003-106">However, doing so has significant performance implications.</span></span> <span data-ttu-id="4a003-107">L'applicazione della sicurezza nel database può essere molto costosa, ridimensionata in modo non corretto e non è flessibile.</span><span class="sxs-lookup"><span data-stu-id="4a003-107">Enforcing security at the database can be very expensive, scales poorly, and is inflexible.</span></span>

## <a name="enforcing-security-in-the-middle-tier"></a><span data-ttu-id="4a003-108">Applicazione della sicurezza nel livello intermedio</span><span class="sxs-lookup"><span data-stu-id="4a003-108">Enforcing Security in the Middle Tier</span></span>

<span data-ttu-id="4a003-109">La regola generale da seguire con le applicazioni multilivello scalabili mediante COM+ è che, laddove possibile, è necessario applicare una sicurezza dettagliata nell'applicazione COM+ a livello intermedio.</span><span class="sxs-lookup"><span data-stu-id="4a003-109">The general rule to follow with scalable multi-tier applications using COM+ is that, whenever possible, you should enforce detailed security in the COM+ application at the middle tier.</span></span> <span data-ttu-id="4a003-110">Questa operazione consente di sfruttare appieno i servizi scalabili forniti da COM+.</span><span class="sxs-lookup"><span data-stu-id="4a003-110">Doing so enables you to fully leverage the scalable services provided by COM+.</span></span> <span data-ttu-id="4a003-111">Applicare l'autenticazione al database solo quando è assolutamente necessario e valutare in modo completo le implicazioni relative alle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="4a003-111">Enforce authentication at the database only when you absolutely need to, and fully weigh the performance implications of doing so.</span></span>

<span data-ttu-id="4a003-112">La situazione ottimale consiste nell'essere in grado di proteggere le tabelle di database in modo che l'applicazione COM+ sia in grado di accedervi con una propria identità.</span><span class="sxs-lookup"><span data-stu-id="4a003-112">The optimal situation is to be able to secure database tables so that the COM+ application is able to access them under its own identity.</span></span> <span data-ttu-id="4a003-113">Il database deve semplicemente autenticare l'applicazione COM+ e considerarla attendibile per autenticare e autorizzare i client che accederanno ai dati.</span><span class="sxs-lookup"><span data-stu-id="4a003-113">The database should just authenticate the COM+ application and trust it to correctly authenticate and authorize clients that will be accessing data.</span></span> <span data-ttu-id="4a003-114">I vantaggi di questo approccio sono i seguenti:</span><span class="sxs-lookup"><span data-stu-id="4a003-114">The benefits of this approach are as follows:</span></span>

-   <span data-ttu-id="4a003-115">Consente il pool di connessioni tra tutti i client, poiché le connessioni sono completamente generiche.</span><span class="sxs-lookup"><span data-stu-id="4a003-115">It enables connection pooling among all clients, as connections are completely generic.</span></span>
-   <span data-ttu-id="4a003-116">In genere ottimizza l'accesso ai dati, spesso un problema di soffocamento quando si ridimensionano le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="4a003-116">It generally optimizes data access, often a problematic choke point when scaling applications.</span></span>
-   <span data-ttu-id="4a003-117">Può ridurre al minimo il sovraccarico della logica per l'applicazione della sicurezza, in particolare se è possibile utilizzare la sicurezza dichiarativa basata sui ruoli.</span><span class="sxs-lookup"><span data-stu-id="4a003-117">It can minimize the logic overhead for enforcing security, particularly if declarative role-based security can be used.</span></span>
-   <span data-ttu-id="4a003-118">Può garantire una grande flessibilità nei criteri di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="4a003-118">It can provide great flexibility in a security policy.</span></span> <span data-ttu-id="4a003-119">È possibile configurarlo e riconfigurarlo facilmente, come descritto in [amministrazione della sicurezza basata sui ruoli](role-based-security-administration.md).</span><span class="sxs-lookup"><span data-stu-id="4a003-119">You can configure and reconfigure it easily, as described in [Role-Based Security Administration](role-based-security-administration.md).</span></span>

<span data-ttu-id="4a003-120">Tuttavia, come illustrato in [progettazione dei ruoli in modo efficiente](designing-roles-effectively.md), mentre i ruoli possono essere applicati in modo semplice ed efficace ad alcune relazioni utente-dati, non sono una soluzione universale per le decisioni di accesso alla sicurezza.</span><span class="sxs-lookup"><span data-stu-id="4a003-120">But, as discussed in [Designing Roles Effectively](designing-roles-effectively.md), while roles can be easily and effectively applied to some user-data relationships, they are not a universal solution for security access decisions.</span></span>

## <a name="enforcing-security-at-the-database"></a><span data-ttu-id="4a003-121">Applicazione della sicurezza nel database</span><span class="sxs-lookup"><span data-stu-id="4a003-121">Enforcing Security at the Database</span></span>

<span data-ttu-id="4a003-122">Nonostante la preferibilità dell'applicazione della sicurezza a livello intermedio, esistono diversi motivi per applicare la sicurezza al database, ad esempio:</span><span class="sxs-lookup"><span data-stu-id="4a003-122">Despite the preferability of enforcing security at the middle tier, there are a number of reasons to enforce security at the database, such as the following:</span></span>

-   <span data-ttu-id="4a003-123">Non si ha la possibilità di scegliere, forse per motivi legacy o forse perché la decisione non è semplicemente a portata di mano.</span><span class="sxs-lookup"><span data-stu-id="4a003-123">You don't have a choice, perhaps for legacy reasons or perhaps because the decision is simply not in your hands.</span></span>
-   <span data-ttu-id="4a003-124">Il database è accessibile da un'ampia gamma di applicazioni e la relativa sicurezza non può essere configurata in base a una singola applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a003-124">The database is accessed by a wide variety of applications, and its security can't be configured on the basis of a single application.</span></span>
-   <span data-ttu-id="4a003-125">È possibile rendere il database protetto in modo prevedibile.</span><span class="sxs-lookup"><span data-stu-id="4a003-125">A database can be made predictably protected.</span></span> <span data-ttu-id="4a003-126">Se si mantengono i dati aziendali critici in un database, è possibile tracciare un vagone e aiutarlo a controllare chi lo vede.</span><span class="sxs-lookup"><span data-stu-id="4a003-126">If you keep enterprise-critical data in a database, you can draw a tight wagon around it and help control who gets to see it.</span></span>
-   <span data-ttu-id="4a003-127">L'autenticazione dei client originali nel database consente la registrazione dettagliata di chi ha eseguito le operazioni nel database.</span><span class="sxs-lookup"><span data-stu-id="4a003-127">Authenticating original clients at the database enables detailed logging of who has done what in the database.</span></span>
-   <span data-ttu-id="4a003-128">Alcuni dati sono associati in modo innato a utenti specifici e la logica di prendere decisioni di accesso con granularità fine può essere eseguita in modo più efficiente nel database stesso, vicino ai dati.</span><span class="sxs-lookup"><span data-stu-id="4a003-128">Some data is innately bound to particular users, and the logic of making extremely fine-grained access decisions might be most efficiently carried out at the database itself, close to the data.</span></span>

<span data-ttu-id="4a003-129">Quando si ha il lusso di progettare la sicurezza del database e dell'applicazione COM+ in parallelo, la maggior parte di questi problemi riguarda le caratteristiche dei dati stessi e la relativa relazione con gli utenti che vi accedono.</span><span class="sxs-lookup"><span data-stu-id="4a003-129">When you do have the luxury of designing the security of the database and the COM+ application in tandem, most of these issues pertain to characteristics of the data itself and its relationship to the users accessing it.</span></span> <span data-ttu-id="4a003-130">Con i dati a cui è possibile accedere da categorie stimabili di utenti, è efficace controllare l'accesso nel livello intermedio usando i ruoli.</span><span class="sxs-lookup"><span data-stu-id="4a003-130">With data that can be accessed by predictable categories of users, it is efficient to control access in the middle tier using roles.</span></span> <span data-ttu-id="4a003-131">Con i dati che sono strettamente associati a classi molto piccole di utenti, tali relazioni devono essere spesso espresse con i dati stessi e pertanto è necessario applicare una certa sicurezza al database.</span><span class="sxs-lookup"><span data-stu-id="4a003-131">With data that is intricately bound to very small classes of users, those relationships must often be expressed with the data itself and hence you must enforce some security at the database.</span></span>

### <a name="performance-implications-of-enforcing-security-at-the-database"></a><span data-ttu-id="4a003-132">Implicazioni relative alle prestazioni dell'applicazione della sicurezza nel database</span><span class="sxs-lookup"><span data-stu-id="4a003-132">Performance Implications of Enforcing Security at the Database</span></span>

<span data-ttu-id="4a003-133">Se si esegue l'autenticazione o l'autorizzazione degli utenti nel database, l'identità utente deve essere propagata al database per supportare questa operazione.</span><span class="sxs-lookup"><span data-stu-id="4a003-133">If you authenticate or authorize users at the database, the user identity needs to be propagated through to the database to support this.</span></span> <span data-ttu-id="4a003-134">Se il database considera attendibile l'applicazione di livello intermedio a tale scopo, è possibile passare le informazioni di sicurezza dell'utente nei parametri.</span><span class="sxs-lookup"><span data-stu-id="4a003-134">If the database trusts the middle-tier application to do so, it is possible to pass in user security information in parameters.</span></span> <span data-ttu-id="4a003-135">In caso contrario, la chiamata al database deve essere eseguita con l'identità dell'utente, ovvero l'applicazione server deve rappresentare il client.</span><span class="sxs-lookup"><span data-stu-id="4a003-135">Otherwise, the call through to the database must be made under the user's identity, meaning that the server application must impersonate the client.</span></span> <span data-ttu-id="4a003-136">Questa operazione può avere implicazioni sulle prestazioni, come le seguenti:</span><span class="sxs-lookup"><span data-stu-id="4a003-136">This can have performance implications such as the following:</span></span>

-   <span data-ttu-id="4a003-137">La rappresentazione del client può essere molto più lenta rispetto all'esecuzione della chiamata direttamente nell'identità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4a003-137">Impersonating the client can be much slower than making the call directly under the application identity.</span></span> <span data-ttu-id="4a003-138">Per informazioni dettagliate, vedere [rappresentazione e delega del client](client-impersonation-and-delegation.md).</span><span class="sxs-lookup"><span data-stu-id="4a003-138">For more detail, see [Client Impersonation and Delegation](client-impersonation-and-delegation.md).</span></span>
-   <span data-ttu-id="4a003-139">Non è possibile raggruppare in pool una connessione di database eseguita con un'identità utente specifica.</span><span class="sxs-lookup"><span data-stu-id="4a003-139">A database connection made under a specific user identity cannot be pooled.</span></span>
-   <span data-ttu-id="4a003-140">L'aggiunta della logica nel database esegue il rischio di creare un collo di bottiglia di ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="4a003-140">Adding logic in the database itself runs the risk of creating a scaling bottleneck.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4a003-141">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="4a003-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4a003-142">Scenari di base per la protezione dei dati nelle applicazioni multilivello</span><span class="sxs-lookup"><span data-stu-id="4a003-142">Basic Scenarios for Securing Data in Multi-Tier Applications</span></span>](basic-scenarios-for-securing-data-in-multi-tier-applications.md)
</dt> <dt>

[<span data-ttu-id="4a003-143">Sicurezza delle applicazioni a più livelli</span><span class="sxs-lookup"><span data-stu-id="4a003-143">Multi-Tier Application Security</span></span>](multi-tier-application-security.md)
</dt> </dl>

 

 



