---
title: Riproduzione di file da un'origine di rete
description: Riproduzione di file da un'origine di rete
ms.assetid: 72f2d685-56fc-4da2-8372-3774cc65f59d
keywords:
- Windows Media Format SDK, lettura di dati ASF
- Windows Media Format SDK, riproduzione di file da origini di rete
- Formato di sistemi avanzati (ASF), lettura dati
- ASF (Advanced Systems Format), lettura di dati
- ASF (Advanced Systems Format), riproduzione di file da origini di rete
- ASF (Advanced Systems Format), riproduzione di file da origini di rete
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8f1e4e41ddf94498ddeddf90e64439c1b11b7ba8
ms.sourcegitcommit: ad672d3a10192c5ccac619ad2524407109266e93
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/25/2020
ms.locfileid: "106299528"
---
# <a name="playing-files-from-a-network-source"></a><span data-ttu-id="a269f-109">Riproduzione di file da un'origine di rete</span><span class="sxs-lookup"><span data-stu-id="a269f-109">Playing Files from a Network Source</span></span>

<span data-ttu-id="a269f-110">La lettura da una rete non è sostanzialmente diversa dalla lettura di un file locale.</span><span class="sxs-lookup"><span data-stu-id="a269f-110">Reading from a network is not fundamentally different from reading a local file.</span></span> <span data-ttu-id="a269f-111">L'applicazione passa l'URL al metodo [**IWMReader:: Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) dell'oggetto Reader e l'oggetto Reader gestisce i dettagli dei protocolli di rete.</span><span class="sxs-lookup"><span data-stu-id="a269f-111">The application passes the URL to the reader object's [**IWMReader::Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) method, and the reader object handles the details of the network protocols.</span></span> <span data-ttu-id="a269f-112">L'oggetto Reader utilizza la gestione intelligente del buffer per garantire la riproduzione più semplice possibile.</span><span class="sxs-lookup"><span data-stu-id="a269f-112">The reader object uses intelligent buffer management to provide the smoothest playback possible.</span></span> <span data-ttu-id="a269f-113">Se l'applicazione necessita di un maggiore controllo sulle impostazioni di rete dell'oggetto Reader, queste sono disponibili tramite le interfacce [**IWMReaderNetworkConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig) e [**IWMReaderNetworkConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig2) .</span><span class="sxs-lookup"><span data-stu-id="a269f-113">If the application needs more control over the reader object's network settings, these are available through the [**IWMReaderNetworkConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig) and [**IWMReaderNetworkConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig2) interfaces.</span></span>

<span data-ttu-id="a269f-114">Il contenuto di un'origine di rete rientra in una delle due categorie seguenti:</span><span class="sxs-lookup"><span data-stu-id="a269f-114">Content from a network source falls into one of the following two categories:</span></span>

-   <span data-ttu-id="a269f-115">Streaming.</span><span class="sxs-lookup"><span data-stu-id="a269f-115">Streaming.</span></span> <span data-ttu-id="a269f-116">I dati vengono trasmessi solo nel tempo per essere riprodotti nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="a269f-116">The data is transmitted just in time to be played on the local machine.</span></span> <span data-ttu-id="a269f-117">I server che eseguono servizi Windows Media possono fornire dati di streaming.</span><span class="sxs-lookup"><span data-stu-id="a269f-117">Servers running Windows Media Services can provide streaming data.</span></span> <span data-ttu-id="a269f-118">Se viene eseguito il flusso del contenuto a più velocità in bit (MBR), il client può richiedere una velocità in bit diversa dal server durante l'avanzamento del flusso.</span><span class="sxs-lookup"><span data-stu-id="a269f-118">If multiple bit rate (MBR) content is streamed, the client can request a different bit rate from the server as streaming progresses.</span></span>
-   <span data-ttu-id="a269f-119">Scaricato.</span><span class="sxs-lookup"><span data-stu-id="a269f-119">Downloaded.</span></span> <span data-ttu-id="a269f-120">Tutti i dati vengono trasmessi il più rapidamente possibile in modo che possano essere salvati come file nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="a269f-120">All the data is transmitted as quickly as possible so that it can be saved as a file on the local machine.</span></span> <span data-ttu-id="a269f-121">I server Web forniscono i dati scaricati.</span><span class="sxs-lookup"><span data-stu-id="a269f-121">Web servers provide downloaded data.</span></span> <span data-ttu-id="a269f-122">Non esiste alcuna comunicazione dal client al server dopo l'inizio del download.</span><span class="sxs-lookup"><span data-stu-id="a269f-122">There is no communication from the client to the server after the download begins.</span></span>

<span data-ttu-id="a269f-123">Quando l'oggetto Reader Scarica un file da un server Web, viene usata una tecnica denominata streaming progressivo, che consente a un giocatore di iniziare a eseguire il rendering del contenuto prima del completamento del download.</span><span class="sxs-lookup"><span data-stu-id="a269f-123">When the reader object downloads a file from a Web server, it uses a technique called progressive streaming, which allows a player to begin rendering the content before downloading is complete.</span></span> <span data-ttu-id="a269f-124">I dati vengono memorizzati nel buffer per fornire un flusso di dati ininterrotti al lettore.</span><span class="sxs-lookup"><span data-stu-id="a269f-124">Data is buffered to provide an uninterrupted flow of data to the player.</span></span> <span data-ttu-id="a269f-125">Informazioni quali la velocità di trasferimento e la durata del contenuto vengono utilizzate per determinare la durata del buffering dei dati prima di assegnarla al lettore.</span><span class="sxs-lookup"><span data-stu-id="a269f-125">Information such as the transfer rate and duration of the content is used to determine how long to buffer the data before giving it to the player.</span></span>

<span data-ttu-id="a269f-126">Per aprire un file o un flusso in una rete, chiamare il metodo **IWMReader:: Open** dell'oggetto Reader con l'URL appropriato.</span><span class="sxs-lookup"><span data-stu-id="a269f-126">To open a file or stream over a network, call the reader object's **IWMReader::Open** method with the appropriate URL.</span></span> <span data-ttu-id="a269f-127">**Open** è una chiamata asincrona, quindi viene restituito immediatamente.</span><span class="sxs-lookup"><span data-stu-id="a269f-127">**Open** is an asynchronous call, so it returns immediately.</span></span> <span data-ttu-id="a269f-128">Quando l'origine è pronta per la lettura, l'oggetto Reader invia una \_ notifica WMT aperta al metodo [**IWMStatusCallback:: OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) callback dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="a269f-128">When the source is ready for reading, the reader object sends a WMT\_OPENED notification to the application's [**IWMStatusCallback::OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) callback method.</span></span> <span data-ttu-id="a269f-129">A questo punto, l'applicazione può eseguire una query sul Reader per la modalità di recapito chiamando [**IWMReaderAdvanced2:: GetPlayMode**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode).</span><span class="sxs-lookup"><span data-stu-id="a269f-129">At this point, the application can query the reader for the delivery mode by calling [**IWMReaderAdvanced2::GetPlayMode**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode).</span></span> <span data-ttu-id="a269f-130">Per il contenuto di rete, questo metodo restituirà il \_ download della modalità di riproduzione WMT \_ \_ , indicando il contenuto scaricato o lo \_ streaming in modalità di riproduzione WMT \_ \_ , che indica il contenuto trasmesso.</span><span class="sxs-lookup"><span data-stu-id="a269f-130">For network content, this method will return either WMT\_PLAY\_MODE\_DOWNLOAD, indicating downloaded content, or WMT\_PLAY\_MODE\_STREAMING, indicating streamed content.</span></span>

<span data-ttu-id="a269f-131">Per iniziare a leggere il file o il flusso, chiamare il metodo [**IWMReader:: Start**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-start) .</span><span class="sxs-lookup"><span data-stu-id="a269f-131">To begin reading the file or stream, call the [**IWMReader::Start**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-start) method.</span></span> <span data-ttu-id="a269f-132">Il lettore invia una \_ \_ notifica di avvio del buffer WMT quando inizia a memorizzare nel buffer il contenuto e una \_ notifica di arresto del buffer WMT quando il \_ buffering è completo.</span><span class="sxs-lookup"><span data-stu-id="a269f-132">The reader sends a WMT\_BUFFERING\_START notification when it starts to buffer the content, and a WMT\_BUFFERING\_STOP notification when buffering is complete.</span></span> <span data-ttu-id="a269f-133">Mentre il lettore memorizza nel buffer il contenuto, ovvero tra queste due notifiche, potrebbe essere necessario visualizzare l'avanzamento del buffering all'utente.</span><span class="sxs-lookup"><span data-stu-id="a269f-133">While the reader is buffering content (that is, between these two notifications), you might want to display the buffering progress to the user.</span></span> <span data-ttu-id="a269f-134">Il metodo [**IWMReaderAdvanced2:: GetBufferProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress) restituisce la percentuale di dati memorizzati nel buffer e il tempo stimato rimanente.</span><span class="sxs-lookup"><span data-stu-id="a269f-134">The [**IWMReaderAdvanced2::GetBufferProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress) method returns the percentage of data that has been buffered and the estimated time that remains.</span></span> <span data-ttu-id="a269f-135">Per il contenuto scaricato, è anche possibile chiamare [**IWMReaderAdvanced2:: GetDownloadProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress) per ottenere lo stato del download.</span><span class="sxs-lookup"><span data-stu-id="a269f-135">For downloaded content, you can also call [**IWMReaderAdvanced2::GetDownloadProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress) to get the download progress.</span></span> <span data-ttu-id="a269f-136">Chiamare questi metodi ripetutamente per aggiornare la visualizzazione, fino a quando il buffering non viene completato.</span><span class="sxs-lookup"><span data-stu-id="a269f-136">Call these methods repeatedly to update your display, until buffering has completed.</span></span> <span data-ttu-id="a269f-137">Il buffering può verificarsi di nuovo durante la riproduzione, a causa di fattori quali la congestione della rete.</span><span class="sxs-lookup"><span data-stu-id="a269f-137">Buffering can occur again during playback, due to factors such as network congestion.</span></span> <span data-ttu-id="a269f-138">In tal caso, l'applicazione riceve un'altra \_ notifica di avvio del buffer WMT \_ .</span><span class="sxs-lookup"><span data-stu-id="a269f-138">If this occurs, the application receives another WMT\_BUFFERING\_START notification.</span></span>

<span data-ttu-id="a269f-139">Quando l'oggetto Reader inizia a riprodurre il contenuto, invia una \_ notifica avviata da WMT.</span><span class="sxs-lookup"><span data-stu-id="a269f-139">When the reader object begins to play the content, it sends a WMT\_STARTED notification.</span></span> <span data-ttu-id="a269f-140">Poiché ogni campione viene decodificato e diventa disponibile per il rendering, il lettore lo passa all'applicazione tramite il metodo di callback [**IWMReaderCallback:: OnSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample) .</span><span class="sxs-lookup"><span data-stu-id="a269f-140">As each sample is decoded and becomes available for rendering, the reader passes it to the application through the [**IWMReaderCallback::OnSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample) callback method.</span></span> <span data-ttu-id="a269f-141">A questo punto, il processo è identico a quello per la riproduzione di file locali.</span><span class="sxs-lookup"><span data-stu-id="a269f-141">At this point, the process is the same as it is for local file playback.</span></span> <span data-ttu-id="a269f-142">Quando la riproduzione viene arrestata, il lettore invia una \_ \_ notifica di WMT end of \_ streaming.</span><span class="sxs-lookup"><span data-stu-id="a269f-142">When playback stops, the reader sends a WMT\_END\_OF\_STREAMING notification.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a269f-143">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="a269f-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a269f-144">**Lettura di file ASF**</span><span class="sxs-lookup"><span data-stu-id="a269f-144">**Reading ASF Files**</span></span>](reading-asf-files.md)
</dt> </dl>

 

 




