---
title: Panoramica dell'API Direct2D
description: Viene fornita una panoramica del modello a oggetti Direct2D.
ms.assetid: b1362ef6-40fc-4fa5-ba5b-22c622c39f04
keywords:
- Direct2D, informazioni
- Direct2D, file di intestazione
- Direct2D, modello a oggetti
- Direct2D, interfacce
- Interfaccia ID2D1Factory
- Direct2D, destinazioni di rendering
- destinazioni di rendering, informazioni
- Direct2D, comandi di disegno
- destinazioni di rendering, comandi di disegno
- Direct2D, gestione degli errori
- destinazioni di rendering, gestione degli errori
- gestione degli errori
- pennelli
- destinazioni di rendering, pennelli
- geometries
- Direct2D, geometrie
- bitmap per Direct2D
- Direct2D, bitmap
- Primitives
- Direct2D, primitive
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 858d03f626fe337b174f074d7725dcb1a636b463
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "106300028"
---
# <a name="direct2d-api-overview"></a><span data-ttu-id="373ab-123">Panoramica dell'API Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-123">Direct2D API Overview</span></span>

<span data-ttu-id="373ab-124">Direct2D fornisce un'API, simile a Direct3D, per l'uso con C o C++.</span><span class="sxs-lookup"><span data-stu-id="373ab-124">Direct2D provides an API, similar to Direct3D, for use with C or C++.</span></span> <span data-ttu-id="373ab-125">L'API espone un'ampia gamma di funzionalità correlate al disegno:</span><span class="sxs-lookup"><span data-stu-id="373ab-125">The API exposes a variety of drawing-related functionality:</span></span>

-   <span data-ttu-id="373ab-126">Destinazioni di rendering per la visualizzazione e il rendering fuori schermo tramite Direct2D, Direct3D o GDI.</span><span class="sxs-lookup"><span data-stu-id="373ab-126">Render targets for display and off-screen rendering using Direct2D, Direct3D, or GDI.</span></span>
-   <span data-ttu-id="373ab-127">Oggetti per la gestione dello stato di disegno, ad esempio le trasformazioni dello spazio delle coordinate e le modalità anti-aliasing.</span><span class="sxs-lookup"><span data-stu-id="373ab-127">Objects for managing drawing state such as coordinate space transforms and antialiasing modes.</span></span>
-   <span data-ttu-id="373ab-128">Rappresentazioni per i dati geometrici e funzioni per l'elaborazione geometrica.</span><span class="sxs-lookup"><span data-stu-id="373ab-128">Representations for geometric data, and functions for geometry processing.</span></span>
-   <span data-ttu-id="373ab-129">Funzionalità di rendering per bitmap, geometrie e testo.</span><span class="sxs-lookup"><span data-stu-id="373ab-129">Rendering functionality for bitmaps, geometries, and text.</span></span>
-   <span data-ttu-id="373ab-130">Provisioning per l'utilizzo di contenuto grafico creato con GDI o Direct3D.</span><span class="sxs-lookup"><span data-stu-id="373ab-130">Provisions for using graphical content created using GDI or Direct3D.</span></span>

<span data-ttu-id="373ab-131">Questo argomento fornisce una panoramica degli oggetti che compongono l'API Direct2D.</span><span class="sxs-lookup"><span data-stu-id="373ab-131">This topic provides an overview of the objects that make up the Direct2D API.</span></span> <span data-ttu-id="373ab-132">Contiene le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="373ab-132">It contains the following sections:</span></span>

-   [<span data-ttu-id="373ab-133">File di intestazione Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-133">Direct2D Header Files</span></span>](#direct2d-header-files)
-   [<span data-ttu-id="373ab-134">Interfacce Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-134">Direct2D Interfaces</span></span>](#direct2d-interfaces)
-   [<span data-ttu-id="373ab-135">Interfaccia ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="373ab-135">The ID2D1Factory Interface</span></span>](#the-id2d1factory-interface)
-   [<span data-ttu-id="373ab-136">Destinazioni di rendering</span><span class="sxs-lookup"><span data-stu-id="373ab-136">Render Targets</span></span>](#render-targets)
    -   [<span data-ttu-id="373ab-137">Funzionalità di destinazione di rendering</span><span class="sxs-lookup"><span data-stu-id="373ab-137">Render Target Features</span></span>](#render-target-features)
    -   [<span data-ttu-id="373ab-138">Risorse di destinazione di rendering</span><span class="sxs-lookup"><span data-stu-id="373ab-138">Render Target Resources</span></span>](#render-target-resources)
    -   [<span data-ttu-id="373ab-139">Disegno di comandi</span><span class="sxs-lookup"><span data-stu-id="373ab-139">Drawing Commands</span></span>](#drawing-commands)
    -   [<span data-ttu-id="373ab-140">Gestione degli errori</span><span class="sxs-lookup"><span data-stu-id="373ab-140">Error Handling</span></span>](#error-handling)
-   [<span data-ttu-id="373ab-141">Creazione di risorse</span><span class="sxs-lookup"><span data-stu-id="373ab-141">Drawing Resources</span></span>](#drawing-resources)
    -   [<span data-ttu-id="373ab-142">Pennelli</span><span class="sxs-lookup"><span data-stu-id="373ab-142">Brushes</span></span>](#brushes)
    -   [<span data-ttu-id="373ab-143">Geometrie</span><span class="sxs-lookup"><span data-stu-id="373ab-143">Geometries</span></span>](#geometries)
    -   [<span data-ttu-id="373ab-144">Bitmap</span><span class="sxs-lookup"><span data-stu-id="373ab-144">Bitmaps</span></span>](#bitmaps)
-   [<span data-ttu-id="373ab-145">Disegno di testo</span><span class="sxs-lookup"><span data-stu-id="373ab-145">Drawing Text</span></span>](#drawing-text)
-   [<span data-ttu-id="373ab-146">Primitive Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-146">Direct2D Primitives</span></span>](#direct2d-primitives)
-   [<span data-ttu-id="373ab-147">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="373ab-147">Related topics</span></span>](#related-topics)

## <a name="direct2d-header-files"></a><span data-ttu-id="373ab-148">File di intestazione Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-148">Direct2D Header Files</span></span>

<span data-ttu-id="373ab-149">L'API Direct2D è definita dai file di intestazione seguenti.</span><span class="sxs-lookup"><span data-stu-id="373ab-149">The Direct2D API is defined by the following header files.</span></span>

| <span data-ttu-id="373ab-150">File di intestazione</span><span class="sxs-lookup"><span data-stu-id="373ab-150">Header file</span></span>         | <span data-ttu-id="373ab-151">Descrizione</span><span class="sxs-lookup"><span data-stu-id="373ab-151">Description</span></span>                                                                                                                  |
|---------------------|------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="373ab-152">d2d1. h</span><span class="sxs-lookup"><span data-stu-id="373ab-152">d2d1.h</span></span>              | <span data-ttu-id="373ab-153">Definisce le versioni C e C++ dell'API Direct2D primario.</span><span class="sxs-lookup"><span data-stu-id="373ab-153">Defines C and C++ versions of the primary Direct2D API.</span></span>                                                                      |
| <span data-ttu-id="373ab-154">d2d1helper. h</span><span class="sxs-lookup"><span data-stu-id="373ab-154">d2d1helper.h</span></span>        | <span data-ttu-id="373ab-155">Definisce le funzioni, le classi e le strutture di Helper C++.</span><span class="sxs-lookup"><span data-stu-id="373ab-155">Defines C++ helper functions, classes, and structures.</span></span>                                                                       |
| <span data-ttu-id="373ab-156">d2dbasetypes. h</span><span class="sxs-lookup"><span data-stu-id="373ab-156">d2dbasetypes.h</span></span>      | <span data-ttu-id="373ab-157">Definisce primitive di disegno per Direct2D, ad esempio punti e rettangoli.</span><span class="sxs-lookup"><span data-stu-id="373ab-157">Defines drawing primitives for Direct2D, such as points and rectangles.</span></span> <span data-ttu-id="373ab-158">Questa intestazione è inclusa in d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="373ab-158">This header is included with d2d1.h.</span></span>                 |
| <span data-ttu-id="373ab-159">d2derr. h</span><span class="sxs-lookup"><span data-stu-id="373ab-159">d2derr.h</span></span>            | <span data-ttu-id="373ab-160">Definisce i codici di errore per Direct2D.</span><span class="sxs-lookup"><span data-stu-id="373ab-160">Defines the error codes for Direct2D.</span></span> <span data-ttu-id="373ab-161">Questa intestazione è inclusa in d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="373ab-161">This header is included with d2d1.h.</span></span>                                                   |
| <span data-ttu-id="373ab-162">d2d1 \_ 1. h</span><span class="sxs-lookup"><span data-stu-id="373ab-162">d2d1\_1.h</span></span>           | <span data-ttu-id="373ab-163">Definisce le versioni C e C++ dell'API Direct2D primario per Windows 8 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="373ab-163">Defines C and C++ versions of the primary Direct2D API for Windows 8 and later.</span></span>                                              |
| <span data-ttu-id="373ab-164">d2d1 \_ 1helper. h</span><span class="sxs-lookup"><span data-stu-id="373ab-164">d2d1\_1helper.h</span></span>     | <span data-ttu-id="373ab-165">Definisce funzioni, classi e strutture Helper C++ per Windows 8 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="373ab-165">Defines C++ helper functions, classes, and structures for Windows 8 and later.</span></span>                                               |
| <span data-ttu-id="373ab-166">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="373ab-166">d2d1effects.h</span></span>       | <span data-ttu-id="373ab-167">Definisce le versioni C e C++ della parte relativa agli effetti immagine dell'API Direct2D per Windows 8 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="373ab-167">Defines C and C++ versions of the image effects part of the Direct2D API for Windows 8 and later.</span></span>                            |
| <span data-ttu-id="373ab-168">d2d1effecthelpers. h</span><span class="sxs-lookup"><span data-stu-id="373ab-168">d2d1effecthelpers.h</span></span> | <span data-ttu-id="373ab-169">Definisce le funzioni, le classi e le strutture di Helper C++ della parte dell'API Direct2D per Windows 8 e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="373ab-169">Defines C++ helper functions, classes, and structures of the image effects part of the Direct2D API for Windows 8 and later.</span></span> |



 

<span data-ttu-id="373ab-170">Per usare Direct2D, l'applicazione deve includere il file di intestazione d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="373ab-170">To use Direct2D, your application should include the d2d1.h header file.</span></span>

<span data-ttu-id="373ab-171">Per compilare un'applicazione Direct2D, aggiungere d2d1. lib all'elenco di librerie.</span><span class="sxs-lookup"><span data-stu-id="373ab-171">To compile a Direct2D application, add d2d1.lib to the list of libraries.</span></span> <span data-ttu-id="373ab-172">È possibile trovare d2d1. h e d2d1. lib in [Windows Software Development Kit (SDK) per Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span><span class="sxs-lookup"><span data-stu-id="373ab-172">You can find d2d1.h and d2d1.lib in [Windows Software Development Kit (SDK) for Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span></span>

<span data-ttu-id="373ab-173">Le sezioni seguenti descrivono alcune delle interfacce comuni fornite dall'API Direct2D.</span><span class="sxs-lookup"><span data-stu-id="373ab-173">The following sections describe some of the common interfaces provided by the Direct2D API.</span></span>

## <a name="direct2d-interfaces"></a><span data-ttu-id="373ab-174">Interfacce Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-174">Direct2D Interfaces</span></span>

<span data-ttu-id="373ab-175">Alla radice dell'API Direct2D si trovano le interfacce [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) e [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) .</span><span class="sxs-lookup"><span data-stu-id="373ab-175">At the root of the Direct2D API are the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) and [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) interfaces.</span></span> <span data-ttu-id="373ab-176">Un oggetto **ID2D1Factory** crea oggetti **ID2D1Resource** e funge da punto di partenza per l'utilizzo di Direct2D.</span><span class="sxs-lookup"><span data-stu-id="373ab-176">An **ID2D1Factory** object creates **ID2D1Resource** objects and serves as the starting point for using Direct2D.</span></span> <span data-ttu-id="373ab-177">Tutti gli altri oggetti Direct2D ereditano dall'interfaccia **ID2D1Resource** .</span><span class="sxs-lookup"><span data-stu-id="373ab-177">All other Direct2D objects inherit from the **ID2D1Resource** interface.</span></span> <span data-ttu-id="373ab-178">Esistono due tipi di risorse Direct2D: risorse indipendenti dal dispositivo e risorse dipendenti dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="373ab-178">There are two types of Direct2D resources: device-independent resources and device-dependent resources.</span></span>

-   <span data-ttu-id="373ab-179">Le risorse indipendenti dal dispositivo non sono associate a un particolare dispositivo di rendering e possono essere mantenute per il ciclo di vita di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="373ab-179">Device-independent resources are not associated with a particular rendering device and can persist for the life of an application.</span></span>
-   <span data-ttu-id="373ab-180">Le risorse dipendenti dal dispositivo sono associate a un particolare dispositivo di rendering e smettono di funzionare se il dispositivo è stato rimosso.</span><span class="sxs-lookup"><span data-stu-id="373ab-180">Device-dependent resources are associated with a particular rendering device and cease to function if that device is removed.</span></span>

<span data-ttu-id="373ab-181">Per ulteriori informazioni sulle risorse e sulla condivisione delle risorse, vedere [Panoramica delle risorse](resources-and-resource-domains.md).</span><span class="sxs-lookup"><span data-stu-id="373ab-181">(For more information about resources and resource sharing, see the [Resources Overview](resources-and-resource-domains.md).)</span></span>

## <a name="the-id2d1factory-interface"></a><span data-ttu-id="373ab-182">Interfaccia ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="373ab-182">The ID2D1Factory Interface</span></span>

<span data-ttu-id="373ab-183">L'interfaccia [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) è il punto di partenza per l'utilizzo di Direct2D.</span><span class="sxs-lookup"><span data-stu-id="373ab-183">The [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) interface is the starting point for using Direct2D.</span></span> <span data-ttu-id="373ab-184">Usare un **ID2D1Factory** per creare un'istanza delle risorse Direct2D.</span><span class="sxs-lookup"><span data-stu-id="373ab-184">You use an **ID2D1Factory** to instantiate Direct2D resources.</span></span> <span data-ttu-id="373ab-185">Per creare un ID2D1Factory, usare uno dei metodi [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) .</span><span class="sxs-lookup"><span data-stu-id="373ab-185">To create an ID2D1Factory, you use one of the [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) methods.</span></span>

<span data-ttu-id="373ab-186">Una factory definisce un set di metodi Create *Resource* che possono produrre le seguenti risorse di disegno:</span><span class="sxs-lookup"><span data-stu-id="373ab-186">A factory defines a set of Create *Resource* methods that can produce the following drawing resources:</span></span>

-   <span data-ttu-id="373ab-187">Le destinazioni di rendering sono oggetti che eseguono il rendering di comandi di disegno.</span><span class="sxs-lookup"><span data-stu-id="373ab-187">Render targets are objects that render drawing commands.</span></span>
-   <span data-ttu-id="373ab-188">I blocchi di stato di disegno sono oggetti che archiviano le informazioni sullo stato di disegno, ad esempio la trasformazione corrente e la modalità di anti-aliasing.</span><span class="sxs-lookup"><span data-stu-id="373ab-188">Drawing state blocks are objects that store drawing state information, such as the current transformation and antialiasing mode.</span></span>
-   <span data-ttu-id="373ab-189">Le geometrie sono oggetti che rappresentano forme semplici e potenzialmente complesse.</span><span class="sxs-lookup"><span data-stu-id="373ab-189">Geometries are objects that represent simple and potentially complex shapes.</span></span>

<span data-ttu-id="373ab-190">Uno degli oggetti più utili che una factory può creare è [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), descritto nella sezione seguente.</span><span class="sxs-lookup"><span data-stu-id="373ab-190">One of the most useful objects a factory can create is the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), described in the following section.</span></span>

## <a name="render-targets"></a><span data-ttu-id="373ab-191">Destinazioni di rendering</span><span class="sxs-lookup"><span data-stu-id="373ab-191">Render Targets</span></span>

<span data-ttu-id="373ab-192">Una destinazione di rendering è una risorsa che eredita dall'interfaccia [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) .</span><span class="sxs-lookup"><span data-stu-id="373ab-192">A render target is a resource that inherits from the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) interface.</span></span> <span data-ttu-id="373ab-193">Una destinazione di rendering crea risorse per il disegno e l'esecuzione di operazioni di disegno.</span><span class="sxs-lookup"><span data-stu-id="373ab-193">A render target creates resources for drawing and performs drawing operations.</span></span> <span data-ttu-id="373ab-194">Esistono diversi tipi di destinazioni di rendering che è possibile utilizzare per eseguire il rendering della grafica nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="373ab-194">There are several kinds of render targets that can be used to render graphics in the following ways:</span></span>

-   <span data-ttu-id="373ab-195">Gli oggetti [**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) eseguono il rendering del contenuto in una finestra.</span><span class="sxs-lookup"><span data-stu-id="373ab-195">[**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) objects render content to a window.</span></span>
-   <span data-ttu-id="373ab-196">Gli oggetti [**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) eseguono il rendering in un contesto di dispositivo GDI.</span><span class="sxs-lookup"><span data-stu-id="373ab-196">[**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) objects render to a GDI device context.</span></span>
-   <span data-ttu-id="373ab-197">Gli oggetti di destinazione di rendering bitmap eseguono il rendering del contenuto in una bitmap fuori schermo.</span><span class="sxs-lookup"><span data-stu-id="373ab-197">Bitmap render target objects render content to an off-screen bitmap.</span></span>
-   <span data-ttu-id="373ab-198">DXGI rendering degli oggetti di destinazione rendering in una superficie DXGI per l'uso con Direct3D.</span><span class="sxs-lookup"><span data-stu-id="373ab-198">DXGI render target objects render to a DXGI surface for use with Direct3D.</span></span>

<span data-ttu-id="373ab-199">Poiché una destinazione di rendering è associata a un particolare dispositivo di rendering, si tratta di una risorsa dipendente dal dispositivo e smette di funzionare se il dispositivo viene rimosso.</span><span class="sxs-lookup"><span data-stu-id="373ab-199">Because a render target is associated with a particular rendering device, it is a device-dependent resource and ceases to function if the device is removed.</span></span>

### <a name="render-target-features"></a><span data-ttu-id="373ab-200">Funzionalità di destinazione di rendering</span><span class="sxs-lookup"><span data-stu-id="373ab-200">Render Target Features</span></span>

<span data-ttu-id="373ab-201">È possibile specificare se una destinazione di rendering deve utilizzare l'accelerazione hardware e se deve essere eseguito il rendering della visualizzazione remota dal computer locale o remoto.</span><span class="sxs-lookup"><span data-stu-id="373ab-201">You can specify whether a render target should use hardware acceleration and whether remote display should be rendered by the local or remote computer.</span></span> <span data-ttu-id="373ab-202">Le destinazioni di rendering possono essere impostate per il rendering con alias o con alias.</span><span class="sxs-lookup"><span data-stu-id="373ab-202">Render targets can be set up for aliased or antialiased rendering.</span></span> <span data-ttu-id="373ab-203">Per il rendering di scene con un numero elevato di primitive, uno sviluppatore può anche eseguire il rendering di grafica 2D in modalità con alias e utilizzare l'anti-aliasing di D3D multisample per ottenere una maggiore scalabilità.</span><span class="sxs-lookup"><span data-stu-id="373ab-203">For rendering scenes with a large number of primitives, a developer can also render 2-D graphics in aliased mode and use D3D multisample antialiasing to achieve greater scalability.</span></span>

<span data-ttu-id="373ab-204">Le destinazioni di rendering possono inoltre raggruppare le operazioni di disegno in livelli rappresentati dall'interfaccia [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) .</span><span class="sxs-lookup"><span data-stu-id="373ab-204">Render targets can also group drawing operations into layers that are represented by the [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) interface.</span></span> <span data-ttu-id="373ab-205">I livelli sono utili per raccogliere le operazioni di disegno da comporre insieme durante il rendering di un frame.</span><span class="sxs-lookup"><span data-stu-id="373ab-205">Layers are useful for collecting drawing operations to be composited together when rendering a frame.</span></span> <span data-ttu-id="373ab-206">Per alcuni scenari, può trattarsi di un'alternativa utile per eseguire il rendering in una destinazione di rendering bitmap e quindi riutilizzare il contenuto della bitmap, perché i costi di allocazione per i livelli sono inferiori rispetto a quelli di un [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span><span class="sxs-lookup"><span data-stu-id="373ab-206">For some scenarios, this can be a useful alternative to rendering to a bitmap render target, and then reusing the bitmap contents, as allocation costs for layering are lower than for an [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span></span>

<span data-ttu-id="373ab-207">Le destinazioni di rendering possono creare nuove destinazioni di rendering compatibili con se stesse, che risulta utile per il rendering intermedio all'esterno dello schermo, mantenendo al tempo stesso le varie proprietà di destinazione di rendering impostate nell'oggetto originale.</span><span class="sxs-lookup"><span data-stu-id="373ab-207">Render targets can create new render targets that are compatible with themselves, which is useful for intermediate off-screen rendering while retaining the various render-target properties that were set on the original.</span></span>

<span data-ttu-id="373ab-208">È anche possibile eseguire il rendering usando GDI in una destinazione di rendering Direct2D chiamando [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) in una destinazione di rendering per [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), che contiene metodi [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) e [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) che possono essere usati per recuperare un contesto di dispositivo GDI.</span><span class="sxs-lookup"><span data-stu-id="373ab-208">It is also possible to render using GDI on a Direct2D render target by calling [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) on a render target for [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), which has [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) and [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) methods on it that can be used to retrieve a GDI device context.</span></span> <span data-ttu-id="373ab-209">Il rendering tramite GDI è possibile solo se la destinazione di rendering è stata creata con il flag di [**utilizzo della destinazione di rendering d2d1 impostato su \_ \_ \_ \_ GDI \_**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) .</span><span class="sxs-lookup"><span data-stu-id="373ab-209">Rendering via GDI is possible only if the render target was created with the [**D2D1\_RENDER\_TARGET\_USAGE\_GDI\_COMPATIBLE**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) flag set.</span></span> <span data-ttu-id="373ab-210">Questa operazione è utile per le applicazioni che eseguono principalmente il rendering con Direct2D ma hanno un modello di estendibilità o altri contenuti legacy che richiedono la possibilità di eseguire il rendering con GDI.</span><span class="sxs-lookup"><span data-stu-id="373ab-210">This is useful for applications that primarily render with Direct2D but have an extensibility model or other legacy content that requires the ability to render with GDI.</span></span> <span data-ttu-id="373ab-211">Per ulteriori informazioni, vedere [Cenni preliminari sull'interoperabilità Direct2D e GDI](direct2d-and-gdi-interoperation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="373ab-211">For more information, see the [Direct2D and GDI Interoperability Overview](direct2d-and-gdi-interoperation-overview.md).</span></span>

### <a name="render-target-resources"></a><span data-ttu-id="373ab-212">Risorse di destinazione di rendering</span><span class="sxs-lookup"><span data-stu-id="373ab-212">Render Target Resources</span></span>

<span data-ttu-id="373ab-213">Analogamente a una factory, una destinazione di rendering può creare risorse di disegno.</span><span class="sxs-lookup"><span data-stu-id="373ab-213">Like a factory, a render target can create drawing resources.</span></span> <span data-ttu-id="373ab-214">Tutte le risorse create da una destinazione di rendering sono risorse dipendenti dal dispositivo, proprio come la destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="373ab-214">Any resources created by a render target are device-dependent resources (just like the render target).</span></span> <span data-ttu-id="373ab-215">Una destinazione di rendering può creare i tipi di risorse seguenti:</span><span class="sxs-lookup"><span data-stu-id="373ab-215">A render target can create the following types of resources:</span></span>

-   <span data-ttu-id="373ab-216">Bitmap</span><span class="sxs-lookup"><span data-stu-id="373ab-216">Bitmaps</span></span>
-   <span data-ttu-id="373ab-217">Pennelli</span><span class="sxs-lookup"><span data-stu-id="373ab-217">Brushes</span></span>
-   <span data-ttu-id="373ab-218">Livelli</span><span class="sxs-lookup"><span data-stu-id="373ab-218">Layers</span></span>
-   <span data-ttu-id="373ab-219">Mesh</span><span class="sxs-lookup"><span data-stu-id="373ab-219">Meshes</span></span>

### <a name="drawing-commands"></a><span data-ttu-id="373ab-220">Disegno di comandi</span><span class="sxs-lookup"><span data-stu-id="373ab-220">Drawing Commands</span></span>

<span data-ttu-id="373ab-221">Per eseguire il rendering del contenuto, usare i metodi di disegno della destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="373ab-221">To render content, you use the render target drawing methods.</span></span> <span data-ttu-id="373ab-222">Prima di iniziare a disegnare, chiamare il metodo [**ID2D1RenderTarget:: BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) .</span><span class="sxs-lookup"><span data-stu-id="373ab-222">Before you begin drawing, you call the [**ID2D1RenderTarget::BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) method.</span></span> <span data-ttu-id="373ab-223">Al termine del disegno, chiamare il metodo [**ID2D1RenderTarget:: EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) .</span><span class="sxs-lookup"><span data-stu-id="373ab-223">After you finished drawing, you call the [**ID2D1RenderTarget::EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method.</span></span> <span data-ttu-id="373ab-224">Tra queste chiamate, si usano i metodi Draw e Fill per eseguire il rendering delle risorse di disegno.</span><span class="sxs-lookup"><span data-stu-id="373ab-224">In between these calls, you use Draw and Fill methods to render drawing resources.</span></span> <span data-ttu-id="373ab-225">La maggior parte dei metodi di disegno e riempimento accetta una forma, ovvero una primitiva o una geometria, e un pennello per riempire o delineare la forma.</span><span class="sxs-lookup"><span data-stu-id="373ab-225">Most Draw and Fill methods take a shape (either a primitive or a geometry) and a brush for filling or outlining the shape.</span></span>

<span data-ttu-id="373ab-226">Le destinazioni di rendering forniscono anche metodi per il ritaglio, l'applicazione di maschere di opacità e la trasformazione dello spazio delle coordinate.</span><span class="sxs-lookup"><span data-stu-id="373ab-226">Render targets also provide methods for clipping, applying opacity masks, and transforming the coordinate space.</span></span>

<span data-ttu-id="373ab-227">Direct2D usa un sistema di coordinate a sinistra: i valori positivi dell'asse x procedono verso destra e i valori positivi dell'asse y procedono verso il basso.</span><span class="sxs-lookup"><span data-stu-id="373ab-227">Direct2D uses a left-handed coordinate system: positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span>

### <a name="error-handling"></a><span data-ttu-id="373ab-228">Gestione degli errori</span><span class="sxs-lookup"><span data-stu-id="373ab-228">Error Handling</span></span>

<span data-ttu-id="373ab-229">I comandi di disegno della destinazione di rendering non indicano se l'operazione richiesta è stata eseguita correttamente.</span><span class="sxs-lookup"><span data-stu-id="373ab-229">Render target drawing commands do not indicate whether the requested operation was successful.</span></span> <span data-ttu-id="373ab-230">Per determinare se sono stati creati errori di disegno, chiamare il metodo [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) della destinazione di rendering o il metodo [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) per ottenere un valore **HRESULT**.</span><span class="sxs-lookup"><span data-stu-id="373ab-230">To find out whether there were drawing errors, call the render target [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) method or [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method to obtain an **HRESULT**.</span></span>

## <a name="drawing-resources"></a><span data-ttu-id="373ab-231">Creazione di risorse</span><span class="sxs-lookup"><span data-stu-id="373ab-231">Drawing Resources</span></span>

<span data-ttu-id="373ab-232">Le sezioni seguenti descrivono alcune risorse che possono essere create dalla destinazione di rendering e dalle interfacce Factory.</span><span class="sxs-lookup"><span data-stu-id="373ab-232">The following sections describe some of the resources that can be created by the render target and factory interfaces.</span></span>

### <a name="brushes"></a><span data-ttu-id="373ab-233">Pennelli</span><span class="sxs-lookup"><span data-stu-id="373ab-233">Brushes</span></span>

<span data-ttu-id="373ab-234">Un pennello, rappresentato dall'interfaccia [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) , è una risorsa dipendente dal dispositivo, creata da una destinazione di rendering, che disegna un'area con l'output.</span><span class="sxs-lookup"><span data-stu-id="373ab-234">A brush, represented by the [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) interface, is a device-dependent resource, created by a render target, that paints an area with its output.</span></span> <span data-ttu-id="373ab-235">Pennelli diversi hanno diversi tipi di output.</span><span class="sxs-lookup"><span data-stu-id="373ab-235">Different brushes have different types of output.</span></span> <span data-ttu-id="373ab-236">Alcuni pennelli disegnano un'area con un colore a tinta unita, altri con una sfumatura o un'immagine.</span><span class="sxs-lookup"><span data-stu-id="373ab-236">Some brushes paint an area with a solid color, others with a gradient or an image.</span></span> <span data-ttu-id="373ab-237">Direct2D fornisce quattro tipi di pennelli:</span><span class="sxs-lookup"><span data-stu-id="373ab-237">Direct2D provides four types of brushes:</span></span>

-   <span data-ttu-id="373ab-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) disegna un'area con un colore a tinta unita.</span><span class="sxs-lookup"><span data-stu-id="373ab-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) paints an area with a solid color.</span></span>
-   <span data-ttu-id="373ab-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) disegna un'area con una sfumatura lineare che combina due o più colori su una riga, l'asse delle sfumature.</span><span class="sxs-lookup"><span data-stu-id="373ab-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) paints an area with a linear gradient that blends two or more colors across a line, the gradient axis.</span></span>
-   <span data-ttu-id="373ab-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) disegna un'area con una sfumatura radiale che combina due o più colori intorno a un'ellisse.</span><span class="sxs-lookup"><span data-stu-id="373ab-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) paints an area with a radial gradient that blends two or more colors around an ellipse.</span></span>
-   <span data-ttu-id="373ab-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) disegna un'area con una bitmap.</span><span class="sxs-lookup"><span data-stu-id="373ab-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) paints an area with a bitmap.</span></span>

<span data-ttu-id="373ab-242">Per creare un pennello, usare uno dei metodi pennello [**ID2D1RenderTarget::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)create *<Type>* , ad esempio [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span><span class="sxs-lookup"><span data-stu-id="373ab-242">To create a brush, you use one of the [**ID2D1RenderTarget::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)Create *<Type>* Brush methods, such as [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span></span> <span data-ttu-id="373ab-243">I pennelli possono essere utilizzati con i metodi di disegno e riempimento della destinazione di rendering, per disegnare un tratto o un contorno di forme oppure come maschera di opacità.</span><span class="sxs-lookup"><span data-stu-id="373ab-243">Brushes can be used with a render target Draw and Fill methods, either to paint a shape stroke or outline, or as an opacity mask.</span></span>

<span data-ttu-id="373ab-244">Per ulteriori informazioni sui pennelli, vedere [Cenni preliminari sui pennelli](direct2d-brushes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="373ab-244">For more information about brushes, see the [Brushes Overview](direct2d-brushes-overview.md).</span></span>

### <a name="geometries"></a><span data-ttu-id="373ab-245">Geometrie</span><span class="sxs-lookup"><span data-stu-id="373ab-245">Geometries</span></span>

<span data-ttu-id="373ab-246">Oltre alle primitive di disegno di base, ad esempio punti, rettangoli ed ellissi, Direct2D fornisce l'interfaccia [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) per la descrizione di forme semplici e complesse.</span><span class="sxs-lookup"><span data-stu-id="373ab-246">In addition to basic drawing primitives such as points, rectangles, and ellipses, Direct2D provides the [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) interface for describing simple and complex shapes.</span></span> <span data-ttu-id="373ab-247">Le interfacce che ereditano da **ID2D1Geometry** definiscono tipi diversi di forme, ad esempio [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) per la rappresentazione di rettangoli, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) per la rappresentazione di rettangoli arrotondati e [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) per la rappresentazione di ellissi.</span><span class="sxs-lookup"><span data-stu-id="373ab-247">Interfaces that inherit from **ID2D1Geometry** define different types of shapes, such as [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) for representing rectangles, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) for representing rounded rectangles, and [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) for representing ellipses.</span></span>

<span data-ttu-id="373ab-248">È possibile creare forme più complesse usando l'interfaccia [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) per specificare una serie di figure composte da linee, curve e archi.</span><span class="sxs-lookup"><span data-stu-id="373ab-248">More complex shapes can be created by using the [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) interface to specify a series of figures composed of lines, curves, and arcs.</span></span> <span data-ttu-id="373ab-249">**ID2D1GeometrySink** viene passato al metodo Open di un [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) per generare una geometria complessa.</span><span class="sxs-lookup"><span data-stu-id="373ab-249">The **ID2D1GeometrySink** is passed to the Open method of an [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) to generate a complex geometry.</span></span> <span data-ttu-id="373ab-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) può essere usato anche con l'API DirectWrite per estrarre le strutture del percorso del testo formattato per il rendering artistico.</span><span class="sxs-lookup"><span data-stu-id="373ab-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) can also be used with the DirectWrite API to extract path outlines of formatted text for artistic rendering.</span></span>

<span data-ttu-id="373ab-251">Le interfacce di geometria forniscono metodi per modificare le forme ampliando o semplificando le geometrie esistenti oppure generando l'intersezione o l'Unione di più geometrie.</span><span class="sxs-lookup"><span data-stu-id="373ab-251">The geometry interfaces provide methods for manipulating shapes by widening or simplifying existing geometries, or by generating the intersection or union of multiple geometries.</span></span> <span data-ttu-id="373ab-252">Forniscono anche metodi per determinare se le geometrie sono intersecate o sovrapposte, il recupero di informazioni sui limiti, il calcolo dell'area o della lunghezza di una geometria e l'interpolazione di posizioni lungo una geometria.</span><span class="sxs-lookup"><span data-stu-id="373ab-252">They also provide methods for determining whether geometries are intersecting or overlapping, retrieving bounds information, computing the area or length of a geometry, and interpolating locations along a geometry.</span></span> <span data-ttu-id="373ab-253">Direct2D offre inoltre la possibilità di creare una mesh di triangoli tassellati da una geometria.</span><span class="sxs-lookup"><span data-stu-id="373ab-253">Direct2D also provides the ability to create a mesh of triangles that is tessellated from a geometry.</span></span>

<span data-ttu-id="373ab-254">Per creare una geometria, usare uno dei metodi geometry [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory):: Create *<Type>* , ad esempio [**CreatePathGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span><span class="sxs-lookup"><span data-stu-id="373ab-254">To create a geometry, you use one of the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)::Create *<Type>* Geometry methods, such as [**CreatePathGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span></span> <span data-ttu-id="373ab-255">Una geometria è una risorsa indipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="373ab-255">A geometry is a device-independent resource.</span></span>

<span data-ttu-id="373ab-256">Per eseguire il rendering di una geometria, usare i metodi [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) e [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) di una destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="373ab-256">To render a geometry, you use the [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) and [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) methods of a render target.</span></span>

<span data-ttu-id="373ab-257">Per altre informazioni sulle geometrie, vedere [Cenni preliminari sulle geometrie](direct2d-geometries-overview.md).</span><span class="sxs-lookup"><span data-stu-id="373ab-257">For more information about geometries, see the [Geometries Overview](direct2d-geometries-overview.md).</span></span>

### <a name="bitmaps"></a><span data-ttu-id="373ab-258">Bitmap</span><span class="sxs-lookup"><span data-stu-id="373ab-258">Bitmaps</span></span>

<span data-ttu-id="373ab-259">Direct2D non fornisce metodi per il caricamento o l'archiviazione di bitmap; consente invece di creare bitmap utilizzando [Windows Imaging Component (WIC)](../wic/-wic-about-windows-imaging-codec.md).</span><span class="sxs-lookup"><span data-stu-id="373ab-259">Direct2D does not provide methods for loading or storing bitmaps; rather, it enables you to create bitmaps using the [Windows Imaging Component (WIC)](../wic/-wic-about-windows-imaging-codec.md).</span></span> <span data-ttu-id="373ab-260">Le risorse bitmap possono essere caricate tramite WIC e quindi usate per creare un [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) tramite il metodo [**ID2D1RenderTarget:: CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) .</span><span class="sxs-lookup"><span data-stu-id="373ab-260">Bitmap resources can be loaded using WIC and then used to create an [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) through the [**ID2D1RenderTarget::CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) method.</span></span>

<span data-ttu-id="373ab-261">È anche possibile creare bitmap da dati in memoria impostati con altri mezzi.</span><span class="sxs-lookup"><span data-stu-id="373ab-261">Bitmaps can also be created from in-memory data that was set up through other means.</span></span> <span data-ttu-id="373ab-262">Dopo la creazione di una bitmap, è possibile disegnarla tramite il metodo [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) della destinazione di rendering o con un pennello bitmap.</span><span class="sxs-lookup"><span data-stu-id="373ab-262">After a bitmap has been created, it can be drawn by the render target [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) method or with a bitmap brush.</span></span>

<span data-ttu-id="373ab-263">Poiché la creazione di risorse bitmap su destinazioni di rendering hardware è spesso un'operazione costosa, Direct2D può aggiornare il contenuto di una bitmap (o parte della bitmap) utilizzando i metodi [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget)e [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) .</span><span class="sxs-lookup"><span data-stu-id="373ab-263">Because creating bitmap resources on hardware render targets is often an expensive operation, Direct2D can update the contents of a bitmap (or portion of the bitmap) by using the [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget), and [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) methods.</span></span> <span data-ttu-id="373ab-264">L'uso di questi metodi può potenzialmente salvare i costi associati ad altre allocazioni di trame della GPU.</span><span class="sxs-lookup"><span data-stu-id="373ab-264">Using these methods can potentially save the costs associated with additional GPU texture allocations.</span></span>

## <a name="drawing-text"></a><span data-ttu-id="373ab-265">Disegno di testo</span><span class="sxs-lookup"><span data-stu-id="373ab-265">Drawing Text</span></span>

<span data-ttu-id="373ab-266">Direct2D è stato progettato per funzionare con le operazioni di testo della nuova API di testo, DirectWrite.</span><span class="sxs-lookup"><span data-stu-id="373ab-266">Direct2D was designed to work with the text operations of the new text API, DirectWrite.</span></span> <span data-ttu-id="373ab-267">Per rendere più semplice l'utilizzo dell'API DirectWrite, le destinazioni di rendering forniscono tre metodi per il rendering di risorse di testo DirectWrite: [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout)e [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span><span class="sxs-lookup"><span data-stu-id="373ab-267">To make using the DirectWrite API simpler, render targets provide three methods for rendering DirectWrite text resources: [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout), and [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span></span> <span data-ttu-id="373ab-268">Poiché Direct2D utilizza la GPU per il processo di rendering del testo ClearType, Direct2D fornisce un utilizzo della CPU inferiore rispetto a GDI per le operazioni di testo e una migliore scalabilità, perché è disponibile una maggiore potenza di elaborazione della GPU.</span><span class="sxs-lookup"><span data-stu-id="373ab-268">Because Direct2D uses the GPU for the ClearType text rendering process, Direct2D provides lower CPU usage than GDI for text operations and better scalability as more GPU processing power is available.</span></span>

<span data-ttu-id="373ab-269">[**ID2D1RenderTarget::D rawtext**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) è progettato per gli scenari più semplici che coinvolgono il rendering di una stringa di testo Unicode con formattazione minima.</span><span class="sxs-lookup"><span data-stu-id="373ab-269">The [**ID2D1RenderTarget::DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) is designed for the simplest scenarios involving rendering a string of Unicode text with minimal formatting.</span></span> <span data-ttu-id="373ab-270">Il layout più complesso e la flessibilità tipografica vengono forniti tramite il metodo [**ID2D1RenderTarget::D rawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) , che usa un oggetto [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) per specificare il contenuto e la formattazione di cui eseguire il rendering.</span><span class="sxs-lookup"><span data-stu-id="373ab-270">More complex layout and typographic flexibility is provided through the [**ID2D1RenderTarget::DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) method, which uses an [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) object to specify the content and formatting to be rendered.</span></span> <span data-ttu-id="373ab-271">**IDWriteTextLayout** consente di specificare la formattazione singola per sottostringhe di testo e altre opzioni tipografiche avanzate.</span><span class="sxs-lookup"><span data-stu-id="373ab-271">**IDWriteTextLayout** enables you to specify individual formatting for substrings of text and other advanced typography options.</span></span>

<span data-ttu-id="373ab-272">Per gli scenari in cui è necessario un controllo preciso del layout a livello di glifo, è possibile usare il metodo [**ID2D1RenderTarget::D rawglyphrun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) insieme alle funzionalità di misurazione fornite da [DirectWrite](../directwrite/direct-write-portal.md).</span><span class="sxs-lookup"><span data-stu-id="373ab-272">For scenarios where precise control of glyph-level layout is required, the [**ID2D1RenderTarget::DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) method can be used in conjunction with the measurement facilities provided by [DirectWrite](../directwrite/direct-write-portal.md).</span></span>

<span data-ttu-id="373ab-273">Per usare l'API DirectWrite, includere l'intestazione DWrite. h.</span><span class="sxs-lookup"><span data-stu-id="373ab-273">To use the DirectWrite API, include the dwrite.h header.</span></span> <span data-ttu-id="373ab-274">Come Direct2D, DirectWrite usa una factory [**IDWriteFactory archiviata nei**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) per creare oggetti di testo.</span><span class="sxs-lookup"><span data-stu-id="373ab-274">Like Direct2D, DirectWrite uses a factory, [**IDWriteFactory**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) to create text objects.</span></span> <span data-ttu-id="373ab-275">Usare la funzione [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) per creare una factory e quindi usare i metodi create per creare risorse DirectWrite, ad esempio [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span><span class="sxs-lookup"><span data-stu-id="373ab-275">Use the [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) function to create a factory, and then use its Create methods to create DirectWrite resources (such as [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))).</span></span>

<span data-ttu-id="373ab-276">Per ulteriori informazioni su DirectWrite, vedere l'argomento [Introducing DirectWrite](../directwrite/introducing-directwrite.md) .</span><span class="sxs-lookup"><span data-stu-id="373ab-276">For more information about DirectWrite, see the [Introducing DirectWrite](../directwrite/introducing-directwrite.md) topic.</span></span>

## <a name="direct2d-primitives"></a><span data-ttu-id="373ab-277">Primitive Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-277">Direct2D Primitives</span></span>

<span data-ttu-id="373ab-278">Direct2D definisce un set di primitive simili a quelle fornite da altre API di disegno.</span><span class="sxs-lookup"><span data-stu-id="373ab-278">Direct2D defines a set of primitives that are similar to those provided by other drawing APIs.</span></span> <span data-ttu-id="373ab-279">Fornisce una struttura dei colori, una struttura della matrice per l'esecuzione di trasformazioni e versioni a virgola mobile e Integer di punti, rettangoli, ellissi e strutture di dimensioni.</span><span class="sxs-lookup"><span data-stu-id="373ab-279">It provides a color structure, a matrix structure for performing transformations, and floating-point and integer versions of points, rectangles, ellipses, and size structures.</span></span> <span data-ttu-id="373ab-280">In genere, si usano le versioni a virgola mobile di queste strutture.</span><span class="sxs-lookup"><span data-stu-id="373ab-280">Usually, you use the floating-point versions of these structures.</span></span>

<span data-ttu-id="373ab-281">Non si usa una factory o una destinazione di rendering per creare un'istanza di primitive Direct2D.</span><span class="sxs-lookup"><span data-stu-id="373ab-281">You do not use a factory or a render target to instantiate Direct2D primitives.</span></span> <span data-ttu-id="373ab-282">È possibile crearli direttamente o usare i metodi helper definiti in d2d1helper. h per crearli.</span><span class="sxs-lookup"><span data-stu-id="373ab-282">You can create them directly, or use the helper methods defined in d2d1helper.h to create them.</span></span>

## <a name="related-topics"></a><span data-ttu-id="373ab-283">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="373ab-283">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="373ab-284">Riferimento Direct2D</span><span class="sxs-lookup"><span data-stu-id="373ab-284">Direct2D Reference</span></span>](reference.md)
</dt> <dt>

[<span data-ttu-id="373ab-285">Esempio di Hello World DirectWrite</span><span class="sxs-lookup"><span data-stu-id="373ab-285">DirectWrite Hello World Sample</span></span>](/samples/browse/?redirectedfrom=MSDN-samples)
</dt> <dt>

[<span data-ttu-id="373ab-286">Introduzione a DirectWrite</span><span class="sxs-lookup"><span data-stu-id="373ab-286">Introducing DirectWrite</span></span>](../directwrite/introducing-directwrite.md)
</dt> <dt>

[<span data-ttu-id="373ab-287">Panoramica delle risorse</span><span class="sxs-lookup"><span data-stu-id="373ab-287">Resources Overview</span></span>](resources-and-resource-domains.md)
</dt> <dt>

[<span data-ttu-id="373ab-288">Windows Imaging Component (WIC)</span><span class="sxs-lookup"><span data-stu-id="373ab-288">Windows Imaging Component (WIC)</span></span>](../wic/-wic-about-windows-imaging-codec.md)
</dt> </dl>

 

 