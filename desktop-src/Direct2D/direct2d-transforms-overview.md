---
title: Cenni preliminari sulle trasformazioni
description: Introduce l'API di trasformazione Microsoft Direct2D per Windows 7. Direct2D consente agli sviluppatori Win32 di eseguire trasformazioni grafiche 2D.
ms.assetid: eea8177d-c19e-4972-a9a6-ad5d541b090f
keywords:
- Direct2D, panoramica delle trasformazioni
- Direct2D, sistemi di coordinate
- Direct2D, destinazioni di rendering
- Trasformazioni Direct2D,2D
- Trasformazioni 2D
- trasformazioni,informazioni
- trasformazioni, destinazioni di rendering
- trasformazioni,oggetti
- destinazioni di rendering, trasformazioni
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0b924c51d73e71f206fbb250f4a7dd50ca71db2a
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/27/2021
ms.locfileid: "110549146"
---
# <a name="transforms-overview"></a><span data-ttu-id="acf01-113">Cenni preliminari sulle trasformazioni</span><span class="sxs-lookup"><span data-stu-id="acf01-113">Transforms Overview</span></span>

<span data-ttu-id="acf01-114">Questo argomento illustra le nozioni di base delle trasformazioni Direct2D e include esempi di varie trasformazioni.</span><span class="sxs-lookup"><span data-stu-id="acf01-114">This topic discusses the basics of Direct2D transforms and includes examples of various transforms.</span></span> <span data-ttu-id="acf01-115">Contiene le parti seguenti:</span><span class="sxs-lookup"><span data-stu-id="acf01-115">It contains the following parts:</span></span>

-   [<span data-ttu-id="acf01-116">Che cos'è una trasformazione Direct2D?</span><span class="sxs-lookup"><span data-stu-id="acf01-116">What Is a Direct2D Transform?</span></span>](#what-is-a-direct2d-transform)
-   [<span data-ttu-id="acf01-117">Spazio delle coordinate Direct2D</span><span class="sxs-lookup"><span data-stu-id="acf01-117">The Direct2D Coordinate Space</span></span>](#the-direct2d-coordinate-space)
-   [<span data-ttu-id="acf01-118">Creazione di matrici di trasformazione</span><span class="sxs-lookup"><span data-stu-id="acf01-118">Creating Transformation Matrices</span></span>](#creating-transformation-matrices)
-   [<span data-ttu-id="acf01-119">Rendering delle trasformazioni di destinazione</span><span class="sxs-lookup"><span data-stu-id="acf01-119">Rendering Target Transforms</span></span>](#rendering-target-transforms)
-   [<span data-ttu-id="acf01-120">Trasformazioni dei pennelli</span><span class="sxs-lookup"><span data-stu-id="acf01-120">Brush Transforms</span></span>](#brush-transforms)
-   [<span data-ttu-id="acf01-121">Trasformazioni geometry</span><span class="sxs-lookup"><span data-stu-id="acf01-121">Geometry Transforms</span></span>](#geometry-transforms)
-   [<span data-ttu-id="acf01-122">Effetto di una trasformazione destinazione di rendering sulle clip</span><span class="sxs-lookup"><span data-stu-id="acf01-122">How a Render Target Transform Affects Clips</span></span>](#how-a-render-target-transform-affects-clips)
-   [<span data-ttu-id="acf01-123">Summary</span><span class="sxs-lookup"><span data-stu-id="acf01-123">Summary</span></span>](#summary)
-   [<span data-ttu-id="acf01-124">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="acf01-124">Related topics</span></span>](#related-topics)

## <a name="what-is-a-direct2d-transform"></a><span data-ttu-id="acf01-125">Che cos'è una trasformazione Direct2D?</span><span class="sxs-lookup"><span data-stu-id="acf01-125">What Is a Direct2D Transform?</span></span>

<span data-ttu-id="acf01-126">Una trasformazione specifica come eseguire il mapping dei punti di un oggetto da uno spazio delle coordinate a un altro o da una posizione a un'altra all'interno dello stesso spazio delle coordinate.</span><span class="sxs-lookup"><span data-stu-id="acf01-126">A transform specifies how to map the points of an object from one coordinate space to another or from one position to another within the same coordinate space.</span></span> <span data-ttu-id="acf01-127">Questo mapping è descritto da una matrice di trasformazione, definita come raccolta di tre righe con tre colonne di valori FLOAT, come illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="acf01-127">This mapping is described by a transformation matrix, defined as a collection of three rows with three columns of FLOAT values as shown in the following table.</span></span>



|    &nbsp;       |       &nbsp;    |  &nbsp; |
|-----------------|-----------------|-----|
| <span data-ttu-id="acf01-128">M11Default: 1.0</span><span class="sxs-lookup"><span data-stu-id="acf01-128">M11Default: 1.0</span></span> | <span data-ttu-id="acf01-129">M12Default: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-129">M12Default: 0.0</span></span> | <span data-ttu-id="acf01-130">0,0</span><span class="sxs-lookup"><span data-stu-id="acf01-130">0.0</span></span> |
| <span data-ttu-id="acf01-131">M21Default: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-131">M21Default: 0.0</span></span> | <span data-ttu-id="acf01-132">M22Default: 1.0</span><span class="sxs-lookup"><span data-stu-id="acf01-132">M22Default: 1.0</span></span> | <span data-ttu-id="acf01-133">0,0</span><span class="sxs-lookup"><span data-stu-id="acf01-133">0.0</span></span> |
| <span data-ttu-id="acf01-134">M31OffsetX: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-134">M31OffsetX: 0.0</span></span> | <span data-ttu-id="acf01-135">M32OffsetY: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-135">M32OffsetY: 0.0</span></span> | <span data-ttu-id="acf01-136">1.0</span><span class="sxs-lookup"><span data-stu-id="acf01-136">1.0</span></span> |



 

<span data-ttu-id="acf01-137">In questa matrice i membri M11, M12, M21 e M22 definiscono una trasformazione lineare che può ridimensionare, ruotare o inclinare un oggetto; I membri OffsetX e OffsetY definiscono la traslazione da applicare dopo l'applicazione della trasformazione lineare.</span><span class="sxs-lookup"><span data-stu-id="acf01-137">In this matrix, the M11, M12, M21, and M22 members define a linear transformation that can scale, rotate, or skew an object; the OffsetX and OffsetY members define the translation to be applied after the linear transformation has been made.</span></span> <span data-ttu-id="acf01-138">Per le trasformazioni affine, i valori nella terza colonna sono sempre 0.0, 0.0 e 1.0.</span><span class="sxs-lookup"><span data-stu-id="acf01-138">For affine transformations, the values in the third column are always 0.0, 0.0, and 1.0.</span></span>

<span data-ttu-id="acf01-139">Poiché Direct2D supporta solo trasformazioni affine (lineari), la relativa matrice di trasformazione è definita come matrice 3 per 2, omettendo la terza colonna dalla matrice di trasformazione precedente.</span><span class="sxs-lookup"><span data-stu-id="acf01-139">Because Direct2D supports only affine (linear) transformations, its transformation matrix is defined as a 3-by-2 matrix, omitting the third column from the previous transformation matrix.</span></span> <span data-ttu-id="acf01-140">La tabella seguente illustra il layout della matrice di trasformazione Direct2D.</span><span class="sxs-lookup"><span data-stu-id="acf01-140">The following table shows the layout of the Direct2D transformation matrix.</span></span>



|    &nbsp;       |       &nbsp;    | 
|-----------------|-----------------|
| <span data-ttu-id="acf01-141">M11Default: 1.0</span><span class="sxs-lookup"><span data-stu-id="acf01-141">M11Default: 1.0</span></span> | <span data-ttu-id="acf01-142">M12Default: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-142">M12Default: 0.0</span></span> |
| <span data-ttu-id="acf01-143">M21Default: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-143">M21Default: 0.0</span></span> | <span data-ttu-id="acf01-144">M22Default: 1.0</span><span class="sxs-lookup"><span data-stu-id="acf01-144">M22Default: 1.0</span></span> |
| <span data-ttu-id="acf01-145">M31OffsetX: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-145">M31OffsetX: 0.0</span></span> | <span data-ttu-id="acf01-146">M32OffsetY: 0.0</span><span class="sxs-lookup"><span data-stu-id="acf01-146">M32OffsetY: 0.0</span></span> |



 

<span data-ttu-id="acf01-147">In Direct2D questa matrice 3 per 2 è rappresentata dalla [**struttura D2D1 \_ MATRIX \_ 3X2.**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f)</span><span class="sxs-lookup"><span data-stu-id="acf01-147">In Direct2D, this 3-by-2 matrix is represented by the [**D2D1\_MATRIX\_3X2**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f) structure.</span></span> <span data-ttu-id="acf01-148">Per semplificare le operazioni comuni della matrice, Direct2D fornisce anche una classe denominata [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f), derivata dalla struttura **D2D1 \_ MATRIX \_ 3X2.**</span><span class="sxs-lookup"><span data-stu-id="acf01-148">To simplify common matrix operations, Direct2D also provides a class named [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f), which is derived from the **D2D1\_MATRIX\_3X2** structure.</span></span>

<span data-ttu-id="acf01-149">Il costruttore predefinito per [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f) lascia l'oggetto non inizializzato.</span><span class="sxs-lookup"><span data-stu-id="acf01-149">The default constructor for [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f) leaves the object uninitialized.</span></span> <span data-ttu-id="acf01-150">Per recuperare una matrice di identità, [**usare Matrix3x2F::Identity**](/windows/desktop/api/d2d1helper/nf-d2d1helper-identitymatrix).</span><span class="sxs-lookup"><span data-stu-id="acf01-150">To retrieve an identity matrix, use [**Matrix3x2F::Identity**](/windows/desktop/api/d2d1helper/nf-d2d1helper-identitymatrix).</span></span>

<span data-ttu-id="acf01-151">Quando una trasformazione di identità viene applicata a un oggetto, non modifica la posizione, la forma o le dimensioni dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="acf01-151">When an identity transform is applied to an object, it does not change the position, shape, or size of the object.</span></span> <span data-ttu-id="acf01-152">È simile al modo in cui la moltiplicazione di un numero per 1 non modifica il numero.</span><span class="sxs-lookup"><span data-stu-id="acf01-152">It is similar to the way that multiplying a number by 1 does not change the number.</span></span> <span data-ttu-id="acf01-153">In altre parole, la trasformazione dell'identità lascia sole le coordinate dei punti e non sposta i punti in una nuova posizione.</span><span class="sxs-lookup"><span data-stu-id="acf01-153">In other words, the identity transform leaves the coordinates of points alone and does not shift the points to a new position.</span></span> <span data-ttu-id="acf01-154">Qualsiasi trasformazione diversa dalla trasformazione identity modificherà la posizione, la forma e/o le dimensioni degli oggetti.</span><span class="sxs-lookup"><span data-stu-id="acf01-154">Any transform other than the identity transform will modify the position, shape, and/or size of objects.</span></span>

<span data-ttu-id="acf01-155">Le trasformazioni riguardano tutte le coordinate e comprendere lo spazio delle coordinate Direct2D è importante per comprendere l'uso delle trasformazioni.</span><span class="sxs-lookup"><span data-stu-id="acf01-155">Transforms are all about coordinates, and understanding the Direct2D coordinate space is important for understanding the use of transformations.</span></span>

## <a name="the-direct2d-coordinate-space"></a><span data-ttu-id="acf01-156">Spazio delle coordinate Direct2D</span><span class="sxs-lookup"><span data-stu-id="acf01-156">The Direct2D Coordinate Space</span></span>

<span data-ttu-id="acf01-157">Direct2D usa uno spazio delle coordinate a sinistra; in altri, i valori positivi dell'asse X aumentano verso destra e i valori positivi dell'asse y aumentano verso il basso.</span><span class="sxs-lookup"><span data-stu-id="acf01-157">Direct2D uses a left-handed coordinate space; that is, positive x-axis values increase to the right and positive y-axis values increase downward.</span></span> <span data-ttu-id="acf01-158">Tutti gli elementi sullo schermo vengono posizionati rispetto all'origine, ovvero il punto in cui si intersecano l'asse x e l'asse y (0, 0), come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="acf01-158">Everything on the screen is positioned relative to the origin, which is the point where the x-axis and y-axis intersect (0, 0), as shown in the following illustration.</span></span> <span data-ttu-id="acf01-159">Le destinazioni di rendering Direct2D usano questo spazio delle coordinate.</span><span class="sxs-lookup"><span data-stu-id="acf01-159">Direct2D render targets use this coordinate space.</span></span>

![illustrazione dell'asse x e dell'asse y di uno spazio delle coordinate mancino](images/coordinatespace.png)

<span data-ttu-id="acf01-161">Modificando i valori in una matrice di trasformazione, è possibile ruotare, ridimensionare, inclinare e spostare (traslare) un oggetto.</span><span class="sxs-lookup"><span data-stu-id="acf01-161">By manipulating values in a transformation matrix, you can rotate, scale, skew, and move (translate) an object.</span></span> <span data-ttu-id="acf01-162">Ad esempio, se si imposta OffsetX su 100 e OffsetY su 200, si sposta l'oggetto a destra di 100 pixel e verso il basso di 200 pixel.</span><span class="sxs-lookup"><span data-stu-id="acf01-162">For example, if you set OffsetX to 100 and OffsetY to 200, you move the object to the right 100 pixels and down 200 pixels.</span></span>

<span data-ttu-id="acf01-163">Per mostrare l'effetto dello spostamento dell'oggetto, è necessario applicare la trasformazione traduzione per eseguire il rendering di destinazioni, pennelli o geometrie.</span><span class="sxs-lookup"><span data-stu-id="acf01-163">To show the effect of the object move, you need to apply the translation transformation to render targets, brushes, or geometries.</span></span> <span data-ttu-id="acf01-164">L'applicazione di una trasformazione alle destinazioni di rendering influisce sull'intero schermo, mentre l'applicazione di una trasformazione a un pennello o a una geometria influisce solo su quel pennello o geometria specifico.</span><span class="sxs-lookup"><span data-stu-id="acf01-164">Applying a transform to render targets affects the entire screen, while applying a transform to a brush or a geometry only affects that specific brush or geometry.</span></span> <span data-ttu-id="acf01-165">Per creare una matrice di trasformazione, usare la [**classe Matrix3x2F.**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f)</span><span class="sxs-lookup"><span data-stu-id="acf01-165">To create a transformation matrix, use the [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) class.</span></span>

## <a name="creating-transformation-matrices"></a><span data-ttu-id="acf01-166">Creazione di matrici di trasformazione</span><span class="sxs-lookup"><span data-stu-id="acf01-166">Creating Transformation Matrices</span></span>

<span data-ttu-id="acf01-167">Per la creazione di trasformazioni di rotazione, scala, inclinazione e traslazione, la [**classe Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) fornisce i metodi statici illustrati nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="acf01-167">For creating rotation, scale, skew, and translation transformations, the [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) class provides the static methods shown in the following table.</span></span> <span data-ttu-id="acf01-168">La colonna Esempio della tabella contiene collegamenti agli argomenti delle procedure che illustrano come usare ogni metodo di trasformazione.</span><span class="sxs-lookup"><span data-stu-id="acf01-168">The Example column of the table contains links to the how-to topics that demonstrate how to use each transformation method.</span></span>



| <span data-ttu-id="acf01-169">Metodo</span><span class="sxs-lookup"><span data-stu-id="acf01-169">Method</span></span>                                                                   | <span data-ttu-id="acf01-170">Descrizione</span><span class="sxs-lookup"><span data-stu-id="acf01-170">Description</span></span>                                                                                                     | <span data-ttu-id="acf01-171">Esempio</span><span class="sxs-lookup"><span data-stu-id="acf01-171">Example</span></span>                                            | <span data-ttu-id="acf01-172">Illustrazione</span><span class="sxs-lookup"><span data-stu-id="acf01-172">Illustration</span></span>                                                                                                                            |
|--------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="acf01-173">**matrix3x2f::rotate**</span><span class="sxs-lookup"><span data-stu-id="acf01-173">**matrix3x2f::rotate**</span></span>](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-rotation)                          | <span data-ttu-id="acf01-174">crea una trasformazione di rotazione con l'angolo e il punto centrale specificati.</span><span class="sxs-lookup"><span data-stu-id="acf01-174">creates a rotation transformation that has the specified angle and center point.</span></span>                                | [<span data-ttu-id="acf01-175">come ruotare un oggetto</span><span class="sxs-lookup"><span data-stu-id="acf01-175">how to rotate an object</span></span>](how-to-rotate.md)       | ![illustrazione di un quadrato ruotato di 45 gradi in senso orario intorno al centro del quadrato originale](images/rotate-ovw.png)                 |
| <span data-ttu-id="acf01-177">[**matrix3x2f::scale**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-scale(d2d1_size_f_d2d1_point_2f))</span><span class="sxs-lookup"><span data-stu-id="acf01-177">[**matrix3x2f::scale**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-scale(d2d1_size_f_d2d1_point_2f))</span></span> | <span data-ttu-id="acf01-178">crea una trasformazione della scala con i fattori di scala e il punto centrale specificati.</span><span class="sxs-lookup"><span data-stu-id="acf01-178">creates a scale transformation that has the specified scale factors and center point.</span></span>                           | [<span data-ttu-id="acf01-179">come ridimensionare un oggetto</span><span class="sxs-lookup"><span data-stu-id="acf01-179">how to scale an object</span></span>](how-to-scale.md)         | ![illustrazione di un quadrato ridimensionato del 130%](images/scale-ovw.png)                                                                           |
| [<span data-ttu-id="acf01-181">**matrix3x2f::skew**</span><span class="sxs-lookup"><span data-stu-id="acf01-181">**matrix3x2f::skew**</span></span>](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-skew)                              | <span data-ttu-id="acf01-182">crea una trasformazione a inclinazione con i valori dell'asse x e dell'asse y e il punto centrale specificati.</span><span class="sxs-lookup"><span data-stu-id="acf01-182">creates a skew transformation that has the specified x-axis and y-axis values and center point.</span></span>                 | [<span data-ttu-id="acf01-183">come inclinare un oggetto</span><span class="sxs-lookup"><span data-stu-id="acf01-183">how to skew an object</span></span>](how-to-skew.md)           | ![illustrazione di un quadrato a inclinazione di 30 gradi in senso antiorario rispetto all'asse y](images/skew-ovw.png)                                     |
| <span data-ttu-id="acf01-185">[**matrix3x2f::translation**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-translation(d2d1_size_f))</span><span class="sxs-lookup"><span data-stu-id="acf01-185">[**matrix3x2f::translation**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-translation(d2d1_size_f))</span></span>                | <span data-ttu-id="acf01-186">crea una trasformazione di traslazione e specifica gli spostamenti nella direzione dell'asse x e dell'asse y.</span><span class="sxs-lookup"><span data-stu-id="acf01-186">creates a translation transformation and specifies the displacements in the direction of the x-axis and y-axis.</span></span> | [<span data-ttu-id="acf01-187">come traslare un oggetto</span><span class="sxs-lookup"><span data-stu-id="acf01-187">how to translate an object</span></span>](how-to-translate.md) | ![illustrazione di un quadrato spostato di 20 unità lungo l'asse x positivo e di 10 unità lungo l'asse y positivo](images/translation-ovw.png) |



 

## <a name="rendering-target-transforms"></a><span data-ttu-id="acf01-189">Rendering delle trasformazioni di destinazione</span><span class="sxs-lookup"><span data-stu-id="acf01-189">Rendering Target Transforms</span></span>

<span data-ttu-id="acf01-190">Una destinazione di rendering è una risorsa che eredita [**dall'interfaccia ID2D1RenderTarget.**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)</span><span class="sxs-lookup"><span data-stu-id="acf01-190">A render target is a resource that inherits from the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) interface.</span></span> <span data-ttu-id="acf01-191">Crea risorse per il disegno ed esegue operazioni di disegno effettive.</span><span class="sxs-lookup"><span data-stu-id="acf01-191">It creates resources for drawing and performs actual drawing operations.</span></span> <span data-ttu-id="acf01-192">Fornisce anche metodi per trasformare lo spazio delle coordinate.</span><span class="sxs-lookup"><span data-stu-id="acf01-192">It also provides methods for transforming the coordinate space.</span></span> <span data-ttu-id="acf01-193">È possibile chiamare il [**metodo ID2D1RenderTarget::SetTransform**](id2d1rendertarget-settransform.md) per applicare la trasformazione specificata alla destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="acf01-193">You can call the [**ID2D1RenderTarget::SetTransform**](id2d1rendertarget-settransform.md) method to apply the specified transform to the render target.</span></span> <span data-ttu-id="acf01-194">Tutte le operazioni di disegno successive vengono eseguite nello spazio trasformato.</span><span class="sxs-lookup"><span data-stu-id="acf01-194">All subsequent drawing operations occur in the transformed space.</span></span>

<span data-ttu-id="acf01-195">Per eseguire il rendering del contenuto, usare i metodi di disegno della destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="acf01-195">To render content, use the render target's drawing methods.</span></span> <span data-ttu-id="acf01-196">Prima di iniziare a disegnare, chiamare il [**metodo BeginDraw.**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw)</span><span class="sxs-lookup"><span data-stu-id="acf01-196">Before you begin drawing, call the [**BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) method.</span></span> <span data-ttu-id="acf01-197">Per completare il rendering del contenuto, chiamare il [**metodo EndDraw.**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw)</span><span class="sxs-lookup"><span data-stu-id="acf01-197">To finish rendering content, call the [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method.</span></span> <span data-ttu-id="acf01-198">Per un esempio, vedere [Come applicare più trasformazioni a un oggetto](how-to-apply-multiple-transforms.md).</span><span class="sxs-lookup"><span data-stu-id="acf01-198">For an example, see [How to Apply Multiple Transforms to an Object](how-to-apply-multiple-transforms.md).</span></span>

## <a name="brush-transforms"></a><span data-ttu-id="acf01-199">Trasformazioni dei pennelli</span><span class="sxs-lookup"><span data-stu-id="acf01-199">Brush Transforms</span></span>

<span data-ttu-id="acf01-200">È possibile regolare la trasformazione sul pennello chiamando [**SetTransform**](/windows/win32/api/d2d1/nf-d2d1-id2d1brush-settransform(constd2d1_matrix_3x2_f_)).</span><span class="sxs-lookup"><span data-stu-id="acf01-200">You can adjust the transform on the brush by calling [**SetTransform**](/windows/win32/api/d2d1/nf-d2d1-id2d1brush-settransform(constd2d1_matrix_3x2_f_)).</span></span> <span data-ttu-id="acf01-201">Per questa trasformazione, è possibile pensare al pennello come a un foglio di carta di grandi dimensioni e alle diverse primitive di rendering (testo, geometria, rettangolo e così via) come stencil.</span><span class="sxs-lookup"><span data-stu-id="acf01-201">For this transform, you can think of the brush as a large piece of paper and of the different rendering primitives (text, geometry, rectangle and so on) as stencils.</span></span> <span data-ttu-id="acf01-202">Quando si regola la trasformazione del pennello, è come se si scorre il foglio di carta grande sotto lo stencil, senza modificare la posizione dello stencil stesso.</span><span class="sxs-lookup"><span data-stu-id="acf01-202">When you adjust the brush transform, it is as if you were sliding the large piece of paper underneath the stencil, without changing the position of the stencil itself.</span></span> <span data-ttu-id="acf01-203">È possibile usare questa tecnica per rendere il testo dissolvenza dal giallo al nero nello spazio 3D.</span><span class="sxs-lookup"><span data-stu-id="acf01-203">You can use this technique to make the text fade from yellow to black away into 3D space.</span></span>

<span data-ttu-id="acf01-204">Quando la trasformazione del pennello è la trasformazione di identità, i pennelli vengono visualizzati nello stesso spazio delle coordinate della destinazione di rendering in cui vengono disegnati.</span><span class="sxs-lookup"><span data-stu-id="acf01-204">When the brush transform is the identity transform, brushes appear in the same coordinate space as the render target in which they are drawn.</span></span> <span data-ttu-id="acf01-205">La trasformazione del pennello consente a un chiamante di modificare il mapping delle coordinate del pennello a questo spazio.</span><span class="sxs-lookup"><span data-stu-id="acf01-205">The brush transform enables a caller to alter how brush coordinates map to this space.</span></span>

<span data-ttu-id="acf01-206">Lo spazio del pennello viene specificato in modo diverso in Direct2D rispetto a Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="acf01-206">The brush space is specified differently in Direct2D than in Windows Presentation Foundation (WPF).</span></span> <span data-ttu-id="acf01-207">In Direct2D, lo spazio del pennello non è relativo all'oggetto disegnato, ma è il sistema di coordinate corrente della destinazione di rendering, trasformato dalla trasformazione del pennello, se presente.</span><span class="sxs-lookup"><span data-stu-id="acf01-207">In Direct2D, the brush space is not relative to the object being drawn, but rather is the current coordinate system of the render target, transformed by the brush transform, if there is one.</span></span> <span data-ttu-id="acf01-208">Per fare in modo che il pennello riempia un oggetto come è stato fatto in WPF, è necessario convertire l'origine dello spazio del pennello nell'angolo superiore sinistro del rettangolo di selezione dell'oggetto e quindi ridimensionare lo spazio del pennello in modo che il riquadro di base riempia il rettangolo di selezione dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="acf01-208">To have the brush fill an object as was done in WPF, you must translate the brush space origin to the top-left corner of the object's bounding box, and then scale the brush space so that the base tile fills the bounding box of the object.</span></span>

<span data-ttu-id="acf01-209">Per altre informazioni sulle trasformazioni dei pennelli, vedere [Cenni preliminari sui pennelli Direct2D.](direct2d-brushes-overview.md)</span><span class="sxs-lookup"><span data-stu-id="acf01-209">For more information about brush transforms, see [Direct2D Brushes Overview](direct2d-brushes-overview.md).</span></span>

## <a name="geometry-transforms"></a><span data-ttu-id="acf01-210">Trasformazioni geometriche</span><span class="sxs-lookup"><span data-stu-id="acf01-210">Geometry Transforms</span></span>

<span data-ttu-id="acf01-211">Quando si ridimensionano, spostano, traslano o inclinano le geometrie, è possibile applicare direttamente una trasformazione a una geometria specifica, non a una trasformazione di destinazione di rendering che influisce sull'intero schermo.</span><span class="sxs-lookup"><span data-stu-id="acf01-211">When you scale, move, translate, or skew geometries, you can directly apply a transform to a specific geometry, not to a render target transform that would affect the entire screen.</span></span> <span data-ttu-id="acf01-212">Una trasformazione di destinazione di rendering influisce in genere sul tratto e sul riempimento di una geometria.</span><span class="sxs-lookup"><span data-stu-id="acf01-212">A render target transform generally affects the stroke and fill of a geometry.</span></span> <span data-ttu-id="acf01-213">Al contrario, una trasformazione geometrica influisce solo sul riempimento di una geometria, perché la trasformazione viene applicata a una geometria prima che venga tracciata.</span><span class="sxs-lookup"><span data-stu-id="acf01-213">By contrast, a geometry transform only affects the fill of a geometry, because the transform is applied to a geometry before it is stroked.</span></span>

> [!Note]  
> <span data-ttu-id="acf01-214">A partire Windows 8, la trasformazione del mondo non influisce sul tratto se si imposta il tipo di tratto su D2D1 STROKE TRANSFORM TYPE FIXED (TIPO DI TRASFORMAZIONE TRATTO [**D2D1 \_ \_ \_ \_ FIXED)**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type) o D2D1 STROKE TRANSFORM TYPE (TIPO DI TRASFORMAZIONE TRATTO [**D2D1) \_ \_ \_ \_ .**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type)</span><span class="sxs-lookup"><span data-stu-id="acf01-214">Starting with Windows 8, the world transform doesn't affect the stroke if you set the stroke type to [**D2D1\_STROKE\_TRANSFORM\_TYPE\_FIXED**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type) or [**D2D1\_STROKE\_TRANSFORM\_TYPE\_HAIRLINE**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type).</span></span>

 

<span data-ttu-id="acf01-215">È possibile modificare la trasformazione su una geometria chiamando [**ID2D1Factory::CreateTransformedGeometry**](/previous-versions/windows/desktop/legacy/dd371304(v=vs.85)) per creare un [**oggetto ID2D1TransformedGeometry.**](/windows/win32/api/d2d1/nn-d2d1-id2d1transformedgeometry)</span><span class="sxs-lookup"><span data-stu-id="acf01-215">You can adjust the transform on a geometry by calling [**ID2D1Factory::CreateTransformedGeometry**](/previous-versions/windows/desktop/legacy/dd371304(v=vs.85)) to create an [**ID2D1TransformedGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1transformedgeometry) object.</span></span> <span data-ttu-id="acf01-216">Per altre informazioni sulle trasformazioni geometriche, vedere [Cenni preliminari sulle geometrie Direct2D.](direct2d-geometries-overview.md)</span><span class="sxs-lookup"><span data-stu-id="acf01-216">For more information about geometry transforms, see [Direct2D Geometries Overview](direct2d-geometries-overview.md).</span></span>

## <a name="how-a-render-target-transform-affects-clips"></a><span data-ttu-id="acf01-217">Effetti di una trasformazione di destinazione di rendering sulle clip</span><span class="sxs-lookup"><span data-stu-id="acf01-217">How a Render Target Transform Affects Clips</span></span>

<span data-ttu-id="acf01-218">La trasformazione in una destinazione di rendering influisce sul modo in cui viene calcolato il rettangolo di selezione di una clip allineata all'asse.</span><span class="sxs-lookup"><span data-stu-id="acf01-218">The transform on a render target affects how the bounding box of an axis-aligned clip is computed.</span></span> <span data-ttu-id="acf01-219">Quando viene [**chiamato PushAxisAlignedClip,**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) il parametro *clipRect* viene trasformato dalla trasformazione world corrente impostata nella destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="acf01-219">When the [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) is called, the *clipRect* parameter is transformed by the current world transform that is set on the render target.</span></span> <span data-ttu-id="acf01-220">Dopo che la trasformazione è stata applicata a *clipRect,* viene calcolato il rettangolo di selezione allineato all'asse per *clipRect.*</span><span class="sxs-lookup"><span data-stu-id="acf01-220">After the transform is applied to the *clipRect*, the axis-aligned bounding box for the *clipRect* is computed.</span></span> <span data-ttu-id="acf01-221">Per migliorare l'efficienza, il contenuto viene ritagliato in base a questo rettangolo di selezione allineato all'asse e non all'oggetto *clipRect* originale passato.</span><span class="sxs-lookup"><span data-stu-id="acf01-221">For efficiency, the contents are clipped to this axis-aligned bounding box and not to the original *clipRect* that is passed in.</span></span> <span data-ttu-id="acf01-222">I diagrammi seguenti illustrano come viene applicata una trasformazione di rotazione alla destinazione di rendering, all'oggetto *clipRect* risultante e a un rettangolo di selezione calcolato allineato all'asse.</span><span class="sxs-lookup"><span data-stu-id="acf01-222">The following diagrams show how a rotation transform is applied to the render target, the resulting *clipRect*, and a calculated axis-aligned bounding box.</span></span>

1.  <span data-ttu-id="acf01-223">Si supponga che il rettangolo nella figura seguente sia una destinazione di rendering allineata ai pixel dello schermo.</span><span class="sxs-lookup"><span data-stu-id="acf01-223">Assume that the rectangle in the following illustration is a render target that is aligned to the screen pixels.</span></span>

    ![illustrazione di un rettangolo (destinazione di rendering)](images/pushaxisalignedclip-step1-rendertarget.png)

2.  <span data-ttu-id="acf01-225">Applicare una trasformazione di rotazione alla destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="acf01-225">Apply a rotation transform to the render target.</span></span> <span data-ttu-id="acf01-226">Nella figura seguente il rettangolo nero rappresenta la destinazione di rendering originale e il rettangolo tratteggiato rosso rappresenta la destinazione di rendering trasformata.</span><span class="sxs-lookup"><span data-stu-id="acf01-226">In the following illustration, the black rectangle represents the original render target and the red dashed rectangle represents the transformed render target.</span></span>

    ![Illustrazione del rettangolo originale e di un rettangolo ruotato (destinazione di rendering trasformata)](images/pushaxisalignedclip-step2-transformed.png)

3.  <span data-ttu-id="acf01-228">Dopo [**aver chiamato PushAxisAlignedClip,**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) la trasformazione di rotazione viene applicata a *clipRect*.</span><span class="sxs-lookup"><span data-stu-id="acf01-228">After [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) is called, the rotation transform is applied to the *clipRect*.</span></span> <span data-ttu-id="acf01-229">Nella figura seguente il rettangolo blu rappresenta l'oggetto *clipRect trasformato.*</span><span class="sxs-lookup"><span data-stu-id="acf01-229">In the following illustration, the blue rectangle represents the transformed *clipRect*.</span></span>

    ![Illustrazione di un rettangolo blu più piccolo (cliprect) all'interno del rettangolo ruotato (destinazione di rendering trasformata)](images/pushaxisalignedclip-step3-cliprecttransformed.png)

4.  <span data-ttu-id="acf01-231">Viene calcolato il rettangolo di selezione allineato all'asse.</span><span class="sxs-lookup"><span data-stu-id="acf01-231">The axis-aligned bounding box is calculated.</span></span> <span data-ttu-id="acf01-232">Nella figura seguente il rettangolo tratteggiato verde rappresenta il rettangolo di selezione.</span><span class="sxs-lookup"><span data-stu-id="acf01-232">In the following illustration, the green dashed rectangle represents the bounding box.</span></span> <span data-ttu-id="acf01-233">Tutto il contenuto viene ritagliato in questo rettangolo di selezione allineato all'asse.</span><span class="sxs-lookup"><span data-stu-id="acf01-233">All contents are clipped to this axis-aligned bounding box.</span></span>

    ![Illustrazione di un rettangolo di selezione verde sul piccolo rettangolo blu (cliprect)](images/pushaxisalignedclip-step4-boundingbox.png)

## <a name="summary"></a><span data-ttu-id="acf01-235">Riepilogo</span><span class="sxs-lookup"><span data-stu-id="acf01-235">Summary</span></span>

<span data-ttu-id="acf01-236">Direct2D semplifica la trasformazione di oggetti bidimensionali con spazi di coordinate semplificati e classi correlate.</span><span class="sxs-lookup"><span data-stu-id="acf01-236">Direct2D makes it easy to transform two-dimensional objects with simplified coordinate spaces and related classes.</span></span> <span data-ttu-id="acf01-237">Usando vari tipi di trasformazioni, è possibile traslare, ruotare, inclinare e ridimensionare gli oggetti per ottenere molti effetti visivi straordinari.</span><span class="sxs-lookup"><span data-stu-id="acf01-237">By using various types of transforms, you can translate, rotate, skew, and scale your objects to achieve many impressive visual effects.</span></span>

## <a name="related-topics"></a><span data-ttu-id="acf01-238">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="acf01-238">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="acf01-239">Informazioni di riferimento su Direct2D</span><span class="sxs-lookup"><span data-stu-id="acf01-239">Direct2D Reference</span></span>](reference.md)
</dt> </dl>

 

 