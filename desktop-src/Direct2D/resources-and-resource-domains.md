---
title: Panoramica delle risorse
description: Descrive le risorse Direct2D e il modo in cui possono essere condivise.
ms.assetid: afd308a7-9524-4436-9a0e-8575383d96fa
keywords:
- Direct2D, risorse
ms.topic: article
ms.date: 05/31/2018
ms.custom: seodec18
ms.openlocfilehash: bf4eb807a25b592e32a2d83436532af17462d70c
ms.sourcegitcommit: 7d0cc7eb398fee8f5be55cd654a12d29937d643c
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/08/2021
ms.locfileid: "104351001"
---
# <a name="resources-overview"></a><span data-ttu-id="88128-104">Panoramica delle risorse</span><span class="sxs-lookup"><span data-stu-id="88128-104">Resources Overview</span></span>

<span data-ttu-id="88128-105">Una risorsa Direct2D è un oggetto usato per il disegno ed è rappresentato da un'interfaccia Direct2D, ad esempio [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) o [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget).</span><span class="sxs-lookup"><span data-stu-id="88128-105">A Direct2D resource is an object that is used for drawing and is represented by a Direct2D interface, such as [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) or [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget).</span></span> <span data-ttu-id="88128-106">In questo argomento vengono descritti i tipi di risorse Direct2D e il modo in cui possono essere condivisi.</span><span class="sxs-lookup"><span data-stu-id="88128-106">This topic describes the kinds of Direct2D resources and how they can be shared.</span></span>

<span data-ttu-id="88128-107">In questo argomento sono incluse le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="88128-107">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="88128-108">Informazioni sulle risorse Direct2D</span><span class="sxs-lookup"><span data-stu-id="88128-108">About Direct2D Resources</span></span>](#about-direct2d-resources)
-   [<span data-ttu-id="88128-109">Risorse indipendenti dal dispositivo</span><span class="sxs-lookup"><span data-stu-id="88128-109">Device-Independent Resources</span></span>](#device-independent-resources)
-   [<span data-ttu-id="88128-110">Risorse dipendenti dal dispositivo</span><span class="sxs-lookup"><span data-stu-id="88128-110">Device-Dependent Resources</span></span>](#device-dependent-resources)
-   [<span data-ttu-id="88128-111">Condivisione delle risorse di fabbrica</span><span class="sxs-lookup"><span data-stu-id="88128-111">Sharing Factory Resources</span></span>](#sharing-factory-resources)
-   [<span data-ttu-id="88128-112">Condivisione delle risorse di destinazione di rendering</span><span class="sxs-lookup"><span data-stu-id="88128-112">Sharing Render Target Resources</span></span>](#sharing-render-target-resources)
    -   [<span data-ttu-id="88128-113">Destinazioni di rendering hardware</span><span class="sxs-lookup"><span data-stu-id="88128-113">Hardware Render Targets</span></span>](#hardware-render-targets)
    -   [<span data-ttu-id="88128-114">Destinazioni di rendering della superficie di DXGI</span><span class="sxs-lookup"><span data-stu-id="88128-114">DXGI Surface Render Targets</span></span>](#dxgi-surface-render-targets)
    -   [<span data-ttu-id="88128-115">Destinazioni di rendering compatibili e bitmap condivise</span><span class="sxs-lookup"><span data-stu-id="88128-115">Compatible Render Targets and Shared Bitmaps</span></span>](#compatible-render-targets-and-shared-bitmaps)

## <a name="about-direct2d-resources"></a><span data-ttu-id="88128-116">Informazioni sulle risorse Direct2D</span><span class="sxs-lookup"><span data-stu-id="88128-116">About Direct2D Resources</span></span>

<span data-ttu-id="88128-117">Molte API 2D con accelerazione hardware sono progettate per un modello di risorse basato sulla CPU e un set di operazioni di rendering che funzionano bene con le CPU. successivamente, alcune parti dell'API sono con accelerazione hardware.</span><span class="sxs-lookup"><span data-stu-id="88128-117">Many hardware-accelerated 2D APIs are designed around a CPU-focused resource model and a set of rendering operations that work well on CPUs.Then, some part of the API is hardware-accelerated.</span></span> <span data-ttu-id="88128-118">Per l'implementazione di queste API è necessario un gestore di risorse per il mapping delle risorse della CPU alle risorse nella GPU.</span><span class="sxs-lookup"><span data-stu-id="88128-118">Implementing these APIs requires a resource manager for mapping CPU resources to resources on the GPU.</span></span> <span data-ttu-id="88128-119">A causa delle limitazioni della GPU, alcune operazioni potrebbero non essere più accelerate in ogni circostanza.</span><span class="sxs-lookup"><span data-stu-id="88128-119">Because of GPU limitations, some operations might be unable to be accelerated in every circumstance.</span></span> <span data-ttu-id="88128-120">In questi casi, Resource Manager deve comunicare tra la CPU e la GPU (costosa) in modo da poter passare al rendering della CPU.</span><span class="sxs-lookup"><span data-stu-id="88128-120">In these cases, the resource manager must communicate back and forth between the CPU and GPU (which is expensive) so that it can transition to CPU rendering.</span></span> <span data-ttu-id="88128-121">In alcuni casi è possibile che il rendering venga forzato in modo imprevedibile per eseguire il fallback completo alla CPU.</span><span class="sxs-lookup"><span data-stu-id="88128-121">In some cases, it might unpredictably force rendering to fall back completely to the CPU.</span></span> <span data-ttu-id="88128-122">Inoltre, le operazioni di rendering che risultano semplici potrebbero richiedere passaggi di rendering intermedi temporanei che non sono esposti nell'API e che richiedono risorse GPU aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="88128-122">In addition, rendering operations that appear simple might require temporary intermediate rendering steps that are not exposed in the API and that require additional GPU resources.</span></span>

<span data-ttu-id="88128-123">Direct2D fornisce un mapping più diretto per l'uso completo della GPU.</span><span class="sxs-lookup"><span data-stu-id="88128-123">Direct2D provides a more direct mapping to making full use of the GPU.</span></span> <span data-ttu-id="88128-124">Fornisce due categorie di risorse: indipendenti dal dispositivo e dipendenti dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="88128-124">It provides two categories of resources: device-independent and device-dependent.</span></span>

-   <span data-ttu-id="88128-125">Le risorse indipendenti dal dispositivo, ad esempio [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry), vengono mantenute sulla CPU.</span><span class="sxs-lookup"><span data-stu-id="88128-125">Device-independent resources, such as [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry), are kept on the CPU.</span></span>
-   <span data-ttu-id="88128-126">Le risorse dipendenti dal dispositivo, ad esempio [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) e [**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush), vengono mappate direttamente alle risorse sulla GPU (quando è disponibile l'accelerazione hardware).</span><span class="sxs-lookup"><span data-stu-id="88128-126">Device-dependent resources, such as [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) and [**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush), directly map to resources on the GPU (when hardware acceleration is available).</span></span> <span data-ttu-id="88128-127">Le chiamate di rendering vengono eseguite combinando informazioni sui vertici e sul code coverage da una geometria con informazioni di texturing prodotte dalle risorse dipendenti dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="88128-127">Rendering calls are performed by combining vertex and coverage information from a geometry with texturing information produced by the device-dependent resources.</span></span>

<span data-ttu-id="88128-128">Quando si creano risorse dipendenti dal dispositivo, le risorse di sistema (GPU, se disponibile o CPU) vengono allocate quando il dispositivo viene creato e non cambiano da un'operazione di rendering a un'altra.</span><span class="sxs-lookup"><span data-stu-id="88128-128">When you create device-dependent resources, system resources (the GPU, if available, or the CPU) are allocated when the device is created and do not change from one rendering operation to another.</span></span> <span data-ttu-id="88128-129">Questa situazione Elimina la necessità di un gestore di risorse.</span><span class="sxs-lookup"><span data-stu-id="88128-129">This situation eliminates the need for a resource manager.</span></span> <span data-ttu-id="88128-130">Oltre ai miglioramenti delle prestazioni generali forniti dall'eliminazione di un gestore di risorse, questo modello consente di controllare direttamente qualsiasi rendering intermedio.</span><span class="sxs-lookup"><span data-stu-id="88128-130">In addition to the general performance improvements that are provided by the elimination of a resource manager, this model enables you to directly control any intermediate rendering.</span></span>

<span data-ttu-id="88128-131">Poiché Direct2D fornisce un controllo così elevato sulle risorse, è necessario comprendere i diversi tipi di risorse e quando è possibile utilizzarli insieme.</span><span class="sxs-lookup"><span data-stu-id="88128-131">Because Direct2D provides so much control over resources, you must understand the different kinds of resources and when they can be used together.</span></span>

## <a name="device-independent-resources"></a><span data-ttu-id="88128-132">Risorse Device-Independent</span><span class="sxs-lookup"><span data-stu-id="88128-132">Device-Independent Resources</span></span>

<span data-ttu-id="88128-133">Come descritto nella sezione precedente, le risorse indipendenti dal dispositivo si trovano sempre nella CPU e non sono mai associate a un dispositivo di rendering hardware.</span><span class="sxs-lookup"><span data-stu-id="88128-133">As described in the previous section, device-independent resources always reside on the CPU and are never associated with a hardware rendering device.</span></span> <span data-ttu-id="88128-134">Di seguito sono riportate risorse indipendenti dal dispositivo:</span><span class="sxs-lookup"><span data-stu-id="88128-134">The following are device-independent resources:</span></span>

-   [<span data-ttu-id="88128-135">**ID2D1DrawingStateBlock**</span><span class="sxs-lookup"><span data-stu-id="88128-135">**ID2D1DrawingStateBlock**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1drawingstateblock)
-   [<span data-ttu-id="88128-136">**ID2D1Factory**</span><span class="sxs-lookup"><span data-stu-id="88128-136">**ID2D1Factory**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)
-   <span data-ttu-id="88128-137">[**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) e le interfacce che ereditano da esso.</span><span class="sxs-lookup"><span data-stu-id="88128-137">[**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) and the interfaces that inherit from it.</span></span>
-   <span data-ttu-id="88128-138">[**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) e [ **ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink)</span><span class="sxs-lookup"><span data-stu-id="88128-138">[**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) and [**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink)</span></span>
-   [<span data-ttu-id="88128-139">**ID2D1StrokeStyle**</span><span class="sxs-lookup"><span data-stu-id="88128-139">**ID2D1StrokeStyle**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1strokestyle)

<span data-ttu-id="88128-140">Usare un [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory), una risorsa indipendente dal dispositivo, per creare risorse indipendenti dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="88128-140">Use an [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory), itself a device-independent resource, to create device-independent resources.</span></span> <span data-ttu-id="88128-141">Per creare una factory, usare la funzione [**CreateFactory**](/windows/desktop/api/d2d1/nf-d2d1-d2d1createfactory) .</span><span class="sxs-lookup"><span data-stu-id="88128-141">(To create a factory, use the [**CreateFactory**](/windows/desktop/api/d2d1/nf-d2d1-d2d1createfactory) function.)</span></span>

<span data-ttu-id="88128-142">Ad eccezione delle destinazioni di rendering, tutte le risorse create da una factory sono indipendenti dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="88128-142">Except for render targets, all the resources created by a factory are device-independent.</span></span> <span data-ttu-id="88128-143">Una destinazione di rendering è una risorsa dipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="88128-143">A render target is a device-dependent resource.</span></span>

## <a name="device-dependent-resources"></a><span data-ttu-id="88128-144">Risorse Device-Dependent</span><span class="sxs-lookup"><span data-stu-id="88128-144">Device-Dependent Resources</span></span>

<span data-ttu-id="88128-145">Qualsiasi risorsa non denominata nell'elenco precedente è una risorsa dipendente dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="88128-145">Any resource that is not named in the previous list is a device-dependent resource.</span></span> <span data-ttu-id="88128-146">Le risorse dipendenti dal dispositivo sono associate a un particolare dispositivo di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-146">Device-dependent resources are associated with a particular rendering device.</span></span> <span data-ttu-id="88128-147">Quando è disponibile l'accelerazione hardware, il dispositivo è la GPU.</span><span class="sxs-lookup"><span data-stu-id="88128-147">When hardware acceleration is available, that device is the GPU.</span></span> <span data-ttu-id="88128-148">In altri casi, si tratta della CPU.</span><span class="sxs-lookup"><span data-stu-id="88128-148">In other cases, it is the CPU.</span></span>

<span data-ttu-id="88128-149">Per creare la maggior parte delle risorse dipendenti dal dispositivo, usare una destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-149">To create most device-dependent resources, use a render target.</span></span> <span data-ttu-id="88128-150">Nella maggior parte dei casi, utilizzare una factory per creare una destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-150">In most cases, use a factory to create a render target.</span></span>

<span data-ttu-id="88128-151">Di seguito sono riportati alcuni esempi di risorse dipendenti dal dispositivo:</span><span class="sxs-lookup"><span data-stu-id="88128-151">The following are examples of device-dependent resources:</span></span>

-   <span data-ttu-id="88128-152">[**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) e le interfacce che ereditano da esso.</span><span class="sxs-lookup"><span data-stu-id="88128-152">[**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) and the interfaces that inherit from it.</span></span> <span data-ttu-id="88128-153">Usare una destinazione di rendering per creare pennelli.</span><span class="sxs-lookup"><span data-stu-id="88128-153">Use a render target to create brushes.</span></span>
-   <span data-ttu-id="88128-154">[**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer).</span><span class="sxs-lookup"><span data-stu-id="88128-154">[**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer).</span></span> <span data-ttu-id="88128-155">Usare una destinazione di rendering per creare i livelli.</span><span class="sxs-lookup"><span data-stu-id="88128-155">Use a render target to create layers.</span></span>
-   <span data-ttu-id="88128-156">[**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) e le interfacce che ereditano da esso.</span><span class="sxs-lookup"><span data-stu-id="88128-156">[**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) and the interfaces that inherit from it.</span></span> <span data-ttu-id="88128-157">Per creare una destinazione di rendering, utilizzare una factory o un'altra destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-157">To create a render target, use a factory or another render target.</span></span>

> [!Note]  
> <span data-ttu-id="88128-158">A partire da Windows 8 sono disponibili nuove interfacce che creano risorse dipendenti dal dispositivo.</span><span class="sxs-lookup"><span data-stu-id="88128-158">Starting with Windows 8, there are new interfaces that create device dependent resources.</span></span> <span data-ttu-id="88128-159">Un [**ID2D1Device**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1device) e un [**ID2D1DeviceContext**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1devicecontext) possono condividere una risorsa se il contesto di dispositivo e la risorsa vengono creati dallo stesso **ID2D1Device**.</span><span class="sxs-lookup"><span data-stu-id="88128-159">An [**ID2D1Device**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1device) and a [**ID2D1DeviceContext**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1devicecontext) can share a resource if the device context and the resource are created from the same **ID2D1Device**.</span></span>

 

<span data-ttu-id="88128-160">Le risorse dipendenti dal dispositivo diventano inutilizzabili quando i dispositivi di rendering associati diventano non disponibili.</span><span class="sxs-lookup"><span data-stu-id="88128-160">Device-dependent resources become unusable when the associated rendering devices become unavailable.</span></span> <span data-ttu-id="88128-161">Ciò significa che quando si riceve l'errore di [**\_ \_ destinazione D2DERR ricrea**](direct2d-error-codes.md) per una destinazione di rendering, è necessario ricreare la destinazione di rendering e tutte le relative risorse.</span><span class="sxs-lookup"><span data-stu-id="88128-161">This means that when you receive the [**D2DERR\_RECREATE\_TARGET**](direct2d-error-codes.md) error for a render target, you must re-create the render target and all its resources.</span></span>

## <a name="sharing-factory-resources"></a><span data-ttu-id="88128-162">Condivisione delle risorse di fabbrica</span><span class="sxs-lookup"><span data-stu-id="88128-162">Sharing Factory Resources</span></span>

<span data-ttu-id="88128-163">È possibile condividere tutte le risorse indipendenti dal dispositivo create da una factory con tutte le altre risorse (indipendenti dal dispositivo o dipendenti dal dispositivo) create dalla stessa factory.</span><span class="sxs-lookup"><span data-stu-id="88128-163">You can share all device-independent resources created by a factory with all other resources (device-independent or device-dependent) created by the same factory.</span></span> <span data-ttu-id="88128-164">Ad esempio, è possibile usare due oggetti [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) per creare lo stesso [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) se entrambi gli oggetti **ID2D1RenderTarget** sono stati creati dalla stessa factory.</span><span class="sxs-lookup"><span data-stu-id="88128-164">For example, you can use two [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) objects to draw the same [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) if both of those **ID2D1RenderTarget** objects were created by the same factory.</span></span>

<span data-ttu-id="88128-165">Le interfacce di sink ([**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink), [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink)e [**ID2D1TessellationSink**](/windows/win32/api/d2d1/nn-d2d1-id2d1tessellationsink)) possono essere condivise con le risorse create da qualsiasi Factory.</span><span class="sxs-lookup"><span data-stu-id="88128-165">The sink interfaces ([**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink), [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink), and [**ID2D1TessellationSink**](/windows/win32/api/d2d1/nn-d2d1-id2d1tessellationsink)) may be shared with resources created by any factory.</span></span> <span data-ttu-id="88128-166">A differenza di altre interfacce in Direct2D, è possibile usare qualsiasi implementazione di un'interfaccia sink.</span><span class="sxs-lookup"><span data-stu-id="88128-166">Unlike other interfaces in Direct2D, any implementation of a sink interface can be used.</span></span> <span data-ttu-id="88128-167">Ad esempio, è possibile usare la propria implementazione di **ID2D1SimplifiedGeometrySink**.</span><span class="sxs-lookup"><span data-stu-id="88128-167">For example, you could use your own implementation of **ID2D1SimplifiedGeometrySink**.</span></span>

## <a name="sharing-render-target-resources"></a><span data-ttu-id="88128-168">Condivisione delle risorse di destinazione di rendering</span><span class="sxs-lookup"><span data-stu-id="88128-168">Sharing Render Target Resources</span></span>

<span data-ttu-id="88128-169">La possibilità di condividere le risorse create da una destinazione di rendering dipende dal tipo di destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-169">Your ability to share resources created by a render target depends on the kind of render target.</span></span> <span data-ttu-id="88128-170">Quando si crea una destinazione di rendering di tipo d2d1 per il [**\_ tipo di \_ destinazione di \_ \_ rendering**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type), le risorse create da tale destinazione di rendering possono essere utilizzate solo da tale destinazione di rendering, a meno che la destinazione di rendering non sia inserita in una delle categorie descritte nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="88128-170">When you create a render target of type [**D2D1\_RENDER\_TARGET\_TYPE\_DEFAULT**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type), the resources created by that render target can only be used by that render target (unless the render target fits into one of the categories described in the following sections).</span></span> <span data-ttu-id="88128-171">Questo problema si verifica perché non si conosce il dispositivo che verrà utilizzato dalla destinazione di rendering, che potrebbe essere il rendering nell'hardware locale, nel software o nell'hardware di un client remoto.</span><span class="sxs-lookup"><span data-stu-id="88128-171">This occurs because you do not know what device the render target will end up using—it could end up rendering to local hardware, software, or to a remote client's hardware.</span></span> <span data-ttu-id="88128-172">Ad esempio, è possibile scrivere un programma che smette di funzionare quando viene visualizzato in remoto o quando la destinazione di rendering viene aumentata di dimensione oltre le dimensioni massime supportate dall'hardware di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-172">For example, you could write a program that stops working when it is displayed remotely or when the render target is increased in size beyond the maximum size supported by the rendering hardware.</span></span>

<span data-ttu-id="88128-173">Le sezioni seguenti descrivono le circostanze in cui una risorsa creata da una destinazione di rendering può essere condivisa con un'altra destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-173">The following sections describe the circumstances under which a resource created by one render target can be shared with another render target.</span></span>

### <a name="hardware-render-targets"></a><span data-ttu-id="88128-174">Destinazioni di rendering hardware</span><span class="sxs-lookup"><span data-stu-id="88128-174">Hardware Render Targets</span></span>

<span data-ttu-id="88128-175">È possibile condividere le risorse tra qualsiasi destinazione di rendering che usi in modo esplicito l'hardware, purché la modalità remota sia compatibile.</span><span class="sxs-lookup"><span data-stu-id="88128-175">You can share resources between any render target that explicitly uses hardware, as long as the remoting mode is compatible.</span></span> <span data-ttu-id="88128-176">La modalità di comunicazione remota è garantita solo quando entrambe le destinazioni di rendering utilizzano il flag di utilizzo della destinazione di rendering d2d1 o della **destinazione di \_ rendering della \_ destinazione \_ \_ \_** di rendering d2d1, oppure se non viene specificato alcun flag. [**\_ \_ \_ \_ \_ \_**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_usage)</span><span class="sxs-lookup"><span data-stu-id="88128-176">The remoting mode is only guaranteed to be compatible when both render targets use the [**D2D1\_RENDER\_TARGET\_USAGE\_FORCE\_BITMAP\_REMOTING**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_usage) or **D2D1\_RENDER\_TARGET\_USAGE\_GDI\_COMPATIBLE** usage flag, or if neither flag is specified.</span></span> <span data-ttu-id="88128-177">Queste impostazioni garantiscono che le risorse si trovino sempre nello stesso computer.</span><span class="sxs-lookup"><span data-stu-id="88128-177">These settings guarantee that the resources will always be located on the same computer.</span></span> <span data-ttu-id="88128-178">Per specificare una modalità di utilizzo, impostare il campo **Usage** della struttura delle [**proprietà della \_ destinazione di rendering \_ \_ d2d1**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) utilizzata per creare la destinazione di rendering con uno o più flag di **utilizzo della \_ \_ destinazione \_ di rendering d2d1** .</span><span class="sxs-lookup"><span data-stu-id="88128-178">To specify a usage mode, set the **usage** field of the [**D2D1\_RENDER\_TARGET\_PROPERTIES**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) structure that you used to create the render target with one or more **D2D1\_RENDER\_TARGET\_USAGE** flags.</span></span>

<span data-ttu-id="88128-179">Per creare una destinazione di rendering che utilizza in modo esplicito il rendering hardware, impostare il campo **tipo** della struttura delle [**proprietà di \_ \_ destinazione \_ di rendering d2d1**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) utilizzata per creare la destinazione di rendering per l'hardware del tipo di [**destinazione di \_ rendering \_ \_ \_ d2d1**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type).</span><span class="sxs-lookup"><span data-stu-id="88128-179">To create a render target that explicitly uses hardware rendering, set the **type** field of the [**D2D1\_RENDER\_TARGET\_PROPERTIES**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) structure that you used to create the render target to [**D2D1\_RENDER\_TARGET\_TYPE\_HARDWARE**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type).</span></span>

### <a name="dxgi-surface-render-targets"></a><span data-ttu-id="88128-180">Destinazioni di rendering della superficie di DXGI</span><span class="sxs-lookup"><span data-stu-id="88128-180">DXGI Surface Render Targets</span></span>

<span data-ttu-id="88128-181">È possibile condividere le risorse create da una destinazione di rendering della superficie DXGI con qualsiasi altra destinazione di rendering della superficie DXGI che usa lo stesso dispositivo Direct3D sottostante.</span><span class="sxs-lookup"><span data-stu-id="88128-181">You can share resources created by a DXGI surface render target with any other DXGI surface render target that is using the same underlying Direct3D device.</span></span>

### <a name="compatible-render-targets-and-shared-bitmaps"></a><span data-ttu-id="88128-182">Destinazioni di rendering compatibili e bitmap condivise</span><span class="sxs-lookup"><span data-stu-id="88128-182">Compatible Render Targets and Shared Bitmaps</span></span>

<span data-ttu-id="88128-183">È possibile condividere le risorse tra una destinazione di rendering e destinazioni di rendering compatibili create da tale destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-183">You can share resources between a render target and compatible render targets that are created by that render target.</span></span> <span data-ttu-id="88128-184">Per creare una destinazione di rendering compatibile, usare il metodo [**ID2D1RenderTarget:: CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) .</span><span class="sxs-lookup"><span data-stu-id="88128-184">To create a compatible render target, use the [**ID2D1RenderTarget::CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) method.</span></span>

<span data-ttu-id="88128-185">È possibile usare il metodo [**ID2D1RenderTarget:: CreateSharedBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createsharedbitmap) per creare un [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) che può essere condiviso tra le due destinazioni di rendering specificate nella chiamata al metodo, se il metodo ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="88128-185">You can use the [**ID2D1RenderTarget::CreateSharedBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createsharedbitmap) method to create an [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) that can be shared between the two render targets that are specified in the method call, if the method succeeds.</span></span> <span data-ttu-id="88128-186">Questo metodo avrà esito positivo fino a quando le due destinazioni di rendering utilizzeranno lo stesso dispositivo sottostante per il rendering.</span><span class="sxs-lookup"><span data-stu-id="88128-186">This method will succeed as long as the two render targets use the same underlying device for rendering.</span></span>

 

 
