---
title: Effetto origine bitmap
description: Usare l'effetto origine bitmap per generare un ID2D1Image da un IWICBitmapSource da usare come input in un grafico effetto.
ms.assetid: 86646111-208A-4E6D-A28C-7B23A1742D24
keywords:
- effetto origine bitmap
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a439c94f0f520b318b3cb3511775dbec58b6e139
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/12/2020
ms.locfileid: "103874469"
---
# <a name="bitmap-source-effect"></a><span data-ttu-id="7b663-104">Effetto origine bitmap</span><span class="sxs-lookup"><span data-stu-id="7b663-104">Bitmap source effect</span></span>

<span data-ttu-id="7b663-105">Usare l'effetto origine bitmap per generare un [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) da un [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) da usare come input in un grafico effetto.</span><span class="sxs-lookup"><span data-stu-id="7b663-105">Use the bitmap source effect to generate an [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) from a [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) for use as an input in an effect graph.</span></span> <span data-ttu-id="7b663-106">Questo effetto esegue la scalabilità e la rotazione sulla CPU.</span><span class="sxs-lookup"><span data-stu-id="7b663-106">This effect performs scaling and rotation on the CPU.</span></span> <span data-ttu-id="7b663-107">Può anche generare facoltativamente una memoria di sistema mipmap, che può essere un'ottimizzazione delle prestazioni per scalare attivamente immagini di grandi dimensioni con diverse soluzioni ridotte.</span><span class="sxs-lookup"><span data-stu-id="7b663-107">It can also optionally generate a system memory mipmap, which can be a performance optimization for actively scaling very large images at various reduced resolutions.</span></span>

> [!Note]  
> <span data-ttu-id="7b663-108">L'effetto origine bitmap accetta il proprio input come proprietà, non come input di immagine.</span><span class="sxs-lookup"><span data-stu-id="7b663-108">The bitmap source effect takes its input as a property, not as an image input.</span></span> <span data-ttu-id="7b663-109">È necessario [**usare il metodo SetValue,**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) non il metodo [**seinput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) .</span><span class="sxs-lookup"><span data-stu-id="7b663-109">You must use the [**SetValue**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) method, not the [**SetInput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) method.</span></span> <span data-ttu-id="7b663-110">La proprietà *WicBitmapSource* è la posizione in cui si specificano i dati di input dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="7b663-110">The *WicBitmapSource* property is where you specify the image input data.</span></span>

 

<span data-ttu-id="7b663-111">Il CLSID per questo effetto è CLSID \_ D2D1BitmapSource.</span><span class="sxs-lookup"><span data-stu-id="7b663-111">The CLSID for this effect is CLSID\_D2D1BitmapSource.</span></span>

-   [<span data-ttu-id="7b663-112">Proprietà effetto</span><span class="sxs-lookup"><span data-stu-id="7b663-112">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="7b663-113">Modalità di interpolazione</span><span class="sxs-lookup"><span data-stu-id="7b663-113">Interpolation modes</span></span>](#interpolation-modes)
-   [<span data-ttu-id="7b663-114">Orientamento</span><span class="sxs-lookup"><span data-stu-id="7b663-114">Orientation</span></span>](#orientation)
-   [<span data-ttu-id="7b663-115">Modalità Alpha</span><span class="sxs-lookup"><span data-stu-id="7b663-115">Alpha modes</span></span>](#alpha-modes)
-   [<span data-ttu-id="7b663-116">Osservazioni:</span><span class="sxs-lookup"><span data-stu-id="7b663-116">Remarks</span></span>](#remarks)
-   [<span data-ttu-id="7b663-117">Requisiti</span><span class="sxs-lookup"><span data-stu-id="7b663-117">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="7b663-118">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="7b663-118">Related topics</span></span>](#related-topics)

## <a name="effect-properties"></a><span data-ttu-id="7b663-119">Proprietà effetto</span><span class="sxs-lookup"><span data-stu-id="7b663-119">Effect properties</span></span>



| <span data-ttu-id="7b663-120">Nome visualizzato e enumerazione dell'indice</span><span class="sxs-lookup"><span data-stu-id="7b663-120">Display name and index enumeration</span></span>                                                          | <span data-ttu-id="7b663-121">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7b663-121">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7b663-122">WicBitmapSource</span><span class="sxs-lookup"><span data-stu-id="7b663-122">WicBitmapSource</span></span><br/> <span data-ttu-id="7b663-123">D2D1 \_ BITMAPSOURCE \_ prop \_ WIC \_ bitmap \_ source</span><span class="sxs-lookup"><span data-stu-id="7b663-123">D2D1\_BITMAPSOURCE\_PROP\_WIC\_BITMAP\_SOURCE</span></span><br/>         | <span data-ttu-id="7b663-124">[IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) contenente i dati dell'immagine da caricare.</span><span class="sxs-lookup"><span data-stu-id="7b663-124">The [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) containing the image data to be loaded.</span></span><br/> <span data-ttu-id="7b663-125">Il tipo è [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span><span class="sxs-lookup"><span data-stu-id="7b663-125">The type is [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span></span><br/> <span data-ttu-id="7b663-126">Il valore predefinito è NULL.</span><span class="sxs-lookup"><span data-stu-id="7b663-126">The default value is NULL.</span></span><br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="7b663-127">Scalabilità</span><span class="sxs-lookup"><span data-stu-id="7b663-127">Scale</span></span><br/> <span data-ttu-id="7b663-128">\_Scala della \_ prop d2d1 BITMAPSOURCE \_</span><span class="sxs-lookup"><span data-stu-id="7b663-128">D2D1\_BITMAPSOURCE\_PROP\_SCALE</span></span><br/>                                 | <span data-ttu-id="7b663-129">Importo della scala nella direzione X e Y.</span><span class="sxs-lookup"><span data-stu-id="7b663-129">The scale amount in the X and Y direction.</span></span> <span data-ttu-id="7b663-130">L'effetto moltiplica la larghezza per il valore X e l'altezza in base al valore Y.</span><span class="sxs-lookup"><span data-stu-id="7b663-130">The effect multiplies the width by the X value and the height by the Y value.</span></span> <span data-ttu-id="7b663-131">Questa proprietà è un D2D1 \_ vector \_ 2F definito come: (scala X, scala Y).</span><span class="sxs-lookup"><span data-stu-id="7b663-131">This property is a D2D1\_VECTOR\_2F defined as: (X scale, Y scale).</span></span> <span data-ttu-id="7b663-132">Gli importi di scala sono FLOAT, unità e devono essere positivi o 0.</span><span class="sxs-lookup"><span data-stu-id="7b663-132">The scale amounts are FLOAT, unitless, and must be positive or 0.</span></span><br/> <span data-ttu-id="7b663-133">Il tipo è D2D1 \_ vector \_ 2F.</span><span class="sxs-lookup"><span data-stu-id="7b663-133">The type is D2D1\_VECTOR\_2F.</span></span><br/> <span data-ttu-id="7b663-134">Il valore predefinito è {1.0 f, 1.0 f}.</span><span class="sxs-lookup"><span data-stu-id="7b663-134">The default value is {1.0f, 1.0f}.</span></span><br/>                                                                           |
| <span data-ttu-id="7b663-135">InterpolationMode.</span><span class="sxs-lookup"><span data-stu-id="7b663-135">InterpolationMode.</span></span><br/> <span data-ttu-id="7b663-136">\_Modalità di \_ \_ interpolazione della Prop \_ d2d1 di BITMAPSOURCE</span><span class="sxs-lookup"><span data-stu-id="7b663-136">D2D1\_BITMAPSOURCE\_PROP\_INTERPOLATION\_MODE</span></span><br/>      | <span data-ttu-id="7b663-137">Modalità di interpolazione utilizzata per ridimensionare l'immagine.</span><span class="sxs-lookup"><span data-stu-id="7b663-137">The interpolation mode used to scale the image.</span></span> <span data-ttu-id="7b663-138">Per altre informazioni, vedere [modalità di interpolazione](#interpolation-modes) .</span><span class="sxs-lookup"><span data-stu-id="7b663-138">See [Interpolation modes](#interpolation-modes) for more info.</span></span><br/> <span data-ttu-id="7b663-139">Se la modalità disabilita la mipmap, BitmapSouce memorizza nella cache l'immagine in base alla risoluzione determinata dalle proprietà scale e EnableDPICorrection.</span><span class="sxs-lookup"><span data-stu-id="7b663-139">If the mode disables the mipmap, then BitmapSouce will cache the image at the resolution determined by the Scale and EnableDPICorrection properties.</span></span><br/> <span data-ttu-id="7b663-140">Il tipo è D2D1 \_ \_ modalità di interpolazione BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="7b663-140">The type is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE.</span></span><br/> <span data-ttu-id="7b663-141">Il valore predefinito è la \_ \_ modalità di interpolazione d2d1 di BITMAPSOURCE \_ \_ lineare.</span><span class="sxs-lookup"><span data-stu-id="7b663-141">The default value is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR.</span></span><br/> |
| <span data-ttu-id="7b663-142">EnableDPICorrection</span><span class="sxs-lookup"><span data-stu-id="7b663-142">EnableDPICorrection</span></span><br/> <span data-ttu-id="7b663-143">D2D1 \_ BITMAPSOURCE \_ prop \_ Abilita \_ \_ correzione dpi</span><span class="sxs-lookup"><span data-stu-id="7b663-143">D2D1\_BITMAPSOURCE\_PROP\_ENABLE\_DPI\_CORRECTION</span></span><br/> | <span data-ttu-id="7b663-144">Se si imposta questa impostazione su TRUE, l'effetto scalarà l'immagine di input per convertire il valore DPI segnalato da [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) in dpi del contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="7b663-144">If you set this to TRUE, the effect will scale the input image to convert the DPI reported by [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) to the DPI of the device context.</span></span> <span data-ttu-id="7b663-145">L'effetto utilizza la modalità di interpolazione impostata con la proprietà InterpolationMode.</span><span class="sxs-lookup"><span data-stu-id="7b663-145">The effect uses the interpolation mode you set with the InterpolationMode property.</span></span> <span data-ttu-id="7b663-146">Se si imposta su FALSE, l'effetto utilizzerà un valore DPI di 96,0 per l'immagine di output.</span><span class="sxs-lookup"><span data-stu-id="7b663-146">If you set this to FALSE, the effect uses a DPI of 96.0 for the output image.</span></span><br/> <span data-ttu-id="7b663-147">Il tipo è BOOL.</span><span class="sxs-lookup"><span data-stu-id="7b663-147">The type is BOOL.</span></span><br/> <span data-ttu-id="7b663-148">Il valore predefinito è FALSE.</span><span class="sxs-lookup"><span data-stu-id="7b663-148">The default value is FALSE.</span></span><br/>   |
| <span data-ttu-id="7b663-149">AlphaMode</span><span class="sxs-lookup"><span data-stu-id="7b663-149">AlphaMode</span></span><br/> <span data-ttu-id="7b663-150">\_ \_ \_ Modalità Alpha della Prop \_ d2d1 di BITMAPSOURCE</span><span class="sxs-lookup"><span data-stu-id="7b663-150">D2D1\_BITMAPSOURCE\_PROP\_ALPHA\_MODE</span></span><br/>                       | <span data-ttu-id="7b663-151">Modalità Alpha dell'output.</span><span class="sxs-lookup"><span data-stu-id="7b663-151">The alpha mode of the output.</span></span> <span data-ttu-id="7b663-152">Può essere premoltiplicato o lineare.</span><span class="sxs-lookup"><span data-stu-id="7b663-152">This can be either premultiplied or straight.</span></span> <span data-ttu-id="7b663-153">Per altre informazioni, vedere [modalità Alpha](#alpha-modes) .</span><span class="sxs-lookup"><span data-stu-id="7b663-153">See [Alpha modes](#alpha-modes) for more info.</span></span><br/> <span data-ttu-id="7b663-154">Il tipo è D2D1 \_ BITMAPSOURCE \_ Alpha \_ mode.</span><span class="sxs-lookup"><span data-stu-id="7b663-154">The type is D2D1\_BITMAPSOURCE\_ALPHA\_MODE.</span></span><br/> <span data-ttu-id="7b663-155">Il valore predefinito è D2D1 \_ BITMAPSOURCE \_ Alpha \_ mode \_ premoltiplicato.</span><span class="sxs-lookup"><span data-stu-id="7b663-155">The default value is D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED.</span></span><br/>                                                                                                                                                              |
| <span data-ttu-id="7b663-156">Orientamento</span><span class="sxs-lookup"><span data-stu-id="7b663-156">Orientation</span></span><br/> <span data-ttu-id="7b663-157">\_Orientamento della \_ prop d2d1 BITMAPSOURCE \_</span><span class="sxs-lookup"><span data-stu-id="7b663-157">D2D1\_BITMAPSOURCE\_PROP\_ORIENTATION</span></span><br/>                     | <span data-ttu-id="7b663-158">Operazione di capovolgimento e/o rotazione da eseguire sull'immagine.</span><span class="sxs-lookup"><span data-stu-id="7b663-158">A flip and/or rotation operation to be performed on the image.</span></span> <span data-ttu-id="7b663-159">Per altre informazioni, vedere [orientamento](#orientation) .</span><span class="sxs-lookup"><span data-stu-id="7b663-159">See [Orientation](#orientation) for more info.</span></span><br/> <span data-ttu-id="7b663-160">Il tipo è D2D1 \_ BITMAPSOURCE \_ Orientation.</span><span class="sxs-lookup"><span data-stu-id="7b663-160">The type is D2D1\_BITMAPSOURCE\_ORIENTATION.</span></span><br/> <span data-ttu-id="7b663-161">Il valore predefinito è D2D1 \_ BITMAPSOURCE \_ Orientation \_ default.</span><span class="sxs-lookup"><span data-stu-id="7b663-161">The default value is D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT.</span></span><br/>                                                                                                                                                                                 |



 

## <a name="interpolation-modes"></a><span data-ttu-id="7b663-162">Modalità di interpolazione</span><span class="sxs-lookup"><span data-stu-id="7b663-162">Interpolation modes</span></span>

<span data-ttu-id="7b663-163">L'effetto esegue l'interpolazione usando questa modalità quando ridimensiona un'immagine o quando corregge il valore DPI.</span><span class="sxs-lookup"><span data-stu-id="7b663-163">The effect interpolates using this mode when it scales an image or when it corrects the DPI.</span></span> <span data-ttu-id="7b663-164">Le modalità di interpolazione utilizzate da questo effetto vengono calcolate dalla CPU, non dalla GPU.</span><span class="sxs-lookup"><span data-stu-id="7b663-164">The interpolation modes this effect uses are calculated by the CPU, not the GPU.</span></span>



| <span data-ttu-id="7b663-165">Nome</span><span class="sxs-lookup"><span data-stu-id="7b663-165">Name</span></span>                                                       | <span data-ttu-id="7b663-166">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7b663-166">Description</span></span>                                                                                                                                                                                                                          |
|------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7b663-167">\_Modalità di \_ interpolazione BITMAPSOURCE d2d1 \_ \_ più \_ vicina</span><span class="sxs-lookup"><span data-stu-id="7b663-167">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_NEAREST\_NEIGHBOR</span></span> | <span data-ttu-id="7b663-168">Campiona il punto singolo più vicino e lo utilizza.</span><span class="sxs-lookup"><span data-stu-id="7b663-168">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="7b663-169">Non genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="7b663-169">Doesn't generate a mipmap.</span></span>                                                                                                                                                           |
| <span data-ttu-id="7b663-170">D2D1 \_ \_ modalità di interpolazione BITMAPSOURCE \_ \_ lineare</span><span class="sxs-lookup"><span data-stu-id="7b663-170">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR</span></span>            | <span data-ttu-id="7b663-171">Usa un esempio a quattro punti e un'interpolazione lineare.</span><span class="sxs-lookup"><span data-stu-id="7b663-171">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="7b663-172">Non genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="7b663-172">Doesn't generate a mipmap.</span></span>                                                                                                                                                        |
| <span data-ttu-id="7b663-173">D2D1 \_ \_ modalità di interpolazione BITMAPSOURCE \_ \_ cubica</span><span class="sxs-lookup"><span data-stu-id="7b663-173">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_CUBIC</span></span>             | <span data-ttu-id="7b663-174">Usa un kernel cubico di esempio 16 per l'interpolazione.</span><span class="sxs-lookup"><span data-stu-id="7b663-174">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="7b663-175">Non genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="7b663-175">Doesn't generate a mipmap.</span></span>                                                                                                                                                          |
| <span data-ttu-id="7b663-176">D2D1 \_ \_ modalità di interpolazione BITMAPSOURCE \_ \_ fant</span><span class="sxs-lookup"><span data-stu-id="7b663-176">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_FANT</span></span>              | <span data-ttu-id="7b663-177">Utilizza l'interpolazione Fant di WIC, uguale all'interfaccia [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) .</span><span class="sxs-lookup"><span data-stu-id="7b663-177">Uses the WIC fant interpolation, the same as the [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) interface.</span></span> <span data-ttu-id="7b663-178">Non genera un mipmap.</span><span class="sxs-lookup"><span data-stu-id="7b663-178">Doesn't generate a mipmap.</span></span>                                                                                       |
| <span data-ttu-id="7b663-179">D2D1 \_ \_ modalità di interpolazione BITMAPSOURCE \_ \_ MIPMAP \_ lineare</span><span class="sxs-lookup"><span data-stu-id="7b663-179">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_MIPMAP\_LINEAR</span></span>    | <span data-ttu-id="7b663-180">Genera la catena mipmap nella memoria di sistema usando l'interpolazione bilineare.</span><span class="sxs-lookup"><span data-stu-id="7b663-180">Generates mipmap chain in system memory using bilinear interpolation.</span></span> <span data-ttu-id="7b663-181">Per ogni mipmap, l'effetto si ridimensiona al multiplo più vicino di 0,5 usando l'interpolazione bilineare e quindi ridimensiona la quantità rimanente usando l'interpolazione lineare.</span><span class="sxs-lookup"><span data-stu-id="7b663-181">For each mipmap the effect scales to the nearest multiple of 0.5 using bilinear interpolation and then scales the remaining amount using linear interpolation.</span></span> |



 

## <a name="orientation"></a><span data-ttu-id="7b663-182">Orientamento</span><span class="sxs-lookup"><span data-stu-id="7b663-182">Orientation</span></span>

<span data-ttu-id="7b663-183">La proprietà Orientation può essere usata per applicare un flag di orientamento EXIF incorporato in un'immagine.</span><span class="sxs-lookup"><span data-stu-id="7b663-183">The Orientation property can be used to apply an EXIF orientation flag that is embedded within an image.</span></span>



| <span data-ttu-id="7b663-184">Nome</span><span class="sxs-lookup"><span data-stu-id="7b663-184">Name</span></span>                                                                    | <span data-ttu-id="7b663-185">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7b663-185">Description</span></span>                                                        |
|-------------------------------------------------------------------------|--------------------------------------------------------------------|
| <span data-ttu-id="7b663-186">\_ \_ Impostazione predefinita orientamento d2d1 BITMAPSOURCE \_</span><span class="sxs-lookup"><span data-stu-id="7b663-186">D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT</span></span>                                | <span data-ttu-id="7b663-187">Valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="7b663-187">Default.</span></span> <span data-ttu-id="7b663-188">L'effetto non modifica l'orientamento dell'input.</span><span class="sxs-lookup"><span data-stu-id="7b663-188">The effect doesn't change the orientation of the input.</span></span>   |
| <span data-ttu-id="7b663-189">D2D1 \_ \_ \_ Capovolgi orientamento \_ orizzontale</span><span class="sxs-lookup"><span data-stu-id="7b663-189">D2D1\_BITMAPSOURCE\_ORIENTATION\_FLIP\_HORIZONTAL</span></span>                       | <span data-ttu-id="7b663-190">Capovolge l'immagine orizzontalmente.</span><span class="sxs-lookup"><span data-stu-id="7b663-190">Flips the image horizontally.</span></span>                                      |
| <span data-ttu-id="7b663-191">Orientamento di D2D1 \_ BITMAPSOURCE \_ \_ ruotare \_ CLOCKWISE180</span><span class="sxs-lookup"><span data-stu-id="7b663-191">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180</span></span>                   | <span data-ttu-id="7b663-192">Ruota l'immagine in senso orario di 180 gradi.</span><span class="sxs-lookup"><span data-stu-id="7b663-192">Rotates the image clockwise 180 degrees.</span></span>                           |
| <span data-ttu-id="7b663-193">D2D1 \_ BITMAPSOURCE \_ Orientation \_ ruotare \_ CLOCKWISE180 \_ Flip \_ Horizontal</span><span class="sxs-lookup"><span data-stu-id="7b663-193">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="7b663-194">Ruota l'immagine in senso orario di 180 gradi e la capovolge orizzontalmente.</span><span class="sxs-lookup"><span data-stu-id="7b663-194">Rotates the image clockwise 180 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="7b663-195">D2D1 \_ BITMAPSOURCE \_ Orientation \_ ruotare \_ CLOCKWISE270 \_ Flip \_ Horizontal</span><span class="sxs-lookup"><span data-stu-id="7b663-195">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="7b663-196">Ruota l'immagine in senso orario di 270 gradi e la capovolge orizzontalmente.</span><span class="sxs-lookup"><span data-stu-id="7b663-196">Rotates the image clockwise 270 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="7b663-197">Orientamento di D2D1 \_ BITMAPSOURCE \_ \_ ruotare \_ CLOCKWISE90</span><span class="sxs-lookup"><span data-stu-id="7b663-197">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90</span></span>                    | <span data-ttu-id="7b663-198">Ruota l'immagine in senso orario di 90 gradi.</span><span class="sxs-lookup"><span data-stu-id="7b663-198">Rotates the image clockwise 90 degrees.</span></span>                            |
| <span data-ttu-id="7b663-199">D2D1 \_ BITMAPSOURCE \_ Orientation \_ ruotare \_ CLOCKWISE90 \_ Flip \_ Horizontal</span><span class="sxs-lookup"><span data-stu-id="7b663-199">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90\_FLIP\_HORIZONTAL</span></span>  | <span data-ttu-id="7b663-200">Ruota l'immagine in senso orario di 90 gradi e la capovolge orizzontalmente.</span><span class="sxs-lookup"><span data-stu-id="7b663-200">Rotates the image clockwise 90 degrees and flips it horizontally.</span></span>  |
| <span data-ttu-id="7b663-201">Orientamento di D2D1 \_ BITMAPSOURCE \_ \_ ruotare \_ CLOCKWISE270</span><span class="sxs-lookup"><span data-stu-id="7b663-201">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270</span></span>                   | <span data-ttu-id="7b663-202">Ruota l'immagine in senso orario di 270 gradi.</span><span class="sxs-lookup"><span data-stu-id="7b663-202">Rotates the image clockwise 270 degrees.</span></span>                           |



 

<span data-ttu-id="7b663-203">Questo frammento di codice illustra come eseguire la conversione dai valori di orientamento EXIF (definiti in propkey. h) ai valori di orientamento di D2D1 \_ BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="7b663-203">This code snippet demonstrates how to convert from EXIF orientation values (defined in propkey.h) to D2D1\_BITMAPSOURCE\_ORIENTATION values.</span></span>


```C++
#include <propkey.h>
#include <d2d1effects.h>

D2D1_BITMAPSOURCE_ORIENTATION GetBitmapSourceOrientation(unsigned short PhotoOrientation)
{
       switch (PhotoOrientation)
       {
       case PHOTO_ORIENTATION_NORMAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       case PHOTO_ORIENTATION_FLIPHORIZONTAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE180:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180;
       case PHOTO_ORIENTATION_FLIPVERTICAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_TRANSPOSE: 
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE270:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90;
       case PHOTO_ORIENTATION_TRANSVERSE:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE90:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270;
       default:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       }
}
```



## <a name="alpha-modes"></a><span data-ttu-id="7b663-204">Modalità Alpha</span><span class="sxs-lookup"><span data-stu-id="7b663-204">Alpha modes</span></span>



| <span data-ttu-id="7b663-205">Nome</span><span class="sxs-lookup"><span data-stu-id="7b663-205">Name</span></span>                                           | <span data-ttu-id="7b663-206">Descrizione</span><span class="sxs-lookup"><span data-stu-id="7b663-206">Description</span></span>                                            |
|------------------------------------------------|--------------------------------------------------------|
| <span data-ttu-id="7b663-207">\_Modalità alfa di d2d1 BITMAPSOURCE \_ \_ \_ premoltiplicata</span><span class="sxs-lookup"><span data-stu-id="7b663-207">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED</span></span> | <span data-ttu-id="7b663-208">L'output dell'effetto usa l'alfa premoltiplicato.</span><span class="sxs-lookup"><span data-stu-id="7b663-208">The effect output uses premultiplied alpha.</span></span><br/> |
| <span data-ttu-id="7b663-209">D2D1 \_ \_ modalità Alpha di BITMAPSOURCE \_ \_ diretta</span><span class="sxs-lookup"><span data-stu-id="7b663-209">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_STRAIGHT</span></span>      | <span data-ttu-id="7b663-210">L'output dell'effetto usa l'Alpha lineare.</span><span class="sxs-lookup"><span data-stu-id="7b663-210">The effect output uses straight alpha.</span></span><br/>      |



 

## <a name="remarks"></a><span data-ttu-id="7b663-211">Commenti</span><span class="sxs-lookup"><span data-stu-id="7b663-211">Remarks</span></span>

<span data-ttu-id="7b663-212">Per ottimizzare le prestazioni quando si utilizzano WIC e [Direct2D](./direct2d-portal.md) insieme, è necessario utilizzare [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) per eseguire la conversione in un formato pixel appropriato basato sullo scenario dell'app e la precisione nativa dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="7b663-212">To optimize performance when using WIC and [Direct2D](./direct2d-portal.md) together, you should use [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) to convert to an appropriate pixel format based your app s scenario and the image s native precision.</span></span>

<span data-ttu-id="7b663-213">Nella maggior parte dei casi, la pipeline [Direct2D](./direct2d-portal.md) dell'app s richiede solo 8 bit per canale (bpc) di precisione oppure l'immagine fornisce solo una precisione di 8 bpc ed è quindi necessario convertirla in GUID \_ WICPixelFormat32bppPBGRA.</span><span class="sxs-lookup"><span data-stu-id="7b663-213">In most cases, either your app s [Direct2D](./direct2d-portal.md) pipeline only requires 8 bits per channel (bpc) of precision, or the image only provides 8 bpc precision, and therefore you should convert to GUID\_WICPixelFormat32bppPBGRA.</span></span> <span data-ttu-id="7b663-214">Tuttavia, se si desidera sfruttare la precisione aggiuntiva fornita da un'immagine, ad esempio JPEG-XR o TIFF archiviato con una precisione maggiore di 8 bpc, è necessario utilizzare un formato pixel basato su RGBA.</span><span class="sxs-lookup"><span data-stu-id="7b663-214">However, if you want to take advantage of extra precision provided by an image (for example, a JPEG-XR or TIFF stored with greater than 8 bpc precision), you should use an RGBA-based pixel format.</span></span> <span data-ttu-id="7b663-215">La tabella seguente fornisce altri dettagli.</span><span class="sxs-lookup"><span data-stu-id="7b663-215">The below table provides more details.</span></span>



| <span data-ttu-id="7b663-216">Precisione desiderata</span><span class="sxs-lookup"><span data-stu-id="7b663-216">Desired precision</span></span>   | <span data-ttu-id="7b663-217">Precisione nativa dell'immagine</span><span class="sxs-lookup"><span data-stu-id="7b663-217">Native precision of the image</span></span> | <span data-ttu-id="7b663-218">Formato pixel consigliato</span><span class="sxs-lookup"><span data-stu-id="7b663-218">Recommended pixel format</span></span>                |
|---------------------|-------------------------------|-----------------------------------------|
| <span data-ttu-id="7b663-219">8 bit per canale</span><span class="sxs-lookup"><span data-stu-id="7b663-219">8 bits per channel</span></span>  | <span data-ttu-id="7b663-220"><= 8 bit per canale</span><span class="sxs-lookup"><span data-stu-id="7b663-220"><= 8 bits per channel</span></span>      | <span data-ttu-id="7b663-221">GUID \_ WICPixelFormat32bppPBGRA</span><span class="sxs-lookup"><span data-stu-id="7b663-221">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="7b663-222">Quanto più alto possibile</span><span class="sxs-lookup"><span data-stu-id="7b663-222">As high as possible</span></span> | <span data-ttu-id="7b663-223"><= 8 bit per canale</span><span class="sxs-lookup"><span data-stu-id="7b663-223"><= 8 bits per channel</span></span>      | <span data-ttu-id="7b663-224">GUID \_ WICPixelFormat32bppPBGRA</span><span class="sxs-lookup"><span data-stu-id="7b663-224">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="7b663-225">Quanto più alto possibile</span><span class="sxs-lookup"><span data-stu-id="7b663-225">As high as possible</span></span> | <span data-ttu-id="7b663-226">> 8 bit per canale</span><span class="sxs-lookup"><span data-stu-id="7b663-226">> 8 bits per channel</span></span>       | <span data-ttu-id="7b663-227">Ordine del canale RGBA, alfa premoltiplicato</span><span class="sxs-lookup"><span data-stu-id="7b663-227">RGBA channel order, premultiplied alpha</span></span> |



 

<span data-ttu-id="7b663-228">Poiché molti formati di immagine supportano più livelli di precisione, è necessario utilizzare [**IWICBitmapSource:: GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) per ottenere il formato pixel nativo dell'immagine, quindi utilizzare [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) per determinare il numero di bit per canale di precisione disponibili per tale formato.</span><span class="sxs-lookup"><span data-stu-id="7b663-228">Because many image formats support multiple levels of precision, you should use [**IWICBitmapSource::GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) to obtain the image s native pixel format, and then use [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) to determine how many bits per channel of precision are available for that format.</span></span> <span data-ttu-id="7b663-229">Si noti inoltre che non tutti i componenti hardware supportano formati pixel a precisione elevata.</span><span class="sxs-lookup"><span data-stu-id="7b663-229">Also, note that not all hardware supports high precision pixel formats.</span></span> <span data-ttu-id="7b663-230">In questi casi è possibile che l'app debba eseguire il fallback al dispositivo WARP per supportare la precisione elevata.</span><span class="sxs-lookup"><span data-stu-id="7b663-230">In those cases your app may need to fall back to the WARP device to support high precision.</span></span>

## <a name="requirements"></a><span data-ttu-id="7b663-231">Requisiti</span><span class="sxs-lookup"><span data-stu-id="7b663-231">Requirements</span></span>



| <span data-ttu-id="7b663-232">Requisito</span><span class="sxs-lookup"><span data-stu-id="7b663-232">Requirement</span></span> | <span data-ttu-id="7b663-233">Valore</span><span class="sxs-lookup"><span data-stu-id="7b663-233">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="7b663-234">Client minimo supportato</span><span class="sxs-lookup"><span data-stu-id="7b663-234">Minimum supported client</span></span> | <span data-ttu-id="7b663-235">Windows 8 e aggiornamento della piattaforma per app desktop Windows 7 app \[ \| Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="7b663-235">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="7b663-236">Server minimo supportato</span><span class="sxs-lookup"><span data-stu-id="7b663-236">Minimum supported server</span></span> | <span data-ttu-id="7b663-237">Windows 8 e aggiornamento della piattaforma per app desktop Windows 7 app \[ \| Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="7b663-237">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="7b663-238">Intestazione</span><span class="sxs-lookup"><span data-stu-id="7b663-238">Header</span></span>                   | <span data-ttu-id="7b663-239">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="7b663-239">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="7b663-240">Libreria</span><span class="sxs-lookup"><span data-stu-id="7b663-240">Library</span></span>                  | <span data-ttu-id="7b663-241">d2d1. lib, dxguid. lib</span><span class="sxs-lookup"><span data-stu-id="7b663-241">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="7b663-242">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="7b663-242">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7b663-243">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="7b663-243">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

