---
description: In questo argomento viene illustrato l'utilizzo dello strumento di configurazione proxy di Microsoft Windows HTTP Services (WinHTTP), &\# 0034; ProxyCfg.exe&\# 0034;.
ms.assetid: f96adf59-59be-414e-ad6f-9eac05f4b975
title: Netsh.exe e ProxyCfg.exe proxy Strumenti di configurazione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 96a33e832d324a5863652673b8e25725fba72e88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104524828"
---
# <a name="netshexe-and-proxycfgexe-proxy-configuration-tools"></a><span data-ttu-id="524fe-103">Netsh.exe e ProxyCfg.exe proxy Strumenti di configurazione</span><span class="sxs-lookup"><span data-stu-id="524fe-103">Netsh.exe and ProxyCfg.exe Proxy Configuration Tools</span></span>

<span data-ttu-id="524fe-104">\* \* Windows Vista e Windows Server 2008: \* \*</span><span class="sxs-lookup"><span data-stu-id="524fe-104">\*\*Windows Vista and Windows Server 2008:  \*\*</span></span>

<span data-ttu-id="524fe-105">ProxyCfg.exe è stato deprecato.</span><span class="sxs-lookup"><span data-stu-id="524fe-105">ProxyCfg.exe has been deprecated.</span></span> <span data-ttu-id="524fe-106">Viene sostituito daNetsh.exe comandi [ WinHTTP](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731131(v=ws.10)) .</span><span class="sxs-lookup"><span data-stu-id="524fe-106">It is replaced by the [Netsh.exe winhttp](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731131(v=ws.10)) commands.</span></span>

<span data-ttu-id="524fe-107">In questo argomento viene illustrato l'utilizzo dello strumento di configurazione proxy di [Microsoft Windows HTTP Services (WinHTTP)](about-winhttp.md) , "ProxyCfg.exe".</span><span class="sxs-lookup"><span data-stu-id="524fe-107">This topic explains the use of the [Microsoft Windows HTTP Services (WinHTTP)](about-winhttp.md) proxy configuration tool, "ProxyCfg.exe".</span></span>

<span data-ttu-id="524fe-108">Esistono due modi per accedere ai server HTTP e Secure Hypertext Transfer Protocol (HTTPS) tramite un proxy usando i servizi HTTP di Microsoft Windows (WinHTTP).</span><span class="sxs-lookup"><span data-stu-id="524fe-108">There are two ways to access HTTP and Secure Hypertext Transfer Protocol (HTTPS) servers through a proxy using Microsoft Windows HTTP Services (WinHTTP).</span></span> <span data-ttu-id="524fe-109">In primo luogo, è possibile specificare le impostazioni del proxy all'interno dell'applicazione WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="524fe-109">First, you can specify proxy settings from within your WinHTTP application.</span></span> <span data-ttu-id="524fe-110">In secondo luogo, è possibile specificare le impostazioni proxy predefinite dall'esterno dell'applicazione utilizzando l'utilità di configurazione proxy presente nella directory% windir% \\ system32.</span><span class="sxs-lookup"><span data-stu-id="524fe-110">Second, you can specify default proxy settings from outside your application using the proxy configuration utility located in the %windir%\\system32 directory.</span></span>

<span data-ttu-id="524fe-111">È possibile impostare a livello di codice i dati del proxy all'interno dell'applicazione o dello script.</span><span class="sxs-lookup"><span data-stu-id="524fe-111">You can programmatically set the proxy data from within your application or script.</span></span> <span data-ttu-id="524fe-112">Se si sta scrivendo un'applicazione utilizzando l'API WinHTTP, utilizzare una delle due tecniche seguenti per modificare le impostazioni del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-112">If you are writing an application using the WinHTTP API, use one of the following two techniques to change proxy settings.</span></span>

-   <span data-ttu-id="524fe-113">Usare la funzione [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) .</span><span class="sxs-lookup"><span data-stu-id="524fe-113">Use the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) function.</span></span> <span data-ttu-id="524fe-114">Specificare il tipo di accesso nel secondo parametro, il nome del proxy nel terzo parametro e un elenco di bypass nel quarto parametro.</span><span class="sxs-lookup"><span data-stu-id="524fe-114">Specify access type in the second parameter, the name of the proxy in the third parameter, and a bypass list in the fourth parameter.</span></span> <span data-ttu-id="524fe-115">Nell'esempio seguente viene illustrato come è possibile utilizzare la funzione [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) per impostare i dati del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-115">The following example shows how the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) function can be used to set proxy data.</span></span>

    ``` syntax
    hSession = WinHttpOpen( L"WinHTTP Example/1.0",  
                            WINHTTP_ACCESS_TYPE_NAMED_PROXY,
                            L"proxy_name", 
                            L"<local>", 
                            0);
    ```

-   <span data-ttu-id="524fe-116">Usare la funzione [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) .</span><span class="sxs-lookup"><span data-stu-id="524fe-116">Use the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function.</span></span> <span data-ttu-id="524fe-117">Il flag del [**\_ \_ proxy dell'opzione WinHTTP**](option-flags.md) consente di specificare le impostazioni proxy con una struttura di [**\_ \_ informazioni proxy WinHTTP**](/windows/win32/api/winhttp/ns-winhttp-winhttp_proxy_info) .</span><span class="sxs-lookup"><span data-stu-id="524fe-117">The [**WINHTTP\_OPTION\_PROXY**](option-flags.md) flag enables you to specify proxy settings with a [**WINHTTP\_PROXY\_INFO**](/windows/win32/api/winhttp/ns-winhttp-winhttp_proxy_info) structure.</span></span> <span data-ttu-id="524fe-118">Nell'esempio di codice seguente viene illustrato come utilizzare la funzione [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) per impostare i dati del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-118">The following example code shows how the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function can be used to set proxy data.</span></span>

    ``` syntax
    WINHTTP_PROXY_INFO proxyInfo;
    proxyInfo.dwAccessType = WINHTTP_ACCESS_TYPE_NAMED_PROXY;
    proxyInfo.lpszProxy = L"proxy_name";
    proxyInfo.lpszProxyBypass = L"<local>";
        
    // Set the proxy information for this session.
    WinHttpSetOption( hSession, 
                      WINHTTP_OPTION_PROXY, 
                      &proxyInfo, 
                      sizeof(proxyInfo));
    ```

<span data-ttu-id="524fe-119">Se si scrive uno script o un'applicazione utilizzando l'oggetto [**WinHttpRequest**](winhttprequest.md) , utilizzare la tecnica seguente per modificare le impostazioni del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-119">If you are writing a script or an application using the [**WinHttpRequest**](winhttprequest.md) object, use the following technique to change proxy settings.</span></span>

-   <span data-ttu-id="524fe-120">Usare il metodo [**seproxy**](iwinhttprequest-setproxy.md) .</span><span class="sxs-lookup"><span data-stu-id="524fe-120">Use the [**SetProxy**](iwinhttprequest-setproxy.md) method.</span></span> <span data-ttu-id="524fe-121">Specificare il tipo di accesso nel primo parametro, il nome del proxy nel secondo parametro e un elenco di bypass nel terzo parametro.</span><span class="sxs-lookup"><span data-stu-id="524fe-121">Specify the access type in the first parameter, the name of the proxy in the second parameter, and a bypass list in the third parameter.</span></span> <span data-ttu-id="524fe-122">Nell'esempio seguente viene illustrato come utilizzare il metodo [**seproxy**](iwinhttprequest-setproxy.md) nello script per impostare i dati del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-122">The following example shows how the [**SetProxy**](iwinhttprequest-setproxy.md) method can be used in script to set proxy data.</span></span>

    ``` syntax
    WinHttpReq.SetProxy( HTTPREQUEST_PROXYSETTING_PROXY, 
                         "proxy_server:80", 
                         "*.microsoft.com");
    ```

<span data-ttu-id="524fe-123">Per specificare le impostazioni predefinite ed eliminare la necessità di utilizzare il metodo [**seproxy**](iwinhttprequest-setproxy.md) o la funzione [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) , utilizzare l'utilità di configurazione del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-123">To specify default settings and eliminate the need to use either the [**SetProxy**](iwinhttprequest-setproxy.md) method or the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function, use the proxy configuration utility.</span></span> <span data-ttu-id="524fe-124">Utilizzando questa utilità, è possibile specificare che l'applicazione acceda direttamente a una rete, tramite un proxy o tramite una combinazione di accesso diretto e proxy specificando un elenco di bypass.</span><span class="sxs-lookup"><span data-stu-id="524fe-124">Using this utility, you can specify that your application access a network either directly, through a proxy, or through a combination of direct and proxy access by specifying a bypass list.</span></span> <span data-ttu-id="524fe-125">Quando si usa l'API WinHTTP, lo strumento di configurazione del proxy determina solo le impostazioni quando si passa il flag **predefinito del tipo di \_ accesso \_ \_ WinHTTP** all'API [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) .</span><span class="sxs-lookup"><span data-stu-id="524fe-125">When you use the WinHTTP API, the proxy configuration tool only determines the settings when you pass the **WINHTTP\_ACCESS\_TYPE\_DEFAULT** flag to the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) API.</span></span> <span data-ttu-id="524fe-126">Per impostazione predefinita, l'oggetto [**WinHttpRequest**](winhttprequest.md) utilizza le impostazioni dello strumento di configurazione del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-126">The [**WinHttpRequest**](winhttprequest.md) object uses the proxy configuration tool settings by default.</span></span>

<span data-ttu-id="524fe-127">Le impostazioni proxy per WinHTTP non sono le impostazioni proxy per Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="524fe-127">The proxy settings for WinHTTP are not the proxy settings for Microsoft Internet Explorer.</span></span> <span data-ttu-id="524fe-128">Non è possibile configurare le impostazioni proxy per WinHTTP nel pannello di controllo di Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="524fe-128">You cannot configure the proxy settings for WinHTTP in the Microsoft Windows Control Panel.</span></span> <span data-ttu-id="524fe-129">L'utilizzo dell'utilità di configurazione proxy WinHTTP non modifica le impostazioni utilizzate per Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="524fe-129">Using the WinHTTP proxy configuration utility does not alter the settings you use for Internet Explorer.</span></span>

> [!Note]  
> <span data-ttu-id="524fe-130">Se si tenta di aprire e inviare una richiesta HTTP utilizzando WinHTTP e le impostazioni del proxy non sono corrette, si verificherà un errore.</span><span class="sxs-lookup"><span data-stu-id="524fe-130">If you attempt to open and send an HTTP request using WinHTTP and the proxy settings are incorrect, an error occurs.</span></span>

 

## <a name="command-line-parameters"></a><span data-ttu-id="524fe-131">Parametri della riga di comando</span><span class="sxs-lookup"><span data-stu-id="524fe-131">Command Line Parameters</span></span>

<span data-ttu-id="524fe-132">Nella tabella seguente sono elencati i parametri della riga di comando disponibili per l'utilizzo con lo strumento ProxyCfg.exe.</span><span class="sxs-lookup"><span data-stu-id="524fe-132">The following table lists the command line parameters available for use with the ProxyCfg.exe tool.</span></span>



| <span data-ttu-id="524fe-133">Parametro</span><span class="sxs-lookup"><span data-stu-id="524fe-133">Parameter</span></span> | <span data-ttu-id="524fe-134">Descrizione</span><span class="sxs-lookup"><span data-stu-id="524fe-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="524fe-135">Nessuno</span><span class="sxs-lookup"><span data-stu-id="524fe-135">none</span></span>      | <span data-ttu-id="524fe-136">Quando non viene specificato alcun parametro, vengono visualizzate le impostazioni proxy WinHTTP correnti.</span><span class="sxs-lookup"><span data-stu-id="524fe-136">When no parameters are specified, the current WinHTTP proxy settings are displayed.</span></span>                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="524fe-137">?</span><span class="sxs-lookup"><span data-stu-id="524fe-137">?</span></span>         | <span data-ttu-id="524fe-138">Vengono visualizzate le informazioni della guida.</span><span class="sxs-lookup"><span data-stu-id="524fe-138">Help information is displayed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="524fe-139">d</span><span class="sxs-lookup"><span data-stu-id="524fe-139">d</span></span>         | <span data-ttu-id="524fe-140">Specifica che le applicazioni WinHTTP accedono direttamente alla rete, senza un proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-140">Specifies that WinHTTP applications access the network directly, without a proxy.</span></span>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="524fe-141">p</span><span class="sxs-lookup"><span data-stu-id="524fe-141">p</span></span>         | <span data-ttu-id="524fe-142">Specifica il server proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-142">Specifies the proxy server.</span></span> <span data-ttu-id="524fe-143">È anche possibile specificare un elenco facoltativo di server a cui si accede senza un proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-143">You can also specify an optional list of servers that are accessed without a proxy.</span></span>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="524fe-144">u</span><span class="sxs-lookup"><span data-stu-id="524fe-144">u</span></span>         | <span data-ttu-id="524fe-145">Specifica che le applicazioni WinHTTP utilizzano le impostazioni proxy dell'utente corrente per Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="524fe-145">Specifies that WinHTTP applications use the current user's proxy settings for Internet Explorer.</span></span> <span data-ttu-id="524fe-146">Questo parametro non funziona se Internet Explorer rileva automaticamente le impostazioni proxy oppure se usa un URL di configurazione automatico per impostare le informazioni sul proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-146">This parameter does not work if Internet Explorer is automatically detecting proxy settings, or if it is using an automatic configuration URL to set the proxy information.</span></span>                                                                                                                                                      |
| <span data-ttu-id="524fe-147">i</span><span class="sxs-lookup"><span data-stu-id="524fe-147">i</span></span>         | <span data-ttu-id="524fe-148">Specifica che le applicazioni WinHTTP utilizzano le impostazioni proxy dell'utente corrente per Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="524fe-148">Specifies that WinHTTP applications use the current user's proxy settings for Internet Explorer.</span></span> <span data-ttu-id="524fe-149">Questa operazione funziona solo quando non è stato usato in precedenza ProxyCfg.exe.</span><span class="sxs-lookup"><span data-stu-id="524fe-149">This only works when ProxyCfg.exe was not previously used.</span></span> <span data-ttu-id="524fe-150">Se ProxyCfg.exe è installato, specificare che il parametro della riga di comando "u" utilizza le impostazioni manuali.</span><span class="sxs-lookup"><span data-stu-id="524fe-150">If ProxyCfg.exe is installed, specify that the "u" command line parameter use the manual settings.</span></span> <span data-ttu-id="524fe-151">Questo parametro non funziona se Internet Explorer rileva automaticamente le impostazioni proxy oppure se usa un URL di configurazione automatico per impostare le informazioni sul proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-151">This parameter does not work if Internet Explorer automatically detects proxy settings, or if it uses an automatic configuration URL to set the proxy information.</span></span> |



 

<span data-ttu-id="524fe-152">È possibile specificare proxy in una stringa delimitata da spazi.</span><span class="sxs-lookup"><span data-stu-id="524fe-152">You can specify proxies in a space-delimited string.</span></span> <span data-ttu-id="524fe-153">Gli elenchi proxy possono contenere il numero di porta utilizzato per accedere al proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-153">The proxy listings can contain the port number that is used to access the proxy.</span></span> <span data-ttu-id="524fe-154">Per elencare un proxy per un protocollo specifico, la stringa deve seguire il formato, <protocol> = https://<\_ nome proxy>.</span><span class="sxs-lookup"><span data-stu-id="524fe-154">To list a proxy for a specific protocol, the string must follow the format, <protocol>=https://<proxy\_name>.</span></span> <span data-ttu-id="524fe-155">I protocolli validi sono HTTP e HTTPS.</span><span class="sxs-lookup"><span data-stu-id="524fe-155">The valid protocols are HTTP and HTTPS.</span></span> <span data-ttu-id="524fe-156">Ad esempio, per elencare un proxy HTTP, una stringa valida è http = https://http\_proxy\_name:80 , dove \_ il \_ nome del proxy HTTP è il nome del server proxy e 80 è il numero di porta che è necessario usare per accedere al proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-156">For example, to list an HTTP proxy, a valid string is http=https://http\_proxy\_name:80, where http\_proxy\_name is the name of the proxy server and 80 is the port number that you must use to access the proxy.</span></span> <span data-ttu-id="524fe-157">Se il proxy usa il numero di porta predefinito per quel protocollo, è possibile omettere il numero di porta.</span><span class="sxs-lookup"><span data-stu-id="524fe-157">If the proxy uses the default port number for that protocol, then you can omit the port number.</span></span> <span data-ttu-id="524fe-158">Se un nome proxy è elencato da solo, è possibile utilizzarlo come proxy predefinito per tutti i protocolli che non dispongono di un proxy specificato.</span><span class="sxs-lookup"><span data-stu-id="524fe-158">If a proxy name is listed by itself, you can use it as the default proxy for any protocols that do not have a specified proxy.</span></span> <span data-ttu-id="524fe-159">Ad esempio, http = https://http\_proxy altro \_ proxy usa \_ il proxy HTTP per qualsiasi operazione http, mentre il protocollo HTTPS usa il proxy denominato altro \_ proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-159">For example, http=https://http\_proxy other\_proxy uses http\_proxy for any HTTP operations, while the HTTPS protocol uses the proxy named other\_proxy.</span></span>

<span data-ttu-id="524fe-160">Nell'elenco proxy bypass è possibile elencare nomi host o indirizzi IP locali noti localmente.</span><span class="sxs-lookup"><span data-stu-id="524fe-160">You can list locally known host names or IP addresses in the proxy bypass list.</span></span> <span data-ttu-id="524fe-161">Questo elenco può contenere caratteri jolly, ad esempio " \* ", che fanno sì che l'applicazione ignori il server proxy per gli indirizzi che soddisfano il criterio specificato, ad esempio " \* . Microsoft.com" o " \* . org".</span><span class="sxs-lookup"><span data-stu-id="524fe-161">This list can contain wildcards, such as "\*", that cause the application to bypass the proxy server for addresses that fit the specified pattern, for example, "\*.microsoft.com" or "\*.org".</span></span> <span data-ttu-id="524fe-162">I caratteri jolly devono essere i caratteri più a sinistra nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="524fe-162">Wildcard characters must be the left-most characters in the list.</span></span> <span data-ttu-id="524fe-163">Ad esempio \* , "AAA". non è supportato.</span><span class="sxs-lookup"><span data-stu-id="524fe-163">For example, "aaa.\*" is not supported.</span></span> <span data-ttu-id="524fe-164">Per elencare più indirizzi e nomi host, separarli con spazi vuoti o punti e virgola nella stringa di bypass del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-164">To list multiple addresses and host names, separate them with blank spaces or semicolons in the proxy bypass string.</span></span> <span data-ttu-id="524fe-165">Se si specifica la <local> macro, la funzione ignora qualsiasi nome host che non contiene un punto.</span><span class="sxs-lookup"><span data-stu-id="524fe-165">If you specify the <local> macro, the function bypasses any host name that does not contain a period.</span></span>

> [!WARNING]
> <span data-ttu-id="524fe-166">Dopo l'esecuzione di Proxycfg.exe, non è possibile ripristinare le impostazioni proxy precedenti.</span><span class="sxs-lookup"><span data-stu-id="524fe-166">After Proxycfg.exe runs, you cannot restore the previous proxy settings.</span></span> <span data-ttu-id="524fe-167">Tuttavia, è possibile rimuovere completamente le impostazioni del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-167">However, you can remove the proxy settings entirely.</span></span>

 

## <a name="usage"></a><span data-ttu-id="524fe-168">Utilizzo</span><span class="sxs-lookup"><span data-stu-id="524fe-168">Usage</span></span>

<span data-ttu-id="524fe-169">Per utilizzare lo strumento di configurazione del proxy, aprire una finestra del prompt dei comandi ed eseguire l'utilità di configurazione del proxy con i parametri della riga di comando appropriati.</span><span class="sxs-lookup"><span data-stu-id="524fe-169">To use the proxy configuration tool, open a command prompt window and run the proxy configuration utility with the appropriate command line parameters.</span></span> <span data-ttu-id="524fe-170">Nella sezione seguente vengono forniti esempi di sintassi.</span><span class="sxs-lookup"><span data-stu-id="524fe-170">The following section provides syntax examples.</span></span>

## <a name="example-syntax"></a><span data-ttu-id="524fe-171">Sintassi di esempio</span><span class="sxs-lookup"><span data-stu-id="524fe-171">Example Syntax</span></span>

### <a name="example-1-use-a-proxy-only-for-external-resources"></a><span data-ttu-id="524fe-172">Esempio 1: usare un proxy solo per le risorse esterne</span><span class="sxs-lookup"><span data-stu-id="524fe-172">Example 1: Use a proxy only for external resources</span></span>

<span data-ttu-id="524fe-173">Di seguito è riportato l'utilizzo più comune per Proxycfg.exe.</span><span class="sxs-lookup"><span data-stu-id="524fe-173">The following is the most common use for Proxycfg.exe.</span></span> <span data-ttu-id="524fe-174">Questo comando specifica che è possibile accedere ai server HTTP e HTTPS tramite il server proxy denominato " \_ server proxy", ad eccezione dei nomi host che non contengono un punto.</span><span class="sxs-lookup"><span data-stu-id="524fe-174">This command specifies that both HTTP and HTTPS servers are accessed through the proxy server named "proxy\_server", except for host names that do not contain a period.</span></span>

<span data-ttu-id="524fe-175">**server proxy proxycfg-p \_ " <local> "**</span><span class="sxs-lookup"><span data-stu-id="524fe-175">**proxycfg -p proxy\_server "<local>"**</span></span>

### <a name="example-2-use-a-proxy-for-all-resources"></a><span data-ttu-id="524fe-176">Esempio 2: usare un proxy per tutte le risorse</span><span class="sxs-lookup"><span data-stu-id="524fe-176">Example 2: Use a proxy for all resources</span></span>

<span data-ttu-id="524fe-177">Nell'esempio seguente viene specificato che è possibile accedere ai server HTTP e HTTPS tramite il server proxy denominato " \_ server proxy".</span><span class="sxs-lookup"><span data-stu-id="524fe-177">The following example specifies that both HTTP and HTTPS servers are accessed through the proxy server named "proxy\_server".</span></span> <span data-ttu-id="524fe-178">Non è specificato alcun elenco di bypass.</span><span class="sxs-lookup"><span data-stu-id="524fe-178">No bypass list is specified.</span></span>

<span data-ttu-id="524fe-179">**server proxy proxycfg-p \_**</span><span class="sxs-lookup"><span data-stu-id="524fe-179">**proxycfg -p proxy\_server**</span></span>

### <a name="example-3-use-a-different-proxy-for-secure-resources"></a><span data-ttu-id="524fe-180">Esempio 3: usare un proxy diverso per le risorse protette</span><span class="sxs-lookup"><span data-stu-id="524fe-180">Example 3: Use a different proxy for secure resources</span></span>

<span data-ttu-id="524fe-181">Nell'esempio seguente viene specificato che è possibile accedere ai server HTTP tramite il proxy \_ proxy http ed è possibile accedere ai server HTTPS tramite il \_ proxy HTTPS.</span><span class="sxs-lookup"><span data-stu-id="524fe-181">The following example specifies that HTTP servers are accessed through the http\_proxy proxy and HTTPS servers are accessed through https\_proxy.</span></span> <span data-ttu-id="524fe-182">Il proxy viene ignorato dai siti Intranet locali e da qualsiasi sito nel \* dominio. Microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="524fe-182">Local intranet sites and any site in the \*.microsoft.com domain bypass the proxy.</span></span>

<span data-ttu-id="524fe-183">**proxycfg-p "http = \_ proxy HTTP HTTPS = \_ proxy HTTPS" " <local> ; \* . microsoft.com "**</span><span class="sxs-lookup"><span data-stu-id="524fe-183">**proxycfg -p "http=http\_proxy https=https\_proxy" "<local>;\*.microsoft.com"**</span></span>

## <a name="removing-proxycfgexe"></a><span data-ttu-id="524fe-184">Rimozione di ProxyCfg.exe</span><span class="sxs-lookup"><span data-stu-id="524fe-184">Removing ProxyCfg.exe</span></span>

<span data-ttu-id="524fe-185">Dopo aver utilizzato lo strumento di configurazione del proxy, non è possibile ripristinare le impostazioni proxy originali.</span><span class="sxs-lookup"><span data-stu-id="524fe-185">After using the proxy configuration tool, you cannot restore your original proxy settings.</span></span> <span data-ttu-id="524fe-186">Tuttavia, se necessario, è possibile rimuovere le impostazioni del registro di sistema create dall'utilità.</span><span class="sxs-lookup"><span data-stu-id="524fe-186">However, if necessary, you can remove the registry settings that the utility creates.</span></span> <span data-ttu-id="524fe-187">Per rimuovere le voci del registro di sistema create da ProxyCfg.exe, è necessario eliminare il valore **WinHttpSettings** dalla seguente chiave del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="524fe-187">To remove the registry entries that ProxyCfg.exe creates, you must delete the **WinHttpSettings** value from the following registry key.</span></span>

<span data-ttu-id="524fe-188">**HKEY \_ \_Computer locale** \\ **software** \\ **Microsoft** \\ **Windows** \\ **CurrentVersion** \\ **Internet Settings** \\ **Connections** \\ **WinHttpSettings**</span><span class="sxs-lookup"><span data-stu-id="524fe-188">**HKEY\_LOCAL\_MACHINE**\\**SOFTWARE**\\**Microsoft**\\**Windows**\\**CurrentVersion**\\**Internet Settings**\\**Connections**\\**WinHttpSettings**</span></span>

<span data-ttu-id="524fe-189">Se si elimina il valore *WinHttpSettings* , verranno rimosse tutte le configurazioni del proxy.</span><span class="sxs-lookup"><span data-stu-id="524fe-189">Deleting the *WinHttpSettings* value removes all proxy configurations.</span></span>

## <a name="proxycfgexe-and-authentication"></a><span data-ttu-id="524fe-190">ProxyCfg.exe e autenticazione</span><span class="sxs-lookup"><span data-stu-id="524fe-190">ProxyCfg.exe and Authentication</span></span>

<span data-ttu-id="524fe-191">L'utilità di configurazione del proxy imposta i criteri di autenticazione predefiniti.</span><span class="sxs-lookup"><span data-stu-id="524fe-191">The proxy configuration utility sets the default authentication policy.</span></span> <span data-ttu-id="524fe-192">Poiché non è consigliabile eseguire l'autenticazione NTLM con host non attendibili, per impostazione predefinita l'autenticazione NTLM si verifica solo automaticamente con gli host nell'elenco proxy bypass.</span><span class="sxs-lookup"><span data-stu-id="524fe-192">Because you should not perform NTLM authentication with untrusted hosts, by default, NTLM authentication only occurs automatically with hosts on the proxy bypass list.</span></span> <span data-ttu-id="524fe-193">Se non è presente alcun proxy, è comunque possibile utilizzare ProxyCfg.exe per specificare un elenco di host da ignorare che si considera attendibile per eseguire l'autenticazione NTLM.</span><span class="sxs-lookup"><span data-stu-id="524fe-193">If there is no proxy, you can still use ProxyCfg.exe to specify a bypass list of hosts that you trust to perform NTLM authentication.</span></span> <span data-ttu-id="524fe-194">Un nome proxy è obbligatorio quando si usa ProxyCfg.exe a questo scopo, ma è possibile usare qualsiasi stringa valida al posto di un nome di proxy reale.</span><span class="sxs-lookup"><span data-stu-id="524fe-194">A proxy name is required when using ProxyCfg.exe for this purpose, but you can use any valid string in place of a real proxy name.</span></span>

<span data-ttu-id="524fe-195">Per ulteriori informazioni sui criteri di accesso automatico, vedere [criteri di accesso automatico](authentication-in-winhttp.md).</span><span class="sxs-lookup"><span data-stu-id="524fe-195">For more information about the auto-logon policy, see [Automatic Logon Policy](authentication-in-winhttp.md).</span></span>

 

 
