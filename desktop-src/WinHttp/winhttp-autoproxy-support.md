---
description: Per semplificare la configurazione delle impostazioni proxy, WinHTTP 5,1 implementa il protocollo WPAD (Web Proxy Auto-Discovery), noto anche come AutoProxy.
ms.assetid: f766f37b-a1aa-420f-ac3b-d03485630d88
title: Supporto del proxy AutoProxy WinHTTP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 26584bd0b1809f3866ed42adc7198275f40f991c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106307106"
---
# <a name="winhttp-autoproxy-support"></a><span data-ttu-id="8a814-103">Supporto del proxy AutoProxy WinHTTP</span><span class="sxs-lookup"><span data-stu-id="8a814-103">WinHTTP AutoProxy Support</span></span>

<span data-ttu-id="8a814-104">Per semplificare la configurazione delle impostazioni proxy, WinHTTP 5,1 implementa il protocollo WPAD (Web Proxy Auto-Discovery), noto anche come AutoProxy.</span><span class="sxs-lookup"><span data-stu-id="8a814-104">To ease the configuration of proxy settings, WinHTTP 5.1 implements the Web Proxy Auto-Discovery (WPAD) protocol, also known as autoproxy.</span></span>

## <a name="overview-of-autoproxy"></a><span data-ttu-id="8a814-105">Panoramica di AutoProxy</span><span class="sxs-lookup"><span data-stu-id="8a814-105">Overview of AutoProxy</span></span>

<span data-ttu-id="8a814-106">Le applicazioni e i componenti che usano WinHTTP per inviare richieste HTTP devono assicurarsi che la configurazione del proxy sia impostata correttamente.</span><span class="sxs-lookup"><span data-stu-id="8a814-106">Applications and components that use WinHTTP to send HTTP requests should ensure that the proxy configuration is set correctly.</span></span> <span data-ttu-id="8a814-107">A meno che il client non disponga di una connessione Internet diretta, una richiesta HTTP deve essere normalmente inviata tramite un server proxy Web che connette la rete locale del client a Internet (ad esempio, questo è spesso il caso per i client Web in una LAN aziendale).</span><span class="sxs-lookup"><span data-stu-id="8a814-107">Unless the client has a direct Internet connection, an HTTP request should normally be sent through a web proxy server that connects the client's local network to the Internet (for example, this is often the case for Web clients on a corporate LAN).</span></span> <span data-ttu-id="8a814-108">Per le applicazioni basate su server, la configurazione del proxy viene in genere gestita dall'amministratore del server tramite l'utilità WinHTTP ProxyCfg.exe.</span><span class="sxs-lookup"><span data-stu-id="8a814-108">For server-based applications, the proxy configuration is normally managed by the server's administrator using the WinHTTP ProxyCfg.exe utility.</span></span> <span data-ttu-id="8a814-109">L'amministratore del server conosce in anticipo il nome del server proxy e USA ProxyCfg.exe per registrare questa impostazione nel registro di sistema in cui WinHTTP può cercarlo.</span><span class="sxs-lookup"><span data-stu-id="8a814-109">The server administrator knows the name of the proxy server in advance and uses ProxyCfg.exe to record this setting in the registry where WinHTTP can look it up.</span></span> <span data-ttu-id="8a814-110">Tuttavia, è problematico richiedere agli utenti finali del desktop client di configurare manualmente le impostazioni proxy WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="8a814-110">However, requiring client desktop end-users to manually configure WinHTTP proxy settings is problematic.</span></span> <span data-ttu-id="8a814-111">È possibile che l'utente finale non conosca il nome del server proxy. richiedere all'utente finale di eseguire l'utilità di ProxyCfg.exe può essere un onere del supporto per un'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="8a814-111">The end-user may not know the name of the proxy server; requiring the end-user to run the ProxyCfg.exe utility can be a support burden for an organization.</span></span> <span data-ttu-id="8a814-112">Per supportare un'esperienza utente ottimale, un'applicazione client abilitata per il Web deve determinare la configurazione del proxy senza l'intervento dell'utente.</span><span class="sxs-lookup"><span data-stu-id="8a814-112">To support a good user experience, a web-enabled client application should determine the proxy configuration without user intervention.</span></span>

<span data-ttu-id="8a814-113">Per semplificare la configurazione delle impostazioni proxy per le applicazioni basate su WinHTTP, WinHTTP ora implementa il [protocollo WPAD (Web Proxy Auto-Discovery)](https://tools.ietf.org/html/draft-ietf-wrec-wpad-01), spesso definito *AutoProxy*.</span><span class="sxs-lookup"><span data-stu-id="8a814-113">To make configuring the proxy settings for WinHTTP-based applications easier, WinHTTP now implements the [Web Proxy Auto-Discovery (WPAD) protocol](https://tools.ietf.org/html/draft-ietf-wrec-wpad-01), often referred to as *autoproxy*.</span></span> <span data-ttu-id="8a814-114">Si tratta dello stesso protocollo implementato dai Web browser per individuare automaticamente la configurazione del proxy senza richiedere a un utente finale di specificare manualmente un server proxy.</span><span class="sxs-lookup"><span data-stu-id="8a814-114">This is the same protocol that web browsers implement to automatically discover the proxy configuration without requiring an end-user to specify a proxy server manually.</span></span> <span data-ttu-id="8a814-115">Questa funzionalità è disponibile a partire da WinHTTP versione 5,1 in Windows 2000 Service Pack 3, Windows XP Service Pack 1 e Windows Server 2003.</span><span class="sxs-lookup"><span data-stu-id="8a814-115">This feature is available starting with WinHTTP version 5.1 in Windows 2000 Service Pack 3, Windows XP Service Pack 1 and Windows Server 2003.</span></span> <span data-ttu-id="8a814-116">Si noti che, sebbene Microsoft Internet Explorer e Microsoft WinHTTP supportino WPAD, la specifica non progredisce mai oltre la fase "Internet-Draft" ed è scaduta il 2001 maggio.</span><span class="sxs-lookup"><span data-stu-id="8a814-116">Note that although both Microsoft Internet Explorer and Microsoft WinHTTP support WPAD, the specification never progressed beyond the "Internet-Draft" stage, and expired in May 2001.</span></span>

<span data-ttu-id="8a814-117">Il protocollo WPAD funziona nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="8a814-117">The WPAD protocol works as follows:</span></span>

1.  <span data-ttu-id="8a814-118">Utilizzando i protocolli di rete DHCP e/o DNS, viene individuato l'URL di un file di configurazione automatica proxy (PAC).</span><span class="sxs-lookup"><span data-stu-id="8a814-118">Using the DHCP and/or DNS network protocols, the URL of a Proxy Auto-Configuration (PAC) file is discovered.</span></span> <span data-ttu-id="8a814-119">L'URL identifica un file PAC nella rete locale del client.</span><span class="sxs-lookup"><span data-stu-id="8a814-119">The URL identifies a PAC file on the client's local network.</span></span> <span data-ttu-id="8a814-120">WinHTTP supporta solo gli URL PAC "http:" e "https:"; non supporta, ad esempio, gli URL "file:".</span><span class="sxs-lookup"><span data-stu-id="8a814-120">WinHTTP supports only "http:" and "https:" PAC URLs; it does not, for example, support "file:" URLS.</span></span>
2.  <span data-ttu-id="8a814-121">Il file PAC viene scaricato e, facoltativamente, memorizzato nella cache nel computer del client.</span><span class="sxs-lookup"><span data-stu-id="8a814-121">The PAC file is downloaded and optionally cached on the client's computer.</span></span> <span data-ttu-id="8a814-122">Il file PAC è uno script eseguibile che genera un elenco di uno o più server proxy, dato un nome host e un URL di destinazione.</span><span class="sxs-lookup"><span data-stu-id="8a814-122">The PAC file is an executable script that generates a list of one or more proxy servers given a target host name and URL.</span></span> <span data-ttu-id="8a814-123">WinHTTP supporta solo file PAC basati su ECMAScript.</span><span class="sxs-lookup"><span data-stu-id="8a814-123">WinHTTP supports only ECMAScript-based PAC files.</span></span>
3.  <span data-ttu-id="8a814-124">Per ogni richiesta HTTP, viene eseguito il codice di script PAC con il nome host e l'URL della richiesta HTTP passati come parametri.</span><span class="sxs-lookup"><span data-stu-id="8a814-124">On each HTTP request, the PAC script code is executed, with the host name and URL of the HTTP request passed in as parameters.</span></span> <span data-ttu-id="8a814-125">WinHTTP prevede che il codice di script PAC contenga una funzione denominata **FindProxyForURL**, nel formato seguente:</span><span class="sxs-lookup"><span data-stu-id="8a814-125">WinHTTP expects the PAC script code to contain a function called **FindProxyForURL**, in the form:</span></span>
4.  ``` syntax
    FindProxyForURL( url, host );
    ```

    <span data-ttu-id="8a814-126">Questa funzione calcola un elenco di uno o più server proxy che possono essere usati dal client HTTP per trasmettere la richiesta.</span><span class="sxs-lookup"><span data-stu-id="8a814-126">This function computes a list of one or more proxy servers that can be used by the HTTP client in order to transmit the request.</span></span> <span data-ttu-id="8a814-127">Se lo script PAC determina che il client HTTP può raggiungere direttamente il server di destinazione senza passare attraverso un server proxy, indica che l'uso di un valore restituito speciale.</span><span class="sxs-lookup"><span data-stu-id="8a814-127">If the PAC script determines that the HTTP client can reach the target server directly without going through a proxy server at all, it indicates this using a special return value.</span></span>

## <a name="autoproxy-topics"></a><span data-ttu-id="8a814-128">Argomenti relativi a AutoProxy</span><span class="sxs-lookup"><span data-stu-id="8a814-128">AutoProxy Topics</span></span>

-   [<span data-ttu-id="8a814-129">Funzioni proxy AutoProxy WinHTTP</span><span class="sxs-lookup"><span data-stu-id="8a814-129">WinHTTP AutoProxy Functions</span></span>](winhttp-autoproxy-api.md)
-   [<span data-ttu-id="8a814-130">Individuazione senza un file di configurazione automatica</span><span class="sxs-lookup"><span data-stu-id="8a814-130">Discovery Without an Auto-Config File</span></span>](discovery-without-an-auto-config-file.md)
-   [<span data-ttu-id="8a814-131">Problemi di proxy AutoProxy in WinHTTP</span><span class="sxs-lookup"><span data-stu-id="8a814-131">AutoProxy Issues in WinHTTP</span></span>](autoproxy-issues-in-winhttp.md)
-   [<span data-ttu-id="8a814-132">Impostazione delle configurazioni del proxy WinInet in WinHTTP</span><span class="sxs-lookup"><span data-stu-id="8a814-132">Setting WinInet Proxy Configurations in WinHTTP</span></span>](setting-wininet-proxy-configurations-in-winhttp.md)
-   [<span data-ttu-id="8a814-133">Cache AutoProxy</span><span class="sxs-lookup"><span data-stu-id="8a814-133">AutoProxy Cache</span></span>](autoproxy-cache.md)
-   [<span data-ttu-id="8a814-134">Estensioni IPv6 per il formato di file di configurazione automatica dello strumento di navigazione</span><span class="sxs-lookup"><span data-stu-id="8a814-134">IPv6 Extensions to Navigator Auto-Config File Format</span></span>](ipv6-extensions-to-navigator-auto-config-file-format.md)

 

 



