---
description: Viene descritto come archiviare i dati di Windows Media in un file AVI.
ms.assetid: f2a9d9ff-4876-4f24-b96a-5d89e42fa3d5
title: Archiviazione di supporti compressi in file AVI (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 080524a47b4295517d50705f6aeb125d085a8346
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/03/2021
ms.locfileid: "104351496"
---
# <a name="storing-compressed-media-in-avi-files-microsoft-media-foundation"></a><span data-ttu-id="17092-103">Archiviazione di supporti compressi in file AVI (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="17092-103">Storing Compressed Media in AVI Files (Microsoft Media Foundation)</span></span>

<span data-ttu-id="17092-104">Tutti i contenuti compressi con i codec Windows Media Audio e video devono essere inseriti in un formato di contenitore.</span><span class="sxs-lookup"><span data-stu-id="17092-104">Any of the content that you compress using the Windows Media Audio and Video codecs must be put in some container format.</span></span> <span data-ttu-id="17092-105">Uno dei formati più diffusi è il video audio interleave o AVI.</span><span class="sxs-lookup"><span data-stu-id="17092-105">One of the most popular formats is Audio Video Interleave, or AVI.</span></span> <span data-ttu-id="17092-106">È possibile usare Microsoft video for Windows (VfW) o Microsoft DirectShow per creare file AVI.</span><span class="sxs-lookup"><span data-stu-id="17092-106">You can use Microsoft Video for Windows (VfW) or Microsoft DirectShow to create AVI files.</span></span> <span data-ttu-id="17092-107">Per ulteriori informazioni sull'utilizzo di video per Windows o DirectShow, consultare la documentazione del prodotto su MSDN.</span><span class="sxs-lookup"><span data-stu-id="17092-107">For more information about using Video for Windows or DirectShow, refer to the product documentation on MSDN.</span></span>

<span data-ttu-id="17092-108">I codec Windows Media Audio e video sono stati sviluppati per usare le proprietà del formato ASF (Advanced Systems Format), ovvero il contenitore usato da Windows Media.</span><span class="sxs-lookup"><span data-stu-id="17092-108">The Windows Media Audio and Video codecs have been developed to use the properties of the Advanced Systems Format (ASF), which is the container used by Windows Media.</span></span> <span data-ttu-id="17092-109">Poiché AVI e ASF archiviano il contenuto in modo diverso, si verificano alcune difficoltà quando si archivia il contenuto compresso con i codec Windows Media Audio e video in un file AVI.</span><span class="sxs-lookup"><span data-stu-id="17092-109">Because AVI and ASF store content differently, some difficulties arise when storing content compressed with the Windows Media Audio and Video codecs in an AVI file.</span></span>

<span data-ttu-id="17092-110">I codec di Windows Media Audio comprimono il contenuto audio in modo tale che non possa essere decompresso correttamente senza timestamp per i singoli esempi.</span><span class="sxs-lookup"><span data-stu-id="17092-110">The Windows Media Audio codecs compress audio content in such a way that it cannot be properly decompressed without time stamps for the individual samples.</span></span> <span data-ttu-id="17092-111">In questo modo è possibile ottimizzare i supporti compressi.</span><span class="sxs-lookup"><span data-stu-id="17092-111">This enables some optimization in the compressed media.</span></span> <span data-ttu-id="17092-112">Poiché il contenitore ASF mantiene i timestamp con tutti gli esempi, questa caratteristica degli algoritmi audio ha sempre funzionato correttamente.</span><span class="sxs-lookup"><span data-stu-id="17092-112">Because the ASF container keeps time stamps with all samples, this characteristic of the audio algorithms has always worked well.</span></span>

<span data-ttu-id="17092-113">I file AVI, tuttavia, non mantengono i timestamp con i campioni.</span><span class="sxs-lookup"><span data-stu-id="17092-113">AVI files, however, do not keep time stamps with samples.</span></span> <span data-ttu-id="17092-114">Ciò significa che Windows Media Audio contenuto non può essere decompresso correttamente quando viene archiviato in un file AVI.</span><span class="sxs-lookup"><span data-stu-id="17092-114">This means that Windows Media Audio content cannot be decompressed properly when stored in an AVI file.</span></span> <span data-ttu-id="17092-115">Windows Media Video contenuto non presenta questa limitazione e può essere incluso nei file AVI.</span><span class="sxs-lookup"><span data-stu-id="17092-115">Windows Media Video content does not have this limitation, and can be included in AVI files.</span></span> <span data-ttu-id="17092-116">Per codificare Windows Media Video contenuto in un file AVI con audio sincronizzato, è necessario usare un altro codec audio.</span><span class="sxs-lookup"><span data-stu-id="17092-116">To encode Windows Media Video content to an AVI file with synchronized sound, you must use another audio codec.</span></span>

<span data-ttu-id="17092-117">L'altro problema relativo all'uso di un file AVI come contenitore per Windows Media riguarda i video a bassa velocità in bit.</span><span class="sxs-lookup"><span data-stu-id="17092-117">The other issue with using an AVI file as a container for Windows Media concerns low-bit-rate video.</span></span> <span data-ttu-id="17092-118">Uno dei modi in cui i codec di Windows Media Video producono contenuti video per velocità in bit ridotti è l'eliminazione di frame duplicati.</span><span class="sxs-lookup"><span data-stu-id="17092-118">One of the ways in which the Windows Media Video codecs produce video content for low bit rates is by dropping duplicate frames.</span></span> <span data-ttu-id="17092-119">Se si desidera inserire Windows Media Video contenuto in un file ASF, è necessario impostare il codificatore per il recapito di frame fittizi per i frame duplicati (impostare [MFPKEY \_ PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) su Variant \_ true) in modo che ogni frame sia rappresentato nel file.</span><span class="sxs-lookup"><span data-stu-id="17092-119">If you want to put Windows Media Video content in an ASF file, you need to set the encoder to deliver dummy frames for duplicate frames (set [MFPKEY\_PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) to VARIANT\_TRUE) so that every frame is represented in the file.</span></span> <span data-ttu-id="17092-120">I frame fittizi prodotti dal codec hanno dimensioni pari a 8 byte.</span><span class="sxs-lookup"><span data-stu-id="17092-120">The dummy frames produced by the codec are 8 bytes in size.</span></span> <span data-ttu-id="17092-121">Tuttavia, il frame scritto nel file dal multiplexer AVI può essere di centinaia di byte più grande e riempito con dati casuali.</span><span class="sxs-lookup"><span data-stu-id="17092-121">However, the frame written to file by the AVI multiplexer can be hundreds of bytes larger, and filled with random data.</span></span> <span data-ttu-id="17092-122">Un file AVI creato in questo modo sarà ancora giocabile, ma sarà molto più grande del previsto.</span><span class="sxs-lookup"><span data-stu-id="17092-122">An AVI file made in this way will still be playable, but it will be much larger than expected.</span></span> <span data-ttu-id="17092-123">È possibile evitare questo problema usando velocità in bit maggiori durante la codifica del video per l'archiviazione nei file AVI.</span><span class="sxs-lookup"><span data-stu-id="17092-123">You can avoid this problem by using higher bit rates when encoding video for storage in AVI files.</span></span>

## <a name="related-topics"></a><span data-ttu-id="17092-124">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="17092-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="17092-125">Codec Windows Media</span><span class="sxs-lookup"><span data-stu-id="17092-125">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 



