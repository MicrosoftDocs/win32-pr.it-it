---
description: Nozioni fondamentali su DMO
ms.assetid: eaf453d2-69f8-432a-8a58-1ed70778f182
title: Nozioni di base su DMO (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44b1aca2fcd7e70cf78e2e95135aee73c454b910
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104225806"
---
# <a name="dmo-basics-microsoft-media-foundation"></a><span data-ttu-id="bb6ea-103">Nozioni di base su DMO (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="bb6ea-103">DMO Basics (Microsoft Media Foundation)</span></span>

<span data-ttu-id="bb6ea-104">In questo argomento viene fornita una breve panoramica di DMOs in relazione ai codec Windows Media.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-104">This topic provides a brief overview of DMOs as they relate to Windows Media Codecs.</span></span> <span data-ttu-id="bb6ea-105">Per altre informazioni su DMOs, vedere [oggetti multimediali DirectX](../directshow/directx-media-objects.md).</span><span class="sxs-lookup"><span data-stu-id="bb6ea-105">For more information about DMOs, see [DirectX Media Objects](../directshow/directx-media-objects.md).</span></span>

<span data-ttu-id="bb6ea-106">Un DMO è un oggetto COM che trasforma i dati.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-106">A DMO is a COM object that transforms data.</span></span> <span data-ttu-id="bb6ea-107">I dati vengono passati e vengono restituiti i dati trasformati.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-107">You pass data to it, and it returns the transformed data.</span></span> <span data-ttu-id="bb6ea-108">Nel caso di un codec Encoder DMO, è possibile inserire dati multimediali non compressi e DMO recapita dati multimediali compressi.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-108">In the case of a codec encoder DMO, you input uncompressed media data and the DMO delivers compressed media data.</span></span> <span data-ttu-id="bb6ea-109">Il vantaggio principale dell'utilizzo di DMOs consiste nel fatto che tutti implementano la stessa interfaccia di base, [**IMediaObject**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject), che semplifica l'utilizzo di tali interfacce, in quanto è possibile utilizzare lo stesso oggetto, indipendentemente dal tipo di trasformazione eseguito.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-109">The primary advantage of using DMOs is that they all implement the same base interface, [**IMediaObject**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject), which simplifies working with them because you can use the same object, regardless of the type of transformation being performed.</span></span>

<span data-ttu-id="bb6ea-110">Poiché sono presenti variabili che coinvolgono qualsiasi tipo di trasformazione dei dati, la trasformazione audio e video deve tenere conto dell'ampia gamma di possibili configurazioni multimediali.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-110">Because there are variables involved in any sort of data transformation, audio and video transformation must take into account the wide range of possible media configurations.</span></span> <span data-ttu-id="bb6ea-111">I codec Windows Media Audio e video supportano anche una serie di funzionalità speciali che è necessario poter configurare usando DMO.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-111">The Windows Media Audio and Video codecs also support a number of special features that you must be able to configure by using the DMO.</span></span>

<span data-ttu-id="bb6ea-112">In generale, le informazioni sulle variabili necessarie per il codec DMOs per comprimere e decomprimere i supporti digitali vengono fornite in uno dei tre modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="bb6ea-112">In general, the variable information that is needed by the codec DMOs to compress and decompress digital media is conveyed in one of three ways:</span></span>

-   <span data-ttu-id="bb6ea-113">Impostare il tipo di input in DMO per fornire le caratteristiche del supporto non compresso passato a un codificatore DMO e le caratteristiche del supporto compresso passato a un decodificatore DMO.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-113">Set the input type on the DMO to convey the characteristics of the uncompressed media that you pass to an encoder DMO, and the characteristics of the compressed media that you pass to a decoder DMO.</span></span>
-   <span data-ttu-id="bb6ea-114">Impostare il tipo di output su DMO per fornire le caratteristiche dei supporti compressi che vengono recapitati da un codificatore DMO e le caratteristiche del supporto non compresso che vengono recapitati da un decodificatore DMO.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-114">Set the output type on the DMO to convey the characteristics of the compressed media that are delivered by an encoder DMO, and the characteristics of the uncompressed media that are delivered by a decoder DMO.</span></span>
-   <span data-ttu-id="bb6ea-115">Usando i metodi dell'interfaccia **IPropertyBag** , configurare altre impostazioni che supportano le varie funzionalità del codec DMOS come proprietà.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-115">Using the methods of the **IPropertyBag** interface, configure other settings that support the various features of the codec DMOs as properties.</span></span> <span data-ttu-id="bb6ea-116">**IPropertyBag** è un'interfaccia com standard supportata da tutti i codec DMOS.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-116">**IPropertyBag** is a standard COM interface that is supported by all of the codec DMOs.</span></span>

<span data-ttu-id="bb6ea-117">Inoltre, alcune funzionalità di codec vengono gestite usando altre interfacce specifiche per il codec DMOs.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-117">Additionally, some codec features are managed by using other interfaces that are specific to the codec DMOs.</span></span> <span data-ttu-id="bb6ea-118">Queste interfacce sono elencate per ogni codec nella sezione [oggetti codec](codecobjects.md).</span><span class="sxs-lookup"><span data-stu-id="bb6ea-118">These interfaces are listed for each codec in the section [Codec Objects](codecobjects.md).</span></span>

<span data-ttu-id="bb6ea-119">I tipi di input e di output sono specifici per i flussi di input e di output.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-119">Input and output types are specific to input and output streams.</span></span> <span data-ttu-id="bb6ea-120">Ogni flusso rappresenta una rappresentazione discreta del contenuto.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-120">Each stream represents a discrete representation of the content.</span></span> <span data-ttu-id="bb6ea-121">Ad esempio, il Windows Media Video Encoder DMO dispone di un singolo flusso di input e di due flussi di output.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-121">For example, the Windows Media Video encoder DMO has a single input stream, and two output streams.</span></span> <span data-ttu-id="bb6ea-122">Il flusso di input accetta esempi video non compressi.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-122">The input stream accepts uncompressed video samples.</span></span> <span data-ttu-id="bb6ea-123">Il primo dei due flussi di output fornisce esempi compressi; l'altra fornisce esempi non compressi.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-123">The first of the two output streams delivers compressed samples; the other provides uncompressed samples.</span></span> <span data-ttu-id="bb6ea-124">I singoli esempi in un flusso di output rappresentano lo stesso contenuto degli esempi corrispondenti nell'altro flusso, ma ogni flusso recapita questi esempi in un formato diverso.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-124">The individual samples in one output stream represent the same content as the corresponding samples in the other stream, but each stream delivers those samples in a different format.</span></span>

<span data-ttu-id="bb6ea-125">Ogni flusso (input o output) supporta uno o più tipi di supporto.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-125">Each stream (input or output) supports one or more types of media.</span></span> <span data-ttu-id="bb6ea-126">Un tipo di supporto, o format, è descritto da una struttura del [**\_ \_ tipo di supporto DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) .</span><span class="sxs-lookup"><span data-stu-id="bb6ea-126">A media type, or format, is described by a [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure.</span></span> <span data-ttu-id="bb6ea-127">È possibile eseguire una query su DMO per i tipi supportati da un flusso di output chiamando [**IMediaObject:: GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype).</span><span class="sxs-lookup"><span data-stu-id="bb6ea-127">You can query the DMO for the types that are supported by an output stream by calling [**IMediaObject::GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype).</span></span> <span data-ttu-id="bb6ea-128">Questo metodo restituisce un tipo di output valido, sebbene in alcuni casi parzialmente incompleto, per quel flusso.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-128">This method returns a valid (though in some cases partially incomplete) output type for that stream.</span></span> <span data-ttu-id="bb6ea-129">È possibile enumerare i tipi di supporto supportati per un flusso di output effettuando chiamate ripetute a **GetOutputType**, incrementando il parametro di tipo a ogni chiamata.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-129">You can enumerate the supported media types for an output stream by making repeated calls to **GetOutputType**, incrementing the type parameter with each call.</span></span> <span data-ttu-id="bb6ea-130">Quando l'indice del tipo passato non è più limitato, il metodo restituisce **DMO \_ E \_ non \_ più \_ elementi**.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-130">When the type index that you pass is out of bounds, the method returns **DMO\_E\_NO\_MORE\_ITEMS**.</span></span> <span data-ttu-id="bb6ea-131">I formati di input possono essere enumerati nello stesso modo usando il metodo [**IMediaObject:: GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) .</span><span class="sxs-lookup"><span data-stu-id="bb6ea-131">Input formats can be enumerated in the same way by using the [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) method.</span></span>

<span data-ttu-id="bb6ea-132">I tipi enumerati da DMO sono solo i tipi "Preferiti", tuttavia potrebbero essere supportati altri tipi.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-132">The types that are enumerated by the DMO are only the "preferred" types, however, other types may be supported.</span></span> <span data-ttu-id="bb6ea-133">È possibile convalidare un tipo di output chiamando [**IMediaObject:: SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype).</span><span class="sxs-lookup"><span data-stu-id="bb6ea-133">You can validate an output type by calling [**IMediaObject::SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype).</span></span> <span data-ttu-id="bb6ea-134">Usare [**IMediaObject:: SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) per convalidare un tipo di input.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-134">Use [**IMediaObject::SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) to validate an input type.</span></span> <span data-ttu-id="bb6ea-135">Entrambi i metodi restituiscono **DMO \_ E \_ Type \_ non \_ accettati** se la struttura del [**\_ \_ tipo di supporto DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) passata non è valida.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-135">Both methods will return **DMO\_E\_TYPE\_NOT\_ACCEPTED** if the [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure you passed is invalid.</span></span> <span data-ttu-id="bb6ea-136">Per alcuni DMOs è necessario impostare un tipo di output prima di enumerare tutti i tipi di input.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-136">Some DMOs require you to set an output type before enumerating any input types.</span></span> <span data-ttu-id="bb6ea-137">Il Windows Media Audio e il codec video DMOs includono tutti gli input e gli output con convalida interdipendente.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-137">The Windows Media Audio and Video codec DMOs all have inputs and outputs that have interdependent validation.</span></span> <span data-ttu-id="bb6ea-138">Ovvero il tipo di output impostato imposta i criteri di convalida per il tipo di input.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-138">That is, the output type you set will set the validation criteria for the input type.</span></span> <span data-ttu-id="bb6ea-139">Sono inoltre presenti alcune proprietà che, se impostate, modificano i tipi di input e di output validi.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-139">There are also some properties that, when set, alter the valid input and output types.</span></span> <span data-ttu-id="bb6ea-140">Per questo motivo, è necessario impostare tutte le proprietà desiderate su DMO prima di enumerare i tipi.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-140">For this reason, you should set all of the desired properties on the DMO before enumerating types.</span></span>

<span data-ttu-id="bb6ea-141">Dopo aver impostato i tipi di output e di input per DMO, è possibile iniziare l'elaborazione degli esempi.</span><span class="sxs-lookup"><span data-stu-id="bb6ea-141">When you have set the output and input types for the DMO, you can begin processing samples.</span></span> <span data-ttu-id="bb6ea-142">Ogni esempio di input viene passato al codec usando una chiamata a [**IMediaObject::P rocessinput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processinput)e ogni esempio di output viene recapitato dal codec quando si effettua una chiamata a [**IMediaObject::P rocessoutput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processoutput).</span><span class="sxs-lookup"><span data-stu-id="bb6ea-142">Each input sample is passed to the codec using a call to [**IMediaObject::ProcessInput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processinput), and each output sample is delivered by the codec when you make a call to [**IMediaObject::ProcessOutput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processoutput).</span></span>

## <a name="related-topics"></a><span data-ttu-id="bb6ea-143">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="bb6ea-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bb6ea-144">Uso di codec DMOs</span><span class="sxs-lookup"><span data-stu-id="bb6ea-144">Working with Codec DMOs</span></span>](workingwithcodecdmos.md)
</dt> </dl>

 

 
