---
description: Viene descritto come aggiungere estensioni di unità dati quando si utilizzano codificatori Windows Media.
ms.assetid: fdadcb85-c564-4d05-a4d7-af53a0107455
title: Uso delle estensioni dell'unità dati (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21c16053ee078f5adcd48767f53d9e6e1c0eeb02
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106308979"
---
# <a name="using-data-unit-extensions-microsoft-media-foundation"></a><span data-ttu-id="88a1d-103">Uso delle estensioni dell'unità dati (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="88a1d-103">Using Data Unit Extensions (Microsoft Media Foundation)</span></span>

<span data-ttu-id="88a1d-104">I codec Windows Media Audio e video sono progettati per funzionare correttamente con il contenitore ASF (Advanced Systems Format).</span><span class="sxs-lookup"><span data-stu-id="88a1d-104">The Windows Media Audio and Video codecs are designed to work well with the Advanced Systems Format (ASF) container.</span></span> <span data-ttu-id="88a1d-105">ASF è il formato strutturato usato per i file Windows Media Audio (WMA) e i file di Windows Media Video (WMV).</span><span class="sxs-lookup"><span data-stu-id="88a1d-105">ASF is the structured format used for Windows Media Audio (WMA) files and Windows Media Video (WMV) files.</span></span> <span data-ttu-id="88a1d-106">Si tratta di un formato estendibile progettato per la trasmissione di dati.</span><span class="sxs-lookup"><span data-stu-id="88a1d-106">It is an extensible format designed for streaming data.</span></span> <span data-ttu-id="88a1d-107">Una delle caratteristiche insolite della struttura ASF è la possibilità di associare metadati a singoli esempi e incorporare tali dati con gli esempi nel flusso di bit.</span><span class="sxs-lookup"><span data-stu-id="88a1d-107">One of the unusual characteristics of the ASF structure is the ability to attach metadata to individual samples, and to embed that data with the samples in the bit stream.</span></span> <span data-ttu-id="88a1d-108">Un elemento dei metadati archiviati in questo modo è denominato estensione di *unità* dati o *estensione di esempio*.</span><span class="sxs-lookup"><span data-stu-id="88a1d-108">An item of metadata stored in this way is called a data *unit extension*, or *sample extension*.</span></span>

<span data-ttu-id="88a1d-109">Un'estensione di unità dati può contenere informazioni richieste dal codificatore, dal decodificatore o dall'applicazione Player.</span><span class="sxs-lookup"><span data-stu-id="88a1d-109">A data unit extension can contain information that is required by the encoder, the decoder, or the player application.</span></span> <span data-ttu-id="88a1d-110">La maggior parte dei tipi di estensione di unità dati implementati nella serie di codec Windows Media 9 contiene dati destinati all'applicazione che decodifica ed esegue il rendering del supporto.</span><span class="sxs-lookup"><span data-stu-id="88a1d-110">Most of the data-unit-extension types that are implemented in the Windows Media 9 Series of codecs contain data intended for the application that decodes and renders the media.</span></span> <span data-ttu-id="88a1d-111">Ad esempio, è possibile mantenere i codici temporali SMPTE dai dati di origine aggiungendoli come estensioni di unità dati.</span><span class="sxs-lookup"><span data-stu-id="88a1d-111">For example, you can maintain SMPTE time codes from source data by adding them as data unit extensions.</span></span> <span data-ttu-id="88a1d-112">Tuttavia, le funzionalità di codec seguenti richiedono le estensioni dell'unità dati:</span><span class="sxs-lookup"><span data-stu-id="88a1d-112">However, the following codec features require data unit extensions:</span></span>

-   [<span data-ttu-id="88a1d-113">Inserimento fotogramma chiave forzata</span><span class="sxs-lookup"><span data-stu-id="88a1d-113">Forced Key Frame Insertion</span></span>](forcedkeyframeinsertion.md)
-   [<span data-ttu-id="88a1d-114">Codifica video interlacciata</span><span class="sxs-lookup"><span data-stu-id="88a1d-114">Interlaced Video Encoding</span></span>](interlacedvideoencoding.md)
-   <span data-ttu-id="88a1d-115">La difficoltà nell'utilizzo delle estensioni dell'unità dati quando si accede direttamente al codec è il meccanismo mediante il quale l'oggetto riceve i dati dell'estensione.</span><span class="sxs-lookup"><span data-stu-id="88a1d-115">The difficulty in using data unit extensions when accessing the codec directly is the mechanism by which the object receives the extension data.</span></span> <span data-ttu-id="88a1d-116">Questa operazione viene eseguita dagli oggetti di Windows Media Format SDK utilizzando oggetti buffer progettati per supportare questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="88a1d-116">This is achieved by the objects of the Windows Media Format SDK by using buffer objects designed to support this feature.</span></span> <span data-ttu-id="88a1d-117">Si consiglia di utilizzare Windows Media Format SDK per attivare le funzionalità di codec che richiedono estensioni di unità dati, ma è possibile eseguire queste funzionalità con gli oggetti codec autonomi.</span><span class="sxs-lookup"><span data-stu-id="88a1d-117">It is recommended that you use the Windows Media Format SDK to activate the codec features that require data unit extensions, but you can make these features work with the standalone codec objects.</span></span>

## <a name="passing-extended-samples-to-the-codec-objects"></a><span data-ttu-id="88a1d-118">Passaggio di esempi estesi agli oggetti codec</span><span class="sxs-lookup"><span data-stu-id="88a1d-118">Passing Extended Samples to the Codec Objects</span></span>

<span data-ttu-id="88a1d-119">Windows Media Format SDK utilizza oggetti buffer che espongono interfacce [**INSSBuffer**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer) .</span><span class="sxs-lookup"><span data-stu-id="88a1d-119">The Windows Media Format SDK uses buffer objects that expose [**INSSBuffer**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer) interfaces.</span></span> <span data-ttu-id="88a1d-120">L'interfaccia più recente è [**INSSBuffer4**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer4).</span><span class="sxs-lookup"><span data-stu-id="88a1d-120">The latest interface is [**INSSBuffer4**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer4).</span></span> <span data-ttu-id="88a1d-121">Per passare esempi a un oggetto codec con le estensioni dell'unità dati, è necessario usare un oggetto buffer che implementi l'interfaccia [**IMediaBuffer**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediabuffer) o [**IMFMediaBuffer**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediabuffer) e l'interfaccia **INSSBuffer** .</span><span class="sxs-lookup"><span data-stu-id="88a1d-121">To pass samples to a codec object with data unit extensions, you must use a buffer object that implements the [**IMediaBuffer**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediabuffer) or [**IMFMediaBuffer**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediabuffer) interface and the **INSSBuffer** interface.</span></span> <span data-ttu-id="88a1d-122">Per eseguire questa operazione, è possibile usare gli oggetti buffer creati da Windows Media Format SDK o Microsoft Media Foundation oppure è possibile creare una classe di buffer personalizzata che soddisfi i requisiti.</span><span class="sxs-lookup"><span data-stu-id="88a1d-122">You can use buffer objects created by the Windows Media Format SDK or Microsoft Media Foundation to accomplish this, or you can make your own buffer class that meets the requirements.</span></span> <span data-ttu-id="88a1d-123">Per creare una classe di buffer personalizzata, è necessario conformarsi ai prototipi di metodo per le interfacce **INSSBuffer** .</span><span class="sxs-lookup"><span data-stu-id="88a1d-123">To create your own buffer class, you must conform to the method prototypes for the **INSSBuffer** interfaces.</span></span> <span data-ttu-id="88a1d-124">Queste definizioni di interfaccia si trovano nel file di intestazione wmsbuffer. h installato con Windows Media Format SDK.</span><span class="sxs-lookup"><span data-stu-id="88a1d-124">These interface definitions can be found in the wmsbuffer.h header file that is installed with the Windows Media Format SDK.</span></span>

## <a name="related-topics"></a><span data-ttu-id="88a1d-125">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="88a1d-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="88a1d-126">Codec Windows Media</span><span class="sxs-lookup"><span data-stu-id="88a1d-126">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 
