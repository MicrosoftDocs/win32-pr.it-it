---
description: Il renderer video avanzato (EVR) è un componente che Visualizza i video sul monitor utenti.
ms.assetid: 1c985558-d25d-4f51-978a-58c05943dab9
title: Renderer video migliorato
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ab0881da0827e6cc757a0ea855bcb51864dd98e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104342491"
---
# <a name="enhanced-video-renderer"></a><span data-ttu-id="954e0-103">Renderer video migliorato</span><span class="sxs-lookup"><span data-stu-id="954e0-103">Enhanced Video Renderer</span></span>

<span data-ttu-id="954e0-104">Il renderer video avanzato (EVR) è un componente che Visualizza il video sul monitor dell'utente.</span><span class="sxs-lookup"><span data-stu-id="954e0-104">The enhanced video renderer (EVR) is a component that displays video on the user's monitor.</span></span> <span data-ttu-id="954e0-105">Esistono due versioni di EVR:</span><span class="sxs-lookup"><span data-stu-id="954e0-105">Two versions of the EVR exist:</span></span>

-   <span data-ttu-id="954e0-106">Il sink multimediale EVR, per Media Foundation applicazioni.</span><span class="sxs-lookup"><span data-stu-id="954e0-106">The EVR media sink, for Media Foundation applications.</span></span>
-   <span data-ttu-id="954e0-107">Filtro EVR per le applicazioni DirectShow.</span><span class="sxs-lookup"><span data-stu-id="954e0-107">The EVR filter, for DirectShow applications.</span></span>

<span data-ttu-id="954e0-108">Entrambe le versioni utilizzano gli stessi oggetti interni per eseguire il rendering del video e condividono molte delle stesse interfacce.</span><span class="sxs-lookup"><span data-stu-id="954e0-108">Both versions use the same internal objects to render video, and they share many of the same interfaces.</span></span>

<span data-ttu-id="954e0-109">EVR può combinare fino a 16 flussi video.</span><span class="sxs-lookup"><span data-stu-id="954e0-109">The EVR can mix up to 16 video streams.</span></span> <span data-ttu-id="954e0-110">Il primo flusso di input viene chiamato *flusso di riferimento*.</span><span class="sxs-lookup"><span data-stu-id="954e0-110">The first input stream is called the *reference stream*.</span></span> <span data-ttu-id="954e0-111">Il flusso di riferimento viene sempre visualizzato per primo nell'ordine z.</span><span class="sxs-lookup"><span data-stu-id="954e0-111">The reference stream always appears first in the z-order.</span></span> <span data-ttu-id="954e0-112">Tutti i flussi aggiuntivi sono denominati *sottoflussi* e sono combinati sopra il flusso di riferimento.</span><span class="sxs-lookup"><span data-stu-id="954e0-112">Any additional streams are called *substreams*, and are mixed on top of the reference stream.</span></span> <span data-ttu-id="954e0-113">L'applicazione può modificare l'ordine z dei sottoflussi, ma nessun sottoflusso può essere prima nell'ordine z.</span><span class="sxs-lookup"><span data-stu-id="954e0-113">The application can change the z-order of the substreams, but no substream can be first in the z-order.</span></span>

<span data-ttu-id="954e0-114">Il driver di grafica determina quali formati video sono supportati, ma in genere sono limitati agli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="954e0-114">The graphics driver determines which video formats are supported, but typically they are limited to the following:</span></span>

-   <span data-ttu-id="954e0-115">Flusso di riferimento: YUV progressivo o interlacciato senza alfa per pixel, ad esempio NV12 o YUY2. o RGB progressivo.</span><span class="sxs-lookup"><span data-stu-id="954e0-115">Reference stream: Progressive or interlaced YUV with no per-pixel alpha (such as NV12 or YUY2); or progressive RGB.</span></span>
-   <span data-ttu-id="954e0-116">Sottoflussi: YUV progressivo con l'alfa per pixel, ad esempio AYUV o AI44.</span><span class="sxs-lookup"><span data-stu-id="954e0-116">Substreams: Progressive YUV with per-pixel-alpha, such as AYUV or AI44.</span></span>

<span data-ttu-id="954e0-117">I formati dei sottoflussi disponibili possono dipendere dal formato del flusso di riferimento.</span><span class="sxs-lookup"><span data-stu-id="954e0-117">The available substream formats might depend on the format of the reference stream.</span></span> <span data-ttu-id="954e0-118">Per altre informazioni, vedere [negoziazione del tipo di supporto EVR](evr-media-type-negotiation.md).</span><span class="sxs-lookup"><span data-stu-id="954e0-118">For more information, see [EVR Media Type Negotiation](evr-media-type-negotiation.md).</span></span>

<span data-ttu-id="954e0-119">Internamente, EVR usa un oggetto denominato *mixer* per comporre i frame dai flussi di input su una superficie per il rendering.</span><span class="sxs-lookup"><span data-stu-id="954e0-119">Internally, the EVR uses an object called the *mixer* to composite the frames from the input streams onto one surface for rendering.</span></span> <span data-ttu-id="954e0-120">Il mixer esegue anche il deinterlacciamento e la correzione del colore.</span><span class="sxs-lookup"><span data-stu-id="954e0-120">The mixer also performs deinterlacing and color correction.</span></span> <span data-ttu-id="954e0-121">L'output del mixer è il fotogramma video composito finale.</span><span class="sxs-lookup"><span data-stu-id="954e0-121">The output from the mixer is the final composited video frame.</span></span> <span data-ttu-id="954e0-122">Un secondo oggetto denominato *Presenter* esegue il rendering del fotogramma video sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="954e0-122">A second object called the *presenter* renders the video frame to the display.</span></span> <span data-ttu-id="954e0-123">Il presentatore pianifica quando viene eseguito il rendering dei frame e gestisce il dispositivo Direct3D.</span><span class="sxs-lookup"><span data-stu-id="954e0-123">The presenter schedules when the frames are rendered and manages the Direct3D device.</span></span> <span data-ttu-id="954e0-124">Un'applicazione può fornire un'implementazione personalizzata del mixer o del Presenter.</span><span class="sxs-lookup"><span data-stu-id="954e0-124">An application can provide a custom implementation of either the mixer or the presenter.</span></span>

<span data-ttu-id="954e0-125">La frequenza dei fotogrammi di output è bloccata nel flusso di riferimento.</span><span class="sxs-lookup"><span data-stu-id="954e0-125">The output frame rate is locked to the reference stream.</span></span> <span data-ttu-id="954e0-126">Ogni volta che i sottoflussi ricevono nuovi frame, il mixer li utilizza.</span><span class="sxs-lookup"><span data-stu-id="954e0-126">Whenever the substreams receive new frames, the mixer holds onto them.</span></span> <span data-ttu-id="954e0-127">Quando il flusso di riferimento riceve un nuovo frame, il mixer compone il frame con i frame dei sottoflussi.</span><span class="sxs-lookup"><span data-stu-id="954e0-127">When the reference stream receives a new frame, the mixer composites that frame with the substream frames.</span></span> <span data-ttu-id="954e0-128">Se il flusso di riferimento è interlacciato, un frame di riferimento completo potrebbe richiedere più di un campione multimediale. Un sottoflusso può ricevere più di un frame mentre il mixer è in attesa di un frame di riferimento.</span><span class="sxs-lookup"><span data-stu-id="954e0-128">(If the reference stream is interlaced, a complete reference frame may require more than one media sample.) It is possible for a substream to receive more than one frame while the mixer is waiting for a reference frame.</span></span> <span data-ttu-id="954e0-129">In tal caso, il mixer Elimina semplicemente il frame del sottoflusso precedente.</span><span class="sxs-lookup"><span data-stu-id="954e0-129">In that case, the mixer simply discards the previous substream frame.</span></span>

<span data-ttu-id="954e0-130">Poiché il Presenter crea il dispositivo Direct3D, è anche responsabile della condivisione del dispositivo con altri oggetti pipeline che devono accedere ai servizi di accelerazione video DirectX (DXVA).</span><span class="sxs-lookup"><span data-stu-id="954e0-130">Because the presenter creates the Direct3D device, it is also responsible for sharing the device with other pipeline objects that need to access DirectX Video Acceleration (DXVA) services.</span></span> <span data-ttu-id="954e0-131">In particolare, il mixer EVR usa i servizi di elaborazione video di DXVA per eseguire la deinterlacciamento e combinare il video.</span><span class="sxs-lookup"><span data-stu-id="954e0-131">In particular, the EVR mixer uses the DXVA video processing services to deinterlace and mix the video.</span></span> <span data-ttu-id="954e0-132">Per la decodifica video accelerata, i decodificatori software possono utilizzare DXVA per l'esterno a EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-132">External to the EVR, software decoders may use DXVA for accelerated video decoding.</span></span> <span data-ttu-id="954e0-133">Il presentatore condivide il dispositivo Direct3D per mezzo del [Gestione dispositivi Direct3D](direct3d-device-manager.md).</span><span class="sxs-lookup"><span data-stu-id="954e0-133">The presenter shares the Direct3D device by means of the [Direct3D Device Manager](direct3d-device-manager.md).</span></span> <span data-ttu-id="954e0-134">Il diagramma seguente illustra l'architettura interna del EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-134">The following diagram shows the internal architecture of the EVR.</span></span> <span data-ttu-id="954e0-135">Il decodificatore software, ombreggiato in grigio, non fa parte del EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-135">(The software decoder, shaded in gray, is not part of the EVR.)</span></span>

![diagramma dell'architettura che mostra i EVR.](images/5d4a1fd9-25ff-4cc5-a486-0d22f34bbfd7.gif)

## <a name="evr-interfaces"></a><span data-ttu-id="954e0-137">Interfacce EVR</span><span class="sxs-lookup"><span data-stu-id="954e0-137">EVR Interfaces</span></span>

<span data-ttu-id="954e0-138">EVR supporta le interfacce seguenti.</span><span class="sxs-lookup"><span data-stu-id="954e0-138">The EVR supports the following interfaces.</span></span> <span data-ttu-id="954e0-139">Alcune di queste interfacce sono implementate dal mixer o dal presentatore.</span><span class="sxs-lookup"><span data-stu-id="954e0-139">Some of these interfaces are implemented by the mixer or presenter.</span></span> <span data-ttu-id="954e0-140">Per ogni interfaccia, l'argomento di riferimento descrive come ottenere un puntatore all'interfaccia.</span><span class="sxs-lookup"><span data-stu-id="954e0-140">For each interface, the reference topic describes how to get a pointer to the interface.</span></span>

| <span data-ttu-id="954e0-141">Interfaccia</span><span class="sxs-lookup"><span data-stu-id="954e0-141">Interface</span></span>                                                    | <span data-ttu-id="954e0-142">Descrizione</span><span class="sxs-lookup"><span data-stu-id="954e0-142">Description</span></span>                                                                                       |
|--------------------------------------------------------------|---------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="954e0-143">**IEVRFilterConfig**</span><span class="sxs-lookup"><span data-stu-id="954e0-143">**IEVRFilterConfig**</span></span>](/windows/desktop/api/evr/nn-evr-ievrfilterconfig)                 | <span data-ttu-id="954e0-144">Imposta il numero di pin di input nel filtro EVR (solo DirectShow).</span><span class="sxs-lookup"><span data-stu-id="954e0-144">Sets the number of input pins on the EVR filter (DirectShow only).</span></span>                                |
| [<span data-ttu-id="954e0-145">**IEVRFilterConfigEx**</span><span class="sxs-lookup"><span data-stu-id="954e0-145">**IEVRFilterConfigEx**</span></span>](/windows/desktop/api/evr/nn-evr-ievrfilterconfigex)             | <span data-ttu-id="954e0-146">Configura il filtro EVR (solo DirectShow).</span><span class="sxs-lookup"><span data-stu-id="954e0-146">Configures the EVR filter (DirectShow only).</span></span>                                                      |
| [<span data-ttu-id="954e0-147">**IEVRTrustedVideoPlugin**</span><span class="sxs-lookup"><span data-stu-id="954e0-147">**IEVRTrustedVideoPlugin**</span></span>](/windows/desktop/api/evr/nn-evr-ievrtrustedvideoplugin)     | <span data-ttu-id="954e0-148">Consente a un plug-in EVR di eseguire il rendering di video protetti.</span><span class="sxs-lookup"><span data-stu-id="954e0-148">Enables an EVR plug-in to render protected video.</span></span>                                                 |
| [<span data-ttu-id="954e0-149">**IMFDesiredSample**</span><span class="sxs-lookup"><span data-stu-id="954e0-149">**IMFDesiredSample**</span></span>](/windows/desktop/api/evr/nn-evr-imfdesiredsample)                 | <span data-ttu-id="954e0-150">Consente a EVR Presenter di richiedere un frame specifico dal mixer.</span><span class="sxs-lookup"><span data-stu-id="954e0-150">Enables the EVR presenter to request a specific frame from the mixer.</span></span>                             |
| [<span data-ttu-id="954e0-151">**IMFQualityAdvise**</span><span class="sxs-lookup"><span data-stu-id="954e0-151">**IMFQualityAdvise**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise)                 | <span data-ttu-id="954e0-152">Consente al gestore della qualità di modificare la qualità del video EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-152">Enables the quality manager to adjust the EVR video quality.</span></span>                                      |
| [<span data-ttu-id="954e0-153">**IMFTopologyServiceLookup**</span><span class="sxs-lookup"><span data-stu-id="954e0-153">**IMFTopologyServiceLookup**</span></span>](/windows/desktop/api/evr/nn-evr-imftopologyservicelookup) | <span data-ttu-id="954e0-154">Consente a un mixer o un Presenter personalizzato di ottenere i puntatori di interfaccia dal EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-154">Enables a custom mixer or presenter to get interface pointers from the EVR.</span></span>                       |
| [<span data-ttu-id="954e0-155">**IMFVideoDeviceID**</span><span class="sxs-lookup"><span data-stu-id="954e0-155">**IMFVideoDeviceID**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideodeviceid)                 | <span data-ttu-id="954e0-156">Restituisce l'identificatore del dispositivo di un mixer o un presentatore di EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-156">Returns the device identifier of an EVR mixer or presenter.</span></span>                                       |
| [<span data-ttu-id="954e0-157">**IMFVideoDisplayControl**</span><span class="sxs-lookup"><span data-stu-id="954e0-157">**IMFVideoDisplayControl**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideodisplaycontrol)     | <span data-ttu-id="954e0-158">Controlla il modo in cui EVR Visualizza il video.</span><span class="sxs-lookup"><span data-stu-id="954e0-158">Controls how the EVR displays video.</span></span>                                                              |
| [<span data-ttu-id="954e0-159">**IMFVideoMixerBitmap**</span><span class="sxs-lookup"><span data-stu-id="954e0-159">**IMFVideoMixerBitmap**</span></span>](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap)           | <span data-ttu-id="954e0-160">Alfa-fonde un'immagine bitmap statica con il video.</span><span class="sxs-lookup"><span data-stu-id="954e0-160">Alpha-blends a static bitmap image with the video.</span></span>                                                |
| [<span data-ttu-id="954e0-161">**IMFVideoMixerControl**</span><span class="sxs-lookup"><span data-stu-id="954e0-161">**IMFVideoMixerControl**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideomixercontrol)         | <span data-ttu-id="954e0-162">Controlla il modo in cui il renderer video avanzato (EVR) combina i sottoflussi video.</span><span class="sxs-lookup"><span data-stu-id="954e0-162">Controls how the Enhanced Video Renderer (EVR) mixes video substreams.</span></span>                            |
| [<span data-ttu-id="954e0-163">**IMFVideoMixerControl2**</span><span class="sxs-lookup"><span data-stu-id="954e0-163">**IMFVideoMixerControl2**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideomixercontrol2)       | <span data-ttu-id="954e0-164">Controlla le preferenze per la deinterlacciamento dei video.</span><span class="sxs-lookup"><span data-stu-id="954e0-164">Controls preferences for video deinterlacing.</span></span>                                                     |
| [<span data-ttu-id="954e0-165">**IMFVideoPositionMapper**</span><span class="sxs-lookup"><span data-stu-id="954e0-165">**IMFVideoPositionMapper**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideopositionmapper)     | <span data-ttu-id="954e0-166">Esegue il mapping di una posizione in un flusso video di input alla posizione corrispondente in un flusso video di output.</span><span class="sxs-lookup"><span data-stu-id="954e0-166">Maps a position on an input video stream to the corresponding position on an output video stream.</span></span> |
| [<span data-ttu-id="954e0-167">**IMFVideoPresenter**</span><span class="sxs-lookup"><span data-stu-id="954e0-167">**IMFVideoPresenter**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideopresenter)               | <span data-ttu-id="954e0-168">Esposto dal presentatore di EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-168">Exposed by the EVR presenter.</span></span>                                                                     |
| [<span data-ttu-id="954e0-169">**IMFVideoProcessor**</span><span class="sxs-lookup"><span data-stu-id="954e0-169">**IMFVideoProcessor**</span></span>](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor)               | <span data-ttu-id="954e0-170">Controlla l'elaborazione video, inclusi la regolazione, i filtri acustici e i filtri dettagli.</span><span class="sxs-lookup"><span data-stu-id="954e0-170">Controls video processing, including adjustment, noise filters, and detail filters.</span></span>               |
| [<span data-ttu-id="954e0-171">**IMFVideoRenderer**</span><span class="sxs-lookup"><span data-stu-id="954e0-171">**IMFVideoRenderer**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideorenderer)                 | <span data-ttu-id="954e0-172">Imposta un mixer o un presentatore in EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-172">Sets a mixer or presenter on the EVR.</span></span>                                                             |
| [<span data-ttu-id="954e0-173">**IMFVideoSampleAllocator**</span><span class="sxs-lookup"><span data-stu-id="954e0-173">**IMFVideoSampleAllocator**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfvideosampleallocator)   | <span data-ttu-id="954e0-174">Alloca gli esempi video.</span><span class="sxs-lookup"><span data-stu-id="954e0-174">Allocates video samples.</span></span>                                                                          |



 

## <a name="in-this-section"></a><span data-ttu-id="954e0-175">Contenuto della sezione</span><span class="sxs-lookup"><span data-stu-id="954e0-175">In This Section</span></span>



| <span data-ttu-id="954e0-176">Argomento</span><span class="sxs-lookup"><span data-stu-id="954e0-176">Topic</span></span>                                                                    | <span data-ttu-id="954e0-177">Descrizione</span><span class="sxs-lookup"><span data-stu-id="954e0-177">Description</span></span>                                                                           |
|--------------------------------------------------------------------------|---------------------------------------------------------------------------------------|
| [<span data-ttu-id="954e0-178">Uso del filtro EVR DirectShow</span><span class="sxs-lookup"><span data-stu-id="954e0-178">Using the DirectShow EVR Filter</span></span>](using-the-directshow-evr-filter.md)   | <span data-ttu-id="954e0-179">Come usare EVR in un'applicazione DirectShow.</span><span class="sxs-lookup"><span data-stu-id="954e0-179">How to use the EVR in a DirectShow application.</span></span>                                       |
| [<span data-ttu-id="954e0-180">Uso del sink di supporto EVR</span><span class="sxs-lookup"><span data-stu-id="954e0-180">Using the EVR Media Sink</span></span>](using-the-evr-media-sink.md)                 | <span data-ttu-id="954e0-181">Come usare EVR in un'applicazione Media Foundation.</span><span class="sxs-lookup"><span data-stu-id="954e0-181">How to use the EVR in a Media Foundation application.</span></span>                                 |
| [<span data-ttu-id="954e0-182">Uso dei controlli schermo video</span><span class="sxs-lookup"><span data-stu-id="954e0-182">Using the Video Display Controls</span></span>](using-the-video-display-controls.md) | <span data-ttu-id="954e0-183">Come controllare il modo in cui EVR Visualizza il video all'interno della finestra dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="954e0-183">How to control the way in which the EVR displays video inside the application window.</span></span> |
| [<span data-ttu-id="954e0-184">Uso dei controlli mixer video</span><span class="sxs-lookup"><span data-stu-id="954e0-184">Using the Video Mixer Controls</span></span>](using-the-video-mixer-controls.md)     | <span data-ttu-id="954e0-185">Come controllare il modo in cui funziona il mixer EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-185">How to control the way in which the EVR mixer operates.</span></span>                               |
| [<span data-ttu-id="954e0-186">Negoziazione del tipo di supporto EVR</span><span class="sxs-lookup"><span data-stu-id="954e0-186">EVR Media Type Negotiation</span></span>](evr-media-type-negotiation.md)             | <span data-ttu-id="954e0-187">Viene descritto il modo in cui EVR determina i formati video che può accettare come input.</span><span class="sxs-lookup"><span data-stu-id="954e0-187">Describes how the EVR determines which video formats it can accept as input.</span></span>          |
| [<span data-ttu-id="954e0-188">Mixer personalizzati</span><span class="sxs-lookup"><span data-stu-id="954e0-188">Custom Mixers</span></span>](custom-mixers.md)                                       | <span data-ttu-id="954e0-189">Come scrivere un mixer personalizzato per la EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-189">How to write a custom mixer for the EVR.</span></span>                                              |
| [<span data-ttu-id="954e0-190">Come scrivere un presentatore EVR</span><span class="sxs-lookup"><span data-stu-id="954e0-190">How to Write an EVR Presenter</span></span>](how-to-write-an-evr-presenter.md)       | <span data-ttu-id="954e0-191">Come scrivere un presentatore personalizzato per EVR.</span><span class="sxs-lookup"><span data-stu-id="954e0-191">How to write a custom presenter for the EVR.</span></span>                                          |



 

## <a name="related-topics"></a><span data-ttu-id="954e0-192">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="954e0-192">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="954e0-193">Riproduzione di audio/video</span><span class="sxs-lookup"><span data-stu-id="954e0-193">Audio/Video Playback</span></span>](audio-video-playback.md)
</dt> </dl>

 

 



