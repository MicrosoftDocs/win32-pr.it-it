---
description: Metodi di codifica
ms.assetid: 17ab5ecc-0173-4c5c-9d65-40e506ab7e07
title: Metodi di codifica (Microsoft Media Foundation)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: e4366f11ea9d120d638c5600f84fc16f6c5320f8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106305387"
---
# <a name="encoding-methods-microsoft-media-foundation"></a><span data-ttu-id="bdba7-103">Metodi di codifica (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="bdba7-103">Encoding Methods (Microsoft Media Foundation)</span></span>

<span data-ttu-id="bdba7-104">La maggior parte dei codec Windows Media Audio e video supporta più metodi di codifica.</span><span class="sxs-lookup"><span data-stu-id="bdba7-104">Most of the Windows Media Audio and Video codecs support multiple encoding methods.</span></span> <span data-ttu-id="bdba7-105">Sapere come e quando usare ogni metodo può essere utile per creare contenuti compressi di alta qualità.</span><span class="sxs-lookup"><span data-stu-id="bdba7-105">Knowing how and when to use each method can help you create high-quality compressed content.</span></span>

<span data-ttu-id="bdba7-106">I metodi di codifica si concentrano tutti sul buffer utilizzato dal decodificatore per gestire i dati di input compressi.</span><span class="sxs-lookup"><span data-stu-id="bdba7-106">The encoding methods all focus on the buffer used by the decoder to manage compressed input data.</span></span> <span data-ttu-id="bdba7-107">Questo buffer è definito dalla velocità in bit del flusso, in bit al secondo e dalla finestra del buffer, in millisecondi.</span><span class="sxs-lookup"><span data-stu-id="bdba7-107">This buffer is defined by the bit rate of the stream, in bits per second, and the buffer window, in milliseconds.</span></span> <span data-ttu-id="bdba7-108">Quando si codifica, il codec si attiene ai vincoli del buffer.</span><span class="sxs-lookup"><span data-stu-id="bdba7-108">When encoding, the codec abides by the restraints of the buffer.</span></span> <span data-ttu-id="bdba7-109">Per ulteriori informazioni sul buffer, vedere [il modello di buffer di bucket a perdita](the-leaky-bucket-buffer-model.md).</span><span class="sxs-lookup"><span data-stu-id="bdba7-109">For more information about the buffer, see [The Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span></span>

## <a name="constant-bit-rate-encoding"></a><span data-ttu-id="bdba7-110">Codifica della velocità in bit costante</span><span class="sxs-lookup"><span data-stu-id="bdba7-110">Constant Bit Rate Encoding</span></span>

<span data-ttu-id="bdba7-111">La velocità in bit per qualsiasi flusso codificato da uno dei codec Windows Media Audio e video non è costante.</span><span class="sxs-lookup"><span data-stu-id="bdba7-111">The bit rate for any stream encoded by one of the Windows Media Audio and Video codecs is not constant.</span></span> <span data-ttu-id="bdba7-112">La codifica della velocità in bit costante (CBR) è, pertanto, un termine alquanto fuorviante.</span><span class="sxs-lookup"><span data-stu-id="bdba7-112">Constant bit rate (CBR) encoding is, therefore, a somewhat misleading term.</span></span> <span data-ttu-id="bdba7-113">La caratteristica distintiva di un flusso con codifica CBR è una piccola finestra del buffer, che limita la variazione delle dimensioni del campione.</span><span class="sxs-lookup"><span data-stu-id="bdba7-113">The distinguishing feature of a CBR-encoded stream is a small buffer window, which limits the variation of sample sizes.</span></span> <span data-ttu-id="bdba7-114">La codifica CBR viene utilizzata principalmente per il contenuto trasmesso in una rete alla relativa destinazione.</span><span class="sxs-lookup"><span data-stu-id="bdba7-114">CBR encoding is used primarily for content that is streamed over a network to its destination.</span></span> <span data-ttu-id="bdba7-115">In uno scenario di questo tipo, è importante essere in grado di basarsi sull'utilizzo coerente della larghezza di banda.</span><span class="sxs-lookup"><span data-stu-id="bdba7-115">In such a scenario, it is important to be able to rely on consistent bandwidth usage.</span></span>

<span data-ttu-id="bdba7-116">Da un punto di vista della configurazione, la codifica CBR differisce dalle altre modalità in quanto prima di iniziare la codifica, si imposta sia la velocità in bit media del contenuto di output che la finestra del buffer che si applica alla velocità in bit.</span><span class="sxs-lookup"><span data-stu-id="bdba7-116">From a configuration point of view, CBR encoding differs from the other modes in that before starting to encode, you set both the average bit rate of the output content, and the buffer window that applies to that bit rate.</span></span> <span data-ttu-id="bdba7-117">In altre modalità, uno o entrambi i valori sono sconosciuti quando si configura il codificatore e viene calcolato dal codec durante la codifica.</span><span class="sxs-lookup"><span data-stu-id="bdba7-117">In other modes, one or both of those values is unknown when you configure the encoder, and is computed by the codec while it encodes.</span></span> <span data-ttu-id="bdba7-118">CBR è la modalità di codifica standard utilizzata da Windows Media Encoder DMOs.</span><span class="sxs-lookup"><span data-stu-id="bdba7-118">CBR is the standard encoding mode used by the Windows Media Encoder DMOs.</span></span>

## <a name="two-pass-constant-bit-rate-encoding"></a><span data-ttu-id="bdba7-119">Codifica della velocità in bit costante Two-Pass</span><span class="sxs-lookup"><span data-stu-id="bdba7-119">Two-Pass Constant Bit Rate Encoding</span></span>

<span data-ttu-id="bdba7-120">CBR standard USA solo un singolo passaggio di codifica.</span><span class="sxs-lookup"><span data-stu-id="bdba7-120">Standard CBR uses only a single encoding pass.</span></span> <span data-ttu-id="bdba7-121">Il contenuto viene fornito come esempio di input e il Codec comprime il contenuto e restituisce gli esempi di output.</span><span class="sxs-lookup"><span data-stu-id="bdba7-121">You provide your content as input samples, and the codec compresses the content and returns output samples.</span></span> <span data-ttu-id="bdba7-122">È anche possibile elaborare due volte gli esempi di input.</span><span class="sxs-lookup"><span data-stu-id="bdba7-122">It is also possible to process input samples twice.</span></span> <span data-ttu-id="bdba7-123">Al primo passaggio, il codec esegue calcoli per ottimizzare la codifica per il contenuto.</span><span class="sxs-lookup"><span data-stu-id="bdba7-123">On the first pass, the codec performs calculations to optimize encoding for your content.</span></span> <span data-ttu-id="bdba7-124">Al secondo passaggio, il codec usa i dati raccolti durante il primo passaggio per codificare il contenuto.</span><span class="sxs-lookup"><span data-stu-id="bdba7-124">On the second pass, the codec uses the data gathered during the first pass to encode the content.</span></span>

<span data-ttu-id="bdba7-125">La codifica CBR a due passaggi presenta molti vantaggi.</span><span class="sxs-lookup"><span data-stu-id="bdba7-125">Two-pass CBR encoding has many advantages.</span></span> <span data-ttu-id="bdba7-126">Spesso produce un notevole miglioramento della qualità rispetto alla codifica CBR standard senza modificare i requisiti di buffering.</span><span class="sxs-lookup"><span data-stu-id="bdba7-126">It often yields significant quality gains over standard CBR encoding without changing any of the buffering requirements.</span></span> <span data-ttu-id="bdba7-127">Questa modalità di codifica è quindi ideale per il contenuto trasmesso in rete.</span><span class="sxs-lookup"><span data-stu-id="bdba7-127">This makes this encoding mode ideal for content that is streamed over a network.</span></span> <span data-ttu-id="bdba7-128">L'unica situazione in cui la funzionalità CBR a due passaggi non è fattibile è quando si codifica il contenuto da un'origine live e non è possibile usare un secondo passaggio.</span><span class="sxs-lookup"><span data-stu-id="bdba7-128">The only situation where two-pass CBR is not feasible is when you encode content from a live source and cannot use a second pass.</span></span>

<span data-ttu-id="bdba7-129">Il tipo di supporto di output di un flusso CBR a due passaggi è identico a quello di un flusso CBR standard. è ancora necessario specificare la velocità in bit e la finestra del buffer da usare.</span><span class="sxs-lookup"><span data-stu-id="bdba7-129">The output media type of a two-pass CBR stream is identical to that of a standard CBR stream; you still specify the bit rate and buffer window to use.</span></span> <span data-ttu-id="bdba7-130">Quando si configura DMO, è necessario impostarlo in modo da eseguire due sessioni.</span><span class="sxs-lookup"><span data-stu-id="bdba7-130">When configuring the DMO, you must set it to perform two passes.</span></span> <span data-ttu-id="bdba7-131">Al termine dell'invio degli esempi per il primo passaggio, è necessario inviare una notifica a DMO.</span><span class="sxs-lookup"><span data-stu-id="bdba7-131">And you must notify the DMO when you are finished sending samples for the first pass.</span></span>

## <a name="quality-based-variable-bit-rate-encoding"></a><span data-ttu-id="bdba7-132">Codifica della velocità in bit della variabile Quality-Based</span><span class="sxs-lookup"><span data-stu-id="bdba7-132">Quality-Based Variable Bit Rate Encoding</span></span>

<span data-ttu-id="bdba7-133">Poiché la codifica CBR non mantiene effettivamente una velocità in bit costante, la distinzione tra it e la codifica della velocità in bit variabile (VBR) può sembrare poco chiara.</span><span class="sxs-lookup"><span data-stu-id="bdba7-133">Because CBR encoding does not actually maintain a constant bit rate, the distinction between it and variable bit rate encoding (VBR) may seem a little hazy.</span></span> <span data-ttu-id="bdba7-134">La differenza principale tra CBR e VBR è la dimensione della finestra del buffer utilizzata.</span><span class="sxs-lookup"><span data-stu-id="bdba7-134">The primary difference between CBR and VBR is the size of the buffer window used.</span></span> <span data-ttu-id="bdba7-135">I flussi con codifica VBR hanno in genere finestre di buffer di grandi dimensioni rispetto a flussi con codifica CBR.</span><span class="sxs-lookup"><span data-stu-id="bdba7-135">VBR-encoded streams usually have large buffer windows compared to CBR-encoded streams.</span></span> <span data-ttu-id="bdba7-136">Il VBR basato sulla qualità non è un'eccezione, perché non è possibile definire né la velocità in bit né la finestra del buffer.</span><span class="sxs-lookup"><span data-stu-id="bdba7-136">Quality-based VBR is no exception, in that you define neither bit rate nor buffer window for it.</span></span> <span data-ttu-id="bdba7-137">Si imposta invece un valore qualitativo.</span><span class="sxs-lookup"><span data-stu-id="bdba7-137">Instead, you set a quality value.</span></span> <span data-ttu-id="bdba7-138">Il codec tenta quindi di comprimere i dati in modo che la qualità del supporto codificato sia coerente per tutta la sua durata, indipendentemente dai requisiti del buffer del flusso risultante.</span><span class="sxs-lookup"><span data-stu-id="bdba7-138">The codec then attempts to compress the data so that the quality of the encoded media is consistent throughout its duration, regardless of the buffer requirements of the resulting stream.</span></span>

<span data-ttu-id="bdba7-139">Il formato VBR basato sulla qualità usa un singolo passaggio di codifica e tende a creare flussi compressi di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="bdba7-139">Quality-based VBR uses a single encoding pass and tends to create large compressed streams.</span></span> <span data-ttu-id="bdba7-140">Al termine della codifica, il codec imposta i requisiti del buffer in modo che il decodificatore possa decomprimere i dati.</span><span class="sxs-lookup"><span data-stu-id="bdba7-140">When encoding is complete, the codec sets the buffer requirements so that the decoder can decompress the data.</span></span> <span data-ttu-id="bdba7-141">Il flusso VBR codificato non è adatto per lo streaming in rete, quindi è consigliabile usare VBR basato sulla qualità solo per gli scenari di riproduzione locali (o per il download e la riproduzione).</span><span class="sxs-lookup"><span data-stu-id="bdba7-141">The encoded VBR stream is not suitable for streaming over a network, so quality-based VBR should be used only for local playback scenarios (or download and play).</span></span>

## <a name="unconstrained-variable-bit-rate-encoding"></a><span data-ttu-id="bdba7-142">Codifica della velocità in bit variabile non vincolata</span><span class="sxs-lookup"><span data-stu-id="bdba7-142">Unconstrained Variable Bit Rate Encoding</span></span>

<span data-ttu-id="bdba7-143">Diversamente da VBR basato sulla qualità, il VBR non vincolato non viene codificato in un livello di qualità specifico.</span><span class="sxs-lookup"><span data-stu-id="bdba7-143">Unlike quality-based VBR, unconstrained VBR does not encode to a specific quality level.</span></span> <span data-ttu-id="bdba7-144">Codifica invece il contenuto con la massima qualità possibile mantenendo una velocità in bit specificata.</span><span class="sxs-lookup"><span data-stu-id="bdba7-144">Instead, it encodes the content to the highest possible quality while maintaining a specified bit rate.</span></span> <span data-ttu-id="bdba7-145">Il VBR non vincolato usa due passaggi di codifica ed è simile a un CBR a due passaggi, con la differenza che non viene specificata un'impostazione della finestra del buffer per il flusso.</span><span class="sxs-lookup"><span data-stu-id="bdba7-145">Unconstrained VBR uses two encoding passes and is similar to two-pass CBR, except that you do not specify a buffer window setting for the stream.</span></span> <span data-ttu-id="bdba7-146">Ciò significa che non esiste alcun limite per le dimensioni dei singoli campioni nel flusso, purché la velocità in bit media sia minore o uguale al valore impostato.</span><span class="sxs-lookup"><span data-stu-id="bdba7-146">This means that there is no limit to the size of individual samples in the stream, as long as the average bit rate is less than or equal to the value you set.</span></span>

<span data-ttu-id="bdba7-147">Il formato VBR non vincolato è di uso limitato, perché esistono pochi scenari di riproduzione che hanno requisiti in base ai requisiti del buffer.</span><span class="sxs-lookup"><span data-stu-id="bdba7-147">Unconstrained VBR is of limited use, because there are few playback scenarios that have requirements in keeping with its buffer requirements.</span></span> <span data-ttu-id="bdba7-148">Il codec può impostare la finestra del buffer su qualsiasi valore necessario dopo la codifica, senza alcun controllo sulle dimensioni del buffer.</span><span class="sxs-lookup"><span data-stu-id="bdba7-148">The codec can set the buffer window to whatever value is required after encoding, giving you no control over the buffer size.</span></span> <span data-ttu-id="bdba7-149">Nella maggior parte dei casi, se non si è interessati alla dimensione del buffer o alla coerenza di utilizzo della larghezza di banda, è consigliabile usare un VBR basato sulla qualità.</span><span class="sxs-lookup"><span data-stu-id="bdba7-149">In most cases, if you are not concerned about the size of the buffer or the consistency of bandwidth usage, you should use quality-based VBR.</span></span>

## <a name="peak-constrained-variable-bit-rate-encoding"></a><span data-ttu-id="bdba7-150">Codifica della velocità in bit della variabile Peak-Constrained</span><span class="sxs-lookup"><span data-stu-id="bdba7-150">Peak-Constrained Variable Bit Rate Encoding</span></span>

<span data-ttu-id="bdba7-151">La modalità di codifica finale è un VBR con vincoli di picco.</span><span class="sxs-lookup"><span data-stu-id="bdba7-151">The final encoding mode is peak-constrained VBR.</span></span> <span data-ttu-id="bdba7-152">Analogamente a VBR non vincolato, questa modalità usa due sessioni di codifica e codifica a una velocità in bit specificata.</span><span class="sxs-lookup"><span data-stu-id="bdba7-152">Like unconstrained VBR, this mode uses two encoding passes and encodes to a specified bit rate.</span></span> <span data-ttu-id="bdba7-153">Tuttavia, con il picco di VBR vincolato è possibile configurare anche il valore di picco per la codifica.</span><span class="sxs-lookup"><span data-stu-id="bdba7-153">However, with peak constrained VBR you also configure the peak value for the encoding.</span></span> <span data-ttu-id="bdba7-154">I valori di picco sono simili ai normali valori di configurazione del buffer: la velocità in bit massima e una finestra del buffer di picco.</span><span class="sxs-lookup"><span data-stu-id="bdba7-154">Peak values are similar to normal buffer configuration values: there is a peak bit rate and a peak buffer window.</span></span> <span data-ttu-id="bdba7-155">Il file è codificato in modo da essere conforme a un buffer descritto dai valori di picco, con la condizione che la velocità di bit media complessiva del flusso sia uguale o inferiore al valore di velocità in bit medio specificato.</span><span class="sxs-lookup"><span data-stu-id="bdba7-155">The file is encoded to conform to a buffer described by the peak values, with the condition that the overall average bit rate of the stream be equal to or less than the average bit rate value you specify.</span></span>

<span data-ttu-id="bdba7-156">Un VBR vincolato può essere di difficile concettualizzazione.</span><span class="sxs-lookup"><span data-stu-id="bdba7-156">Constrained VBR can be difficult to conceptualize.</span></span> <span data-ttu-id="bdba7-157">Ecco il modo più semplice per pensare al modello di buffer usato.</span><span class="sxs-lookup"><span data-stu-id="bdba7-157">Here is the easiest way to think of the buffering model used.</span></span> <span data-ttu-id="bdba7-158">Si supponga che il flusso sia un flusso CBR con la velocità in bit massima e la finestra del buffer di picco utilizzata per definire il buffer.</span><span class="sxs-lookup"><span data-stu-id="bdba7-158">Suppose the stream is a CBR stream with the peak bit rate and peak buffer window used to define the buffer.</span></span> <span data-ttu-id="bdba7-159">In genere, la velocità in bit di picco è piuttosto elevata.</span><span class="sxs-lookup"><span data-stu-id="bdba7-159">Typically, the peak bit rate is quite high.</span></span> <span data-ttu-id="bdba7-160">Il codificatore garantisce che il valore della velocità media in bit previsto venga mantenuto per la durata del flusso.</span><span class="sxs-lookup"><span data-stu-id="bdba7-160">The encoder ensures that the expected average bit rate value you indicate is maintained over the duration of the stream.</span></span> <span data-ttu-id="bdba7-161">In un determinato punto del flusso, la velocità in bit media è garantita maggiore della dimensione del flusso totale in bit divisa per la durata del flusso in secondi).</span><span class="sxs-lookup"><span data-stu-id="bdba7-161">At any particular point in the stream, the average bit rate is guaranteed to be greater than the total stream size in bits divided by the stream duration in seconds).</span></span>

<span data-ttu-id="bdba7-162">Si consideri l'esempio seguente: si configura un flusso con una velocità in bit media di 16.000 bit al secondo, una velocità in bit di picco di 48.000 bit al secondo e una finestra buffer di picco di 3.000 (3 secondi).</span><span class="sxs-lookup"><span data-stu-id="bdba7-162">Consider the following example: You configure a stream with an average bit rate of 16,000 bits per second, a peak bit rate of 48,000 bits per second, and a peak buffer window of 3,000 (3 seconds).</span></span> <span data-ttu-id="bdba7-163">Le dimensioni del buffer utilizzato per il flusso sono di 144.000 bit (48.000 bit al secondo x 3 secondi) come determinato dai valori di picco.</span><span class="sxs-lookup"><span data-stu-id="bdba7-163">The size of the buffer used for the stream is 144,000 bits (48,000 bits per second x 3 seconds) as determined by the peak values.</span></span> <span data-ttu-id="bdba7-164">Il codificatore comprime i dati in modo che siano conformi a tale buffer.</span><span class="sxs-lookup"><span data-stu-id="bdba7-164">The encoder compresses the data to conform to that buffer.</span></span> <span data-ttu-id="bdba7-165">Inoltre, la velocità in bit media del flusso deve essere inferiore a 16.000.</span><span class="sxs-lookup"><span data-stu-id="bdba7-165">Additionally, the average bit rate of the stream must be 16,000 or less.</span></span> <span data-ttu-id="bdba7-166">Se il codificatore deve eseguire alcuni esempi di dimensioni molto elevate per gestire un segmento complesso di contenuto, può sfruttare le dimensioni del buffer di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="bdba7-166">If the encoder needs to make some very large samples to handle a complex segment of content, it can take advantage of the large buffer size.</span></span> <span data-ttu-id="bdba7-167">Tuttavia, altre parti del flusso devono essere codificate a una velocità in bit più bassa per abbassare la media fino al livello specificato.</span><span class="sxs-lookup"><span data-stu-id="bdba7-167">But other parts of the stream must be encoded at a lower bit rate to bring the average down to the specified level.</span></span>

<span data-ttu-id="bdba7-168">La codifica VBR con vincoli di picco è utile per riprodurre i dispositivi con una capacità di buffer finita e alcuni vincoli di velocità dati.</span><span class="sxs-lookup"><span data-stu-id="bdba7-168">Peak-constrained VBR encoding is useful for playback devices with a finite buffer capacity and some data rate constraints.</span></span> <span data-ttu-id="bdba7-169">Un esempio comune è la codifica utilizzata per i DVD.</span><span class="sxs-lookup"><span data-stu-id="bdba7-169">A common example of this is the encoding used for DVDs.</span></span>

## <a name="related-topics"></a><span data-ttu-id="bdba7-170">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="bdba7-170">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bdba7-171">Uso della codifica VBR</span><span class="sxs-lookup"><span data-stu-id="bdba7-171">Using VBR Encoding</span></span>](usingvbrencoding.md)
</dt> <dt>

[<span data-ttu-id="bdba7-172">Codec Windows Media</span><span class="sxs-lookup"><span data-stu-id="bdba7-172">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 



