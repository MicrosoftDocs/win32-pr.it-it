---
description: Configurazione del codec DMOs
ms.assetid: 431b33f1-ceb0-4f1b-a9f2-72e88b63f973
title: Configurazione del codec DMOs
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 564c0e6c566d9f583a495238f3ea6f0716d7adde
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104484084"
---
# <a name="configuring-codec-dmos"></a><span data-ttu-id="50f0b-103">Configurazione del codec DMOs</span><span class="sxs-lookup"><span data-stu-id="50f0b-103">Configuring Codec DMOs</span></span>

<span data-ttu-id="50f0b-104">Questo argomento descrive il processo di configurazione del codec DMOs.</span><span class="sxs-lookup"><span data-stu-id="50f0b-104">This topic describes the process of configuring the codec DMOs.</span></span> <span data-ttu-id="50f0b-105">Ogni codec ha procedure specifiche, ma le informazioni comuni a tutte sono descritte qui.</span><span class="sxs-lookup"><span data-stu-id="50f0b-105">Each codec has specific procedures, but the information common to all is described here.</span></span>

## <a name="configuring-dmo-inputs-and-outputs"></a><span data-ttu-id="50f0b-106">Configurazione di input e output DMO</span><span class="sxs-lookup"><span data-stu-id="50f0b-106">Configuring DMO Inputs and Outputs</span></span>

<span data-ttu-id="50f0b-107">Ogni DMO supporta tipi di input e output specifici.</span><span class="sxs-lookup"><span data-stu-id="50f0b-107">Every DMO supports specific input and output types.</span></span> <span data-ttu-id="50f0b-108">È possibile recuperare i tipi supportati per gli input e gli output chiamando [**IMediaObject:: GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) per gli input e [**IMediaObject:: GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype) per gli output.</span><span class="sxs-lookup"><span data-stu-id="50f0b-108">You can retrieve supported types for inputs and outputs by calling [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) for inputs and [**IMediaObject::GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype) for outputs.</span></span> <span data-ttu-id="50f0b-109">È possibile enumerare i formati supportati effettuando chiamate ripetute a uno dei metodi, incrementando l'indice del tipo con ogni chiamata.</span><span class="sxs-lookup"><span data-stu-id="50f0b-109">You can enumerate the supported formats by making repeated calls to either method, incrementing the type index with each call.</span></span> <span data-ttu-id="50f0b-110">Quando l'indice supera quello del tipo supportato finale, la chiamata restituisce DMO \_ E \_ non \_ più \_ elementi.</span><span class="sxs-lookup"><span data-stu-id="50f0b-110">When the index exceeds that of the final supported type, the call returns DMO\_E\_NO\_MORE\_ITEMS.</span></span>

<span data-ttu-id="50f0b-111">Per i codec video, viene enumerato solo un tipo di output o un tipo di input per un sottotipo di supporto specifico.</span><span class="sxs-lookup"><span data-stu-id="50f0b-111">For the video codecs, only one output type or input type is enumerated for a given media subtype.</span></span> <span data-ttu-id="50f0b-112">Per i codec audio, ogni singolo tipo supportato viene enumerato.</span><span class="sxs-lookup"><span data-stu-id="50f0b-112">For the audio codecs, each individual supported type is enumerated.</span></span> <span data-ttu-id="50f0b-113">Per ulteriori informazioni sui tipi supportati per i singoli codec, vedere [utilizzo di audio](workingwithaudio.md) e [utilizzo di video](workingwithvideo.md).</span><span class="sxs-lookup"><span data-stu-id="50f0b-113">For more information about supported types for individual codecs, see [Working with Audio](workingwithaudio.md) and [Working with Video](workingwithvideo.md).</span></span>

<span data-ttu-id="50f0b-114">Dopo aver configurato i tipi di supporto per i flussi di input e di output, impostarli chiamando [**IMediaObject:: SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) e [**IMediaObject:: SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype) rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="50f0b-114">After you configure the media types for the input and output streams, set them by calling [**IMediaObject::SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) and [**IMediaObject::SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype) respectively.</span></span> <span data-ttu-id="50f0b-115">Entrambi questi metodi restituiscono **DMO \_ E \_ Type \_ non \_ accettati** se il tipo specificato non è valido.</span><span class="sxs-lookup"><span data-stu-id="50f0b-115">Both of these methods return **DMO\_E\_TYPE\_NOT\_ACCEPTED** if the specified type is invalid.</span></span>

## <a name="configuring-the-codec-dmos-for-encoding"></a><span data-ttu-id="50f0b-116">Configurazione del codec DMOs per la codifica</span><span class="sxs-lookup"><span data-stu-id="50f0b-116">Configuring the Codec DMOs for Encoding</span></span>

<span data-ttu-id="50f0b-117">Tutti i codec Windows Media Audio e video supportano un'ampia gamma di funzionalità di codifica.</span><span class="sxs-lookup"><span data-stu-id="50f0b-117">All of the Windows Media Audio and Video codecs support a variety of encoding features.</span></span> <span data-ttu-id="50f0b-118">Queste funzionalità vengono in genere configurate impostando le proprietà di DMO usando i metodi dell'interfaccia **IPropertyBag** .</span><span class="sxs-lookup"><span data-stu-id="50f0b-118">These features are generally configured by setting properties on the DMO by using the methods of the **IPropertyBag** interface.</span></span> <span data-ttu-id="50f0b-119">Alcune proprietà vengono configurate utilizzando interfacce di codec specializzate.</span><span class="sxs-lookup"><span data-stu-id="50f0b-119">Some properties are configured using specialized codec interfaces.</span></span> <span data-ttu-id="50f0b-120">Queste interfacce sono elencate per ogni codec nella sezione [oggetti codec](codecobjects.md).</span><span class="sxs-lookup"><span data-stu-id="50f0b-120">These interfaces are listed for each codec in the section [Codec Objects](codecobjects.md).</span></span>

<span data-ttu-id="50f0b-121">L'ordine generale delle operazioni per la configurazione di una DMO di codifica è il seguente:</span><span class="sxs-lookup"><span data-stu-id="50f0b-121">The general order of operations for configuring an encoding DMO is as follows:</span></span>

1.  <span data-ttu-id="50f0b-122">Configurare le funzionalità di codec come desiderato usando i metodi di **IPropertyBag**.</span><span class="sxs-lookup"><span data-stu-id="50f0b-122">Configure codec features as desired by using the methods of **IPropertyBag**.</span></span>
2.  <span data-ttu-id="50f0b-123">Usare le interfacce codec DMO per configurare le funzionalità aggiuntive, se necessario.</span><span class="sxs-lookup"><span data-stu-id="50f0b-123">Use the codec DMO interfaces to configure additional features, if needed.</span></span>
3.  <span data-ttu-id="50f0b-124">Configurare i tipi di input e di output.</span><span class="sxs-lookup"><span data-stu-id="50f0b-124">Configure the input and output types.</span></span> <span data-ttu-id="50f0b-125">L'ordine in cui devono essere configurati i tipi varia per i singoli codec.</span><span class="sxs-lookup"><span data-stu-id="50f0b-125">The order in which the types should be configured varies for individual codecs.</span></span> <span data-ttu-id="50f0b-126">Per ulteriori informazioni, vedere [utilizzo di audio](workingwithaudio.md) e [utilizzo di video](workingwithvideo.md).</span><span class="sxs-lookup"><span data-stu-id="50f0b-126">For more information, see [Working with Audio](workingwithaudio.md) and [Working with Video](workingwithvideo.md).</span></span>

## <a name="configuring-the-codec-dmos-for-decoding"></a><span data-ttu-id="50f0b-127">Configurazione del codec DMOs per la decodifica</span><span class="sxs-lookup"><span data-stu-id="50f0b-127">Configuring the Codec DMOs for Decoding</span></span>

<span data-ttu-id="50f0b-128">La decodifica è più semplice della codifica, in quanto sono supportate meno funzionalità di decodificatore.</span><span class="sxs-lookup"><span data-stu-id="50f0b-128">Decoding is simpler than encoding, as fewer decoder features are supported.</span></span>

<span data-ttu-id="50f0b-129">L'ordine generale delle operazioni per la configurazione di un DMO di decodifica è il seguente:</span><span class="sxs-lookup"><span data-stu-id="50f0b-129">The general order of operations for configuring a decoding DMO is as follows:</span></span>

1.  <span data-ttu-id="50f0b-130">Configurare le funzionalità del decodificatore come desiderato usando i metodi di **IPropertyBag**.</span><span class="sxs-lookup"><span data-stu-id="50f0b-130">Configure decoder features as desired by using the methods of **IPropertyBag**.</span></span>
2.  <span data-ttu-id="50f0b-131">Impostare il tipo di input sul tipo usato per l'output del codificatore.</span><span class="sxs-lookup"><span data-stu-id="50f0b-131">Set the input type to the type used for the encoder output.</span></span>
3.  <span data-ttu-id="50f0b-132">Configurare il tipo di output.</span><span class="sxs-lookup"><span data-stu-id="50f0b-132">Configure the output type.</span></span> <span data-ttu-id="50f0b-133">I tipi di output supportati sono diversi per gli input diversi.</span><span class="sxs-lookup"><span data-stu-id="50f0b-133">The supported output types are different for different inputs.</span></span>

> [!Note]  
> <span data-ttu-id="50f0b-134">È importante usare lo stesso tipo di supporto per l'input del decodificatore usato per l'output del codificatore.</span><span class="sxs-lookup"><span data-stu-id="50f0b-134">It is important to use the same media type for the decoder input as was used for the encoder output.</span></span> <span data-ttu-id="50f0b-135">Ciò è dovuto al fatto che i codec Windows Media Audio e video usano formati multimediali con dati aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="50f0b-135">This is because the Windows Media Audio and Video codecs use media formats with extra data.</span></span> <span data-ttu-id="50f0b-136">Questi dati vengono aggiunti alla struttura a cui punta il membro **pbFormat** della struttura del [**tipo di \_ supporto \_ DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) (in genere [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) o [**WAVEFORMATEX**](/previous-versions/dd757713(v=vs.85))).</span><span class="sxs-lookup"><span data-stu-id="50f0b-136">This data is appended to the structure pointed to by the **pbFormat** member of the [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure (usually [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) or [**WAVEFORMATEX**](/previous-versions/dd757713(v=vs.85))).</span></span> <span data-ttu-id="50f0b-137">Per alcuni tipi i dati aggiuntivi fanno parte del tipo di output del codificatore enumerato.</span><span class="sxs-lookup"><span data-stu-id="50f0b-137">For some types the extra data is part of the enumerated encoder output type.</span></span> <span data-ttu-id="50f0b-138">Per altri tipi è necessario aggiungere manualmente questi dati.</span><span class="sxs-lookup"><span data-stu-id="50f0b-138">Other types require you to append this data manually.</span></span> <span data-ttu-id="50f0b-139">Senza i dati di formato esteso, non è possibile decodificare il contenuto compresso.</span><span class="sxs-lookup"><span data-stu-id="50f0b-139">Without the extended format data, you cannot decode the compressed content.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="50f0b-140">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="50f0b-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="50f0b-141">Uso di codec DMOs</span><span class="sxs-lookup"><span data-stu-id="50f0b-141">Working with Codec DMOs</span></span>](workingwithcodecdmos.md)
</dt> </dl>

 

 
