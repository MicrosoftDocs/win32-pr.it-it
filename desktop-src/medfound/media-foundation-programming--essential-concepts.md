---
description: Se non si ha familiarità con i supporti digitali, in questo argomento vengono introdotti alcuni concetti che è necessario conoscere prima di scrivere un'applicazione Media Foundation.
ms.assetid: d76d655e-23f3-407c-97a1-be015b0de37d
title: 'Media Foundation: concetti essenziali'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0298a20518df91dab4439770e0f1193802969ae8
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/03/2021
ms.locfileid: "104401820"
---
# <a name="media-foundation-essential-concepts"></a><span data-ttu-id="953eb-103">Media Foundation: concetti essenziali</span><span class="sxs-lookup"><span data-stu-id="953eb-103">Media Foundation: Essential Concepts</span></span>

<span data-ttu-id="953eb-104">Se non si ha familiarità con i supporti digitali, in questo argomento vengono introdotti alcuni concetti che è necessario conoscere prima di scrivere un'applicazione Media Foundation.</span><span class="sxs-lookup"><span data-stu-id="953eb-104">If you are new to digital media, this topic introduces some concepts that you will need to understand before writing a Media Foundation application.</span></span>

-   [<span data-ttu-id="953eb-105">Flussi</span><span class="sxs-lookup"><span data-stu-id="953eb-105">Streams</span></span>](#streams)
-   [<span data-ttu-id="953eb-106">Compressione</span><span class="sxs-lookup"><span data-stu-id="953eb-106">Compression</span></span>](#compression)
-   [<span data-ttu-id="953eb-107">Contenitori multimediali</span><span class="sxs-lookup"><span data-stu-id="953eb-107">Media Containers</span></span>](#media-containers)
-   [<span data-ttu-id="953eb-108">Formati</span><span class="sxs-lookup"><span data-stu-id="953eb-108">Formats</span></span>](#formats)
-   [<span data-ttu-id="953eb-109">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="953eb-109">Related topics</span></span>](#related-topics)

## <a name="streams"></a><span data-ttu-id="953eb-110">Flussi</span><span class="sxs-lookup"><span data-stu-id="953eb-110">Streams</span></span>

<span data-ttu-id="953eb-111">Un *flusso* è una sequenza di dati multimediali con un tipo uniforme.</span><span class="sxs-lookup"><span data-stu-id="953eb-111">A *stream* is a sequence of media data with a uniform type.</span></span> <span data-ttu-id="953eb-112">I tipi più comuni sono audio e video, ma un flusso può contenere quasi qualsiasi tipo di dati, tra cui testo, comandi di script e immagini ancora.</span><span class="sxs-lookup"><span data-stu-id="953eb-112">The most common types are audio and video, but a stream can contain almost any kind of data, including text, script commands, and still images.</span></span> <span data-ttu-id="953eb-113">Il termine *flusso* in questa documentazione non implica il recapito in una rete.</span><span class="sxs-lookup"><span data-stu-id="953eb-113">The term *stream* in this documentation does not imply delivery over a network.</span></span> <span data-ttu-id="953eb-114">Un file multimediale destinato alla riproduzione locale contiene anche flussi.</span><span class="sxs-lookup"><span data-stu-id="953eb-114">A media file intended for local playback also contains streams.</span></span>

<span data-ttu-id="953eb-115">In genere, un file multimediale contiene un solo flusso audio o un flusso video e un flusso audio.</span><span class="sxs-lookup"><span data-stu-id="953eb-115">Usually, a media file contains either a single audio stream, or exactly one video stream and one audio stream.</span></span> <span data-ttu-id="953eb-116">Tuttavia, un file multimediale potrebbe contenere diversi flussi dello stesso tipo.</span><span class="sxs-lookup"><span data-stu-id="953eb-116">However, a media file might contain several streams of the same type.</span></span> <span data-ttu-id="953eb-117">Ad esempio, un file video potrebbe contenere flussi audio in diverse lingue.</span><span class="sxs-lookup"><span data-stu-id="953eb-117">For example, a video file might contain audio streams in several different languages.</span></span> <span data-ttu-id="953eb-118">In fase di esecuzione, l'applicazione seleziona il flusso da usare.</span><span class="sxs-lookup"><span data-stu-id="953eb-118">At run time, the application would select which stream to use.</span></span>

## <a name="compression"></a><span data-ttu-id="953eb-119">Compressione</span><span class="sxs-lookup"><span data-stu-id="953eb-119">Compression</span></span>

<span data-ttu-id="953eb-120">La *compressione* si riferisce a qualsiasi processo che riduce le dimensioni di un flusso di dati rimuovendo le informazioni ridondanti.</span><span class="sxs-lookup"><span data-stu-id="953eb-120">*Compression* refers to any process that reduces the size of a data stream by removing redundant information.</span></span> <span data-ttu-id="953eb-121">Gli algoritmi di compressione rientrano in due categorie generali:</span><span class="sxs-lookup"><span data-stu-id="953eb-121">Compression algorithms fall into two broad categories:</span></span>

-   <span data-ttu-id="953eb-122">Compressione senza *perdita di perdite* .</span><span class="sxs-lookup"><span data-stu-id="953eb-122">*Lossless* compression.</span></span> <span data-ttu-id="953eb-123">Usando un algoritmo senza perdita di dati, i dati ricostruiti sono identici a quelli originali.</span><span class="sxs-lookup"><span data-stu-id="953eb-123">Using a lossless algorithm, the reconstructed data is identical to the original.</span></span>
-   <span data-ttu-id="953eb-124">Compressione con *perdita di perdite* .</span><span class="sxs-lookup"><span data-stu-id="953eb-124">*Lossy* compression.</span></span> <span data-ttu-id="953eb-125">Usando un algoritmo con perdita di dati, i dati ricostruiti sono un'approssimazione del originale, ma non è una corrispondenza esatta.</span><span class="sxs-lookup"><span data-stu-id="953eb-125">Using a lossy algorithm, the reconstructed data is an approximation of the original, but is not an exact match.</span></span>

<span data-ttu-id="953eb-126">Nella maggior parte degli altri domini, la compressione con perdita di perdite non è accettabile.</span><span class="sxs-lookup"><span data-stu-id="953eb-126">In most other domains, lossy compression is not acceptable.</span></span> <span data-ttu-id="953eb-127">Si supponga di ottenere una "approssimazione" di un foglio di calcolo. Tuttavia, gli schemi di compressione con perdita di perdite sono particolarmente adatti per audio e video, per un paio di motivi.</span><span class="sxs-lookup"><span data-stu-id="953eb-127">(Imagine getting back an "approximation" of a spreadsheet!) But lossy compression schemes are well-suited to audio and video, for a couple of reasons.</span></span>

<span data-ttu-id="953eb-128">Il primo motivo ha a che fare con la fisica della percezione umana.</span><span class="sxs-lookup"><span data-stu-id="953eb-128">The first reason has to do with the physics of human perception.</span></span> <span data-ttu-id="953eb-129">Quando ascoltiamo un suono complesso, ad esempio una registrazione musicale, alcune delle informazioni contenute in tale suono non sono percettibili all'orecchio.</span><span class="sxs-lookup"><span data-stu-id="953eb-129">When we listen to a complex sound, like a music recording, some of the information contained in that sound is not perceptible to the ear.</span></span> <span data-ttu-id="953eb-130">Con l'ausilio della teoria dell'elaborazione dei segnali, è possibile analizzare e separare le frequenze che non possono essere percepite.</span><span class="sxs-lookup"><span data-stu-id="953eb-130">With the help of signal processing theory, it is possible to analyze and separate the frequencies that cannot be perceived.</span></span> <span data-ttu-id="953eb-131">Queste frequenze possono essere rimosse senza effetti percettivi.</span><span class="sxs-lookup"><span data-stu-id="953eb-131">These frequencies can be removed with no perceptual effect.</span></span> <span data-ttu-id="953eb-132">Sebbene l'audio ricostruito non corrisponda esattamente a quello originale *, suonerà lo stesso* per il listener.</span><span class="sxs-lookup"><span data-stu-id="953eb-132">Although the reconstructed audio will not match the original exactly, it will *sound* the same to the listener.</span></span> <span data-ttu-id="953eb-133">Principi simili si applicano ai video.</span><span class="sxs-lookup"><span data-stu-id="953eb-133">Similar principles apply to video.</span></span>

<span data-ttu-id="953eb-134">In secondo luogo, potrebbe essere accettabile una riduzione della qualità del suono o dell'immagine, a seconda dello scopo designato.</span><span class="sxs-lookup"><span data-stu-id="953eb-134">Second, some degradation in sound or image quality may be acceptable, depending on the intended purpose.</span></span> <span data-ttu-id="953eb-135">In telefonia, ad esempio, l'audio è spesso fortemente compresso.</span><span class="sxs-lookup"><span data-stu-id="953eb-135">In telephony, for example, audio is often highly compressed.</span></span> <span data-ttu-id="953eb-136">Il risultato è abbastanza adatto per una conversazione telefonica, ma non è opportuno ascoltare un'orchestrazione sinfonica tramite telefono.</span><span class="sxs-lookup"><span data-stu-id="953eb-136">The result is good enough for a phone conversation—but you wouldn't want to listen to a symphony orchestra over a telephone.</span></span>

<span data-ttu-id="953eb-137">La compressione è detta anche *codifica* e un dispositivo che codifica viene *definito codificatore.*</span><span class="sxs-lookup"><span data-stu-id="953eb-137">Compression is also called *encoding*, and a device that encodes is called an *encoder*.</span></span> <span data-ttu-id="953eb-138">Il processo inverso è la *decodifica* e il dispositivo è naturalmente chiamato *decodificatore*.</span><span class="sxs-lookup"><span data-stu-id="953eb-138">The reverse process is *decoding*, and the device is a naturally called a *decoder*.</span></span> <span data-ttu-id="953eb-139">Il termine generale per codificatori e decodificatori è il *codec*.</span><span class="sxs-lookup"><span data-stu-id="953eb-139">The general term for both encoders and decoders is *codec*.</span></span> <span data-ttu-id="953eb-140">I codec possono essere implementati in hardware o software.</span><span class="sxs-lookup"><span data-stu-id="953eb-140">Codecs can be implemented in hardware or software.</span></span>

<span data-ttu-id="953eb-141">La tecnologia di compressione è cambiata rapidamente rispetto all'avvento dei supporti digitali e attualmente è in uso un numero elevato di schemi di compressione.</span><span class="sxs-lookup"><span data-stu-id="953eb-141">Compression technology has changed rapidly since the advent of digital media, and a large number of compression schemes are in use today.</span></span> <span data-ttu-id="953eb-142">Questo è uno dei principali problemi della programmazione multimediale digitale.</span><span class="sxs-lookup"><span data-stu-id="953eb-142">This fact is one of the main challenges for digital media programming.</span></span>

## <a name="media-containers"></a><span data-ttu-id="953eb-143">Contenitori multimediali</span><span class="sxs-lookup"><span data-stu-id="953eb-143">Media Containers</span></span>

<span data-ttu-id="953eb-144">È raro archiviare un flusso audio o video non elaborato come file del computer oppure inviarne uno direttamente sulla rete.</span><span class="sxs-lookup"><span data-stu-id="953eb-144">It is rare to store a raw audio or video stream as a computer file, or to send one directly over the network.</span></span> <span data-ttu-id="953eb-145">Per una cosa, sarebbe impossibile decodificare un flusso di questo tipo, senza conoscere in anticipo quale codec usare.</span><span class="sxs-lookup"><span data-stu-id="953eb-145">For one thing, it would be impossible to decode such a stream, without knowing in advance which codec to use.</span></span> <span data-ttu-id="953eb-146">Pertanto, i file multimediali contengono in genere almeno alcuni degli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="953eb-146">Therefore, media files usually contain at least some of the following elements:</span></span>

-   <span data-ttu-id="953eb-147">Intestazioni di file che descrivono il numero di flussi, il formato di ogni flusso e così via.</span><span class="sxs-lookup"><span data-stu-id="953eb-147">File headers that describe the number of streams, the format of each stream, and so on.</span></span>
-   <span data-ttu-id="953eb-148">Indice che consente l'accesso casuale al contenuto.</span><span class="sxs-lookup"><span data-stu-id="953eb-148">An index that enables random access to the content.</span></span>
-   <span data-ttu-id="953eb-149">Metadati che descrivono il contenuto (ad esempio, l'artista o il titolo).</span><span class="sxs-lookup"><span data-stu-id="953eb-149">Metadata that describes the content (for example, the artist or title).</span></span>
-   <span data-ttu-id="953eb-150">Intestazioni di pacchetti, per abilitare la trasmissione di rete o l'accesso casuale.</span><span class="sxs-lookup"><span data-stu-id="953eb-150">Packet headers, to enable network transmission or random access.</span></span>

<span data-ttu-id="953eb-151">In questa documentazione viene usato il termine *contenitore* per descrivere l'intero pacchetto di flussi, intestazioni, indici, metadati e così via.</span><span class="sxs-lookup"><span data-stu-id="953eb-151">This documentation uses the term *container* to describe the entire package of streams, headers, indexes, metadata, and so forth.</span></span> <span data-ttu-id="953eb-152">Il motivo per cui si usa il termine *contenitore* anziché il *file* è che alcuni formati di contenitore sono progettati per la trasmissione in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="953eb-152">The reason for using the term *container* rather than *file* is that some container formats are designed for live broadcast.</span></span> <span data-ttu-id="953eb-153">Un'applicazione può generare il contenitore in tempo reale, senza mai archiviarlo in un file.</span><span class="sxs-lookup"><span data-stu-id="953eb-153">An application could generate the container in real time, never storing it to a file.</span></span>

<span data-ttu-id="953eb-154">Un esempio anticipato di un contenitore multimediale è il formato di file AVI.</span><span class="sxs-lookup"><span data-stu-id="953eb-154">An early example of a media container is the AVI file format.</span></span> <span data-ttu-id="953eb-155">Altri esempi sono MP4 e Advanced Systems Format (ASF).</span><span class="sxs-lookup"><span data-stu-id="953eb-155">Other examples include MP4 and Advanced Systems Format (ASF).</span></span> <span data-ttu-id="953eb-156">I contenitori possono essere identificati in base all'estensione del nome file, ad esempio MP4, o al tipo MIME.</span><span class="sxs-lookup"><span data-stu-id="953eb-156">Containers can be identified by file name extension (for example, .mp4) or by MIME type.</span></span>

<span data-ttu-id="953eb-157">Il diagramma seguente illustra una struttura tipica per un contenitore multimediale.</span><span class="sxs-lookup"><span data-stu-id="953eb-157">The following diagram shows a typical structure for a media container.</span></span> <span data-ttu-id="953eb-158">Il diagramma non rappresenta un formato specifico. i dettagli di ogni formato variano notevolmente.</span><span class="sxs-lookup"><span data-stu-id="953eb-158">The diagram does not represent any specific format; the details of each format vary widely.</span></span>

![diagramma che mostra un contenitore multimediale tipico](images/concepts01.png)

<span data-ttu-id="953eb-160">Si noti che la struttura mostrata nel diagramma è gerarchica, con le informazioni di intestazione visualizzate all'inizio del contenitore.</span><span class="sxs-lookup"><span data-stu-id="953eb-160">Notice that the structure shown in the diagram is hierarchical, with header information appearing at the start of the container.</span></span> <span data-ttu-id="953eb-161">Questa struttura è tipica di molti formati di contenitore (ma non tutti).</span><span class="sxs-lookup"><span data-stu-id="953eb-161">This structure is typical of many (but not all) container formats.</span></span> <span data-ttu-id="953eb-162">Si noti anche che la sezione dati contiene pacchetti audio e video con interfoliazione.</span><span class="sxs-lookup"><span data-stu-id="953eb-162">Also notice that the data section contains interleaved audio and video packets.</span></span> <span data-ttu-id="953eb-163">Questo tipo di interfoliazione è comune nei contenitori di contenuti multimediali.</span><span class="sxs-lookup"><span data-stu-id="953eb-163">This type of interleaving is common in media containers.</span></span>

<span data-ttu-id="953eb-164">Il termine *multiplexing* si riferisce al processo di packetizing dei flussi audio e video e all'interfoliazione dei pacchetti nel contenitore.</span><span class="sxs-lookup"><span data-stu-id="953eb-164">The term *multiplexing* refers to the process of packetizing the audio and video streams and interleaving the packets into the container.</span></span> <span data-ttu-id="953eb-165">Il processo inverso, ovvero il riassemblaggio dei flussi dai dati in pacchetto, viene definito *demultiplexing*.</span><span class="sxs-lookup"><span data-stu-id="953eb-165">The reverse process, reassembling the streams from the packetized data, is called *demultiplexing*.</span></span>

## <a name="formats"></a><span data-ttu-id="953eb-166">Formati</span><span class="sxs-lookup"><span data-stu-id="953eb-166">Formats</span></span>

<span data-ttu-id="953eb-167">Nei supporti digitali il *formato* del termine è ambiguo.</span><span class="sxs-lookup"><span data-stu-id="953eb-167">In digital media, the term *format* is ambiguous.</span></span> <span data-ttu-id="953eb-168">Un formato può riferirsi al tipo di *codifica*, ad esempio il video H. 264 o il *contenitore*, ad esempio MP4.</span><span class="sxs-lookup"><span data-stu-id="953eb-168">A format can refer to the type of *encoding*, such as H.264 video, or the *container*, such as MP4.</span></span> <span data-ttu-id="953eb-169">Questa distinzione è spesso confusa per gli utenti normali.</span><span class="sxs-lookup"><span data-stu-id="953eb-169">This distinction is often confusing for ordinary users.</span></span> <span data-ttu-id="953eb-170">I nomi assegnati ai formati multimediali non sempre sono utili.</span><span class="sxs-lookup"><span data-stu-id="953eb-170">The names given to media formats do not always help.</span></span> <span data-ttu-id="953eb-171">Il formato *MP3* , ad esempio, si riferisce sia a un formato di codifica (MPEG-1 Audio Layer 3) che a un formato di file.</span><span class="sxs-lookup"><span data-stu-id="953eb-171">For example, *MP3* refers both to an encoding format (MPEG-1 Audio Layer 3) and a file format.</span></span>

<span data-ttu-id="953eb-172">Questa distinzione è importante, tuttavia, perché la lettura di un file multimediale comporta effettivamente due fasi:</span><span class="sxs-lookup"><span data-stu-id="953eb-172">The distinction is important, however, because reading a media file actually involves two stages:</span></span>

1.  <span data-ttu-id="953eb-173">Prima di tutto, il contenitore deve essere analizzato.</span><span class="sxs-lookup"><span data-stu-id="953eb-173">First, the container must be parsed.</span></span> <span data-ttu-id="953eb-174">Nella maggior parte dei casi, il numero di flussi e il formato di ogni flusso non possono essere noti fino al completamento di questo passaggio.</span><span class="sxs-lookup"><span data-stu-id="953eb-174">In most cases, the number of streams and the format of each stream cannot be known until this step is complete.</span></span>
2.  <span data-ttu-id="953eb-175">Successivamente, se i flussi sono compressi, è necessario decodificarli usando i decodificatori appropriati.</span><span class="sxs-lookup"><span data-stu-id="953eb-175">Next, if the streams are compressed, they must be decoded using the appropriate decoders.</span></span>

<span data-ttu-id="953eb-176">Questo fatto conduce abbastanza naturalmente a una progettazione software in cui vengono usati componenti separati per analizzare i contenitori e decodificare i flussi.</span><span class="sxs-lookup"><span data-stu-id="953eb-176">This fact leads quite naturally to a software design where separate components are used to parse containers and decode streams.</span></span> <span data-ttu-id="953eb-177">Inoltre, questo approccio si presta a un modello di plug-in, in modo che le terze parti possano fornire i propri parser e codec.</span><span class="sxs-lookup"><span data-stu-id="953eb-177">Further, this approach lends itself to a plug-in model, so that third parties can provide their own parsers and codecs.</span></span> <span data-ttu-id="953eb-178">In Windows, il Component Object Model (COM) fornisce un modo standard per separare un'API dalla relativa implementazione, che è un requisito per qualsiasi modello di plug-in.</span><span class="sxs-lookup"><span data-stu-id="953eb-178">On Windows, the Component Object Model (COM) provides a standard way to separate an API from its implementation, which is a requirement for any plug-in model.</span></span> <span data-ttu-id="953eb-179">Per questo motivo, tra gli altri, Media Foundation usa le interfacce COM.</span><span class="sxs-lookup"><span data-stu-id="953eb-179">For this reason (among others), Media Foundation uses COM interfaces.</span></span>

<span data-ttu-id="953eb-180">Il diagramma seguente illustra i componenti usati per leggere un file multimediale:</span><span class="sxs-lookup"><span data-stu-id="953eb-180">The following diagram shows the components used to read a media file:</span></span>

![diagramma che mostra i componenti per la lettura di un file multimediale](images/concepts02.png)

<span data-ttu-id="953eb-182">La scrittura di un file multimediale richiede anche due passaggi:</span><span class="sxs-lookup"><span data-stu-id="953eb-182">Writing a media file also requires two steps:</span></span>

1.  <span data-ttu-id="953eb-183">Codifica dei dati audio/video non compressi.</span><span class="sxs-lookup"><span data-stu-id="953eb-183">Encoding the uncompressed audio/video data.</span></span>
2.  <span data-ttu-id="953eb-184">Inserimento dei dati compressi in un formato contenitore specifico.</span><span class="sxs-lookup"><span data-stu-id="953eb-184">Putting the compressed data into a particular container format.</span></span>

<span data-ttu-id="953eb-185">Il diagramma seguente illustra i componenti usati per scrivere un file multimediale:</span><span class="sxs-lookup"><span data-stu-id="953eb-185">The following diagram shows the components used to write a media file:</span></span>

![diagramma che mostra i componenti per la scrittura di un file multimediale.](images/concepts03.png)

## <a name="related-topics"></a><span data-ttu-id="953eb-187">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="953eb-187">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="953eb-188">Guida alla programmazione di Media Foundation</span><span class="sxs-lookup"><span data-stu-id="953eb-188">Media Foundation Programming Guide</span></span>](media-foundation-programming-guide.md)
</dt> </dl>

 

 



