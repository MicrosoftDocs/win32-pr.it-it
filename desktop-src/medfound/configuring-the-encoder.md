---
description: Proprietà di codifica
ms.assetid: 6845c3fb-38a8-4b0d-aea2-e10f7e518653
title: Proprietà di codifica
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 093b72dc37501ca88882c6e3b530cda0eed1baa2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104127955"
---
# <a name="encoding-properties"></a><span data-ttu-id="6783a-103">Proprietà di codifica</span><span class="sxs-lookup"><span data-stu-id="6783a-103">Encoding Properties</span></span>

<span data-ttu-id="6783a-104">I codificatori Windows Media Audio e Windows Media Video supportano un'ampia gamma di modalità di codifica.</span><span class="sxs-lookup"><span data-stu-id="6783a-104">The Windows Media Audio and Windows Media Video encoders support a variety of encoding modes.</span></span> <span data-ttu-id="6783a-105">Queste modalità vengono in genere configurate impostando le proprietà del codificatore [Media Foundation trasformazione](media-foundation-transforms.md) (MFT).</span><span class="sxs-lookup"><span data-stu-id="6783a-105">These modes are generally configured by setting properties on the encoder [Media Foundation transform](media-foundation-transforms.md) (MFT).</span></span> <span data-ttu-id="6783a-106">Per eseguire la codifica dei file, sia che si utilizzino componenti a livello di WMContainer che compilando una topologia parziale, è necessario configurare il codificatore in modo appropriato, impostando le proprietà in base alla modalità di codifica e al tipo di supporto del flusso.</span><span class="sxs-lookup"><span data-stu-id="6783a-106">To perform file encoding, whether using WMContainer-level components or by building a partial topology, you must configure the encoder appropriately by setting properties depending on the mode of encoding and the media type of the stream.</span></span> <span data-ttu-id="6783a-107">Per scrivere il file ASF è necessario impostare lo stesso set di proprietà sia nel codificatore che nell'oggetto (sink di file ASF o nel multiplexer ASF) utilizzato.</span><span class="sxs-lookup"><span data-stu-id="6783a-107">The same set of properties must be set both on the encoder and the object (ASF file sink or ASF multiplexer) you are using to write the ASF file.</span></span>

<span data-ttu-id="6783a-108">Le proprietà del codificatore sono definite in wmcodecdsp. h.</span><span class="sxs-lookup"><span data-stu-id="6783a-108">The encoder properties are defined in wmcodecdsp.h.</span></span> <span data-ttu-id="6783a-109">Le proprietà specifiche utilizzate per configurare il codificatore vengono impostate utilizzando i metodi dell'interfaccia [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) .</span><span class="sxs-lookup"><span data-stu-id="6783a-109">The specific properties that are used to configure the encoder are set by using the methods of the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface.</span></span>

-   [<span data-ttu-id="6783a-110">Proprietà del flusso audio</span><span class="sxs-lookup"><span data-stu-id="6783a-110">Audio Stream Properties</span></span>](#audio-stream-properties)
-   [<span data-ttu-id="6783a-111">Proprietà del flusso video</span><span class="sxs-lookup"><span data-stu-id="6783a-111">Video Stream Properties</span></span>](#video-stream-properties)
-   [<span data-ttu-id="6783a-112">Configurazione dell'archivio di proprietà del codificatore</span><span class="sxs-lookup"><span data-stu-id="6783a-112">Configuring the Encoder's Property Store</span></span>](#configuring-the-encoders-property-store)

### <a name="audio-stream-properties"></a><span data-ttu-id="6783a-113">Proprietà del flusso audio</span><span class="sxs-lookup"><span data-stu-id="6783a-113">Audio Stream Properties</span></span>

<span data-ttu-id="6783a-114">La tabella seguente illustra le configurazioni del codificatore per un flusso audio.</span><span class="sxs-lookup"><span data-stu-id="6783a-114">The following table shows the encoder configurations for an audio stream.</span></span>



| <span data-ttu-id="6783a-115">Tipo di codifica</span><span class="sxs-lookup"><span data-stu-id="6783a-115">Encoding type</span></span>                                                                                        | <span data-ttu-id="6783a-116">Nome proprietà-valore</span><span class="sxs-lookup"><span data-stu-id="6783a-116">Property name - Value</span></span>                                                                                                                                                                               |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6783a-117">Codifica della velocità in bit costante</span><span class="sxs-lookup"><span data-stu-id="6783a-117">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="6783a-118">MFPKEY \_ VBRENABLED- **false** (facoltativo) per impostazione predefinita, MFPKEY \_ VBRENABLED è impostato su **false**.</span><span class="sxs-lookup"><span data-stu-id="6783a-118">MFPKEY\_VBRENABLED - **FALSE** (Optional)By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/>                                                                                             |
| [<span data-ttu-id="6783a-119">Codifica della velocità in bit della variabile basata sulla qualità</span><span class="sxs-lookup"><span data-stu-id="6783a-119">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="6783a-120">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="6783a-120">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="6783a-121">MFPKEY \_ PASSESUSED-1 (facoltativo)</span><span class="sxs-lookup"><span data-stu-id="6783a-121">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="6783a-122">Per impostazione predefinita, MFPKEY \_ PASSESUSED è impostato su 1.</span><span class="sxs-lookup"><span data-stu-id="6783a-122">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="6783a-123">MFPKEY \_ desired \_ VBRQUALITY-da 0 a 100</span><span class="sxs-lookup"><span data-stu-id="6783a-123">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="6783a-124">Codifica della velocità in bit variabile non vincolata</span><span class="sxs-lookup"><span data-stu-id="6783a-124">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="6783a-125">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="6783a-125">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="6783a-126">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="6783a-126">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="6783a-127">Codifica della velocità in bit a variabili con vincoli di picco</span><span class="sxs-lookup"><span data-stu-id="6783a-127">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="6783a-128">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="6783a-128">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="6783a-129">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="6783a-129">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="6783a-130">MFPKEY \_ Rmax-velocità in bit massima</span><span class="sxs-lookup"><span data-stu-id="6783a-130">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="6783a-131">MFPKEY \_ BMAX-finestra buffer massima</span><span class="sxs-lookup"><span data-stu-id="6783a-131">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="video-stream-properties"></a><span data-ttu-id="6783a-132">Proprietà del flusso video</span><span class="sxs-lookup"><span data-stu-id="6783a-132">Video Stream Properties</span></span>

<span data-ttu-id="6783a-133">La tabella seguente illustra le configurazioni del codificatore per un flusso video.</span><span class="sxs-lookup"><span data-stu-id="6783a-133">The following table shows the encoder configurations for a video stream.</span></span>



| <span data-ttu-id="6783a-134">Tipo di codifica</span><span class="sxs-lookup"><span data-stu-id="6783a-134">Encoding type</span></span>                                                                                        | <span data-ttu-id="6783a-135">Nome proprietà</span><span class="sxs-lookup"><span data-stu-id="6783a-135">Property name</span></span>                                                                                                                                                                                       |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6783a-136">Codifica della velocità in bit costante</span><span class="sxs-lookup"><span data-stu-id="6783a-136">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="6783a-137">MFPKEY \_ VBRENABLED- **false** (facoltativo)</span><span class="sxs-lookup"><span data-stu-id="6783a-137">MFPKEY\_VBRENABLED - **FALSE** (Optional)</span></span><br/> <span data-ttu-id="6783a-138">Per impostazione predefinita, MFPKEY \_ VBRENABLED è impostato su **false**.</span><span class="sxs-lookup"><span data-stu-id="6783a-138">By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/> <span data-ttu-id="6783a-139">MFPKEY \_ VIDEOWINDOW-finestra buffer</span><span class="sxs-lookup"><span data-stu-id="6783a-139">MFPKEY\_VIDEOWINDOW - Buffer window</span></span><br/>                                  |
| [<span data-ttu-id="6783a-140">Codifica della velocità in bit della variabile basata sulla qualità</span><span class="sxs-lookup"><span data-stu-id="6783a-140">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="6783a-141">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="6783a-141">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="6783a-142">MFPKEY \_ PASSESUSED-1 (facoltativo)</span><span class="sxs-lookup"><span data-stu-id="6783a-142">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="6783a-143">Per impostazione predefinita, MFPKEY \_ PASSESUSED è impostato su 1.</span><span class="sxs-lookup"><span data-stu-id="6783a-143">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="6783a-144">MFPKEY \_ desired \_ VBRQUALITY-da 0 a 100</span><span class="sxs-lookup"><span data-stu-id="6783a-144">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="6783a-145">Codifica della velocità in bit variabile non vincolata</span><span class="sxs-lookup"><span data-stu-id="6783a-145">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="6783a-146">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="6783a-146">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="6783a-147">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="6783a-147">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="6783a-148">Codifica della velocità in bit a variabili con vincoli di picco</span><span class="sxs-lookup"><span data-stu-id="6783a-148">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="6783a-149">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="6783a-149">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="6783a-150">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="6783a-150">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="6783a-151">MFPKEY \_ Rmax-velocità in bit massima</span><span class="sxs-lookup"><span data-stu-id="6783a-151">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="6783a-152">MFPKEY \_ BMAX-finestra buffer massima</span><span class="sxs-lookup"><span data-stu-id="6783a-152">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="configuring-the-encoders-property-store"></a><span data-ttu-id="6783a-153">Configurazione dell'archivio di proprietà del codificatore</span><span class="sxs-lookup"><span data-stu-id="6783a-153">Configuring the Encoder's Property Store</span></span>

<span data-ttu-id="6783a-154">È necessario configurare un codificatore specificando il tipo di codifica e le varie impostazioni specifiche del flusso prima della sessione di codifica.</span><span class="sxs-lookup"><span data-stu-id="6783a-154">You must configure an encoder by specifying the type of encoding and the various stream-specific settings before the encoding session.</span></span> <span data-ttu-id="6783a-155">È inoltre necessario impostare le proprietà del codificatore nell'archivio delle proprietà di un oggetto di una configurazione [ASF](asf-contentinfo-object.md) che rappresenta l'oggetto intestazione ASF del file di output.</span><span class="sxs-lookup"><span data-stu-id="6783a-155">You must also set the encoder properties in the property store of an [ASF ContentInfo Object](asf-contentinfo-object.md) that represents the ASF Header Object of the output file.</span></span>

<span data-ttu-id="6783a-156">Se si usa un codificatore MFT:</span><span class="sxs-lookup"><span data-stu-id="6783a-156">If you are using an encoder MFT:</span></span>

1.  <span data-ttu-id="6783a-157">Ottenere un riferimento all'interfaccia [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) di MFT del codificatore, come descritto in [uso dell'interfaccia IMFTransform di un codificatore](using-an-encoder-s-imftransform--interface.md).</span><span class="sxs-lookup"><span data-stu-id="6783a-157">Get a reference to the encoder MFT's [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface as described in [Using an Encoder's IMFTransform Interface](using-an-encoder-s-imftransform--interface.md).</span></span>
2.  <span data-ttu-id="6783a-158">Esecuzione di query sul codificatore MFT per l'interfaccia **IPropertyStore** .</span><span class="sxs-lookup"><span data-stu-id="6783a-158">Querying the encoder MFT for the **IPropertyStore** interface.</span></span>
3.  <span data-ttu-id="6783a-159">Impostazione delle proprietà obbligatorie chiamando **IPropertyStore:: SetValue**.</span><span class="sxs-lookup"><span data-stu-id="6783a-159">Setting the required properties by calling **IPropertyStore::SetValue**.</span></span>

<span data-ttu-id="6783a-160">Se si usano gli oggetti di attivazione del codificatore incorporati ed è già stato creato un sink di file ASF configurato, è possibile passare l'archivio delle proprietà del sink multimediale ASF a [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) o [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span><span class="sxs-lookup"><span data-stu-id="6783a-160">If you are using the built-in encoder activation objects and have already created an configured the ASF file sink, you can pass the ASF media sink's property store to [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) or [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span></span> <span data-ttu-id="6783a-161">Il codificatore viene configurato automaticamente in base alle impostazioni specificate dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="6783a-161">The encoder is configured automatically based on the settings specified by the application.</span></span> <span data-ttu-id="6783a-162">Per ulteriori informazioni, vedere la procedura descritta in [utilizzo di oggetti di attivazione di un codificatore](using-an-encoder-s-activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="6783a-162">For more information, see the procedure described in [Using an Encoder's Activation Objects](using-an-encoder-s-activation-objects.md).</span></span>

<span data-ttu-id="6783a-163">Per ulteriori informazioni sulla creazione di oggetti Media Foundation tramite oggetti Activation, vedere [oggetti Activation](activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="6783a-163">For more information about creating Media Foundation objects by using activation objects, see [Activation Objects](activation-objects.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="6783a-164">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="6783a-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6783a-165">Creazione di un'istanza di un codificatore MFT</span><span class="sxs-lookup"><span data-stu-id="6783a-165">Instantiating an Encoder MFT</span></span>](instantiating-the-encoder-mft.md)
</dt> <dt>

[<span data-ttu-id="6783a-166">Codificatori Windows Media</span><span class="sxs-lookup"><span data-stu-id="6783a-166">Windows Media Encoders</span></span>](windows-media-encoders.md)
</dt> </dl>

 

 
