---
description: Mixer personalizzati
ms.assetid: a0af318d-9ac2-43f9-8934-f28c472256a6
title: Mixer personalizzati
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ac7e56c578a7081de7c71ae3abaf9fc45d085827
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106305458"
---
# <a name="custom-mixers"></a><span data-ttu-id="f821a-103">Mixer personalizzati</span><span class="sxs-lookup"><span data-stu-id="f821a-103">Custom Mixers</span></span>

<span data-ttu-id="f821a-104">Questo argomento descrive come scrivere un mixer personalizzato per il renderer video avanzato (EVR).</span><span class="sxs-lookup"><span data-stu-id="f821a-104">This topic describes how to write a custom mixer for the enhanced video renderer (EVR).</span></span> <span data-ttu-id="f821a-105">È possibile usare un mixer personalizzato con il Media Foundation sink di supporto EVR o il filtro EVR DirectShow.</span><span class="sxs-lookup"><span data-stu-id="f821a-105">You can use a custom mixer with either the Media Foundation EVR media sink, or the DirectShow EVR filter.</span></span> <span data-ttu-id="f821a-106">Per altre informazioni sui mixer e sui Presenter, vedere [renderer video migliorato](enhanced-video-renderer.md).</span><span class="sxs-lookup"><span data-stu-id="f821a-106">For more information about mixers and presenters, see [Enhanced Video Renderer](enhanced-video-renderer.md).</span></span>

<span data-ttu-id="f821a-107">Il mixer è una trasformazione Media Foundation (MFT) con uno o più input (il flusso di riferimento più i flussi sottoflussi) e un output.</span><span class="sxs-lookup"><span data-stu-id="f821a-107">The mixer is a Media Foundation transform (MFT) with one or more inputs (the reference stream plus the substreams) and one output.</span></span> <span data-ttu-id="f821a-108">Il flusso di input riceve esempi da upstream.</span><span class="sxs-lookup"><span data-stu-id="f821a-108">The input stream receives samples from upstream.</span></span> <span data-ttu-id="f821a-109">Il flusso di output recapita esempi al Presenter.</span><span class="sxs-lookup"><span data-stu-id="f821a-109">The output stream delivers samples to the presenter.</span></span> <span data-ttu-id="f821a-110">Il EVR è responsabile della chiamata a [**IMFTransform::P rocessinput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) nel mixer e il presentatore è responsabile della chiamata a [**IMFTransform::P rocessoutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput).</span><span class="sxs-lookup"><span data-stu-id="f821a-110">The EVR is responsible for calling [**IMFTransform::ProcessInput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) on the mixer, and the presenter is responsible for calling [**IMFTransform::ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput).</span></span>

<span data-ttu-id="f821a-111">Come minimo, un mixer EVR deve implementare le interfacce seguenti:</span><span class="sxs-lookup"><span data-stu-id="f821a-111">At a minimum, an EVR mixer must implement the following interfaces:</span></span>



| <span data-ttu-id="f821a-112">Interfaccia</span><span class="sxs-lookup"><span data-stu-id="f821a-112">Interface</span></span>                                                                | <span data-ttu-id="f821a-113">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f821a-113">Description</span></span>                                                                                      |
|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f821a-114">**IMFTransform**</span><span class="sxs-lookup"><span data-stu-id="f821a-114">**IMFTransform**</span></span>](/windows/desktop/api/mftransform/nn-mftransform-imftransform)                                     | <span data-ttu-id="f821a-115">Fornisce la funzionalità di base di MFT.</span><span class="sxs-lookup"><span data-stu-id="f821a-115">Provides base MFT functionality.</span></span>                                                                 |
| [<span data-ttu-id="f821a-116">**IMFTopologyServiceLookupClient**</span><span class="sxs-lookup"><span data-stu-id="f821a-116">**IMFTopologyServiceLookupClient**</span></span>](/windows/desktop/api/evr/nn-evr-imftopologyservicelookupclient) | <span data-ttu-id="f821a-117">Consente al mixer di ottenere le interfacce dal EVR.</span><span class="sxs-lookup"><span data-stu-id="f821a-117">Enables the mixer to get interfaces from the EVR.</span></span>                                                |
| [<span data-ttu-id="f821a-118">**IMFVideoDeviceID**</span><span class="sxs-lookup"><span data-stu-id="f821a-118">**IMFVideoDeviceID**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideodeviceid)                             | <span data-ttu-id="f821a-119">Consente al mixer di ottenere le interfacce dal EVR.</span><span class="sxs-lookup"><span data-stu-id="f821a-119">Enables the mixer to get interfaces from the EVR.</span></span>                                                |
| [<span data-ttu-id="f821a-120">**IMFAttributes**</span><span class="sxs-lookup"><span data-stu-id="f821a-120">**IMFAttributes**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes)                                   | <span data-ttu-id="f821a-121">Utilizzato per esporre l'attributo in [**\_ grado di \_ \_ riconoscere**](mf-sa-d3d-aware-attribute.md) la compatibilità con l'amministratore MF SA a EVR.</span><span class="sxs-lookup"><span data-stu-id="f821a-121">Used to expose the [**MF\_SA\_D3D\_AWARE**](mf-sa-d3d-aware-attribute.md) attribute to the EVR.</span></span> |



 

<span data-ttu-id="f821a-122">Facoltativamente, un MFT può implementare una delle interfacce seguenti:</span><span class="sxs-lookup"><span data-stu-id="f821a-122">Optionally, an MFT can implement any of the following interfaces:</span></span>



| <span data-ttu-id="f821a-123">Interfaccia</span><span class="sxs-lookup"><span data-stu-id="f821a-123">Interface</span></span>                                                | <span data-ttu-id="f821a-124">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f821a-124">Description</span></span>                                                                                                                                          |
|----------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f821a-125">**IEVRTrustedVideoPlugin**</span><span class="sxs-lookup"><span data-stu-id="f821a-125">**IEVRTrustedVideoPlugin**</span></span>](/windows/desktop/api/evr/nn-evr-ievrtrustedvideoplugin) | <span data-ttu-id="f821a-126">Obbligatorio per riprodurre contenuti protetti.</span><span class="sxs-lookup"><span data-stu-id="f821a-126">Required to play protected content.</span></span>                                                                                                                  |
| [<span data-ttu-id="f821a-127">**IMFGetService**</span><span class="sxs-lookup"><span data-stu-id="f821a-127">**IMFGetService**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice)                   | <span data-ttu-id="f821a-128">Espone interfacce quali [**IMFVideoMixerBitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) e [**IMFVideoProcessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f821a-128">Exposes interfaces such as [**IMFVideoMixerBitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) and [**IMFVideoProcessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) to the application.</span></span> |
| [<span data-ttu-id="f821a-129">**IMFQualityAdvise**</span><span class="sxs-lookup"><span data-stu-id="f821a-129">**IMFQualityAdvise**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise)             | <span data-ttu-id="f821a-130">Consente al gestore della qualità di regolare la qualità del video.</span><span class="sxs-lookup"><span data-stu-id="f821a-130">Enables the quality manager to adjust the video quality.</span></span>                                                                                             |
| [<span data-ttu-id="f821a-131">**IMFVideoMixerBitmap**</span><span class="sxs-lookup"><span data-stu-id="f821a-131">**IMFVideoMixerBitmap**</span></span>](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap)       | <span data-ttu-id="f821a-132">Consente all'applicazione di combinare una bitmap statica nel video.</span><span class="sxs-lookup"><span data-stu-id="f821a-132">Enables the application to mix a static bitmap onto the video.</span></span>                                                                                       |
| [<span data-ttu-id="f821a-133">**IMFVideoPositionMapper**</span><span class="sxs-lookup"><span data-stu-id="f821a-133">**IMFVideoPositionMapper**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideopositionmapper) | <span data-ttu-id="f821a-134">Esegue il mapping delle coordinate del fotogramma video di output alle coordinate del fotogramma video di input.</span><span class="sxs-lookup"><span data-stu-id="f821a-134">Maps coordinates on the output video frame to coordinates on the input video frame.</span></span>                                                                  |
| [<span data-ttu-id="f821a-135">**IMFVideoProcessor**</span><span class="sxs-lookup"><span data-stu-id="f821a-135">**IMFVideoProcessor**</span></span>](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor)           | <span data-ttu-id="f821a-136">Espone alcune funzionalità di elaborazione video DXVA all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f821a-136">Exposes some DXVA video processing features to the application.</span></span>                                                                                      |



 

<span data-ttu-id="f821a-137">La negoziazione del formato con il mixer funziona nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="f821a-137">Format negotiation with the mixer works as follows:</span></span>

1.  <span data-ttu-id="f821a-138">EVR imposta il tipo di supporto nel flusso di riferimento.</span><span class="sxs-lookup"><span data-stu-id="f821a-138">The EVR sets the media type on the reference stream.</span></span>
2.  <span data-ttu-id="f821a-139">EVR chiama [**IMFVideoPresenter::P rocessmessage**](/windows/desktop/api/evr/nf-evr-imfvideopresenter-processmessage) sul Presenter con il messaggio **MFVP \_ \_ INVALIDATEMEDIATYPE** Message.</span><span class="sxs-lookup"><span data-stu-id="f821a-139">The EVR calls [**IMFVideoPresenter::ProcessMessage**](/windows/desktop/api/evr/nf-evr-imfvideopresenter-processmessage) on the presenter with the **MFVP\_MESSAGE\_INVALIDATEMEDIATYPE** message.</span></span>

3.  <span data-ttu-id="f821a-140">Il relatore imposta il tipo di supporto nel flusso di output del mixer.</span><span class="sxs-lookup"><span data-stu-id="f821a-140">The presenter sets the media type on the mixer's output stream.</span></span>
4.  <span data-ttu-id="f821a-141">EVR imposta il tipo di supporto nei flussi sottoflussi.</span><span class="sxs-lookup"><span data-stu-id="f821a-141">The EVR sets the media type on the substreams.</span></span>

<span data-ttu-id="f821a-142">Se il tipo di supporto per il flusso di riferimento cambia, gli altri tipi di supporto del mixer non sono più validi.</span><span class="sxs-lookup"><span data-stu-id="f821a-142">If the media type on the reference stream changes, the mixer's other media types are no longer valid.</span></span> <span data-ttu-id="f821a-143">Il metodo [**IMFTransform::P rocessoutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) del mixer avrà quindi esito negativo e restituirà la **modifica del \_ flusso MF e \_ Transform \_ \_**.</span><span class="sxs-lookup"><span data-stu-id="f821a-143">The mixer's [**IMFTransform::ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) method will then fail and return **MF\_E\_TRANSFORM\_STREAM\_CHANGE**.</span></span> <span data-ttu-id="f821a-144">A questo punto il presentatore non deve eseguire alcuna operazione.</span><span class="sxs-lookup"><span data-stu-id="f821a-144">The presenter should not do anything at this point.</span></span> <span data-ttu-id="f821a-145">Il EVR avvierà nuovamente il processo di negoziazione del formato.</span><span class="sxs-lookup"><span data-stu-id="f821a-145">The EVR will initiate the format negotiation process again.</span></span>

<span data-ttu-id="f821a-146">Quando un flusso di input raggiunge la fine del flusso, EVR chiama [**IMFTransform::P rocessmessage**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processmessage) sul mixer con la [**\_ \_ \_ fine \_ del \_ flusso di notifica del messaggio MFT**](mft-message-notify-end-of-stream.md).</span><span class="sxs-lookup"><span data-stu-id="f821a-146">When any input stream reaches the end of the stream, the EVR calls [**IMFTransform::ProcessMessage**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processmessage) on the mixer with [**MFT\_MESSAGE\_NOTIFY\_END\_OF\_STREAM**](mft-message-notify-end-of-stream.md).</span></span>

<span data-ttu-id="f821a-147">Il mixer invia gli eventi seguenti a EVR usando l'interfaccia [**IMediaEventSink**](/windows/win32/api/strmif/nn-strmif-imediaeventsink) di EVR.</span><span class="sxs-lookup"><span data-stu-id="f821a-147">The mixer sends the following events to the EVR, using the EVR's [**IMediaEventSink**](/windows/win32/api/strmif/nn-strmif-imediaeventsink) interface.</span></span> <span data-ttu-id="f821a-148">Questa interfaccia è documentata nella documentazione di DirectShow SDK.</span><span class="sxs-lookup"><span data-stu-id="f821a-148">This interface is documented in the DirectShow SDK documentation.</span></span>



| <span data-ttu-id="f821a-149">Event</span><span class="sxs-lookup"><span data-stu-id="f821a-149">Event</span></span>                                            | <span data-ttu-id="f821a-150">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f821a-150">Description</span></span>                            |
|--------------------------------------------------|----------------------------------------|
| [<span data-ttu-id="f821a-151">**\_esempio EC \_ necessario**</span><span class="sxs-lookup"><span data-stu-id="f821a-151">**EC\_SAMPLE\_NEEDED**</span></span>](../directshow/ec-sample-needed.md) | <span data-ttu-id="f821a-152">Il mixer richiede un nuovo esempio di input.</span><span class="sxs-lookup"><span data-stu-id="f821a-152">The mixer requires a new input sample.</span></span> |



 

<span data-ttu-id="f821a-153">EVR potrebbe chiamare [**ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) sul mixer prima dell'avvio del flusso.</span><span class="sxs-lookup"><span data-stu-id="f821a-153">The EVR might call [**ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) on the mixer before streaming starts.</span></span> <span data-ttu-id="f821a-154">Il mixer non deve avere esito negativo per queste chiamate.</span><span class="sxs-lookup"><span data-stu-id="f821a-154">The mixer should not fail these calls.</span></span> <span data-ttu-id="f821a-155">Al contrario, deve riempire la superficie di output con i pixel neri.</span><span class="sxs-lookup"><span data-stu-id="f821a-155">Instead, it should fill the output surface with black pixels.</span></span> <span data-ttu-id="f821a-156">Il mixer deve continuare a riempire gli esempi di output fino a quando non riceve un messaggio [**MFT \_ \_ Notify \_ Begin \_ streaming**](mft-message-notify-begin-streaming.md) Message o viene chiamato il metodo [**ProcessInput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) .</span><span class="sxs-lookup"><span data-stu-id="f821a-156">The mixer should continue to color-fill output samples until it receives an [**MFT\_MESSAGE\_NOTIFY\_BEGIN\_STREAMING**](mft-message-notify-begin-streaming.md) message or the [**ProcessInput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) method is called.</span></span> <span data-ttu-id="f821a-157">Se il mixer riceve un messaggio di [**\_ notifica del messaggio MFT \_ \_ End \_ streaming**](mft-message-notify-end-streaming.md) , dovrebbe tornare alla modalità di riempimento del colore.</span><span class="sxs-lookup"><span data-stu-id="f821a-157">If the mixer receives an [**MFT\_MESSAGE\_NOTIFY\_END\_STREAMING**](mft-message-notify-end-streaming.md) message, it should switch back to color-fill mode.</span></span>

## <a name="implementing-imfvideodeviceid"></a><span data-ttu-id="f821a-158">Implementazione di IMFVideoDeviceID</span><span class="sxs-lookup"><span data-stu-id="f821a-158">Implementing IMFVideoDeviceID</span></span>

<span data-ttu-id="f821a-159">L'interfaccia [**IMFVideoDeviceID**](/windows/desktop/api/evr/nn-evr-imfvideodeviceid) contiene un metodo, [**GetDeviceID**](/windows/desktop/api/evr/nf-evr-imfvideodeviceid-getdeviceid), che restituisce un GUID del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f821a-159">The [**IMFVideoDeviceID**](/windows/desktop/api/evr/nn-evr-imfvideodeviceid) interface contains one method, [**GetDeviceID**](/windows/desktop/api/evr/nf-evr-imfvideodeviceid-getdeviceid), which returns a device GUID.</span></span> <span data-ttu-id="f821a-160">Il GUID del dispositivo garantisce che il relatore e il mixer usino tecnologie compatibili.</span><span class="sxs-lookup"><span data-stu-id="f821a-160">The device GUID ensures that the presenter and the mixer use compatible technologies.</span></span> <span data-ttu-id="f821a-161">Se i GUID del dispositivo non corrispondono, l'inizializzazione di EVR non riesce.</span><span class="sxs-lookup"><span data-stu-id="f821a-161">If the device GUIDs do not match, the EVR fails to initialize.</span></span>

<span data-ttu-id="f821a-162">Il mixer e il Presenter standard usano entrambi Direct3D 9, con il GUID del dispositivo uguale a IID \_ IDirect3DDevice9.</span><span class="sxs-lookup"><span data-stu-id="f821a-162">The standard mixer and presenter both use Direct3D 9, with the device GUID equal to IID\_IDirect3DDevice9.</span></span> <span data-ttu-id="f821a-163">Se si intende usare il Presenter personalizzato con il mixer standard, il GUID del dispositivo del relatore deve essere IID \_ IDirect3DDevice9.</span><span class="sxs-lookup"><span data-stu-id="f821a-163">If you intend to use your custom presenter with the standard mixer, the presenter's device GUID must be IID\_IDirect3DDevice9.</span></span> <span data-ttu-id="f821a-164">Se si sostituiscono entrambi i componenti, è possibile definire un nuovo GUID del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f821a-164">If you replace both components, you could define a new device GUID.</span></span>

## <a name="implementing-imftopologyservicelookupclient"></a><span data-ttu-id="f821a-165">Implementazione di IMFTopologyServiceLookupClient</span><span class="sxs-lookup"><span data-stu-id="f821a-165">Implementing IMFTopologyServiceLookupClient</span></span>

<span data-ttu-id="f821a-166">Il mixer deve implementare l'interfaccia [**IMFTopologyServiceLookupClient**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookupclient) .</span><span class="sxs-lookup"><span data-stu-id="f821a-166">The mixer must implement the [**IMFTopologyServiceLookupClient**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookupclient) interface.</span></span> <span data-ttu-id="f821a-167">Prima dell'inizio del flusso, EVR chiama [**IMFTopologyServiceLookupClient:: InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers) e passa un puntatore all'interfaccia [**IMFTopologyServiceLookup**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookup) di EVR.</span><span class="sxs-lookup"><span data-stu-id="f821a-167">Before streaming begins, the EVR calls [**IMFTopologyServiceLookupClient::InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers) and passes in a pointer to the EVR's [**IMFTopologyServiceLookup**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookup) interface.</span></span> <span data-ttu-id="f821a-168">Il mixer usa questo puntatore per ottenere i puntatori di interfaccia dal EVR.</span><span class="sxs-lookup"><span data-stu-id="f821a-168">The mixer uses this pointer to get interface pointers from the EVR.</span></span>

<span data-ttu-id="f821a-169">Come minimo, il mixer deve eseguire una query per l'interfaccia seguente:</span><span class="sxs-lookup"><span data-stu-id="f821a-169">At a minimum, the mixer must query for the following interface:</span></span>

-   [<span data-ttu-id="f821a-170">**IMediaEventSink**</span><span class="sxs-lookup"><span data-stu-id="f821a-170">**IMediaEventSink**</span></span>](/windows/win32/api/strmif/nn-strmif-imediaeventsink)

<span data-ttu-id="f821a-171">Quando EVR chiama [**IMFTopologyServiceLookupClient:: ReleaseServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-releaseservicepointers), il mixer deve rilasciare tutti i puntatori ottenuti dalla chiamata a [**InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers).</span><span class="sxs-lookup"><span data-stu-id="f821a-171">When the EVR calls [**IMFTopologyServiceLookupClient::ReleaseServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-releaseservicepointers), the mixer must release any pointers obtained from the call to [**InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers).</span></span>

## <a name="mixer-attributes"></a><span data-ttu-id="f821a-172">Attributi mixer</span><span class="sxs-lookup"><span data-stu-id="f821a-172">Mixer Attributes</span></span>

<span data-ttu-id="f821a-173">Un mixer deve supportare gli attributi seguenti.</span><span class="sxs-lookup"><span data-stu-id="f821a-173">A mixer should support the following attributes.</span></span>



| <span data-ttu-id="f821a-174">Attributo</span><span class="sxs-lookup"><span data-stu-id="f821a-174">Attribute</span></span>                                                                        | <span data-ttu-id="f821a-175">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f821a-175">Description</span></span>                                                                                                                                                                                                                                           |
|----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f821a-176">**\_Compatibile con \_ D3D \_**</span><span class="sxs-lookup"><span data-stu-id="f821a-176">**MF\_SA\_D3D\_AWARE**</span></span>](mf-sa-d3d-aware-attribute.md)                          | <span data-ttu-id="f821a-177">Specifica se il mixer supporta l'accelerazione video DirectX (DXVA).</span><span class="sxs-lookup"><span data-stu-id="f821a-177">Specifies whether the mixer supports DirectX Video Acceleration (DXVA).</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="f821a-178">**\_ \_ \_ conteggio campioni richiesti per MF SA \_**</span><span class="sxs-lookup"><span data-stu-id="f821a-178">**MF\_SA\_REQUIRED\_SAMPLE\_COUNT**</span></span>](mf-sa-required-sample-count-attribute.md) | <span data-ttu-id="f821a-179">Il numero di campioni video che il EVR deve allocare per ogni flusso di mixer.</span><span class="sxs-lookup"><span data-stu-id="f821a-179">The number of video samples the EVR should allocate for each mixer stream.</span></span> <span data-ttu-id="f821a-180">Questo attributo si applica ai singoli flussi; usare l'archivio di attributi restituito da [**IMFTransform:: GetInputStreamAttributes**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputstreamattributes).</span><span class="sxs-lookup"><span data-stu-id="f821a-180">This attribute applies to individual streams; use the attribute store returned by [**IMFTransform::GetInputStreamAttributes**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputstreamattributes).</span></span> |



 

## <a name="setting-the-mixer-on-the-evr"></a><span data-ttu-id="f821a-181">Impostazione del mixer in EVR</span><span class="sxs-lookup"><span data-stu-id="f821a-181">Setting the Mixer on the EVR</span></span>

<span data-ttu-id="f821a-182">Per impostare un mixer personalizzato in EVR, chiamare [**IMFVideoRenderer:: InitializeRenderer**](/windows/desktop/api/evr/nf-evr-imfvideorenderer-initializerenderer).</span><span class="sxs-lookup"><span data-stu-id="f821a-182">To set a custom mixer on the EVR, call [**IMFVideoRenderer::InitializeRenderer**](/windows/desktop/api/evr/nf-evr-imfvideorenderer-initializerenderer).</span></span> <span data-ttu-id="f821a-183">Il filtro EVR DirectShow e il sink multimediale EVR implementano questo metodo.</span><span class="sxs-lookup"><span data-stu-id="f821a-183">Both the DirectShow EVR filter and the EVR media sink implement this method.</span></span>

<span data-ttu-id="f821a-184">**Oggetto attivazione EVR**.</span><span class="sxs-lookup"><span data-stu-id="f821a-184">**EVR Activation Object**.</span></span> <span data-ttu-id="f821a-185">Se si usa l'oggetto attivazione EVR, è possibile fornire un mixer personalizzato impostando uno degli attributi seguenti nell'oggetto attivazione di EVR:</span><span class="sxs-lookup"><span data-stu-id="f821a-185">If you are using the EVR activation object, you can provide a custom mixer by setting one of the following attributes on the EVR activation object:</span></span>



| <span data-ttu-id="f821a-186">Attributo</span><span class="sxs-lookup"><span data-stu-id="f821a-186">Attribute</span></span>                                                                                                 | <span data-ttu-id="f821a-187">Descrizione</span><span class="sxs-lookup"><span data-stu-id="f821a-187">Description</span></span>                                                                                                                           |
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f821a-188">**\_attivazione del \_ \_ mixer video \_ personalizzato \_ MF Activate**</span><span class="sxs-lookup"><span data-stu-id="f821a-188">**MF\_ACTIVATE\_CUSTOM\_VIDEO\_MIXER\_ACTIVATE**</span></span>](mf-activate-custom-video-mixer-activate-attribute.md) | <span data-ttu-id="f821a-189">Puntatore a un oggetto di attivazione per il mixer.</span><span class="sxs-lookup"><span data-stu-id="f821a-189">Pointer to an activation object for the mixer.</span></span> <span data-ttu-id="f821a-190">L'oggetto Activation deve implementare l'interfaccia [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) .</span><span class="sxs-lookup"><span data-stu-id="f821a-190">The activation object must implement the [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) interface.</span></span> |
| [<span data-ttu-id="f821a-191">**MF \_ attivazione \_ del \_ mixer video personalizzato \_ \_ CLSID**</span><span class="sxs-lookup"><span data-stu-id="f821a-191">**MF\_ACTIVATE\_CUSTOM\_VIDEO\_MIXER\_CLSID**</span></span>](mf-activate-custom-video-mixer-clsid-attribute.md)       | <span data-ttu-id="f821a-192">CLSID del mixer.</span><span class="sxs-lookup"><span data-stu-id="f821a-192">CLSID of the mixer.</span></span>                                                                                                                   |



 

## <a name="related-topics"></a><span data-ttu-id="f821a-193">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="f821a-193">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f821a-194">Renderer video migliorato</span><span class="sxs-lookup"><span data-stu-id="f821a-194">Enhanced Video Renderer</span></span>](enhanced-video-renderer.md)
</dt> </dl>

 

 
