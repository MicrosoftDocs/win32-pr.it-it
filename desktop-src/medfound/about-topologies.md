---
description: Informazioni sulle topologie
ms.assetid: 4f69b099-0ca7-4ea6-8412-0f1ea02e1600
title: Informazioni sulle topologie
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35008d839e8054554370039dd13297ae7a1f0b0a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104569517"
---
# <a name="about-topologies"></a><span data-ttu-id="1e4f3-103">Informazioni sulle topologie</span><span class="sxs-lookup"><span data-stu-id="1e4f3-103">About Topologies</span></span>

<span data-ttu-id="1e4f3-104">Una topologia è un oggetto che rappresenta la modalità di flusso dei dati nella pipeline.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-104">A topology is an object that represents how data flows in the pipeline.</span></span> <span data-ttu-id="1e4f3-105">Un'applicazione crea una topologia per descrivere il percorso che ogni flusso prende dall'origine multimediale a un sink multimediale.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-105">An application creates a topology to describe the path that each stream takes from the media source to a media sink.</span></span> <span data-ttu-id="1e4f3-106">L'applicazione passa la topologia alla sessione multimediale e la sessione multimediale utilizza la topologia per controllare il flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-106">The application passes the topology to the Media Session, and the Media Session uses the topology to control the data flow.</span></span>

<span data-ttu-id="1e4f3-107">I componenti di elaborazione dati nella pipeline (origini multimediali, trasformazioni e sink multimediali) sono rappresentati nella topologia come *nodi*.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-107">The data-processing components in the pipeline (media sources, transforms, and media sinks) are represented in the topology as *nodes*.</span></span> <span data-ttu-id="1e4f3-108">Il flusso di dati da un componente a un altro è rappresentato da una connessione tra i nodi.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-108">The flow of data from one component to another is represented by a connection between the nodes.</span></span> <span data-ttu-id="1e4f3-109">Sono definiti i seguenti tipi di nodo:</span><span class="sxs-lookup"><span data-stu-id="1e4f3-109">The following node types are defined:</span></span>

-   <span data-ttu-id="1e4f3-110">Nodo di origine: rappresenta un flusso multimediale su un'origine multimediale.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-110">Source node: Represents a media stream on a media source.</span></span>
-   <span data-ttu-id="1e4f3-111">Nodo Transform: rappresenta una trasformazione Media Foundation (MFT).</span><span class="sxs-lookup"><span data-stu-id="1e4f3-111">Transform node: Represents a Media Foundation transform (MFT).</span></span>
-   <span data-ttu-id="1e4f3-112">Nodo di output: rappresenta un sink del flusso in un sink multimediale.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-112">Output node: Represents a stream sink on a media sink.</span></span>
-   <span data-ttu-id="1e4f3-113">Tee node: rappresenta un fork nel flusso.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-113">Tee node: Represents a fork in the stream.</span></span> <span data-ttu-id="1e4f3-114">I nodi Tee rappresentano un'eccezione alla regola che un nodo rappresenta un oggetto pipeline.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-114">Tee nodes are an exception to the rule that a node represents a pipeline object.</span></span> <span data-ttu-id="1e4f3-115">A differenza di altri tipi di nodo, il nodo Tee indirizza semplicemente il flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-115">Unlike other node types, the tee node simply directs the flow of data.</span></span>

<span data-ttu-id="1e4f3-116">Una topologia funzionante deve contenere almeno un nodo di origine connesso a un nodo di output, possibilmente attraverso uno o più nodi di trasformazione.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-116">A functioning topology must contain at least one source node connected to an output node, possibly through one or more transform nodes.</span></span> <span data-ttu-id="1e4f3-117">Nel diagramma seguente, ad esempio, viene illustrata una topologia semplice con un flusso.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-117">For example, the following diagram shows a simple topology with one stream.</span></span>

![diagramma che mostra una topologia con un flusso.](images/topology01.png)

<span data-ttu-id="1e4f3-119">Per la riproduzione di file, il nodo Transform potrebbe rappresentare un decodificatore e il nodo di output rappresenterebbe il renderer audio o video.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-119">For file playback, the transform node might represent a decoder and the output node would represent the audio or video renderer.</span></span> <span data-ttu-id="1e4f3-120">Per la codifica dei file, il nodo di trasformazione rappresenterebbe un codificatore e il nodo di output rappresenterebbe un sink di archivio, ad esempio il sink di file ASF.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-120">For file encoding, the transform node would represent an encoder and the output node would represent an archive sink, such as the ASF file sink.</span></span>

<span data-ttu-id="1e4f3-121">Se due nodi sono connessi, il nodo che produce dati viene chiamato nodo *upstream* e il nodo che riceve i dati viene chiamato nodo *downstream* .</span><span class="sxs-lookup"><span data-stu-id="1e4f3-121">If two nodes are connected, the node that produces data is called the *upstream* node, and the node that receives data is called the *downstream* node.</span></span> <span data-ttu-id="1e4f3-122">Nel diagramma precedente, ad esempio, il nodo di origine è upstream dal nodo Transform.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-122">For example, in the previous diagram, the source node is upstream from the transform node.</span></span>

<span data-ttu-id="1e4f3-123">In una coppia di nodi connessi, il punto di connessione nel nodo upstream è denominato *output*.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-123">In a pair of connected nodes, the connection point on the upstream node is called an *output*.</span></span> <span data-ttu-id="1e4f3-124">Il punto di connessione nel nodo downstream è denominato *input*.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-124">The connection point on the downstream node is called an *input*.</span></span> <span data-ttu-id="1e4f3-125">Il diagramma seguente mostra una coppia di nodi con i relativi punti di connessione e il flusso di dati tra di essi.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-125">The following diagram shows a pair of nodes with their connection points, and the flow of data between them.</span></span> <span data-ttu-id="1e4f3-126">I punti di connessione non sono rappresentati come oggetti separati nella topologia.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-126">The connection points are not represented as separate objects in the topology.</span></span> <span data-ttu-id="1e4f3-127">Sono specificati dal valore di indice nell'oggetto node.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-127">They are specified by index value on the node object.</span></span>

![diagramma che mostra due nodi connessi.](images/topology04.png)

<span data-ttu-id="1e4f3-129">Un nodo di origine non può contenere input.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-129">A source node cannot have any inputs.</span></span> <span data-ttu-id="1e4f3-130">Pertanto, non possono essere presenti nodi upstream da un nodo di origine.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-130">Therefore, there cannot be any nodes upstream from a source node.</span></span> <span data-ttu-id="1e4f3-131">Analogamente, un nodo di output non può contenere output e non possono essere presenti nodi downstream da un nodo di output.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-131">Similarly, an output node cannot have outputs, and there cannot be any nodes downstream from an output node.</span></span> <span data-ttu-id="1e4f3-132">Una catena di nodi da un nodo di origine a un nodo di output viene chiamata *ramo* della topologia.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-132">A chain of nodes from a source node to an output node is called a *branch* of the topology.</span></span> <span data-ttu-id="1e4f3-133">Il primo diagramma di questo argomento illustra una topologia con un solo ramo.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-133">The first diagram in this topic shows a topology with a single branch.</span></span> <span data-ttu-id="1e4f3-134">In genere è presente un ramo per ogni flusso.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-134">Generally there is one branch per stream.</span></span> <span data-ttu-id="1e4f3-135">Per riprodurre un file con un flusso audio e un flusso video, ad esempio, richiede una topologia con due rami.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-135">To play a file with one audio stream and one video stream, for example, requires a topology with two branches.</span></span>

## <a name="partial-topologies"></a><span data-ttu-id="1e4f3-136">Topologie parziali</span><span class="sxs-lookup"><span data-stu-id="1e4f3-136">Partial Topologies</span></span>

<span data-ttu-id="1e4f3-137">Una topologia completa o *completa* contiene un nodo per ogni oggetto pipeline necessario.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-137">A complete or *full* topology contains a node for every pipeline object that is needed.</span></span> <span data-ttu-id="1e4f3-138">Tuttavia, l'applicazione non deve necessariamente creare una topologia completa.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-138">However, the application does not always need to create a full topology.</span></span> <span data-ttu-id="1e4f3-139">Viene invece creata una topologia *parziale* che omette uno o più nodi di trasformazione.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-139">Instead, it creates a *partial* topology that omits one or more transform nodes.</span></span>

<span data-ttu-id="1e4f3-140">La sessione multimediale completa la topologia usando un oggetto denominato caricatore della *topologia*.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-140">The Media Session completes the topology by using an object called the *topology loader*.</span></span> <span data-ttu-id="1e4f3-141">Il caricatore della topologia converte le topologie parziali in topologie complete inserendo le trasformazioni necessarie.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-141">The topology loader converts partial topologies into full topologies by inserting the needed transforms.</span></span> <span data-ttu-id="1e4f3-142">Il processo di conversione viene chiamato *risoluzione* della topologia.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-142">The process of conversion is called *resolving* the topology.</span></span>

<span data-ttu-id="1e4f3-143">Per riprodurre un flusso audio codificato, ad esempio, è necessario che la topologia includa un decodificatore tra i nodi di origine e di output.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-143">For example, to play an encoded audio stream, the topology must have a decoder between the source and output nodes.</span></span> <span data-ttu-id="1e4f3-144">L'applicazione crea una topologia parziale che connette il nodo di origine direttamente al nodo di output, senza il decodificatore.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-144">The application creates a partial topology that connects the source node directly to the output node, without the decoder.</span></span> <span data-ttu-id="1e4f3-145">Il caricatore della topologia esamina i formati dei flussi, trova il decodificatore corretto e inserisce un nodo di trasformazione nella topologia.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-145">The topology loader examines the stream formats, finds the right decoder, and inserts a transform node into the topology.</span></span>

<span data-ttu-id="1e4f3-146">Il diagramma seguente illustra la topologia parziale creata dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-146">The following diagram shows the partial topology created by the application.</span></span>

![diagramma che mostra una parte parziale con un nodo di origine e un nodo di output.](images/topology02.png)

<span data-ttu-id="1e4f3-148">Il diagramma seguente mostra la topologia completa dopo che il caricatore della topologia lo risolve.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-148">The next diagram shows the full topology after the topology loader resolves it.</span></span> <span data-ttu-id="1e4f3-149">In questo esempio, il caricatore della topologia ha inserito un nodo Transform per il decodificatore.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-149">In this example, the topology loader has inserted a transform node for the decoder.</span></span>

![diagramma che mostra una topologia completa.](images/topology03.png)

<span data-ttu-id="1e4f3-151">Nella versione corrente di Media Foundation, il caricatore della topologia supporta le topologie per la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-151">In the current version of Media Foundation, the topology loader supports topologies for playback.</span></span> <span data-ttu-id="1e4f3-152">Per la codifica dei file e altri scenari, è necessario che l'applicazione costruisca una topologia completa.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-152">For file encoding and other scenarios, the application must construct a full topology.</span></span>

<span data-ttu-id="1e4f3-153">Le applicazioni possono anche creare il caricatore della topologia e usarlo direttamente.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-153">Applications can also create the topology loader and use it directly.</span></span> <span data-ttu-id="1e4f3-154">Ad esempio, è possibile usare il caricatore della topologia per risolvere una topologia parziale e quindi modificare la topologia completa prima di assegnarla alla sessione multimediale.</span><span class="sxs-lookup"><span data-stu-id="1e4f3-154">For example, you can use the topology loader to resolve a partial topology and then modify the full topology before giving it to the Media Session.</span></span> <span data-ttu-id="1e4f3-155">Per creare il caricatore della topologia, chiamare [**MFCreateTopoLoader**](/windows/desktop/api/mfidl/nf-mfidl-mfcreatetopoloader).</span><span class="sxs-lookup"><span data-stu-id="1e4f3-155">To create the topology loader, call [**MFCreateTopoLoader**](/windows/desktop/api/mfidl/nf-mfidl-mfcreatetopoloader).</span></span>

## <a name="related-topics"></a><span data-ttu-id="1e4f3-156">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="1e4f3-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1e4f3-157">Topologie</span><span class="sxs-lookup"><span data-stu-id="1e4f3-157">Topologies</span></span>](topologies.md)
</dt> </dl>

 

 



