---
description: Un client XAudio2 ha il controllo completo del mapping tra i canali di una voce e i canali di ciascuna voce di destinazione.
ms.assetid: 219d5b70-3f07-f973-f9ec-1cb3cf0be37e
title: Mapping del canale predefinito XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 06d77371223ccef02d6f0831a7aea182326f8477
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104485860"
---
# <a name="xaudio2-default-channel-mapping"></a><span data-ttu-id="590e3-103">Mapping del canale predefinito XAudio2</span><span class="sxs-lookup"><span data-stu-id="590e3-103">XAudio2 Default Channel Mapping</span></span>

<span data-ttu-id="590e3-104">Un client XAudio2 dispone del controllo completo del mapping tra i canali di una voce e i canali di ogni voicesIt di destinazione controlla il mapping tramite l'utilizzo del metodo [**IXAudio2Voice:: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .</span><span class="sxs-lookup"><span data-stu-id="590e3-104">An XAudio2 client has full control of the mapping from the channels of a voice to the channels of each of its destination voicesIt controls the mapping through the use of the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) method.</span></span> <span data-ttu-id="590e3-105">In alcune circostanze, tuttavia, XAudio2 semplifica questa attività impostando automaticamente una matrice di trasmissione predefinita.</span><span class="sxs-lookup"><span data-stu-id="590e3-105">In some circumstances, however, XAudio2 simplifies this task by setting up a default send matrix automatically.</span></span> <span data-ttu-id="590e3-106">A tale scopo, viene utilizzato il canale Mask, se presente, associato ai canali audio di una voce.</span><span class="sxs-lookup"><span data-stu-id="590e3-106">It does this by using the channel mask, if any, associated with a voice's audio channels.</span></span> <span data-ttu-id="590e3-107">Una maschera di canale è una combinazione di \_ maschere di bit xxx come definito in X3DAudio. h e altrove.</span><span class="sxs-lookup"><span data-stu-id="590e3-107">A channel mask is a combination of SPEAKER\_xxx bit masks as defined in X3DAudio.h and elsewhere.</span></span> <span data-ttu-id="590e3-108">XAudio2 richiede che le maschere del canale siano 0 o che lo stesso numero di bit sia impostato come numero di canali.</span><span class="sxs-lookup"><span data-stu-id="590e3-108">XAudio2 requires channel masks to be 0 or have the same number of bits set as the number of channels.</span></span>

<span data-ttu-id="590e3-109">Nella tabella seguente vengono illustrati i requisiti e le impostazioni predefinite della maschera di canale per i formati supportati da XAudio2.</span><span class="sxs-lookup"><span data-stu-id="590e3-109">The following table shows the channel mask requirements and defaults for the formats supported by XAudio2.</span></span> 

| <span data-ttu-id="590e3-110">Formato</span><span class="sxs-lookup"><span data-stu-id="590e3-110">Format</span></span> | <span data-ttu-id="590e3-111">Requisito Channel mask</span><span class="sxs-lookup"><span data-stu-id="590e3-111">Channel Mask Requirement</span></span>             | <span data-ttu-id="590e3-112">Maschera predefinita</span><span class="sxs-lookup"><span data-stu-id="590e3-112">Default Mask</span></span>                        | <span data-ttu-id="590e3-113">Membro della struttura corrispondente</span><span class="sxs-lookup"><span data-stu-id="590e3-113">Corresponding Structure Member</span></span>                            |
|--------|--------------------------------------|-------------------------------------|-----------------------------------------------------------|
| <span data-ttu-id="590e3-114">PCM</span><span class="sxs-lookup"><span data-stu-id="590e3-114">PCM</span></span>    | <span data-ttu-id="590e3-115">Il file potrebbe contenere una maschera di canale</span><span class="sxs-lookup"><span data-stu-id="590e3-115">File might contain a channel mask</span></span>    | <span data-ttu-id="590e3-116">La maschera del canale è 0 o assente</span><span class="sxs-lookup"><span data-stu-id="590e3-116">Channel mask is 0, or absent</span></span>        | <span data-ttu-id="590e3-117">WAVEFORMATEXTENSIBLE. dwChannelMask o None (WAVEFORMATEX)</span><span class="sxs-lookup"><span data-stu-id="590e3-117">WAVEFORMATEXTENSIBLE.dwChannelMask or none (WAVEFORMATEX)</span></span> |
| <span data-ttu-id="590e3-118">ADPCM</span><span class="sxs-lookup"><span data-stu-id="590e3-118">ADPCM</span></span>  | <span data-ttu-id="590e3-119">Il file non contiene una maschera di canale</span><span class="sxs-lookup"><span data-stu-id="590e3-119">File does not contain a channel mask</span></span> | <span data-ttu-id="590e3-120">Viene sempre utilizzata la maschera di canale predefinita</span><span class="sxs-lookup"><span data-stu-id="590e3-120">Default Channel Mask is always used</span></span> | <span data-ttu-id="590e3-121">Nessuno (ADPCMWAVEFORMAT)</span><span class="sxs-lookup"><span data-stu-id="590e3-121">None (ADPCMWAVEFORMAT)</span></span>                                    |



 

<span data-ttu-id="590e3-122">Per le voci submix e mastering e per le voci di origine senza una maschera di canale o una maschera di canale pari a 0, XAudio2 presuppone le posizioni predefinite del relatore in base alla tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="590e3-122">For submix and mastering voices, and for source voices without a channel mask or a channel mask of 0, XAudio2 assumes default speaker positions according to the following table.</span></span> 

| <span data-ttu-id="590e3-123">Canali</span><span class="sxs-lookup"><span data-stu-id="590e3-123">Channels</span></span>  | <span data-ttu-id="590e3-124">Posizioni del canale implicite</span><span class="sxs-lookup"><span data-stu-id="590e3-124">Implicit Channel Positions</span></span>                                                                                            |
|-----------|-----------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="590e3-125">1</span><span class="sxs-lookup"><span data-stu-id="590e3-125">1</span></span>         | <span data-ttu-id="590e3-126">Viene sempre eseguito il mapping a FrontLeft e FrontRight su scala completa in entrambi gli altoparlanti (caso speciale per i suoni mono)</span><span class="sxs-lookup"><span data-stu-id="590e3-126">Always maps to FrontLeft and FrontRight at full scale in both speakers (special case for mono sounds)</span></span>                 |
| <span data-ttu-id="590e3-127">2</span><span class="sxs-lookup"><span data-stu-id="590e3-127">2</span></span>         | <span data-ttu-id="590e3-128">FrontLeft, FrontRight (configurazione stereo di base)</span><span class="sxs-lookup"><span data-stu-id="590e3-128">FrontLeft, FrontRight (basic stereo configuration)</span></span>                                                                    |
| <span data-ttu-id="590e3-129">3</span><span class="sxs-lookup"><span data-stu-id="590e3-129">3</span></span>         | <span data-ttu-id="590e3-130">FrontLeft, FrontRight, LowFrequency (configurazione 2,1)</span><span class="sxs-lookup"><span data-stu-id="590e3-130">FrontLeft, FrontRight, LowFrequency (2.1 configuration)</span></span>                                                               |
| <span data-ttu-id="590e3-131">4</span><span class="sxs-lookup"><span data-stu-id="590e3-131">4</span></span>         | <span data-ttu-id="590e3-132">FrontLeft, FrontRight, backLeft, backright (quadrifonica)</span><span class="sxs-lookup"><span data-stu-id="590e3-132">FrontLeft, FrontRight, BackLeft, BackRight (quadraphonic)</span></span>                                                             |
| <span data-ttu-id="590e3-133">5</span><span class="sxs-lookup"><span data-stu-id="590e3-133">5</span></span>         | <span data-ttu-id="590e3-134">FrontLeft, FrontRight, FrontCenter, SideLeft, SideRight (configurazione 5,0)</span><span class="sxs-lookup"><span data-stu-id="590e3-134">FrontLeft, FrontRight, FrontCenter, SideLeft, SideRight (5.0 configuration)</span></span>                                           |
| <span data-ttu-id="590e3-135">6</span><span class="sxs-lookup"><span data-stu-id="590e3-135">6</span></span>         | <span data-ttu-id="590e3-136">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight (configurazione 5,1) (vedere le osservazioni seguenti)</span><span class="sxs-lookup"><span data-stu-id="590e3-136">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight (5.1 configuration) (see the following remarks)</span></span> |
| <span data-ttu-id="590e3-137">7</span><span class="sxs-lookup"><span data-stu-id="590e3-137">7</span></span>         | <span data-ttu-id="590e3-138">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight, backcenter (6,1 Configuration)</span><span class="sxs-lookup"><span data-stu-id="590e3-138">FrontLeft, FrontRight, FrontCenter, LowFrequency, SideLeft, SideRight, BackCenter (6.1 configuration)</span></span>                 |
| <span data-ttu-id="590e3-139">8</span><span class="sxs-lookup"><span data-stu-id="590e3-139">8</span></span>         | <span data-ttu-id="590e3-140">FrontLeft, FrontRight, FrontCenter, LowFrequency, backLeft, backright, SideLeft, SideRight (configurazione 7,1)</span><span class="sxs-lookup"><span data-stu-id="590e3-140">FrontLeft, FrontRight, FrontCenter, LowFrequency, BackLeft, BackRight, SideLeft, SideRight (7.1 configuration)</span></span>        |
| <span data-ttu-id="590e3-141">9 o più</span><span class="sxs-lookup"><span data-stu-id="590e3-141">9 or more</span></span> | <span data-ttu-id="590e3-142">Nessuna posizione implicita (mapping uno a uno)</span><span class="sxs-lookup"><span data-stu-id="590e3-142">No implicit positions (one-to-one mapping)</span></span>                                                                            |



 

<span data-ttu-id="590e3-143">Se una coppia vocale specificata nel grafico audio non dispone di posizioni dell'altoparlante associate alla voce di origine o di destinazione (una voce ha più di otto canali), nessuna voce è giocabile finché la voce di origine non dispone di una matrice di trasmissione impostata in modo esplicito tramite il metodo [**IXAudio2Voice:: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .</span><span class="sxs-lookup"><span data-stu-id="590e3-143">If a given voice pair in the audio graph has no speaker positions associated with either its source or target voice (one voice has more than eight channels), neither voice is playable until the source voice has a send matrix set explicitly using the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) method.</span></span> <span data-ttu-id="590e3-144">La chiamata al metodo [**IXAudio2SourceVoice:: Start**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start) per entrambe le voci avrà esito negativo fino a quando non si esegue questa operazione.</span><span class="sxs-lookup"><span data-stu-id="590e3-144">Calling the [**IXAudio2SourceVoice::Start**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start) method for either voice will fail until you do this.</span></span>

<span data-ttu-id="590e3-145">Se la voce di origine e la voce di destinazione hanno un numero diverso di posizioni del relatore e [**IXAudio2Voice:: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) non è stato chiamato sulla voce di origine, XAudio2 invia ogni canale di origine al relatore di destinazione più vicino (o agli altoparlanti) disponibili, proporzionalmente alla distanza di relatore desiderata.</span><span class="sxs-lookup"><span data-stu-id="590e3-145">If the source voice and target voice have different numbers of speaker positions and [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) has not been called on the source voice, XAudio2 sends each source channel to the nearest target speaker (or speakers) available, proportionally to how close they are to the intended speaker.</span></span> <span data-ttu-id="590e3-146">Esistono due casi speciali in cui il comportamento predefinito è diverso.</span><span class="sxs-lookup"><span data-stu-id="590e3-146">There are two special cases where the default behavior is different.</span></span>

1.  <span data-ttu-id="590e3-147">Se l'audio di origine è mono ed è posizionato in corrispondenza del centro del altoparlante \_ \_ o non ha una posizione definita, viene sempre inviato all'altoparlante \_ anteriore \_ sinistro e all'altoparlante \_ anteriore \_ destro, se esistono nell'audio di output.</span><span class="sxs-lookup"><span data-stu-id="590e3-147">If the source audio is mono and is positioned at SPEAKER\_FRONT\_CENTER or has no defined position, it is always sent to SPEAKER\_FRONT\_LEFT and SPEAKER\_FRONT\_RIGHT if they exist in the output audio.</span></span> <span data-ttu-id="590e3-148">Se non esistono, viene eseguito il fallback al normale caso.</span><span class="sxs-lookup"><span data-stu-id="590e3-148">If they do not exist, it falls back to the normal case.</span></span>
2.  <span data-ttu-id="590e3-149">Se l'origine e la destinazione sono entrambi a 6 canali e sono posizionati in corrispondenza di una delle configurazioni standard di 5,1 Speaker (Left + Right + Center + Sub + Backal + Backr o Left + Right + Center + Sub + SideL + Sider), i canali vengono mappati attraverso uno a uno.</span><span class="sxs-lookup"><span data-stu-id="590e3-149">If the source and destination are both 6-channel and are positioned at either of the standard 5.1 speaker setups (Left+Right+Center+Sub+BackL+BackR or Left+Right+Center+Sub+SideL+SideR), channels are mapped through one to one.</span></span> <span data-ttu-id="590e3-150">In altre parole, SideLeft/Right e backLeft/right vengono considerati equivalenti.</span><span class="sxs-lookup"><span data-stu-id="590e3-150">In other words, SideLeft/Right and BackLeft/Right are treated equivalently.</span></span> <span data-ttu-id="590e3-151">Questo è dovuto al fatto che si è verificata una confusione storica per queste configurazioni.</span><span class="sxs-lookup"><span data-stu-id="590e3-151">This is because there has been historical confusion around these setups.</span></span> <span data-ttu-id="590e3-152">Pertanto, lo scopo presunto è sempre di eseguire il mapping uno-a-uno.</span><span class="sxs-lookup"><span data-stu-id="590e3-152">Therefore, the assumed intent is always to map one to one.</span></span>

## <a name="related-topics"></a><span data-ttu-id="590e3-153">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="590e3-153">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="590e3-154">Voci</span><span class="sxs-lookup"><span data-stu-id="590e3-154">Voices</span></span>](voices.md)
</dt> <dt>

[<span data-ttu-id="590e3-155">Guida alla programmazione di XAudio2</span><span class="sxs-lookup"><span data-stu-id="590e3-155">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> <dt>

[<span data-ttu-id="590e3-156">**GetChannelMask**</span><span class="sxs-lookup"><span data-stu-id="590e3-156">**GetChannelMask**</span></span>](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2masteringvoice-getchannelmask)
</dt> </dl>

 

 
