---
description: Questo argomento descrive il volume e il controllo pitch di XAudio2.
ms.assetid: dedc2d01-af83-d7d2-5b64-743dcebc83f7
title: Controllo volume e pitch XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2526cfa50c0260e90e1aae9e2bce21d507dc2e06
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104232453"
---
# <a name="xaudio2-volume-and-pitch-control"></a><span data-ttu-id="594a7-103">Controllo volume e pitch XAudio2</span><span class="sxs-lookup"><span data-stu-id="594a7-103">XAudio2 Volume and Pitch Control</span></span>

<span data-ttu-id="594a7-104">Questo argomento descrive il volume e il controllo pitch di XAudio2.</span><span class="sxs-lookup"><span data-stu-id="594a7-104">This topic describes XAudio2 volume and pitch control.</span></span>

## <a name="volume-control"></a><span data-ttu-id="594a7-105">Controllo volume</span><span class="sxs-lookup"><span data-stu-id="594a7-105">Volume Control</span></span>

<span data-ttu-id="594a7-106">I livelli di volume sono espressi come moltiplicatori di ampiezza a virgola mobile compresi tra-XAUDIO2 \_ \_ e il livello di volume massimo \_ XAUDIO2 \_ \_ \_ (da-224 a 224), con un guadagno massimo di 144,5 dB.</span><span class="sxs-lookup"><span data-stu-id="594a7-106">Volume levels are expressed as floating-point amplitude multipliers between -XAUDIO2\_MAX\_VOLUME\_LEVEL and XAUDIO2\_MAX\_VOLUME\_LEVEL (-224 to 224), with a maximum gain of 144.5 dB.</span></span> <span data-ttu-id="594a7-107">Un volume di 1,0 significa che non esiste alcuna attenuazione o guadagno; 0 indica il silenzio; i livelli negativi possono essere usati per invertire la fase dell'audio.</span><span class="sxs-lookup"><span data-stu-id="594a7-107">A volume of 1.0 means there is no attenuation or gain; 0 means silence; and negative levels can be used to invert the audio's phase.</span></span> <span data-ttu-id="594a7-108">In XAudio2. h sono disponibili due funzioni inline per la conversione tra unità di volume: [**XAudio2DecibelsToAmplitudeRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2decibelstoamplituderatio) e [**XAudio2AmplitudeRatioToDecibels**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2amplituderatiotodecibels).</span><span class="sxs-lookup"><span data-stu-id="594a7-108">Two inline functions are provided in XAudio2.h to convert between volume units: [**XAudio2DecibelsToAmplitudeRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2decibelstoamplituderatio) and [**XAudio2AmplitudeRatioToDecibels**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2amplituderatiotodecibels).</span></span>

<span data-ttu-id="594a7-109">È possibile applicare un livello di volume all'audio in diversi punti durante l'attraversamento del grafico XAudio2:</span><span class="sxs-lookup"><span data-stu-id="594a7-109">You can apply a volume level to the audio at several points as it flows through the XAudio2 graph:</span></span>

-   <span data-ttu-id="594a7-110">Tutti i tipi di voce applicano un livello di volume globale al rispettivo input, che controllano usando il metodo [**IXAudio2Voice:: sevolume**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume) .</span><span class="sxs-lookup"><span data-stu-id="594a7-110">All voice types apply an overall volume level to their input, which they control using the [**IXAudio2Voice::SetVolume**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume) method.</span></span> <span data-ttu-id="594a7-111">In submix e nelle voci di mastering, il livello di volume complessivo viene applicato immediatamente prima della catena di effetti e filtri incorporati della voce.</span><span class="sxs-lookup"><span data-stu-id="594a7-111">In submix and mastering voices, the overall volume level is applied just before the voice's built-in filter and effect chain.</span></span> <span data-ttu-id="594a7-112">Nelle voci di origine, il livello di volume complessivo viene applicato dopo il filtro e la catena di effetti predefiniti della voce.</span><span class="sxs-lookup"><span data-stu-id="594a7-112">In source voices, the overall volume level is applied after the voice's built-in filter and effect chain.</span></span>
-   <span data-ttu-id="594a7-113">Le voci applicano un livello di volume per canale al rispettivo output, che controllano usando il metodo [**IXAudio2Voice:: SetChannelVolumes**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes) .</span><span class="sxs-lookup"><span data-stu-id="594a7-113">Voices apply a per-channel volume level to their output, which they control using the [**IXAudio2Voice::SetChannelVolumes**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes) method.</span></span> <span data-ttu-id="594a7-114">Il livello del volume per canale viene applicato subito dopo la conversione della frequenza di campionamento finale della voce e prima che venga inviato ad altre voci.</span><span class="sxs-lookup"><span data-stu-id="594a7-114">The per-channel volume level is applied just after the voice's final sample rate conversion, and before it is sent to other voices.</span></span>
-   <span data-ttu-id="594a7-115">Ogni connessione tra una voce e un'altra ha una tabella di livelli utilizzata per inviare audio da ogni canale di origine a ciascun canale di destinazione, che viene controllato tramite il metodo [**IXAudio2Voice:: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .</span><span class="sxs-lookup"><span data-stu-id="594a7-115">Every connection between one voice and another has a table of levels used to send audio from each source channel to each target channel, which is controlled using the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) method.</span></span>

<span data-ttu-id="594a7-116">Per impostazione predefinita, tutti i volumi complessivi e i volumi del canale sono inizialmente 1,0.</span><span class="sxs-lookup"><span data-stu-id="594a7-116">All overall volumes and channel volumes default to 1.0 initially.</span></span> <span data-ttu-id="594a7-117">Per impostazione predefinita, tutte le matrici a livello di trasmissione sono valori appropriati che mantengono il posizionamento del canale e della potenza del segnale nel modo più preciso possibile.</span><span class="sxs-lookup"><span data-stu-id="594a7-117">All send-level matrices default to appropriate values that preserve signal power and channel positioning as accurately as possible.</span></span> <span data-ttu-id="594a7-118">Per informazioni dettagliate, vedere la panoramica sul [mapping del canale predefinito di XAudio2](xaudio2-default-channel-mapping.md) .</span><span class="sxs-lookup"><span data-stu-id="594a7-118">See the [XAudio2 Default Channel Mapping](xaudio2-default-channel-mapping.md) overview for details.</span></span>

> [!Note]  
> <span data-ttu-id="594a7-119">XAudio2 regola automaticamente i livelli di volume in base alle impostazioni dell'altoparlante dell'utente per mantenere un livello di volume coerente nelle configurazioni.</span><span class="sxs-lookup"><span data-stu-id="594a7-119">XAudio2 automatically adjusts volume levels based on the user's speaker settings to maintain a consistent volume level across configurations.</span></span> <span data-ttu-id="594a7-120">Se le impostazioni dell'utente non corrispondono alla configurazione fisica, il volume sarà troppo elevato o troppo debole rispetto a un sistema con impostazioni accurate.</span><span class="sxs-lookup"><span data-stu-id="594a7-120">If the user's settings don't match their physical configuration the volume will either be too loud or too soft compared to a system with accurate settings.</span></span> <span data-ttu-id="594a7-121">Un sistema configurato per 5,1, ad esempio, è dotato di due altoparlanti che sono collegati solo a due altoparlanti.</span><span class="sxs-lookup"><span data-stu-id="594a7-121">For example, a system configured for 5.1 surround sound speakers that only has two speakers connected will sound too soft.</span></span> <span data-ttu-id="594a7-122">XAudio2 non è in grado di rilevare se le impostazioni dell'altoparlante utente corrispondono correttamente alla configurazione fisica.</span><span class="sxs-lookup"><span data-stu-id="594a7-122">XAudio2 is unable to detect whether the user speaker settings correctly match their physical setup.</span></span>

 

## <a name="pitch-control"></a><span data-ttu-id="594a7-123">Controllo pitch</span><span class="sxs-lookup"><span data-stu-id="594a7-123">Pitch Control</span></span>

<span data-ttu-id="594a7-124">I Pitch sono espressi come velocità di input/rapporto di frequenza di output compreso tra 1/1024 e 1024/1, inclusi.</span><span class="sxs-lookup"><span data-stu-id="594a7-124">Pitches are expressed as input rate/output rate ratios between 1/1,024 and 1,024/1, inclusive.</span></span> <span data-ttu-id="594a7-125">Un rapporto di 1/1024 abbassa il passo di 10 ottave, mentre un rapporto di 1024/1 lo eleva di 10 ottavi.</span><span class="sxs-lookup"><span data-stu-id="594a7-125">A ratio of 1/1,024 lowers pitch by 10 octaves, while a ratio of 1,024/1 raises it by 10 octaves.</span></span> <span data-ttu-id="594a7-126">È possibile usare il metodo [**IXAudio2SourceVoice:: SetFrequencyRatio**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) solo per applicare le regolazioni del passo alle voci di origine e solo se non sono state create con \_ il \_ flag nopitch di XAUDIO2 Voice.</span><span class="sxs-lookup"><span data-stu-id="594a7-126">You can only use the [**IXAudio2SourceVoice::SetFrequencyRatio**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) method to apply pitch adjustments to source voices, and only if they were not created with the XAUDIO2\_VOICE\_NOPITCH flag.</span></span> <span data-ttu-id="594a7-127">Il rapporto di frequenza predefinito è 1/1, ovvero nessuna modifica di passo.</span><span class="sxs-lookup"><span data-stu-id="594a7-127">The default frequency ratio is 1/1: that is, no pitch change.</span></span> <span data-ttu-id="594a7-128">In XAudio2. h sono disponibili due funzioni inline per la conversione tra i rapporti di frequenza e i semitoni: [**XAudio2FrequencyRatioToSemitones**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2frequencyratiotosemitones) e [**XAudio2SemitonesToFrequencyRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2semitonestofrequencyratio).</span><span class="sxs-lookup"><span data-stu-id="594a7-128">Two inline functions are provided in XAudio2.h to convert between frequency ratios and semitones: [**XAudio2FrequencyRatioToSemitones**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2frequencyratiotosemitones) and [**XAudio2SemitonesToFrequencyRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2semitonestofrequencyratio).</span></span>

## <a name="related-topics"></a><span data-ttu-id="594a7-129">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="594a7-129">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="594a7-130">Controllo volume e pitch</span><span class="sxs-lookup"><span data-stu-id="594a7-130">Volume and Pitch Control</span></span>](volume-and-pitch-control.md)
</dt> <dt>

[<span data-ttu-id="594a7-131">Guida alla programmazione di XAudio2</span><span class="sxs-lookup"><span data-stu-id="594a7-131">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> <dt>

[<span data-ttu-id="594a7-132">Procedura: modificare il pitch vocale</span><span class="sxs-lookup"><span data-stu-id="594a7-132">How to: Change Voice Pitch</span></span>](how-to--change-voice-pitch.md)
</dt> <dt>

[<span data-ttu-id="594a7-133">Procedura: modificare il volume vocale</span><span class="sxs-lookup"><span data-stu-id="594a7-133">How to: Change Voice Volume</span></span>](how-to--change-voice-volume.md)
</dt> </dl>

 

 
