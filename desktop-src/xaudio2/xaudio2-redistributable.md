---
description: Guida per gli sviluppatori per la versione ridistribuibile di XAudio 2.9
ms.assetid: ''
title: Guida per gli sviluppatori per la versione ridistribuibile di XAudio 2.9
ms.topic: article
ms.date: 10/17/2019
ms.openlocfilehash: 2b83f2811ada9a41591b4b556a34aa585002c83e
ms.sourcegitcommit: b61ef7cdd575b086e96db4d4cf37b9fbeb388a47
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2021
ms.locfileid: "107583820"
---
# <a name="developer-guide-for-redistributable-version-of-xaudio-29"></a><span data-ttu-id="9dbcc-103">Guida per gli sviluppatori per la versione ridistribuibile di XAudio 2.9</span><span class="sxs-lookup"><span data-stu-id="9dbcc-103">Developer guide for redistributable version of XAudio 2.9</span></span>

<span data-ttu-id="9dbcc-104">Una versione di XAudio 2.9 è disponibile come [pacchetto NuGet](/nuget/what-is-nuget).</span><span class="sxs-lookup"><span data-stu-id="9dbcc-104">A version of XAudio 2.9 is available as a [NuGet package](/nuget/what-is-nuget).</span></span> <span data-ttu-id="9dbcc-105">Gli sviluppatori possono ridistribuire questa versione di XAudio 2.9 con le proprie app.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-105">Developers can redistribute this version of XAudio 2.9 with their apps.</span></span> <span data-ttu-id="9dbcc-106">In questo modo un'app può usare XAudio 2.9 nelle versioni precedenti di Windows che non includono XAudio 2.9 come parte dell'immagine del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-106">This allows an app to use XAudio 2.9 on older versions of Windows that do no not include XAudio 2.9 as part of the operating system image.</span></span> <span data-ttu-id="9dbcc-107">L'uso di questo ridistribuibile è preferibile rispetto alla ridistribuzione di XAudio 2.7 da DirectX SDK, perché XAudio 2.7 non è stato aggiornato dal 2010.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-107">Use of this redistributable is preferred over redistributing XAudio 2.7 from the DirectX SDK, as XAudio 2.7 has not been updated since 2010.</span></span>

## <a name="supported-platforms"></a><span data-ttu-id="9dbcc-108">Piattaforme supportate</span><span class="sxs-lookup"><span data-stu-id="9dbcc-108">Supported platforms</span></span>

<span data-ttu-id="9dbcc-109">Pacchetto NuGet XAudio 2.9 (*Microsoft.XAudio2.Redist. \* . nupkg*) include una versione a 32 bit e una versione a 64 bit di una DLL che implementa l'API XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-109">The XAudio 2.9 NuGet package (*Microsoft.XAudio2.Redist.\*.nupkg*) includes a 32-bit and a 64-bit version of a DLL that implements the XAudio 2.9 API.</span></span> <span data-ttu-id="9dbcc-110">La DLL è denominata XAUDIO2 \_9REDIST.DLL.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-110">The DLL is called XAUDIO2\_9REDIST.DLL.</span></span> <span data-ttu-id="9dbcc-111">Questa DLL funzionerà in Windows 7 SP1, Windows 8, Windows 8.1 e Windows 10.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-111">This DLL will work on Windows 7 SP1, Windows 8, Windows 8.1 and Windows 10.</span></span>

<span data-ttu-id="9dbcc-112">Quando la DLL viene usata in un sistema Windows 10, controlla il numero di versione del9.DLL XAUDIO2 che fa parte del sistema operativo e, se il sistema operativo è più recente, delega tutte le chiamate API al9.DLL XAUDIO2 nel sistema \_ \_ operativo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-112">When the DLL is used on a Windows 10 system, it checks the version number of the XAUDIO2\_9.DLL that is part of the operating system, and if the operating system is newer, it will delegate all API calls to XAUDIO2\_9.DLL in the operating system.</span></span> <span data-ttu-id="9dbcc-113">Ciò garantisce che le app usino sempre la versione più recente di XAudio 2.9 disponibile nella piattaforma corrente.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-113">This ensures that apps always use the latest version of XAudio 2.9 that is available on the current platform.</span></span>

<span data-ttu-id="9dbcc-114">La DLL non è destinata a Xbox One.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-114">The DLL is not intended for Xbox One.</span></span> <span data-ttu-id="9dbcc-115">Se usata in Xbox One, la DLL delega sempre tutte le chiamate API ai9.DLL XAUDIO2 \_ nel Xbox One operativo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-115">If used on Xbox One, the DLL will always delegate all API calls to XAUDIO2\_9.DLL in the Xbox One operating system.</span></span>

<span data-ttu-id="9dbcc-116">La DLL non è destinata alle app UWP.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-116">The DLL is not intended for UWP apps.</span></span> <span data-ttu-id="9dbcc-117">Le app UWP devono usare il9.DLL XAUDIO2 \_ che fa parte del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-117">UWP apps should use the XAUDIO2\_9.DLL that is part of the operating system.</span></span>

## <a name="installing-the-nuget-package"></a><span data-ttu-id="9dbcc-118">Installazione del pacchetto NuGet</span><span class="sxs-lookup"><span data-stu-id="9dbcc-118">Installing the NuGet package</span></span>

<span data-ttu-id="9dbcc-119">Il modo più semplice per installare il pacchetto NuGet è usare il pacchetto [NuGet Gestione pacchetti](/nuget/consume-packages/install-use-packages-visual-studio) in Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-119">The easiest way to install the NuGet package is to use the [NuGet Package Manager](/nuget/consume-packages/install-use-packages-visual-studio) in Microsoft Visual Studio.</span></span> <span data-ttu-id="9dbcc-120">In questo caso, il file Visual Studio verrà aggiornato automaticamente per includere *Microsoft.XAudio2.Redist.targets*.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-120">If you do this, your Visual Studio project file will be automatically updated to include *Microsoft.XAudio2.Redist.targets*.</span></span> <span data-ttu-id="9dbcc-121">Il file *con estensione targets* aggiunge la cartella Include con i file di intestazione per XAudio2 alla raccolta di percorsi di inclusione del progetto.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-121">The *.targets* file adds the Include folder with the header files for the XAudio2 to your collection of project include paths.</span></span> <span data-ttu-id="9dbcc-122">Il file *con estensione targets* rende anche . DLL o . Collegamento EXE con XAUDIO2REDIST. LIB e XAPOBASEREDIST. Lib.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-122">The *.targets* file will also make your .DLL or .EXE link with XAUDIO2REDIST.LIB and XAPOBASEREDIST.LIB.</span></span>

<span data-ttu-id="9dbcc-123">Libreria XAPOBASEREDIST. LIB è necessario solo se si intende impementare un oggetto XAudio Processing Object (XAPO) personalizzato ed è possibile rimuoverlo da *Microsoft.XAudio2.Redist.targets* se non è usato.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-123">The library XAPOBASEREDIST.LIB is only needed if you intend to impement a custom XAudio Processing Object (XAPO) and you can remove it from the *Microsoft.XAudio2.Redist.targets* if it is unused.</span></span>

<span data-ttu-id="9dbcc-124">È anche possibile usare altri strumenti per estrarre il contenuto del pacchetto NuGet o persino rinominare l'estensione di file in zip ed estrarre i file con qualsiasi strumento di estrazione ZIP.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-124">You can also use other tools to extract the contents of the NuGet package, or even rename the file extension to .zip and extract the files with any ZIP extractor tool.</span></span>

> <span data-ttu-id="9dbcc-125">È disponibile anche una ``xaudio2redist`` porta per [vc++ Gestione pacchetti](https://github.com/microsoft/vcpkg).</span><span class="sxs-lookup"><span data-stu-id="9dbcc-125">There is also an ``xaudio2redist`` port available for the [VC++ Package Manager](https://github.com/microsoft/vcpkg).</span></span>

## <a name="compiling-your-app"></a><span data-ttu-id="9dbcc-126">Compilazione dell'app</span><span class="sxs-lookup"><span data-stu-id="9dbcc-126">Compiling your app</span></span>

### <a name="choosing-which-headers-to-include"></a><span data-ttu-id="9dbcc-127">Scelta delle intestazioni da includere</span><span class="sxs-lookup"><span data-stu-id="9dbcc-127">Choosing which headers to include</span></span>

<span data-ttu-id="9dbcc-128">Il pacchetto NuGet XAudio 2.9 include gli stessi file di intestazione XAudio2 inclusi in Windows 10 SDK.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-128">The XAudio 2.9 NuGet package includes the same XAudio2 header files that are included in the Windows 10 SDK.</span></span> <span data-ttu-id="9dbcc-129">Tuttavia, i file di intestazione hanno apportato alcune modifiche per assicurarsi che sia possibile usarli in modo esplicito per tutte le piattaforme [supportate,](#supported-platforms)incluse le versioni precedenti di Windows.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-129">However, the header files have had some adjustments to them to make sure that you can use them while explicitly targeting all [supported platforms](#supported-platforms), including older versions of Windows.</span></span>

<span data-ttu-id="9dbcc-130">Se si installa il pacchetto [NuGet](#installing-the-nuget-package) usando il Gestione pacchetti NuGet in Microsoft Visual Studio, il percorso dei file di intestazione viene posizionato davanti al percorso dei Windows SDK di intestazione.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-130">If you [install the NuGet package](#installing-the-nuget-package) using the NuGet Package Manager in Microsoft Visual Studio then the path to the header files is placed in front of the path to the Windows SDK header files.</span></span> <span data-ttu-id="9dbcc-131">Ciò significa che se il codice nel progetto include XAUDIO2. L'intestazione H preleverà l'intestazione multipiattaforma dal pacchetto NuGet.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-131">That means that if code in your project includes the XAUDIO2.H header, it will pick up the cross-platform header from the NuGet package.</span></span> <span data-ttu-id="9dbcc-132">Questo è in genere il comportamento desiderato.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-132">This is normally the desired behavior.</span></span>

<span data-ttu-id="9dbcc-133">È necessario prestare attenzione se si aggiunge manualmente il percorso alle intestazioni di inclusione al progetto, in quanto specificarle nell'ordine errato può causare XAUDIO2 specifico della versione del sistema [operativo. H](/windows/win32/api/xaudio2/) da includere dal Windows SDK, anziché dalla versione multipiattaforma di XAUDIO2.H.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-133">You should be careful if adding the path to the include headers manually to the project, as specifying them in the wrong order can cause the OS-version specific [XAUDIO2.H](/windows/win32/api/xaudio2/) to be included from the Windows SDK, rather than the cross-platform version of XAUDIO2.H.</span></span>

<span data-ttu-id="9dbcc-134">Per rendere meno ergasto l'inclusione delle intestazioni, il pacchetto NuGet contiene una versione di ogni intestazione a cui viene aggiunto "REDIST".</span><span class="sxs-lookup"><span data-stu-id="9dbcc-134">To make the inclusion of headers less error-prone, the NuGet package contains a version of each header with "REDIST" appended to it.</span></span> <span data-ttu-id="9dbcc-135">Ad esempio, oltre a XAUDIO2. H, il pacchetto NuGet include anche XAUDIO2REDIST.H.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-135">For example, in addition to XAUDIO2.H, the NuGet package also includes XAUDIO2REDIST.H.</span></span> <span data-ttu-id="9dbcc-136">Se si preferisce, il codice può includere direttamente XAUDIO2REDIST. H per eliminare eventuali ambiguità sul file di intestazione in uso.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-136">If you prefer, your code can directly include XAUDIO2REDIST.H to eliminate any ambiguity about which header file is being used.</span></span> <span data-ttu-id="9dbcc-137">Quando si include -REDIST. Versione H di un file di intestazione, l'ordine in cui le directory dei file di inclusione sono elencate nel file di progetto non è importante.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-137">When including the -REDIST.H version of a header file, the order in which the include file directories are listed in the project file do not matter.</span></span>

<span data-ttu-id="9dbcc-138">Si noti che se l'app viene compilata anche per Xbox One, è consigliabile continuare a includere XAUDIO2. H durante la compilazione per Xbox One, poiché alcune API specifiche Xbox One sono escluse da XAUDIO2REDIST.H.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-138">Note that if your app is also being compiled for Xbox One, you should continue to include XAUDIO2.H when compiling for Xbox One, as some Xbox One-specific APIs are excluded from XAUDIO2REDIST.H.</span></span> <span data-ttu-id="9dbcc-139">Questo pacchetto NuGet non è destinato a Xbox One.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-139">This NuGet package is not intended for Xbox One.</span></span>

### <a name="loading-the-dll"></a><span data-ttu-id="9dbcc-140">Caricamento della DLL</span><span class="sxs-lookup"><span data-stu-id="9dbcc-140">Loading the DLL</span></span>

<span data-ttu-id="9dbcc-141">È consigliabile collegare l'app a XAUDIO2REDIST. LIB e installare XAUDIO2 \_9REDIST.DLL nella stessa cartella del file eseguibile dell'app.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-141">We recommend that you link your app with XAUDIO2REDIST.LIB and install XAUDIO2\_9REDIST.DLL in the same folder as your app's executable.</span></span> <span data-ttu-id="9dbcc-142">Questo causerà il caricamento9REDIST.DLL XAUDIO2 non appena \_ viene avviato il file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-142">This will cause XAUDIO2\_9REDIST.DLL to be loaded as soon as your executable is launched.</span></span> <span data-ttu-id="9dbcc-143">Tuttavia, se si preferisce, è possibile usare [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) e [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) per caricare9REDIST.DLL XAUDIO2 \_ su richiesta.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-143">However, if you prefer, you may use [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) and [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) to load XAUDIO2\_9REDIST.DLL on demand.</span></span> <span data-ttu-id="9dbcc-144">Questa è una buona soluzione se l'app non deve sempre usare le API XAudio2.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-144">This is a good solution if your app does not always need to use the XAudio2 APIs.</span></span> <span data-ttu-id="9dbcc-145">In questo caso, tuttavia, è consigliabile mantenere caricato il9REDIST.DLL XAUDIO2 fino alla chiusura dell'app, perché il tentativo di scaricare la DLL può causare un arresto anomalo se un thread in background sta ancora eseguendo codice nella \_ DLL.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-145">But if you do this, you should keep the XAUDIO2\_9REDIST.DLL loaded until the app exits, as attempting to unload the DLL can cause a crash if a background thread is still executing code in the DLL.</span></span>

<span data-ttu-id="9dbcc-146">A differenza della versione precedente di XAudio 2.7, non è possibile usare CoCreateInstance per caricare la DLL.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-146">Unlike the older XAudio 2.7, it is not possible to use CoCreateInstance to load the DLL.</span></span>

### <a name="verifying-the-dll-signature"></a><span data-ttu-id="9dbcc-147">Verifica della firma DLL</span><span class="sxs-lookup"><span data-stu-id="9dbcc-147">Verifying the DLL signature</span></span>

<span data-ttu-id="9dbcc-148">Il file binario9REDIST.DLL XAUDIO2 \_ viene firmato da Microsoft usando una firma SHA-2.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-148">The XAUDIO2\_9REDIST.DLL binary is signed by Microsoft using a SHA-2 signature.</span></span> <span data-ttu-id="9dbcc-149">Qualsiasi codice che tenta di convalidare la firma, ad esempio i moduli anti-cheat per i giochi, deve pertanto supportare SHA-2.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-149">Any code that attempts to validate the signature, e.g., anti-cheat modules for games, therefore needs to support SHA-2.</span></span> <span data-ttu-id="9dbcc-150">Si noti che Windows 7 SP1 originariamente non supporta SHA-2 e richiede un aggiornamento per aggiungere tale funzionalità.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-150">Note that Windows 7 SP1 did not originally support SHA-2 and requires an update to add that functionality.</span></span> <span data-ttu-id="9dbcc-151">L'aggiornamento è disponibile come [KB4474419.](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update)</span><span class="sxs-lookup"><span data-stu-id="9dbcc-151">The update is available as [KB4474419](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update).</span></span>

## <a name="testing"></a><span data-ttu-id="9dbcc-152">Test</span><span class="sxs-lookup"><span data-stu-id="9dbcc-152">Testing</span></span>

### <a name="spatial-sound-in-newer-versions-of-windows-10"></a><span data-ttu-id="9dbcc-153">Audio spaziale nelle versioni più recenti di Windows 10</span><span class="sxs-lookup"><span data-stu-id="9dbcc-153">Spatial sound in newer versions of Windows 10</span></span>

<span data-ttu-id="9dbcc-154">A partire dall'Windows 10 1903, XAudio 2.9 usa automaticamente l'audio [surround](#spatial-sound-and-virtual-surround)virtuale, se vengono soddisfatte determinate condizioni.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-154">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses [virtual surround sound](#spatial-sound-and-virtual-surround), if certain conditions are satisfied.</span></span> <span data-ttu-id="9dbcc-155">È consigliabile testare il gioco che genera audio multicanale Windows 10 1903 (o versione più recente) per verificare che il gioco suoni come previsto.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-155">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span>

#### <a name="enabling-spatial-sound"></a><span data-ttu-id="9dbcc-156">Abilitazione dell'audio spaziale</span><span class="sxs-lookup"><span data-stu-id="9dbcc-156">Enabling spatial sound</span></span>

<span data-ttu-id="9dbcc-157">L'utente può abilitare un formato audio spaziale facendo clic con il pulsante destro del mouse sull'icona dell'altoparlante nell'area di notifica di Windows.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-157">The user can enable a spatial sound format by right-clicking on the speaker icon in the Windows system tray.</span></span> 

<span data-ttu-id="9dbcc-158">XAudio 2.9 userà il formato audio spaziale selezionato dall'utente solo se il processo che usa l'API XAudio2 viene riconosciuto come gioco da Windows Game Bar.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-158">XAudio 2.9 will only use the user's selected spatial sound format if the process that is using the XAudio2 API is recognized as a game by the Windows Game Bar.</span></span> <span data-ttu-id="9dbcc-159">Durante lo sviluppo, è possibile che il processo non sia ancora riconosciuto come gioco dal Game Bar.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-159">During development, it is possible that the process is not yet recognized as a game by the Game Bar.</span></span> <span data-ttu-id="9dbcc-160">Per modificare questa impostazione, usare la combinazione di tasti Win+G per visualizzare il Game Bar mentre il gioco è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-160">To change this, use the Win+G keyboard short-cut to bring up the Game Bar while the game is running.</span></span> <span data-ttu-id="9dbcc-161">Fare quindi clic sull'icona "Impostazioni" e selezionare la casella di controllo "Ricorda che si tratta di un gioco".</span><span class="sxs-lookup"><span data-stu-id="9dbcc-161">Then click on the "Settings" icon and check the checkbox that says, "Remember that this is a game".</span></span>

#### <a name="opting-out-from-spatial-sound"></a><span data-ttu-id="9dbcc-162">Rifiuto esplicito dal suono spaziale</span><span class="sxs-lookup"><span data-stu-id="9dbcc-162">Opting out from spatial sound</span></span>

<span data-ttu-id="9dbcc-163">È possibile rifiutare esplicitamente l'uso del codificatore del suono spaziale da parte di XAudio2 specificando determinati valori per il parametro [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) in [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span><span class="sxs-lookup"><span data-stu-id="9dbcc-163">There is a way to opt out from having XAudio2 use the spatial sound encoder by specifying certain values for the [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) parameter in [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span> 

<span data-ttu-id="9dbcc-164">Il suono spaziale è abilitato per queste categorie:</span><span class="sxs-lookup"><span data-stu-id="9dbcc-164">Spatial sound is enabled for these categories:</span></span>

* <span data-ttu-id="9dbcc-165">AudioCategory_ForegroundOnlyMedia</span><span class="sxs-lookup"><span data-stu-id="9dbcc-165">AudioCategory_ForegroundOnlyMedia</span></span>
* <span data-ttu-id="9dbcc-166">AudioCategory_GameEffects</span><span class="sxs-lookup"><span data-stu-id="9dbcc-166">AudioCategory_GameEffects</span></span>
* <span data-ttu-id="9dbcc-167">AudioCategory_GameMedia</span><span class="sxs-lookup"><span data-stu-id="9dbcc-167">AudioCategory_GameMedia</span></span>
* <span data-ttu-id="9dbcc-168">AudioCategory_Movie</span><span class="sxs-lookup"><span data-stu-id="9dbcc-168">AudioCategory_Movie</span></span>
* <span data-ttu-id="9dbcc-169">AudioCategory_Media</span><span class="sxs-lookup"><span data-stu-id="9dbcc-169">AudioCategory_Media</span></span>

<span data-ttu-id="9dbcc-170">Il suono spaziale non è abilitato se viene specificata una delle categorie seguenti:</span><span class="sxs-lookup"><span data-stu-id="9dbcc-170">Spatial sound is not enabled if any of the following categories are specified:</span></span>

* <span data-ttu-id="9dbcc-171">AudioCategory_Other</span><span class="sxs-lookup"><span data-stu-id="9dbcc-171">AudioCategory_Other</span></span>
* <span data-ttu-id="9dbcc-172">AudioCategory_Communications</span><span class="sxs-lookup"><span data-stu-id="9dbcc-172">AudioCategory_Communications</span></span>
* <span data-ttu-id="9dbcc-173">AudioCategory_Alerts</span><span class="sxs-lookup"><span data-stu-id="9dbcc-173">AudioCategory_Alerts</span></span>
* <span data-ttu-id="9dbcc-174">AudioCategory_SoundEffects</span><span class="sxs-lookup"><span data-stu-id="9dbcc-174">AudioCategory_SoundEffects</span></span>
* <span data-ttu-id="9dbcc-175">AudioCategory_GameChat</span><span class="sxs-lookup"><span data-stu-id="9dbcc-175">AudioCategory_GameChat</span></span>
* <span data-ttu-id="9dbcc-176">AudioCategory_Speech</span><span class="sxs-lookup"><span data-stu-id="9dbcc-176">AudioCategory_Speech</span></span>

### <a name="error-handling"></a><span data-ttu-id="9dbcc-177">Gestione degli errori</span><span class="sxs-lookup"><span data-stu-id="9dbcc-177">Error handling</span></span>

<span data-ttu-id="9dbcc-178">È importante verificare che il gioco sia in grado di gestire una modifica nel dispositivo audio, ad esempio quando le cuffia sono collegate o scollegate.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-178">It is important to test that you game can handle a change in audio device, for example, when headphones are plugged in, or unplugged.</span></span> <span data-ttu-id="9dbcc-179">Deve essere testato con le cuffia che supportano solo la frequenza di campionamento di 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-179">This should be tested with headphones that only support 44.1 kHz sampling rate.</span></span> <span data-ttu-id="9dbcc-180">Molti visori VR USB e Bluetooth di fascia bassa supportano solo 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-180">Many low-end USB headphones and Bluetooth headsets only support 44.1 kHz.</span></span> <span data-ttu-id="9dbcc-181">La transizione tra la frequenza di campionamento di 48 kHz e la frequenza di campionamento di 44,1 kHz può causare un errore anche quando viene usata la funzionalità [dell'endpoint audio](#virtual-audio-endpoint) virtuale.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-181">The transition between 48 kHz sampling rate and 44.1 kHz sampling rate can cause an error even when the [virtual audio endpoint](#virtual-audio-endpoint) feature is used.</span></span> <span data-ttu-id="9dbcc-182">L'errore non si verifica se le cuffi supportano anche 48 kHz.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-182">The error will not happen if the headphones also support 48 kHz.</span></span> <span data-ttu-id="9dbcc-183">Si noti che la funzionalità endpoint audio virtuale non è disponibile in Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-183">Note that the virtual audio endpoint feature is not available on Windows 7 SP1.</span></span>

<span data-ttu-id="9dbcc-184">Il codice di errore restituito da XAudio 2.9 quando non è in grado di eseguire automaticamente il ripristino da una modifica nell'endpoint audio è [XAUDIO2 \_ E \_ DEVICE \_ INVALIDATED](xaudio2-error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="9dbcc-184">The error code returned by XAudio 2.9 when it cannot automatically recover from a change in audio endpoint is [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md).</span></span> <span data-ttu-id="9dbcc-185">È tuttavia consigliabile che le app non appetino come hard code una dipendenza dal codice di errore con un valore specifico.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-185">However, we recommend that apps do not hard-code a dependency on the error code having a specific value.</span></span>

<span data-ttu-id="9dbcc-186">Per ricevere una notifica dell'errore, l'app deve implementare l'interfaccia [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) e fornire un puntatore a tale interfaccia richiamando il metodo [**IXAudio2::RegisterForCallbacks.**](xaudio2-callbacks.md)</span><span class="sxs-lookup"><span data-stu-id="9dbcc-186">To be notified of the error, the app should implement the [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) interface and provide a pointer to that interface by invoking the [**IXAudio2::RegisterForCallbacks**](xaudio2-callbacks.md) method.</span></span> <span data-ttu-id="9dbcc-187">L'implementazione dell'app di [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) verrà richiamata dall'API XAudio2 se si verifica un errore durante la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-187">The app's implementation of the [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) will be invoked by the XAudio2 API if an error occurs during playback.</span></span>

<span data-ttu-id="9dbcc-188">Si noti [**che IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) non viene necessariamente richiamato se la pipeline audio viene sospesa.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-188">Note that [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) is not necessarily invoked if the audio pipeline is paused.</span></span> <span data-ttu-id="9dbcc-189">Ad esempio, se l'utente riduce al minimo l'app o l'app viene sospesa per qualsiasi motivo, la riproduzione audio potrebbe essere sospesa.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-189">For example, if the user minimizes the app, or the app gets suspended for any reason, audio playback might be paused.</span></span> <span data-ttu-id="9dbcc-190">Se la modifica nel dispositivo audio si verifica durante questo periodo di tempo, l'errore viene restituito solo quando l'app richiama [**IXAudio2::StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) e/o [**richiama IXAudio2SourceVoice::Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span><span class="sxs-lookup"><span data-stu-id="9dbcc-190">If the change in audio device happens during this time, the error is only returned when the app invokes [**IXAudio2::StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) and/or invokes [**IXAudio2SourceVoice::Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span></span> <span data-ttu-id="9dbcc-191">Se la riproduzione può essere sospesa con l'app, è consigliabile testare la modifica del dispositivo audio mentre la riproduzione è in pausa, per verificare che l'app sia ancora in grado di eseguire il ripristino da questa situazione.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-191">If playback can be paused with your app, you should test changing the audio device while the playback is paused, to verify that the app still can recover from this situation.</span></span>

## <a name="xaudio-29-api-differences-compared-to-xaudio-27"></a><span data-ttu-id="9dbcc-192">Differenze dell'API XAudio 2.9 rispetto a XAudio 2.7</span><span class="sxs-lookup"><span data-stu-id="9dbcc-192">XAudio 2.9 API differences compared to XAudio 2.7</span></span>

<span data-ttu-id="9dbcc-193">Questa sezione fornisce un riepilogo di alcune differenze tra le API tra XAudio 2.7 e la versione ridistribuibile di XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-193">This section provides a summary of some of the API differences between XAudio 2.7 and the redistributable version of XAudio 2.9.</span></span>

### <a name="supported-formats"></a><span data-ttu-id="9dbcc-194">Formati supportati</span><span class="sxs-lookup"><span data-stu-id="9dbcc-194">Supported formats</span></span>

<span data-ttu-id="9dbcc-195">XAudio 2.9 supporta questi formati di input nel PC:</span><span class="sxs-lookup"><span data-stu-id="9dbcc-195">XAudio 2.9 supports these input formats on PC:</span></span>

* <span data-ttu-id="9dbcc-196">PCM lineare a 16 bit</span><span class="sxs-lookup"><span data-stu-id="9dbcc-196">Linear 16-bit PCM</span></span>
* <span data-ttu-id="9dbcc-197">PCM a virgola mobile a 32 bit lineare</span><span class="sxs-lookup"><span data-stu-id="9dbcc-197">Linear 32-bit Float PCM</span></span>
* <span data-ttu-id="9dbcc-198">ADPCM a 16 bit</span><span class="sxs-lookup"><span data-stu-id="9dbcc-198">16-bit ADPCM</span></span>
* <span data-ttu-id="9dbcc-199">xWMA</span><span class="sxs-lookup"><span data-stu-id="9dbcc-199">xWMA</span></span>

<span data-ttu-id="9dbcc-200">Il formato XMA è supportato solo in Xbox One.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-200">The XMA format is only supported on Xbox One.</span></span>

### <a name="preferred-cpu-core"></a><span data-ttu-id="9dbcc-201">Core CPU preferito</span><span class="sxs-lookup"><span data-stu-id="9dbcc-201">Preferred CPU core</span></span>

<span data-ttu-id="9dbcc-202">È possibile specificare quale core CPU XAudio 2.9 deve usare per il thread di elaborazione audio.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-202">It is possible to specify which CPU core XAudio 2.9 should use for its audio processing thread.</span></span> <span data-ttu-id="9dbcc-203">Tuttavia, è in genere preferibile consentire a XAudio 2.9 di scegliere questo valore da solo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-203">However, it is usually preferred to let XAudio 2.9 choose this value by itself.</span></span> <span data-ttu-id="9dbcc-204">Questa operazione viene eseguita impostando il **parametro XAudio2Processor** nella chiamata a [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) su XAUDIO2 \_ USE DEFAULT \_ \_ PROCESSOR.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-204">This is done by setting the **XAudio2Processor** parameter in the call to [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) to XAUDIO2\_USE\_DEFAULT\_PROCESSOR.</span></span> 

<span data-ttu-id="9dbcc-205">XAudio 2.9 sceglierà un core CPU diverso Xbox One su PC.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-205">XAudio 2.9 will choose a different CPU core on Xbox One than on PC.</span></span> <span data-ttu-id="9dbcc-206">Il metodo IXAudio2Extension::GetProcessor può essere usato per determinare quale core CPU XAudio2 ha scelto.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-206">The IXAudio2Extension::GetProcessor method can be used to determine which CPU core XAudio2 has chosen.</span></span>

### <a name="virtual-audio-endpoint"></a><span data-ttu-id="9dbcc-207">Endpoint audio virtuale</span><span class="sxs-lookup"><span data-stu-id="9dbcc-207">Virtual audio endpoint</span></span>

<span data-ttu-id="9dbcc-208">XAudio 2.9 userà un endpoint audio virtuale per impostazione predefinita, quando è in Windows 8 o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-208">XAudio 2.9 will use a virtual audio endpoint by default, when running on Windows 8 or later.</span></span> <span data-ttu-id="9dbcc-209">Ciò significa che se l'endpoint audio predefinito cambia mentre viene usato XAudio 2.9, tenterà di passare automaticamente al nuovo endpoint audio.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-209">This means that if the default audio endpoint changes while XAudio 2.9 is used, it will attempt to automatically switch to the new audio endpoint.</span></span> <span data-ttu-id="9dbcc-210">Un esempio di quando ciò può verificarsi quando l'endpoint audio predefinito è una coppia di cuffia connesse tramite USB e quindi l'utente scollega le cuffia.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-210">An example of when this can happen when the default audio endpoint is a pair of headphones that are connected over USB, and then the user unplugs the headphones.</span></span> <span data-ttu-id="9dbcc-211">In questo modo gli altoparlanti saranno il nuovo endpoint audio predefinito.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-211">This will cause the speakers to be the new default audio endpoint.</span></span>

<span data-ttu-id="9dbcc-212">Se l'app specifica un formato audio specifico quando si richiama [**IXAudio2::CreateMasteringVoice,**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice)potrebbe non essere possibile per XAudio 2.9 eseguire questa opzione.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-212">If the app specifies a specific audio format when invoking [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice), it may not be possible for XAudio 2.9 to perform this switch.</span></span> <span data-ttu-id="9dbcc-213">Ad esempio, se l'app ha specificato che Mastering Voice deve usare una frequenza di campionamento di 48 kHz e il nuovo dispositivo audio supporta solo 44,1 kHz, il commutatore automatico avrà esito negativo e XAudio 2.9 segnalerà l'errore [XAUDIO2 \_ E \_ DEVICE \_ INVALIDATED.](xaudio2-error-codes.md)</span><span class="sxs-lookup"><span data-stu-id="9dbcc-213">For example, if the app specified that the Mastering Voice shall use a 48 kHz sampling rate and the new audio device only supports 44.1 kHz, then the automatic switch will fail, and XAudio 2.9 will report the [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md) error.</span></span>

<span data-ttu-id="9dbcc-214">L'app può rifiutare esplicitamente l'uso dell'endpoint audio virtuale passando il flag [**XAUDIO2 \_ NO VIRTUAL AUDIO \_ \_ \_ CLIENT**](xaudio2-boundary-values-and-flags.md) a [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span><span class="sxs-lookup"><span data-stu-id="9dbcc-214">It is possible for the app to opt out of using the virtual audio endpoint by passing in the [**XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT**](xaudio2-boundary-values-and-flags.md) flag to [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span>

<span data-ttu-id="9dbcc-215">Gli endpoint audio virtuali non sono disponibili in Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-215">Virtual audio endpoints are not available on Windows 7 SP1.</span></span> <span data-ttu-id="9dbcc-216">Il flag **XAUDIO2 \_ NO VIRTUAL AUDIO \_ \_ \_ CLIENT** non ha alcun effetto su Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-216">The **XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT** flag has no effect on Windows 7 SP1.</span></span>

### <a name="audio-categories"></a><span data-ttu-id="9dbcc-217">Categorie audio</span><span class="sxs-lookup"><span data-stu-id="9dbcc-217">Audio categories</span></span>

<span data-ttu-id="9dbcc-218">L'app deve specificare una categoria per il flusso audio.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-218">The app should specify a category for its audio stream.</span></span> <span data-ttu-id="9dbcc-219">Questa operazione viene eseguita specificando un valore dall'enumerazione AudioCategory quando si richiama il [**metodo IXAudio2::CreateMasteringVoice.**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice)</span><span class="sxs-lookup"><span data-stu-id="9dbcc-219">This is done by providing a value from the AudioCategory enumeration when invoking the [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) method.</span></span> <span data-ttu-id="9dbcc-220">Ad esempio, AudioCategory_GameEffects.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-220">For example, AudioCategory_GameEffects.</span></span> <span data-ttu-id="9dbcc-221">La categoria audio può influire sul modo in cui Windows elabora il suono o come rappresenta il flusso audio nel pannello di controllo del volume.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-221">The audio category can affect how Windows processes the sound or how it represents the audio stream in the volume control panel.</span></span> <span data-ttu-id="9dbcc-222">La categoria audio influisce anche sul fatto che [l'audio surround virtuale](#spatial-sound-and-virtual-surround) sia abilitato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-222">The audio category also affects if [virtual surround sound](#spatial-sound-and-virtual-surround) is automatically enabled.</span></span>

### <a name="duration-of-audio-processing-quantum"></a><span data-ttu-id="9dbcc-223">Durata del calcolo quantistico dell'audio</span><span class="sxs-lookup"><span data-stu-id="9dbcc-223">Duration of audio processing quantum</span></span>

<span data-ttu-id="9dbcc-224">Nella maggior parte dei PC, XAudio 2.9 elabora l'audio in blocchi di 10 millisecondi.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-224">On most PCs, XAudio 2.9 processes audio in 10 millisecond chunks.</span></span> <span data-ttu-id="9dbcc-225">Questo processo è detto calcolo quantistico di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-225">This is called the processing quantum.</span></span> <span data-ttu-id="9dbcc-226">Tuttavia, la durata di questo quantum può essere diversa da 10 millisecondi in alcuni componenti hardware.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-226">However, the duration of this quantum may be different than 10 milliseconds on some hardware.</span></span> <span data-ttu-id="9dbcc-227">Le app che devono conoscere il quantum esatto possono richiamare il metodo IXAudio2Extension::GetProcessingQuantum per recuperare il valore.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-227">Apps that need to know the exact quantum can invoke the IXAudio2Extension::GetProcessingQuantum method to retrieve the value.</span></span>

### <a name="spatial-sound-and-virtual-surround"></a><span data-ttu-id="9dbcc-228">Audio spaziale e surround virtuale</span><span class="sxs-lookup"><span data-stu-id="9dbcc-228">Spatial sound and virtual surround</span></span>

<span data-ttu-id="9dbcc-229">A partire dall'Windows 10 1903, XAudio 2.9 usa automaticamente l'audio surround virtuale, se vengono soddisfatte determinate condizioni.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-229">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses virtual surround sound, if certain conditions are satisfied.</span></span> <span data-ttu-id="9dbcc-230">È consigliabile testare il gioco che genera audio multicanale Windows 10 1903 (o versione più recente) per verificare che il gioco suoni come previsto.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-230">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span> <span data-ttu-id="9dbcc-231">Per informazioni [su come testare questa](#spatial-sound-in-newer-versions-of-windows-10) funzionalità, vedere la sezione Test dell'audio spaziale.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-231">See the [testing spatial sound](#spatial-sound-in-newer-versions-of-windows-10) section for a discussion about how to test this feature.</span></span>

<span data-ttu-id="9dbcc-232">In genere, XAudio 2.9 esegue un'operazione di fold down di qualsiasi audio multicanale in modo che corrisponda al numero "fisico" di canali audio supportati dall'endpoint audio.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-232">Normally, XAudio 2.9 performs a folds down any multi-channel audio to match the "physical" number of audio channels that are supported by the audio endpoint.</span></span> <span data-ttu-id="9dbcc-233">Ad esempio, se il gioco fornisce una sorgente audio di canale 7.1, ma il suono viene riprodotto sulle cuffie, XAudio 2.9 ridurà l'audio del canale 7.1 in stereo, usando una matrice di fold-down standard del settore.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-233">For example, if the game provides a 7.1 channel audio source, but the sound is played on headphones, XAudio 2.9 will fold down the 7.1 channel audio into stereo, using an industry standard fold-down matrix.</span></span> <span data-ttu-id="9dbcc-234">Se il PC è connesso a un endpoint audio HDMI, l'audio del canale 7.1 verrà trasmesso così come è tramite la connessione HDMI.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-234">If the PC is connected to a HDMI audio endpoint, then the 7.1 channel audio will be transmitted as-is over the HDMI connection.</span></span>

<span data-ttu-id="9dbcc-235">Windows 10 aggiunge il supporto per l'audio spaziale, usando un codificatore centralizzato che codifica l'audio in un formato audio spaziale selezionato [dall'utente.](../coreaudio/spatial-sound.md)</span><span class="sxs-lookup"><span data-stu-id="9dbcc-235">Windows 10 adds support for spatial audio, using a centralized encoder that encodes audio into a user-selected [spatial sound](../coreaudio/spatial-sound.md) format.</span></span> <span data-ttu-id="9dbcc-236">Windows 10 è incluso in un formato audio spaziale denominato Windows Sonic.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-236">Windows 10 comes included with a spatial sound format called Windows Sonic.</span></span> <span data-ttu-id="9dbcc-237">Altri formati, ad esempio Dolby Atmos for Headphones, possono essere scaricati dal Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-237">Other formats, such as Dolby Atmos for Headphones, can be downloaded from the Microsoft Store.</span></span> <span data-ttu-id="9dbcc-238">Alcuni dei formati audio spaziali, ad esempio Windows Sonic e Dolby Atmos for Headphones, sono progettati per l'uso su endpoint audio stereo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-238">Some of the spatial sound formats, such as Windows Sonic and Dolby Atmos for Headphones, are designed to be used on stereo audio endpoints.</span></span> <span data-ttu-id="9dbcc-239">Questi formati ri fold down surround sound to stereo using proprietary algorithms that achieve a "virtual" surround sound effect(Effetti sonori surround "virtuali").</span><span class="sxs-lookup"><span data-stu-id="9dbcc-239">These formats fold down surround sound to stereo using proprietary algorithms that achieve a "virtual" surround sound effect.</span></span> <span data-ttu-id="9dbcc-240">In altre parole, l'ascoltatore può percepire il suono che appare da posizioni diverse nello spazio 3D anche quando indossa solo le cuffia o durante l'ascolto su una singola coppia di altoparlanti stereo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-240">In other words, the listener can perceive sound appearing from different positions in 3D space even while only wearing headphones, or while listening on a single pair of stereo speakers.</span></span>

<span data-ttu-id="9dbcc-241">Effetti simili possono essere ottenuti [usando le API X3DAudio](x3daudio.md) incluse in XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-241">Similar effects can be achieved using the [X3DAudio](x3daudio.md) APIs that are included with XAudio 2.9.</span></span> <span data-ttu-id="9dbcc-242">La differenza principale è che X3DAudio richiede allo sviluppatore di app di programmare in modo esplicito l'audio 3D, mentre il suono surround virtuale viene applicato automaticamente a qualsiasi origine audio basata su canale tradionale.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-242">The main difference is that X3DAudio requires the app developer to explicitly program for 3D audio, whereas virtual surround sound is applied automatically to any tradional channel-based sound source.</span></span>

<span data-ttu-id="9dbcc-243">In Windows 10 1903 e versioni più nuove, i giochi che usano XAudio 2.9 useranno il formato audio spaziale a livello di sistema abilitato dall'utente nell'endpoint audio, se presente.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-243">On Windows 10 1903, and newer, games that use XAudio 2.9 will use the system-wide spatial sound format that the user has enabled on the audio endpoint, if any.</span></span> <span data-ttu-id="9dbcc-244">Questo significa che XAudio 2.9 non eseguirà il consueto fold-down del suono surround in stereo.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-244">This means that XAudio 2.9 will not perform the usual fold-down of surround sound to stereo.</span></span> <span data-ttu-id="9dbcc-245">Il segnale sonoro surround verrà invece recapitato al codificatore di suoni spaziali (ad esempio, Windows Sonic) per ottenere un effetto sonoro surround virtuale.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-245">Instead, the surround sound signal will be delivered to the spatial sound encoder (e.g., Windows Sonic) to achieve a virtual surround sound effect.</span></span>

### <a name="createhrtfapo"></a><span data-ttu-id="9dbcc-246">CreateHrtfApo</span><span class="sxs-lookup"><span data-stu-id="9dbcc-246">CreateHrtfApo</span></span>

<span data-ttu-id="9dbcc-247">La [**funzione CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) è disponibile solo in Windows 10.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-247">The [**CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) function is only available on Windows 10.</span></span> <span data-ttu-id="9dbcc-248">Non viene implementato in XAudio 2.9 Redistributable.</span><span class="sxs-lookup"><span data-stu-id="9dbcc-248">It is not implemented in the XAudio 2.9 redistributable.</span></span>
