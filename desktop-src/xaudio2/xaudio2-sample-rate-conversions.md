---
description: Le voci XAudio2 possono eseguire conversioni automatiche di frequenza di campionamento se la frequenza di campionamento di input è diversa dalla frequenza di campionamento di input delle voci di output.
ms.assetid: be34ce62-6552-45e2-a247-830ab55ea9ec
title: Conversioni di frequenza di campionamento XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d437a45f9e896826bedc1418382fb257201722d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104234056"
---
# <a name="xaudio2-sample-rate-conversions"></a><span data-ttu-id="c6a42-103">Conversioni di frequenza di campionamento XAudio2</span><span class="sxs-lookup"><span data-stu-id="c6a42-103">XAudio2 Sample Rate Conversions</span></span>

<span data-ttu-id="c6a42-104">Le voci XAudio2 possono eseguire conversioni automatiche di frequenza di campionamento se la frequenza di campionamento di input è diversa dalla frequenza di campionamento di input delle voci di output.</span><span class="sxs-lookup"><span data-stu-id="c6a42-104">XAudio2 voices can perform automatic sample rate conversions if their input sample rate is different from the input sample rate of their output voices.</span></span>

<span data-ttu-id="c6a42-105">Le conversioni di frequenza di campionamento seguono le seguenti regole:</span><span class="sxs-lookup"><span data-stu-id="c6a42-105">Sample rate conversions follow these rules:</span></span>

-   <span data-ttu-id="c6a42-106">La frequenza di campionamento dell'input vocale è fissa.</span><span class="sxs-lookup"><span data-stu-id="c6a42-106">Voice input sample rate is fixed.</span></span>

    <span data-ttu-id="c6a42-107">Le voci possono gestire solo la frequenza di campionamento di input specificata al momento della creazione.</span><span class="sxs-lookup"><span data-stu-id="c6a42-107">Voices can only handle the input sample rate specified when they were created.</span></span> <span data-ttu-id="c6a42-108">Per le voci di [**Mastering Voices**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice) e [**submix**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice), la frequenza di campionamento di input viene specificata con l'argomento *InputSampleRate* per le funzioni [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) e [**IXAudio2:: CreateSubmixVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsubmixvoice) .</span><span class="sxs-lookup"><span data-stu-id="c6a42-108">For [**mastering voices**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice) and [**submix voices**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice), the input sample rate is specified with the *InputSampleRate* argument to the [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) and [**IXAudio2::CreateSubmixVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsubmixvoice) functions.</span></span> <span data-ttu-id="c6a42-109">Per le voci di origine, la frequenza di campionamento di input della voce viene specificata dall'argomento pSourceFormat per la funzione [**IXAudio2:: CreateSourceVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice) .</span><span class="sxs-lookup"><span data-stu-id="c6a42-109">For source voices, the input sample rate of the voice is specified by the pSourceFormat argument to the [**IXAudio2::CreateSourceVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice) function.</span></span>

-   <span data-ttu-id="c6a42-110">Tutte le voci di output di una voce devono avere la stessa frequenza di campionamento di input.</span><span class="sxs-lookup"><span data-stu-id="c6a42-110">All of a voice's output voices must have the same input sample rate.</span></span>

    <span data-ttu-id="c6a42-111">Le voci possono eseguire la conversione dalla frequenza di campionamento di input a qualsiasi frequenza di campionamento di output, ma tutte le voci di output della voce devono avere la stessa frequenza di campionamento di input.</span><span class="sxs-lookup"><span data-stu-id="c6a42-111">Voices can convert from their input sample rate to any output sample rate, but all of the voice's output voices must have the same input sample rate.</span></span> <span data-ttu-id="c6a42-112">Ad esempio, una voce può restituire un numero qualsiasi di voci con una frequenza di campionamento di input pari a 22 kHz.</span><span class="sxs-lookup"><span data-stu-id="c6a42-112">For example, a voice could output to any number of voices with an input sample rate of 22 kHz.</span></span> <span data-ttu-id="c6a42-113">Tuttavia, se la stessa voce aveva diverse voci di output, ognuna con una frequenza di campionamento di input diversa, il grafico audio non sarebbe valido.</span><span class="sxs-lookup"><span data-stu-id="c6a42-113">However, if that same voice had several output voices, each of which had a different input sample rate, the audio graph would not be valid.</span></span>

-   <span data-ttu-id="c6a42-114">L'elaborazione della conversione della frequenza di campionamento si verifica solo quando necessario.</span><span class="sxs-lookup"><span data-stu-id="c6a42-114">Sample rate conversion processing only occurs when necessary.</span></span>

    <span data-ttu-id="c6a42-115">La conversione di dati audio in una frequenza di campionamento diversa comporta un sovraccarico di elaborazione maggiore, che è preferibile evitare.</span><span class="sxs-lookup"><span data-stu-id="c6a42-115">Converting audio data to a different sample rate incurs more processing overhead, which it is preferable to avoid.</span></span> <span data-ttu-id="c6a42-116">Se la frequenza di campionamento di input di una voce corrisponde alla frequenza di campionamento di input delle voci di output, questa conversione non viene eseguita e il tempo di elaborazione viene abbreviato.</span><span class="sxs-lookup"><span data-stu-id="c6a42-116">If a voice's input sample rate matches the input sample rate of its output voices, this conversion is not done and processing time is shortened.</span></span>

-   <span data-ttu-id="c6a42-117">La frequenza di campionamento dell'output può variare in base alla durata di una voce.</span><span class="sxs-lookup"><span data-stu-id="c6a42-117">Output sample rate can vary over the life of a voice.</span></span>

    <span data-ttu-id="c6a42-118">La frequenza di campionamento dell'output di una voce non è fissa.</span><span class="sxs-lookup"><span data-stu-id="c6a42-118">The output sample rate of a voice is not fixed.</span></span> <span data-ttu-id="c6a42-119">Finché tutte le voci di output avranno la stessa frequenza di campionamento di input, il grafico audio sarà valido.</span><span class="sxs-lookup"><span data-stu-id="c6a42-119">As long as all of its output voices have the same input sample rate, the audio graph will be valid.</span></span> <span data-ttu-id="c6a42-120">Se una voce viene modificata in output in nuove voci con una frequenza di campionamento di input diversa, la voce viene convertita nella frequenza di campionamento di input delle nuove voci.</span><span class="sxs-lookup"><span data-stu-id="c6a42-120">If a voice is changed to output to new voices with a different input sample rate, the voice will convert to the input sample rate of the new voices.</span></span>

<span data-ttu-id="c6a42-121">Esistono alcuni scenari in cui è necessario aggiungere una voce submix per eseguire la conversione della frequenza di campionamento tra le voci.</span><span class="sxs-lookup"><span data-stu-id="c6a42-121">There are some scenarios in which it is necessary to add a submix voice to perform sample rate conversion between voices.</span></span> <span data-ttu-id="c6a42-122">Se una voce deve essere restituita a voci con varie frequenze di campionamento di input, solo una delle voci può essere un output diretto della voce originale.</span><span class="sxs-lookup"><span data-stu-id="c6a42-122">If a voice needs to output to voices with various input sample rates, only one of the voices can be a direct output of the original voice.</span></span> <span data-ttu-id="c6a42-123">Poiché tutte le voci di output di una voce devono avere la stessa frequenza di campionamento di input, le altre voci ricevono indirettamente l'output.</span><span class="sxs-lookup"><span data-stu-id="c6a42-123">Because all of a voice's output voices must have the same input sample rate, the other voices receive output indirectly.</span></span> <span data-ttu-id="c6a42-124">Deve essere presente una voce submix con la frequenza di esempio di input corretta compresa tra la voce originale e la voce di output desiderata.</span><span class="sxs-lookup"><span data-stu-id="c6a42-124">There must be a submix voice with the correct input sample rate that comes between the original voice and the intended output voice.</span></span>

<span data-ttu-id="c6a42-125">Si consideri, ad esempio, una voce di origine con una frequenza di campionamento di input pari a 22 kHz, che deve essere restituita a una voce submix con una frequenza di campionamento di input di 11 kHz e una voce Master con una frequenza di campionamento di input pari a 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="c6a42-125">For example, consider a source voice with an input sample rate of 22 kHz, which needs to output to a submix voice with an input sample rate of 11 kHz and a mastering voice with an input sample rate of 44.1 kHz.</span></span> <span data-ttu-id="c6a42-126">Poiché le due voci di output hanno frequenze di campionamento diverse, è necessario inserire più voci submix tra la voce originale e le voci di output desiderate.</span><span class="sxs-lookup"><span data-stu-id="c6a42-126">Because the two output voices have different input sample rates, you need to insert more submix voices between the original voice and its intended output voices.</span></span> <span data-ttu-id="c6a42-127">Per mantenere la fedeltà della voce di origine ed evitare le conversioni costose superflue a frequenze di campionamento più elevate, è necessario inserire due voci submix con frequenza di input di esempio di 22 kHz nel grafico.</span><span class="sxs-lookup"><span data-stu-id="c6a42-127">To maintain the fidelity of the source voice and avoid unnecessary expensive conversions to higher sample rates, you need to insert two submix voices with 22 khz sample input rates into the graph.</span></span> <span data-ttu-id="c6a42-128">Una voce submix restituirà a 11 kHz la voce submix con l'effetto del riverbero e l'altra voce submix restituirà alla voce mastering a 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="c6a42-128">One submix voice would output at 11 khz to the submix voice with the reverb effect, and the other submix voice would output to the mastering voice at 44.1 khz.</span></span>

## <a name="examples-of-sample-rate-conversion-in-audio-graphs"></a><span data-ttu-id="c6a42-129">Esempi di conversione della frequenza di campionamento nei grafici audio</span><span class="sxs-lookup"><span data-stu-id="c6a42-129">Examples of Sample Rate Conversion in Audio Graphs</span></span>

<span data-ttu-id="c6a42-130">Tutte le voci hanno la stessa frequenza di input di esempio; nel grafico audio non viene eseguita alcuna conversione della frequenza di campionamento.</span><span class="sxs-lookup"><span data-stu-id="c6a42-130">All voices have the same sample input rate; no sample rate conversion is done in the audio graph.</span></span>![nel grafico audio non viene eseguita alcuna conversione della frequenza di campionamento.](images/xaudio2-sample-rate-conversions-1.png)

<span data-ttu-id="c6a42-132">Tutte le voci hanno lo stesso tasso di input di esempio, tranne la voce di mastering; la conversione della frequenza di campionamento viene eseguita solo sui dati che passano alla voce Master.</span><span class="sxs-lookup"><span data-stu-id="c6a42-132">All voices have the same sample input rate except the mastering voice; sample rate conversion is only performed on data going to the mastering voice.</span></span> ![la conversione della frequenza di campionamento viene eseguita solo sui dati che passano alla voce Master.](images/xaudio2-sample-rate-conversions-2.png)

<span data-ttu-id="c6a42-134">Le voci hanno frequenze di input di esempio diverse e richiedono più voci submix per eseguire conversioni di frequenza di campionamento. la conversione della frequenza di campionamento viene eseguita in più posizioni nel grafico audio.</span><span class="sxs-lookup"><span data-stu-id="c6a42-134">Voices have different sample input rates and require more submix voices to perform sample rate conversions; sample rate conversion is performed in multiple places in the audio graph.</span></span> ![la conversione della frequenza di campionamento viene eseguita in più posizioni nel grafico audio.](images/xaudio2-sample-rate-conversions-3.png)

## <a name="related-topics"></a><span data-ttu-id="c6a42-136">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="c6a42-136">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c6a42-137">Voci</span><span class="sxs-lookup"><span data-stu-id="c6a42-137">Voices</span></span>](voices.md)
</dt> <dt>

[<span data-ttu-id="c6a42-138">Guida alla programmazione di XAudio2</span><span class="sxs-lookup"><span data-stu-id="c6a42-138">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 
