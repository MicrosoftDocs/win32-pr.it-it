---
title: Trasformazioni (DirectComposition)
description: In questo argomento viene illustrato il supporto di Microsoft DirectComposition per le trasformazioni affini (lineari) bidimensionali (2D) e vengono descritti i tipi di trasformazioni supportati da DirectComposition.
ms.assetid: a0f41cc6-e848-4831-8063-609e17d9b4c6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27a1fec5774d208f240e6d2f1c8b7df09d25c486
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/10/2020
ms.locfileid: "104555293"
---
# <a name="transforms-directcomposition"></a><span data-ttu-id="43305-103">Trasformazioni (DirectComposition)</span><span class="sxs-lookup"><span data-stu-id="43305-103">Transforms (DirectComposition)</span></span>

> [!NOTE]
> <span data-ttu-id="43305-104">Per le app in Windows 10, è consigliabile usare le API Windows. UI. Composition anziché DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="43305-104">For apps on Windows 10, we recommend using Windows.UI.Composition APIs instead of DirectComposition.</span></span> <span data-ttu-id="43305-105">Per altre informazioni, vedere [modernizzare l'app desktop usando il livello visivo](/windows/uwp/composition/visual-layer-in-desktop-apps).</span><span class="sxs-lookup"><span data-stu-id="43305-105">For more info, see [Modernize your desktop app using the Visual layer](/windows/uwp/composition/visual-layer-in-desktop-apps).</span></span>

<span data-ttu-id="43305-106">In questo argomento viene illustrato il supporto di Microsoft DirectComposition per le trasformazioni affini (lineari) bidimensionali (2D) e vengono descritti i tipi di trasformazioni supportati da DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="43305-106">This topic discusses Microsoft DirectComposition support for two-dimensional (2D) affine (linear) transforms, and describes the types of transforms that DirectComposition supports.</span></span>

<span data-ttu-id="43305-107">DirectComposition supporta anche le trasformazioni della prospettiva 3D, ma poiché richiedono la creazione di una bitmap intermedia, DirectComposition considera gli effetti anziché le trasformazioni.</span><span class="sxs-lookup"><span data-stu-id="43305-107">DirectComposition also supports 3D perspective transforms, but because they require the creation of an intermediate bitmap, DirectComposition considers them to be effects rather than transforms.</span></span> <span data-ttu-id="43305-108">Per informazioni sugli effetti della trasformazione prospettiva 3D, vedere [effetti](effects.md).</span><span class="sxs-lookup"><span data-stu-id="43305-108">For information about 3D perspective transform effects, see [Effects](effects.md).</span></span>

<span data-ttu-id="43305-109">Questo argomento include le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="43305-109">This topic includes the following sections:</span></span>

-   [<span data-ttu-id="43305-110">Che cos'è una trasformazione 2D DirectComposition?</span><span class="sxs-lookup"><span data-stu-id="43305-110">What is a DirectComposition 2D transform?</span></span>](#what-is-a-directcomposition-2d-transform)
-   [<span data-ttu-id="43305-111">Spazio delle coordinate 2D DirectComposition</span><span class="sxs-lookup"><span data-stu-id="43305-111">The DirectComposition 2D coordinate space</span></span>](#the-directcomposition-2d-coordinate-space)
-   [<span data-ttu-id="43305-112">Supporto per le trasformazioni 2D affini</span><span class="sxs-lookup"><span data-stu-id="43305-112">Support for affine 2D transforms</span></span>](#support-for-affine-2d-transforms)
-   [<span data-ttu-id="43305-113">Trasformazioni 2D matrice</span><span class="sxs-lookup"><span data-stu-id="43305-113">Matrix 2D transforms</span></span>](#matrix-2d-transforms)
-   [<span data-ttu-id="43305-114">Gruppi di trasformazione</span><span class="sxs-lookup"><span data-stu-id="43305-114">Transform Groups</span></span>](#transform-groups)
-   [<span data-ttu-id="43305-115">Trasforma animazione</span><span class="sxs-lookup"><span data-stu-id="43305-115">Transform animation</span></span>](#transform-animation)
-   [<span data-ttu-id="43305-116">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="43305-116">Related topics</span></span>](#related-topics)

## <a name="what-is-a-directcomposition-2d-transform"></a><span data-ttu-id="43305-117">Che cos'è una trasformazione 2D DirectComposition?</span><span class="sxs-lookup"><span data-stu-id="43305-117">What is a DirectComposition 2D transform?</span></span>

<span data-ttu-id="43305-118">Una trasformazione 2D consente di modificare la posizione, le dimensioni o la natura di un oggetto visivo in due dimensioni spostando l'oggetto visivo in un altro percorso (conversione), rendendolo più grande o più piccolo (ridimensionamento), trasformandolo (rotazione) o distorsione della forma (inclinazione).</span><span class="sxs-lookup"><span data-stu-id="43305-118">A 2D transform enables you to alter the position, size, or nature of a visual in two dimensions by moving the visual to another location (translation), making it larger or smaller (scaling), turning it (rotation), or distorting its shape (skewing).</span></span>

<span data-ttu-id="43305-119">Una trasformazione 2D viene eseguita eseguendo il mapping dei punti di un oggetto visivo da una posizione a un'altra nello stesso spazio delle coordinate o da uno spazio delle coordinate a un altro.</span><span class="sxs-lookup"><span data-stu-id="43305-119">A 2D transform is achieved by mapping the points of a visual from one position to another within the same coordinate space, or from one coordinate space to another.</span></span> <span data-ttu-id="43305-120">Questo mapping è descritto da una tabella di valori denominata matrice di trasformazione, definita come una raccolta di tre righe con tre colonne di valori a virgola mobile, come illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="43305-120">This mapping is described by a table of values called a transformation matrix, defined as a collection of three rows with three columns of floating-point values as shown in the following table.</span></span>



|                 |                 |     |
|-----------------|-----------------|-----|
| <span data-ttu-id="43305-121">M11Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="43305-121">M11Default: 1.0</span></span> | <span data-ttu-id="43305-122">M12Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-122">M12Default: 0.0</span></span> | <span data-ttu-id="43305-123">0,0</span><span class="sxs-lookup"><span data-stu-id="43305-123">0.0</span></span> |
| <span data-ttu-id="43305-124">M21Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-124">M21Default: 0.0</span></span> | <span data-ttu-id="43305-125">M22Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="43305-125">M22Default: 1.0</span></span> | <span data-ttu-id="43305-126">0,0</span><span class="sxs-lookup"><span data-stu-id="43305-126">0.0</span></span> |
| <span data-ttu-id="43305-127">M31OffsetX: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-127">M31OffsetX: 0.0</span></span> | <span data-ttu-id="43305-128">M32OffsetY: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-128">M32OffsetY: 0.0</span></span> | <span data-ttu-id="43305-129">1.0</span><span class="sxs-lookup"><span data-stu-id="43305-129">1.0</span></span> |



 

<span data-ttu-id="43305-130">La matrice di trasformazione per le trasformazioni 2D affini è una matrice 3 per 2 che omette la terza colonna dalla matrice di trasformazione precedente.</span><span class="sxs-lookup"><span data-stu-id="43305-130">The transformation matrix for affine 2D transforms is a 3-by-2 matrix that omits the third column from the previous transformation matrix.</span></span> <span data-ttu-id="43305-131">Nella tabella seguente viene illustrato il layout di questa matrice.</span><span class="sxs-lookup"><span data-stu-id="43305-131">The following table shows the layout of this matrix.</span></span>



|                 |                 |
|-----------------|-----------------|
| <span data-ttu-id="43305-132">M11Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="43305-132">M11Default: 1.0</span></span> | <span data-ttu-id="43305-133">M12Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-133">M12Default: 0.0</span></span> |
| <span data-ttu-id="43305-134">M21Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-134">M21Default: 0.0</span></span> | <span data-ttu-id="43305-135">M22Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="43305-135">M22Default: 1.0</span></span> |
| <span data-ttu-id="43305-136">M31OffsetX: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-136">M31OffsetX: 0.0</span></span> | <span data-ttu-id="43305-137">M32OffsetY: 0,0</span><span class="sxs-lookup"><span data-stu-id="43305-137">M32OffsetY: 0.0</span></span> |



 

> [!Note]  
> <span data-ttu-id="43305-138">DirectComposition non esegue alcuna elaborazione speciale quando si applicano trasformazioni 2D al contenuto stereo.</span><span class="sxs-lookup"><span data-stu-id="43305-138">DirectComposition does no special processing when applying 2D transforms to stereo content.</span></span> <span data-ttu-id="43305-139">Ciò significa che il contenuto 3D potrebbe sembrare distorto quando viene applicata una trasformazione 2D.</span><span class="sxs-lookup"><span data-stu-id="43305-139">This means the 3D content might appear distorted when a 2D transform is applied to it.</span></span>

 

## <a name="the-directcomposition-2d-coordinate-space"></a><span data-ttu-id="43305-140">Spazio delle coordinate 2D DirectComposition</span><span class="sxs-lookup"><span data-stu-id="43305-140">The DirectComposition 2D coordinate space</span></span>

<span data-ttu-id="43305-141">DirectComposition utilizza uno spazio delle coordinate 2D a sinistra; ovvero, i valori positivi dell'asse x aumentano a destra e i valori positivi dell'asse y aumentano verso il basso.</span><span class="sxs-lookup"><span data-stu-id="43305-141">DirectComposition uses a left-handed 2D coordinate space; that is, positive x-axis values increase to the right and positive y-axis values increase downward.</span></span> <span data-ttu-id="43305-142">Gli oggetti visivi sono posizionati in relazione all'origine, ovvero il punto in cui l'asse x e l'asse y si intersecano (0,0), come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="43305-142">Visuals are positioned relative to the origin, which is the point where the x-axis and y-axis intersect (0, 0), as shown in the following illustration.</span></span>

![asse x e asse y di uno spazio delle coordinate a sinistra](images/coordinatespace.png)

<span data-ttu-id="43305-144">Modificando i valori in una matrice di trasformazione 3 per 2, è possibile ruotare, ridimensionare, inclinare e tradurre un oggetto in due dimensioni.</span><span class="sxs-lookup"><span data-stu-id="43305-144">By manipulating values in a 3-by-2 transformation matrix, you can rotate, scale, skew, and translate an object in two dimensions.</span></span> <span data-ttu-id="43305-145">Se, ad esempio, si imposta OffsetX su 100 e OffsetY su 200, si sposta l'oggetto a destra 100 pixel e giù 200 pixel.</span><span class="sxs-lookup"><span data-stu-id="43305-145">For example, if you set OffsetX to 100 and OffsetY to 200, you move the object to the right 100 pixels and down 200 pixels.</span></span>

## <a name="support-for-affine-2d-transforms"></a><span data-ttu-id="43305-146">Supporto per le trasformazioni 2D affini</span><span class="sxs-lookup"><span data-stu-id="43305-146">Support for affine 2D transforms</span></span>

<span data-ttu-id="43305-147">La tabella seguente descrive i tipi di trasformazioni 2D affini supportate da DirectComposition ed elenca le interfacce che è possibile usare per eseguire i vari tipi di trasformazioni.</span><span class="sxs-lookup"><span data-stu-id="43305-147">The following table describes the types of affine 2D transforms supported by DirectComposition, and lists the interfaces that you can use to perform the various types of transformations.</span></span>



| <span data-ttu-id="43305-148">Trasformazione/interfaccia</span><span class="sxs-lookup"><span data-stu-id="43305-148">Transform/interface</span></span>                                                                               | <span data-ttu-id="43305-149">Descrizione</span><span class="sxs-lookup"><span data-stu-id="43305-149">Description</span></span>                                                                                              | <span data-ttu-id="43305-150">Illustrazione</span><span class="sxs-lookup"><span data-stu-id="43305-150">Illustration</span></span>                                                                                                                      |
|---------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="43305-151">Ruotare la[](/windows/win32/api/dcomp/nn-dcomp-idcompositionrotatetransform) \[ nuova riga idcompositionrotatetransform 2D\]</span><span class="sxs-lookup"><span data-stu-id="43305-151">Rotate 2D [**idcompositionrotatetransform**](/windows/win32/api/dcomp/nn-dcomp-idcompositionrotatetransform)\[newline\]</span></span>          | <span data-ttu-id="43305-152">ruotare un oggetto visivo in base all'angolo specificato intorno al punto centrale specificato.</span><span class="sxs-lookup"><span data-stu-id="43305-152">rotate a visual by the specified angle about the specified center point.</span></span>                                 | ![illustrazione di un quadrato ruotato di 45 gradi in senso orario rispetto al centro del quadrato originale](images/rotate.png)               |
| <span data-ttu-id="43305-154">Ridimensiona la[](/windows/win32/api/dcomp/nn-dcomp-idcompositionscaletransform) \[ nuova riga idcompositionscaletransform 2D\]</span><span class="sxs-lookup"><span data-stu-id="43305-154">Scale 2D [**idcompositionscaletransform**](/windows/win32/api/dcomp/nn-dcomp-idcompositionscaletransform)\[newline\]</span></span>             | <span data-ttu-id="43305-155">Ridimensiona un oggetto visivo in base al fattore specificato sul punto centrale specificato.</span><span class="sxs-lookup"><span data-stu-id="43305-155">scale a visual by the specified factor about the specified center point.</span></span>                                 | ![illustrazione di un quadrato con scala 130%](images/scale.png)                                                                  |
| <span data-ttu-id="43305-157">Nuova riga [**Idcompositionskewtransform**](/windows/win32/api/dcomp/nn-dcomp-idcompositionskewtransform)2D \[\]</span><span class="sxs-lookup"><span data-stu-id="43305-157">Skew 2D [**idcompositionskewtransform**](/windows/win32/api/dcomp/nn-dcomp-idcompositionskewtransform)\[newline\]</span></span>                | <span data-ttu-id="43305-158">inclina un oggetto visivo in base all'angolo specificato lungo l'asse x e l'asse y e intorno al punto centrale specificato.</span><span class="sxs-lookup"><span data-stu-id="43305-158">skew a visual by the specified angle along the x-axis and y-axis, and around the specified center point.</span></span> | ![illustrazione di un quadrato inclinato di 30 gradi in senso antiorario dall'asse y](images/skew.png)                                   |
| <span data-ttu-id="43305-160">Tradurre la[](/windows/win32/api/dcomp/nn-dcomp-idcompositiontranslatetransform) \[ nuova riga idcompositiontranslatetransform 2D\]</span><span class="sxs-lookup"><span data-stu-id="43305-160">Translate 2D [**idcompositiontranslatetransform**](/windows/win32/api/dcomp/nn-dcomp-idcompositiontranslatetransform)\[newline\]</span></span> | <span data-ttu-id="43305-161">modificare la posizione di un oggetto visivo nella direzione dell'asse x e dell'asse y.</span><span class="sxs-lookup"><span data-stu-id="43305-161">change the position of a visual in the direction of the x-axis and y-axis.</span></span>                               | ![illustrazione di un quadrato spostato di 20 unità lungo l'asse x positivo e 10 unità lungo l'asse y positivo](images/translate.png) |



 

## <a name="matrix-2d-transforms"></a><span data-ttu-id="43305-163">Trasformazioni 2D matrice</span><span class="sxs-lookup"><span data-stu-id="43305-163">Matrix 2D transforms</span></span>

<span data-ttu-id="43305-164">L'interfaccia [**IDCompositionMatrixTransform**](/windows/win32/api/dcomp/nn-dcomp-idcompositionmatrixtransform) consente di definire una matrice di trasformazione 2D affine con 3 per 2 e applicarla a un oggetto visivo.</span><span class="sxs-lookup"><span data-stu-id="43305-164">The [**IDCompositionMatrixTransform**](/windows/win32/api/dcomp/nn-dcomp-idcompositionmatrixtransform) interface enables you to define your own 3-by-2 affine 2D transform matrix and apply it to a visual.</span></span> <span data-ttu-id="43305-165">Questa interfaccia è utile se è necessario applicare un tipo di trasformazione 2D affine che non è disponibile tramite le altre interfacce di trasformazione DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="43305-165">This interface is useful if you need to apply a type of affine 2D transform that is not available through the other DirectComposition transform interfaces.</span></span> <span data-ttu-id="43305-166">Per definire la matrice, compilare una struttura [**D2D \_ Matrix \_ 3x2 \_ F**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f) e passarla al metodo [**IDCompositionMatrixTransform:: sematrix**](/windows/win32/api/dcomp/nf-dcomp-idcompositionmatrixtransform-setmatrix) .</span><span class="sxs-lookup"><span data-stu-id="43305-166">You define the matrix by filling a [**D2D\_MATRIX\_3X2\_F**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f) structure and passing it to the [**IDCompositionMatrixTransform::SetMatrix**](/windows/win32/api/dcomp/nf-dcomp-idcompositionmatrixtransform-setmatrix) method.</span></span>

## <a name="transform-groups"></a><span data-ttu-id="43305-167">Gruppi di trasformazione</span><span class="sxs-lookup"><span data-stu-id="43305-167">Transform Groups</span></span>

<span data-ttu-id="43305-168">È possibile utilizzare i gruppi di trasformazione per combinare più trasformazioni in una sola.</span><span class="sxs-lookup"><span data-stu-id="43305-168">You can use transform groups to combine multiple transforms into one.</span></span> <span data-ttu-id="43305-169">Un gruppo di trasformazione definisce una raccolta di oggetti Transform le cui matrici vengono moltiplicate insieme nell'ordine in cui sono specificate nella raccolta.</span><span class="sxs-lookup"><span data-stu-id="43305-169">A transform group defines a collection of transform objects whose matrices are multiplied together in the order in which they are specified in the collection.</span></span> <span data-ttu-id="43305-170">La matrice di trasformazione risultante viene quindi applicata all'oggetto visivo.</span><span class="sxs-lookup"><span data-stu-id="43305-170">The resulting transform matrix is then applied to the visual.</span></span> <span data-ttu-id="43305-171">Un gruppo di trasformazione produce lo stesso risultato dell'applicazione di ogni trasformazione separatamente.</span><span class="sxs-lookup"><span data-stu-id="43305-171">A transform group produces the same result as applying each transform separately.</span></span>

<span data-ttu-id="43305-172">Tenere presente che l'ordine degli oggetti Transform in un gruppo di trasformazione è importante.</span><span class="sxs-lookup"><span data-stu-id="43305-172">Keep in mind that the order of the transform objects in a transform group is important.</span></span> <span data-ttu-id="43305-173">Se, ad esempio, un oggetto visivo viene prima ruotato, quindi ridimensionato e quindi convertito, il risultato è diverso da quello in cui l'oggetto visivo viene prima tradotto, quindi ruotato e quindi ridimensionato.</span><span class="sxs-lookup"><span data-stu-id="43305-173">For example, if a visual is first rotated, then scaled, and then translated, the result is different than if the visual is first translated, then rotated, and then scaled.</span></span> <span data-ttu-id="43305-174">DirectComposition applica sempre le trasformazioni a un oggetto visivo nell'ordine in cui sono specificate nella raccolta.</span><span class="sxs-lookup"><span data-stu-id="43305-174">DirectComposition always applies the transforms to a visual in the order in which they are specified in the collection.</span></span>

<span data-ttu-id="43305-175">Per creare un gruppo di trasformazione, creare prima di tutto gli oggetti Transform da includere nel gruppo, quindi passare una matrice di puntatori all'oggetto Transform al metodo [**IDCompositionDevice:: CreateTransformGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtransformgroup) .</span><span class="sxs-lookup"><span data-stu-id="43305-175">To create a transform group, first create the transform objects that you want to include in the group, and then pass an array of transform object pointers to the [**IDCompositionDevice::CreateTransformGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtransformgroup) method.</span></span> <span data-ttu-id="43305-176">Dopo aver creato un gruppo di trasformazione, non è possibile aggiungere o rimuovere oggetti Transform.</span><span class="sxs-lookup"><span data-stu-id="43305-176">After you create a transform group, you cannot add or remove any transform objects.</span></span> <span data-ttu-id="43305-177">Tuttavia, è possibile modificare le proprietà dei singoli oggetti Transform nella raccolta e le modifiche verranno riflesse nella matrice di trasformazione risultante.</span><span class="sxs-lookup"><span data-stu-id="43305-177">However, you can modify the properties of the individual transform objects in the collection, and the changes will be reflected in the resulting transform matrix.</span></span>

## <a name="transform-animation"></a><span data-ttu-id="43305-178">Trasforma animazione</span><span class="sxs-lookup"><span data-stu-id="43305-178">Transform animation</span></span>

<span data-ttu-id="43305-179">Le proprietà di una trasformazione possono essere animate.</span><span class="sxs-lookup"><span data-stu-id="43305-179">The properties of a transform can be animated.</span></span> <span data-ttu-id="43305-180">Quando una proprietà viene animata, DirectComposition modifica il valore della proprietà nel tempo invece che in una sola volta.</span><span class="sxs-lookup"><span data-stu-id="43305-180">When a property is animated, DirectComposition changes the value of the property over time, rather than all at once.</span></span> <span data-ttu-id="43305-181">Questa operazione è particolarmente utile quando si creano transizioni.</span><span class="sxs-lookup"><span data-stu-id="43305-181">This is particularly useful when creating transitions.</span></span> <span data-ttu-id="43305-182">Per altre informazioni, vedere [Animation](animation.md).</span><span class="sxs-lookup"><span data-stu-id="43305-182">For more information, see [Animation](animation.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="43305-183">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="43305-183">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="43305-184">Concetti di DirectComposition</span><span class="sxs-lookup"><span data-stu-id="43305-184">DirectComposition Concepts</span></span>](directcomposition-concepts.md)
</dt> </dl>

 

 
