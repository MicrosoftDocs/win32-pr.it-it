---
title: Impostazione della sicurezza Process-Wide tramite il registro di sistema
description: Se si desidera impostare la sicurezza per un intero processo, una soluzione consiste nell'impostare i livelli di sicurezza desiderati nel registro di sistema.
ms.assetid: 87f0a64f-f3ec-4ee2-8d65-4f82e8971f0b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d303f184229cb20aef1cbf71733956a3b6ce6618
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "103963492"
---
# <a name="setting-process-wide-security-through-the-registry"></a><span data-ttu-id="046f8-103">Impostazione della sicurezza Process-Wide tramite il registro di sistema</span><span class="sxs-lookup"><span data-stu-id="046f8-103">Setting Process-Wide Security Through the Registry</span></span>

<span data-ttu-id="046f8-104">Se si desidera impostare la sicurezza per un intero processo, una soluzione consiste nell'impostare i livelli di sicurezza desiderati nel registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="046f8-104">If you want to set security for an entire process, one solution is to set the security levels you want in the registry.</span></span> <span data-ttu-id="046f8-105">Se l'applicazione non è in grado di chiamare [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) o se si preferisce non usare la sicurezza a livello di codice, potrebbe trattarsi di un'opzione appropriata.</span><span class="sxs-lookup"><span data-stu-id="046f8-105">If your application cannot call [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) or if you prefer not to use programmatic security, this might be a good option.</span></span> <span data-ttu-id="046f8-106">Se si decide di impostare la sicurezza a livello di processo tramite il registro di sistema, è necessario tenere presente che se si chiama **CoInitializeSecurity** all'interno del programma com utilizzerà i valori in **CoInitializeSecurity** e ignorerà i valori del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="046f8-106">If you decide to set process-wide security using the registry, you should be aware that if you call **CoInitializeSecurity** within your program COM will use the values in **CoInitializeSecurity** and ignore the registry values.</span></span>

<span data-ttu-id="046f8-107">Esistono due modi per impostare la sicurezza nel registro di sistema per l'applicazione:</span><span class="sxs-lookup"><span data-stu-id="046f8-107">There are two ways to set security in the registry for your application:</span></span>

-   <span data-ttu-id="046f8-108">È possibile utilizzare Dcomcnfg.exe, che fornisce una semplice interfaccia utente per la modifica dei valori di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="046f8-108">You can use Dcomcnfg.exe, which provides a simple user interface for modifying security values.</span></span> <span data-ttu-id="046f8-109">Tutti i server COM possono essere configurati con Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="046f8-109">All COM servers can be configured using Dcomcnfg.exe.</span></span> <span data-ttu-id="046f8-110">Per ulteriori informazioni, vedere [impostazione di Process-Wide sicurezza tramite DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span><span class="sxs-lookup"><span data-stu-id="046f8-110">For more information, see [Setting Process-Wide Security Using DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span></span> <span data-ttu-id="046f8-111">Tuttavia, le applicazioni client in genere non vengono visualizzate in Dcomcnfg.exe a meno che il client non crei un GUID e lo immetta nel registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="046f8-111">However, client applications do not normally appear in Dcomcnfg.exe unless the client creates a GUID and enters it in the registry.</span></span>
-   <span data-ttu-id="046f8-112">È possibile impostare i valori di sicurezza sotto la chiave [AppID](appid-key.md) per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="046f8-112">You can set security values under the [AppID](appid-key.md) key for the application.</span></span> <span data-ttu-id="046f8-113">Nella parte restante di questo argomento viene illustrato come impostare la sicurezza nel registro di sistema utilizzando la chiave **AppID** .</span><span class="sxs-lookup"><span data-stu-id="046f8-113">The rest of this topic explains how to set security in the registry using the **AppID** key.</span></span>

<span data-ttu-id="046f8-114">Un AppID è un GUID che rappresenta un processo server per una o più classi.</span><span class="sxs-lookup"><span data-stu-id="046f8-114">An AppID is a GUID that represents a server process for one or more classes.</span></span> <span data-ttu-id="046f8-115">Ogni classe è associata esattamente a un AppID ed AppID può essere assegnato solo a exe.</span><span class="sxs-lookup"><span data-stu-id="046f8-115">Each class is associated with exactly one AppID, and AppIDs can be assigned only to EXEs.</span></span> <span data-ttu-id="046f8-116">Le dll non ottengono AppID a meno che non siano in esecuzione in un surrogato, quindi è il processo surrogato con AppID.</span><span class="sxs-lookup"><span data-stu-id="046f8-116">DLLs do not get AppIDs unless they are running in a surrogate, and then it is the surrogate process that has the AppID.</span></span> <span data-ttu-id="046f8-117">Se più DLL vengono caricate in un surrogato, ogni surrogato ha un solo AppID.</span><span class="sxs-lookup"><span data-stu-id="046f8-117">If multiple DLLs are loaded into a surrogate, each surrogate has only one AppID.</span></span>

<span data-ttu-id="046f8-118">Per alcuni server COM, il codice di registrazione genera un AppID e inserisce le voci nel registro di sistema che mappano l'AppID al nome del file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="046f8-118">For some COM servers, the registration code generates an AppID and places entries in the registry that map the AppID to the name of the executable.</span></span> <span data-ttu-id="046f8-119">Tuttavia alcuni server COM non forniscono questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="046f8-119">But some COM servers do not provide this functionality.</span></span> <span data-ttu-id="046f8-120">Tuttavia, se il codice di registrazione del server aggiunge una voce per HKCR \\ CLSID {ServerCLSID} \\ [LocalServer32](localserver32.md) quando viene eseguito dcomcnfg.exe, verrà aggiunto automaticamente un AppID per il CLSID.</span><span class="sxs-lookup"><span data-stu-id="046f8-120">However, if the server's registration code adds an entry for HKCR\\CLSID{ServerCLSID}\\[LocalServer32](localserver32.md) when dcomcnfg.exe is run, it will automatically add an AppID for the CLSID.</span></span>

<span data-ttu-id="046f8-121">Per un client COM che non è un server, questo mapping non viene creato perché il client non viene mai registrato.</span><span class="sxs-lookup"><span data-stu-id="046f8-121">For a COM client that is not a server, this mapping is not created because the client is never registered.</span></span> <span data-ttu-id="046f8-122">Per impostare la sicurezza tramite la chiave **AppID** , il client deve quindi creare le voci del registro di sistema necessarie, a livello di codice tramite le [funzioni del registro di sistema](/windows/desktop/SysInfo/registry-functions) o tramite regedit.</span><span class="sxs-lookup"><span data-stu-id="046f8-122">Therefore, to set security using the **AppID** key, the client must create the necessary registry entries, either programmatically by using the [registry functions](/windows/desktop/SysInfo/registry-functions) or by using regedit.</span></span>

<span data-ttu-id="046f8-123">Se si decide di impostare la sicurezza a livello di processo nel registro di sistema nella chiave **AppID** , tenere presente che nella chiave **AppID** sono presenti due valori denominati che è possibile impostare senza disporre delle autorizzazioni di amministratore:</span><span class="sxs-lookup"><span data-stu-id="046f8-123">If you decide to set process-wide security in the registry under the **AppID** key, be aware that there are two named values under the **AppID** key that you can set without having administrator permissions:</span></span>

-   [<span data-ttu-id="046f8-124">AccessPermission</span><span class="sxs-lookup"><span data-stu-id="046f8-124">AccessPermission</span></span>](accesspermission.md)
-   [<span data-ttu-id="046f8-125">AuthenticationLevel</span><span class="sxs-lookup"><span data-stu-id="046f8-125">AuthenticationLevel</span></span>](authenticationlevel.md)

<span data-ttu-id="046f8-126">I valori **AuthenticationLevel** e **AccessPermission** vengono impostati in modo indipendente e hanno valori predefiniti distinti.</span><span class="sxs-lookup"><span data-stu-id="046f8-126">The **AuthenticationLevel** and **AccessPermission** values are set independently and have separate default values.</span></span> <span data-ttu-id="046f8-127">Se il valore di **AuthenticationLevel** non è presente, il valore di [LegacyAuthenticationLevel](legacyauthenticationlevel.md) viene usato come valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="046f8-127">If the **AuthenticationLevel** value is not present, the [LegacyAuthenticationLevel](legacyauthenticationlevel.md) value is used as the default.</span></span> <span data-ttu-id="046f8-128">Analogamente, se il valore **AccessPermission** non è presente, il valore di [DefaultAccessPermission](defaultaccesspermission.md) viene usato come valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="046f8-128">Similarly, if the **AccessPermission** value is not present, the [DefaultAccessPermission](defaultaccesspermission.md) value is used as the default.</span></span> <span data-ttu-id="046f8-129">Tuttavia, i valori **AuthenticationLevel** e **AccessPermission** sono correlati nei modi seguenti:</span><span class="sxs-lookup"><span data-stu-id="046f8-129">However, the **AuthenticationLevel** and the **AccessPermission** values are interrelated in the following ways:</span></span>

-   <span data-ttu-id="046f8-130">Se **AuthenticationLevel** è None, i valori **AccessPermission** e **DefaultAccessPermission** vengono ignorati per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="046f8-130">If the **AuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>
-   <span data-ttu-id="046f8-131">Se **AuthenticationLevel** non è presente e **LegacyAuthenticationLevel** è None, i valori **AccessPermission** e **DefaultAccessPermission** vengono ignorati per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="046f8-131">If the **AuthenticationLevel** is not present and the **LegacyAuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>

## <a name="related-topics"></a><span data-ttu-id="046f8-132">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="046f8-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="046f8-133">Impostazione della sicurezza Process-Wide</span><span class="sxs-lookup"><span data-stu-id="046f8-133">Setting Process-Wide Security</span></span>](setting-processwide-security.md)
</dt> </dl>

 

 