---
title: Protocollo Kerberos V5
description: Protocollo Kerberos V5
ms.assetid: a53a1edf-f374-4cbf-8050-7cde45284157
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 68d78c4bdc457007c04ad66163e2ebfd7f5397f9
ms.sourcegitcommit: 3e70ae762629e244028b437420ed50b5850db4e3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/20/2020
ms.locfileid: "106299473"
---
# <a name="kerberos-v5-protocol"></a><span data-ttu-id="8385a-103">Protocollo Kerberos V5</span><span class="sxs-lookup"><span data-stu-id="8385a-103">Kerberos v5 Protocol</span></span>

<span data-ttu-id="8385a-104">Il protocollo di autenticazione Kerberos V5 dispone di un identificatore del servizio di autenticazione di RPC \_ C \_ AuthN \_ GSS \_ Kerberos.</span><span class="sxs-lookup"><span data-stu-id="8385a-104">The Kerberos v5 authentication protocol has an authentication service identifier of RPC\_C\_AUTHN\_GSS\_KERBEROS.</span></span> <span data-ttu-id="8385a-105">Il protocollo Kerberos definisce il modo in cui i client interagiscono con un servizio di autenticazione di rete ed è stato standardizzato da Internet Engineering Task Force (IETF) nel settembre 1993, nel documento [RFC 1510](https://www.ietf.org/rfc/rfc1510.txt).</span><span class="sxs-lookup"><span data-stu-id="8385a-105">The Kerberos protocol defines how clients interact with a network authentication service and was standardized by the Internet Engineering Task Force (IETF) in September 1993, in document [RFC 1510](https://www.ietf.org/rfc/rfc1510.txt).</span></span> <span data-ttu-id="8385a-106">I client ottengono ticket dal centro di distribuzione chiave Kerberos (KDC, Kerberos Key Distribution Center) e quindi presentano questi ticket ai server durante la procedura di connessione.</span><span class="sxs-lookup"><span data-stu-id="8385a-106">Clients obtain tickets from the Kerberos Key Distribution Center (KDC), and they present these tickets to servers when connections are established.</span></span> <span data-ttu-id="8385a-107">I ticket Kerberos rappresentano le credenziali di rete del client.</span><span class="sxs-lookup"><span data-stu-id="8385a-107">Kerberos tickets represent the client's network credentials.</span></span>

<span data-ttu-id="8385a-108">Come NTLM, il protocollo Kerberos usa il nome di dominio, il nome utente e la password per rappresentare l'identità del client.</span><span class="sxs-lookup"><span data-stu-id="8385a-108">Like NTLM, the Kerberos protocol uses the domain name, user name, and password to represent the client's identity.</span></span> <span data-ttu-id="8385a-109">Il ticket Kerberos iniziale ottenuto dal KDC quando l'utente esegue l'accesso si basa su un hash crittografato della password dell'utente.</span><span class="sxs-lookup"><span data-stu-id="8385a-109">The initial Kerberos ticket obtained from the KDC when the user logs on is based on an encrypted hash of the user's password.</span></span> <span data-ttu-id="8385a-110">Questo ticket iniziale viene memorizzato nella cache.</span><span class="sxs-lookup"><span data-stu-id="8385a-110">This initial ticket is cached.</span></span> <span data-ttu-id="8385a-111">Quando l'utente tenta di connettersi a un server, il protocollo Kerberos controlla la cache dei ticket per un ticket valido per il server.</span><span class="sxs-lookup"><span data-stu-id="8385a-111">When the user tries to connect to a server, the Kerberos protocol checks the ticket cache for a valid ticket for that server.</span></span> <span data-ttu-id="8385a-112">Se non ne è disponibile uno, il Ticket iniziale per l'utente viene inviato al KDC insieme a una richiesta di un ticket per il server specificato.</span><span class="sxs-lookup"><span data-stu-id="8385a-112">If one is not available, the initial ticket for the user is sent to the KDC along with a request for a ticket for the specified server.</span></span> <span data-ttu-id="8385a-113">Il ticket di sessione viene aggiunto alla cache e può essere usato per connettersi allo stesso server fino alla scadenza del ticket.</span><span class="sxs-lookup"><span data-stu-id="8385a-113">That session ticket is added to the cache, and it can be used to connect to the same server until the ticket expires.</span></span>

<span data-ttu-id="8385a-114">Quando un server chiama [**CoQueryClientBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) usando il protocollo Kerberos, vengono restituiti il nome di dominio e il nome utente del client.</span><span class="sxs-lookup"><span data-stu-id="8385a-114">When a server calls [**CoQueryClientBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) using the Kerberos protocol, the client's domain name and user name are returned.</span></span> <span data-ttu-id="8385a-115">Quando un server chiama [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), viene restituito il token del client.</span><span class="sxs-lookup"><span data-stu-id="8385a-115">When a server calls [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), the client's token is returned.</span></span> <span data-ttu-id="8385a-116">Questi comportamenti sono gli stessi di quando si usa NTLM.</span><span class="sxs-lookup"><span data-stu-id="8385a-116">These behaviors are the same as when using NTLM.</span></span>

<span data-ttu-id="8385a-117">Il protocollo Kerberos funziona oltre i limiti del computer.</span><span class="sxs-lookup"><span data-stu-id="8385a-117">The Kerberos protocol works across computer boundaries.</span></span> <span data-ttu-id="8385a-118">I computer client e server devono essere entrambi in domini e tali domini devono avere una relazione di trust.</span><span class="sxs-lookup"><span data-stu-id="8385a-118">The client and server computers must both be in domains, and those domains must have a trust relationship.</span></span>

<span data-ttu-id="8385a-119">Il protocollo Kerberos richiede l'autenticazione reciproca e la supporta in modalità remota.</span><span class="sxs-lookup"><span data-stu-id="8385a-119">The Kerberos protocol requires mutual authentication and supports it remotely.</span></span> <span data-ttu-id="8385a-120">Il client deve specificare il nome dell'entità del server e l'identità del server deve corrispondere esattamente al nome dell'entità.</span><span class="sxs-lookup"><span data-stu-id="8385a-120">The client must specify the principal name of the server, and the server's identity must match that principal name exactly.</span></span> <span data-ttu-id="8385a-121">Se il client specifica **null** per il nome dell'entità del server o se il nome dell'entità non corrisponde al server, la chiamata avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="8385a-121">If the client specifies **NULL** for the server's principal name or if the principal name doesn't match the server, the call will fail.</span></span>

<span data-ttu-id="8385a-122">Con il protocollo Kerberos, è possibile utilizzare i livelli di rappresentazione per identificare, rappresentare e delegare.</span><span class="sxs-lookup"><span data-stu-id="8385a-122">With the Kerberos protocol, the impersonation levels identify, impersonate, and delegate can be used.</span></span> <span data-ttu-id="8385a-123">Quando un server chiama [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), il token restituito è valido dal computer per un periodo di tempo compreso tra 5 minuti e 8 ore.</span><span class="sxs-lookup"><span data-stu-id="8385a-123">When a server calls [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), the token returned is valid off the computer for some time period between 5 minutes and 8 hours.</span></span> <span data-ttu-id="8385a-124">Al termine di questo periodo di tempo, può essere utilizzato solo sul computer server.</span><span class="sxs-lookup"><span data-stu-id="8385a-124">After this time, it can be used on the server computer only.</span></span> <span data-ttu-id="8385a-125">Se un server è "Run As Activator" e l'attivazione viene eseguita con il protocollo Kerberos, il token del server scadrà tra 5 minuti e 8 ore dopo l'attivazione.</span><span class="sxs-lookup"><span data-stu-id="8385a-125">If a server is "run as activator" and the activation is done with the Kerberos protocol, the server's token will expire between 5 minutes and 8 hours after activation.</span></span>

<span data-ttu-id="8385a-126">Il protocollo di autenticazione Kerberos V5 implementato da Windows supporta il [mascheramento](cloaking.md).</span><span class="sxs-lookup"><span data-stu-id="8385a-126">The Kerberos v5 authentication protocol implemented by WindowsÂ supports [cloaking](cloaking.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="8385a-127">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="8385a-127">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8385a-128">Pacchetti COM e di sicurezza</span><span class="sxs-lookup"><span data-stu-id="8385a-128">COM and Security Packages</span></span>](com-and-security-packages.md)
</dt> </dl>

 

 




