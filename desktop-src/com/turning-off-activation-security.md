---
title: Disattivazione della sicurezza di attivazione
description: Disattivazione della sicurezza di attivazione
ms.assetid: 3474f8ad-f041-4886-ad39-ff0603c5c69e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7da3ebd7cc03d79fc38fbafe3bc652efc3499437
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "104399768"
---
# <a name="turning-off-activation-security"></a><span data-ttu-id="771a0-103">Disattivazione della sicurezza di attivazione</span><span class="sxs-lookup"><span data-stu-id="771a0-103">Turning Off Activation Security</span></span>

<span data-ttu-id="771a0-104">In genere, l'attivazione Usa impostazioni di sicurezza predefinite.</span><span class="sxs-lookup"><span data-stu-id="771a0-104">Normally, activation uses default security settings.</span></span> <span data-ttu-id="771a0-105">Tuttavia, è possibile controllare la sicurezza dell'attivazione specificando una struttura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) , che è un membro della struttura [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) che viene passata alle funzioni di attivazione.</span><span class="sxs-lookup"><span data-stu-id="771a0-105">However, you can control activation security by specifying a [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure, which is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure that is passed to the activation functions.</span></span> <span data-ttu-id="771a0-106">Se il client specifica un livello di autenticazione di \_ un \_ livello auth C AuthN \_ \_ nella struttura **COAUTHINFO** , non viene eseguito alcun tentativo di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="771a0-106">If the client specifies an authentication level of RPC\_C\_AUTHN\_LEVEL\_NONE in the **COAUTHINFO** structure, authentication is not attempted.</span></span> <span data-ttu-id="771a0-107">In caso contrario, viene tentata l'attivazione sicura e, se l'autenticazione non riesce, l'attivazione non riesce.</span><span class="sxs-lookup"><span data-stu-id="771a0-107">Otherwise, secure activation is attempted, and if authentication fails, activation fails.</span></span>

<span data-ttu-id="771a0-108">Se il client non specifica una struttura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) esplicita e imposta invece il puntatore su **null**, com tenterà di autenticare il client.</span><span class="sxs-lookup"><span data-stu-id="771a0-108">If the client does not specify an explicit [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure and instead sets the pointer to **NULL**, COM will attempt to authenticate the client.</span></span> <span data-ttu-id="771a0-109">Se non è in grado di autenticare il client, COM controlla il descrittore di sicurezza dell'autorizzazione Launch per verificare se è presente un DACL **null** o un ACL che consente l'accesso a tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="771a0-109">If it cannot authenticate the client, COM checks the launch permission security descriptor to see whether there is a **NULL** DACL or an ACL that allows access to Everyone.</span></span> <span data-ttu-id="771a0-110">Se il controllo ha esito positivo, viene avviato il server.</span><span class="sxs-lookup"><span data-stu-id="771a0-110">If this check succeeds, the server is launched.</span></span> <span data-ttu-id="771a0-111">Pertanto, anche se il client non specifica una struttura **COAUTHINFO**, l'attivazione non sicura potrebbe verificarsi quando il server lo consente.</span><span class="sxs-lookup"><span data-stu-id="771a0-111">Therefore, even if the client does not specify a **COAUTHINFO** structure, unsecure activation may take place when the server allows it.</span></span>

> [!Note]  
> <span data-ttu-id="771a0-112">Per consentire agli utenti di rete non autenticati di eseguire un'applicazione COM, i ruoli applicazione devono includere l'utente anonimo.</span><span class="sxs-lookup"><span data-stu-id="771a0-112">To allow unauthenticated network users to run a COM application, the application roles must include the Anonymous user.</span></span> <span data-ttu-id="771a0-113">A partire da Windows Server 2003, per impostazione predefinita, l'utente anonimo non è incluso nel gruppo Everyone.</span><span class="sxs-lookup"><span data-stu-id="771a0-113">Starting with Windows Server 2003, by default, the Anonymous user is not included in the Everyone group.</span></span>

 

<span data-ttu-id="771a0-114">Perché un client desidera disattivare la sicurezza dell'attivazione in modo esplicito anche se l'attivazione non sicura verrà eseguita se il server lo consente?</span><span class="sxs-lookup"><span data-stu-id="771a0-114">Why would a client want to turn off activation security explicitly even though unsecure activation will eventually take place if the server allows it?</span></span> <span data-ttu-id="771a0-115">Poiché la disattivazione esplicita della sicurezza dell'attivazione aumenta le prestazioni quando il client non desidera o non necessita di controlli di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="771a0-115">Because explicitly turning off activation security increases performance when the client does not want or need security checks.</span></span>

<span data-ttu-id="771a0-116">Per disattivare esplicitamente la sicurezza di attivazione, è necessario eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="771a0-116">The following things must be done to explicitly turn off activation security:</span></span>

-   <span data-ttu-id="771a0-117">Il client deve specificare un livello di autenticazione del \_ \_ livello auth C AuthN \_ \_ nella struttura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) che è un membro della struttura [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) fornita alla funzione Activation.</span><span class="sxs-lookup"><span data-stu-id="771a0-117">The client must specify an authentication level of RPC\_C\_AUTHN\_LEVEL\_NONE in the [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure that is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure supplied to the activation function.</span></span>
-   <span data-ttu-id="771a0-118">Il client deve specificare un livello di rappresentazione di RPC \_ C \_ Imp \_ level \_ Impersonate nella struttura [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) che è un membro della struttura [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) fornita alla funzione Activation.</span><span class="sxs-lookup"><span data-stu-id="771a0-118">The client must specify an impersonation level of RPC\_C\_IMP\_LEVEL\_IMPERSONATE in the [**COAUTHINFO**](/windows/desktop/api/wtypesbase/ns-wtypesbase-coauthinfo) structure that is a member of the [**COSERVERINFO**](/windows/win32/api/objidlbase/ns-objidlbase-coserverinfo) structure supplied to the activation function.</span></span> <span data-ttu-id="771a0-119">Se questo valore non viene passato, si otterrà il \_ server RPC \_ non \_ disponibile.</span><span class="sxs-lookup"><span data-stu-id="771a0-119">If this value is not passed, you will get RPC\_S\_SERVER\_UNAVAILABLE.</span></span>
-   <span data-ttu-id="771a0-120">Il server deve specificare **tutti gli utenti** per le **autorizzazioni di avvio predefinite**.</span><span class="sxs-lookup"><span data-stu-id="771a0-120">The server must specify **Everyone** for **Default Launch Permissions**.</span></span> <span data-ttu-id="771a0-121">Il metodo consigliato per eseguire questa attività consiste nell'usare Dcomcnfg.exe come indicato di seguito:</span><span class="sxs-lookup"><span data-stu-id="771a0-121">The recommended way to perform this task is to use Dcomcnfg.exe as follows:</span></span>
    1.  <span data-ttu-id="771a0-122">Eseguire Dcomcnfg.exe.</span><span class="sxs-lookup"><span data-stu-id="771a0-122">Run Dcomcnfg.exe.</span></span>
    2.  <span data-ttu-id="771a0-123">Nella pagina **applicazioni** selezionare l'applicazione che rappresenta il server.</span><span class="sxs-lookup"><span data-stu-id="771a0-123">On the **Applications** page, select the application that represents the server.</span></span> <span data-ttu-id="771a0-124">Fare clic sul pulsante delle **Proprietà** (o fare doppio clic sull'applicazione selezionata).</span><span class="sxs-lookup"><span data-stu-id="771a0-124">Click the **Properties** button (or double-click the selected application).</span></span>
    3.  <span data-ttu-id="771a0-125">Nella pagina delle proprietà **sicurezza** , fare clic sul pulsante **Usa autorizzazioni di avvio personalizzate** .</span><span class="sxs-lookup"><span data-stu-id="771a0-125">On the **Security** property page, click the **Use Custom Launch Permissions** button.</span></span>
    4.  <span data-ttu-id="771a0-126">Fare clic sul pulsante **modifica** nell'area **autorizzazioni di avvio** .</span><span class="sxs-lookup"><span data-stu-id="771a0-126">Click the **Edit** button in the **Launch Permissions** area.</span></span>
    5.  <span data-ttu-id="771a0-127">Nella finestra di dialogo **autorizzazioni valore registro di sistema** fare clic sul pulsante **Aggiungi** .</span><span class="sxs-lookup"><span data-stu-id="771a0-127">In the **Registry Value Permissions** dialog box, click the **Add** button.</span></span>
    6.  <span data-ttu-id="771a0-128">Selezionare la voce **tutti** nella casella di riepilogo.</span><span class="sxs-lookup"><span data-stu-id="771a0-128">Select the entry for **Everyone** in the list box.</span></span>
    7.  <span data-ttu-id="771a0-129">Nella casella **di riepilogo tipo di accesso** scegliere **Consenti avvio**.</span><span class="sxs-lookup"><span data-stu-id="771a0-129">In the **Type of Access** list box, choose **Allow Launch**.</span></span>
    8.  <span data-ttu-id="771a0-130">Fare clic sul pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="771a0-130">Click the **OK** button.</span></span>

> [!Note]  
> <span data-ttu-id="771a0-131">In Windows Server 2003, la funzionalità di autenticazione per l'applicazione di sistema COM+ include il valore EOAC \_ Disable \_ AAA.</span><span class="sxs-lookup"><span data-stu-id="771a0-131">In Windows Server 2003, the authentication capability for the COM+ system application includes the value EOAC\_DISABLE\_AAA.</span></span> <span data-ttu-id="771a0-132">Questo valore, che disabilita le attivazioni di Activate-As-Activator (AAA), viene usato nella chiamata [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) quando viene avviata l'applicazione di sistema.</span><span class="sxs-lookup"><span data-stu-id="771a0-132">This value, which disables activate-as-activator (AAA) activations, is used in the [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) call when launching the system application.</span></span> <span data-ttu-id="771a0-133">Impostando la funzionalità di autenticazione su EOAC \_ Disable AAA è possibile consentire a \_ un'applicazione in esecuzione con un account con privilegi, ad esempio LocalSystem, di impedire l'utilizzo dell'identità per l'avvio di componenti non attendibili.</span><span class="sxs-lookup"><span data-stu-id="771a0-133">Setting the authentication capability to EOAC\_DISABLE\_AAA allows an application that runs under a privileged account (such as LocalSystem) to help prevent its identity from being used to launch untrusted components.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="771a0-134">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="771a0-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="771a0-135">Disattivazione della sicurezza delle chiamate</span><span class="sxs-lookup"><span data-stu-id="771a0-135">Turning Off Call Security</span></span>](turning-off-call-security.md)
</dt> </dl>

 

 