---
description: Questo argomento non è aggiornato. Per informazioni aggiornate, vedere la specifica dello schema di stampa.
ms.assetid: 4698f151-2237-4d16-b32f-4d15024cd063
title: Elenco di controllo convalida PrintTicket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 160a0e9f3eb71b1e9a3b670456e04e2efa3c8b15
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/05/2021
ms.locfileid: "106320954"
---
# <a name="printticket-validation-checklist"></a><span data-ttu-id="a981b-104">Elenco di controllo convalida PrintTicket</span><span class="sxs-lookup"><span data-stu-id="a981b-104">PrintTicket Validation Checklist</span></span>

<span data-ttu-id="a981b-105">Questo argomento non è aggiornato.</span><span class="sxs-lookup"><span data-stu-id="a981b-105">This topic is not current.</span></span> <span data-ttu-id="a981b-106">Per informazioni aggiornate, vedere la [specifica dello schema di stampa](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="a981b-106">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="a981b-107">I provider PrintTicket devono convalidare l'oggetto PrintTicket prima di utilizzarlo per qualsiasi scopo.</span><span class="sxs-lookup"><span data-stu-id="a981b-107">PrintTicket providers must validate the PrintTicket prior to using it for any purpose.</span></span> <span data-ttu-id="a981b-108">Una volta convalidata, l'oggetto PrintTicket può essere restituito al client o può essere rimosso dopo l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="a981b-108">After the PrintTicket is validated, it may be returned to the client, or it may be discarded after use.</span></span> <span data-ttu-id="a981b-109">In questo elenco di controllo vengono illustrate le attività che il provider deve eseguire durante la convalida.</span><span class="sxs-lookup"><span data-stu-id="a981b-109">This checklist covers the tasks the provider must perform during validation.</span></span> <span data-ttu-id="a981b-110">Il processo di convalida modificherà spesso il contenuto dell'oggetto PrintTicket, sebbene non alteri un oggetto PrintTicket precedentemente convalidato.</span><span class="sxs-lookup"><span data-stu-id="a981b-110">The validation process will frequently alter the content of the PrintTicket, although it will not alter a previously-validated PrintTicket.</span></span>

<span data-ttu-id="a981b-111">La convalida viene sempre eseguita su un dispositivo specifico che include un set di istanze di funzionalità, opzioni e ParameterDef definite in un documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-111">Validation is always performed against a specific device that has a set of Feature, Option and ParameterDef instances defined in a PrintCapabilities document.</span></span> <span data-ttu-id="a981b-112">Il codice di convalida deve avere accesso al set di istanze della funzionalità (e alle istanze di opzioni contenute) e alle istanze di ParameterDef per il dispositivo specifico e non deve necessariamente accedere a PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-112">The validation code should have access to the set of Feature instances (and the contained Option instances) and ParameterDef instances for the specific device, and should not need to access the PrintCapabilities.</span></span> <span data-ttu-id="a981b-113">Le informazioni dalle istanze feature, Option e ParameterDef sono necessarie in determinate parti del processo di convalida.</span><span class="sxs-lookup"><span data-stu-id="a981b-113">The information from the Feature, Option, and ParameterDef instances is needed in certain parts of the validation process.</span></span>

1.  <span data-ttu-id="a981b-114">Durante i tentativi di individuare gli elementi corrispondenti o corrispondenti, si noti che gli spazi dei nomi degli elementi devono corrispondere prima che qualsiasi nome completo possa essere considerato una corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="a981b-114">During attempts to locate corresponding or matching elements, note that the namespaces of the elements must match before any Qualified Name can be considered a match.</span></span> <span data-ttu-id="a981b-115">Tutti i nomi degli elementi, i nomi degli attributi e i nomi delle istanze sono qualificati con lo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="a981b-115">All element names, Attribute names, and instance names are namespace-qualified.</span></span> <span data-ttu-id="a981b-116">Per gli elementi annidati, le rispettive posizioni devono corrispondere prima che gli elementi vengano considerati corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="a981b-116">For elements that are nested, their locations must match before the elements are considered a match.</span></span>

2.  <span data-ttu-id="a981b-117">Verificare che tutti i tag degli elementi si trovino nello spazio dei nomi Public, che siano definiti dallo schema PrintTicket, che contengano gli attributi XML appropriati e i valori di attributo e che la posizione di ogni tipo di elemento sia conforme all'utilizzo definito dallo schema PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-117">Verify that all element tags are in the public namespace, are defined by the PrintTicket Schema, contain the proper XML Attributes and Attribute Values, and that the location of each element type conforms to the PrintTicket Schema-defined usage.</span></span>

3.  <span data-ttu-id="a981b-118">Determinare tutti gli spazi dei nomi restituiti dal documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-118">Determine all namespaces reported by PrintCapabilities document.</span></span> <span data-ttu-id="a981b-119">Rimuovere tutti gli elementi (e i relativi discendenti) da PrintTicket i cui nomi di istanza appartengono agli spazi dei nomi non segnalati dal documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-119">Remove all elements (and their descendants) from the PrintTicket whose instance names belong to namespaces not reported by PrintCapabilities document.</span></span> <span data-ttu-id="a981b-120">Si noti la differenza tra questo caso e il caso seguente, che prevede nomi di istanza non riconosciuti all'interno di uno spazio dei nomi noto.</span><span class="sxs-lookup"><span data-stu-id="a981b-120">Note the difference between this case and the following case, which involves unrecognized instance names within a known namespace.</span></span>

4.  <span data-ttu-id="a981b-121">Poiché gli schemi vengono continuamente estesi con l'aggiunta di nuove definizioni di istanza dell'elemento, il codice di convalida non deve essere scritto nel presupposto che ogni nome di istanza in uno spazio dei nomi specificato sia noto.</span><span class="sxs-lookup"><span data-stu-id="a981b-121">Due to the fact that the schemas are continually being extended with the addition of new element instance definitions, the validation code should not be written under the assumption that every instance name in a given namespace is known.</span></span> <span data-ttu-id="a981b-122">Il codice di convalida non può considerare i nomi di istanza non riconosciuti all'interno di uno spazio dei nomi noto come errori, né eliminarli dall'oggetto PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-122">The validation code cannot treat unrecognized instance names within a known namespace as errors, nor can it delete them from the PrintTicket.</span></span>

5.  <span data-ttu-id="a981b-123">Se un'istanza dell'elemento ha un elemento di pari livello duplicato non consentito dallo schema PrintTicket, conserva solo la prima occorrenza ed Elimina i duplicati, incluso il contenuto dell'elemento duplicato.</span><span class="sxs-lookup"><span data-stu-id="a981b-123">If any element instance has a duplicate sibling that is not permitted by the PrintTicket Schema, keep only the first occurrence and delete the duplicates, including the contents of the duplicated element.</span></span>

6.  <span data-ttu-id="a981b-124">Rimuovere da PrintTicket qualsiasi funzionalità o sottofunzionalità (e tutti i relativi elementi figlio) che non dispone di funzionalità corrispondenti nel documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-124">Remove from the PrintTicket any Feature or subfeature (and all its children) that has no corresponding Feature in the PrintCapabilities document.</span></span>

7.  <span data-ttu-id="a981b-125">Controllare la proprietà SelectionType definita nel documento PrintCapabilities per ognuna delle istanze della funzionalità rimanenti nel PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-125">Check the SelectionType Property defined in the PrintCapabilities document for each of the remaining Feature instances in the PrintTicket.</span></span> <span data-ttu-id="a981b-126">Tutte le funzionalità la cui proprietà SelectionType è impostata su PickOne devono avere una sola istanza di opzioni presente nell'oggetto PrintTicket, mentre una funzionalità la cui proprietà SelectionType è PickMany può avere più di una.</span><span class="sxs-lookup"><span data-stu-id="a981b-126">Any Feature whose SelectionType Property is set to PickOne must have exactly one Option instance present in the PrintTicket, while a Feature whose SelectionType Property is PickMany may have more than one.</span></span> <span data-ttu-id="a981b-127">Se una funzionalità PrintTicket non dispone di un'istanza di opzione, fornire l'istanza dell'opzione predefinita.</span><span class="sxs-lookup"><span data-stu-id="a981b-127">If a PrintTicket Feature has no Option instance, supply the default Option instance.</span></span> <span data-ttu-id="a981b-128">Poiché si è il provider, si sa quale opzione è l'opzione predefinita per ogni funzionalità.</span><span class="sxs-lookup"><span data-stu-id="a981b-128">Since you are the provider, you know which Option is the default Option for every Feature.</span></span>

    <span data-ttu-id="a981b-129">Per una funzionalità la cui proprietà SelectionType è PickMany, con più di un'opzione selezionata in PrintTicket, verificare che nessuna opzione sia designata come IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="a981b-129">For a Feature whose SelectionType Property is PickMany, with more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="a981b-130">Se è presente, eliminare tutte le altre opzioni lasciando solo quello designato come IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="a981b-130">If there is, delete every other Option, leaving only the one designated IdentityOption.</span></span>

8.  <span data-ttu-id="a981b-131">Rimuovere qualsiasi istanza di ParameterInit nell'oggetto PrintTicket che non dispone di un'istanza ParameterDef corrispondente nel documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-131">Remove any ParameterInit instance in the PrintTicket that has no corresponding ParameterDef instance in the PrintCapabilities document.</span></span>

    <span data-ttu-id="a981b-132">Per tutte le altre istanze di ParameterInit nell'oggetto PrintTicket, verificare che il valore per ogni istanza sia conforme all'istanza ParameterDef del documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-132">For any other ParameterInit instances in the PrintTicket, verify that the Value for each conforms to the PrintCapabilities document's ParameterDef instance.</span></span> <span data-ttu-id="a981b-133">Se non è presente un valore, specificare il valore predefinito fornito in ParameterDef.</span><span class="sxs-lookup"><span data-stu-id="a981b-133">If a Value is missing, supply the default that is provided in the ParameterDef.</span></span>

9.  <span data-ttu-id="a981b-134">Associare ogni istanza di opzione nel PrintTicket con un'opzione elencata nella funzionalità corrispondente del documento PrintCapabilities, in base ai risultati del processo di assegnazione dei punteggi.</span><span class="sxs-lookup"><span data-stu-id="a981b-134">Pair each Option instance in the PrintTicket with an Option listed in the corresponding Feature in the PrintCapabilities document, based on the results of the scoring process.</span></span> <span data-ttu-id="a981b-135">Il Punteggio è il processo di ricerca dell'opzione nel documento PrintCapabilities che corrisponde maggiormente all'opzione denominata nell'oggetto PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-135">Scoring is the process of finding the Option in the PrintCapabilities document that best matches the Option named in the PrintTicket.</span></span> <span data-ttu-id="a981b-136">Per una descrizione degli elementi presi in considerazione durante il processo di assegnazione dei punteggi, vedere [definizioni delle opzioni](option-definitions.md).</span><span class="sxs-lookup"><span data-stu-id="a981b-136">For a description of what is taken into account during the scoring process, see [Option Definitions](option-definitions.md).</span></span> <span data-ttu-id="a981b-137">Sostituire ogni opzione di riferimento nell'oggetto PrintTicket con l'opzione corrispondente al documento PrintCapabilities corrispondente.</span><span class="sxs-lookup"><span data-stu-id="a981b-137">Replace each reference Option in the PrintTicket by the corresponding best matching candidate PrintCapabilities document Option.</span></span> <span data-ttu-id="a981b-138">È anche possibile classificare tutti i candidati per punteggio e passare queste informazioni alla fase di risoluzione nel caso in cui un conflitto di vincoli impedisca l'uso del candidato corrispondente.</span><span class="sxs-lookup"><span data-stu-id="a981b-138">You may also rank all of the candidates by score and pass this information on to the resolving stage in case a constraint conflict prevents the best matching candidate from being used.</span></span> <span data-ttu-id="a981b-139">In questi casi, il processo di risoluzione può utilizzare il secondo candidato migliore anziché scegliere un altro candidato in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="a981b-139">In such cases, the resolving process can use the second-best candidate rather than pick another candidate at random.</span></span>

10. <span data-ttu-id="a981b-140">Per una funzionalità la cui proprietà SelectionType è impostata su PickMany e con più di un'opzione selezionata nel PrintTicket, verificare che nessuna opzione sia designata come IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="a981b-140">For a Feature whose SelectionType Property is set to PickMany, and that has more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="a981b-141">Se esiste un'opzione di questo tipo, eliminare tutte le altre opzioni lasciando solo quella designata IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="a981b-141">If such an Option exists, delete every other Option, leaving only the one designated IdentityOption.</span></span> <span data-ttu-id="a981b-142">Questo passaggio deve essere eseguito prima e dopo l'applicazione del processo di assegnazione dei punteggi.</span><span class="sxs-lookup"><span data-stu-id="a981b-142">This step must be performed before and after the scoring process is applied.</span></span>

    <span data-ttu-id="a981b-143">Il motivo per cui questo passaggio deve essere eseguito due volte è che il processo di assegnazione dei punteggi può eseguire il mapping di più istanze di opzioni di riferimento alla stessa opzione candidata.</span><span class="sxs-lookup"><span data-stu-id="a981b-143">The reason that this step must be performed twice is that it is possible for the scoring process to map multiple reference Option instances to the same candidate Option.</span></span> <span data-ttu-id="a981b-144">In tal caso, eliminare eventuali istanze di opzioni duplicate in modo che le opzioni elencate per una particolare funzionalità PickMany siano univoche.</span><span class="sxs-lookup"><span data-stu-id="a981b-144">If that happens, delete any duplicate Option instances so that the Options listed for a particular PickMany Feature are unique.</span></span>

11. <span data-ttu-id="a981b-145">Aggiungere all'oggetto PrintTicket le funzionalità presenti nel documento PrintCapabilities che non vengono visualizzate nell'oggetto PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-145">Add to the PrintTicket any Feature present in the PrintCapabilities document that does not appear in the PrintTicket.</span></span> <span data-ttu-id="a981b-146">Per questa funzionalità, impostare l'opzione predefinita come opzione selezionata.</span><span class="sxs-lookup"><span data-stu-id="a981b-146">For such a Feature, designate the default Option as the selected Option.</span></span>

12. <span data-ttu-id="a981b-147">Determinare se sono presenti istanze di ParameterDef che soddisfano tutti i criteri seguenti:</span><span class="sxs-lookup"><span data-stu-id="a981b-147">Determine whether there are any ParameterDef instances that meet all of the following criteria:</span></span>

    -   <span data-ttu-id="a981b-148">L'istanza ParameterDef viene visualizzata nel documento PrintCapabilities, ma non nel PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-148">The ParameterDef instance appears in the PrintCapabilities document, but not in the PrintTicket.</span></span>

    -   <span data-ttu-id="a981b-149">La proprietà obbligatoria dell'istanza ParameterDef è impostata su non condizionale o condizionale.</span><span class="sxs-lookup"><span data-stu-id="a981b-149">The Mandatory Property of the ParameterDef instance is set to either Unconditional or Conditional.</span></span>

    -   <span data-ttu-id="a981b-150">Un'istanza di ParameterDef fa riferimento all'istanza di ParameterRef in un oggetto PrintTicket all'interno di un'istanza di Option.</span><span class="sxs-lookup"><span data-stu-id="a981b-150">The ParameterDef instance is referenced by a ParameterRef instance in the PrintTicket within an Option instance.</span></span>

    <span data-ttu-id="a981b-151">Per ogni istanza di ParameterDef nel documento PrintCapabilities, aggiungere all'oggetto PrintTicket un'istanza di ParameterInit corrispondente.</span><span class="sxs-lookup"><span data-stu-id="a981b-151">For each such ParameterDef instance in the PrintCapabilities document, add to the PrintTicket a corresponding ParameterInit instance.</span></span> <span data-ttu-id="a981b-152">Impostare il valore delle istanze di ParameterInit appena aggiunte sul valore predefinito specificato dalle istanze ParameterDef corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="a981b-152">Set the Value of the newly added ParameterInit instances to the default Value specified by the corresponding ParameterDef instances.</span></span>

13. <span data-ttu-id="a981b-153">Eseguire il rilevamento dei conflitti di vincolo e modificare la configurazione per eliminare questi conflitti.</span><span class="sxs-lookup"><span data-stu-id="a981b-153">Perform constraint conflict detection and modify the configuration to eliminate any such conflicts.</span></span> <span data-ttu-id="a981b-154">Questo argomento non definisce un processo specifico da usare per risolvere i conflitti di vincolo.</span><span class="sxs-lookup"><span data-stu-id="a981b-154">This topic does not define a particular process to use to resolve constraint conflicts.</span></span> <span data-ttu-id="a981b-155">È necessario decidere la funzionalità o l'istanza di ParameterInit che è possibile modificare e un'opzione o un valore appropriato, rispettivamente, per selezionare che ha un effetto minimo sulla finalità complessiva della configurazione specificata nel PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-155">You need to decide which Feature or ParameterInit instance can be changed, and an appropriate Option or Value, respectively, to select that has the least impact on the overall intent of the configuration specified in the PrintTicket.</span></span> <span data-ttu-id="a981b-156">Come indicato in precedenza, si potrebbe voler usare il Punteggio di mapping di ogni opzione e usare l'opzione con il secondo punteggio più alto.</span><span class="sxs-lookup"><span data-stu-id="a981b-156">As mentioned earlier, you might wish to make use of the mapping score of each Option, and use the Option with the second highest score.</span></span> <span data-ttu-id="a981b-157">Per determinare la funzionalità o il ParameterInit da modificare, è possibile definire una proprietà privata che il client può aggiungere al PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-157">To determine which Feature or ParameterInit to change, you might want to define a private Property that the client can add to the PrintTicket.</span></span> <span data-ttu-id="a981b-158">Questa proprietà può definire una priorità per le istanze feature e ParameterInit, in modo che il processo del resolver venga informato delle istanze feature o ParameterInit importanti per il client (e deve essere mantenuto nell'oggetto PrintTicket) e quali sono meno importanti.</span><span class="sxs-lookup"><span data-stu-id="a981b-158">This Property can define a priority for Feature and ParameterInit instances so that the resolver process is informed of which Feature or ParameterInit instances are important to the client (and need to be preserved in the PrintTicket), and which are less important.</span></span>

14. <span data-ttu-id="a981b-159">Se il processo di risoluzione dei vincoli ha causato modifiche in PrintTicket a qualsiasi istanza di ParameterRef per la quale la proprietà obbligatoria è impostata su Conditional, aggiungere istanze di ParameterInit con i valori predefiniti per quelle che ora appaiono e rimuovere qualsiasi istanza di ParameterInit per un'istanza di ParameterRef che non viene più visualizzata.</span><span class="sxs-lookup"><span data-stu-id="a981b-159">If the constraint resolution process has caused changes in the PrintTicket to any ParameterRef instances for which the Mandatory Property is set to Conditional, add ParameterInit instances with default Values for those that now appear, and remove any ParameterInit instance for a ParameterRef instance that no longer appears.</span></span>

15. <span data-ttu-id="a981b-160">Rimuovere tutte le istanze di proprietà e il relativo contenuto presenti all'interno delle istanze di opzioni nell'oggetto PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-160">Remove all Property instances and their contents that appear within Option instances in the PrintTicket.</span></span> <span data-ttu-id="a981b-161">Gli elementi Property non hanno alcun ruolo nell'oggetto PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="a981b-161">Property elements have no role in the PrintTicket.</span></span> <span data-ttu-id="a981b-162">Se l'opzione convalidata per una particolare funzionalità corrisponde perfettamente all'opzione prevalidata, trasferire tutte le istanze di proprietà in tale opzione dall'oggetto PrintTicket di preconvalida al PrintTicket ora convalidato, in base alla condizione in cui gli spazi dei nomi delle istanze di proprietà vengono registrati nel documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="a981b-162">If the validated Option for a particular Feature perfectly matches the prevalidated Option, transfer all of the Property instances in that Option from the prevalidation PrintTicket to the now-validated PrintTicket, subject to the condition that namespaces of Property instances are registered in the PrintCapabilities document.</span></span> <span data-ttu-id="a981b-163">Si noti che per due istanze di opzioni da considerare come una corrispondenza perfetta, per ogni ScoredProperty trovato in un'opzione, deve essere presente un ScoredProperty corrispondente nell'altra opzione e i valori di entrambe le istanze di ScoredProperty devono essere uguali.</span><span class="sxs-lookup"><span data-stu-id="a981b-163">Note that for two Option instances to be considered a perfect match, for every ScoredProperty found in one Option, there must be a corresponding ScoredProperty in the other Option, and the Values of both ScoredProperty instances must be the same.</span></span>

16. <span data-ttu-id="a981b-164">Se il provider PrintTicket riconosce e supporta le istanze di proprietà private o pubbliche che sono sopravvissute a questo punto, eseguire la convalida su di essi.</span><span class="sxs-lookup"><span data-stu-id="a981b-164">If your PrintTicket provider recognizes and supports any private or public Property instances that have survived to this point, perform validation on them.</span></span> <span data-ttu-id="a981b-165">Non eliminare una proprietà in questa fase solo perché non è riconosciuta, potrebbe essere destinata a un'altra fase dell'elaborazione dei documenti.</span><span class="sxs-lookup"><span data-stu-id="a981b-165">Do not delete a Property at this point just because you do not recognize it, it might be intended for another phase of document processing.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a981b-166">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="a981b-166">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a981b-167">Specifica dello schema di stampa</span><span class="sxs-lookup"><span data-stu-id="a981b-167">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



