---
description: Esaminare l'elenco di controllo per la convalida di PrintTicket. Questo argomento non è corrente. Per le informazioni più aggiornate, vedere Specifica dello schema di stampa.
ms.assetid: 4698f151-2237-4d16-b32f-4d15024cd063
title: Elenco di controllo per la convalida di PrintTicket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6154b7cabb5825a0f0edcc8f90b8294557001f1a
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120146"
---
# <a name="printticket-validation-checklist"></a><span data-ttu-id="d1b07-105">Elenco di controllo per la convalida di PrintTicket</span><span class="sxs-lookup"><span data-stu-id="d1b07-105">PrintTicket Validation Checklist</span></span>

<span data-ttu-id="d1b07-106">Questo argomento non è corrente.</span><span class="sxs-lookup"><span data-stu-id="d1b07-106">This topic is not current.</span></span> <span data-ttu-id="d1b07-107">Per le informazioni più aggiornate, vedere Specifica [dello schema di stampa](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="d1b07-107">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="d1b07-108">I provider PrintTicket devono convalidare PrintTicket prima di usarlo per qualsiasi scopo.</span><span class="sxs-lookup"><span data-stu-id="d1b07-108">PrintTicket providers must validate the PrintTicket prior to using it for any purpose.</span></span> <span data-ttu-id="d1b07-109">Dopo la convalida, PrintTicket può essere restituito al client oppure può essere eliminato dopo l'uso.</span><span class="sxs-lookup"><span data-stu-id="d1b07-109">After the PrintTicket is validated, it may be returned to the client, or it may be discarded after use.</span></span> <span data-ttu-id="d1b07-110">Questo elenco di controllo illustra le attività che il provider deve eseguire durante la convalida.</span><span class="sxs-lookup"><span data-stu-id="d1b07-110">This checklist covers the tasks the provider must perform during validation.</span></span> <span data-ttu-id="d1b07-111">Il processo di convalida modificherà spesso il contenuto di PrintTicket, anche se non modificherà un PrintTicket convalidato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="d1b07-111">The validation process will frequently alter the content of the PrintTicket, although it will not alter a previously-validated PrintTicket.</span></span>

<span data-ttu-id="d1b07-112">La convalida viene sempre eseguita su un dispositivo specifico con un set di istanze Feature, Option e ParameterDef definite in un documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-112">Validation is always performed against a specific device that has a set of Feature, Option and ParameterDef instances defined in a PrintCapabilities document.</span></span> <span data-ttu-id="d1b07-113">Il codice di convalida deve avere accesso al set di istanze Feature (e alle istanze Option contenute) e ParameterDef per il dispositivo specifico e non deve accedere a PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-113">The validation code should have access to the set of Feature instances (and the contained Option instances) and ParameterDef instances for the specific device, and should not need to access the PrintCapabilities.</span></span> <span data-ttu-id="d1b07-114">Le informazioni delle istanze Feature, Option e ParameterDef sono necessarie in determinate parti del processo di convalida.</span><span class="sxs-lookup"><span data-stu-id="d1b07-114">The information from the Feature, Option, and ParameterDef instances is needed in certain parts of the validation process.</span></span>

1.  <span data-ttu-id="d1b07-115">Durante i tentativi di individuare gli elementi corrispondenti o corrispondenti, si noti che gli spazi dei nomi degli elementi devono corrispondere prima che qualsiasi nome completo possa essere considerato una corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="d1b07-115">During attempts to locate corresponding or matching elements, note that the namespaces of the elements must match before any Qualified Name can be considered a match.</span></span> <span data-ttu-id="d1b07-116">Tutti i nomi degli elementi, i nomi degli attributi e i nomi di istanza sono qualificati per lo spazio dei nomi.</span><span class="sxs-lookup"><span data-stu-id="d1b07-116">All element names, Attribute names, and instance names are namespace-qualified.</span></span> <span data-ttu-id="d1b07-117">Per gli elementi annidati, le relative posizioni devono corrispondere prima che gli elementi siano considerati corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="d1b07-117">For elements that are nested, their locations must match before the elements are considered a match.</span></span>

2.  <span data-ttu-id="d1b07-118">Verificare che tutti i tag di elemento siano nello spazio dei nomi pubblico, siano definiti dallo schema PrintTicket, contengano gli attributi XML e i valori degli attributi appropriati e che la posizione di ogni tipo di elemento sia conforme all'utilizzo definito dallo schema PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-118">Verify that all element tags are in the public namespace, are defined by the PrintTicket Schema, contain the proper XML Attributes and Attribute Values, and that the location of each element type conforms to the PrintTicket Schema-defined usage.</span></span>

3.  <span data-ttu-id="d1b07-119">Determinare tutti gli spazi dei nomi segnalati dal documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-119">Determine all namespaces reported by PrintCapabilities document.</span></span> <span data-ttu-id="d1b07-120">Rimuovere tutti gli elementi (e i relativi discendenti) da PrintTicket i cui nomi di istanza appartengono a spazi dei nomi non segnalati dal documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-120">Remove all elements (and their descendants) from the PrintTicket whose instance names belong to namespaces not reported by PrintCapabilities document.</span></span> <span data-ttu-id="d1b07-121">Si noti la differenza tra questo caso e il caso seguente, che comporta nomi di istanza non riconosciuti all'interno di uno spazio dei nomi noto.</span><span class="sxs-lookup"><span data-stu-id="d1b07-121">Note the difference between this case and the following case, which involves unrecognized instance names within a known namespace.</span></span>

4.  <span data-ttu-id="d1b07-122">Poiché gli schemi vengono continuamente estesi con l'aggiunta di nuove definizioni di istanza di elemento, il codice di convalida non deve essere scritto presupponendo che ogni nome di istanza in un determinato spazio dei nomi sia noto.</span><span class="sxs-lookup"><span data-stu-id="d1b07-122">Due to the fact that the schemas are continually being extended with the addition of new element instance definitions, the validation code should not be written under the assumption that every instance name in a given namespace is known.</span></span> <span data-ttu-id="d1b07-123">Il codice di convalida non può considerare come errori i nomi di istanza non riconosciuti all'interno di uno spazio dei nomi noto né eliminarli da PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-123">The validation code cannot treat unrecognized instance names within a known namespace as errors, nor can it delete them from the PrintTicket.</span></span>

5.  <span data-ttu-id="d1b07-124">Se un'istanza di elemento ha un elemento di pari livello duplicato non consentito dallo schema PrintTicket, mantenere solo la prima occorrenza ed eliminare i duplicati, incluso il contenuto dell'elemento duplicato.</span><span class="sxs-lookup"><span data-stu-id="d1b07-124">If any element instance has a duplicate sibling that is not permitted by the PrintTicket Schema, keep only the first occurrence and delete the duplicates, including the contents of the duplicated element.</span></span>

6.  <span data-ttu-id="d1b07-125">Rimuovere da PrintTicket qualsiasi funzionalità o funzionalità secondaria (e tutti i relativi elementi figlio) senza funzionalità corrispondente nel documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-125">Remove from the PrintTicket any Feature or subfeature (and all its children) that has no corresponding Feature in the PrintCapabilities document.</span></span>

7.  <span data-ttu-id="d1b07-126">Controllare la proprietà SelectionType definita nel documento PrintCapabilities per ognuna delle istanze di Feature rimanenti in PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-126">Check the SelectionType Property defined in the PrintCapabilities document for each of the remaining Feature instances in the PrintTicket.</span></span> <span data-ttu-id="d1b07-127">Qualsiasi funzionalità la cui proprietà SelectionType è impostata su PickOne deve avere esattamente un'istanza Option presente in PrintTicket, mentre una funzionalità la cui proprietà SelectionType è PickMany può avere più di una.</span><span class="sxs-lookup"><span data-stu-id="d1b07-127">Any Feature whose SelectionType Property is set to PickOne must have exactly one Option instance present in the PrintTicket, while a Feature whose SelectionType Property is PickMany may have more than one.</span></span> <span data-ttu-id="d1b07-128">Se per una funzionalità PrintTicket non è presente un'istanza Option, specificare l'istanza predefinita di Option.</span><span class="sxs-lookup"><span data-stu-id="d1b07-128">If a PrintTicket Feature has no Option instance, supply the default Option instance.</span></span> <span data-ttu-id="d1b07-129">Poiché si è il provider, si sa quale opzione è l'opzione predefinita per ogni funzionalità.</span><span class="sxs-lookup"><span data-stu-id="d1b07-129">Since you are the provider, you know which Option is the default Option for every Feature.</span></span>

    <span data-ttu-id="d1b07-130">Per una funzionalità la cui proprietà SelectionType è PickMany, con più opzioni selezionate in PrintTicket, verificare che nessuna opzione sia designata come IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="d1b07-130">For a Feature whose SelectionType Property is PickMany, with more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="d1b07-131">In caso contrario, eliminare ogni altra opzione, lasciando solo quella designata IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="d1b07-131">If there is, delete every other Option, leaving only the one designated IdentityOption.</span></span>

8.  <span data-ttu-id="d1b07-132">Rimuovere qualsiasi istanza ParameterInit in PrintTicket che non dispone di alcuna istanza ParameterDef corrispondente nel documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-132">Remove any ParameterInit instance in the PrintTicket that has no corresponding ParameterDef instance in the PrintCapabilities document.</span></span>

    <span data-ttu-id="d1b07-133">Per qualsiasi altra istanza ParameterInit in PrintTicket, verificare che il valore di ogni sia conforme all'istanza ParameterDef del documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-133">For any other ParameterInit instances in the PrintTicket, verify that the Value for each conforms to the PrintCapabilities document's ParameterDef instance.</span></span> <span data-ttu-id="d1b07-134">Se manca un valore, specificare il valore predefinito specificato in ParameterDef.</span><span class="sxs-lookup"><span data-stu-id="d1b07-134">If a Value is missing, supply the default that is provided in the ParameterDef.</span></span>

9.  <span data-ttu-id="d1b07-135">Associare ogni istanza Option in PrintTicket a un'opzione elencata nella funzionalità corrispondente nel documento PrintCapabilities, in base ai risultati del processo di assegnazione dei punteggi.</span><span class="sxs-lookup"><span data-stu-id="d1b07-135">Pair each Option instance in the PrintTicket with an Option listed in the corresponding Feature in the PrintCapabilities document, based on the results of the scoring process.</span></span> <span data-ttu-id="d1b07-136">L'assegnazione dei punteggi è il processo di ricerca dell'opzione nel documento PrintCapabilities che meglio corrisponde all'opzione denominata in PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-136">Scoring is the process of finding the Option in the PrintCapabilities document that best matches the Option named in the PrintTicket.</span></span> <span data-ttu-id="d1b07-137">Per una descrizione di ciò che viene preso in considerazione durante il processo di assegnazione dei punteggi, vedere [Definizioni delle opzioni](option-definitions.md).</span><span class="sxs-lookup"><span data-stu-id="d1b07-137">For a description of what is taken into account during the scoring process, see [Option Definitions](option-definitions.md).</span></span> <span data-ttu-id="d1b07-138">Sostituire ogni opzione di riferimento in PrintTicket con l'opzione del documento PrintCapabilities candidato corrispondente.</span><span class="sxs-lookup"><span data-stu-id="d1b07-138">Replace each reference Option in the PrintTicket by the corresponding best matching candidate PrintCapabilities document Option.</span></span> <span data-ttu-id="d1b07-139">È anche possibile classificare tutti i candidati in base al punteggio e passare queste informazioni alla fase di risoluzione nel caso in cui un conflitto di vincoli impedisca l'uso del candidato corrispondente migliore.</span><span class="sxs-lookup"><span data-stu-id="d1b07-139">You may also rank all of the candidates by score and pass this information on to the resolving stage in case a constraint conflict prevents the best matching candidate from being used.</span></span> <span data-ttu-id="d1b07-140">In questi casi, il processo di risoluzione può usare il secondo candidato migliore anziché scegliere un altro candidato in modo casuale.</span><span class="sxs-lookup"><span data-stu-id="d1b07-140">In such cases, the resolving process can use the second-best candidate rather than pick another candidate at random.</span></span>

10. <span data-ttu-id="d1b07-141">Per una funzionalità la cui proprietà SelectionType è impostata su PickMany e con più opzioni selezionate in PrintTicket, verificare che nessuna opzione sia designata come IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="d1b07-141">For a Feature whose SelectionType Property is set to PickMany, and that has more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="d1b07-142">Se esiste un'opzione di questo tipo, eliminare ogni altra opzione, lasciando solo quella designata IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="d1b07-142">If such an Option exists, delete every other Option, leaving only the one designated IdentityOption.</span></span> <span data-ttu-id="d1b07-143">Questo passaggio deve essere eseguito prima e dopo l'applicazione del processo di assegnazione dei punteggi.</span><span class="sxs-lookup"><span data-stu-id="d1b07-143">This step must be performed before and after the scoring process is applied.</span></span>

    <span data-ttu-id="d1b07-144">Il motivo per cui questo passaggio deve essere eseguito due volte è che il processo di assegnazione dei punteggi può eseguire il mapping di più istanze option di riferimento alla stessa opzione candidata.</span><span class="sxs-lookup"><span data-stu-id="d1b07-144">The reason that this step must be performed twice is that it is possible for the scoring process to map multiple reference Option instances to the same candidate Option.</span></span> <span data-ttu-id="d1b07-145">In questo caso, eliminare eventuali istanze di Opzione duplicate in modo che le opzioni elencate per una particolare funzionalità PickMany siano univoche.</span><span class="sxs-lookup"><span data-stu-id="d1b07-145">If that happens, delete any duplicate Option instances so that the Options listed for a particular PickMany Feature are unique.</span></span>

11. <span data-ttu-id="d1b07-146">Aggiungere a PrintTicket qualsiasi funzionalità presente nel documento PrintCapabilities che non viene visualizzata in PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-146">Add to the PrintTicket any Feature present in the PrintCapabilities document that does not appear in the PrintTicket.</span></span> <span data-ttu-id="d1b07-147">Per una funzionalità di questo tipo, designare l'opzione predefinita come opzione selezionata.</span><span class="sxs-lookup"><span data-stu-id="d1b07-147">For such a Feature, designate the default Option as the selected Option.</span></span>

12. <span data-ttu-id="d1b07-148">Determinare se sono presenti istanze ParameterDef che soddisfano tutti i criteri seguenti:</span><span class="sxs-lookup"><span data-stu-id="d1b07-148">Determine whether there are any ParameterDef instances that meet all of the following criteria:</span></span>

    -   <span data-ttu-id="d1b07-149">L'istanza ParameterDef viene visualizzata nel documento PrintCapabilities, ma non in PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-149">The ParameterDef instance appears in the PrintCapabilities document, but not in the PrintTicket.</span></span>

    -   <span data-ttu-id="d1b07-150">La proprietà Mandatory dell'istanza ParameterDef è impostata su Unconditional o Conditional.</span><span class="sxs-lookup"><span data-stu-id="d1b07-150">The Mandatory Property of the ParameterDef instance is set to either Unconditional or Conditional.</span></span>

    -   <span data-ttu-id="d1b07-151">L'istanza ParameterDef fa riferimento a un'istanza ParameterRef in PrintTicket all'interno di un'istanza option.</span><span class="sxs-lookup"><span data-stu-id="d1b07-151">The ParameterDef instance is referenced by a ParameterRef instance in the PrintTicket within an Option instance.</span></span>

    <span data-ttu-id="d1b07-152">Per ogni istanza ParameterDef di questo tipo nel documento PrintCapabilities, aggiungere a PrintTicket un'istanza ParameterInit corrispondente.</span><span class="sxs-lookup"><span data-stu-id="d1b07-152">For each such ParameterDef instance in the PrintCapabilities document, add to the PrintTicket a corresponding ParameterInit instance.</span></span> <span data-ttu-id="d1b07-153">Impostare il valore delle istanze ParameterInit appena aggiunte sul valore predefinito specificato dalle istanze ParameterDef corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="d1b07-153">Set the Value of the newly added ParameterInit instances to the default Value specified by the corresponding ParameterDef instances.</span></span>

13. <span data-ttu-id="d1b07-154">Eseguire il rilevamento dei conflitti dei vincoli e modificare la configurazione per eliminare tali conflitti.</span><span class="sxs-lookup"><span data-stu-id="d1b07-154">Perform constraint conflict detection and modify the configuration to eliminate any such conflicts.</span></span> <span data-ttu-id="d1b07-155">In questo argomento non viene definito un processo specifico da utilizzare per risolvere i conflitti di vincolo.</span><span class="sxs-lookup"><span data-stu-id="d1b07-155">This topic does not define a particular process to use to resolve constraint conflicts.</span></span> <span data-ttu-id="d1b07-156">È necessario decidere quale istanza di Feature o ParameterInit può essere modificata e un'opzione o un valore appropriato, rispettivamente, per selezionare che abbia il minor impatto sulla finalità complessiva della configurazione specificata in PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-156">You need to decide which Feature or ParameterInit instance can be changed, and an appropriate Option or Value, respectively, to select that has the least impact on the overall intent of the configuration specified in the PrintTicket.</span></span> <span data-ttu-id="d1b07-157">Come accennato in precedenza, è possibile usare il punteggio di mapping di ogni opzione e usare l'opzione con il secondo punteggio più alto.</span><span class="sxs-lookup"><span data-stu-id="d1b07-157">As mentioned earlier, you might wish to make use of the mapping score of each Option, and use the Option with the second highest score.</span></span> <span data-ttu-id="d1b07-158">Per determinare la funzionalità o ParameterInit da modificare, è possibile definire una proprietà privata che il client può aggiungere a PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-158">To determine which Feature or ParameterInit to change, you might want to define a private Property that the client can add to the PrintTicket.</span></span> <span data-ttu-id="d1b07-159">Questa proprietà può definire una priorità per le istanze Feature e ParameterInit in modo che il processo di risoluzione sia informato delle istanze Feature o ParameterInit importanti per il client (e devono essere mantenute in PrintTicket) e quali sono meno importanti.</span><span class="sxs-lookup"><span data-stu-id="d1b07-159">This Property can define a priority for Feature and ParameterInit instances so that the resolver process is informed of which Feature or ParameterInit instances are important to the client (and need to be preserved in the PrintTicket), and which are less important.</span></span>

14. <span data-ttu-id="d1b07-160">Se il processo di risoluzione dei vincoli ha causato modifiche in PrintTicket a tutte le istanze ParameterRef per cui la proprietà obbligatoria è impostata su Condizionale, aggiungere istanze ParameterInit con valori predefiniti per quelle che ora vengono visualizzate e rimuovere qualsiasi istanza ParameterInit per un'istanza ParameterRef che non viene più visualizzata.</span><span class="sxs-lookup"><span data-stu-id="d1b07-160">If the constraint resolution process has caused changes in the PrintTicket to any ParameterRef instances for which the Mandatory Property is set to Conditional, add ParameterInit instances with default Values for those that now appear, and remove any ParameterInit instance for a ParameterRef instance that no longer appears.</span></span>

15. <span data-ttu-id="d1b07-161">Rimuovere tutte le istanze property e il relativo contenuto che vengono visualizzati all'interno di istanze Option in PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-161">Remove all Property instances and their contents that appear within Option instances in the PrintTicket.</span></span> <span data-ttu-id="d1b07-162">Gli elementi proprietà non hanno alcun ruolo in PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="d1b07-162">Property elements have no role in the PrintTicket.</span></span> <span data-ttu-id="d1b07-163">Se l'opzione convalidata per una determinata funzionalità corrisponde perfettamente all'opzione prevalidata, trasferire tutte le istanze property in tale opzione da PrintTicket preconvalida a PrintTicket ora convalidato, a condizione che gli spazi dei nomi delle istanze property siano registrati nel documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="d1b07-163">If the validated Option for a particular Feature perfectly matches the prevalidated Option, transfer all of the Property instances in that Option from the prevalidation PrintTicket to the now-validated PrintTicket, subject to the condition that namespaces of Property instances are registered in the PrintCapabilities document.</span></span> <span data-ttu-id="d1b07-164">Si noti che per due istanze option da considerare una corrispondenza perfetta, per ogni ScoredProperty trovato in un'opzione, deve essere presente una proprietà ScoredProperty corrispondente nell'altra opzione e i valori di entrambe le istanze ScoredProperty devono essere gli stessi.</span><span class="sxs-lookup"><span data-stu-id="d1b07-164">Note that for two Option instances to be considered a perfect match, for every ScoredProperty found in one Option, there must be a corresponding ScoredProperty in the other Option, and the Values of both ScoredProperty instances must be the same.</span></span>

16. <span data-ttu-id="d1b07-165">Se il provider PrintTicket riconosce e supporta le istanze di proprietà private o pubbliche che sono state ancora eseguite fino a questo punto, eseguirne la convalida.</span><span class="sxs-lookup"><span data-stu-id="d1b07-165">If your PrintTicket provider recognizes and supports any private or public Property instances that have survived to this point, perform validation on them.</span></span> <span data-ttu-id="d1b07-166">Non eliminare una proprietà a questo punto solo perché non la si riconosce, potrebbe essere destinata a un'altra fase dell'elaborazione dei documenti.</span><span class="sxs-lookup"><span data-stu-id="d1b07-166">Do not delete a Property at this point just because you do not recognize it, it might be intended for another phase of document processing.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d1b07-167">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="d1b07-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d1b07-168">Specifica dello schema di stampa</span><span class="sxs-lookup"><span data-stu-id="d1b07-168">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



