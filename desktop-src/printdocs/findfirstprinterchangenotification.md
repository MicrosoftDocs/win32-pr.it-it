---
description: La funzione FindFirstPrinterChangeNotification crea un oggetto notifica di modifica e restituisce un handle per l'oggetto. È quindi possibile usare questo handle in una chiamata a una delle funzioni wait per monitorare le modifiche apportate alla stampante o al server di stampa.
ms.assetid: 4155ef5c-cd96-4960-919b-d9a495bb73a5
title: Funzione FindFirstPrinterChangeNotification (winspool. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- FindFirstPrinterChangeNotification
api_type:
- DllExport
api_location:
- Spoolss.dll
ms.openlocfilehash: 2da6a2ae73aa5b987ea3b8f8789f81ed0b4cdf06
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104227471"
---
# <a name="findfirstprinterchangenotification-function"></a><span data-ttu-id="ca1a0-104">FindFirstPrinterChangeNotification (funzione)</span><span class="sxs-lookup"><span data-stu-id="ca1a0-104">FindFirstPrinterChangeNotification function</span></span>

<span data-ttu-id="ca1a0-105">La funzione **FindFirstPrinterChangeNotification** crea un oggetto notifica di modifica e restituisce un handle per l'oggetto.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-105">The **FindFirstPrinterChangeNotification** function creates a change notification object and returns a handle to the object.</span></span> <span data-ttu-id="ca1a0-106">È quindi possibile usare questo handle in una chiamata a una delle funzioni wait per monitorare le modifiche apportate alla stampante o al server di stampa.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-106">You can then use this handle in a call to one of the wait functions to monitor changes to the printer or print server.</span></span>

<span data-ttu-id="ca1a0-107">La chiamata **FindFirstPrinterChangeNotification** specifica il tipo di modifiche da monitorare.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-107">The **FindFirstPrinterChangeNotification** call specifies the type of changes to be monitored.</span></span> <span data-ttu-id="ca1a0-108">È possibile specificare un set di condizioni per il monitoraggio delle modifiche, un set di campi di informazioni sulla stampante da monitorare o entrambi.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-108">You can specify a set of conditions to monitor for changes, a set of printer information fields to monitor, or both.</span></span>

<span data-ttu-id="ca1a0-109">Un'operazione di attesa sull'handle della notifica di modifica ha esito positivo quando si verifica una delle modifiche specificate nella stampante o nel server di stampa specificato.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-109">A wait operation on the change notification handle succeeds when one of the specified changes occurs in the specified printer or print server.</span></span> <span data-ttu-id="ca1a0-110">Si chiama quindi la funzione [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) per recuperare le informazioni sulla modifica e per reimpostare l'oggetto notifica di modifica per l'uso nell'operazione di attesa successiva.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-110">You then call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to retrieve information about the change, and to reset the change notification object for use in the next wait operation.</span></span>

## <a name="syntax"></a><span data-ttu-id="ca1a0-111">Sintassi</span><span class="sxs-lookup"><span data-stu-id="ca1a0-111">Syntax</span></span>


```C++
HANDLE FindFirstPrinterChangeNotification(
  _In_     HANDLE hPrinter,
           DWORD  fdwFilter,
           DWORD  fdwOptions,
  _In_opt_ LPVOID pPrinterNotifyOptions
);
```



## <a name="parameters"></a><span data-ttu-id="ca1a0-112">Parametri</span><span class="sxs-lookup"><span data-stu-id="ca1a0-112">Parameters</span></span>

<dl> <dt>

<span data-ttu-id="ca1a0-113">*hPrinter* \[ in\]</span><span class="sxs-lookup"><span data-stu-id="ca1a0-113">*hPrinter* \[in\]</span></span>
</dt> <dd>

<span data-ttu-id="ca1a0-114">Handle per la stampante o il server di stampa che si desidera monitorare.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-114">A handle to the printer or print server that you want to monitor.</span></span> <span data-ttu-id="ca1a0-115">Utilizzare la funzione [**OpenPrinter**](openprinter.md) o [**AddPrinter**](addprinter.md) per recuperare un handle di stampante.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-115">Use the [**OpenPrinter**](openprinter.md) or [**AddPrinter**](addprinter.md) function to retrieve a printer handle.</span></span>

</dd> <dt>

<span data-ttu-id="ca1a0-116">*fdwFilter*</span><span class="sxs-lookup"><span data-stu-id="ca1a0-116">*fdwFilter*</span></span> 
</dt> <dd>

<span data-ttu-id="ca1a0-117">Condizioni che comporteranno l'immissione dello stato segnalato per l'oggetto notifica di modifica.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-117">The conditions that will cause the change notification object to enter a signaled state.</span></span> <span data-ttu-id="ca1a0-118">Una notifica di modifica si verifica quando vengono soddisfatte una o più condizioni specificate.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-118">A change notification occurs when one or more of the specified conditions are met.</span></span> <span data-ttu-id="ca1a0-119">Il parametro *fdwFilter* può essere zero se *pPrinterNotifyOptions* è diverso da **null**.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-119">The *fdwFilter* parameter can be zero if *pPrinterNotifyOptions* is non-**NULL**.</span></span>

<span data-ttu-id="ca1a0-120">Il parametro può essere costituito da uno o più dei valori seguenti.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-120">This parameter can be one or more of the following values.</span></span>



| <span data-ttu-id="ca1a0-121">Valore</span><span class="sxs-lookup"><span data-stu-id="ca1a0-121">Value</span></span>                                                                                                                                                                                                              | <span data-ttu-id="ca1a0-122">Significato</span><span class="sxs-lookup"><span data-stu-id="ca1a0-122">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_CHANGE_FORM"></span><span id="printer_change_form"></span><dl> <span data-ttu-id="ca1a0-123"><dt>**\_modulo di modifica della stampante \_**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-123"><dt>**PRINTER\_CHANGE\_FORM**</dt></span></span> </dl>                                   | <span data-ttu-id="ca1a0-124">Notifica delle modifiche apportate a un modulo.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-124">Notify of any changes to a form.</span></span> <span data-ttu-id="ca1a0-125">È possibile impostare questo flag generale oppure uno o più dei flag specifici seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1a0-125">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="ca1a0-126">\_modulo di \_ aggiunta della modifica della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-126">PRINTER\_CHANGE\_ADD\_FORM</span></span></dd> <dd><span data-ttu-id="ca1a0-127">\_modulo del \_ set di modifiche della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-127">PRINTER\_CHANGE\_SET\_FORM</span></span></dd> <dd><span data-ttu-id="ca1a0-128">\_modulo di \_ eliminazione della modifica della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-128">PRINTER\_CHANGE\_DELETE\_FORM</span></span></dd> </dl>                                                                              |
| <span id="PRINTER_CHANGE_JOB"></span><span id="printer_change_job"></span><dl> <span data-ttu-id="ca1a0-129"><dt>**\_processo di modifica della stampante \_**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-129"><dt>**PRINTER\_CHANGE\_JOB**</dt></span></span> </dl>                                      | <span data-ttu-id="ca1a0-130">Notifica delle modifiche apportate a un processo.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-130">Notify of any changes to a job.</span></span> <span data-ttu-id="ca1a0-131">È possibile impostare questo flag generale oppure uno o più dei flag specifici seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1a0-131">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="ca1a0-132">modifica della stampante \_ \_ Aggiungi \_ processo</span><span class="sxs-lookup"><span data-stu-id="ca1a0-132">PRINTER\_CHANGE\_ADD\_JOB</span></span></dd> <dd><span data-ttu-id="ca1a0-133">\_processo del \_ set di modifiche della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-133">PRINTER\_CHANGE\_SET\_JOB</span></span></dd> <dd><span data-ttu-id="ca1a0-134">\_processo di \_ eliminazione della modifica della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-134">PRINTER\_CHANGE\_DELETE\_JOB</span></span></dd> <dd><span data-ttu-id="ca1a0-135">\_processo di \_ scrittura \_ modifica stampante</span><span class="sxs-lookup"><span data-stu-id="ca1a0-135">PRINTER\_CHANGE\_WRITE\_JOB</span></span></dd> </dl>                                  |
| <span id="PRINTER_CHANGE_PORT"></span><span id="printer_change_port"></span><dl> <span data-ttu-id="ca1a0-136"><dt>**\_porta di modifica della stampante \_**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-136"><dt>**PRINTER\_CHANGE\_PORT**</dt></span></span> </dl>                                   | <span data-ttu-id="ca1a0-137">Notificare eventuali modifiche a una porta.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-137">Notify of any changes to a port.</span></span> <span data-ttu-id="ca1a0-138">È possibile impostare questo flag generale oppure uno o più dei flag specifici seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1a0-138">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="ca1a0-139">modifica della stampante \_ \_ Aggiungi \_ porta</span><span class="sxs-lookup"><span data-stu-id="ca1a0-139">PRINTER\_CHANGE\_ADD\_PORT</span></span></dd> <dd><span data-ttu-id="ca1a0-140">modifica della stampante \_ \_ configurare la \_ porta</span><span class="sxs-lookup"><span data-stu-id="ca1a0-140">PRINTER\_CHANGE\_CONFIGURE\_PORT</span></span> </dd> <dd><span data-ttu-id="ca1a0-141">\_porta di \_ eliminazione delle modifiche della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-141">PRINTER\_CHANGE\_DELETE\_PORT</span></span></dd> </dl>                                                                       |
| <span id="PRINTER_CHANGE_PRINT_PROCESSOR"></span><span id="printer_change_print_processor"></span><dl> <span data-ttu-id="ca1a0-142"><dt>**\_processore di \_ stampa \_ modifica stampante**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-142"><dt>**PRINTER\_CHANGE\_PRINT\_PROCESSOR**</dt></span></span> </dl> | <span data-ttu-id="ca1a0-143">Notifica delle modifiche apportate a un processore di stampa.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-143">Notify of any changes to a print processor.</span></span> <span data-ttu-id="ca1a0-144">È possibile impostare questo flag generale oppure uno o più dei flag specifici seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1a0-144">You can set this general flag or one or more of the following specific flags:</span></span> <br/> <dl> <dd><span data-ttu-id="ca1a0-145">\_modifica stampante \_ Aggiungi \_ processore di stampa \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-145">PRINTER\_CHANGE\_ADD\_PRINT\_PROCESSOR</span></span> </dd> <dd><span data-ttu-id="ca1a0-146">\_modifica stampante \_ Elimina \_ processore di stampa \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-146">PRINTER\_CHANGE\_DELETE\_PRINT\_PROCESSOR</span></span></dd> </dl>                                                                                        |
| <span id="PRINTER_CHANGE_PRINTER"></span><span id="printer_change_printer"></span><dl> <span data-ttu-id="ca1a0-147"><dt>**\_stampante modifica \_ stampante**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-147"><dt>**PRINTER\_CHANGE\_PRINTER**</dt></span></span> </dl>                          | <span data-ttu-id="ca1a0-148">Notifica delle modifiche apportate a una stampante.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-148">Notify of any changes to a printer.</span></span> <span data-ttu-id="ca1a0-149">È possibile impostare questo flag generale oppure uno o più dei flag specifici seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1a0-149">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="ca1a0-150">\_modifica stampante \_ Aggiungi \_ stampante</span><span class="sxs-lookup"><span data-stu-id="ca1a0-150">PRINTER\_CHANGE\_ADD\_PRINTER</span></span></dd> <dd><span data-ttu-id="ca1a0-151">\_ \_ stampante set di modifiche stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-151">PRINTER\_CHANGE\_SET\_PRINTER</span></span></dd> <dd><span data-ttu-id="ca1a0-152">\_modifica stampante \_ Elimina \_ stampante</span><span class="sxs-lookup"><span data-stu-id="ca1a0-152">PRINTER\_CHANGE\_DELETE\_PRINTER</span></span></dd> <dd><span data-ttu-id="ca1a0-153">\_modifica stampante \_ non \_ riuscita \_ stampante di connessione</span><span class="sxs-lookup"><span data-stu-id="ca1a0-153">PRINTER\_CHANGE\_FAILED\_CONNECTION\_PRINTER</span></span></dd> </dl> |
| <span id="PRINTER_CHANGE_PRINTER_DRIVER"></span><span id="printer_change_printer_driver"></span><dl> <span data-ttu-id="ca1a0-154"><dt>**\_ \_ driver della stampante per la modifica della stampante \_**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-154"><dt>**PRINTER\_CHANGE\_PRINTER\_DRIVER**</dt></span></span> </dl>    | <span data-ttu-id="ca1a0-155">Notifica delle modifiche apportate a un driver della stampante.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-155">Notify of any changes to a printer driver.</span></span> <span data-ttu-id="ca1a0-156">È possibile impostare questo flag generale oppure uno o più dei flag specifici seguenti:</span><span class="sxs-lookup"><span data-stu-id="ca1a0-156">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="ca1a0-157">\_modifica stampante \_ Aggiungi \_ driver della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-157">PRINTER\_CHANGE\_ADD\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="ca1a0-158">\_ \_ \_ driver della stampante del set di modifiche della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-158">PRINTER\_CHANGE\_SET\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="ca1a0-159">modifica stampante- \_ \_ Elimina \_ driver della stampante \_</span><span class="sxs-lookup"><span data-stu-id="ca1a0-159">PRINTER\_CHANGE\_DELETE\_PRINTER\_DRIVER</span></span></dd> </dl>                                   |
| <span id="PRINTER_CHANGE_ALL"></span><span id="printer_change_all"></span><dl> <span data-ttu-id="ca1a0-160"><dt>**\_modifica \_ tutte le stampanti**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-160"><dt>**PRINTER\_CHANGE\_ALL**</dt></span></span> </dl>                                      | <span data-ttu-id="ca1a0-161">Notificare se si verifica una delle modifiche precedenti.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-161">Notify if any of the preceding changes occur.</span></span><br/>                                                                                                                                                                                                                                                                                                                     |
| <span id="PRINTER_CHANGE_SERVER"></span><span id="printer_change_server"></span><dl> <span data-ttu-id="ca1a0-162"><dt>**\_server di modifica della stampante \_**</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-162"><dt>**PRINTER\_CHANGE\_SERVER**</dt></span></span> </dl>                             | <span data-ttu-id="ca1a0-163">Windows 7: notifica di eventuali modifiche al server.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-163">Windows 7: Notify of any changes to the server.</span></span><br/> <span data-ttu-id="ca1a0-164">Questo flag non è incluso nelle modifiche monitorate impostando il valore di **\_ modifica di \_ tutte le stampanti** .</span><span class="sxs-lookup"><span data-stu-id="ca1a0-164">This flag is not included in the changes monitored by setting the **PRINTER\_CHANGE\_ALL** value.</span></span><br/>                                                                                                                                                                                                      |



 

<span data-ttu-id="ca1a0-165">Per le descrizioni dei flag più specifici nella tabella precedente, vedere la funzione [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="ca1a0-165">For descriptions of the more specific flags in the preceding table, see the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function.</span></span>

</dd> <dt>

<span data-ttu-id="ca1a0-166">*fdwOptions*</span><span class="sxs-lookup"><span data-stu-id="ca1a0-166">*fdwOptions*</span></span> 
</dt> <dd>

<span data-ttu-id="ca1a0-167">Flag che determina la categoria di stampanti per le quali funzioneranno le notifiche.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-167">The flag that determines the category of printers for which notifications will work.</span></span>



| <span data-ttu-id="ca1a0-168">Valore</span><span class="sxs-lookup"><span data-stu-id="ca1a0-168">Value</span></span>                                                                                                                                                                                                                                                               | <span data-ttu-id="ca1a0-169">Significato</span><span class="sxs-lookup"><span data-stu-id="ca1a0-169">Meaning</span></span>                                                                                                                                      |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_NOTIFY_CATEGORY_ALL"></span><span id="printer_notify_category_all"></span><dl> <span data-ttu-id="ca1a0-170"><dt>**Stampante \_ NOTIFICA \_ categoria \_ tutti**</dt> <dt>0x001000</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-170"><dt>**PRINTER\_NOTIFY\_CATEGORY\_ALL**</dt> <dt>0x001000</dt></span></span> </dl> | <span data-ttu-id="ca1a0-171">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) restituisce le notifiche per le stampanti 2D e 3D.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-171">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications for both 2D and 3D printers.</span></span><br/> |
| <span id="PRINTER_NOTIFY_CATEGORY_3D"></span><span id="printer_notify_category_3d"></span><dl> <span data-ttu-id="ca1a0-172"><dt>**Stampante \_ NOTIFICA \_ alla \_ categoria**</dt> <dt>0x002000</dt> 3D</span><span class="sxs-lookup"><span data-stu-id="ca1a0-172"><dt>**PRINTER\_NOTIFY\_CATEGORY\_3D**</dt> <dt>0x002000</dt></span></span> </dl>    | <span data-ttu-id="ca1a0-173">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) restituisce le notifiche solo per le stampanti 3D.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-173">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications only for 3D printers.</span></span><br/>        |



 

<span data-ttu-id="ca1a0-174">Quando questo flag è impostato su zero (0), **FindFirstPrinterChangeNotification** funzionerà solo per le stampanti 2D.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-174">When this flag is set to zero (0), **FindFirstPrinterChangeNotification** will only work for 2D printers.</span></span> <span data-ttu-id="ca1a0-175">Si tratta del valore predefinito.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-175">This is the default value.</span></span>

</dd> <dt>

<span data-ttu-id="ca1a0-176">*pPrinterNotifyOptions* \[ in, facoltativo\]</span><span class="sxs-lookup"><span data-stu-id="ca1a0-176">*pPrinterNotifyOptions* \[in, optional\]</span></span>
</dt> <dd>

<span data-ttu-id="ca1a0-177">Puntatore a una struttura [**di \_ \_ Opzioni di notifica della stampante**](printer-notify-options.md) .</span><span class="sxs-lookup"><span data-stu-id="ca1a0-177">A pointer to a [**PRINTER\_NOTIFY\_OPTIONS**](printer-notify-options.md) structure.</span></span> <span data-ttu-id="ca1a0-178">Il membro **pTypes** di questa struttura è una matrice di uno o più [**\_ \_ \_ tipi di opzioni di notifica della stampante**](printer-notify-options-type.md) , ognuno dei quali specifica un campo di informazioni sulla stampante da monitorare.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-178">The **pTypes** member of this structure is an array of one or more [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md) structures, each of which specifies a printer information field to monitor.</span></span> <span data-ttu-id="ca1a0-179">Una notifica di modifica si verifica quando uno o più dei campi specificati vengono modificati.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-179">A change notification occurs when one or more of the specified fields changes.</span></span> <span data-ttu-id="ca1a0-180">Quando si verifica una modifica, la funzione [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) può recuperare le informazioni sulla nuova stampante.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-180">When a change occurs, the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function can retrieve the new printer information.</span></span> <span data-ttu-id="ca1a0-181">Questo parametro può essere **null** se *fdwFilter* è diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-181">This parameter can be **NULL** if *fdwFilter* is nonzero.</span></span>

<span data-ttu-id="ca1a0-182">Per un elenco dei campi che è possibile monitorare, vedere [**\_ Opzioni di notifica stampanti \_ \_ tipo**](printer-notify-options-type.md).</span><span class="sxs-lookup"><span data-stu-id="ca1a0-182">For a list of fields that can be monitored, see [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md).</span></span>

</dd> </dl>

## <a name="return-value"></a><span data-ttu-id="ca1a0-183">Valore restituito</span><span class="sxs-lookup"><span data-stu-id="ca1a0-183">Return value</span></span>

<span data-ttu-id="ca1a0-184">Se la funzione ha esito positivo, il valore restituito è un handle per un oggetto notifica di modifica associato alla stampante o al server di stampa specificato.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-184">If the function succeeds, the return value is a handle to a change notification object associated with the specified printer or print server.</span></span>

<span data-ttu-id="ca1a0-185">Se la funzione ha esito negativo, il valore restituito è un valore di handle non valido \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="ca1a0-185">If the function fails, the return value is INVALID\_HANDLE\_VALUE.</span></span>

## <a name="remarks"></a><span data-ttu-id="ca1a0-186">Commenti</span><span class="sxs-lookup"><span data-stu-id="ca1a0-186">Remarks</span></span>

> [!Note]  
> <span data-ttu-id="ca1a0-187">Si tratta di una funzione di blocco o sincrona e potrebbe non essere restituita immediatamente.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-187">This is a blocking or synchronous function and might not return immediately.</span></span> <span data-ttu-id="ca1a0-188">La velocità di restituzione di questa funzione dipende da fattori di runtime quali lo stato della rete, la configurazione del server di stampa e i fattori di implementazione del driver della stampante difficili da prevedere durante la scrittura di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-188">How quickly this function returns depends on run-time factors such as network status, print server configuration, and printer driver implementation factors that are difficult to predict when writing an application.</span></span> <span data-ttu-id="ca1a0-189">La chiamata di questa funzione da un thread che gestisce l'interazione con l'interfaccia utente potrebbe far sembrare che l'applicazione non risponda.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-189">Calling this function from a thread that manages interaction with the user interface could make the application appear to be unresponsive.</span></span>

 

<span data-ttu-id="ca1a0-190">Per monitorare una stampante o un server di stampa, chiamare la funzione **FindFirstPrinterChangeNotification** , quindi utilizzare l'handle dell'oggetto notifica di modifica restituito in una chiamata a una delle [funzioni di attesa](/windows/desktop/Sync/wait-functions).</span><span class="sxs-lookup"><span data-stu-id="ca1a0-190">To monitor a printer or print server, call the **FindFirstPrinterChangeNotification** function, then use the returned change notification object handle in a call to one of the [wait functions](/windows/desktop/Sync/wait-functions).</span></span> <span data-ttu-id="ca1a0-191">Un'operazione di attesa su un oggetto notifica di modifica viene soddisfatta quando l'oggetto notifica di modifica entra nello stato segnalato.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-191">A wait operation on a change notification object is satisfied when the change notification object enters the signaled state.</span></span> <span data-ttu-id="ca1a0-192">Il sistema segnala l'oggetto quando una o più delle modifiche specificate da *fdwFilter* o *pPrinterNotifyOptions* si verificano nella stampante o nel server di stampa monitorato.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-192">The system signals the object when one or more of the changes specified by *fdwFilter* or *pPrinterNotifyOptions* occurs in the monitored printer or print server.</span></span>

<span data-ttu-id="ca1a0-193">Quando si chiama **FindFirstPrinterChangeNotification**, *fdwFilter* deve essere diverso da zero o *PPrinterNotifyOptions* deve essere diverso da **null**.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-193">When you call **FindFirstPrinterChangeNotification**, either *fdwFilter* must be nonzero or *pPrinterNotifyOptions* must be non-**NULL**.</span></span> <span data-ttu-id="ca1a0-194">Se vengono specificati entrambi, le notifiche si verificheranno per entrambe.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-194">If both are specified, notifications will occur for both.</span></span>

<span data-ttu-id="ca1a0-195">Quando un'operazione di attesa su un oggetto notifica di modifica della stampante viene soddisfatta, chiamare la funzione [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) per determinare la relativa origine.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-195">When a wait operation on a printer change notification object is satisfied, call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to determine the cause of the notification.</span></span> <span data-ttu-id="ca1a0-196">Per una condizione specificata da *fdwFilter*, **FindNextPrinterChangeNotification** segnala la condizione o le condizioni modificate.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-196">For a condition specified by *fdwFilter*, **FindNextPrinterChangeNotification** reports the condition or conditions that changed.</span></span> <span data-ttu-id="ca1a0-197">Per un campo di informazioni sulla stampante specificato da *pPrinterNotifyOptions*, **FindNextPrinterChangeNotification** segnala il campo o i campi che sono stati modificati e le nuove informazioni per questi campi.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-197">For a printer information field specified by *pPrinterNotifyOptions*, **FindNextPrinterChangeNotification** reports the field or fields that changed as well as the new information for these fields.</span></span> <span data-ttu-id="ca1a0-198">**FindNextPrinterChangeNotification** Reimposta inoltre l'oggetto notifica di modifica sullo stato non segnalato, in modo che sia possibile utilizzarlo in un'altra operazione di attesa per continuare a monitorare la stampante o il server di stampa.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-198">**FindNextPrinterChangeNotification** also resets the change notification object to the nonsignaled state so you can use it in another wait operation to continue monitoring the printer or print server.</span></span>

<span data-ttu-id="ca1a0-199">Con un'eccezione, non chiamare la funzione [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) se l'oggetto notifica di modifica non è nello stato segnalato.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-199">With one exception, do not call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function if the change notification object is not in the signaled state.</span></span> <span data-ttu-id="ca1a0-200">Se la funzione wait restituisce il timeout di attesa del valore \_ , l'oggetto Change non è nello stato segnalato.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-200">If the wait function returns the value WAIT\_TIMEOUT, the change object is not in the signaled state.</span></span> <span data-ttu-id="ca1a0-201">Chiamare la funzione **FindNextPrinterChangeNotification** solo se la funzione wait riesce senza scadere. L'eccezione si verifica quando viene chiamato **FindNextPrinterChangeNotification** con il \_ bit di aggiornamento delle opzioni di notifica della stampante \_ \_ impostato nel parametro *pPrinterNotifyOptions* .</span><span class="sxs-lookup"><span data-stu-id="ca1a0-201">Call the **FindNextPrinterChangeNotification** function only if the wait function succeeds without timing out. The exception is when **FindNextPrinterChangeNotification** is called with the PRINTER\_NOTIFY\_OPTIONS\_REFRESH bit set in the *pPrinterNotifyOptions* parameter.</span></span>

<span data-ttu-id="ca1a0-202">Quando l'oggetto notifica di modifica non è più necessario, chiuderlo chiamando la funzione [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="ca1a0-202">When you no longer need the change notification object, close it by calling the [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) function.</span></span>

<span data-ttu-id="ca1a0-203">I chiamanti di **FindFirstPrinterChangeNotification** devono verificare che l'handle della stampante passato a **FindFirstPrinterChangeNotification** rimanga valido fino a quando non viene chiamato [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="ca1a0-203">Callers of **FindFirstPrinterChangeNotification** must ensure that the printer handle passed into **FindFirstPrinterChangeNotification** remains valid until [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) is called.</span></span> <span data-ttu-id="ca1a0-204">Se l'handle della stampante viene chiuso prima dell'handle di notifica della modifica della stampante, le notifiche successive non verranno recapitate.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-204">If the printer handle is closed before the printer change notification handle, further notifications will fail to be delivered.</span></span>

<span data-ttu-id="ca1a0-205">**FindFirstPrinterChangeNotification** non invierà le notifiche di modifica per le stampanti 3D agli handle del server.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-205">**FindFirstPrinterChangeNotification** will not send change notifications for 3D printers to server handles.</span></span>

> [!Note]  
> <span data-ttu-id="ca1a0-206">In Windows XP con Service Pack 2 (SP2) e versioni successive, il firewall connessione Internet (ICF) blocca le porte della stampante per impostazione predefinita, ma è possibile abilitare un'eccezione per la condivisione di file e stampanti.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-206">In Windows XP with Service Pack 2 (SP2) and later, the Internet Connection Firewall (ICF) blocks printer ports by default, but an exception for File and Print Sharing can be enabled.</span></span> <span data-ttu-id="ca1a0-207">Se un utente esegue una connessione alla stampante a un altro computer e l'eccezione non è abilitata, l'utente non riceverà le notifiche di modifica della stampante dal server.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-207">If a user makes a printer connection to another machine, and the exception is not enabled, then the user will not receive printer change notifications from the server.</span></span> <span data-ttu-id="ca1a0-208">Un amministratore del computer dovrà abilitare l'eccezione.</span><span class="sxs-lookup"><span data-stu-id="ca1a0-208">A machine admin will have to enable exception.</span></span>

 

## <a name="requirements"></a><span data-ttu-id="ca1a0-209">Requisiti</span><span class="sxs-lookup"><span data-stu-id="ca1a0-209">Requirements</span></span>



| <span data-ttu-id="ca1a0-210">Requisito</span><span class="sxs-lookup"><span data-stu-id="ca1a0-210">Requirement</span></span> | <span data-ttu-id="ca1a0-211">Valore</span><span class="sxs-lookup"><span data-stu-id="ca1a0-211">Value</span></span> |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ca1a0-212">Client minimo supportato</span><span class="sxs-lookup"><span data-stu-id="ca1a0-212">Minimum supported client</span></span><br/> | <span data-ttu-id="ca1a0-213">Windows 2000 Professional \[solo app desktop\]</span><span class="sxs-lookup"><span data-stu-id="ca1a0-213">Windows 2000 Professional \[desktop apps only\]</span></span><br/>                                                |
| <span data-ttu-id="ca1a0-214">Server minimo supportato</span><span class="sxs-lookup"><span data-stu-id="ca1a0-214">Minimum supported server</span></span><br/> | <span data-ttu-id="ca1a0-215">Windows 2000 Server \[solo app desktop\]</span><span class="sxs-lookup"><span data-stu-id="ca1a0-215">Windows 2000 Server \[desktop apps only\]</span></span><br/>                                                      |
| <span data-ttu-id="ca1a0-216">Intestazione</span><span class="sxs-lookup"><span data-stu-id="ca1a0-216">Header</span></span><br/>                   | <dl> <span data-ttu-id="ca1a0-217"><dt>Winspool. h (include Windows. h)</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-217"><dt>Winspool.h (include Windows.h)</dt></span></span> </dl> |
| <span data-ttu-id="ca1a0-218">Libreria</span><span class="sxs-lookup"><span data-stu-id="ca1a0-218">Library</span></span><br/>                  | <dl> <span data-ttu-id="ca1a0-219"><dt>Winspool. lib</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-219"><dt>Winspool.lib</dt></span></span> </dl>                   |
| <span data-ttu-id="ca1a0-220">DLL</span><span class="sxs-lookup"><span data-stu-id="ca1a0-220">DLL</span></span><br/>                      | <dl> <span data-ttu-id="ca1a0-221"><dt>Spoolss.dll</dt></span><span class="sxs-lookup"><span data-stu-id="ca1a0-221"><dt>Spoolss.dll</dt></span></span> </dl>                    |



## <a name="see-also"></a><span data-ttu-id="ca1a0-222">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="ca1a0-222">See also</span></span>

<dl> <dt>

[<span data-ttu-id="ca1a0-223">Stampa</span><span class="sxs-lookup"><span data-stu-id="ca1a0-223">Printing</span></span>](printdocs-printing.md)
</dt> <dt>

[<span data-ttu-id="ca1a0-224">Funzioni dell'API spooler di stampa</span><span class="sxs-lookup"><span data-stu-id="ca1a0-224">Print Spooler API Functions</span></span>](printing-and-print-spooler-functions.md)
</dt> <dt>

[<span data-ttu-id="ca1a0-225">**FindClosePrinterChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="ca1a0-225">**FindClosePrinterChangeNotification**</span></span>](findcloseprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="ca1a0-226">**FindNextPrinterChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="ca1a0-226">**FindNextPrinterChangeNotification**</span></span>](findnextprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="ca1a0-227">**OpenPrinter**</span><span class="sxs-lookup"><span data-stu-id="ca1a0-227">**OpenPrinter**</span></span>](openprinter.md)
</dt> <dt>

[<span data-ttu-id="ca1a0-228">**\_Opzioni di notifica stampanti \_**</span><span class="sxs-lookup"><span data-stu-id="ca1a0-228">**PRINTER\_NOTIFY\_OPTIONS**</span></span>](printer-notify-options.md)
</dt> <dt>

[<span data-ttu-id="ca1a0-229">**\_tipo di \_ Opzioni di notifica stampanti \_**</span><span class="sxs-lookup"><span data-stu-id="ca1a0-229">**PRINTER\_NOTIFY\_OPTIONS\_TYPE**</span></span>](printer-notify-options-type.md)
</dt> </dl>

 

