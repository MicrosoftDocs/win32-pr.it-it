---
title: Ciclo di vita di un processo BITS
description: Il ciclo di vita di un processo BITS inizia al momento della creazione di un processo.
ms.assetid: b765a8ef-74bd-475e-9cd9-e9e2cf4f0305
ms.topic: article
ms.date: 11/13/2018
ms.openlocfilehash: c6ac23c598d28681968e9c0cbed776ba24c57e98
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/05/2021
ms.locfileid: "106320938"
---
# <a name="bits-job-states"></a><span data-ttu-id="1e5c0-103">Stati del processo BITS</span><span class="sxs-lookup"><span data-stu-id="1e5c0-103">BITS Job states</span></span>
<span data-ttu-id="1e5c0-104">Sono disponibili quattro classi di [**Stati**](/windows/desktop/api/Bits/ne-bits-bg_job_state)bits: inizio, azione, trasferiti e finale.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-104">There are four classes of BITS [**states**](/windows/desktop/api/Bits/ne-bits-bg_job_state): starting, action, transferred, and final.</span></span> <span data-ttu-id="1e5c0-105">Durante l'esecuzione di un processo, viene eseguita la transizione tra gli Stati nelle diverse classi di stato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-105">As a job runs, it transitions between states in the different state classes.</span></span> <span data-ttu-id="1e5c0-106">Quando un processo è in uno stato finale, non verrà spostato dallo stato finale e non verrà visualizzato in un'enumerazione di [processi](/windows/desktop/api/bits/nf-bits-ibackgroundcopymanager-enumjobs).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-106">Once a job is in a final state, it won't move out of the final state and won't show up in a [job enumeration](/windows/desktop/api/bits/nf-bits-ibackgroundcopymanager-enumjobs).</span></span>

## <a name="state-changing-methods"></a><span data-ttu-id="1e5c0-107">Metodi per la modifica dello stato</span><span class="sxs-lookup"><span data-stu-id="1e5c0-107">State-changing methods</span></span>
<span data-ttu-id="1e5c0-108">Sono disponibili quattro metodi per la modifica dello stato in un processo: [**Annulla**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel), [**completa**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete), [**Riprendi**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume)e [**Sospendi**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-108">There are four state-changing methods on a job: [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel), [**Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete), [**Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume), and [**Suspend**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend).</span></span> <span data-ttu-id="1e5c0-109">Se un processo non è in uno stato finale, è possibile chiamare qualsiasi metodo di modifica dello stato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-109">As long as a job is not in a final state, you can call any of the state-changing methods.</span></span> 

<span data-ttu-id="1e5c0-110">Il metodo [**Suspend**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend) viene utilizzato per passare un processo allo stato Suspended.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-110">The [**Suspend**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend) method is used to switch a job to the SUSPENDED state.</span></span> <span data-ttu-id="1e5c0-111">Quando un processo viene sospeso, tutti i relativi trasferimenti vengono arrestati e non vengono ripresi fino a quando non si chiama Resume.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-111">When a job is suspended, all of its transfers will be stopped and won't resume until you call Resume.</span></span>
<span data-ttu-id="1e5c0-112">Un processo già sospeso rimane semplicemente sospeso.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-112">A job that's already suspended will simply stay suspended.</span></span>

<span data-ttu-id="1e5c0-113">Il metodo [**Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume) viene usato per avviare un processo sospeso.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-113">The [**Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume) method is used to start a job that's suspended.</span></span> <span data-ttu-id="1e5c0-114">I processi in uno stato di errore o di errore temporaneo verranno configurati per essere ripetuti.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-114">Jobs in an error or transient error state will be set up to be retried.</span></span> <span data-ttu-id="1e5c0-115">I processi attualmente in uno stato di azione resteranno in tale stato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-115">Jobs that are currently in an action state will stay in that state.</span></span>

<span data-ttu-id="1e5c0-116">Il metodo [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) viene usato per annullare un processo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-116">The [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) method is used to cancel a job.</span></span> <span data-ttu-id="1e5c0-117">Lo stato passerà a annullato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-117">The state will switch to cancelled.</span></span> <span data-ttu-id="1e5c0-118">Tutti i file attualmente trasferiti non verranno completati.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-118">Any files currently being transferred will not be completed.</span></span> <span data-ttu-id="1e5c0-119">Tutti i file completamente trasferiti e parzialmente trasferiti verranno eliminati.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-119">All completely transferred and partially transferred files will be deleted.</span></span>

<span data-ttu-id="1e5c0-120">Il metodo [**completo**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) terminerà un trasferimento.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-120">The [**Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) method will finish a transfer.</span></span> <span data-ttu-id="1e5c0-121">Verranno conservati tutti i file scaricati completamente. i file non completamente trasferiti verranno eliminati.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-121">Any fully downloaded files will be kept; files that are not fully transferred will be deleted.</span></span>

<span data-ttu-id="1e5c0-122">È necessario chiamare Annulla o completa per spostare il processo in uno stato finale ed eseguire la pulizia.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-122">You must call either Cancel or Complete to move your job to a final state and be cleaned up.</span></span> <span data-ttu-id="1e5c0-123">I processi che non vengono passati a uno stato finale elimineranno le risorse di sistema.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-123">Jobs that aren't transitioned to a final state will waste system resources.</span></span> <span data-ttu-id="1e5c0-124">BITS eliminerà infine automaticamente i processi precedenti.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-124">BITS will eventually automatically cancel old jobs.</span></span> <span data-ttu-id="1e5c0-125">Il valore predefinito di [JobInactivityTimeout](/windows/desktop/Bits/group-policies) consiste nell'annullare i processi dopo 90 giorni.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-125">The default [JobInactivityTimeout](/windows/desktop/Bits/group-policies) is to cancel jobs after 90 days.</span></span>


## <a name="starting-state"></a><span data-ttu-id="1e5c0-126">Stato iniziale</span><span class="sxs-lookup"><span data-stu-id="1e5c0-126">Starting state</span></span> 
<span data-ttu-id="1e5c0-127">Lo stato iniziale viene **sospeso**.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-127">The starting state is **SUSPENDED**.</span></span> <span data-ttu-id="1e5c0-128">Da qui è possibile aggiungere file al processo e impostare le proprietà del processo e del file.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-128">From here, you can add files to the job and set job and file properties.</span></span> <span data-ttu-id="1e5c0-129">Per avviare il trasferimento di un processo, chiamare Resume sul processo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-129">To start a job transferring, call Resume on the job.</span></span> <span data-ttu-id="1e5c0-130">Se si riprende un processo senza file, verrà restituito un codice di errore BG_E_EMPTY e il processo resterà sospeso.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-130">If you resume a job with no files, it will return a BG_E_EMPTY error code and the job will stay suspended.</span></span>

## <a name="action-states"></a><span data-ttu-id="1e5c0-131">Stati azione</span><span class="sxs-lookup"><span data-stu-id="1e5c0-131">Action states</span></span>
<span data-ttu-id="1e5c0-132">Gli stati in **coda**, di **connessione** e di **trasferimento** mostrano l'attività interna corrente del processo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-132">The **QUEUED**, **CONNECTING** and **TRANSFERRING** states show the current internal activity of your job.</span></span> <span data-ttu-id="1e5c0-133">Un processo ACCODAto è pronto per essere pianificato, probabilmente in attesa dell'utilità di pianificazione BITS o in attesa dell'accesso dell'utente.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-133">A job that's QUEUED is ready to be scheduled, possibly waiting for the BITS scheduler or waiting for the user to log in.</span></span> <span data-ttu-id="1e5c0-134">Un processo che si connette sta tentando di connettersi al server per iniziare a trasferire i file.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-134">A job that's CONNECTING is attempting to connect to the server to start transferring files.</span></span> <span data-ttu-id="1e5c0-135">Un processo che sta trasferendo sta caricando o scaricando attivamente i file.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-135">A job that's TRANSFERRING is actively uploading or downloading your files.</span></span>

<span data-ttu-id="1e5c0-136">Lo stato di **errore temporaneo** indica che il processo ha tentato e non è riuscito a trasferire il file.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-136">The **TRANSIENT ERROR** state means that the job tried and failed to transfer the file.</span></span> <span data-ttu-id="1e5c0-137">Questo potrebbe essere per motivi di criteri di rete. il processo potrebbe essere bloccato perché la rete corrente è troppo costosa.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-137">This might be for network policy reasons; the job might be blocked because the current network is too expensive.</span></span> <span data-ttu-id="1e5c0-138">Potrebbe anche essere bloccata per motivi di sistema, come il sistema in modalità di gioco o di batteria, oppure perché non è disponibile connettività Internet.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-138">It might also be blocked for system reasons like the system being in battery saver or game mode, or because there's no internet connectivity.</span></span> 

<span data-ttu-id="1e5c0-139">I processi nello stato di errore temporaneo verranno ripetuti automaticamente da BITS quando appropriato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-139">Jobs in the transient error state will be retried automatically by BITS when appropriate.</span></span> <span data-ttu-id="1e5c0-140">BITS include un valore [MinimumRetryDelay](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) e [NoProgressTimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) da controllare quando viene eseguito un nuovo tentativo di un processo e quando BITS smette di riprovare.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-140">BITS includes a [MinimumRetryDelay](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) and [NoProgressTimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) value to control when a job is retried and when BITS will finally stop retrying.</span></span>


## <a name="transferred-states"></a><span data-ttu-id="1e5c0-141">Stati trasferiti</span><span class="sxs-lookup"><span data-stu-id="1e5c0-141">Transferred states</span></span>
<span data-ttu-id="1e5c0-142">Gli stati trasferiti si verificano quando non è più necessario eseguire il trasferimento.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-142">The transferred states happen when there's no more transferring to be done.</span></span> <span data-ttu-id="1e5c0-143">È necessario annullare o completare un processo in questo stato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-143">You must either cancel or complete a job in this state.</span></span> <span data-ttu-id="1e5c0-144">È anche possibile aggiungere altri file da trasferire e chiamare Resume (), ma non si tratta di una pratica comune.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-144">You may also add more files to transfer and call Resume(), but this isn't a common practice.</span></span>

<span data-ttu-id="1e5c0-145">Lo stato di **errore** si verifica quando viene eseguito un trasferimento (non verrà ritentato), ma non è stato completato correttamente.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-145">The **ERROR** state happens when a transfer is done (it won't be retried), but didn't fully succeed.</span></span> <span data-ttu-id="1e5c0-146">Tutti i file devono essere trasferiti per avere esito positivo; Se si è verificato un errore in modo permanente, il processo sarà in errore.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-146">All the files must be transferred to be successful; if any have permanently failed the job will be in error.</span></span> <span data-ttu-id="1e5c0-147">In genere si chiamerà Annulla o completa per spostare il processo in uno stato finale.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-147">You will typically either call Cancel or Complete to move the job to a final state.</span></span> <span data-ttu-id="1e5c0-148">La differenza pratica è che quando si chiama Annulla, qualsiasi file trasferito correttamente viene eliminato, ma se si chiama completa, il file trasferito correttamente non verrà eliminato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-148">The practical difference is that when you call Cancel, any successfully transferred file will be deleted, but if you call Complete, any successfully transferred file will not be deleted.</span></span>

<span data-ttu-id="1e5c0-149">I motivi per lo stato di errore includono</span><span class="sxs-lookup"><span data-stu-id="1e5c0-149">Reasons for being in an ERROR state include</span></span> 
* <span data-ttu-id="1e5c0-150">Rimanere troppo a lungo in uno stato di errore temporaneo (oltre l'impostazione [NoProgressTimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) ).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-150">Staying too long in a TRANSIENT ERROR state (beyond the [NoProgressTimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) setting).</span></span>
* <span data-ttu-id="1e5c0-151">Ottenere un errore di BG_E_TOKEN_REQUIRED e richiedere assistenza con i [token Helper](/windows/desktop/Bits/helper-tokens-for-bits-transfer-jobs)</span><span class="sxs-lookup"><span data-stu-id="1e5c0-151">Getting a BG_E_TOKEN_REQUIRED error and needing assistance with [helper tokens](/windows/desktop/Bits/helper-tokens-for-bits-transfer-jobs)</span></span>

<span data-ttu-id="1e5c0-152">Si tratta di una procedura comune per riconfigurare un processo di errore, quindi chiamare Resume per ritentare il processo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-152">It's a common practice to reconfigure an ERROR'd job and then call Resume to retry the job.</span></span> <span data-ttu-id="1e5c0-153">Ad esempio, è possibile che l'app debba aggiornare il nome remoto di un file tramite [Seremotename](/windows/desktop/api/bits2_0/nf-bits2_0-ibackgroundcopyfile2-setremotename).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-153">For example, your app might need to update a file's remote name via [SetRemoteName](/windows/desktop/api/bits2_0/nf-bits2_0-ibackgroundcopyfile2-setremotename).</span></span>

<span data-ttu-id="1e5c0-154">Lo stato **trasferito** si verifica quando viene eseguito un trasferimento e ha esito positivo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-154">The **TRANSFERRED** state happens when a transfer is done and it succeeded.</span></span> <span data-ttu-id="1e5c0-155">Per finalizzare il processo, è necessario chiamare complete. per i processi di download i file scaricati non saranno disponibili fino al termine della chiamata a complete.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-155">You must call Complete to finalize the job; for download jobs the downloaded files won't be available until after you call Complete.</span></span> <span data-ttu-id="1e5c0-156">L'eccezione a questa regola è rappresentata dai processi che rappresentano i processi a prestazioni elevate (ed è comunque necessario chiamare complete).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-156">The exception to this rule is jobs which are the high performance jobs (and you should still call Complete).</span></span>

## <a name="final-states"></a><span data-ttu-id="1e5c0-157">Stati finali</span><span class="sxs-lookup"><span data-stu-id="1e5c0-157">Final states</span></span>
<span data-ttu-id="1e5c0-158">Quando un processo è in uno stato finale, non è possibile chiamare uno dei metodi di modifica dello stato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-158">Once a job is in a final state, you can't call any of the state-changing methods.</span></span> <span data-ttu-id="1e5c0-159">Il processo verrà **riconosciuto** dopo la chiamata a complete () e saranno disponibili tutti i file scaricati completati.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-159">The job will be **ACKNOWLEDGED** after you call Complete() and all completed downloaded files will be available.</span></span> <span data-ttu-id="1e5c0-160">Il processo verrà **annullato** dopo la chiamata a Cancel () e tutti i file scaricati verranno eliminati.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-160">The job will be **CANCELLED** after you call Cancel() and all downloaded files will be deleted.</span></span> 


## <a name="life-cycle-of-a-bits-job"></a><span data-ttu-id="1e5c0-161">Ciclo di vita di un processo BITS</span><span class="sxs-lookup"><span data-stu-id="1e5c0-161">Life Cycle of a BITS job</span></span>

<span data-ttu-id="1e5c0-162">Il ciclo di vita di un processo BITS inizia al momento della creazione di un processo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-162">The life cycle of a BITS job begins when you create a job.</span></span> <span data-ttu-id="1e5c0-163">Un processo è un contenitore che contiene uno o più file da trasferire.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-163">A job is a container that contains one or more files to transfer.</span></span> <span data-ttu-id="1e5c0-164">Un processo dispone anche di proprietà che specificano il modo in cui BITS trasferisce i file e interagisce con l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-164">A job also has properties that specify how BITS transfers the files and interacts with your application.</span></span> <span data-ttu-id="1e5c0-165">Ad esempio, è possibile specificare la priorità del processo, se il processo è un processo di caricamento o download e per quali eventi si desidera ricevere la notifica.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-165">For example, you can specify the priority of the job, whether the job is an upload or download job, and for which events you want to receive notification.</span></span>

<span data-ttu-id="1e5c0-166">Dopo aver creato il processo, aggiungere uno o più file (i processi di caricamento possono contenere un solo file) al processo e modificare i valori delle proprietà in base alle esigenze dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-166">After you create the job, add one or more files (upload jobs can contain only one file) to the job and change any of the property values as appropriate for your application.</span></span> <span data-ttu-id="1e5c0-167">Quando si aggiunge un file al processo, specificare sia il nome locale (client) che quello remoto (Server) del file.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-167">When you add a file to the job, specify both the local (client) and remote (server) name of the file.</span></span> <span data-ttu-id="1e5c0-168">Il nome del file remoto deve usare il protocollo HTTP, HTTPS o SMB.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-168">The remote file name must use the HTTP, HTTPS, or SMB protocol.</span></span> <span data-ttu-id="1e5c0-169">I file all'interno di un processo vengono elaborati in sequenza (First in, First out).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-169">Files within a job are processed sequentially (first in, first out).</span></span>

<span data-ttu-id="1e5c0-170">BITS sospende automaticamente i processi al momento della creazione.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-170">BITS automatically suspends jobs when they are created.</span></span> <span data-ttu-id="1e5c0-171">È necessario riprendere il processo per attivarlo nella coda di trasferimento.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-171">You must resume the job to activate it in the transfer queue.</span></span> <span data-ttu-id="1e5c0-172">È possibile sospendere o riprendere un processo in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-172">You can suspend or resume a job at any time.</span></span> <span data-ttu-id="1e5c0-173">Se si riprende il processo, lo stato del processo verrà spostato dallo stato sospeso allo stato in coda.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-173">Resuming the job moves the job from the suspended state to the queued state.</span></span> <span data-ttu-id="1e5c0-174">Il processo rimane nello stato in coda fino a quando l'utilità di pianificazione non determina che è il turno del processo di trasferimento dei file.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-174">The job stays in the queued state until the scheduler determines it is the job's turn to transfer files.</span></span> <span data-ttu-id="1e5c0-175">Tutti i processi in primo piano vengono eseguiti simultaneamente con un processo in background.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-175">All foreground jobs run concurrently with one background job.</span></span> <span data-ttu-id="1e5c0-176">BITS elabora in modo seriale i file all'interno dei processi in primo piano.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-176">BITS processes the files within foreground jobs serially.</span></span>

<span data-ttu-id="1e5c0-177">Quando è il turno di un processo di trasferimento dei file, il processo passa allo stato di connessione mentre BITS si connette al server remoto (specificato nel nome file remoto).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-177">When it is a job's turn to transfer files, the job moves to the connecting state while BITS connects to the remote server (specified in the remote file name).</span></span> <span data-ttu-id="1e5c0-178">Se BITS è in grado di connettersi al server remoto, il processo passa allo stato trasferente, dove rimane fino al termine del periodo di tempo, il trasferimento è completo, si verifica un errore o l'applicazione sospende il processo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-178">If BITS is able to connect to the remote server, the job moves to the transferring state where it stays until its time slice ends, the transfer is complete, an error occurs, or the application suspends the job.</span></span>

<span data-ttu-id="1e5c0-179">Il processo viene spostato tra gli stati in coda, la connessione e il trasferimento fino a quando BITS non trasferisce tutti i file nel processo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-179">The job moves between the queued, connecting, and transferring states until BITS transfers all files in the job.</span></span> <span data-ttu-id="1e5c0-180">A questo punto, il processo passa allo stato trasferito.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-180">At that point, the job moves to the transferred state.</span></span> <span data-ttu-id="1e5c0-181">BITS usa la pianificazione Round Robin per pianificare processi con lo stesso livello di priorità.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-181">BITS uses round-robin scheduling to schedule jobs that are at the same priority level.</span></span> <span data-ttu-id="1e5c0-182">A ogni processo viene assegnata una sezione di tempo per elaborare i file.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-182">Each job is given a slice of time to process its files.</span></span> <span data-ttu-id="1e5c0-183">Se il processo non viene completato durante l'intervallo di tempo, il processo torna allo stato in coda e il processo successivo nella coda viene attivato.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-183">If the job does not complete during its time slice, the job goes back to the queued state and the next job in the queue is activated.</span></span> <span data-ttu-id="1e5c0-184">Ciò impedisce ai processi di grandi dimensioni di bloccare i processi più piccoli.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-184">This prevents large jobs from blocking smaller jobs.</span></span> <span data-ttu-id="1e5c0-185">I processi vengono elaborati in gran parte su una base FIFO (First in, First out); BITS, tuttavia, non può garantire l'elaborazione FIFO a causa della pianificazione Round Robin, degli errori di processo e dei riavvii del servizio.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-185">Jobs are processed largely on a first in, first out (FIFO) basis; however, BITS cannot guarantee FIFO processing because of round-robin scheduling, job errors, and service restarts.</span></span>

<span data-ttu-id="1e5c0-186">I file trasferiti non sono disponibili per il client finché l'applicazione non chiama il metodo [**Metodo ibackgroundcopyjob:: complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) per trasferire la proprietà dei file da BITS all'utente.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-186">The transferred files are not available to the client until the application calls the [**IBackgroundCopyJob::Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) method to transfer ownership of the files from BITS to the user.</span></span> <span data-ttu-id="1e5c0-187">I processi di caricamento vengono inoltre impostati sullo stato trasferito quando il file viene ricevuto correttamente dal server.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-187">Upload jobs are also set to the transferred state when the file is successfully received by the server.</span></span> <span data-ttu-id="1e5c0-188">I processi di caricamento-risposta vengono impostati sullo stato trasferito dopo che il file è stato inviato correttamente al server e la risposta dall'applicazione server è stata trasferita al client.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-188">Upload-reply jobs are set to the transferred state after the file is successfully sent to the server and the reply from the server application is successfully transferred to the client.</span></span>

<span data-ttu-id="1e5c0-189">Se si verifica un errore, il processo si sposta in uno stato di errore irreversibile o temporaneo.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-189">If an error occurs, the job moves to either the fatal or transient error state.</span></span> <span data-ttu-id="1e5c0-190">Gli errori irreversibili sono errori che non possono essere ripristinati da o che richiedono un intervento da risolvere.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-190">Fatal errors are errors that BITS cannot recover from or which require intervention to fix.</span></span> <span data-ttu-id="1e5c0-191">Se l'applicazione è in grado di correggere l'errore, l'applicazione riprende il processo e BITS sposta il processo nello stato in coda.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-191">If the application is able to fix the error, the application resumes the job and BITS moves the job to the queued state.</span></span> <span data-ttu-id="1e5c0-192">Gli errori temporanei sono errori che possono risolversi autonomamente.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-192">Transient errors are errors that may resolve themselves.</span></span> <span data-ttu-id="1e5c0-193">BITS ritenta i processi nello stato di errore temporaneo fino a quando il trasferimento non riesce o si verifica il timeout del processo. Si verifica il timeout del processo quando non viene eseguito alcun avanzamento entro il periodo specificato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-193">BITS retries jobs in the transient error state until the transfer is successful or the job times out. The job times out when no progress is made within an application-specified period.</span></span> <span data-ttu-id="1e5c0-194">Se il processo scade, BITS sposta il processo in stato di errore irreversibile.</span><span class="sxs-lookup"><span data-stu-id="1e5c0-194">If the job times out, BITS moves the job to fatal error state.</span></span>

<span data-ttu-id="1e5c0-195">Per ulteriori informazioni sugli stati dei processi, vedere la pagina relativa [**\_ \_ allo stato del processo BG**](/windows/desktop/api/Bits/ne-bits-bg_job_state).</span><span class="sxs-lookup"><span data-stu-id="1e5c0-195">For more information on job states, see [**BG\_JOB\_STATE**](/windows/desktop/api/Bits/ne-bits-bg_job_state).</span></span>
