---
title: Amministrazione della peer cache
description: Nota a partire da Windows 7, il modello di memorizzazione nella cache di peer Servizio trasferimento intelligente in background (BITS) 3,0 è deprecato.
ms.assetid: a33a43e5-02f9-4902-ad3a-ec65b0d80520
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 40b3ea1dd19c9aca855ffd73e174dcb3b588a54d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "103708374"
---
# <a name="administering-the-peer-cache"></a><span data-ttu-id="f5a95-103">Amministrazione della peer cache</span><span class="sxs-lookup"><span data-stu-id="f5a95-103">Administering the Peer Cache</span></span>

> [!Note]  
> <span data-ttu-id="f5a95-104">A partire da Windows 7, il modello di memorizzazione nella cache di peer Servizio trasferimento intelligente in background (BITS) 3,0 è deprecato.</span><span class="sxs-lookup"><span data-stu-id="f5a95-104">Starting with Windows 7, the Background Intelligent Transfer Service (BITS) 3.0 peer caching model is deprecated.</span></span> <span data-ttu-id="f5a95-105">Se è installato BITS 4,0, il modello di memorizzazione nella cache dei peer 3,0 BITS non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="f5a95-105">If BITS 4.0 is installed, the BITS 3.0 peer caching model is unavailable.</span></span>

 

<span data-ttu-id="f5a95-106">Per migliorare le prestazioni di download, BITS consente di scaricare il contenuto da computer peer.</span><span class="sxs-lookup"><span data-stu-id="f5a95-106">To improve download performance, BITS lets you download content from peer computers.</span></span> <span data-ttu-id="f5a95-107">Per abilitare questa funzionalità, l'amministratore deve abilitare l'impostazione di criteri di gruppo EnablePeerCaching.</span><span class="sxs-lookup"><span data-stu-id="f5a95-107">To enable this feature, the administrator must enable the EnablePeerCaching group policy setting.</span></span> <span data-ttu-id="f5a95-108">Se abilitata, il peer può scaricare il contenuto dai peer e distribuire il contenuto ai peer.</span><span class="sxs-lookup"><span data-stu-id="f5a95-108">If enabled, the peer can download content from peers and serve content to peers.</span></span> <span data-ttu-id="f5a95-109">L'amministratore può anche usare le impostazioni dei criteri DisablePeerCachingClient e DisablePeerCachingServer per impedire il download di contenuto da un peer o il contenuto a peer, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="f5a95-109">The administrator can also use the DisablePeerCachingClient and DisablePeerCachingServer policy settings to prevent downloading content from a peer or serving content to peers, respectively.</span></span>

<span data-ttu-id="f5a95-110">Se le impostazioni di criteri di gruppo non sono configurate, un'applicazione può chiamare il metodo [**IBitsPeerCacheAdministration:: SetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setconfigurationflags) per impostare la preferenza per la memorizzazione nella cache del peer per il computer.</span><span class="sxs-lookup"><span data-stu-id="f5a95-110">If the group policy settings are not configured, an application can call the [**IBitsPeerCacheAdministration::SetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setconfigurationflags) method to set the peer caching preference for the computer.</span></span> <span data-ttu-id="f5a95-111">Si noti che queste preferenze vengono sostituite dalle impostazioni di criteri di gruppo se vengono impostate in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="f5a95-111">Note that these preferences are overridden by the group policy settings if they are set later.</span></span> <span data-ttu-id="f5a95-112">Per determinare se il computer consente la memorizzazione nella cache peer, chiamare il metodo [**IBitsPeerCacheAdministration:: GetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-getconfigurationflags) .</span><span class="sxs-lookup"><span data-stu-id="f5a95-112">To determine if the computer enables peer caching, call the [**IBitsPeerCacheAdministration::GetConfigurationFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-getconfigurationflags) method.</span></span>

<span data-ttu-id="f5a95-113">Se la memorizzazione nella cache peer è abilitata, BITS memorizza nella cache solo il contenuto di un processo se il processo ne consente la memorizzazione nella cache in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="f5a95-113">If peer caching is enabled, BITS will only cache the contents of a job if the job explicitly allows its content to be cached.</span></span> <span data-ttu-id="f5a95-114">BITS consente inoltre di scaricare il contenuto da un peer solo se il processo lo consente in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="f5a95-114">BITS will also only download content from a peer if the job explicitly allows it.</span></span> <span data-ttu-id="f5a95-115">Per abilitare la memorizzazione nella cache peer per un processo, chiamare il metodo [**IBackgroundCopyJob4:: SetPeerCachingFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibackgroundcopyjob4-setpeercachingflags) .</span><span class="sxs-lookup"><span data-stu-id="f5a95-115">To enable peer caching for a job, call the [**IBackgroundCopyJob4::SetPeerCachingFlags**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibackgroundcopyjob4-setpeercachingflags) method.</span></span>

<span data-ttu-id="f5a95-116">Oltre a usare Criteri di gruppo o l'interfaccia [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) per abilitare la memorizzazione nella cache peer, è anche possibile usare uno dei due metodi per modificare la dimensione della cache predefinita e il periodo di tempo in cui un file non accessibile rimane nella cache.</span><span class="sxs-lookup"><span data-stu-id="f5a95-116">In addition to using Group Policy or the [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) interface to enable peer caching, you can also use either method to change the default cache size and length of time that a non-accessed file remains in the cache.</span></span> <span data-ttu-id="f5a95-117">Per modificare le impostazioni predefinite usando l'interfaccia **IBitsPeerCacheAdministration** , chiamare i metodi [**SetMaximumCacheSize**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcachesize) e [**SetMaximumContentAge**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcontentage) .</span><span class="sxs-lookup"><span data-stu-id="f5a95-117">To change the defaults using the **IBitsPeerCacheAdministration** interface, call the [**SetMaximumCacheSize**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcachesize) and [**SetMaximumContentAge**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-setmaximumcontentage) methods.</span></span> <span data-ttu-id="f5a95-118">Poiché questi metodi impostano le impostazioni preferenza, vengono sostituiti dalle impostazioni di criteri di gruppo.</span><span class="sxs-lookup"><span data-stu-id="f5a95-118">Since these methods set the preference settings, they are overridden by the group policy settings.</span></span>

<span data-ttu-id="f5a95-119">Per elencare i peer da cui BITS tenterà di scaricare il contenuto, chiamare il metodo [**IBitsPeerCacheAdministration:: EnumPeers**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumpeers) .</span><span class="sxs-lookup"><span data-stu-id="f5a95-119">To list the peers from whom BITS will try to download content, call the [**IBitsPeerCacheAdministration::EnumPeers**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumpeers) method.</span></span>

<span data-ttu-id="f5a95-120">Per elencare i file nella cache che i bit serviranno ai peer, chiamare il metodo [**IBitsPeerCacheAdministration:: EnumRecords**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumrecords) .</span><span class="sxs-lookup"><span data-stu-id="f5a95-120">To list the files in the cache that BITS will serve to peers, call the [**IBitsPeerCacheAdministration::EnumRecords**](/windows/desktop/api/Bits3_0/nf-bits3_0-ibitspeercacheadministration-enumrecords) method.</span></span>

<span data-ttu-id="f5a95-121">Non è mai necessario gestire la peer cache per quanto riguarda l'individuazione di peer o l'eliminazione di record della cache.</span><span class="sxs-lookup"><span data-stu-id="f5a95-121">You should never have to manage the peer cache with regards to discovering peers or deleting cache records.</span></span> <span data-ttu-id="f5a95-122">Questa funzionalità è stata inclusa nell'interfaccia [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) per completezza.</span><span class="sxs-lookup"><span data-stu-id="f5a95-122">This functionality was included in the [**IBitsPeerCacheAdministration**](/windows/desktop/api/Bits3_0/nn-bits3_0-ibitspeercacheadministration) interface for completeness.</span></span>

 

 




