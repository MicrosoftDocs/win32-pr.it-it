---
description: La funzione VirtualFree consente di eseguire il commit e rilasciare le pagine in base alle regole seguenti.
ms.assetid: 8fbd7960-f3f0-4326-ad1d-12b636c0039e
title: Liberare memoria virtuale
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7628ed53f956d5cd13f0c7d2d1157443d529129
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306584"
---
# <a name="freeing-virtual-memory"></a><span data-ttu-id="7fea5-103">Liberare memoria virtuale</span><span class="sxs-lookup"><span data-stu-id="7fea5-103">Freeing Virtual Memory</span></span>

<span data-ttu-id="7fea5-104">La funzione [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) consente di eseguire il commit e rilasciare le pagine in base alle regole seguenti:</span><span class="sxs-lookup"><span data-stu-id="7fea5-104">The [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) function decommits and releases pages according to the following rules:</span></span>

-   <span data-ttu-id="7fea5-105">Esegue il commit di una o più pagine di cui è stato eseguito il commit, modificando lo stato delle pagine in riservato.</span><span class="sxs-lookup"><span data-stu-id="7fea5-105">Decommits one or more committed pages, changing the state of the pages to reserved.</span></span> <span data-ttu-id="7fea5-106">Il commit delle pagine rilascia lo spazio di archiviazione fisico associato alle pagine, rendendolo disponibile per l'allocazione da parte di qualsiasi processo.</span><span class="sxs-lookup"><span data-stu-id="7fea5-106">Decommitting pages releases the physical storage associated with the pages, making it available to be allocated by any process.</span></span> <span data-ttu-id="7fea5-107">È possibile eseguire il commit di qualsiasi blocco di pagine con commit.</span><span class="sxs-lookup"><span data-stu-id="7fea5-107">Any block of committed pages can be decommitted.</span></span>
-   <span data-ttu-id="7fea5-108">Rilascia un blocco di una o più pagine riservate, modificando lo stato delle pagine su Free.</span><span class="sxs-lookup"><span data-stu-id="7fea5-108">Releases a block of one or more reserved pages, changing the state of the pages to free.</span></span> <span data-ttu-id="7fea5-109">Il rilascio di un blocco di pagine rende l'intervallo di indirizzi riservati disponibile per l'allocazione da parte del processo.</span><span class="sxs-lookup"><span data-stu-id="7fea5-109">Releasing a block of pages makes the range of reserved addresses available to be allocated by the process.</span></span> <span data-ttu-id="7fea5-110">Le pagine riservate possono essere rilasciate solo liberando l'intero blocco inizialmente riservato da [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span><span class="sxs-lookup"><span data-stu-id="7fea5-110">Reserved pages can be released only by freeing the entire block that was initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span></span>
-   <span data-ttu-id="7fea5-111">Esegue il commit e rilascia un blocco di una o più pagine di cui è stato eseguito il commit simultaneamente, modificando lo stato delle pagine in libero.</span><span class="sxs-lookup"><span data-stu-id="7fea5-111">Decommits and releases a block of one or more committed pages simultaneously, changing the state of the pages to free.</span></span> <span data-ttu-id="7fea5-112">Il blocco specificato deve includere l'intero blocco inizialmente riservato da [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)ed è necessario che sia attualmente eseguito il commit di tutte le pagine.</span><span class="sxs-lookup"><span data-stu-id="7fea5-112">The specified block must include the entire block initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), and all of the pages must be currently committed.</span></span>

<span data-ttu-id="7fea5-113">Dopo il rilascio o il decommit di un blocco di memoria, non è mai possibile farvi riferimento.</span><span class="sxs-lookup"><span data-stu-id="7fea5-113">After a memory block is released or decommitted, you can never refer to it again.</span></span> <span data-ttu-id="7fea5-114">Tutte le informazioni che potrebbero essere state apportate in tale memoria sono finite per sempre.</span><span class="sxs-lookup"><span data-stu-id="7fea5-114">Any information that may have been in that memory is gone forever.</span></span> <span data-ttu-id="7fea5-115">Il tentativo di leggere o scrivere in una pagina gratuita comporta un'eccezione di violazione di accesso.</span><span class="sxs-lookup"><span data-stu-id="7fea5-115">Attempting to read from or write to a free page results in an access violation exception.</span></span> <span data-ttu-id="7fea5-116">Se sono necessarie informazioni, non eseguire il decommit o liberare memoria contenente tali informazioni.</span><span class="sxs-lookup"><span data-stu-id="7fea5-116">If you require information, do not decommit or free memory containing that information.</span></span>

<span data-ttu-id="7fea5-117">Per specificare che i dati in un intervallo di memoria non sono più di interesse, chiamare [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) con la **\_ reimpostazione della MEM**.</span><span class="sxs-lookup"><span data-stu-id="7fea5-117">To specify that the data in a memory range is no longer of interest, call [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) with **MEM\_RESET**.</span></span> <span data-ttu-id="7fea5-118">Le pagine non verranno lette o scritte nel file di paging.</span><span class="sxs-lookup"><span data-stu-id="7fea5-118">The pages will not be read from or written to the paging file.</span></span> <span data-ttu-id="7fea5-119">Tuttavia, il blocco di memoria può essere usato di nuovo in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="7fea5-119">However, the memory block can be used again later.</span></span>

 

 
