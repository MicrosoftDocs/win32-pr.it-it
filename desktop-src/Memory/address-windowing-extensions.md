---
description: Address Windowing Extensions (AWE) è un set di estensioni che consente a un'applicazione di modificare rapidamente la memoria fisica superiore a 4 GB.
ms.assetid: 48a29922-8130-4540-86b0-0faa120566a6
title: Estensioni della finestra degli indirizzi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b8cb311bf9ecef2de334018ca3f9982a31f0b072
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103881510"
---
# <a name="address-windowing-extensions"></a><span data-ttu-id="ef7e1-103">Estensioni della finestra degli indirizzi</span><span class="sxs-lookup"><span data-stu-id="ef7e1-103">Address Windowing Extensions</span></span>

<span data-ttu-id="ef7e1-104">Address Windowing Extensions (AWE) è un set di estensioni che consente a un'applicazione di modificare rapidamente la memoria fisica superiore a 4 GB.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-104">Address Windowing Extensions (AWE) is a set of extensions that allows an application to quickly manipulate physical memory greater than 4GB.</span></span> <span data-ttu-id="ef7e1-105">Alcune applicazioni con utilizzo intensivo di dati, ad esempio sistemi di gestione di database e software scientifico e ingegneristico, devono accedere a cache di dati di dimensioni molto grandi.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-105">Certain data-intensive applications, such as database management systems and scientific and engineering software, need access to very large caches of data.</span></span> <span data-ttu-id="ef7e1-106">Nel caso di set di dati di grandi dimensioni, la limitazione della cache per adattarsi ai 2 GB di spazio degli indirizzi utente di un'applicazione è una restrizione grave.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-106">In the case of very large data sets, restricting the cache to fit within an application's 2GB of user address space is a severe restriction.</span></span> <span data-ttu-id="ef7e1-107">In queste situazioni, la cache è troppo piccola per supportare correttamente l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-107">In these situations, the cache is too small to properly support the application.</span></span>

<span data-ttu-id="ef7e1-108">AWE risolve questo problema consentendo alle applicazioni di affrontare direttamente grandi quantità di memoria pur continuando a usare puntatori a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-108">AWE solves this problem by allowing applications to directly address huge amounts of memory while continuing to use 32-bit pointers.</span></span> <span data-ttu-id="ef7e1-109">AWE consente alle applicazioni di avere cache di dati di dimensioni superiori a 4 GB (in cui è presente memoria fisica sufficiente).</span><span class="sxs-lookup"><span data-stu-id="ef7e1-109">AWE allows applications to have data caches larger than 4GB (where sufficient physical memory is present).</span></span> <span data-ttu-id="ef7e1-110">AWE utilizza la memoria fisica non di paging e le visualizzazioni finestra di diverse parti di questa memoria fisica in uno spazio degli indirizzi virtuali a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-110">AWE uses physical nonpaged memory and window views of various portions of this physical memory within a 32-bit virtual address space.</span></span>

<span data-ttu-id="ef7e1-111">AWE pone alcune restrizioni sulla modalità di utilizzo di questa memoria, principalmente perché queste restrizioni consentono un mapping estremamente rapido, un nuovo mapping e una liberazione.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-111">AWE places a few restrictions on how this memory may be used, primarily because these restrictions allow extremely fast mapping, remapping, and freeing.</span></span> <span data-ttu-id="ef7e1-112">La gestione rapida della memoria è importante per questi spazi di indirizzi potenzialmente enormi.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-112">Fast memory management is important for these potentially enormous address spaces.</span></span>

-   <span data-ttu-id="ef7e1-113">Gli intervalli di indirizzi virtuali allocati per AWE non sono condivisibili con altri processi (e pertanto non possono essere ereditati).</span><span class="sxs-lookup"><span data-stu-id="ef7e1-113">Virtual address ranges allocated for the AWE are not sharable with other processes (and therefore not inheritable).</span></span> <span data-ttu-id="ef7e1-114">Infatti, non è consentito eseguire il mapping della stessa pagina fisica a due diversi indirizzi virtuali AWE all'interno dello stesso processo.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-114">In fact, two different AWE virtual addresses within the same process are not allowed to map the same physical page.</span></span> <span data-ttu-id="ef7e1-115">Queste restrizioni garantiscono una rapida rimappatura e pulizia quando la memoria viene liberata.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-115">These restrictions provide fast remapping and cleanup when memory is freed.</span></span>
-   <span data-ttu-id="ef7e1-116">Le pagine fisiche che è possibile allocare per un'area AWE sono limitate dal numero di pagine fisiche presenti nel computer, poiché la memoria non viene mai sottoposta a paging, ma viene bloccata fino a quando l'applicazione non la libera esplicitamente o non viene chiusa.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-116">The physical pages that can be allocated for an AWE region are limited by the number of physical pages present in the machine, since this memory is never paged – it is locked down until the application explicitly frees it or exits.</span></span> <span data-ttu-id="ef7e1-117">Le pagine fisiche allocate per un determinato processo possono essere mappate in qualsiasi area virtuale AWE all'interno dello stesso processo.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-117">The physical pages allocated for a given process can be mapped into any AWE virtual region within the same process.</span></span> <span data-ttu-id="ef7e1-118">Per le applicazioni che utilizzano AWE è necessario prestare attenzione a non richiedere una quantità eccessiva di memoria fisica che causi la pagina di altre applicazioni o impedisca la creazione di nuovi processi o thread a causa di risorse insufficienti.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-118">Applications that use AWE must be careful not to take so much physical memory that they cause other applications to page excessively or prevent creation of new processes or threads due to lack of resources.</span></span> <span data-ttu-id="ef7e1-119">Utilizzare la funzione [**GlobalMemoryStatusEx**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-globalmemorystatusex) per monitorare l'utilizzo della memoria fisica.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-119">Use the [**GlobalMemoryStatusEx**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-globalmemorystatusex) function to monitor physical memory use.</span></span>
-   <span data-ttu-id="ef7e1-120">Gli indirizzi virtuali AWE sono sempre di lettura/scrittura e non possono essere protetti tramite chiamate a [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) (ovvero non è possibile specificare la memoria di sola lettura, la memoria NoAccess, le pagine di Guard e la like).</span><span class="sxs-lookup"><span data-stu-id="ef7e1-120">AWE virtual addresses are always read/write and cannot be protected via calls to [**VirtualProtect**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) (that is, no read-only memory, noaccess memory, guard pages, and the like can be specified).</span></span>
-   <span data-ttu-id="ef7e1-121">Non è possibile usare gli intervalli di indirizzi AWE per memorizzare nel buffer i dati per le chiamate grafica o video.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-121">AWE address ranges cannot be used to buffer data for graphics or video calls.</span></span>
-   <span data-ttu-id="ef7e1-122">Un intervallo di memoria AWE non può essere suddiviso, né può essere eliminato.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-122">An AWE memory range cannot be split, nor can pieces of it be deleted.</span></span> <span data-ttu-id="ef7e1-123">Al contrario, l'intero intervallo di indirizzi virtuali deve essere eliminato come unità quando è necessaria l'eliminazione.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-123">Instead, the entire virtual address range must be deleted as a unit when deletion is required.</span></span> <span data-ttu-id="ef7e1-124">Ciò significa che è necessario specificare la **\_ versione di MEM** quando si chiama [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree).</span><span class="sxs-lookup"><span data-stu-id="ef7e1-124">This means you must specify **MEM\_RELEASE** when calling [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree).</span></span>
-   <span data-ttu-id="ef7e1-125">Le applicazioni possono eseguire il mapping di più aree contemporaneamente, a condizione che non si sovrappongano.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-125">Applications can map multiple regions simultaneously, provided they do not overlap.</span></span>
-   <span data-ttu-id="ef7e1-126">Le applicazioni che utilizzano AWE non sono supportate in modalità di emulazione.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-126">Applications that use AWE are not supported in emulation mode.</span></span> <span data-ttu-id="ef7e1-127">Ovvero un'applicazione x86 che utilizza funzioni AWE deve essere ricompilata per l'esecuzione in un altro processore, mentre la maggior parte delle applicazioni può essere eseguita senza ricompilare in un emulatore su altre piattaforme.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-127">That is, an x86 application that uses AWE functions must be recompiled to run on another processor, whereas most applications can run without recompiling under an emulator on other platforms.</span></span>

<span data-ttu-id="ef7e1-128">Questa soluzione risolve i problemi di memoria fisica in modo molto generale e ampiamente applicabile.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-128">This solution addresses the physical memory issues in a very general, widely applicable manner.</span></span> <span data-ttu-id="ef7e1-129">Di seguito sono elencati alcuni dei vantaggi offerti da AWE:</span><span class="sxs-lookup"><span data-stu-id="ef7e1-129">Some of the benefits of AWE are:</span></span>

-   <span data-ttu-id="ef7e1-130">Per modificare la memoria AWE viene definito un piccolo gruppo di nuove funzioni.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-130">A small group of new functions is defined to manipulate AWE memory.</span></span>
-   <span data-ttu-id="ef7e1-131">AWE fornisce una funzionalità di rimapping molto rapida.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-131">AWE provides a very fast remapping capability.</span></span> <span data-ttu-id="ef7e1-132">Il mapping viene eseguito modificando le tabelle di memoria virtuale, non spostando i dati nella memoria fisica.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-132">Remapping is done by manipulating virtual memory tables, not by moving data in physical memory.</span></span>
-   <span data-ttu-id="ef7e1-133">AWE fornisce la granularità delle dimensioni di pagina appropriata per il processore (ad esempio, 4 KB su x86), che è più utile per le applicazioni rispetto a pagine di grandi dimensioni, ad esempio 2MB o 4 MB su x86.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-133">AWE provides page size granularity appropriate to the processor (for example, 4 KB on x86), which is more useful to applications than large pages (for example, 2MB or 4MB on x86).</span></span>

<span data-ttu-id="ef7e1-134">Per utilizzare AWE, un'applicazione deve disporre del privilegio blocco di pagine in memoria.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-134">An application must have the Lock Pages in Memory privilege to use AWE.</span></span> <span data-ttu-id="ef7e1-135">Per ottenere questo privilegio, un amministratore deve aggiungere le **pagine di blocco in memoria** alle **assegnazioni dei diritti utente** dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-135">To obtain this privilege, an administrator must add **Lock Pages in Memory** to the user's **User Rights Assignments**.</span></span> <span data-ttu-id="ef7e1-136">Per ulteriori informazioni su come eseguire questa operazione, vedere "diritti utente" nella guida del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-136">For more information on how to do this, see "User Rights" in the operating system help.</span></span>

<span data-ttu-id="ef7e1-137">Le funzioni seguenti costituiscono l'API AWE (Address Windowing Extensions).</span><span class="sxs-lookup"><span data-stu-id="ef7e1-137">The following functions make up the Address Windowing Extensions (AWE) API.</span></span>



| <span data-ttu-id="ef7e1-138">Funzione</span><span class="sxs-lookup"><span data-stu-id="ef7e1-138">Function</span></span>                                                                          | <span data-ttu-id="ef7e1-139">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef7e1-139">Description</span></span>                                                                                                                                                                                                                                               |
|-----------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ef7e1-140">[**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) e [ **VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex)</span><span class="sxs-lookup"><span data-stu-id="ef7e1-140">[**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) and [**VirtualAllocEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualallocex)</span></span> | <span data-ttu-id="ef7e1-141">Riservare una parte dello spazio degli indirizzi virtuali da usare per AWE, usando la memoria **\_ fisica di MEM**.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-141">Reserve a portion of virtual address space to use for AWE, using **MEM\_PHYSICAL**.</span></span>                                                                                                                                                                       |
| [<span data-ttu-id="ef7e1-142">**AllocateUserPhysicalPages**</span><span class="sxs-lookup"><span data-stu-id="ef7e1-142">**AllocateUserPhysicalPages**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages)                    | <span data-ttu-id="ef7e1-143">Allocare memoria fisica per l'utilizzo con AWE.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-143">Allocate physical memory for use with AWE.</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="ef7e1-144">**MapUserPhysicalPages**</span><span class="sxs-lookup"><span data-stu-id="ef7e1-144">**MapUserPhysicalPages**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-mapuserphysicalpages)                              | <span data-ttu-id="ef7e1-145">Mappare (o invalidare) gli indirizzi virtuali AWE su qualsiasi set di pagine fisiche ottenute con [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages).</span><span class="sxs-lookup"><span data-stu-id="ef7e1-145">Map (or invalidate) AWE virtual addresses onto any set of physical pages obtained with [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages).</span></span>                                                                                                    |
| [<span data-ttu-id="ef7e1-146">**MapUserPhysicalPagesScatter**</span><span class="sxs-lookup"><span data-stu-id="ef7e1-146">**MapUserPhysicalPagesScatter**</span></span>](/windows/desktop/api/WinBase/nf-winbase-mapuserphysicalpagesscatter)                | <span data-ttu-id="ef7e1-147">Mappare (o invalidare) gli indirizzi virtuali AWE su qualsiasi set di pagine fisiche ottenute con [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages), ma con un controllo più preciso rispetto a quello fornito da [**MapUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-mapuserphysicalpages).</span><span class="sxs-lookup"><span data-stu-id="ef7e1-147">Map (or invalidate) AWE virtual addresses onto any set of physical pages obtained with [**AllocateUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-allocateuserphysicalpages), but with finer control than that provided by [**MapUserPhysicalPages**](/windows/win32/api/memoryapi/nf-memoryapi-mapuserphysicalpages).</span></span> |
| [<span data-ttu-id="ef7e1-148">**FreeUserPhysicalPages**</span><span class="sxs-lookup"><span data-stu-id="ef7e1-148">**FreeUserPhysicalPages**</span></span>](/windows/win32/api/memoryapi/nf-memoryapi-freeuserphysicalpages)                            | <span data-ttu-id="ef7e1-149">Memoria fisica libera utilizzata per AWE.</span><span class="sxs-lookup"><span data-stu-id="ef7e1-149">Free physical memory that was used for AWE.</span></span>                                                                                                                                                                                                               |



 

 

 
