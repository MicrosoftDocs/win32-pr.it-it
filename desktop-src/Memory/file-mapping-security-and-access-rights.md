---
description: Il modello di sicurezza di Windows consente di controllare l'accesso agli oggetti di mapping di file. Per ulteriori informazioni, vedere Access-Control Model.
ms.assetid: 8bbf7c98-ff83-4ed9-8b82-f08dcd31295c
title: Diritti di accesso e sicurezza per il mapping dei file
ms.topic: article
ms.date: 10/06/2018
ms.openlocfilehash: 65d520e12d1b555e7c633f0d1e0ba5142c330ce8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106306583"
---
# <a name="file-mapping-security-and-access-rights"></a><span data-ttu-id="e0d84-104">Diritti di accesso e sicurezza per il mapping di file</span><span class="sxs-lookup"><span data-stu-id="e0d84-104">File-mapping security and access rights</span></span>

<span data-ttu-id="e0d84-105">Il modello di sicurezza di Windows consente di controllare l'accesso agli oggetti di mapping di file.</span><span class="sxs-lookup"><span data-stu-id="e0d84-105">The Windows security model lets you control access to file-mapping objects.</span></span> <span data-ttu-id="e0d84-106">Per altre informazioni, vedere [modello di controllo di accesso](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="e0d84-106">For more information, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="e0d84-107">È possibile specificare un [descrittore di sicurezza](../secauthz/security-descriptors.md) per un oggetto mapping di file quando si chiama la funzione [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) .</span><span class="sxs-lookup"><span data-stu-id="e0d84-107">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a file-mapping object when you call the [**CreateFileMapping**](/windows/desktop/api/WinBase/nf-winbase-createfilemappinga) function.</span></span> <span data-ttu-id="e0d84-108">Se si specifica **null**, l'oggetto ottiene un descrittore di sicurezza predefinito.</span><span class="sxs-lookup"><span data-stu-id="e0d84-108">If you specify **NULL**, the object gets a default security descriptor.</span></span> <span data-ttu-id="e0d84-109">Gli ACL nel descrittore di sicurezza predefinito per un oggetto di mapping dei file provengono dal token primario o di rappresentazione del creatore.</span><span class="sxs-lookup"><span data-stu-id="e0d84-109">The ACLs in the default security descriptor for a file-mapping object come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="e0d84-110">Per recuperare il descrittore di sicurezza di un oggetto mapping di file, chiamare la funzione [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa) o [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="e0d84-110">To retrieve the security descriptor of a file-mapping object, call the [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa) or [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="e0d84-111">Per impostare il descrittore di sicurezza di un oggetto mapping di file, chiamare la funzione [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa) o [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="e0d84-111">To set the security descriptor of a file-mapping object, call the [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa) or [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="e0d84-112">I diritti di accesso validi per gli oggetti di mapping dei file includono i [diritti di accesso di tipo](../secauthz/standard-access-rights.md) **eliminazione**, **lettura \_** e **scrittura \_ e scrittura** del **\_ proprietario** .</span><span class="sxs-lookup"><span data-stu-id="e0d84-112">The valid access rights for file-mapping objects include the **DELETE**, **READ\_CONTROL**, **WRITE\_DAC**, and **WRITE\_OWNER** [standard access rights](../secauthz/standard-access-rights.md).</span></span> <span data-ttu-id="e0d84-113">Gli oggetti di mapping dei file non supportano il diritto di accesso standard di **sincronizzazione** .</span><span class="sxs-lookup"><span data-stu-id="e0d84-113">File mapping objects do not support the **SYNCHRONIZE** standard access right.</span></span> <span data-ttu-id="e0d84-114">Nella tabella seguente sono elencati i diritti di accesso specifici per gli oggetti di mapping di file.</span><span class="sxs-lookup"><span data-stu-id="e0d84-114">The following table lists the access rights that are specific to file-mapping objects.</span></span>

| <span data-ttu-id="e0d84-115">Diritto di accesso</span><span class="sxs-lookup"><span data-stu-id="e0d84-115">Access right</span></span> | <span data-ttu-id="e0d84-116">Significato</span><span class="sxs-lookup"><span data-stu-id="e0d84-116">Meaning</span></span> |
|-|-|
| <span data-ttu-id="e0d84-117">**\_accesso a \_ tutti i file mappa \_**</span><span class="sxs-lookup"><span data-stu-id="e0d84-117">**FILE\_MAP\_ALL\_ACCESS**</span></span> | <span data-ttu-id="e0d84-118">Include tutti i diritti di accesso a un oggetto di mapping di file ad eccezione di **\_ \_ Esegui mapping file**.</span><span class="sxs-lookup"><span data-stu-id="e0d84-118">Includes all access rights to a file-mapping object except **FILE\_MAP\_EXECUTE**.</span></span> <span data-ttu-id="e0d84-119">Le funzioni [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) e [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) considerano questo oggetto analogo a quanto specificato per la **\_ \_ scrittura di mapping di file**.</span><span class="sxs-lookup"><span data-stu-id="e0d84-119">The [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) and [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) functions treat this the same as specifying **FILE\_MAP\_WRITE**.</span></span> |
| <span data-ttu-id="e0d84-120">**\_esecuzione mapping di file \_**</span><span class="sxs-lookup"><span data-stu-id="e0d84-120">**FILE\_MAP\_EXECUTE**</span></span> | <span data-ttu-id="e0d84-121">Consente il mapping di viste eseguibili dell'oggetto mapping di file.</span><span class="sxs-lookup"><span data-stu-id="e0d84-121">Allows mapping of executable views of the file-mapping object.</span></span> <span data-ttu-id="e0d84-122">L'oggetto deve essere stato creato con la protezione della pagina che consente l'accesso in esecuzione, ad esempio **pagina \_ esecuzione \_ lettura**, **pagina \_ esecuzione \_ WRITECOPY** o **pagina \_ esecuzione \_ ReadWrite** protezione.</span><span class="sxs-lookup"><span data-stu-id="e0d84-122">The object must have been created with page protection that allows execute access, such as **PAGE\_EXECUTE\_READ**, **PAGE\_EXECUTE\_WRITECOPY**, or **PAGE\_EXECUTE\_READWRITE** protection.</span></span>  |
| <span data-ttu-id="e0d84-123">**\_lettura mapping \_ file**</span><span class="sxs-lookup"><span data-stu-id="e0d84-123">**FILE\_MAP\_READ**</span></span> | <span data-ttu-id="e0d84-124">Consente il mapping delle visualizzazioni di sola lettura o copy-on-Write dell'oggetto mapping di file.</span><span class="sxs-lookup"><span data-stu-id="e0d84-124">Allows mapping of read-only or copy-on-write views of the file-mapping object.</span></span>  |
| <span data-ttu-id="e0d84-125">**\_scrittura mappa \_ file**</span><span class="sxs-lookup"><span data-stu-id="e0d84-125">**FILE\_MAP\_WRITE**</span></span> | <span data-ttu-id="e0d84-126">Consente il mapping delle visualizzazioni di sola lettura, copia in scrittura o lettura/scrittura di un oggetto mapping di file.</span><span class="sxs-lookup"><span data-stu-id="e0d84-126">Allows mapping of read-only, copy-on-write, or read/write views of a file-mapping object.</span></span> <span data-ttu-id="e0d84-127">L'oggetto deve essere stato creato con la protezione della pagina che consente l'accesso in scrittura, ad esempio **pagina \_ ReadWrite** o **pagina \_ esecuzione \_ ReadWrite** protezione.</span><span class="sxs-lookup"><span data-stu-id="e0d84-127">The object must have been created with page protection that allows write access, such as **PAGE\_READWRITE** or **PAGE\_EXECUTE\_READWRITE** protection.</span></span> |

<span data-ttu-id="e0d84-128">Il mapping di una visualizzazione copy-on-Write di un oggetto mapping di file richiede lo stesso accesso come mapping di una visualizzazione di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="e0d84-128">Mapping a copy-on-write view of a file-mapping object requires the same access as mapping a read-only view.</span></span> <span data-ttu-id="e0d84-129">Il flag di **\_ \_ copia della mappa file** non è un diritto di accesso e non deve essere specificato come parte di un DACL in un descrittore di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="e0d84-129">The **FILE\_MAP\_COPY** flag is not an access right, and it should not be specified as part of a DACL in a security descriptor.</span></span> <span data-ttu-id="e0d84-130">Questo valore può essere usato solo con funzioni che mappano una visualizzazione di un oggetto mapping di file, ad esempio le funzioni [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) e [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) , o con la funzione [**OpenFileMapping**](/windows/desktop/api/WinBase/nf-winbase-openfilemappinga) , che considera la **\_ \_ copia** del mapping dei file nello stesso modo in cui tratta la **lettura della \_ mappa \_ del file**.</span><span class="sxs-lookup"><span data-stu-id="e0d84-130">This value can be used only with functions that map a view of a file-mapping object, such as the [**MapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffile) and [**MapViewOfFileEx**](/windows/win32/api/memoryapi/nf-memoryapi-mapviewoffileex) functions, or with the [**OpenFileMapping**](/windows/desktop/api/WinBase/nf-winbase-openfilemappinga) function, which treats **FILE\_MAP\_COPY** the same way it treats **FILE\_MAP\_READ**.</span></span>

<span data-ttu-id="e0d84-131">È possibile richiedere il diritto di accesso di **\_ \_ sicurezza del sistema di accesso** a un oggetto mapping di file se si desidera leggere o scrivere il SACL dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="e0d84-131">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a file-mapping object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="e0d84-132">Per altre informazioni, vedere [elenchi di controllo di accesso (ACL)](../secauthz/access-control-lists.md) e [accesso SACL diritto](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="e0d84-132">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>
