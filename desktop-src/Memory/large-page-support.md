---
description: Il supporto di pagine di grandi dimensioni consente alle applicazioni server di stabilire aree di memoria di grandi dimensioni, che risulta particolarmente utile in Windows a 64 bit.
ms.assetid: 060115af-38d1-499c-b30c-47cd0cf42d20
title: Supporto Large-Page
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ef4578b5127e6613f2ff4b6e0b8a7cffcc53c9e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106307264"
---
# <a name="large-page-support"></a><span data-ttu-id="2545f-103">Supporto Large-Page</span><span class="sxs-lookup"><span data-stu-id="2545f-103">Large-Page Support</span></span>

<span data-ttu-id="2545f-104">Il supporto di pagine di grandi dimensioni consente alle applicazioni server di stabilire aree di memoria di grandi dimensioni, che risulta particolarmente utile in Windows a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="2545f-104">Large-page support enables server applications to establish large-page memory regions, which is particularly useful on 64-bit Windows.</span></span> <span data-ttu-id="2545f-105">Ogni traduzione di pagine di grandi dimensioni utilizza un solo buffer di traduzione all'interno della CPU.</span><span class="sxs-lookup"><span data-stu-id="2545f-105">Each large-page translation uses a single translation buffer inside the CPU.</span></span> <span data-ttu-id="2545f-106">La dimensione di questo buffer è in genere di tre ordini di grandezza maggiore della dimensione nativa della pagina; in questo modo si aumenta l'efficienza del buffer di conversione, che può migliorare le prestazioni per la memoria a cui si accede di frequente.</span><span class="sxs-lookup"><span data-stu-id="2545f-106">The size of this buffer is typically three orders of magnitude larger than the native page size; this increases the efficiency of the translation buffer, which can increase performance for frequently accessed memory.</span></span>

<span data-ttu-id="2545f-107">Nella procedura riportata di seguito viene descritto come utilizzare il supporto di pagine di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="2545f-107">The following procedure describes how to use large-page support.</span></span>

<span data-ttu-id="2545f-108">**Per utilizzare il supporto per pagine di grandi dimensioni**</span><span class="sxs-lookup"><span data-stu-id="2545f-108">**To use large-page support**</span></span>

1.  <span data-ttu-id="2545f-109">Ottenere il privilegio **SeLockMemoryPrivilege** chiamando la funzione [**AdjustTokenPrivileges**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) .</span><span class="sxs-lookup"><span data-stu-id="2545f-109">Obtain the **SeLockMemoryPrivilege** privilege by calling the [**AdjustTokenPrivileges**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) function.</span></span> <span data-ttu-id="2545f-110">Per altre informazioni, vedere [assegnazione di privilegi a un account](../secbp/assigning-privileges-to-an-account.md) e [modifica dei privilegi in un token](../secbp/changing-privileges-in-a-token.md).</span><span class="sxs-lookup"><span data-stu-id="2545f-110">For more information, see [Assigning Privileges to an Account](../secbp/assigning-privileges-to-an-account.md) and [Changing Privileges in a Token](../secbp/changing-privileges-in-a-token.md).</span></span>
2.  <span data-ttu-id="2545f-111">Recuperare le dimensioni minime della pagina di grandi dimensioni chiamando la funzione [**GetLargePageMinimum**](/windows/win32/api/memoryapi/nf-memoryapi-getlargepageminimum) .</span><span class="sxs-lookup"><span data-stu-id="2545f-111">Retrieve the minimum large-page size by calling the [**GetLargePageMinimum**](/windows/win32/api/memoryapi/nf-memoryapi-getlargepageminimum) function.</span></span>
3.  <span data-ttu-id="2545f-112">Quando si chiama la funzione [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) , includere il valore di **\_ \_ pagine di grandi dimensioni** .</span><span class="sxs-lookup"><span data-stu-id="2545f-112">Include the **MEM\_LARGE\_PAGES** value when calling the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) function.</span></span> <span data-ttu-id="2545f-113">Le dimensioni e l'allineamento devono essere un multiplo del valore minimo per le pagine di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="2545f-113">The size and alignment must be a multiple of the large-page minimum.</span></span>

<span data-ttu-id="2545f-114">Quando si scrivono applicazioni che utilizzano memoria di pagine di grandi dimensioni, tenere presenti le considerazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="2545f-114">When writing applications that use large-page memory, keep the following considerations in mind:</span></span>

-   <span data-ttu-id="2545f-115">Le aree di memoria di grandi dimensioni possono essere difficili da ottenere dopo che il sistema è stato eseguito per molto tempo perché lo spazio fisico per ogni pagina di grandi dimensioni deve essere contiguo, ma la memoria potrebbe essere stata frammentata.</span><span class="sxs-lookup"><span data-stu-id="2545f-115">Large-page memory regions may be difficult to obtain after the system has been running for a long time because the physical space for each large page must be contiguous, but the memory may have become fragmented.</span></span> <span data-ttu-id="2545f-116">L'allocazione di pagine di grandi dimensioni in queste condizioni può influire significativamente sulle prestazioni del sistema.</span><span class="sxs-lookup"><span data-stu-id="2545f-116">Allocating large pages under these conditions can significantly affect system performance.</span></span> <span data-ttu-id="2545f-117">Pertanto, le applicazioni devono evitare di eseguire allocazioni ripetute di pagine di grandi dimensioni, allocando invece tutte le pagine di grandi dimensioni una volta all'avvio.</span><span class="sxs-lookup"><span data-stu-id="2545f-117">Therefore, applications should avoid making repeated large-page allocations and instead allocate all large pages one time, at startup.</span></span>
-   <span data-ttu-id="2545f-118">La memoria è sempre di lettura/scrittura e non paginabile (sempre residente nella memoria fisica).</span><span class="sxs-lookup"><span data-stu-id="2545f-118">The memory is always read/write and nonpageable (always resident in physical memory).</span></span>
-   <span data-ttu-id="2545f-119">La memoria fa parte del processo byte privati ma non fa parte dell'working set, perché il working set per definizione contiene solo la memoria paginabile.</span><span class="sxs-lookup"><span data-stu-id="2545f-119">The memory is part of the process private bytes but not part of the working set, because the working set by definition contains only pageable memory.</span></span>
-   <span data-ttu-id="2545f-120">Le allocazioni di pagine di grandi dimensioni non sono soggette ai limiti dei processi.</span><span class="sxs-lookup"><span data-stu-id="2545f-120">Large-page allocations are not subject to job limits.</span></span>
-   <span data-ttu-id="2545f-121">La memoria di una pagina di grandi dimensioni deve essere riservata e impegnata come singola operazione.</span><span class="sxs-lookup"><span data-stu-id="2545f-121">Large-page memory must be reserved and committed as a single operation.</span></span> <span data-ttu-id="2545f-122">In altre parole, le pagine di grandi dimensioni non possono essere usate per eseguire il commit di un intervallo di memoria precedentemente riservato.</span><span class="sxs-lookup"><span data-stu-id="2545f-122">In other words, large pages cannot be used to commit a previously reserved range of memory.</span></span>
-   <span data-ttu-id="2545f-123">WOW64 in sistemi basati su Intel Itanium non supporta le applicazioni a 32 bit che utilizzano questa funzionalità.</span><span class="sxs-lookup"><span data-stu-id="2545f-123">WOW64 on Intel Itanium-based systems does not support 32-bit applications that use this feature.</span></span> <span data-ttu-id="2545f-124">Le applicazioni devono essere ricompilate come applicazioni native a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="2545f-124">The applications should be recompiled as native 64-bit applications.</span></span>

 

 
