---
title: Utilizzo di HTTP come trasporto RPC
description: RPC-over-HTTP consente ai programmi client di usare Internet per eseguire le procedure fornite dai programmi server in reti remote.
ms.assetid: b5062d70-7625-4a9f-a8c1-025ef8342fcb
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5860757a6c5df9937e77fc078df2526affb967fa
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "104471366"
---
# <a name="using-http-as-an-rpc-transport"></a><span data-ttu-id="fbfa6-103">Utilizzo di HTTP come trasporto RPC</span><span class="sxs-lookup"><span data-stu-id="fbfa6-103">Using HTTP as an RPC Transport</span></span>

<span data-ttu-id="fbfa6-104">RPC-over-HTTP consente ai programmi client di usare Internet per eseguire le procedure fornite dai programmi server in reti remote.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-104">RPC-over-HTTP enables client programs to use the Internet to execute procedures provided by server programs on distant networks.</span></span> <span data-ttu-id="fbfa6-105">RPC su HTTP esegue il tunneling delle chiamate tramite una porta HTTP stabilita.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-105">RPC over HTTP tunnels its calls through an established HTTP port.</span></span> <span data-ttu-id="fbfa6-106">Pertanto, le chiamate possono attraversare i firewall di rete sia per le reti client che per quelle server.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-106">Thus, its calls can cross network firewalls on both the client and server networks.</span></span>

<span data-ttu-id="fbfa6-107">RPC su HTTP instrada le chiamate al proxy RPC che si trova nella rete del server RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-107">RPC over HTTP routes its calls to the RPC proxy located on the RPC server's network.</span></span> <span data-ttu-id="fbfa6-108">Il proxy RPC stabilisce e gestisce una connessione al server RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-108">The RPC Proxy establishes and maintains a connection to the RPC server.</span></span> <span data-ttu-id="fbfa6-109">Funge da proxy, inviando chiamate a procedure remote al server RPC e inviando le risposte del server attraverso Internet all'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-109">It serves as a proxy, dispatching remote procedure calls to the RPC server and sending the server's replies back across the Internet to the client application.</span></span> <span data-ttu-id="fbfa6-110">Questo processo è illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-110">This process is illustrated in the following diagram.</span></span>

![interazione tra un server RPC e Internet Information Server per http RPC](images/httprpc1.png)

<span data-ttu-id="fbfa6-112">Il diagramma mostra un firewall nella rete dell'applicazione client.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-112">The diagram shows a firewall on the client application's network.</span></span> <span data-ttu-id="fbfa6-113">Questa operazione non è necessaria per il funzionamento di RPC su HTTP.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-113">This is not required for RPC over HTTP to operate.</span></span> <span data-ttu-id="fbfa6-114">Tuttavia, se la rete client dispone di un firewall, sarà necessario anche un programma server proxy quale Microsoft Proxy Server.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-114">However, if the client network does have a firewall, it will also need a proxy server program such as Microsoft Proxy Server.</span></span>

<span data-ttu-id="fbfa6-115">Quando il programma client invia una chiamata di procedura remota utilizzando HTTP come trasporto, la libreria di runtime RPC sul client contatta il proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-115">When the client program issues a remote procedure call using HTTP as the transport, the RPC run-time library on the client contacts the RPC proxy.</span></span> <span data-ttu-id="fbfa6-116">A seconda che il client RPC debba utilizzare rispettivamente la porta HTTP o HTTPS (HTTP con SSL) 80 o la porta 443.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-116">Depending on whether the RPC client was asked to use HTTP or HTTPS (HTTP with SSL) port 80 or port 443 is used, respectively.</span></span> <span data-ttu-id="fbfa6-117">Il proxy RPC contatta il programma server RPC e stabilisce una connessione TCP/IP.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-117">The RPC proxy contacts the RPC server program and establishes a TCP/IP connection.</span></span> <span data-ttu-id="fbfa6-118">Il client e il proxy RPC gestiscono la connessione HTTP o HTTPS su Internet.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-118">The client and the RPC proxy maintain their HTTP or HTTPS connection across the Internet.</span></span> <span data-ttu-id="fbfa6-119">La connessione HTTP o HTTPS del client al proxy RPC può passare attraverso un firewall (soggetto alle autorizzazioni di accesso appropriate) se presente.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-119">The client's HTTP or HTTPS connection to the RPC proxy can pass through a firewall (subject to appropriate access permissions) if one is present.</span></span> <span data-ttu-id="fbfa6-120">Il server può quindi eseguire la chiamata di procedura remota e utilizzare la connessione tramite il proxy RPC per rispondere al client.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-120">The server can then execute the remote procedure call and use the connection through the RPC proxy to reply to the client.</span></span> <span data-ttu-id="fbfa6-121">Il proxy RPC è un'estensione ISAPI in esecuzione nel contesto di IIS.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-121">The RPC proxy is an ISAPI extension running in the context of IIS.</span></span>

<span data-ttu-id="fbfa6-122">Se per qualsiasi motivo il client o il server si disconnette, il proxy RPC lo rileverà e terminerà la sessione RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-122">If either the client or the server disconnects for any reason, the RPC proxy will detect it and end the RPC session.</span></span> <span data-ttu-id="fbfa6-123">Fino a quando la sessione continua, il proxy RPC manterrà le connessioni al client e al server.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-123">As long as the session continues, the RPC proxy will maintain its connections to the client and the server.</span></span> <span data-ttu-id="fbfa6-124">Inoltra le chiamate di procedura remota dal client al server e invierà le risposte dal server al client.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-124">It will forward remote procedure calls from the client to the server, and send replies from the server to the client.</span></span>

<span data-ttu-id="fbfa6-125">Il programma client RPC può eseguire il tunneling delle chiamate RPC tramite Internet creando un'associazione di stringa nel formato seguente:</span><span class="sxs-lookup"><span data-stu-id="fbfa6-125">The RPC client program can tunnel its RPC calls through the Internet by creating a string binding of the form:</span></span>

``` syntax
[object_uuid@]ncacn_http:rpc_server[endpoint,HttpProxy=proxy_server:http_port,RpcProxy=rpc_proxy:rpc_port,HttpConnectionOption=UseHttpProxy]
```

<span data-ttu-id="fbfa6-126">Dove:</span><span class="sxs-lookup"><span data-stu-id="fbfa6-126">Where:</span></span>

-   <span data-ttu-id="fbfa6-127">*\_ UUID oggetto* specifica un UUID dell'oggetto RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-127">*object\_uuid* specifies an RPC object UUID.</span></span> <span data-ttu-id="fbfa6-128">Per altre informazioni, vedere [generazione di UUID di interfaccia](generating-interface-uuids.md) e [UUID di stringa](string-uuid.md).</span><span class="sxs-lookup"><span data-stu-id="fbfa6-128">For more information, see [Generating Interface UUIDs](generating-interface-uuids.md) and [String UUID](string-uuid.md).</span></span>
-   <span data-ttu-id="fbfa6-129">**ncacn \_ http** consente di selezionare la specifica della sequenza di protocollo per RPC su http.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-129">**ncacn\_http** selects the protocol sequence specification for RPC over HTTP.</span></span> <span data-ttu-id="fbfa6-130">Per altre informazioni, vedere [costanti di sequenza del protocollo](protocol-sequence-constants.md) e [binding di stringa](string-binding.md).</span><span class="sxs-lookup"><span data-stu-id="fbfa6-130">For more information, see [Protocol Sequence Constants](protocol-sequence-constants.md) and [String Binding](string-binding.md).</span></span>
-   <span data-ttu-id="fbfa6-131">*il \_ server RPC* è l'indirizzo di rete del computer in cui è in esecuzione il processo server RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-131">*rpc\_server* is the network address of the computer that is executing the RPC server process.</span></span> <span data-ttu-id="fbfa6-132">L'indirizzo del server deve essere specificato in un form visibile e comprensibile dal computer proxy RPC, non dal client.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-132">The server address must be specified in a form visible and understandable by the RPC proxy computer, not by the client.</span></span> <span data-ttu-id="fbfa6-133">Poiché il client non si connette direttamente al server, non è necessario che sia in grado di risolvere il nome del server o di stabilire una connessione.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-133">Since the client does not connect directly to the server, it does not need to be able to resolve the name of the server, or establish a connection to it.</span></span> <span data-ttu-id="fbfa6-134">Il proxy RPC stabilirà la connessione per conto del client e pertanto il *\_ server RPC* deve essere un nome riconoscibile dal proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-134">The RPC proxy will establish the connection on the client's behalf, and therefore, *rpc\_server* must be a name recognizable by the RPC proxy.</span></span>
-   <span data-ttu-id="fbfa6-135">*endpoint* specifica la porta TCP/IP su cui il processo server RPC è in ascolto per le chiamate di procedure remote.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-135">*endpoint* specifies the TCP/IP port that the RPC server process listens to for remote procedure calls.</span></span> <span data-ttu-id="fbfa6-136">Per ulteriori informazioni, vedere la pagina relativa alla [ricerca di endpoint](finding-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="fbfa6-136">For more information, see [Finding Endpoints](finding-endpoints.md).</span></span>
-   <span data-ttu-id="fbfa6-137">**HttpProxy** consente di specificare facoltativamente un server proxy HTTP nella rete del client RPC, ad esempio Microsoft Proxy Server.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-137">**HttpProxy** optionally specifies an HTTP proxy server on the RPC client's network, such as Microsoft Proxy Server.</span></span> <span data-ttu-id="fbfa6-138">Se è selezionato un server proxy, non viene specificato alcun numero di porta, lo stub RPC usa la porta 80 per impostazione predefinita se non viene richiesto SSL e la porta 443 se è specificato SSL.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-138">If a proxy server is selected, no port number is specified, the RPC stub uses port 80 by default if SSL is not requested, and port 443 if SSL is specified.</span></span>
-   <span data-ttu-id="fbfa6-139">**Rpcproxy** specifica l'indirizzo e il numero di porta del computer IIS che funge da proxy per il server RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-139">**RpcProxy** specifies the address and port number of the IIS computer that acts as a proxy to the RPC server.</span></span> <span data-ttu-id="fbfa6-140">È necessario specificare questa impostazione solo se il processo server RPC si trova in un computer diverso da quello del proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-140">You only need to specify this if the RPC server process resides on a different computer than the RPC proxy.</span></span> <span data-ttu-id="fbfa6-141">Se non si specifica un numero di porta, per impostazione predefinita lo stub del client RPC utilizza la porta 80 se non si specifica SSL e utilizza la porta 443 se viene specificato SSL (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="fbfa6-141">If you do not specify a port number, the RPC client stub by default uses port 80 if SSL is not specified, and uses port 443 if SSL (HTTPS) is specified.</span></span>
-   <span data-ttu-id="fbfa6-142">**HttpConnectionOption** facoltativamente consente di indirizzare il comportamento di RPC quando si effettuano le connessioni HTTP.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-142">**HttpConnectionOption** optionally allows you to direct RPC’s behavior when making HTTP connections.</span></span> <span data-ttu-id="fbfa6-143">Il valore **UseHttpProxy** indica a RPC di instradare il traffico attraverso il proxy http sempre, anche quando le opzioni Internet del client sono impostate in Internet Explorer su "Ignora server proxy per indirizzi locali".</span><span class="sxs-lookup"><span data-stu-id="fbfa6-143">The **UseHttpProxy** value instructs RPC to route its traffic through the Http proxy at all times, including when the client has their Internet Options set in Internet Explorer to “Bypass proxy server for local addresses.”</span></span>

    <span data-ttu-id="fbfa6-144">Questa opzione è supportata in Windows 7, Windows Server 2008 R2, Windows 8.1 e Windows Server 2012 R2 con KB2916915 installato.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-144">This option is supported on Windows 7, Windows Server 2008 R2, Windows 8.1, and Windows Server 2012 R2 with KB2916915 installed.</span></span> <span data-ttu-id="fbfa6-145">Questa opzione non è supportata in Windows 8 e Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-145">This option is not supported on Windows 8 and Windows Server 2012.</span></span> <span data-ttu-id="fbfa6-146">Le applicazioni possono determinare se questa opzione è supportata dal runtime RPC controllando il valore del registro di sistema **ConnectionOptionsFlag** che si trova nella seguente chiave del registro di sistema:</span><span class="sxs-lookup"><span data-stu-id="fbfa6-146">Applications can determine if this option is supported by the RPC runtime by checking the **ConnectionOptionsFlag** registry value located under the following registry key:</span></span>

    <span data-ttu-id="fbfa6-147">**HKEY \_ \_ computer locale \\ software \\ Microsoft \\ RPC**</span><span class="sxs-lookup"><span data-stu-id="fbfa6-147">**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Rpc**</span></span>

    <span data-ttu-id="fbfa6-148">Se viene impostato il bit 0 (LSB) del valore del registro di sistema, questa opzione specifica è supportata. in caso contrario, questa opzione non è supportata dal runtime RPC nel sistema.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-148">If the bit 0 (LSB) of this registry value is set, then this specific option is supported; otherwise, this option is not supported by the RPC runtime in the system.</span></span>

<span data-ttu-id="fbfa6-149">Per ulteriori informazioni sulla creazione di associazioni di stringa, vedere [Binding e handle](binding-and-handles.md).</span><span class="sxs-lookup"><span data-stu-id="fbfa6-149">For more information on creating string bindings, see [Binding and Handles](binding-and-handles.md).</span></span>

<span data-ttu-id="fbfa6-150">Il programma server RPC può accettare chiamate RPC con tunneling ascoltando la \_ sequenza del protocollo http ncacn.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-150">The RPC server program can accept tunneled RPC calls by listening on the ncacn\_http protocol sequence.</span></span>

<span data-ttu-id="fbfa6-151">Microsoft dispone di due implementazioni principali di RPC su HTTP: versione 1 e versione 2.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-151">Microsoft has two major implementations of RPC over HTTP: Version 1 and Version 2.</span></span>

<span data-ttu-id="fbfa6-152">La versione 1 (denominata RPC su HTTP V1) è supportata tramite Windows XP.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-152">Version 1 (called RPC over HTTP v1) is supported through Windows XP.</span></span> <span data-ttu-id="fbfa6-153">La versione 1 del proxy RPC è supportata da Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-153">Version 1 of the RPC proxy is supported through Windows 2000.</span></span>

<span data-ttu-id="fbfa6-154">La versione 2 (denominata RPC su HTTP v2) è la versione corrente.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-154">Version 2 (called RPC over HTTP v2) is the current version.</span></span>

<span data-ttu-id="fbfa6-155">Le due versioni hanno funzionalità diverse e un'interoperabilità limitata.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-155">The two versions have different capabilities and limited interoperability.</span></span> <span data-ttu-id="fbfa6-156">Un riepilogo delle differenze è disponibile qui.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-156">A summary of the differences is provided here.</span></span> <span data-ttu-id="fbfa6-157">Per considerazioni sull'interoperabilità, vedere [requisiti di sistema e interoperabilità per RPC su http](system-requirements-and-interoperability-for-rpc-over-http.md).</span><span class="sxs-lookup"><span data-stu-id="fbfa6-157">For interoperability considerations, see [System Requirements and Interoperability for RPC over HTTP](system-requirements-and-interoperability-for-rpc-over-http.md).</span></span>

-   <span data-ttu-id="fbfa6-158">RPC su HTTP V1 richiede l'abilitazione del tunneling SSL su tutti i proxy/firewall HTTP tra il client RPC su HTTP e il proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-158">RPC over HTTP v1 requires SSL Tunneling to be enabled on all HTTP proxies/firewalls between the RPC over HTTP client and the RPC proxy.</span></span> <span data-ttu-id="fbfa6-159">RPC su HTTP V1 tenta di creare un tunnel SSL sulla porta 80 anche se i dati inviati non sono effettivamente crittografati tramite SSL.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-159">RPC over HTTP v1 attempts to build an SSL Tunnel over port 80 even though the data it sends is not actually SSL-encrypted.</span></span> <span data-ttu-id="fbfa6-160">Proxy e firewall in genere rifiutano tali richieste, a meno che non siano configurate in modo esplicito per consentirle.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-160">Proxies and firewalls usually reject such requests unless explicitly configured to allow them.</span></span> <span data-ttu-id="fbfa6-161">RPC su HTTP V2 non ha tale requisito.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-161">RPC over HTTP v2 has no such requirement.</span></span>
-   <span data-ttu-id="fbfa6-162">RPC su HTTP V1 non è in grado di stabilire una sessione SSL per il proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-162">RPC over HTTP v1 cannot establish an SSL session to the RPC proxy.</span></span> <span data-ttu-id="fbfa6-163">RPC su HTTP V2 può inviare tutto il traffico RPC su HTTP all'interno di una sessione SSL. per impostazione predefinita, la versione V2 richiede che i dati vengano inviati in una sessione SSL.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-163">The RPC over HTTP v2 can send all RPC over HTTP traffic within an SSL session; by default v2 requires the data be sent within an SSL session.</span></span>
-   <span data-ttu-id="fbfa6-164">RPC su HTTP V1 non è in grado di eseguire l'autenticazione al proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-164">RPC over HTTP v1 cannot authenticate to the RPC proxy.</span></span> <span data-ttu-id="fbfa6-165">La RPC su HTTP V2 può eseguire l'autenticazione; per impostazione predefinita, la versione V2 richiede l'autenticazione al proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-165">RPC over HTTP v2 can authenticate; by default v2 requires authentication to the RPC proxy.</span></span>
-   <span data-ttu-id="fbfa6-166">Il proxy RPC V1 non funziona correttamente quando il computer IIS in cui è installato fa parte di un Web farm.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-166">RPC proxy v1 does not operate correctly when the IIS machine on which it is installed is part of a web farm.</span></span> <span data-ttu-id="fbfa6-167">Il proxy RPC V2 funziona correttamente quando il computer IIS in cui è installato fa parte di un Web farm.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-167">RPC proxy v2 operates properly when the IIS machine on which it is installed is part of a web farm.</span></span>

> [!Note]  
> <span data-ttu-id="fbfa6-168">Se Microsoft Internet Explorer è installato nel computer del programma client e il client non specifica un **HttpProxy** nell'associazione di stringhe, lo stub client RPC eseguirà la ricerca nel registro di sistema del computer client per una voce **HttpProxy** .</span><span class="sxs-lookup"><span data-stu-id="fbfa6-168">If Microsoft Internet Explorer is installed on the client program's computer and your client does not specify an **HttpProxy** in its string binding, the RPC client stub will search the registry on the client computer for an **HttpProxy** entry.</span></span> <span data-ttu-id="fbfa6-169">Se ne trova una, utilizzerà il proxy specificato nella voce del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-169">If it finds one, it will use the proxy specified in the registry entry.</span></span>

 

<span data-ttu-id="fbfa6-170">Si supponga, ad esempio, che il programma client debba connettersi attraverso Internet a un server RPC in un computer denominato Server7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-170">Suppose, for instance, your client program needs to connect across the Internet to an RPC server on a computer called Server7.microsoft.com.</span></span> <span data-ttu-id="fbfa6-171">Si supponga inoltre che il proxy RPC venga eseguito in Major7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-171">Further, suppose that the RPC proxy runs on Major7.microsoft.com.</span></span> <span data-ttu-id="fbfa6-172">Il programma server RPC è in ascolto sulla porta 2225.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-172">The RPC server program listens to port 2225.</span></span> <span data-ttu-id="fbfa6-173">Il client userà l'associazione di stringhe:</span><span class="sxs-lookup"><span data-stu-id="fbfa6-173">Your client would use the string binding:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[2225, RpcProxy=Major7.microsoft.com]
```

<span data-ttu-id="fbfa6-174">Se il proxy RPC può risolvere il nome del server come server7, senza richiedere un nome di dominio completo, è anche possibile specificare:</span><span class="sxs-lookup"><span data-stu-id="fbfa6-174">If the RPC proxy can resolve the server name as Server7, without requiring a fully qualified domain name, you can also specify:</span></span>

``` syntax
ncacn_http:Server7 [2225, RpcProxy=Major7.microsoft.com]
```

<span data-ttu-id="fbfa6-175">Se la rete client utilizza un firewall e un server proxy Internet denominato proxy e Internet Explorer sul client non è configurato per l'utilizzo del proxy, è necessario modificare il binding di stringa del client in:</span><span class="sxs-lookup"><span data-stu-id="fbfa6-175">If the client network uses a firewall and an Internet proxy server called myproxy, and Internet Explorer on the client is not configured to use that proxy, you would need to modify the client's string binding to:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[,HttpProxy=myproxy:80,RpcProxy=Major7.microsoft.com:80]
```

<span data-ttu-id="fbfa6-176">In questo modo il client si connette al programma server RPC in Server7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-176">This directs the client to connect to the RPC server program on Server7.microsoft.com.</span></span> <span data-ttu-id="fbfa6-177">A tale scopo, il client utilizzerà prima la porta 80 (o la porta 443 se viene usato SSL) per connettersi a proxy.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-177">To do this, the client will first use port 80 (or port 443 if SSL is used) to connect to myproxy.</span></span> <span data-ttu-id="fbfa6-178">In questo modo, l'accesso al programma client viene fornito a Internet.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-178">This will give the client program access to the Internet.</span></span> <span data-ttu-id="fbfa6-179">Utilizzando Internet, il programma client si connette quindi al proxy RPC in Major7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-179">Using the Internet, the client program next connects to the RPC proxy on Major7.microsoft.com.</span></span> <span data-ttu-id="fbfa6-180">Tramite il proxy RPC viene stabilita una connessione al programma server RPC in esecuzione in Server7.microsoft.com.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-180">The RPC proxy will establish a connection to the RPC server program running on Server7.microsoft.com.</span></span>

<span data-ttu-id="fbfa6-181">Se la rete client utilizza un firewall e se non è possibile raggiungere il proxy RPC direttamente, per ottenere una connessione stabilita più velocemente, è possibile modificare l'associazione di stringhe client a:</span><span class="sxs-lookup"><span data-stu-id="fbfa6-181">If the client network uses a firewall and if the RPC proxy cannot be reached directly, in order to get a connection established faster, the client string binding can be modified to:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[RpcProxy=Major7.microsoft.com:80,HttpConnectionOption=UseHttpProxy]
```

<span data-ttu-id="fbfa6-182">**HttpConnectionOption** consente di indirizzare il comportamento di RPC quando si effettuano le connessioni HTTP.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-182">The **HttpConnectionOption** allows you to direct RPC’s behavior when making HTTP connections.</span></span> <span data-ttu-id="fbfa6-183">Il valore **UseHttpProxy** indica a RPC di instradare il traffico attraverso il proxy http sempre, anche quando le opzioni Internet del client sono impostate in Internet Explorer su "Ignora server proxy per indirizzi locali".</span><span class="sxs-lookup"><span data-stu-id="fbfa6-183">The **UseHttpProxy** value instructs RPC to route its traffic through the Http proxy at all times, including when the client has their Internet Options set in Internet Explorer to “Bypass proxy server for local addresses.”</span></span> <span data-ttu-id="fbfa6-184">Ciò indica al client di connettersi in modo forzato al proxy RPC tramite il proxy http.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-184">This directs the client to forcefully connect to the RPC proxy through the Http proxy.</span></span> <span data-ttu-id="fbfa6-185">Questo consente di velocizzare il tempo necessario per stabilire una connessione poiché ignora eventuali ritardi di ricerca del server RPC direttamente prima di usare il proxy HTTP.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-185">This speeds up the time to establish a connection since it bypasses any delay searching for the RPC server directly prior to using the HTTP proxy.</span></span>

<span data-ttu-id="fbfa6-186">Se si usa l'opzione **HttpConnectionOption** e Internet Explorer nel client non è configurato per l'uso del proxy http, le connessioni potrebbero non riuscire con le **Opzioni di rete RPC non \_ \_ valide \_ \_**.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-186">If the **HttpConnectionOption** option is used and Internet Explorer on the client is not configured to use that Http proxy, connections may fail with **RPC\_S\_INVALID\_NETWORK\_OPTIONS**.</span></span>

<span data-ttu-id="fbfa6-187">Attualmente la maggior parte dei computer è configurata per l'esplorazione Web.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-187">The vast majority of computers today are configured for Web browsing.</span></span> <span data-ttu-id="fbfa6-188">Non è pertanto necessario che la maggior parte dei client specifichi il **HttpProxy**, perché verrà recuperato dalle impostazioni di connettività Internet.</span><span class="sxs-lookup"><span data-stu-id="fbfa6-188">Therefore, most clients do not need to specify the **HttpProxy**, because it will be retrieved from Internet connectivity settings.</span></span>

 

 




