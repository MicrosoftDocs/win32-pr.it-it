---
title: Tre tipi di puntatore
description: MIDL supporta tre tipi di puntatori per supportare un'ampia gamma di applicazioni.
ms.assetid: 6684c252-6fbe-49ca-9967-6d4baf5dc298
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: efdcc9548568c8fca24d8abb40bf0eaa8b6e7da3
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "103963126"
---
# <a name="three-pointer-types"></a><span data-ttu-id="24ba2-103">Tre tipi di puntatore</span><span class="sxs-lookup"><span data-stu-id="24ba2-103">Three Pointer Types</span></span>

<span data-ttu-id="24ba2-104">MIDL supporta tre tipi di puntatori per supportare un'ampia gamma di applicazioni.</span><span class="sxs-lookup"><span data-stu-id="24ba2-104">MIDL supports three types of pointers to accommodate a wide range of applications.</span></span> <span data-ttu-id="24ba2-105">I tre livelli diversi sono detti puntatori di riferimento, univoco e completo e sono indicati rispettivamente dagli attributi **\[** [**ref**](/windows/desktop/Midl/ref) **\]** , **\[** [**Unique**](/windows/desktop/Midl/unique) **\]** e **\[** [**ptr**](/windows/desktop/Midl/ptr) **\]** .</span><span class="sxs-lookup"><span data-stu-id="24ba2-105">The three different levels are called reference, unique, and full pointers, and are indicated by the attributes **\[**[**ref**](/windows/desktop/Midl/ref)**\]**, **\[**[**unique**](/windows/desktop/Midl/unique)**\]**, and **\[**[**ptr**](/windows/desktop/Midl/ptr)**\]**, respectively.</span></span> <span data-ttu-id="24ba2-106">Le classi del puntatore descritte da questi attributi si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="24ba2-106">The pointer classes described by these attributes are mutually exclusive.</span></span> <span data-ttu-id="24ba2-107">È possibile applicare gli attributi del puntatore a puntatori in definizioni di tipo, tipi restituiti di funzioni, parametri di funzione, membri di strutture o unioni o elementi di matrice.</span><span class="sxs-lookup"><span data-stu-id="24ba2-107">Pointer attributes can be applied to pointers in type definitions, function return types, function parameters, members of structures or unions, or array elements.</span></span>

<span data-ttu-id="24ba2-108">I puntatori incorporati sono i puntatori che sono membri di strutture o unioni.</span><span class="sxs-lookup"><span data-stu-id="24ba2-108">Embedded pointers are pointers that are members of structures or unions.</span></span> <span data-ttu-id="24ba2-109">Possono anche essere elementi di matrici.</span><span class="sxs-lookup"><span data-stu-id="24ba2-109">They can also be elements of arrays.</span></span> <span data-ttu-id="24ba2-110">Nella **\[** [](/windows/desktop/Midl/in) **\]** direzione, si presuppone che i puntatori **\[ ref \]** incorporati facciano riferimento a un archivio valido e non devono essere null.</span><span class="sxs-lookup"><span data-stu-id="24ba2-110">In the **\[**[**in**](/windows/desktop/Midl/in)**\]** direction, embedded **\[ref\]** pointers are assumed to be pointing to valid storage and must not be null.</span></span> <span data-ttu-id="24ba2-111">Questa situazione è applicabile in modo ricorsivo a tutti i puntatori **\[ ref \]** a cui puntano.</span><span class="sxs-lookup"><span data-stu-id="24ba2-111">This situation is recursively applicable to any **\[ref\]** pointers they are pointing to.</span></span> <span data-ttu-id="24ba2-112">Nella direzione **\[ , \]** i puntatori **\[ univoci \]** e completi incorporati (puntatori con l'attributo **\[ ptr \]** ) non possono essere null.</span><span class="sxs-lookup"><span data-stu-id="24ba2-112">In the **\[in\]** direction, embedded **\[unique\]** and full pointers (pointers with the **\[ptr\]** attribute) may or may not be null.</span></span>

<span data-ttu-id="24ba2-113">Qualsiasi attributo del puntatore posizionato su un parametro nella sintassi di una dichiarazione di funzione ha effetto solo sul dichiaratore di puntatore più a destra per il parametro.</span><span class="sxs-lookup"><span data-stu-id="24ba2-113">Any pointer attribute placed on a parameter in the syntax of a function declaration affects only the rightmost pointer declarator for that parameter.</span></span> <span data-ttu-id="24ba2-114">Per influenzare altri dichiaratori di puntatore, è necessario usare i tipi denominati intermedi.</span><span class="sxs-lookup"><span data-stu-id="24ba2-114">To affect other pointer declarators, intermediate named types must be used.</span></span>

<span data-ttu-id="24ba2-115">Le funzioni che restituiscono un puntatore possono avere un attributo puntatore come attributo della funzione.</span><span class="sxs-lookup"><span data-stu-id="24ba2-115">Functions that return a pointer can have a pointer attribute as a function attribute.</span></span> <span data-ttu-id="24ba2-116">È necessario applicare gli attributi **\[ Unique \]** e **\[ ptr \]** ai tipi restituiti della funzione.</span><span class="sxs-lookup"><span data-stu-id="24ba2-116">The **\[unique\]** and **\[ptr\]** attributes must be applied to function return types.</span></span> <span data-ttu-id="24ba2-117">Le dichiarazioni di membro che sono puntatori possono specificare un attributo del puntatore come attributo di campo.</span><span class="sxs-lookup"><span data-stu-id="24ba2-117">Member declarations that are pointers can specify a pointer attribute as a field attribute.</span></span> <span data-ttu-id="24ba2-118">Un attributo puntatore può essere applicato anche come attributo di tipo nei costrutti [**typedef**](/windows/desktop/Midl/typedef) .</span><span class="sxs-lookup"><span data-stu-id="24ba2-118">A pointer attribute can also be applied as a type attribute in [**typedef**](/windows/desktop/Midl/typedef) constructs.</span></span>

<span data-ttu-id="24ba2-119">Quando non è specificato alcun attributo puntatore come campo o attributo di tipo, gli attributi del puntatore vengono applicati in base alle regole per una dichiarazione di puntatore senza attributi, come indicato di seguito.</span><span class="sxs-lookup"><span data-stu-id="24ba2-119">When no pointer attribute is specified as a field or type attribute, pointer attributes are applied according to the rules for an unattributed pointer declaration as follows.</span></span>

<span data-ttu-id="24ba2-120">In modalità di compatibilità DCE, gli attributi del puntatore sono determinati nel file IDL di definizione.</span><span class="sxs-lookup"><span data-stu-id="24ba2-120">In DCE-compatibility mode, pointer attributes are determined in the defining IDL file.</span></span> <span data-ttu-id="24ba2-121">Se è presente un **\[** [**attributo \_ predefinito**](/windows/desktop/Midl/pointer-default) **\]** del puntatore specificato nell'interfaccia di definizione, viene usato tale attributo.</span><span class="sxs-lookup"><span data-stu-id="24ba2-121">If there is a **\[**[**pointer\_default**](/windows/desktop/Midl/pointer-default)**\]** attribute specified in the defining interface, that attribute is used.</span></span> <span data-ttu-id="24ba2-122">Se non è presente alcun attributo **\[ \_ predefinito \] del puntatore** , tutti i puntatori senza attributi sono puntatori completi.</span><span class="sxs-lookup"><span data-stu-id="24ba2-122">If no **\[pointer\_default\]** attribute is present, all unattributed pointers are full pointers.</span></span>

<span data-ttu-id="24ba2-123">In modalità estensioni Microsoft, è possibile determinare gli attributi del puntatore importando i file IDL e applicati nell'ordine seguente:</span><span class="sxs-lookup"><span data-stu-id="24ba2-123">In Microsoft-extensions mode, pointer attributes can be determined by importing IDL files and are applied in the following order:</span></span>

1.  <span data-ttu-id="24ba2-124">Attributo puntatore esplicito applicato al sito use.</span><span class="sxs-lookup"><span data-stu-id="24ba2-124">An explicit pointer attribute applied at the use site.</span></span>
2.  <span data-ttu-id="24ba2-125">Attributo **\[ ref \]** , quando il puntatore senza attributi è un parametro del puntatore di primo livello.</span><span class="sxs-lookup"><span data-stu-id="24ba2-125">The **\[ref\]** attribute, when the unattributed pointer is a top-level pointer parameter.</span></span>
3.  <span data-ttu-id="24ba2-126">Attributo **\[ \_ predefinito \] del puntatore** specificato nell'interfaccia di definizione.</span><span class="sxs-lookup"><span data-stu-id="24ba2-126">A **\[pointer\_default\]** attribute specified in the defining interface.</span></span>
4.  <span data-ttu-id="24ba2-127">Attributo **\[ \_ predefinito \] del puntatore** specificato nell'interfaccia di base.</span><span class="sxs-lookup"><span data-stu-id="24ba2-127">A **\[pointer\_default\]** attribute specified in the base interface.</span></span>
5.  <span data-ttu-id="24ba2-128">Attributo **\[ Unique \]** .</span><span class="sxs-lookup"><span data-stu-id="24ba2-128">The **\[unique\]** attribute.</span></span>

<span data-ttu-id="24ba2-129">L' **\[** attributo dell'interfaccia [**\_ predefinita del puntatore**](/windows/desktop/Midl/pointer-default) **\]** specifica gli attributi del puntatore predefiniti da applicare a un dichiaratore di puntatore in un tipo, un parametro o una dichiarazione di tipo restituito quando alla dichiarazione non è applicato un attributo puntatore esplicito.</span><span class="sxs-lookup"><span data-stu-id="24ba2-129">The **\[**[**pointer\_default**](/windows/desktop/Midl/pointer-default)**\]** interface attribute specifies the default pointer attributes to be applied to a pointer declarator in a type, parameter, or return type declaration when that declaration does not have an explicit pointer attribute applied to it.</span></span> <span data-ttu-id="24ba2-130">L'attributo dell'interfaccia **\[ \_ predefinita \] del puntatore** non si applica a un puntatore di primo livello senza attributi di un parametro, che viene considerato **\[ ref \]**.</span><span class="sxs-lookup"><span data-stu-id="24ba2-130">The **\[pointer\_default\]** interface attribute does not apply to an unattributed top-level pointer of a parameter, which is assumed to be **\[ref\]**.</span></span>

 

 