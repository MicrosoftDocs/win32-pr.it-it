---
title: Sviluppo del client
description: Lo sviluppo di un programma client RPC è simile allo sviluppo del programma server. Per informazioni sullo sviluppo di un programma server RPC, vedere sviluppo del server.
ms.assetid: 92276326-d478-479e-8fa4-02a2fce58eb6
keywords:
- RPC (Remote Procedure Call), attività, sviluppo del client
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 10ceddedc4ccfd1d068e3452b64ed8c6b54a621d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "103963363"
---
# <a name="developing-the-client"></a><span data-ttu-id="37f08-105">Sviluppo del client</span><span class="sxs-lookup"><span data-stu-id="37f08-105">Developing the Client</span></span>

<span data-ttu-id="37f08-106">Lo sviluppo di un programma client RPC è simile allo sviluppo del programma server.</span><span class="sxs-lookup"><span data-stu-id="37f08-106">Developing an RPC client program is similar to developing the server program.</span></span> <span data-ttu-id="37f08-107">Per informazioni sullo sviluppo di un programma server RPC, vedere [sviluppo del server](developing-the-server.md).</span><span class="sxs-lookup"><span data-stu-id="37f08-107">For information on developing an RPC server program, see [Developing the Server](developing-the-server.md).</span></span>

<span data-ttu-id="37f08-108">Come nello sviluppo di server, il programma client deve includere il file di intestazione generato dal compilatore MIDL dal file con estensione IDL.</span><span class="sxs-lookup"><span data-stu-id="37f08-108">As in server development, your client program must include the header file that the MIDL compiler generates from your .idl file.</span></span> <span data-ttu-id="37f08-109">Il compilatore MIDL genera anche un file di origine C contenente lo stub client.</span><span class="sxs-lookup"><span data-stu-id="37f08-109">The MIDL compiler also generates a C source file containing the client stub.</span></span> <span data-ttu-id="37f08-110">È necessario compilare il file di origine C e collegarlo al programma client.</span><span class="sxs-lookup"><span data-stu-id="37f08-110">You must compile this C source file and link it to your client program.</span></span> <span data-ttu-id="37f08-111">Inoltre, il compilatore MIDL genera un file di origine C contenente lo stub del server, ma ciò non è pertinente per questa discussione.</span><span class="sxs-lookup"><span data-stu-id="37f08-111">(In addition, the MIDL compiler generates a C source file containing the server stub, but that is not relevant to this discussion.)</span></span>

<span data-ttu-id="37f08-112">Oltre a compilare e collegare lo stub client con i file di programma, è necessario collegare la libreria di importazione (e tutte le altre librerie necessarie al programma client) al programma client.</span><span class="sxs-lookup"><span data-stu-id="37f08-112">In addition to compiling and linking the client stub with your program files, you must link the import library (and any other libraries your client program needs) to your client program.</span></span> <span data-ttu-id="37f08-113">Nel diagramma seguente viene illustrato il processo di creazione di un programma client RPC.</span><span class="sxs-lookup"><span data-stu-id="37f08-113">The process of creating an RPC client program is illustrated in the following diagram.</span></span>

![processo di creazione di un programma client per un'applicazione distribuita](images/clntdev.png)

<span data-ttu-id="37f08-115">Nell'esempio riportato nella figura precedente viene illustrata la creazione di un programma client RPC denominato MyClnt.exe.</span><span class="sxs-lookup"><span data-stu-id="37f08-115">The example in the preceding illustration demonstrates the creation of an RPC client program called MyClnt.exe.</span></span> <span data-ttu-id="37f08-116">Il primo passaggio consiste nel definire l'interfaccia nel file MyApp. idl.</span><span class="sxs-lookup"><span data-stu-id="37f08-116">The first step is to define the interface in the file MyApp.idl.</span></span> <span data-ttu-id="37f08-117">Il compilatore MIDL USA MyApp. idl per generare il file MyApp \_ c. c, che contiene lo stub client.</span><span class="sxs-lookup"><span data-stu-id="37f08-117">The MIDL compiler uses MyApp.idl to generate the file MyApp\_c.c, which contains the client stub.</span></span> <span data-ttu-id="37f08-118">Genera inoltre il file MyApp. h, che deve essere incluso nel programma client.</span><span class="sxs-lookup"><span data-stu-id="37f08-118">It also generates the file MyApp.h, which the client program must include.</span></span> <span data-ttu-id="37f08-119">Anche il programma client dovrà includere i file RPC. h e RPCNDR. h.</span><span class="sxs-lookup"><span data-stu-id="37f08-119">The client program will also need to include the files RPC.h and RPCNDR.h.</span></span>

<span data-ttu-id="37f08-120">Il programma client viene creato nel file MyClnt. c.</span><span class="sxs-lookup"><span data-stu-id="37f08-120">The client program itself is created in the file MyClnt.c.</span></span> <span data-ttu-id="37f08-121">In un progetto reale, il programma client in genere è costituito da diversi file di origine C.</span><span class="sxs-lookup"><span data-stu-id="37f08-121">In a real project, the client program would typically be composed of several C source files.</span></span> <span data-ttu-id="37f08-122">Tutti questi elementi devono essere compilati e collegati tra loro.</span><span class="sxs-lookup"><span data-stu-id="37f08-122">All of them would need to be compiled and linked together.</span></span> <span data-ttu-id="37f08-123">Tuttavia, in questo esempio viene usato un solo file per semplicità.</span><span class="sxs-lookup"><span data-stu-id="37f08-123">However, this example uses only one file for simplicity.</span></span>

<span data-ttu-id="37f08-124">I file MyClnt. c e MyApp \_ c. c vengono compilati e collegati insieme alla libreria di runtime RPC e a qualsiasi altra libreria necessaria per il programma client.</span><span class="sxs-lookup"><span data-stu-id="37f08-124">The files MyClnt.c and MyApp\_c.c are compiled and linked together with the RPC run-time library, and any other libraries that the client program needs.</span></span> <span data-ttu-id="37f08-125">Il risultato è un programma client eseguibile denominato MyClnt.exe.</span><span class="sxs-lookup"><span data-stu-id="37f08-125">The result is an executable client program named MyClnt.exe.</span></span>

<span data-ttu-id="37f08-126">Se non si compila il file IDL in modalità di compatibilità OSF ([**/OSF**](/windows/desktop/Midl/-osf)), il programma client deve fornire una funzione per l'allocazione della memoria e una funzione per la deallocazione.</span><span class="sxs-lookup"><span data-stu-id="37f08-126">If you do not compile your IDL file in OSF compatibility mode ([**/osf**](/windows/desktop/Midl/-osf)), your client program must provide a function for allocating memory and a function for deallocating it.</span></span> <span data-ttu-id="37f08-127">Per Windows 2000 e versioni successive, la modalità consigliata è [**/Oicf**](/windows/desktop/Midl/-oi).</span><span class="sxs-lookup"><span data-stu-id="37f08-127">For Windows 2000 and later versions, the recommended mode is [**/Oicf**](/windows/desktop/Midl/-oi).</span></span> <span data-ttu-id="37f08-128">Per informazioni dettagliate, vedere modalità di allocazione [e deallocazione della memoria](how-memory-is-allocated-and-deallocated.md)e [puntatori e allocazione di memoria](pointers-and-memory-allocation.md).</span><span class="sxs-lookup"><span data-stu-id="37f08-128">For details, see [How Memory Is Allocated and Deallocated](how-memory-is-allocated-and-deallocated.md), and [Pointers and Memory Allocation](pointers-and-memory-allocation.md).</span></span>

 

 