---
title: Memoria orfana
description: Se l'applicazione distribuita usa un parametro \ in, out, Unique \ o \ in, out, PTR \ Pointer, il lato server dell'applicazione può modificare il valore del parametro pointer in null.
ms.assetid: 65588b4d-6bf4-44f7-994c-29a5b185c6b9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32042911695f377e0a628168e91387bfa25f0d79
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "106300328"
---
# <a name="memory-orphaning"></a><span data-ttu-id="78296-103">Memoria orfana</span><span class="sxs-lookup"><span data-stu-id="78296-103">Memory Orphaning</span></span>

<span data-ttu-id="78296-104">Se l'applicazione distribuita usa un \[ parametro puntatore [in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [Unique](/windows/desktop/Midl/unique) \] o \[ **in**, **out**, [ptr](/windows/desktop/Midl/ptr) \] , il lato server dell'applicazione può modificare il valore del parametro pointer in null.</span><span class="sxs-lookup"><span data-stu-id="78296-104">If your distributed application uses an \[ [in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [unique](/windows/desktop/Midl/unique)\] or \[**in**, **out**, [ptr](/windows/desktop/Midl/ptr)\] pointer parameter, the server side of the application can change the value of the pointer parameter to null.</span></span> <span data-ttu-id="78296-105">Quando il server restituisce successivamente il valore null al client, la memoria a cui fa riferimento il puntatore prima della chiamata di procedura remota è ancora presente sul lato client, ma non è più accessibile da tale puntatore, tranne nel caso di un puntatore completo con alias.</span><span class="sxs-lookup"><span data-stu-id="78296-105">When the server subsequently returns the null value to the client, memory referenced by the pointer before the remote procedure call is still present on the client side, but is no longer accessible from that pointer (except in the case of an aliased full pointer).</span></span> <span data-ttu-id="78296-106">Questa memoria è detta *orfana*.</span><span class="sxs-lookup"><span data-stu-id="78296-106">This memory is said to be *orphaned*.</span></span> <span data-ttu-id="78296-107">Questa operazione è stata definita anche *perdita di memoria*.</span><span class="sxs-lookup"><span data-stu-id="78296-107">This is also termed a *memory leak*.</span></span> <span data-ttu-id="78296-108">La memoria orfana ripetuta sul client causa l'esaurimento delle risorse di memoria disponibili da parte del client.</span><span class="sxs-lookup"><span data-stu-id="78296-108">Repeated orphaning of memory on the client causes the client to run out of available memory resources.</span></span>

<span data-ttu-id="78296-109">La memoria può anche essere orfana ogni volta che il server modifica un puntatore incorporato a un valore null.</span><span class="sxs-lookup"><span data-stu-id="78296-109">Memory can also be orphaned whenever the server changes an embedded pointer to a null value.</span></span> <span data-ttu-id="78296-110">Se, ad esempio, il parametro punta a una struttura di dati complessa, ad esempio un albero, il lato server dell'applicazione può eliminare i nodi dell'albero e impostare i puntatori nell'albero su null.</span><span class="sxs-lookup"><span data-stu-id="78296-110">For example, if the parameter points to a complex data structure such as a tree, the server side of the application can delete nodes of the tree and set pointers inside the tree to null.</span></span>

<span data-ttu-id="78296-111">Un'altra situazione che può causare una perdita di memoria comporta matrici conformi, variabili e aperte contenenti puntatori.</span><span class="sxs-lookup"><span data-stu-id="78296-111">Another situation that can lead to a memory leak involves conformant, varying, and open arrays containing pointers.</span></span> <span data-ttu-id="78296-112">Quando l'applicazione server modifica il parametro che specifica la dimensione della matrice o l'intervallo trasmesso in modo che rappresenti un valore più piccolo, gli stub utilizzano i valori più piccoli per liberare memoria.</span><span class="sxs-lookup"><span data-stu-id="78296-112">When the server application modifies the parameter that specifies the array size or transmitted range so that it represents a smaller value, the stubs use the smaller value(s) to free memory.</span></span> <span data-ttu-id="78296-113">Gli elementi della matrice con indici di dimensioni superiori al parametro size sono orfani.</span><span class="sxs-lookup"><span data-stu-id="78296-113">The array elements with indices larger than the size parameter are orphaned.</span></span> <span data-ttu-id="78296-114">L'applicazione deve liberare elementi al di fuori dell'intervallo trasmesso.</span><span class="sxs-lookup"><span data-stu-id="78296-114">Your application must free elements outside the transmitted range.</span></span>

 

 