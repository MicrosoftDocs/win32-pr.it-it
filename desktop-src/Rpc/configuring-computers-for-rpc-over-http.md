---
title: Configurazione dei computer per RPC su HTTP
description: Per utilizzare HTTP come protocollo di trasporto per RPC, il proxy RPC in esecuzione in Internet Information Server (IIS) deve essere configurato nella rete del programma server.
ms.assetid: 5a67af51-924a-4f2b-b013-a4fd1bfaeddd
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 62d1b39276633f3b827f778deef77edd5630c599
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "106298435"
---
# <a name="configuring-computers-for-rpc-over-http"></a><span data-ttu-id="1ed52-103">Configurazione dei computer per RPC su HTTP</span><span class="sxs-lookup"><span data-stu-id="1ed52-103">Configuring Computers for RPC over HTTP</span></span>

<span data-ttu-id="1ed52-104">Per utilizzare HTTP come protocollo di trasporto per RPC, il proxy RPC in esecuzione in Internet Information Server (IIS) deve essere configurato nella rete del programma server.</span><span class="sxs-lookup"><span data-stu-id="1ed52-104">To use HTTP as a transport protocol for RPC, RPC Proxy running within Internet Information Server (IIS) must be configured on the server program's network.</span></span> <span data-ttu-id="1ed52-105">In questa sezione vengono descritte le opzioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="1ed52-105">This section describes configuration options.</span></span> <span data-ttu-id="1ed52-106">Per consigli sulla programmazione e sulle procedure di configurazione migliori quando si utilizza RPC su HTTP, vedere [indicazioni sulla distribuzione di RPC su http](rpc-over-http-deployment-recommendations.md).</span><span class="sxs-lookup"><span data-stu-id="1ed52-106">For recommendations on best programming and configuration practices when using RPC over HTTP, see [RPC over HTTP Deployment Recommendations](rpc-over-http-deployment-recommendations.md).</span></span> <span data-ttu-id="1ed52-107">L'attività principale consiste nel configurare il proxy RPC per l'accettazione e l'inoltro delle connessioni RPC su HTTP a un programma server RPC su HTTP.</span><span class="sxs-lookup"><span data-stu-id="1ed52-107">The primary task is configuring the RPC Proxy to accept and forward RPC over HTTP connections to an RPC over HTTP server program.</span></span>

<span data-ttu-id="1ed52-108">IIS deve prima essere installato nel computer in cui è in esecuzione il proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1ed52-108">IIS must first be installed on the machine running the RPC Proxy.</span></span> <span data-ttu-id="1ed52-109">Una volta installato IIS, viene installato il proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1ed52-109">Once IIS is installed, the RPC Proxy is installed.</span></span> <span data-ttu-id="1ed52-110">Sia IIS che il proxy RPC possono essere installati contemporaneamente da **Installazione componenti di Windows** nel pannello di controllo.</span><span class="sxs-lookup"><span data-stu-id="1ed52-110">Both IIS and the RPC Proxy can be installed simultaneously from **Add/Remove Windows Components** in the Control Panel.</span></span> <span data-ttu-id="1ed52-111">Il proxy RPC viene installato da **servizi di rete** ed è chiamato **RPC su proxy http** nell'installazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="1ed52-111">RPC Proxy is installed from **Networking Services**, and is called **RPC over HTTP Proxy** in Windows setup.</span></span> <span data-ttu-id="1ed52-112">Se sia IIS che proxy RPC vengono installati contemporaneamente, Windows garantisce che siano installati nell'ordine corretto.</span><span class="sxs-lookup"><span data-stu-id="1ed52-112">If both IIS and RPC Proxy are installed at the same time, Windows ensures they are installed in the proper order.</span></span>

> [!Note]  
> <span data-ttu-id="1ed52-113">Al termine dell'installazione, è necessario riavviare IIS se era in esecuzione durante il processo di installazione.</span><span class="sxs-lookup"><span data-stu-id="1ed52-113">After installation is complete, IIS must be restarted if it was running during the installation process.</span></span>

 

<span data-ttu-id="1ed52-114">Dopo l'installazione del proxy RPC, è necessario eseguire alcune attività di configurazione aggiuntive:</span><span class="sxs-lookup"><span data-stu-id="1ed52-114">After installed of the RPC Proxy, some additional configuration tasks must be performed:</span></span>

1.  <span data-ttu-id="1ed52-115">Aprire lo snap-in MMC IIS e configurare la directory virtuale del proxy RPC in modo da richiedere la sicurezza, come descritto in [RPC su http Security](rpc-over-http-security.md).</span><span class="sxs-lookup"><span data-stu-id="1ed52-115">Open the IIS MMC snap-in and configure the RPC Proxy virtual directory to require security, as explained in [RPC over HTTP Security](rpc-over-http-security.md).</span></span> <span data-ttu-id="1ed52-116">Questo passaggio è necessario solo se si prevede di usare RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-116">This step is required only if you plan to use RPC over HTTP v2.</span></span>
2.  <span data-ttu-id="1ed52-117">Se in IIS non è installato un certificato, è necessario ottenere e installare un certificato valido per tale computer per utilizzare SSL durante la comunicazione con il proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1ed52-117">If IIS does not have a certificate installed, a valid certificate must be obtained and installed for that computer in order to use SSL when communicating with the RPC Proxy.</span></span> <span data-ttu-id="1ed52-118">Questo passaggio è pertinente solo per RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-118">This step is relevant only for RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-119">Poiché RPC su HTTP V1 non supporta SSL, questo passaggio può essere omesso per RPC su HTTP V1.</span><span class="sxs-lookup"><span data-stu-id="1ed52-119">Since RPC over HTTP v1 does not support SSL, this step can be omitted for RPC over HTTP v1.</span></span>
3.  <span data-ttu-id="1ed52-120">Impostare la chiave **ValidPorts** come descritto in [RPC su http Security](rpc-over-http-security.md).</span><span class="sxs-lookup"><span data-stu-id="1ed52-120">Set the **ValidPorts** key as described in [RPC over HTTP Security](rpc-over-http-security.md).</span></span>

<span data-ttu-id="1ed52-121">Al termine di queste attività di configurazione, il proxy RPC su HTTP è pronto per l'inoltro delle richieste dal client RPC su http al server RPC su HTTP.</span><span class="sxs-lookup"><span data-stu-id="1ed52-121">When these configuration tasks are completed, the RPC over HTTP proxy is ready to forward requests from the RPC over HTTP client to the RPC over HTTP server.</span></span>

## <a name="rpc-over-http-registry-keys"></a><span data-ttu-id="1ed52-122">Chiavi del registro di sistema RPC su HTTP</span><span class="sxs-lookup"><span data-stu-id="1ed52-122">RPC over HTTP Registry Keys</span></span>

<span data-ttu-id="1ed52-123">In questa sezione vengono illustrate le chiavi aggiuntive del registro di sistema utilizzate per configurare il client, il server o il proxy RPC in una connessione RPC su HTTP.</span><span class="sxs-lookup"><span data-stu-id="1ed52-123">This section explains additional registry keys used to configure the client, server or RPC Proxy in an RPC over HTTP connection.</span></span> <span data-ttu-id="1ed52-124">Queste chiavi non sono in genere necessarie; sono disponibili qui per completezza.</span><span class="sxs-lookup"><span data-stu-id="1ed52-124">These keys are generally not required; they are provided here for completeness.</span></span>

<span data-ttu-id="1ed52-125">**HKLM \\ software \\ Microsoft \\ RPC \\ DefaultChannelLifetime**</span><span class="sxs-lookup"><span data-stu-id="1ed52-125">**HKLM\\Software\\Microsoft\\Rpc\\DefaultChannelLifetime**</span></span>

<span data-ttu-id="1ed52-126">DWORD.</span><span class="sxs-lookup"><span data-stu-id="1ed52-126">DWORD.</span></span> <span data-ttu-id="1ed52-127">Esegue l'override della durata predefinita del canale.</span><span class="sxs-lookup"><span data-stu-id="1ed52-127">Overrides the default channel lifetime.</span></span> <span data-ttu-id="1ed52-128">Utilizzato nel client e nel proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1ed52-128">Used on the client and the RPC Proxy.</span></span> <span data-ttu-id="1ed52-129">La durata del canale è espressa in byte.</span><span class="sxs-lookup"><span data-stu-id="1ed52-129">The channel lifetime is expressed in bytes.</span></span> <span data-ttu-id="1ed52-130">Se non è specificato, viene usato 1 GB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-130">If not specified, 1GB is used.</span></span> <span data-ttu-id="1ed52-131">Utilizzato solo in RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-131">Used only in RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-132">Se il proxy RPC è stato modificato, è necessario riavviare IIS per rendere effettive le modifiche.</span><span class="sxs-lookup"><span data-stu-id="1ed52-132">When changed on RPC Proxy, IIS must be restarted for the change to take effect.</span></span>

\-

<span data-ttu-id="1ed52-133">**HKLM \\ software \\ Microsoft \\ RPC \\ ClientReceiveWindow**</span><span class="sxs-lookup"><span data-stu-id="1ed52-133">**HKLM\\Software\\Microsoft\\Rpc\\ClientReceiveWindow**</span></span>

<span data-ttu-id="1ed52-134">DWORD.</span><span class="sxs-lookup"><span data-stu-id="1ed52-134">DWORD.</span></span> <span data-ttu-id="1ed52-135">Quando è presente, specifica la finestra di ricezione utilizzata dal client per i dati ricevuti dal proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1ed52-135">When present, specifies the receive window used by the client for data received from the RPC Proxy.</span></span> <span data-ttu-id="1ed52-136">Il valore minimo valido è 8 KB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-136">The minimum valid value is 8K.</span></span> <span data-ttu-id="1ed52-137">Il valore massimo è 1 GB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-137">The maximum is 1GB.</span></span> <span data-ttu-id="1ed52-138">Se il valore non è presente, viene usato 64K.</span><span class="sxs-lookup"><span data-stu-id="1ed52-138">If the value is not present, 64K is used.</span></span> <span data-ttu-id="1ed52-139">Utilizzato solo in RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-139">Used only in RPC over HTTP v2.</span></span>

\-

<span data-ttu-id="1ed52-140">**HKLM \\ software \\ Microsoft \\ RPC \\ InProxyReceiveWindow**</span><span class="sxs-lookup"><span data-stu-id="1ed52-140">**HKLM\\Software\\Microsoft\\Rpc\\InProxyReceiveWindow**</span></span>

<span data-ttu-id="1ed52-141">DWORD.</span><span class="sxs-lookup"><span data-stu-id="1ed52-141">DWORD.</span></span> <span data-ttu-id="1ed52-142">Quando è presente, specifica la finestra di ricezione utilizzata dal proxy RPC per i dati ricevuti dal client.</span><span class="sxs-lookup"><span data-stu-id="1ed52-142">When present, specifies the receive window used by the RPC Proxy for data received from the client.</span></span> <span data-ttu-id="1ed52-143">Il valore minimo valido è 8 KB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-143">The minimum valid value is 8K.</span></span> <span data-ttu-id="1ed52-144">Il valore massimo è 1 GB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-144">The maximum is 1GB.</span></span> <span data-ttu-id="1ed52-145">Se il valore non è presente, viene usato 64K.</span><span class="sxs-lookup"><span data-stu-id="1ed52-145">If the value is not present, 64K is used.</span></span> <span data-ttu-id="1ed52-146">Utilizzato solo in RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-146">Used only in RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-147">Quando vengono apportate modifiche a questo valore, è necessario riavviare IIS per rendere effettive le modifiche.</span><span class="sxs-lookup"><span data-stu-id="1ed52-147">When changes are made to this value, IIS must be restarted for the change to take effect.</span></span>

\-

<span data-ttu-id="1ed52-148">**HKLM \\ software \\ Microsoft \\ RPC \\ OutProxyReceiveWindow**</span><span class="sxs-lookup"><span data-stu-id="1ed52-148">**HKLM\\Software\\Microsoft\\Rpc\\OutProxyReceiveWindow**</span></span>

<span data-ttu-id="1ed52-149">DWORD.</span><span class="sxs-lookup"><span data-stu-id="1ed52-149">DWORD.</span></span> <span data-ttu-id="1ed52-150">Quando è presente, specifica la finestra di ricezione utilizzata dal proxy RPC per i dati ricevuti dal server.</span><span class="sxs-lookup"><span data-stu-id="1ed52-150">When present, specifies the receive window used by the RPC Proxy for data received from the server.</span></span> <span data-ttu-id="1ed52-151">Il valore minimo valido è 8 KB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-151">The minimum valid value is 8K.</span></span> <span data-ttu-id="1ed52-152">Il valore massimo è 1 GB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-152">The maximum is 1GB.</span></span> <span data-ttu-id="1ed52-153">Se il valore non è presente, viene usato 64K.</span><span class="sxs-lookup"><span data-stu-id="1ed52-153">If the value is not present, 64K is used.</span></span> <span data-ttu-id="1ed52-154">Utilizzato solo in RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-154">Used only in RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-155">Quando vengono apportate modifiche a questo valore, è necessario riavviare IIS per rendere effettive le modifiche.</span><span class="sxs-lookup"><span data-stu-id="1ed52-155">When changes are made to this value, IIS must be restarted for the change to take effect.</span></span>

\-

<span data-ttu-id="1ed52-156">**HKLM \\ software \\ Microsoft \\ RPC \\ ServerReceiveWindow**</span><span class="sxs-lookup"><span data-stu-id="1ed52-156">**HKLM\\Software\\Microsoft\\Rpc\\ServerReceiveWindow**</span></span>

<span data-ttu-id="1ed52-157">DWORD.</span><span class="sxs-lookup"><span data-stu-id="1ed52-157">DWORD.</span></span> <span data-ttu-id="1ed52-158">Quando è presente, specifica la finestra di ricezione utilizzata dal server per i dati ricevuti dal proxy RPC.</span><span class="sxs-lookup"><span data-stu-id="1ed52-158">When present, specifies the receive window used by the server for data received from the RPC Proxy.</span></span> <span data-ttu-id="1ed52-159">Il valore minimo valido è 8 KB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-159">The minimum valid value is 8K.</span></span> <span data-ttu-id="1ed52-160">Il valore massimo è 1 GB.</span><span class="sxs-lookup"><span data-stu-id="1ed52-160">The maximum is 1GB.</span></span> <span data-ttu-id="1ed52-161">Se il valore non è presente, viene usato 64K.</span><span class="sxs-lookup"><span data-stu-id="1ed52-161">If the value is not present, 64K is used.</span></span> <span data-ttu-id="1ed52-162">Utilizzato solo in RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-162">Used only in RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-163">Quando vengono apportate modifiche a questo valore, è necessario riavviare IIS per rendere effettive le modifiche.</span><span class="sxs-lookup"><span data-stu-id="1ed52-163">When changes are made to this value, IIS must be restarted for the change to take effect.</span></span>

\-

<span data-ttu-id="1ed52-164">**\\Criteri software \\ HKLM \\ Microsoft \\ Windows NT \\ RPC \\ MinimumConnectionTimeout**</span><span class="sxs-lookup"><span data-stu-id="1ed52-164">**HKLM\\Software\\Policies\\Microsoft\\Windows NT\\Rpc\\MinimumConnectionTimeout**</span></span>

<span data-ttu-id="1ed52-165">DWORD.</span><span class="sxs-lookup"><span data-stu-id="1ed52-165">DWORD.</span></span> <span data-ttu-id="1ed52-166">Quando è presente, specifica il timeout di connessione minimo utilizzato dal client e dal proxy RPC, in secondi.</span><span class="sxs-lookup"><span data-stu-id="1ed52-166">When present, specifies the minimum connection timeout used by the client and RPC Proxy, in seconds.</span></span> <span data-ttu-id="1ed52-167">Il timeout effettivo utilizzato è minore di questo valore e il timeout della connessione inattiva di IIS.</span><span class="sxs-lookup"><span data-stu-id="1ed52-167">The actual timeout used is the lower of this value and the IIS idle connection timeout.</span></span> <span data-ttu-id="1ed52-168">Se il valore è zero o la chiave non è presente, viene utilizzato il timeout della connessione inattiva IIS.</span><span class="sxs-lookup"><span data-stu-id="1ed52-168">If zero, or the key is not present, the IIS idle connection timeout is used.</span></span> <span data-ttu-id="1ed52-169">Utilizzato solo in RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-169">Used only in RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-170">Quando vengono apportate modifiche a questo valore sul proxy RPC, è necessario riavviare IIS per rendere effettive le modifiche.</span><span class="sxs-lookup"><span data-stu-id="1ed52-170">When changes are made to this value on the RPC Proxy, IIS must be restarted for the change to take effect.</span></span>

\-

<span data-ttu-id="1ed52-171">**HKLM \\ software \\ Microsoft \\ RPC \\ UseProxyForIPAddrIfRDNSFails**</span><span class="sxs-lookup"><span data-stu-id="1ed52-171">**HKLM\\Software\\Microsoft\\Rpc\\UseProxyForIPAddrIfRDNSFails**</span></span>

<span data-ttu-id="1ed52-172">Quando è presente e impostato su un valore diverso da zero e viene fornito un indirizzo IP numerico come indirizzo proxy RPC, un client RPC su HTTP tenterà la risoluzione dei nomi inverso e, in caso di errore, tenterà di connettersi al proxy RPC tramite un proxy HTTP.</span><span class="sxs-lookup"><span data-stu-id="1ed52-172">When present and set to non-zero, and a numeric IP address is provided as the RPC Proxy address, an RPC over HTTP client will attempt reverse name resolution and, if that fails, will attempt connection to the RPC Proxy through an HTTP proxy.</span></span> <span data-ttu-id="1ed52-173">Può essere usato per emulare il comportamento di Windows NT nelle installazioni che richiedono un comportamento di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="1ed52-173">Can be used to emulate Windows NT behavior on installations that require such behavior.</span></span> <span data-ttu-id="1ed52-174">Ignorato per RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-174">Ignored for RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-175">Usato solo quando viene usato RPC su HTTP V1.</span><span class="sxs-lookup"><span data-stu-id="1ed52-175">Used only when RPC over HTTP v1 is used.</span></span> <span data-ttu-id="1ed52-176">Supportato solo in Windows 2000 con Service Pack 3 (SP3) e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="1ed52-176">Supported only on Windows 2000 with Service Pack 3 (SP3) and later.</span></span>

\-

<span data-ttu-id="1ed52-177">**HKLM \\ software \\ Microsoft \\ RPC \\ Rpcproxy \\ AllowAnonymous**</span><span class="sxs-lookup"><span data-stu-id="1ed52-177">**HKLM\\Software\\Microsoft\\Rpc\\RpcProxy\\AllowAnonymous**</span></span>

<span data-ttu-id="1ed52-178">DWORD.</span><span class="sxs-lookup"><span data-stu-id="1ed52-178">DWORD.</span></span> <span data-ttu-id="1ed52-179">Se non è presente o è impostato su zero, il proxy RPC controlla se la connessione viene autenticata e se è protetta (SSL o un'altra forma di crittografia utilizzata).</span><span class="sxs-lookup"><span data-stu-id="1ed52-179">When not present or set to zero, the RPC Proxy checks whether the connection is authenticated, and whether it is secure (SSL or other form of encryption is used).</span></span> <span data-ttu-id="1ed52-180">Se uno dei due è false, la connessione viene rifiutata.</span><span class="sxs-lookup"><span data-stu-id="1ed52-180">If either is false, the connection is rejected.</span></span> <span data-ttu-id="1ed52-181">Se questo valore contiene un valore diverso da zero, sono consentite connessioni anonime e non crittografate.</span><span class="sxs-lookup"><span data-stu-id="1ed52-181">If this value contains non-zero, anonymous and non-encrypted connections are allowed.</span></span> <span data-ttu-id="1ed52-182">Questa impostazione è un'aggiunta alle impostazioni della directory virtuale.</span><span class="sxs-lookup"><span data-stu-id="1ed52-182">This setting is an addition to any virtual directory settings.</span></span> <span data-ttu-id="1ed52-183">Ad esempio, se l'accesso anonimo è disabilitato a livello di directory virtuale, ma **AllowAnonymous** è diverso da zero, l'accesso anonimo verrà comunque bloccato a livello di IIS.</span><span class="sxs-lookup"><span data-stu-id="1ed52-183">For example, if anonymous access is disabled on the virtual directory level, but **AllowAnonymous** is non-zero, anonymous access will still be blocked at the IIS level.</span></span> <span data-ttu-id="1ed52-184">Utilizzato sul proxy RPC solo in RPC su HTTP V2.</span><span class="sxs-lookup"><span data-stu-id="1ed52-184">Used on the RPC Proxy only in RPC over HTTP v2.</span></span> <span data-ttu-id="1ed52-185">Quando vengono apportate modifiche a questo valore sul proxy RPC, è necessario riavviare IIS per rendere effettive le modifiche.</span><span class="sxs-lookup"><span data-stu-id="1ed52-185">When changes are made to this value on the RPC Proxy, IIS must be restarted for the change to take effect.</span></span>

> [!WARNING]
> <span data-ttu-id="1ed52-186">Microsoft consiglia vivamente di non impostare il valore **AllowAnonymous** nei sistemi di produzione per considerazioni sulla sicurezza.</span><span class="sxs-lookup"><span data-stu-id="1ed52-186">Microsoft strongly recommends against setting the **AllowAnonymous** value on production systems for security considerations.</span></span> <span data-ttu-id="1ed52-187">L'unico motivo per cui questa chiave deve essere impostata è per il test su reti chiuse senza accesso esterno.</span><span class="sxs-lookup"><span data-stu-id="1ed52-187">The only reason this key should be set is for testing on closed networks without outside access.</span></span> <span data-ttu-id="1ed52-188">Qualsiasi sistema connesso a Internet e che esegue il proxy RPC con la chiave **AllowAnonymous** impostata su un valore diverso da zero può essere vulnerabile agli attacchi.</span><span class="sxs-lookup"><span data-stu-id="1ed52-188">Any system connected to the Internet and running the RPC Proxy with the **AllowAnonymous** key set to a nonzero value may be vulnerable to attacks.</span></span>

 

 

 




