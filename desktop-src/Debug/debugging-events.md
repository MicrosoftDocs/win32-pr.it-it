---
description: Un evento di debug è un evento imprevisto nel processo di cui è in corso il debug che determina la notifica al debugger da parte del sistema.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Eventi di debug
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bee6d159dded992e56ac05bc1d751246cd051733
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104049089"
---
# <a name="debugging-events"></a>Eventi di debug

Un evento di debug è un evento imprevisto nel processo di cui è in corso il debug che determina la notifica al debugger da parte del sistema. Gli eventi di debug includono la creazione di un processo, la creazione di un thread, il caricamento di una libreria di collegamento dinamico (DLL), lo scaricamento di una DLL, l'invio di una stringa di output e la generazione di un'eccezione.

Se si verifica un evento di debug mentre un debugger è in attesa di uno, il sistema compila la struttura dell' [**\_ evento di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) specificata da [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) con le informazioni che descrivono l'evento.

Quando il sistema invia una notifica al debugger di un evento di debug, sospende anche tutti i thread nel processo interessato. I thread non riprendono l'esecuzione finché il debugger non continua l'evento di debug usando [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Durante il debug di un processo, è possibile che si verifichino i seguenti eventi di debug.



| Evento di debug                          | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Crea \_ \_ evento di debug processo \_<br/> | Generato ogni volta che viene creato un nuovo processo in un processo di cui è in corso il debug o quando il debugger inizia a eseguire il debug di un processo già attivo. Il sistema genera questo evento di debug prima che il processo inizi l'esecuzione in modalità utente e prima che il sistema generi altri eventi di debug per il nuovo processo. <br/> La struttura degli [**\_ eventi di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di [**informazioni di debug del processo di creazione \_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) . Questa struttura include un handle per il nuovo processo, un handle per il file di immagine del processo, un handle per il thread iniziale del processo e altre informazioni che descrivono il nuovo processo.<br/> L'handle per il processo ha l'accesso in scrittura alla macchina virtuale di processo \_ \_ lettura ed elaborazione \_ \_ . Se un debugger dispone di questi tipi di accesso a un thread, può leggere e scrivere nella memoria del processo usando le funzioni [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) e [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) . Se il sistema ha segnalato in precedenza un evento di uscita del \_ processo di \_ debug \_ , il sistema chiude questo handle quando il debugger chiama la funzione [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> L'handle per il file di immagine del processo ha \_ accesso in lettura generico ed è aperto per la condivisione di lettura. Il debugger deve chiudere questo handle durante l'elaborazione dell'evento di debug del processo di creazione \_ \_ \_ .<br/> L'handle per il thread iniziale del processo include il \_ contesto Get dei thread \_ , il \_ \_ contesto del set di thread e l' \_ accesso di sospensione del thread \_ al thread. Se un debugger dispone di questi tipi di accesso a un thread, può leggere e scrivere nei registri del thread usando le funzioni [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e può sospendere e riprendere il thread usando le funzioni [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) . Se il sistema ha segnalato in precedenza un evento di uscita del \_ processo di \_ debug \_ , il sistema chiude questo handle quando il debugger chiama la funzione [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> |
| Crea \_ \_ evento di debug thread \_<br/>  | Generato ogni volta che viene creato un nuovo thread in un processo di cui è in corso il debug o quando il debugger inizia a eseguire il debug di un processo già attivo. Questo evento di debug viene generato prima dell'inizio dell'esecuzione del nuovo thread in modalità utente. <br/> La struttura degli [**\_ eventi di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di [**informazioni di debug del thread di creazione \_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) . Questa struttura include un handle per il nuovo thread e l'indirizzo iniziale del thread. L'handle include il \_ contesto Get del thread \_ , il contesto del \_ set di thread e l' \_ \_ accesso di sospensione del thread \_ al thread. Se un debugger dispone di questi tipi di accesso a un thread, può leggere e scrivere nei registri del thread usando le funzioni [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e può sospendere e riprendere il thread usando le funzioni [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) .<br/> Se il sistema ha segnalato in precedenza \_ un \_ evento di evento di debug del thread \_ di uscita, il sistema chiude l'handle al nuovo thread quando il debugger chiama la funzione [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_evento di debug eccezione \_<br/>       | Generato ogni volta che si verifica un'eccezione nel processo di cui è in corso il debug. Le eccezioni possibili includono il tentativo di accedere a una memoria inaccessibile, l'esecuzione di istruzioni per il punto di interruzione, il tentativo di dividere per zero o qualsiasi altra eccezione nota nella [gestione strutturata delle eccezioni](structured-exception-handling.md). <br/> La struttura dell' [**\_ evento di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di [**informazioni di \_ debug \_**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) per le eccezioni. Questa struttura descrive l'eccezione che ha causato l'evento di debug.<br/> Oltre alle condizioni di eccezione standard, è possibile che si verifichi un ulteriore codice di eccezione durante il debug del processo della console. Il sistema genera un \_ \_ codice di eccezione C del controllo DBG quando CTRL + c viene inserito in un processo console che gestisce i segnali CTRL + c ed è in fase di debug. Questo codice di eccezione non è destinato a essere gestito dalle applicazioni. Un'applicazione non deve mai usare un gestore di eccezioni per gestirla. Viene generato solo per il vantaggio del debugger e viene usato solo quando un debugger è collegato al processo della console.<br/> Se non viene eseguito il debug di un processo o se il debugger passa l' \_ eccezione C del controllo dbg non \_ gestita (tramite il comando GN), viene eseguita la ricerca nell'elenco di funzioni del gestore dell'applicazione, come documentato per la funzione [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) .<br/> Se il debugger gestisce l' \_ eccezione C del controllo dbg \_ (tramite il comando GH), un'applicazione non noterà la combinazione di tasti CTRL + C, ad eccezione del codice simile al seguente.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Non è quindi possibile usare il debugger per arrestare l'attesa di lettura in tale codice.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| TERMINA \_ \_ evento di debug processo \_<br/>   | Generato ogni volta che viene chiuso l'ultimo thread in un processo di cui è in corso il debug. Questo evento di debug si verifica immediatamente dopo il caricamento delle dll del processo da parte del sistema e l'aggiornamento del codice di uscita del processo. <br/> La struttura degli [**\_ eventi di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di informazioni di debug del processo di uscita che specifica il codice di uscita. [**\_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info)<br/> Il debugger dealloca tutte le strutture interne associate al processo alla ricezione di questo evento di debug. Il sistema chiude l'handle del debugger al processo di uscita e a tutti i thread del processo. Il debugger non deve chiudere questi handle.<br/> Non è possibile completare la parte della modalità kernel dell'arresto del processo finché il debugger che riceve questo evento non chiama [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Fino a quel momento, gli handle di processo sono aperti e lo spazio degli indirizzi virtuali non viene rilasciato, quindi il debugger può esaminare il processo figlio. Per ricevere una notifica quando viene completata la parte della modalità kernel dell'arresto del processo, duplicare l'handle restituito con l' \_ evento di debug create process \_ \_ , chiamare **ContinueDebugEvent** e quindi attendere che venga segnalato l'handle di processo duplicato.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| TERMINA \_ \_ evento di debug thread \_<br/>    | Generato ogni volta che un thread che fa parte di un processo di cui è in corso il debug viene chiuso. Il sistema genera questo evento di debug subito dopo l'aggiornamento del codice di uscita del thread. <br/> La struttura dell' [**\_ evento di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di informazioni di debug del thread di uscita che specifica il codice di uscita. [**\_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info)<br/> Questo evento di debug non si verifica se il thread in uscita è l'ultimo thread di un processo. In questo caso, \_ \_ viene invece generato l'evento di debug dell'evento di debug del processo \_ .<br/> Il debugger dealloca tutte le strutture interne associate al thread alla ricezione di questo evento di debug. Il sistema chiude l'handle del debugger al thread in uscita. Il debugger non deve chiudere questo handle.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CARICA \_ \_ evento di debug dll \_<br/>       | Generato ogni volta che un processo sottoposto a debug carica una DLL. Questo evento di debug si verifica quando il caricatore di sistema risolve i collegamenti a una DLL o quando il processo sottoposto a debug utilizza la funzione [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) . Questo evento di debug si verifica solo la prima volta che il sistema connette una DLL allo spazio degli indirizzi virtuali di un processo. <br/> La struttura degli [**\_ eventi di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di informazioni di debug per la [**dll di caricamento \_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) . Questa struttura include un handle per la DLL appena caricata, l'indirizzo di base della DLL e altre informazioni che descrivono la DLL. Il debugger deve chiudere l'handle per l'handle della DLL durante l'elaborazione dell' \_ evento di debug DLL di caricamento \_ \_ .<br/> In genere, un debugger carica una tabella dei simboli associata alla DLL alla ricezione di questo evento di debug.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| \_ \_ evento stringa di debug di output \_<br/>  | Generato quando un processo di cui è in corso il debug usa il <br/>Funzione [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) . La struttura dell' [**\_ evento di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di [**informazioni sulla stringa di debug dell'output \_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) . Questa struttura consente di specificare l'indirizzo, la lunghezza e il formato della stringa di debug.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Scarica \_ \_ evento di debug dll \_<br/>     | Generato ogni volta che un processo sottoposto a debug Scarica una DLL tramite la funzione [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) . Questo evento di debug si verifica solo l'ultima volta che una DLL viene scaricata dallo spazio degli indirizzi di un processo, ovvero quando il conteggio di utilizzo della DLL è pari a zero. <br/> La struttura dell' [**\_ evento di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di [**\_ \_ \_ informazioni di debug DLL di scaricamento**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) . Questa struttura specifica l'indirizzo di base della DLL nello spazio degli indirizzi del processo che Scarica la DLL.<br/> In genere, un debugger Scarica una tabella dei simboli associata alla DLL alla ricezione di questo evento di debug.<br/> Quando un processo viene chiuso, il sistema Scarica automaticamente le dll del processo, ma non genera un evento di debug degli \_ eventi di debug DLL di scaricamento \_ \_ .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| \_evento RIP<br/>                    | Generato ogni volta che un processo di cui è in corso il debug si interrompe all'esterno del controllo del debugger di sistema.<br/> La struttura dell' [**\_ evento di debug**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura di [**\_ informazioni RIP**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) . Questa struttura specifica l'errore e il tipo di errore.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
