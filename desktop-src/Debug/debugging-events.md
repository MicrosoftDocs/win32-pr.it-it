---
description: Un evento di debug è un evento imprevisto nel processo in fase di debug che causa la notifica al debugger da parte del sistema.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Debug di eventi
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7d1f9f723e55b75b32d9f9e3cbf4baac0a8cc683dd3a5aa1b95a2931bceba29
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/11/2021
ms.locfileid: "119642191"
---
# <a name="debugging-events"></a>Debug di eventi

Un evento di debug è un evento imprevisto nel processo in fase di debug che causa la notifica al debugger da parte del sistema. Gli eventi di debug includono la creazione di un processo, la creazione di un thread, il caricamento di una libreria a collegamento dinamico (DLL), lo scaricamento di una DLL, l'invio di una stringa di output e la generazione di un'eccezione.

Se si verifica un evento di debug mentre un debugger ne è in attesa, il sistema riempie la struttura [**DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) specificata da [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) con informazioni che descrivono l'evento.

Quando il sistema notifica al debugger un evento di debug, sospende anche tutti i thread nel processo interessato. I thread non riprendono l'esecuzione fino a quando il debugger non continua l'evento di debug usando [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Durante il debug di un processo possono verificarsi gli eventi di debug seguenti.



| Evento di debug                          | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| EVENTO \_ DI DEBUG CREATE \_ \_ PROCESS<br/> | Generato ogni volta che viene creato un nuovo processo in un processo in fase di debug o ogni volta che il debugger avvia il debug di un processo già attivo. Il sistema genera questo evento di debug prima che il processo inizi a essere eseguito in modalità utente e prima che il sistema generi altri eventi di debug per il nuovo processo. <br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura CREATE PROCESS DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) Questa struttura include un handle per il nuovo processo, un handle per il file di immagine del processo, un handle per il thread iniziale del processo e altre informazioni che descrivono il nuovo processo.<br/> L'handle per il processo dispone dell'accesso PROCESS \_ VM READ e PROCESS VM \_ \_ \_ WRITE. Se un debugger ha questi tipi di accesso a un thread, può leggere e scrivere nella memoria del processo usando le funzioni [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) e [**WriteProcessMemory.**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) Se il sistema ha segnalato in precedenza un evento EXIT PROCESS DEBUG EVENT, il sistema chiude questo handle quando il \_ debugger chiama la funzione \_ \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> L'handle per il file di immagine del processo ha accesso IN LETTURA GENERICO \_ e viene aperto per la condivisione in lettura. Il debugger deve chiudere questo handle durante l'elaborazione di CREATE \_ PROCESS \_ DEBUG \_ EVENT.<br/> L'handle per il thread iniziale del processo ha accesso THREAD \_ GET \_ CONTEXT, THREAD \_ SET CONTEXT e THREAD SUSPEND RESUME al \_ \_ \_ thread. Se un debugger ha questi tipi di accesso a un thread, può leggere e scrivere nei registri del thread usando le [**funzioni GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e può sospendere e riprendere il thread usando le funzioni [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) Se il sistema ha segnalato in precedenza un evento EXIT PROCESS DEBUG EVENT, il sistema chiude questo handle quando il \_ debugger chiama la funzione \_ \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> |
| CREARE UN \_ EVENTO DI DEBUG DEL \_ \_ THREAD<br/>  | Generato ogni volta che viene creato un nuovo thread in un processo in fase di debug o ogni volta che il debugger avvia il debug di un processo già attivo. Questo evento di debug viene generato prima che il nuovo thread inizi a essere eseguito in modalità utente. <br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura CREATE THREAD DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) Questa struttura include un handle per il nuovo thread e l'indirizzo iniziale del thread. L'handle ha accesso THREAD \_ GET \_ CONTEXT, THREAD \_ SET CONTEXT e THREAD SUSPEND RESUME al \_ \_ \_ thread. Se un debugger ha questi tipi di accesso a un thread, può leggere e scrivere nei registri del thread usando le [**funzioni GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e può sospendere e riprendere il thread usando le funzioni [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)<br/> Se il sistema ha segnalato in precedenza un evento EXIT THREAD DEBUG EVENT, il sistema chiude l'handle al nuovo thread quando il debugger chiama \_ \_ la funzione \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| EVENTO \_ DI DEBUG DELLE \_ ECCEZIONI<br/>       | Generato ogni volta che si verifica un'eccezione nel processo in fase di debug. Le possibili eccezioni includono il tentativo di accedere alla memoria inaccessibile, l'esecuzione di istruzioni del punto di interruzione, il tentativo di divisione per zero o qualsiasi altra eccezione rilevata nella gestione delle eccezioni [strutturata](structured-exception-handling.md). <br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura EXCEPTION DEBUG \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) Questa struttura descrive l'eccezione che ha causato l'evento di debug.<br/> Oltre alle condizioni di eccezione standard, durante il debug del processo della console può verificarsi un codice di eccezione aggiuntivo. Il sistema genera un codice di eccezione DBG CONTROL C quando CTRL+C viene immesso in un processo della console che gestisce i segnali CTRL+C ed è \_ \_ in corso il debug. Questo codice di eccezione non è destinato a essere gestito dalle applicazioni. Un'applicazione non deve mai usare un gestore di eccezioni per gestire l'eccezione. Viene generato solo a vantaggio del debugger e viene usato solo quando un debugger è collegato al processo della console.<br/> Se non viene eseguito il debug di un processo o se il debugger passa l'eccezione DBG CONTROL C non gestita (tramite il comando gn), viene cercato l'elenco di funzioni del gestore dell'applicazione, come documentato per la \_ \_ funzione [**SetConsoleCtrlHandler.**](/windows/console/setconsolectrlhandler)<br/> Se il debugger gestisce l'eccezione DBG CONTROL C (tramite il comando gh), un'applicazione noterà CTRL+C solo nel codice \_ \_ simile al seguente.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Pertanto, il debugger non può essere usato per arrestare la terminazione dell'attesa di lettura in tale codice.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EVENTO \_ EXIT PROCESS \_ \_ DEBUG<br/>   | Generato ogni volta che si chiude l'ultimo thread di un processo in fase di debug. Questo evento di debug si verifica immediatamente dopo che il sistema scarica le DLL del processo e aggiorna il codice di uscita del processo. <br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura EXIT PROCESS DEBUG \_ \_ \_ INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) che specifica il codice di uscita.<br/> Il debugger dealloca tutte le strutture interne associate al processo alla ricezione di questo evento di debug. Il sistema chiude l'handle del debugger al processo in uscita e a tutti i thread del processo. Il debugger non deve chiudere questi handle.<br/> La parte in modalità kernel dell'arresto del processo non può essere completata fino a quando il debugger che riceve questo evento non chiama [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Fino ad allora, gli handle del processo sono aperti e lo spazio degli indirizzi virtuali non viene rilasciato, quindi il debugger può esaminare il processo figlio. Per ricevere una notifica al termine dell'arresto del processo in modalità kernel, duplicare l'handle restituito con CREATE PROCESS DEBUG EVENT, chiamare \_ \_ \_ **ContinueDebugEvent** e quindi attendere la segnalazione dell'handle del processo duplicato.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| EVENTO DI \_ DEBUG DEL THREAD DI \_ \_ USCITA<br/>    | Generato ogni volta che un thread che fa parte di un processo in fase di debug viene chiuso. Il sistema genera questo evento di debug immediatamente dopo l'aggiornamento del codice di uscita del thread. <br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura EXIT THREAD DEBUG \_ \_ \_ INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) che specifica il codice di uscita.<br/> Questo evento di debug non si verifica se il thread in uscita è l'ultimo thread di un processo. In questo caso, si verifica invece \_ l'evento di \_ debug DELL'EVENTO EXIT PROCESS \_ DEBUG.<br/> Il debugger dealloca tutte le strutture interne associate al thread alla ricezione di questo evento di debug. Il sistema chiude l'handle del debugger al thread in uscita. Il debugger non deve chiudere questo handle.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| EVENTO \_ DI DEBUG DELLA DLL DI \_ \_ CARICAMENTO<br/>       | Generato ogni volta che un processo in fase di debug carica una DLL. Questo evento di debug si verifica quando il caricatore di sistema risolve i collegamenti a una DLL o quando il processo di debug usa la [**funzione LoadLibrary.**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) Questo evento di debug si verifica solo la prima volta che il sistema collega una DLL allo spazio indirizzi virtuale di un processo. <br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura LOAD DLL DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) Questa struttura include un handle per la DLL appena caricata, l'indirizzo di base della DLL e altre informazioni che descrivono la DLL. Il debugger deve chiudere l'handle per l'handle dll durante l'elaborazione di LOAD \_ DLL \_ DEBUG \_ EVENT.<br/> In genere, un debugger carica una tabella di simboli associata alla DLL alla ricezione di questo evento di debug.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| EVENTO \_ STRINGA DI DEBUG DI \_ \_ OUTPUT<br/>  | Generato quando un processo in fase di debug usa <br/>[**Funzione OutputDebugString.**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una struttura [**OUTPUT DEBUG STRING \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) Questa struttura specifica l'indirizzo, la lunghezza e il formato della stringa di debug.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| EVENTO DI \_ DEBUG DI \_ \_ UNLOAD DLL<br/>     | Generato ogni volta che un processo in fase di debug scarica una DLL usando la [**funzione FreeLibrary.**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) Questo evento di debug si verifica solo l'ultima volta che una DLL viene scaricata dallo spazio indirizzi di un processo, ovvero quando il numero di utilizzo della DLL è zero. <br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura UNLOAD DLL DEBUG \_ \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) Questa struttura specifica l'indirizzo di base della DLL nello spazio indirizzi del processo che scarica la DLL.<br/> In genere, un debugger scarica una tabella di simboli associata alla DLL alla ricezione di questo evento di debug.<br/> Quando un processo viene chiuso, il sistema scarica automaticamente le DLL del processo, ma non genera un evento di debug \_ UNLOAD DLL \_ DEBUG \_ EVENT.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EVENTO \_ RIP<br/>                    | Generato ogni volta che un processo in fase di debug si interrompe all'esterno del controllo del debugger di sistema.<br/> La [**struttura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contiene una [**struttura RIP \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) Questa struttura specifica l'errore e il tipo di errore.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
