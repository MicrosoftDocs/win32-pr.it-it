---
description: Uso di SymSrv
ms.assetid: d400f222-c50c-4c7b-8f8a-0c3ed3bba3b9
title: Uso di SymSrv
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bbaf68e80555629db8bc9a2a21394b95fe6fb85
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/27/2021
ms.locfileid: "110550036"
---
# <a name="using-symsrv"></a><span data-ttu-id="afe60-103">Uso di SymSrv</span><span class="sxs-lookup"><span data-stu-id="afe60-103">Using SymSrv</span></span>

<span data-ttu-id="afe60-104">SymSrv fornisce file di simboli da archivi di simboli centralizzati.</span><span class="sxs-lookup"><span data-stu-id="afe60-104">SymSrv delivers symbol files from centralized symbol stores.</span></span> <span data-ttu-id="afe60-105">Questi archivi possono contenere un numero qualsiasi di file di simboli, corrispondenti a un numero qualsiasi di programmi o sistemi operativi.</span><span class="sxs-lookup"><span data-stu-id="afe60-105">These stores can contain any number of symbol files, corresponding to any number of programs or operating systems.</span></span> <span data-ttu-id="afe60-106">Gli archivi possono anche contenere file binari, particolarmente utili durante il debug di file minidump.</span><span class="sxs-lookup"><span data-stu-id="afe60-106">The stores can also contain binary files, which are particularly useful when debugging minidump files.</span></span>

<span data-ttu-id="afe60-107">Gli archivi possono contenere i file di simboli e binari effettivi o semplicemente puntatori ai file di simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-107">The stores can contain the actual symbol and binary files or simply pointers to symbol files.</span></span> <span data-ttu-id="afe60-108">Se l'archivio contiene puntatori, SymSrv recupererà i file effettivi direttamente dalle relative origini.</span><span class="sxs-lookup"><span data-stu-id="afe60-108">If the store contains pointers, SymSrv will retrieve the actual files directly from their sources.</span></span>

<span data-ttu-id="afe60-109">SymSrv può anche separare un archivio di simboli di grandi dimensioni in un subset più piccolo appropriato per un'attività di debug specializzata.</span><span class="sxs-lookup"><span data-stu-id="afe60-109">SymSrv can also separate a large symbol store into a smaller subset that is appropriate for a specialized debugging task.</span></span>

<span data-ttu-id="afe60-110">Infine, SymSrv può ottenere i file di simboli da un'origine HTTP o HTTPS usando le informazioni di accesso fornite dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="afe60-110">Finally, SymSrv can obtain symbol files from an HTTP or HTTPS source using the logon information provided by the operating system.</span></span> <span data-ttu-id="afe60-111">SymSrv supporta siti HTTPS protetti da smart card, certificati e normali account di accesso e password.</span><span class="sxs-lookup"><span data-stu-id="afe60-111">SymSrv supports HTTPS sites protected by smartcards, certificates, and regular logins and passwords.</span></span>

## <a name="setting-the-symbol-path"></a><span data-ttu-id="afe60-112">Impostazione del percorso dei simboli</span><span class="sxs-lookup"><span data-stu-id="afe60-112">Setting the Symbol Path</span></span>

<span data-ttu-id="afe60-113">Come descritto in [Percorsi dei](symbol-paths.md)simboli , il percorso dei simboli (variabile di ambiente NT SYMBOL PATH) può essere costituito da diversi elementi del percorso separati da punti \_ e \_ \_ virgola.</span><span class="sxs-lookup"><span data-stu-id="afe60-113">As described in [Symbol Paths](symbol-paths.md), the symbol path (\_NT\_SYMBOL\_PATH environment variable) can be made up of several path elements separated by semicolons.</span></span> <span data-ttu-id="afe60-114">Se uno o più di questi elementi di percorso iniziano con il testo "srv", l'elemento è un server di simboli e userà SymSrv per individuare i file \* di simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-114">If any one or more of these path elements begins with the text "srv\*", then the element is a symbol server and will use SymSrv to locate symbol files.</span></span>

> [!Note]  
> <span data-ttu-id="afe60-115">Se il testo "srv " non è specificato ma l'elemento di percorso effettivo è un archivio del server di simboli, il gestore dei simboli agirà come se fosse specificato \* "srv". \*</span><span class="sxs-lookup"><span data-stu-id="afe60-115">If the "srv\*" text is not specified but the actual path element is a symbol server store, then the symbol handler will act as if "srv\*" were specified.</span></span> <span data-ttu-id="afe60-116">Il gestore dei simboli determina questa determinazione cercando l'esistenza di un file denominato "pingme.txt" nella directory radice del percorso specificato.</span><span class="sxs-lookup"><span data-stu-id="afe60-116">The symbol handler makes this determination by searching for the existence of a file called "pingme.txt" in the root directory of the specified path.</span></span>

 

<span data-ttu-id="afe60-117">Così come i percorsi dei simboli sono composti da elementi del percorso dei simboli separati da punti e virgola, i server dei simboli sono composti da elementi dell'archivio simboli separati da asterischi.</span><span class="sxs-lookup"><span data-stu-id="afe60-117">Just as symbol paths are made up of symbol path elements separated by semicolons, symbol servers are made up of symbol store elements separated by asterisks.</span></span> <span data-ttu-id="afe60-118">Dopo il prefisso "srv" possono essere presenti fino a 10 \* archivi di simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-118">There can be up to 10 symbol stores after the "srv\*" prefix.</span></span> <span data-ttu-id="afe60-119">Gli archivi elencati a sinistra dell'elenco sono denominati *archivi downstream* e gli archivi a destra sono denominati *archivi upstream.*</span><span class="sxs-lookup"><span data-stu-id="afe60-119">Stores listed to the left of the list are called *downstream* stores and stores to the right are called *upstream* stores.</span></span>

<dl> <span data-ttu-id="afe60-120">srv \* *SymbolStore*</span><span class="sxs-lookup"><span data-stu-id="afe60-120">srv\**SymbolStore*</span></span>  
<span data-ttu-id="afe60-121">srv \* *SymbolStore1* \* *SymbolStoreN*  
</span><span class="sxs-lookup"><span data-stu-id="afe60-121">srv\**SymbolStore1*\**SymbolStoreN*  
</span></span></dl>

<span data-ttu-id="afe60-122">Se nel percorso è incluso un solo elemento dell'archivio simboli, SymSrv tenterà di usare il file richiesto direttamente da tale archivio.</span><span class="sxs-lookup"><span data-stu-id="afe60-122">If only one symbol store element is included in the path, then SymSrv will attempt to use the any requested file directly from that store.</span></span>

<span data-ttu-id="afe60-123">Se nel percorso sono presenti due archivi simboli, SymSrv cerca il file di simboli nell'archivio simboli più a sinistra.</span><span class="sxs-lookup"><span data-stu-id="afe60-123">If there are two symbol stores in the path, SymSrv looks for the symbol file in the leftmost symbol store.</span></span> <span data-ttu-id="afe60-124">Se il file è presente, viene usato.</span><span class="sxs-lookup"><span data-stu-id="afe60-124">If the file is there, it is used.</span></span> <span data-ttu-id="afe60-125">Se non è presente, SymSrv cerca nell'archivio simboli immediatamente a destra.</span><span class="sxs-lookup"><span data-stu-id="afe60-125">If it is not there, SymSrv looks in the symbol store immediately to the right.</span></span> <span data-ttu-id="afe60-126">Se il file è presente, viene copiato nell'archivio sinistro e aperto da qui.</span><span class="sxs-lookup"><span data-stu-id="afe60-126">If the file is there, it is copied to the left store and opened from there.</span></span>

<span data-ttu-id="afe60-127">Se sono presenti più di due archivi, questo comportamento continua a destra fino a quando non viene trovato il file o non sono presenti altri archivi nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="afe60-127">If there are more than two stores, this behavior continues to the right until the file is found or there are no more stores in the list.</span></span>

<span data-ttu-id="afe60-128">Il file non viene mai aperto da alcun archivio, ma dall'archivio più a sinistra.</span><span class="sxs-lookup"><span data-stu-id="afe60-128">The file is never opened from any store but the leftmost store.</span></span> <span data-ttu-id="afe60-129">Se il file viene trovato in un altro punto della catena, viene copiato in ogni archivio a sinistra.</span><span class="sxs-lookup"><span data-stu-id="afe60-129">If the file is found anywhere else in the chain, it is copied to every store to the left of it.</span></span> <span data-ttu-id="afe60-130">Questo processo di copia è detto "propagazione" e offre alcuni vantaggi che verranno forniti più avanti in questo documento.</span><span class="sxs-lookup"><span data-stu-id="afe60-130">This copy process is called "cascading" and provides certain benefits that will clarfied later in this document.</span></span>

## <a name="types-of-symbol-stores"></a><span data-ttu-id="afe60-131">Tipi di archivi di simboli</span><span class="sxs-lookup"><span data-stu-id="afe60-131">Types of Symbol Stores</span></span>

<span data-ttu-id="afe60-132">Nella tabella seguente vengono visualizzati esempi dei tipi di archivio simboli supportati.</span><span class="sxs-lookup"><span data-stu-id="afe60-132">The following table displays examples of the supported symbol store types.</span></span>

|  <span data-ttu-id="afe60-133">Tipo di archivio simboli</span><span class="sxs-lookup"><span data-stu-id="afe60-133">Symbol store type</span></span>       |  <span data-ttu-id="afe60-134">Descrizione</span><span class="sxs-lookup"><span data-stu-id="afe60-134">Description</span></span> |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="afe60-135">\\\\condivisione \\ server</span><span class="sxs-lookup"><span data-stu-id="afe60-135">\\\\server\\share</span></span>          | <span data-ttu-id="afe60-136">Percorso UNC completo di una condivisione in un server remoto.</span><span class="sxs-lookup"><span data-stu-id="afe60-136">A fully qualified UNC path to a share on a remote server.</span></span>                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="afe60-137">c: \\ LocalCache</span><span class="sxs-lookup"><span data-stu-id="afe60-137">c:\\LocalCache</span></span>             | <span data-ttu-id="afe60-138">Percorso di una directory nel computer client.</span><span class="sxs-lookup"><span data-stu-id="afe60-138">A path to a directory on the client computer.</span></span>                                                                                                                                                                                                                                                                                                             |
| https://InternetSite        | <span data-ttu-id="afe60-139">URL di un sito Web che ospita i simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-139">The URL to a web site hosting the symbols.</span></span> <span data-ttu-id="afe60-140">Deve essere l'archivio più a destra nell'elenco e non deve essere l'unico archivio nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="afe60-140">Must be the rightmost store in the list and should not be the only store in the list.</span></span>                                                                                                                                                                                                                          |
| https://SecureInternetSite | <span data-ttu-id="afe60-141">URL di un sito Web sicuro che ospita i simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-141">The URL to a secure web site hosting the symbols.</span></span> <span data-ttu-id="afe60-142">Può supportare password, credenziali di accesso di Windows, certificati e smart card.</span><span class="sxs-lookup"><span data-stu-id="afe60-142">This can support passwords, Windows login credentials, certificates, and smartcards.</span></span> <span data-ttu-id="afe60-143">Deve essere l'archivio più a destra nell'elenco e non deve essere l'unico archivio nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="afe60-143">Must be the rightmost store in the list and should not be the only store in the list.</span></span>                                                                                                                              |
| <blank>              | <span data-ttu-id="afe60-144">Se non è presente alcun testo tra due asterischi, indica *l'archivio downstream predefinito.*</span><span class="sxs-lookup"><span data-stu-id="afe60-144">If there is no text between two asterisks, this indicates the *default downstream store*.</span></span> <span data-ttu-id="afe60-145">Il percorso viene impostato chiamando [**SymSetHomeDirectory.**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory)</span><span class="sxs-lookup"><span data-stu-id="afe60-145">The location is set by calling [**SymSetHomeDirectory**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory).</span></span> <span data-ttu-id="afe60-146">Il valore predefinito è una directory denominata "sym" immediatamente sotto la directory del programma dell'applicazione chiamante.</span><span class="sxs-lookup"><span data-stu-id="afe60-146">The default value is a directory named "sym" immediately below the program directory of the calling application.</span></span> <span data-ttu-id="afe60-147">Questa operazione viene talvolta definita cache *locale predefinita.*</span><span class="sxs-lookup"><span data-stu-id="afe60-147">This is sometimes referred to as the *default local cache*.</span></span> |



 

<span data-ttu-id="afe60-148">Poiché non è possibile scrivere in un archivio simboli basato su HTTP, deve essere l'archivio più a destra nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="afe60-148">Because an HTTP-based symbol store cannot be written to, it must be the rightmost store in the list.</span></span> <span data-ttu-id="afe60-149">Se un archivio dei simboli basato su HTTP si trova al centro o a sinistra dell'elenco di archivi, non è possibile copiare i file trovati in esso e la catena viene interrotta.</span><span class="sxs-lookup"><span data-stu-id="afe60-149">If an HTTP-based symbol store was located in the middle or the left of the store list, it would not be possible to copy any found files to it and the chain would be broken.</span></span> <span data-ttu-id="afe60-150">Inoltre, poiché il gestore dei simboli non può aprire un file da un sito Web, un archivio basato su HTTP non deve essere l'archivio più a sinistra o solo nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="afe60-150">Furthermore, because the symbol handler cannot open a file from a web site, an HTTP-based store should not be the leftmost or only store on the list.</span></span> <span data-ttu-id="afe60-151">Se SymSrv viene visualizzato con questo percorso dei simboli, tenterà di eseguire il ripristino copiando il file nell'archivio downstream predefinito e aprirlo da tale posizione, indipendentemente dal fatto che l'archivio downstream predefinito sia indicato o meno nel percorso dei simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-151">If SymSrv is ever presented with this symbol path, it will attempt to recover by copying the file to the default downstream store and open it from there, regardless of whether the default downstream store is indicated in the symbol path or not.</span></span>

## <a name="examples"></a><span data-ttu-id="afe60-152">Esempio</span><span class="sxs-lookup"><span data-stu-id="afe60-152">Examples</span></span>

<span data-ttu-id="afe60-153">Per usare SymSrv con un archivio simboli \\ \\ in mybuilds \\ mysymbols, impostare il percorso dei simboli seguente:</span><span class="sxs-lookup"><span data-stu-id="afe60-153">To use SymSrv with a symbol store on \\\\mybuilds\\mysymbols, set the following symbol path:</span></span>

<span data-ttu-id="afe60-154">**set \_ NT \_ SYMBOL \_ PATH= srv \* \\ \\ mybuilds \\ mysymbols**</span><span class="sxs-lookup"><span data-stu-id="afe60-154">**set \_NT\_SYMBOL\_PATH= srv\*\\\\mybuilds\\mysymbols**</span></span>

<span data-ttu-id="afe60-155">Per impostare il percorso dei simboli in modo che il debugger copierà i file di simboli da un archivio di simboli in \\ \\ mybuilds \\ mysymbols nella directory locale c: \\ localsymbols, usare:</span><span class="sxs-lookup"><span data-stu-id="afe60-155">To set the symbol path so that the debugger will copy symbol files from a symbol store on \\\\mybuilds\\mysymbols to your local directory c:\\localsymbols, use:</span></span>

<span data-ttu-id="afe60-156">**set \_ NT \_ SYMBOL \_ PATH=srv \* c: \\ localsymbols \* \\ \\ mybuilds \\ mysymbols**</span><span class="sxs-lookup"><span data-stu-id="afe60-156">**set \_NT\_SYMBOL\_PATH=srv\*c:\\localsymbols\*\\\\mybuilds\\mysymbols**</span></span>

<span data-ttu-id="afe60-157">Per impostare il percorso dei simboli in modo che il debugger copierà i file di simboli da un archivio di simboli in \\ \\ mybuilds mysymbols nell'archivio downstream predefinito (in genere \\ c: \\ \\ debuggers sym), usare:</span><span class="sxs-lookup"><span data-stu-id="afe60-157">To set the symbol path so that the debugger will copy symbol files from a symbol store on \\\\mybuilds\\mysymbols to the default downstream store (typically c:\\debuggers\\sym), use:</span></span>

<span data-ttu-id="afe60-158">**set \_ NT \_ SYMBOL \_ PATH=srv \* \* \\ \\ mybuilds \\ mysymbols**</span><span class="sxs-lookup"><span data-stu-id="afe60-158">**set \_NT\_SYMBOL\_PATH=srv\*\*\\\\mybuilds\\mysymbols**</span></span>

<span data-ttu-id="afe60-159">Per usare un archivio a catena, impostare il percorso del simbolo seguente:</span><span class="sxs-lookup"><span data-stu-id="afe60-159">To use a cascading store, set the following symbol path:</span></span>

<span data-ttu-id="afe60-160">**set \_ NT SYMBOL PATH = \_ \_ srv \* c: \\ localsymbols \* \\ \\ NearbyServer \\ store\*https://DistantServer**</span><span class="sxs-lookup"><span data-stu-id="afe60-160">**set \_NT\_SYMBOL\_PATH = srv\*c:\\localsymbols\*\\\\NearbyServer\\store\*https://DistantServer**</span></span>

<span data-ttu-id="afe60-161">In questo esempio SymSrv cerca innanzitutto il file in c: \\ localsymbols.</span><span class="sxs-lookup"><span data-stu-id="afe60-161">In this example, SymSrv first looks for the file in c:\\localsymbols.</span></span> <span data-ttu-id="afe60-162">Se viene trovato, restituirà un percorso al file.</span><span class="sxs-lookup"><span data-stu-id="afe60-162">If it is found there, it will return a path to the file.</span></span> <span data-ttu-id="afe60-163">In caso contrario, SymSrv cerca il file \\ \\ nell'archivio \\ NearbyServer.</span><span class="sxs-lookup"><span data-stu-id="afe60-163">Otherwise, SymSrv looks for the file in \\\\NearbyServer\\store.</span></span> <span data-ttu-id="afe60-164">Se viene trovato, SymSrv copia il file in c: localsymbols e restituisce un percorso al file. Se non viene trovato, SymSrv cerca il file in e, se viene trovato, SymSrv copia il file nell'archivio NearbyServer, quindi in \\ https://DistantServer \\ \\ \\ c: \\ localsymbols.</span><span class="sxs-lookup"><span data-stu-id="afe60-164">If it is found there, SymSrv copies the file to c:\\localsymbols and returns a path to the file; if it is not found, SymSrv looks for the file in https://DistantServer, and if it is found there, SymSrv copies the file to \\\\NearbyServer\\store, then to c:\\localsymbols.</span></span>

<span data-ttu-id="afe60-165">Nell'ultimo esempio viene illustrato come usare la progettazione di un percorso di simboli per ottimizzare il download dei simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-165">This last example shows how judicious design of a symbol path can be used to optimize the downloading of symbols.</span></span> <span data-ttu-id="afe60-166">Se si dispone di un sito di lavoro con un gruppo di debugger e tutti devono ottenere simboli da una posizione distante, è possibile configurare un server comune con un archivio simboli vicino a tutti i debugger.</span><span class="sxs-lookup"><span data-stu-id="afe60-166">If you have a work site with a group of debuggers and they all need to get symbols from a distant location, you can set up a common server with a symbol store near all the debuggers.</span></span> <span data-ttu-id="afe60-167">Configurare quindi ogni debugger con il percorso del simbolo precedente.</span><span class="sxs-lookup"><span data-stu-id="afe60-167">Then setup every debugger with the symbol path above.</span></span> <span data-ttu-id="afe60-168">Il primo debugger che richiede una determinata versione di foo.pdb lo scarica dall'archivio NearbyServer e quindi nel proprio https://DistantServer \\ \\ computer in \\ c: \\ localsymbols.</span><span class="sxs-lookup"><span data-stu-id="afe60-168">The first debugger that requires a certain version of foo.pdb will download it from https://DistantServer to \\\\NearbyServer\\store and then to its own machine in c:\\localsymbols.</span></span> <span data-ttu-id="afe60-169">Il debugger successivo che richiede lo stesso file sarà in grado di scaricarlo dall'archivio NearbyServer perché è già stato scaricato in tale percorso \\ \\ dal debugger \\ precedente.</span><span class="sxs-lookup"><span data-stu-id="afe60-169">The next debugger that requires the same file will be able to download it from \\\\NearbyServer\\store because it was already downloaded to that location by the previous debugger.</span></span> <span data-ttu-id="afe60-170">Questa memorizzazione nella cache a più livelli consente di risparmiare tempo e larghezza di banda di rete significativi.</span><span class="sxs-lookup"><span data-stu-id="afe60-170">This multi-level caching saves significant time and network bandwidth.</span></span>

## <a name="microsoft-symbol-store"></a><span data-ttu-id="afe60-171">Microsoft Symbol Store</span><span class="sxs-lookup"><span data-stu-id="afe60-171">Microsoft Symbol Store</span></span>

<span data-ttu-id="afe60-172">Microsoft fornisce l'accesso a un server di simboli Internet che contiene i file di simboli per le numerose versioni del sistema operativo Windows.</span><span class="sxs-lookup"><span data-stu-id="afe60-172">Microsoft provides access to an Internet symbol server that contains symbol files for the many versions of the Windows operating system.</span></span> <span data-ttu-id="afe60-173">Questo catalogo di simboli non è garantito per essere completo, ma è completo.</span><span class="sxs-lookup"><span data-stu-id="afe60-173">This catalog of symbols is not guaranteed to be complete, but it is extensive.</span></span> <span data-ttu-id="afe60-174">Sono rappresentati anche altri prodotti Microsoft.</span><span class="sxs-lookup"><span data-stu-id="afe60-174">Other Microsoft products are also represented.</span></span>

<span data-ttu-id="afe60-175">Il server di simboli Internet viene popolato con un'ampia gamma di simboli di Windows per i sistemi operativi Microsoft Windows, tra cui correzioni rapida, Service Pack, pacchetti di rollup della sicurezza e versioni retail.</span><span class="sxs-lookup"><span data-stu-id="afe60-175">The Internet symbol server is populated with a variety of Windows symbols for Microsoft Windows operating systems, including hot fixes, Service Packs, Security Rollup Packages, and retail releases.</span></span> <span data-ttu-id="afe60-176">I simboli sono disponibili anche nel server per le versioni beta correnti e i candidati alla versione finale per i prodotti Windows, oltre a un'ampia gamma di altri prodotti Microsoft, ad esempio Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="afe60-176">Symbols are also available on the server for current Betas and Release Candidates for Windows products, plus a variety of other Microsoft products, such as Microsoft Internet Explorer.</span></span>

<span data-ttu-id="afe60-177">Se si ha accesso a Internet durante il debug, è possibile configurare il debugger per scaricare i simboli in base alle esigenze durante una sessione di debug, anziché scaricare i file di simboli separatamente prima di una sessione di debug.</span><span class="sxs-lookup"><span data-stu-id="afe60-177">If you have access to the Internet during debugging, you can configure the debugger to download symbols as needed during a debugging session, rather than downloading symbol files separately before a debugging session.</span></span> <span data-ttu-id="afe60-178">I simboli vengono scaricati in un percorso di directory specificato e quindi vengono caricati dal debugger.</span><span class="sxs-lookup"><span data-stu-id="afe60-178">The symbols are downloaded to a directory location that you specify and then the debugger loads them from there.</span></span>

<span data-ttu-id="afe60-179">L'URL per l'archivio simboli Microsoft è https://msdl.microsoft.com/download/symbols .</span><span class="sxs-lookup"><span data-stu-id="afe60-179">The URL for the Microsoft symbol store is https://msdl.microsoft.com/download/symbols.</span></span> <span data-ttu-id="afe60-180">L'esempio seguente illustra come impostare il percorso del simbolo del debugger (sostituire il percorso dell'archivio downstream con *c: \\ DownstreamStore*):</span><span class="sxs-lookup"><span data-stu-id="afe60-180">The following example shows how to set the debugger symbol path (substitute your downstream store path for *c:\\DownstreamStore*):</span></span>

``` syntax
srv*c:\DownstreamStore*https://msdl.microsoft.com/download/symbols
```

## <a name="compressed-files"></a><span data-ttu-id="afe60-181">File compressi</span><span class="sxs-lookup"><span data-stu-id="afe60-181">Compressed Files</span></span>

<span data-ttu-id="afe60-182">SymSrv è compatibile con gli archivi di simboli che contengono file compressi, purché questa compressione sia stata preformatta con lo strumento compress.exe distribuito con Windows Server 2003 Resource Kit.</span><span class="sxs-lookup"><span data-stu-id="afe60-182">SymSrv is compatible with symbol stores that contain compressed files, as long as this compression has been preformed with the compress.exe tool that was distributed with the Windows Server 2003 Resource Kit.</span></span> <span data-ttu-id="afe60-183">I file compressi devono avere un carattere di sottolineatura come ultimo carattere nelle estensioni di file , ad esempio module1.pd \_ o module2.db \_ .</span><span class="sxs-lookup"><span data-stu-id="afe60-183">Compressed files should have an underscore as the last character in their file extensions (for example, module1.pd\_ or module2.db\_).</span></span> <span data-ttu-id="afe60-184">Per informazioni dettagliate, vedere [Uso di SymStore.](using-symstore.md)</span><span class="sxs-lookup"><span data-stu-id="afe60-184">For details, see [Using SymStore](using-symstore.md).</span></span>

<span data-ttu-id="afe60-185">In caso di propagazione, i file non vengono compressi a meno che l'archivio di destinazione non sia l'archivio più a sinistra nel percorso.</span><span class="sxs-lookup"><span data-stu-id="afe60-185">When cascading, files are not uncompressed unless the target store is the leftmost store in the path.</span></span> <span data-ttu-id="afe60-186">Se nel percorso è presente un solo archivio contenente un file compresso, SymSrv copierà il file nell'archivio downstream predefinito e lo aprirà da questa posizione, anche se l'archivio downstream predefinito non è indicato nel percorso del simbolo.</span><span class="sxs-lookup"><span data-stu-id="afe60-186">If there is only one store in the path and it contains a compressed file, SymSrv will copy the file to the default downstream store and open it from there, even though the default downstream store is not indicated in they symbol path.</span></span>

<span data-ttu-id="afe60-187">**DbgHelp 6.1 e versioni precedenti:** Se i file nell'archivio master sono compressi, è necessario usare un archivio downstream.</span><span class="sxs-lookup"><span data-stu-id="afe60-187">**DbgHelp 6.1 and earlier.:** If the files in the master store are compressed, you must use a downstream store.</span></span> <span data-ttu-id="afe60-188">SymSrv decomprimerà tutti i file prima di copiarli nell'archivio downstream.</span><span class="sxs-lookup"><span data-stu-id="afe60-188">SymSrv will uncompress all files before copying them to the downstream store.</span></span>

## <a name="deleting-the-cache"></a><span data-ttu-id="afe60-189">Eliminazione della cache</span><span class="sxs-lookup"><span data-stu-id="afe60-189">Deleting the Cache</span></span>

<span data-ttu-id="afe60-190">Se si usa un archivio downstream come cache, è possibile eliminare questa directory in qualsiasi momento per risparmiare spazio su disco.</span><span class="sxs-lookup"><span data-stu-id="afe60-190">If you are using a downstream store as a cache, you can delete this directory at any time to save disk space.</span></span>

<span data-ttu-id="afe60-191">È possibile avere un ampio archivio di simboli che include file di simboli per molti programmi diversi o versioni di Windows.</span><span class="sxs-lookup"><span data-stu-id="afe60-191">It is possible to have a vast symbol store that includes symbol files for many different programs or Windows versions.</span></span> <span data-ttu-id="afe60-192">Se si aggiorna la versione di Windows usata nel computer di destinazione, tutti i file di simboli memorizzati nella cache corrisponderanno alla versione precedente.</span><span class="sxs-lookup"><span data-stu-id="afe60-192">If you upgrade the version of Windows used on your target computer, the cached symbol files will all match the earlier version.</span></span> <span data-ttu-id="afe60-193">Questi file memorizzati nella cache non verranno più utilizzati e quindi potrebbe essere il momento giusto per eliminare la cache.</span><span class="sxs-lookup"><span data-stu-id="afe60-193">These cached files will not be of any further use, and therefore this might be a good time to delete the cache.</span></span>

<span data-ttu-id="afe60-194">Strumenti di debug per Windows include un'utilità denominata agestore.exe che rimuoverà in modo selettivo i file da un albero di directory, lasciando i file usati più di recente.</span><span class="sxs-lookup"><span data-stu-id="afe60-194">Debugging Tools for Windows comes with a utility called agestore.exe that will selectively remove files from a directory tree, leaving the most recently used files.</span></span> <span data-ttu-id="afe60-195">Questo strumento è progettato per eliminare i file inutilizzati dagli archivi del server di simboli.</span><span class="sxs-lookup"><span data-stu-id="afe60-195">This tool is designed for pruning out unused files from symbol server stores.</span></span> <span data-ttu-id="afe60-196">Consente di controllare molte opzioni, inclusi gli algoritmi di data limite e dimensioni della directory.</span><span class="sxs-lookup"><span data-stu-id="afe60-196">It allows you to control many options including cut off date and directory size algorithms.</span></span>

## <a name="flat-cache-directory"></a><span data-ttu-id="afe60-197">Flat Cache Directory</span><span class="sxs-lookup"><span data-stu-id="afe60-197">Flat Cache Directory</span></span>

<span data-ttu-id="afe60-198">È possibile dichiarare l'archivio downstream predefinito come directory flat, anziché come struttura ad albero dei simboli standard.</span><span class="sxs-lookup"><span data-stu-id="afe60-198">It is possible to declare the default downstream store as a flat directory, rather than a standard symbol tree structure.</span></span> <span data-ttu-id="afe60-199">A tale scopo, chiamare la funzione [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) con **SYMOPT \_ FLAT \_ DIRECTORY** (in questo modo viene impostata anche l'opzione **SSRVOPT \_ FLAT DEFAULT \_ \_ STORE** in SymSrv).</span><span class="sxs-lookup"><span data-stu-id="afe60-199">To do so, call the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function with **SYMOPT\_FLAT\_DIRECTORY** (this also sets the **SSRVOPT\_FLAT\_DEFAULT\_STORE** option in SymSrv).</span></span> <span data-ttu-id="afe60-200">Assicurarsi di chiamare [**SymSetHomeDirectory**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory) prima di eseguire questa operazione. In caso contrario, i file di simboli possono essere scritti nella directory del programma.</span><span class="sxs-lookup"><span data-stu-id="afe60-200">Be sure to call [**SymSetHomeDirectory**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsethomedirectory) before doing so; otherwise, the symbol files can be written to the program directory.</span></span>

## <a name="pointer-files"></a><span data-ttu-id="afe60-201">File di puntatore</span><span class="sxs-lookup"><span data-stu-id="afe60-201">Pointer Files</span></span>

<span data-ttu-id="afe60-202">SymStore può creare e usare file che puntano a un file di destinazione anziché al file di destinazione stesso.</span><span class="sxs-lookup"><span data-stu-id="afe60-202">SymStore can create and use files that point to a target file rather than the target file itself.</span></span> <span data-ttu-id="afe60-203">Se un archivio di simboli contiene un file di puntatore di questo tipo, l'impostazione predefinita è copiare il file dal percorso indicato nel file di puntatore all'archivio.</span><span class="sxs-lookup"><span data-stu-id="afe60-203">If a symbol store contains such a pointer file, the default is to copy the file from the location indicated in the pointer file to the store.</span></span> <span data-ttu-id="afe60-204">Per configurare un archivio in modo che il file del puntatore sia copiato anziché il file a cui punta, creare un file denominato wantsptr.txt nella radice dell'archivio di destinazione.</span><span class="sxs-lookup"><span data-stu-id="afe60-204">To configure a store such that the pointer file is copied instead of the file it points to, create a file named wantsptr.txt in the root of the target store.</span></span> <span data-ttu-id="afe60-205">Il contenuto wantsptr.txt non è importante, ma solo la presenza del file.</span><span class="sxs-lookup"><span data-stu-id="afe60-205">The contents of wantsptr.txt are not important, only the presence of the file.</span></span>

## <a name="excluding-files-from-symbols-list"></a><span data-ttu-id="afe60-206">Esclusione di file dall'elenco dei simboli</span><span class="sxs-lookup"><span data-stu-id="afe60-206">Excluding Files from Symbols List</span></span>

<span data-ttu-id="afe60-207">Per escludere file da una ricerca di simboli, è possibile specificarne i nomi symsrv.ini o nel Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="afe60-207">To exclude files from a symbols search, you can specify their names in symsrv.ini or in the registry.</span></span> <span data-ttu-id="afe60-208">Per specificare i file in symsrv.ini, creare una sezione denominata Esclusioni ed elencare i file.</span><span class="sxs-lookup"><span data-stu-id="afe60-208">To specify the files in symsrv.ini, create a section named Exclusions and list the files.</span></span> <span data-ttu-id="afe60-209">I nomi dei file possono contenere caratteri jolly, come illustrato nell'esempio seguente:</span><span class="sxs-lookup"><span data-stu-id="afe60-209">The file names can contain wildcards, as shown in the following example:</span></span>

``` syntax
[Exclusions]
dbghelp.pdb
symsrv.*
mso*
```

<span data-ttu-id="afe60-210">Symsrv.ini deve trovarsi nella stessa directory in cui symsrv.dll risiede.</span><span class="sxs-lookup"><span data-stu-id="afe60-210">Symsrv.ini should be located in the same directory that symsrv.dll resides.</span></span> <span data-ttu-id="afe60-211">Nella maggior parte delle installazioni il file non esiste ed è necessario crearne uno nuovo.</span><span class="sxs-lookup"><span data-stu-id="afe60-211">In most installations, the file does not exist and you will need to create a new one.</span></span>

<span data-ttu-id="afe60-212">In alternativa, è possibile archiviare i file da escludere nel Registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="afe60-212">Alternatively, you can store the files to be excluded in the registry.</span></span> <span data-ttu-id="afe60-213">Creare la chiave del Registro di sistema **seguente: HKEY \_ LOCAL MACHINE Software Microsoft Symbol Server \_ \\ \\ \\ \\ Exclusions**.</span><span class="sxs-lookup"><span data-stu-id="afe60-213">Create the following registry key: **HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Symbol Server\\Exclusions**.</span></span> <span data-ttu-id="afe60-214">Archiviare ogni nome file come valore stringa (REG \_ SZ) all'interno di questa chiave.</span><span class="sxs-lookup"><span data-stu-id="afe60-214">Store each file name as a string value (REG\_SZ) within this key.</span></span> <span data-ttu-id="afe60-215">Il nome del valore stringa specifica il nome del file da escludere.</span><span class="sxs-lookup"><span data-stu-id="afe60-215">The name of the string value specifies the name of the file to be excluded.</span></span> <span data-ttu-id="afe60-216">È possibile usare il contenuto del valore stringa per archiviare un commento che descrive il motivo per cui il file viene escluso.</span><span class="sxs-lookup"><span data-stu-id="afe60-216">You can use the contents of the string value to store a comment describing why the file is being excluded.</span></span>

## <a name="installation"></a><span data-ttu-id="afe60-217">Installazione</span><span class="sxs-lookup"><span data-stu-id="afe60-217">Installation</span></span>

<span data-ttu-id="afe60-218">Il server di simboli SymSrv (symsrv.dll) è incluso nel pacchetto Debugging Tools for Windows.</span><span class="sxs-lookup"><span data-stu-id="afe60-218">The SymSrv (symsrv.dll) symbol server is included in the Debugging Tools for Windows package.</span></span> <span data-ttu-id="afe60-219">Deve essere installato nella stessa directory della copia dbghelp.dll che si sta caricando.</span><span class="sxs-lookup"><span data-stu-id="afe60-219">It must be installed in the same directory as the copy of dbghelp.dll that you are loading.</span></span> <span data-ttu-id="afe60-220">Per altre informazioni, vedere [Chiamata della libreria DbgHelp](calling-the-dbghelp-library.md).</span><span class="sxs-lookup"><span data-stu-id="afe60-220">For more details, see [Calling the DbgHelp Library](calling-the-dbghelp-library.md).</span></span>

 

 



