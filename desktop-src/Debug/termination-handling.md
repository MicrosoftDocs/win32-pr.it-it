---
description: Un gestore di terminazione garantisce che un blocco di codice specifico venga eseguito ogni volta che il flusso di controllo lascia un particolare corpo sorvegliato del codice. Un gestore di terminazione è costituito dagli elementi seguenti.
ms.assetid: 899e2939-e028-4be1-9f08-9a79bf97eb37
title: Gestione della terminazione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e926a47a3c0bb4f2cb8a8df350807aee89b49bab
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103877789"
---
# <a name="termination-handling"></a><span data-ttu-id="08055-104">Gestione della terminazione</span><span class="sxs-lookup"><span data-stu-id="08055-104">Termination Handling</span></span>

<span data-ttu-id="08055-105">Un *gestore di terminazione* garantisce che un blocco di codice specifico venga eseguito ogni volta che il flusso di controllo lascia un particolare corpo sorvegliato del codice.</span><span class="sxs-lookup"><span data-stu-id="08055-105">A *termination handler* ensures that a specific block of code is executed whenever flow of control leaves a particular guarded body of code.</span></span> <span data-ttu-id="08055-106">Un gestore di terminazione è costituito dagli elementi seguenti.</span><span class="sxs-lookup"><span data-stu-id="08055-106">A termination handler consists of the following elements.</span></span>

-   <span data-ttu-id="08055-107">Corpo sorvegliato del codice</span><span class="sxs-lookup"><span data-stu-id="08055-107">A guarded body of code</span></span>
-   <span data-ttu-id="08055-108">Un blocco di codice di terminazione da eseguire quando il flusso di controllo lascia il corpo sorvegliato</span><span class="sxs-lookup"><span data-stu-id="08055-108">A block of termination code to be executed when the flow of control leaves the guarded body</span></span>

<span data-ttu-id="08055-109">I gestori di terminazione sono dichiarati nella sintassi specifica del linguaggio.</span><span class="sxs-lookup"><span data-stu-id="08055-109">Termination handlers are declared in language-specific syntax.</span></span> <span data-ttu-id="08055-110">Utilizzando il compilatore Microsoft C/C++ Optimizing, questi vengono implementati usando **\_ \_ try** e **\_ \_ infine**.</span><span class="sxs-lookup"><span data-stu-id="08055-110">Using the Microsoft C/C++ Optimizing Compiler, they are implemented using **\_\_try** and **\_\_finally**.</span></span> <span data-ttu-id="08055-111">Per ulteriori informazioni, vedere [sintassi del gestore](handler-syntax.md).</span><span class="sxs-lookup"><span data-stu-id="08055-111">For more information, see [Handler Syntax](handler-syntax.md).</span></span>

<span data-ttu-id="08055-112">Il corpo sorvegliato del codice può essere un blocco di codice, un set di blocchi annidati o un'intera procedura o funzione.</span><span class="sxs-lookup"><span data-stu-id="08055-112">The guarded body of code can be a block of code, a set of nested blocks, or an entire procedure or function.</span></span> <span data-ttu-id="08055-113">Ogni volta che viene eseguito il corpo sorvegliato, verrà eseguito il blocco del codice di terminazione.</span><span class="sxs-lookup"><span data-stu-id="08055-113">Whenever the guarded body is executed, the block of termination code will be executed.</span></span> <span data-ttu-id="08055-114">L'unica eccezione è rappresentata dal momento in cui il thread termina durante l'esecuzione del corpo sorvegliato (ad esempio, se la funzione [**ExitThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-exitthread) o [**ExitProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-exitprocess) viene chiamata dall'interno del corpo sorvegliato).</span><span class="sxs-lookup"><span data-stu-id="08055-114">The only exception to this is when the thread terminates during execution of the guarded body (for example, if the [**ExitThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-exitthread) or [**ExitProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-exitprocess) function is called from within the guarded body).</span></span>

<span data-ttu-id="08055-115">Il blocco di terminazione viene eseguito quando il flusso di controllo lascia il corpo sorvegliato, indipendentemente dal fatto che il corpo sorvegliato venga terminato normalmente o in modo anomalo.</span><span class="sxs-lookup"><span data-stu-id="08055-115">The termination block is executed when the flow of control leaves the guarded body, regardless of whether the guarded body terminated normally or abnormally.</span></span> <span data-ttu-id="08055-116">Il corpo sorvegliato viene considerato terminato normalmente quando viene eseguita l'ultima istruzione nel blocco e il controllo procede in modo sequenziale nel blocco di terminazione.</span><span class="sxs-lookup"><span data-stu-id="08055-116">The guarded body is considered to have terminated normally when the last statement in the block is executed and control proceeds sequentially into the termination block.</span></span> <span data-ttu-id="08055-117">Una terminazione anomala si verifica quando il flusso di controllo lascia il corpo sorvegliato a causa di un'eccezione o a causa di un'istruzione di controllo come **return**, **goto**, **break** o **continue**.</span><span class="sxs-lookup"><span data-stu-id="08055-117">Abnormal termination occurs when the flow of control leaves the guarded body due to an exception, or due to a control statement such as **return**, **goto**, **break**, or **continue**.</span></span> <span data-ttu-id="08055-118">La funzione [**AbnormalTermination**](abnormaltermination.md) può essere chiamata dall'interno del blocco di terminazione per determinare se il corpo sorvegliato termina normalmente.</span><span class="sxs-lookup"><span data-stu-id="08055-118">The [**AbnormalTermination**](abnormaltermination.md) function can be called from within the termination block to determine whether the guarded body terminated normally.</span></span>

 

 
