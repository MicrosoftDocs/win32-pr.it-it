---
description: Il gestore di simboli caricherà i simboli quando si chiama la funzione SymInitialize con il parametro fInvadeProcess impostato su TRUE o quando si chiama la funzione SymLoadModuleEx per specificare un modulo.
ms.assetid: fae1895e-9fed-45e3-8ecf-4c6cc67a6094
title: Caricamento simboli
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 705a7af3525c784b2bbcd512b267309a466a11c1
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104401376"
---
# <a name="symbol-loading"></a><span data-ttu-id="f73cd-103">Caricamento simboli</span><span class="sxs-lookup"><span data-stu-id="f73cd-103">Symbol Loading</span></span>

<span data-ttu-id="f73cd-104">Il gestore di simboli caricherà i simboli quando si chiama la funzione [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) con il parametro *FInvadeProcess* impostato su **true** o quando si chiama la funzione [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) per specificare un modulo.</span><span class="sxs-lookup"><span data-stu-id="f73cd-104">The symbol handler will load symbols when you call the [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) function with the *fInvadeProcess* parameter set to **TRUE** or when you call the [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) function to specify a module.</span></span> <span data-ttu-id="f73cd-105">In entrambi i casi, il gestore di simboli carica i simboli o rinvia il caricamento dei simboli fino a quando non vengono richiesti i simboli, a seconda delle opzioni impostate dalla funzione [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) .</span><span class="sxs-lookup"><span data-stu-id="f73cd-105">In either case, the symbol handler either loads the symbols or defers symbol loading until symbols are requested, depending on the options set by the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function.</span></span>

<span data-ttu-id="f73cd-106">Il gestore di simboli può essere usato per recuperare informazioni sui simboli per qualsiasi modulo; non è necessario che sia associato a un processo specificato nella chiamata [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) .</span><span class="sxs-lookup"><span data-stu-id="f73cd-106">The symbol handler can be used to retrieve symbolic information for any module; it does not need to be associated with a process specified in the [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) call.</span></span> <span data-ttu-id="f73cd-107">Per usare un modulo arbitrario, specificare il percorso completo dell'immagine del modulo nel parametro *ImageName* .</span><span class="sxs-lookup"><span data-stu-id="f73cd-107">To use an arbitrary module, specify the full path to the module image in the *ImageName* parameter.</span></span> <span data-ttu-id="f73cd-108">È possibile usare un percorso per qualsiasi modulo eseguibile con informazioni di debug (exe, dll, DRV, sys, SCR, cpl o com).</span><span class="sxs-lookup"><span data-stu-id="f73cd-108">You can use a path to any executable module that has debugging information (.exe, .dll, .drv, .sys, .scr, .cpl, or .com).</span></span> <span data-ttu-id="f73cd-109">Usare il parametro *BaseOfDll* per specificare un indirizzo di caricamento, quindi gli indirizzi dei simboli saranno basati su tale indirizzo.</span><span class="sxs-lookup"><span data-stu-id="f73cd-109">Use the *BaseOfDll* parameter to specify any load address, then symbol addresses will be based from that address.</span></span>

<span data-ttu-id="f73cd-110">Potrebbe non essere necessario tenere un modulo dei simboli caricato per tutta la durata di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f73cd-110">It may not be necessary to keep a symbol module loaded through the duration of an application.</span></span> <span data-ttu-id="f73cd-111">Per rilasciare il modulo Symbol dall'elenco dei moduli del gestore di simboli, usare la funzione [**SymUnloadModule64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symunloadmodule) .</span><span class="sxs-lookup"><span data-stu-id="f73cd-111">To release the symbol module from the symbol handler's list of modules, use the [**SymUnloadModule64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symunloadmodule) function.</span></span> <span data-ttu-id="f73cd-112">Questa funzione rilascia la memoria allocata per il modulo symbol.</span><span class="sxs-lookup"><span data-stu-id="f73cd-112">This function releases the memory allocated for the symbol module.</span></span> <span data-ttu-id="f73cd-113">Per usare nuovamente i simboli per il modulo, è necessario chiamare la funzione [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) anche se è impostata l'opzione di caricamento posticipato del simbolo.</span><span class="sxs-lookup"><span data-stu-id="f73cd-113">To use symbols for that module again, you must call the [**SymLoadModuleEx**](/windows/desktop/api/Dbghelp/nf-dbghelp-symloadmoduleex) function even if the symbol deferred load option is set.</span></span>

## <a name="diagnosing-symbol-load-problems"></a><span data-ttu-id="f73cd-114">Diagnosi dei problemi di caricamento dei simboli</span><span class="sxs-lookup"><span data-stu-id="f73cd-114">Diagnosing Symbol Load Problems</span></span>

<span data-ttu-id="f73cd-115">Per visualizzare tutti i tentativi di caricamento dei simboli, chiamare [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) con SYMOPT \_ debug.</span><span class="sxs-lookup"><span data-stu-id="f73cd-115">To view all attempts to load symbols, call [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) with SYMOPT\_DEBUG.</span></span> <span data-ttu-id="f73cd-116">Questo fa in modo che DbgHelp chiami la funzione [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) con informazioni dettagliate sulle ricerche di simboli, ad esempio le directory in cui è in corso la ricerca e i messaggi di errore.</span><span class="sxs-lookup"><span data-stu-id="f73cd-116">This causes DbgHelp to call the [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) function with detailed information on symbol searches, such as the directories it is searching and and error messages.</span></span> <span data-ttu-id="f73cd-117">Se il codice usa [**SymRegisterCallback64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symregistercallback), dbghelp chiamerà la funzione di callback anziché chiamare **OutputDebugString**.</span><span class="sxs-lookup"><span data-stu-id="f73cd-117">If your code uses [**SymRegisterCallback64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symregistercallback), DbgHelp will call your callback function instead of calling **OutputDebugString**.</span></span> <span data-ttu-id="f73cd-118">Il parametro *ActionCode* è impostato su CBA \_ debug \_ info e il parametro *CallbackData* è una stringa che può essere visualizzata.</span><span class="sxs-lookup"><span data-stu-id="f73cd-118">The *ActionCode* parameter is set to CBA\_DEBUG\_INFO and the *CallbackData* parameter is a string that can be displayed.</span></span>

<span data-ttu-id="f73cd-119">Per consentire la visualizzazione di questo output di debug nella console senza modificare il codice sorgente, impostare la \_ variabile di ambiente dbghelp DBGOUT su un valore non **null** prima di chiamare la funzione [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) .</span><span class="sxs-lookup"><span data-stu-id="f73cd-119">To enable this debug output to be displayed to the console without changing your source code, set the DBGHELP\_DBGOUT environment variable to a non-**NULL** value before calling the [**SymInitialize**](/windows/desktop/api/Dbghelp/nf-dbghelp-syminitialize) function.</span></span> <span data-ttu-id="f73cd-120">Per registrare le informazioni in un file, impostare la \_ variabile di ambiente log dbghelp sul nome del file di log da utilizzare.</span><span class="sxs-lookup"><span data-stu-id="f73cd-120">To log the information to a file, set the DBGHELP\_LOG environment variable to the name of the log file to be used.</span></span>

<span data-ttu-id="f73cd-121">Si noti che queste funzionalità devono essere usate solo quando necessario.</span><span class="sxs-lookup"><span data-stu-id="f73cd-121">Note that these features should be used only when needed.</span></span> <span data-ttu-id="f73cd-122">Potrebbero rallentare il caricamento dei simboli dei moduli che contengono molti simboli.</span><span class="sxs-lookup"><span data-stu-id="f73cd-122">They may slow down symbol loading of modules that contain many symbols.</span></span>

 

 
