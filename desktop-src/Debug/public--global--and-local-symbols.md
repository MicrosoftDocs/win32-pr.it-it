---
description: Le funzionalità di gestione dei simboli dell'API DbgHelp si sono evolute nel corso degli anni.
ms.assetid: 6dc41682-6104-418b-b045-7afe8c2b11e9
title: Simboli pubblici, globali e locali
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 623bf93ec8f11d1cec9c5fec64e2479dd91ee5cd
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "104049148"
---
# <a name="public-global-and-local-symbols"></a><span data-ttu-id="13628-103">Simboli pubblici, globali e locali</span><span class="sxs-lookup"><span data-stu-id="13628-103">Public, Global, and Local Symbols</span></span>

<span data-ttu-id="13628-104">Le funzionalità di gestione dei simboli dell'API DbgHelp si sono evolute nel corso degli anni.</span><span class="sxs-lookup"><span data-stu-id="13628-104">The symbol handling capabilities of the DbgHelp API have evolved over the years.</span></span> <span data-ttu-id="13628-105">Per assicurarsi che il codice funzioni in un'ampia gamma di scenari e fornisca dettagli completi sui simboli, usare le funzioni più recenti laddove possibile.</span><span class="sxs-lookup"><span data-stu-id="13628-105">To ensure that your code works in a variety of scenarios and provides full details on the symbols, use the newest functions whenever possible.</span></span> <span data-ttu-id="13628-106">Ad esempio, [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) sostituisce [**SymEnumerateSymbols64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratesymbols), [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) sostituisce [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname)e [**SymFromAddr**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) sostituisce [**SymGetSymFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromaddr).</span><span class="sxs-lookup"><span data-stu-id="13628-106">For example, [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) replaces [**SymEnumerateSymbols64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratesymbols), [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) replaces [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname), and [**SymFromAddr**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) replaces [**SymGetSymFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromaddr).</span></span>

## <a name="public-symbols"></a><span data-ttu-id="13628-107">Simboli pubblici</span><span class="sxs-lookup"><span data-stu-id="13628-107">Public Symbols</span></span>

<span data-ttu-id="13628-108">Le versioni iniziali di DbgHelp.dll supportano l'analisi solo dei simboli pubblici.</span><span class="sxs-lookup"><span data-stu-id="13628-108">Initial versions of DbgHelp.dll supported examining only public symbols.</span></span> <span data-ttu-id="13628-109">Questi simboli vengono generati per qualsiasi elemento nel codice che deve essere esposto tra diversi file di origine.</span><span class="sxs-lookup"><span data-stu-id="13628-109">These symbols are generated for any item in the code that must be exposed between different source files.</span></span> <span data-ttu-id="13628-110">Includono anche tutti gli elementi che vengono esportati dal modulo.</span><span class="sxs-lookup"><span data-stu-id="13628-110">They also include all items that are exported out of the module.</span></span>

<span data-ttu-id="13628-111">I simboli sono incorporati nell'immagine o archiviati separatamente in un file con estensione DBG o PDB.</span><span class="sxs-lookup"><span data-stu-id="13628-111">The symbols are either embedded in the image, or stored separately in a .dbg or .pdb file.</span></span> <span data-ttu-id="13628-112">Le uniche informazioni archiviate sono il nome e l'indirizzo del simbolo.</span><span class="sxs-lookup"><span data-stu-id="13628-112">The only information stored is the symbol name and address.</span></span> <span data-ttu-id="13628-113">I nomi sono disponibili come nomi decorati.</span><span class="sxs-lookup"><span data-stu-id="13628-113">The names are available as decorated names.</span></span> <span data-ttu-id="13628-114">Per visualizzare i nomi non decorati, chiamare la funzione [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) con SYMOPT \_ UNDNAME oppure usare la funzione [**UnDecorateSymbolName**](/windows/desktop/api/Dbghelp/nf-dbghelp-undecoratesymbolname) .</span><span class="sxs-lookup"><span data-stu-id="13628-114">To view undecorated names, call the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function with SYMOPT\_UNDNAME, or use the [**UnDecorateSymbolName**](/windows/desktop/api/Dbghelp/nf-dbghelp-undecoratesymbolname) function.</span></span>

<span data-ttu-id="13628-115">Si noti che l'API DbgHelp non è stata progettata inizialmente per supportare più istanze dello stesso simbolo all'interno di un modulo.</span><span class="sxs-lookup"><span data-stu-id="13628-115">Note that the DbgHelp API was not initially designed to support multiple instances of the same symbol within a module.</span></span> <span data-ttu-id="13628-116">Ciò è dovuto al fatto che i simboli pubblici sono limitati a nomi univoci all'interno di un modulo.</span><span class="sxs-lookup"><span data-stu-id="13628-116">This is because public symbols are restricted to unique names within a module.</span></span> <span data-ttu-id="13628-117">Pertanto, [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname) restituisce solo il primo simbolo che corrisponde a.</span><span class="sxs-lookup"><span data-stu-id="13628-117">Therefore, [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname) returns only the first symbol that matches.</span></span> <span data-ttu-id="13628-118">Per recuperare tutti i simboli corrispondenti, chiamare [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols).</span><span class="sxs-lookup"><span data-stu-id="13628-118">To retrieve all symbols that match, call [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols).</span></span>

## <a name="global-and-local-symbols"></a><span data-ttu-id="13628-119">Simboli globali e locali</span><span class="sxs-lookup"><span data-stu-id="13628-119">Global and Local Symbols</span></span>

<span data-ttu-id="13628-120">Le versioni più recenti di DbgHelp.dll supportano i simboli globali e locali quando si utilizzano i file con estensione pdb.</span><span class="sxs-lookup"><span data-stu-id="13628-120">Newer versions of DbgHelp.dll support global and local symbols when using .pdb files.</span></span> <span data-ttu-id="13628-121">Queste nuove versioni includono funzioni statiche, funzioni con ambito all'interno di un file di origine, parametri di funzione e variabili locali.</span><span class="sxs-lookup"><span data-stu-id="13628-121">These new versions include static functions, functions scoped within a source file, function parameters, and local variables.</span></span> <span data-ttu-id="13628-122">Quando DbgHelp Cerca un simbolo, verifica le tabelle dei simboli globali e locali prima di controllare la tabella dei simboli pubblici.</span><span class="sxs-lookup"><span data-stu-id="13628-122">When DbgHelp searches for a symbol, it checks the global and local symbol tables before checking the public symbol table.</span></span> <span data-ttu-id="13628-123">Questo perché sono disponibili più informazioni per questi tipi di simboli rispetto a quelli disponibili per i simboli pubblici.</span><span class="sxs-lookup"><span data-stu-id="13628-123">This is because there is more information available for these types of symbols than is available for public symbols.</span></span>

<span data-ttu-id="13628-124">I simboli globali e locali vengono archiviati con nomi non decorati.</span><span class="sxs-lookup"><span data-stu-id="13628-124">Global and local symbols are stored with undecorated names.</span></span> <span data-ttu-id="13628-125">Pertanto, il \_ flag UNDNAME di SYMOPT non ha alcun effetto.</span><span class="sxs-lookup"><span data-stu-id="13628-125">Therefore, the SYMOPT\_UNDNAME flag has no effect.</span></span> <span data-ttu-id="13628-126">Per ottenere i nomi dei simboli decorati, è necessario usare il \_ flag SYMOPT publics \_ only.</span><span class="sxs-lookup"><span data-stu-id="13628-126">To get decorated symbol names, you must use the SYMOPT\_PUBLICS\_ONLY flag.</span></span> <span data-ttu-id="13628-127">In questo modo, DbgHelp esegue la ricerca solo nei simboli pubblici.</span><span class="sxs-lookup"><span data-stu-id="13628-127">This causes DbgHelp to search only the public symbols.</span></span>

<span data-ttu-id="13628-128">Per visualizzare i simboli locali o i parametri della funzione, chiamare la funzione [**SymSetContext**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetcontext) con il membro **InstructionOffset** della struttura dello [**\_ Stack \_ frame Imagehlp**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_stack_frame) impostato sull'indirizzo di un simbolo di funzione.</span><span class="sxs-lookup"><span data-stu-id="13628-128">To view local symbols or function parameters, call the [**SymSetContext**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetcontext) function with the **InstructionOffset** member of the [**IMAGEHLP\_STACK\_FRAME**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_stack_frame) structure set to the address of any function symbol.</span></span> <span data-ttu-id="13628-129">Le chiamate successive a [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) e [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) possono funzionare nel contesto di questo indirizzo.</span><span class="sxs-lookup"><span data-stu-id="13628-129">Subsequent calls to [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) and [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) can operate within the context of this address.</span></span> <span data-ttu-id="13628-130">A tale scopo, impostare il parametro *BaseOfDll* su **null** e omettere l'identificatore del modulo dal *nome* o dal parametro *mask* .</span><span class="sxs-lookup"><span data-stu-id="13628-130">To do so, set the *BaseOfDll* parameter to **NULL** and omit the module specifier from the *Name* or *Mask* parameter.</span></span> <span data-ttu-id="13628-131">Questa operazione impone a DbgHelp di cercare i simboli corrispondenti nell'ambito indicato da **SymSetContext**.</span><span class="sxs-lookup"><span data-stu-id="13628-131">This forces DbgHelp to search for matching symbols within the scope indicated by **SymSetContext**.</span></span>

<span data-ttu-id="13628-132">Per determinare se un simbolo è un parametro, controllare il membro dei **flag** della struttura delle [**\_ informazioni sui simboli**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) .</span><span class="sxs-lookup"><span data-stu-id="13628-132">To determine if a symbol is a parameter, check the **Flags** member of the [**SYMBOL\_INFO**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) structure.</span></span> <span data-ttu-id="13628-133">Se il simbolo è un parametro, il membro contiene il \_ parametro SYMFLAG.</span><span class="sxs-lookup"><span data-stu-id="13628-133">If the symbol is a parameter, the member contains SYMFLAG\_PARAMETER.</span></span> <span data-ttu-id="13628-134">Se è un simbolo locale, il membro contiene SYMFLAG \_ local.</span><span class="sxs-lookup"><span data-stu-id="13628-134">If it is a local symbol, the member contains SYMFLAG\_LOCAL.</span></span>

 

 



