---
title: Richiamo delle DLL di estensione
description: Chiama queste funzioni per ogni pacchetto di autenticazione o Accounting valido ricevuto dal server di accesso alla rete (NAS).
ms.assetid: 6d738ad7-cce5-4835-97d6-c57173c79a16
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8bc96fab078a982f23f5f5dd86d51dbed46d5541
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "103963312"
---
# <a name="invoking-the-extension-dlls"></a><span data-ttu-id="5cb8a-103">Richiamo delle DLL di estensione</span><span class="sxs-lookup"><span data-stu-id="5cb8a-103">Invoking the Extension DLLs</span></span>

> [!Note]  
> <span data-ttu-id="5cb8a-104">Il servizio di autenticazione Internet (IAS) è stato rinominato server dei criteri di rete (NPS) a partire da Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="5cb8a-105">Il contenuto di questo argomento si applica sia a IAS che a NPS.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="5cb8a-106">In tutto il testo, NPS viene utilizzato per fare riferimento a tutte le versioni del servizio, incluse le versioni originariamente indicate come IAS.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="5cb8a-107">Le DLL di estensione NPS devono esportare almeno una delle funzioni di callback seguenti: [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)o [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="5cb8a-107">NPS Extension DLLs must export at least one of the following callback functions: [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), or [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span> <span data-ttu-id="5cb8a-108">NPS chiama queste funzioni per ogni pacchetto di autenticazione o Accounting valido che riceve dal server di accesso alla rete (NAS).</span><span class="sxs-lookup"><span data-stu-id="5cb8a-108">NPS calls these function for each valid authentication or accounting packet that it receives from the Network Access Server (NAS).</span></span> <span data-ttu-id="5cb8a-109">NPS chiama queste funzioni in ognuna delle DLL elencate sotto la [chiave del registro di sistema dei parametri](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)del server dei criteri di server.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-109">NPS calls these functions in each of the DLLs listed below the NPS' [Parameters registry key](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls).</span></span> <span data-ttu-id="5cb8a-110">Le dll vengono chiamate nell'ordine in cui sono elencate.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-110">The DLLs are called in the order in which they are listed.</span></span>

<span data-ttu-id="5cb8a-111">Se una DLL di estensione server dei criteri di rete Esporta più di una delle funzioni sopra elencate, il server dei criteri di rete richiama solo uno di essi: la funzione più recente supportata dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-111">If an NPS Extension DLL exports more than one of the above functions, NPS invokes just one of them: the newest function that is supported by the operating system.</span></span>

> [!Note]  
> <span data-ttu-id="5cb8a-112">IAS originariamente supportava solo [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span><span class="sxs-lookup"><span data-stu-id="5cb8a-112">IAS originally supported only [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="5cb8a-113">IAS supporta anche [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span><span class="sxs-lookup"><span data-stu-id="5cb8a-113">IAS supports also [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span></span> <span data-ttu-id="5cb8a-114">IAS (e versioni successive NPS) supporta anche [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="5cb8a-114">IAS (and later NPS) supports also [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span>

 

<span data-ttu-id="5cb8a-115">Le DLL di estensione NPS possono anche esportare le funzioni [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) e [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) .</span><span class="sxs-lookup"><span data-stu-id="5cb8a-115">NPS Extension DLLs may also export [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) and [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) functions.</span></span> <span data-ttu-id="5cb8a-116">Se sono presenti, NPS chiama queste funzioni quando il servizio viene avviato e arrestato rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-116">If they are present, NPS calls these functions when the service starts and stops, respectively.</span></span>

## <a name="radiusextensionprocess-callback-function"></a><span data-ttu-id="5cb8a-117">Funzione di callback RadiusExtensionProcess</span><span class="sxs-lookup"><span data-stu-id="5cb8a-117">RadiusExtensionProcess Callback Function</span></span>

<span data-ttu-id="5cb8a-118">In una DLL di estensione di autenticazione, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) riceve tutti gli attributi ricevuti da NPS nella richiesta di autenticazione o di accounting.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-118">In an Authentication Extension DLL, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) receives all the attributes that are received by NPS in the authentication or accounting request.</span></span> <span data-ttu-id="5cb8a-119">Usando questi attributi, la funzione può eseguire convalide aggiuntive, verificare le autorizzazioni dell'utente o inviare record di contabilità a un server di stato centrale.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-119">Using these attributes, the function can perform additional validations, verify the user's authorizations, or send accounting records to a central state server.</span></span>

<span data-ttu-id="5cb8a-120">In una DLL di estensione di autorizzazione, **RadiusExtensionProcess** riceve tutti gli attributi generati dal servizio di autorizzazione NPS.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-120">In an Authorization Extension DLL, **RadiusExtensionProcess** receives all the attributes generated by the NPS authorization service.</span></span> <span data-ttu-id="5cb8a-121">Questi sono gli attributi restituiti nel pacchetto di Access-Accept.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-121">These are the attributes that are returned in the Access-Accept packet.</span></span>

<span data-ttu-id="5cb8a-122">Dopo la chiamata a **RadiusExtensionProcess**, l'azione eseguita da NPS dipende dal valore restituito di **RadiusExtensionProcess** e dal valore restituito nel parametro *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="5cb8a-122">After calling **RadiusExtensionProcess**, the action performed by NPS depends on the return value of **RadiusExtensionProcess**, and the value returned in the *pfAction* parameter.</span></span> <span data-ttu-id="5cb8a-123">Questi valori sono elencati nella seguente tabella.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-123">These values are listed in the following table.</span></span>



| <span data-ttu-id="5cb8a-124">*pfAction*</span><span class="sxs-lookup"><span data-stu-id="5cb8a-124">*pfAction*</span></span> | <span data-ttu-id="5cb8a-125">DLL dell'estensione di autenticazione</span><span class="sxs-lookup"><span data-stu-id="5cb8a-125">Authentication Extension DLL</span></span>                                                                                                                                            | <span data-ttu-id="5cb8a-126">DLL estensione di autorizzazione</span><span class="sxs-lookup"><span data-stu-id="5cb8a-126">Authorization Extension DLL</span></span>                                                                                                                                 |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5cb8a-127">Accetta</span><span class="sxs-lookup"><span data-stu-id="5cb8a-127">Accept</span></span>     | <span data-ttu-id="5cb8a-128">Ignora eventuali altre DLL di estensione di autenticazione e ignora anche il meccanismo di autenticazione server dei criteri di server.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-128">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span>                                                                  | <span data-ttu-id="5cb8a-129">Accept non consentito.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-129">Accept not allowed.</span></span>                                                                                                                                         |
| <span data-ttu-id="5cb8a-130">Rifiuto</span><span class="sxs-lookup"><span data-stu-id="5cb8a-130">Reject</span></span>     | <span data-ttu-id="5cb8a-131">Ignora eventuali altre DLL di estensione di autenticazione e ignora anche il meccanismo di autenticazione server dei criteri di server.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-131">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span> <span data-ttu-id="5cb8a-132">Viene inviato Access-Reject pacchetto.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-132">Access-Reject packet is sent.</span></span>                                    | <span data-ttu-id="5cb8a-133">Ignora eventuali altre DLL di estensione di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-133">Bypasses any further Authorization Extension DLLs.</span></span>                                                                                                          |
| <span data-ttu-id="5cb8a-134">Continua</span><span class="sxs-lookup"><span data-stu-id="5cb8a-134">Continue</span></span>   | <span data-ttu-id="5cb8a-135">Il pacchetto viene inviato alla DLL dell'estensione di autenticazione successiva o al meccanismo di autenticazione NPS se nel registro di sistema non sono elencate altre DLL di estensione per l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-135">The packet is sent to the next Authentication Extension DLL or to the NPS authentication mechanism if no more Authentication Extension DLLs are listed in the registry.</span></span> | <span data-ttu-id="5cb8a-136">Il pacchetto viene inviato alla successiva DLL dell'estensione di autorizzazione o al log di contabilità NPS se nel registro di sistema non sono elencate altre DLL di estensione di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-136">The packet is sent to the next Authorization Extension DLL or to the NPS accounting log if no more Authorization Extension DLLs are listed in the registry.</span></span> |



 

<span data-ttu-id="5cb8a-137">Per tutte le DLL di estensione, se **RadiusExtensionProcess** restituisce un errore, il pacchetto viene ignorato.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-137">For all Extension DLLs, if **RadiusExtensionProcess** returns an error, the packet is discarded.</span></span> <span data-ttu-id="5cb8a-138">I pacchetti eliminati a causa di un errore non vengono elaborati dal registro contabilità server dei criteri di server.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-138">Packets that are discarded because of an error are not processed by the NPS accounting log.</span></span>

<span data-ttu-id="5cb8a-139">Se si verifica un errore, NPS Invia un evento di errore generico al registro eventi.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-139">If an error occurs, NPS posts a generic error event to the Event Log.</span></span> <span data-ttu-id="5cb8a-140">È consigliabile che la DLL di estensione fornisca la registrazione degli errori aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-140">It is recommended that the Extension DLL provide additional error logging.</span></span>

<span data-ttu-id="5cb8a-141">Per ulteriori informazioni e un diagramma che rappresenta il processo precedente, vedere [informazioni sulle estensioni NPS](/windows/desktop/Nps/ias-about-internet-authentication-service).</span><span class="sxs-lookup"><span data-stu-id="5cb8a-141">For more information and a diagram that represents the preceding process, see [About NPS Extensions](/windows/desktop/Nps/ias-about-internet-authentication-service).</span></span>

<span data-ttu-id="5cb8a-142">**RadiusExtensionProcess** deve restituire un errore se non è in grado di verificare l'accettazione o il rifiuto del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-142">**RadiusExtensionProcess** should return an error if it cannot verify the acceptance or rejection of the packet.</span></span> <span data-ttu-id="5cb8a-143">Questa situazione può verificarsi in caso di problemi di rete che impedisce a **RadiusExtensionProcess** di comunicare con il database di autenticazione utente.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-143">This situation might arise if a network problem prevents **RadiusExtensionProcess** from communicating with its user authentication database.</span></span>

<span data-ttu-id="5cb8a-144">Quando si elabora un pacchetto di contabilità, il parametro *pfAction* è **null**, pertanto non è possibile impostare *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="5cb8a-144">When processing an accounting packet, the *pfAction* parameter is **NULL**, so *pfAction* cannot be set.</span></span> <span data-ttu-id="5cb8a-145">La restituzione di un errore dalla funzione **RadiusExtensionProcess** durante l'elaborazione di una richiesta di contabilità comporta l'eliminazione della richiesta da parte di NPS.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-145">Returning an error from the **RadiusExtensionProcess** function while processing an accounting request causes the request to be discarded by NPS.</span></span>

> [!Note]  
> <span data-ttu-id="5cb8a-146">Dopo aver ricevuto un'accettazione, NPS non chiama **RadiusExtensionProcess** nelle dll rimanenti della sequenza.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-146">After receiving an accept, NPS does not call **RadiusExtensionProcess** in the remaining DLLs in the sequence.</span></span> <span data-ttu-id="5cb8a-147">Poiché alcune funzioni di autenticazione possono implementare anche le autorizzazioni, l'omissione di tali funzioni può causare l'omissione delle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-147">Because some authentication functions may also implement authorizations, skipping such authentication functions may cause authorizations to be omitted.</span></span> <span data-ttu-id="5cb8a-148">Se un'istanza di [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) restituisce Accept, è importante non creare presupposti sulle autorizzazioni recuperate.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-148">If an instance of [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) returns Accept, it is important not to make any assumptions about the authorizations retrieved.</span></span>

 

<span data-ttu-id="5cb8a-149">Se viene restituito continue o Accept, il profilo corrispondente all'area di autenticazione viene inviato nuovamente nel pacchetto di Access-Accept.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-149">If Continue or Accept is returned, the profile corresponding to the realm is sent back in the Access-Accept packet.</span></span>

<span data-ttu-id="5cb8a-150">Le DLL dell'estensione di autenticazione devono essere progettate per coesistere con i provider di autenticazione del server dei criteri di server predefiniti e con altre DLL di estensione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-150">Authentication Extension DLLs should be designed to coexist with the built-in NPS authentication providers and with other Extension DLLs.</span></span> <span data-ttu-id="5cb8a-151">Se un'estensione è applicabile solo a un determinato database utente (ad esempio Windows Active Directory), deve verificare l'attributo [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) passato *nel parametro di gestione dei dati* , prima di elaborare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-151">If an extension is only applicable to a certain user database (for example Windows Active Directory), then it should verify the [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) attribute passed in the *pAttrs* parameter, before processing the request.</span></span> <span data-ttu-id="5cb8a-152">L'attributo ratProvider può essere uno di un elenco di attributi a cui punta il *parametro.*</span><span class="sxs-lookup"><span data-stu-id="5cb8a-152">The ratProvider attribute would be one of a list of attributes pointed to by the *pAttrs* parameter.</span></span>

<span data-ttu-id="5cb8a-153">Le DLL di estensione non devono rifiutare richieste perché mancano gli attributi obbligatori.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-153">Extension DLLs should not reject requests because required attributes are missing.</span></span> <span data-ttu-id="5cb8a-154">Se, ad esempio, un'estensione di autenticazione richiede l'attributo User-Password, ratUserPassword e l'attributo non è presente, l'estensione deve restituire un'azione di raContinue per fornire ad altre estensioni e provider la possibilità di elaborare la richiesta.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-154">For example, if an authentication extension requires the User-Password attribute, ratUserPassword, and the attribute is not present, the extension should return an action of raContinue to give other extensions and providers a chance to process the request.</span></span>

<span data-ttu-id="5cb8a-155">NPS chiama la funzione [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) dopo la decisione di usare un determinato database di autenticazione, ma prima dell'autenticazione dell'utente.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-155">NPS calls the [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) function after the decision to use a particular authentication database is made, but before the user is authenticated.</span></span> <span data-ttu-id="5cb8a-156">Pertanto, le informazioni sul database di autenticazione da utilizzare sono disponibili per la funzione, in modo che la funzione possa verificare le autorizzazioni dell'utente nel database di autenticazione appropriato.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-156">Therefore, information about which authentication database to use is available to the function, so that the function can check for the user's authorizations in the appropriate authentication database.</span></span> <span data-ttu-id="5cb8a-157">NPS supporta diversi database di autenticazione, tra cui Windows Active Directory.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-157">NPS supports various authentication databases including the Windows Active Directory.</span></span>

## <a name="radiusextensionprocessex-callback-function"></a><span data-ttu-id="5cb8a-158">Funzione di callback RadiusExtensionProcessEx</span><span class="sxs-lookup"><span data-stu-id="5cb8a-158">RadiusExtensionProcessEx Callback Function</span></span>

<span data-ttu-id="5cb8a-159">Le DLL di estensione NPS possono esportare [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) anziché o in aggiunta a [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span><span class="sxs-lookup"><span data-stu-id="5cb8a-159">NPS Extension DLLs may export [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="5cb8a-160">Questa funzione consente alla DLL di accodare attributi di autorizzazione aggiuntivi alla risposta di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-160">This function enables the DLL to append additional authorization attributes to the authentication response.</span></span>

<span data-ttu-id="5cb8a-161">Le stesse informazioni descritte nella sezione *funzione di callback RadiusExtensionProcess* sono valide per la funzione [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) .</span><span class="sxs-lookup"><span data-stu-id="5cb8a-161">The same information described in the *RadiusExtensionProcess Callback Function* section applies to the [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function.</span></span>

<span data-ttu-id="5cb8a-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) non è in grado di modificare o rimuovere gli attributi presenti.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) cannot modify or remove any of the attributes that are present.</span></span> <span data-ttu-id="5cb8a-163">Se si verifica uno scenario in cui la DLL deve modificare o rimuovere gli attributi, l'unica opzione consiste nell'utilizzare l'interfaccia utente del server dei criteri di server per assicurarsi che gli attributi non siano presenti.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-163">If a scenario arises in which the DLL must modify or remove attributes, the only option is to use the NPS user interface to ensure that the attributes are not present.</span></span> <span data-ttu-id="5cb8a-164">Per impostazione predefinita, non sono presenti attributi di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-164">By default, no authorization attributes are present.</span></span> <span data-ttu-id="5cb8a-165">Tutti i presenti presenti devono essere stati aggiunti tramite l'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-165">Any that are present must have been added through the user interface.</span></span>

<span data-ttu-id="5cb8a-166">Se vengono configurate più DLL di autorizzazione e alcune di queste DLL implementano [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), la funzione **RadiusExtensionProcess/ex** in una determinata dll non riceve gli attributi dalle DLL di autorizzazione denominate in precedenza.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-166">If multiple Authorization DLLs are configured and some of these DLLs implement [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), the **RadiusExtensionProcess/Ex** function in a given DLL does not receive the attributes from the previously called Authorization DLLs.</span></span> <span data-ttu-id="5cb8a-167">Riceve solo gli attributi generati dal servizio di autorizzazione NPS.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-167">It receives only those attributes generated by the NPS authorization service.</span></span>

## <a name="radiusextensionprocess2-callback-function"></a><span data-ttu-id="5cb8a-168">Funzione di callback RadiusExtensionProcess2</span><span class="sxs-lookup"><span data-stu-id="5cb8a-168">RadiusExtensionProcess2 Callback Function</span></span>

<span data-ttu-id="5cb8a-169">Le DLL di estensione NPS possono anche esportare [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) anziché o in aggiunta a [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) e **RadiusExtensionProcessEx**.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-169">NPS Extension DLLs may also export [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) and **RadiusExtensionProcessEx**.</span></span> <span data-ttu-id="5cb8a-170">Questa funzione consente alla DLL di aggiungere, modificare e rimuovere attributi da e verso la richiesta o la risposta di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-170">This function enables the DLL to add, modify, and remove attributes to and from the authentication request or response.</span></span>

<span data-ttu-id="5cb8a-171">Le stesse informazioni descritte nella sezione *funzione di callback RadiusExtensionProcessEx* sono valide per la funzione [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) , con le eccezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5cb8a-171">The same information described in the *RadiusExtensionProcessEx Callback Function* section applies to the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function, with the following exceptions:</span></span>

-   <span data-ttu-id="5cb8a-172">In una DLL di autorizzazione, **RadiusExtensionProcess2** riceve sia gli attributi generati dal servizio di autorizzazione server dei criteri di server che gli attributi generati da precedentemente chiamate dll di autorizzazione.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-172">In an Authorization DLL, **RadiusExtensionProcess2** receives both the attributes generated by the NPS authorization service and the attributes generated from previously called Authorization DLLs.</span></span>
-   <span data-ttu-id="5cb8a-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) non dispone di un parametro *pfAction* .</span><span class="sxs-lookup"><span data-stu-id="5cb8a-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) does not have a *pfAction* parameter.</span></span> <span data-ttu-id="5cb8a-174">**RadiusExtensionProcess2** imposta la disposizione finale della richiesta usando la funzione [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) fornita nella struttura del [**\_ blocco di \_ controllo \_ dell'estensione RADIUS**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) .</span><span class="sxs-lookup"><span data-stu-id="5cb8a-174">**RadiusExtensionProcess2** sets the final disposition of the request using the [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) function provided in the [**RADIUS\_EXTENSION\_CONTROL\_BLOCK**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) structure.</span></span>
-   <span data-ttu-id="5cb8a-175">NPS chiama sempre la funzione [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) in tutte le dll rimanenti, indipendentemente dal fatto che le funzioni nelle DLL precedenti restituissero Accept.</span><span class="sxs-lookup"><span data-stu-id="5cb8a-175">NPS always calls the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) function in any remaining DLLs regardless of whether functions in previous DLLs returned Accept.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5cb8a-176">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="5cb8a-176">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5cb8a-177">Impostazione delle DLL di estensione</span><span class="sxs-lookup"><span data-stu-id="5cb8a-177">Setting Up the Extension DLLs</span></span>](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)
</dt> <dt>

[<span data-ttu-id="5cb8a-178">Attributi di identificazione utente</span><span class="sxs-lookup"><span data-stu-id="5cb8a-178">User Identification Attributes</span></span>](/windows/desktop/Nps/ias-user-identification-attributes)
</dt> </dl>

 

 