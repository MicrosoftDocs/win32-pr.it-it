---
title: Panoramica dello storyboard
description: Questa panoramica è incentrata sul modo in cui le transizioni e gli storyboard vengono usati nell'animazione di Windows.
ms.assetid: d37718ac-0256-4a24-a26c-d29173593be0
keywords:
- Animazione Windows Animation Windows, panoramica dello storyboard
- Animazione Windows storyboard, descritta
- Animazione Windows di transizione, descritta
- transizioni animazione Windows, personalizzata
- Animazione Windows degli interpolatori, descrizione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 22d8e0af3937cd31ccdc43216a9d3426bad0e7b0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "103728103"
---
# <a name="storyboard-overview"></a><span data-ttu-id="6d379-108">Panoramica dello storyboard</span><span class="sxs-lookup"><span data-stu-id="6d379-108">Storyboard Overview</span></span>

<span data-ttu-id="6d379-109">Questa panoramica è incentrata sul modo in cui le transizioni e gli storyboard vengono usati nell'animazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="6d379-109">This overview focuses on how transitions and storyboards are used in Windows Animation.</span></span> <span data-ttu-id="6d379-110">Per una panoramica dei componenti di animazione Windows, vedere [Cenni preliminari sull'animazione di Windows](scenic-animation-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="6d379-110">For an overview of the components of Windows Animation, see [Windows Animation Overview](scenic-animation-api-overview.md).</span></span>

<span data-ttu-id="6d379-111">In questo argomento sono incluse le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="6d379-111">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="6d379-112">Transizioni</span><span class="sxs-lookup"><span data-stu-id="6d379-112">Transitions</span></span>](#custom-transitions)
    -   [<span data-ttu-id="6d379-113">Libreria di transizione</span><span class="sxs-lookup"><span data-stu-id="6d379-113">Transition Library</span></span>](#transition-library)
    -   [<span data-ttu-id="6d379-114">Transizioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="6d379-114">Custom Transitions</span></span>](#custom-transitions)
-   [<span data-ttu-id="6d379-115">Storyboard</span><span class="sxs-lookup"><span data-stu-id="6d379-115">Storyboards</span></span>](#storyboards)
    -   [<span data-ttu-id="6d379-116">Creazione di uno storyboard semplice</span><span class="sxs-lookup"><span data-stu-id="6d379-116">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
    -   [<span data-ttu-id="6d379-117">Utilizzo di una durata Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="6d379-117">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
    -   [<span data-ttu-id="6d379-118">Creazione di uno storyboard più complesso</span><span class="sxs-lookup"><span data-stu-id="6d379-118">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
    -   [<span data-ttu-id="6d379-119">Uso di fotogrammi chiave</span><span class="sxs-lookup"><span data-stu-id="6d379-119">Using Keyframes</span></span>](#using-keyframes)
    -   [<span data-ttu-id="6d379-120">Variabili di contenimento</span><span class="sxs-lookup"><span data-stu-id="6d379-120">Holding Variables</span></span>](#holding-variables)
    -   [<span data-ttu-id="6d379-121">Pianificazione di uno storyboard</span><span class="sxs-lookup"><span data-stu-id="6d379-121">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)
-   [<span data-ttu-id="6d379-122">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="6d379-122">Related topics</span></span>](#related-topics)

## <a name="transitions"></a><span data-ttu-id="6d379-123">Transizioni</span><span class="sxs-lookup"><span data-stu-id="6d379-123">Transitions</span></span>

<span data-ttu-id="6d379-124">Una transizione definisce il modo in cui una singola variabile di animazione viene modificata in un intervallo di tempo specifico.</span><span class="sxs-lookup"><span data-stu-id="6d379-124">A transition defines how a single animation variable changes over a particular time interval.</span></span> <span data-ttu-id="6d379-125">L'animazione Windows include una raccolta di transizioni comuni che gli sviluppatori possono applicare a una o più variabili di animazione.</span><span class="sxs-lookup"><span data-stu-id="6d379-125">Windows Animation includes a library of common transitions that developers can apply to one or more animation variables.</span></span> <span data-ttu-id="6d379-126">Tipi diversi di transizioni hanno set di parametri diversi, che possono includere il valore della variabile al termine della transizione, la durata della transizione o le quantità univoche della funzione matematica sottostante, ad esempio l'accelerazione o l'intervallo di oscillazione.</span><span class="sxs-lookup"><span data-stu-id="6d379-126">Different kinds of transitions have different sets of parameters, which may include the value of the variable when the transition completes, the duration of the transition, or quantities unique to the underlying mathematical function, such as acceleration or range of oscillation.</span></span>

<span data-ttu-id="6d379-127">Tutte le transizioni condividono due parametri impliciti: il valore iniziale e la velocità iniziale (inclinazione) della funzione matematica.</span><span class="sxs-lookup"><span data-stu-id="6d379-127">All transitions share two implicit parameters: the initial value and initial velocity (slope) of the mathematical function.</span></span> <span data-ttu-id="6d379-128">Questi possono essere specificati in modo esplicito dall'applicazione, ma vengono in genere impostati dal gestore delle animazioni sul valore e sulla velocità della variabile di animazione all'inizio della transizione.</span><span class="sxs-lookup"><span data-stu-id="6d379-128">These may be specified explicitly by the application, but are typically set by the animation manager to the value and velocity of the animation variable when the transition begins.</span></span>

-   [<span data-ttu-id="6d379-129">Libreria di transizione</span><span class="sxs-lookup"><span data-stu-id="6d379-129">Transition Library</span></span>](#transition-library)
-   [<span data-ttu-id="6d379-130">Transizioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="6d379-130">Custom Transitions</span></span>](#custom-transitions)

### <a name="transition-library"></a><span data-ttu-id="6d379-131">Libreria di transizione</span><span class="sxs-lookup"><span data-stu-id="6d379-131">Transition Library</span></span>

<span data-ttu-id="6d379-132">La libreria di transizione attualmente fornisce le transizioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="6d379-132">The following transitions are currently provided by the transition library.</span></span> <span data-ttu-id="6d379-133">Se un'applicazione richiede un effetto che non può essere specificato tramite la libreria di transizione, gli sviluppatori possono creare altri tipi di transizioni implementando un interpolatore personalizzato per l'applicazione o utilizzando una libreria di transizione da terze parti.</span><span class="sxs-lookup"><span data-stu-id="6d379-133">If an application requires an effect that cannot be specified by using the transition library, developers can create other kinds of transitions by implementing a custom interpolator for the application, or using a transition library from a third party.</span></span>



| <span data-ttu-id="6d379-134">Nome della transizione</span><span class="sxs-lookup"><span data-stu-id="6d379-134">Transition Name</span></span>                        | <span data-ttu-id="6d379-135">Descrizione</span><span class="sxs-lookup"><span data-stu-id="6d379-135">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6d379-136">accelerazione-decelerazione</span><span class="sxs-lookup"><span data-stu-id="6d379-136">accelerate-decelerate</span></span><br/>       | <span data-ttu-id="6d379-137">La variabile di animazione viene accelerata e quindi rallentata in una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="6d379-137">The animation variable speeds up and then slows down over a given duration.</span></span><br/>                                                                                                               |
| <span data-ttu-id="6d379-138">constant</span><span class="sxs-lookup"><span data-stu-id="6d379-138">constant</span></span><br/>                    | <span data-ttu-id="6d379-139">La variabile di animazione rimane in corrispondenza del valore iniziale durante la transizione.</span><span class="sxs-lookup"><span data-stu-id="6d379-139">The animation variable remains at its initial value throughout the transition.</span></span><br/>                                                                                                            |
| <span data-ttu-id="6d379-140">cubiche</span><span class="sxs-lookup"><span data-stu-id="6d379-140">cubic</span></span><br/>                       | <span data-ttu-id="6d379-141">La variabile di animazione passa dal valore iniziale a un valore finale specificato, con una velocità finale specificata, in una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="6d379-141">The animation variable changes from its initial value to a specified final value, with a specified final velocity, over a given duration.</span></span><br/>                                                 |
| <span data-ttu-id="6d379-142">discreti</span><span class="sxs-lookup"><span data-stu-id="6d379-142">discrete</span></span><br/>                    | <span data-ttu-id="6d379-143">La variabile di animazione rimane in corrispondenza del valore iniziale per un intervallo di tempo specificato, quindi passa immediatamente a un valore finale specificato e rimane in corrispondenza di tale valore per un determinato periodo di tempo di attesa.</span><span class="sxs-lookup"><span data-stu-id="6d379-143">The animation variable remains at its initial value for a specified delay time, then switches instantaneously to a specified final value and remains at that value for a given hold time.</span></span><br/> |
| <span data-ttu-id="6d379-144">istantaneo</span><span class="sxs-lookup"><span data-stu-id="6d379-144">instantaneous</span></span><br/>               | <span data-ttu-id="6d379-145">La variabile di animazione cambia immediatamente dal valore corrente a un valore finale specificato.</span><span class="sxs-lookup"><span data-stu-id="6d379-145">The animation variable changes instantly from its current value to a specified final value.</span></span><br/>                                                                                               |
| <span data-ttu-id="6d379-146">linear</span><span class="sxs-lookup"><span data-stu-id="6d379-146">linear</span></span><br/>                      | <span data-ttu-id="6d379-147">La variabile di animazione esegue la transizione lineare dal valore iniziale a un valore finale specificato in una durata specificata.</span><span class="sxs-lookup"><span data-stu-id="6d379-147">The animation variable transitions linearly from its initial value to a specified final value over a given duration.</span></span><br/>                                                                      |
| <span data-ttu-id="6d379-148">lineare dalla velocità</span><span class="sxs-lookup"><span data-stu-id="6d379-148">linear from speed</span></span><br/>           | <span data-ttu-id="6d379-149">La variabile di animazione esegue la transizione lineare dal valore iniziale a un valore finale specificato con una velocità specificata.</span><span class="sxs-lookup"><span data-stu-id="6d379-149">The animation variable transitions linearly from its initial value to a specified final value with a specified speed.</span></span><br/>                                                                     |
| <span data-ttu-id="6d379-150">parabola dall'accelerazione</span><span class="sxs-lookup"><span data-stu-id="6d379-150">parabolic from acceleration</span></span><br/> | <span data-ttu-id="6d379-151">La variabile di animazione esegue la transizione dal valore iniziale a un valore finale specificato, con una velocità finale specificata, modificando la velocità con un'accelerazione specificata.</span><span class="sxs-lookup"><span data-stu-id="6d379-151">The animation variable transitions from its initial value to a specified final value, with a specified final velocity, changing its velocity with a specified acceleration.</span></span><br/>               |
| <span data-ttu-id="6d379-152">inversione</span><span class="sxs-lookup"><span data-stu-id="6d379-152">reversal</span></span><br/>                    | <span data-ttu-id="6d379-153">La variabile cambia direzione per una durata specificata.</span><span class="sxs-lookup"><span data-stu-id="6d379-153">The variable changes direction over a given duration.</span></span> <span data-ttu-id="6d379-154">Il valore finale sarà uguale al valore iniziale e la velocità finale sarà il negativo della velocità iniziale.</span><span class="sxs-lookup"><span data-stu-id="6d379-154">The final value will be the same as the initial value and the final velocity will be the negative of the initial velocity.</span></span><br/>          |
| <span data-ttu-id="6d379-155">sinusoidale dall'intervallo</span><span class="sxs-lookup"><span data-stu-id="6d379-155">sinusoidal from range</span></span><br/>       | <span data-ttu-id="6d379-156">La variabile oscilla all'interno di un intervallo di valori specificato, con un periodo di oscillazione specificato, per una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="6d379-156">The variable oscillates within a given range of values, with a specified period of oscillation, for a given duration.</span></span><br/>                                                                     |
| <span data-ttu-id="6d379-157">da velocità sinusoidale</span><span class="sxs-lookup"><span data-stu-id="6d379-157">sinusoidal from velocity</span></span><br/>    | <span data-ttu-id="6d379-158">La variabile oscilla con un periodo di oscillazione specificato, per una durata specificata.</span><span class="sxs-lookup"><span data-stu-id="6d379-158">The variable oscillates with a specified period of oscillation, for a given duration.</span></span> <span data-ttu-id="6d379-159">L'ampiezza delle oscillazioni è determinata dalla velocità iniziale della variabile.</span><span class="sxs-lookup"><span data-stu-id="6d379-159">The amplitude of oscillation is determined by the variable's initial velocity.</span></span><br/>                      |
| <span data-ttu-id="6d379-160">arresto graduale</span><span class="sxs-lookup"><span data-stu-id="6d379-160">smooth stop</span></span><br/>                 | <span data-ttu-id="6d379-161">La variabile di animazione passa a un punto di interruzione graduale in corrispondenza di un valore finale specificato, entro un intervallo di tempo massimo.</span><span class="sxs-lookup"><span data-stu-id="6d379-161">The animation variable comes to a smooth stop at a specified final value, within a maximum duration of time.</span></span><br/>                                                                              |



 

<span data-ttu-id="6d379-162">La tabella seguente contiene illustrazioni per ognuna di queste transizioni.</span><span class="sxs-lookup"><span data-stu-id="6d379-162">The following table contains illustrations for each of these transitions.</span></span>



|                                                                                                                                                                                                                                                                                                                                                                                                    |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![illustrazione di una transizione istantanea](images/instantaneoustransition.png)  ![illustrazione di una transizione costante](images/constanttransition.png)  ![illustrazione di una transizione lineare](images/lineartransition.png)  ![illustrazione di una transizione lineari dalla velocità](images/lineartransitionfromspeed.png)  ![illustrazione di una transizione discreta](images/discretetransition.png) |
| ![illustrazione di una transizione parabolica dall'accelerazione](images/parabolictransitionfromacceleration.png)  ![illustrazione di una transizione cubica](images/cubictransition.png)  ![illustrazione di una transizione senza interruzioni](images/smoothstoptransition.png)                                                                                                                                       |
| ![illustrazione di una transizione di inversione](images/reversaltransition.png)  ![illustrazione di una transizione sinusoidale dalla velocità](images/sinusolidaltransitionfromvelocity.png)  ![illustrazione di una transizione sinusoidale dall'intervallo](images/sinusolidaltransitionfromrange.png)                                                                                                                  |
| ![illustrazione di accellerate e decelerazione delle transizioni](images/acceleratedeceleratetransition.png)                                                                                                                                                                                                                                                                                               |



 

### <a name="custom-transitions"></a><span data-ttu-id="6d379-175">Transizioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="6d379-175">Custom Transitions</span></span>

<span data-ttu-id="6d379-176">Un *interpolatore* definisce la funzione matematica che determina la modalità di modifica di una variabile di animazione nel tempo durante l'avanzamento dal valore iniziale a un valore finale.</span><span class="sxs-lookup"><span data-stu-id="6d379-176">An *interpolator* defines the mathematical function that determines how an animation variable changes over time as it progresses from its initial value to a final value.</span></span> <span data-ttu-id="6d379-177">Ogni transizione nella libreria di transizione ha un oggetto interpolator associato fornito dal sistema e implementa la funzione di interpolazione.</span><span class="sxs-lookup"><span data-stu-id="6d379-177">Each transition in the transition library has an associated interpolator object that is provided by the system and implements the interpolator function.</span></span> <span data-ttu-id="6d379-178">Se un'applicazione richiede un effetto che non può essere specificato tramite la libreria di transizione, può implementare una o più transizioni personalizzate implementando un oggetto interpolatore per ogni nuova transizione.</span><span class="sxs-lookup"><span data-stu-id="6d379-178">If an application requires an effect that cannot be specified using the transition library, it can implement one or more custom transitions by implementing an interpolator object for each new transition.</span></span> <span data-ttu-id="6d379-179">Gli oggetti di interpolazione non possono essere usati direttamente dalle applicazioni ed è invece necessario eseguirne il wrapper in una transizione associata.</span><span class="sxs-lookup"><span data-stu-id="6d379-179">Interpolator objects cannot be used directly by applications and must instead be wrapped in an associated transition.</span></span> <span data-ttu-id="6d379-180">Una *Factory di transizione* viene utilizzata per generare transizioni da un oggetto interpolatore.</span><span class="sxs-lookup"><span data-stu-id="6d379-180">A *transition factory* is used to generate transitions from an interpolator object.</span></span> <span data-ttu-id="6d379-181">Per ulteriori informazioni, vedere [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) e [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) .</span><span class="sxs-lookup"><span data-stu-id="6d379-181">See [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) and [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) for more details.</span></span>

<span data-ttu-id="6d379-182">Si noti che la maggior parte delle applicazioni disporrà di tutte le transizioni necessarie tramite la libreria di transizione e pertanto non sarà necessario implementare un interpolatore.</span><span class="sxs-lookup"><span data-stu-id="6d379-182">Note that most applications will have all of the transitions they need by using the transition library, and therefore would not need to implement an interpolator.</span></span>

## <a name="storyboards"></a><span data-ttu-id="6d379-183">Storyboard</span><span class="sxs-lookup"><span data-stu-id="6d379-183">Storyboards</span></span>

<span data-ttu-id="6d379-184">Uno storyboard è una raccolta di transizioni applicate a una o più variabili di animazione nel tempo.</span><span class="sxs-lookup"><span data-stu-id="6d379-184">A storyboard is a collection of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="6d379-185">È garantito che le transizioni in uno storyboard rimangano sincronizzate tra loro e che lo storyboard venga pianificato o annullato come unità.</span><span class="sxs-lookup"><span data-stu-id="6d379-185">The transitions in a storyboard are guaranteed to remain synchronized relative to one another, and the storyboard is scheduled or canceled as a unit.</span></span> <span data-ttu-id="6d379-186">Dopo aver creato le transizioni desiderate, un'applicazione crea uno storyboard usando Gestione animazioni, aggiunge le transizioni allo storyboard, configura lo storyboard in modo appropriato e ne pianifica l'esecuzione appena possibile.</span><span class="sxs-lookup"><span data-stu-id="6d379-186">After creating the desired transitions, an application creates a storyboard using the animation manager, adds the transitions to the storyboard, configures the storyboard appropriately, and schedules it to play as soon as possible.</span></span> <span data-ttu-id="6d379-187">Gestione animazioni determina l'ora di inizio effettiva dello storyboard, perché potrebbe esserci una contesa con altri storyboard che attualmente animano le stesse variabili.</span><span class="sxs-lookup"><span data-stu-id="6d379-187">The animation manager determines the storyboard's actual start time, because there may be contention with other storyboards currently animating the same variables.</span></span>

<span data-ttu-id="6d379-188">La durata complessiva di uno storyboard dipende dalle durate delle transizioni all'interno dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-188">The overall duration of a storyboard depends on the durations of the transitions within the storyboard.</span></span> <span data-ttu-id="6d379-189">Non è necessario correggere la durata di una transizione. può essere determinato dal valore e dalla velocità delle variabili animate all'inizio della transizione.</span><span class="sxs-lookup"><span data-stu-id="6d379-189">The duration of a transition need not be fixed; it can be determined by the value and velocity of the animated variables when the transition begins.</span></span> <span data-ttu-id="6d379-190">Quindi, la durata di uno storyboard può dipendere anche dallo stato delle variabili a cui viene aggiunta un'animazione.</span><span class="sxs-lookup"><span data-stu-id="6d379-190">So, the duration of a storyboard can also depend on the state of the variables it animates.</span></span>

<span data-ttu-id="6d379-191">Negli esempi seguenti si presuppone che siano stati creati un gestore delle animazioni, una libreria di transizione e un timer.</span><span class="sxs-lookup"><span data-stu-id="6d379-191">The following examples assume that an animation manager, transition library, and timer have been created.</span></span> <span data-ttu-id="6d379-192">Per altre informazioni, vedere [creare gli oggetti di animazione principali](adding-animation-to-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="6d379-192">For more information, see [Create the Main Animation Objects](adding-animation-to-an-application.md).</span></span> <span data-ttu-id="6d379-193">Negli esempi si presuppone inoltre che l'applicazione abbia creato tre variabili di animazione (X, Y e Z) tramite il metodo [**IUIAnimationManager:: CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) e cinque transizioni (T1, T2, T3, T4 e T5) utilizzando uno dei metodi dell'interfaccia [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) .</span><span class="sxs-lookup"><span data-stu-id="6d379-193">The examples also assume that the application has created three animation variables (X, Y and Z) by using the [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) method, and five transitions (T1, T2, T3, T4, and T5) by using the one of the methods of the [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) interface.</span></span>

-   [<span data-ttu-id="6d379-194">Creazione di uno storyboard semplice</span><span class="sxs-lookup"><span data-stu-id="6d379-194">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
-   [<span data-ttu-id="6d379-195">Utilizzo di una durata Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="6d379-195">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
-   [<span data-ttu-id="6d379-196">Creazione di uno storyboard più complesso</span><span class="sxs-lookup"><span data-stu-id="6d379-196">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
-   [<span data-ttu-id="6d379-197">Uso di fotogrammi chiave</span><span class="sxs-lookup"><span data-stu-id="6d379-197">Using Keyframes</span></span>](#using-keyframes)
-   [<span data-ttu-id="6d379-198">Variabili di contenimento</span><span class="sxs-lookup"><span data-stu-id="6d379-198">Holding Variables</span></span>](#holding-variables)
-   [<span data-ttu-id="6d379-199">Pianificazione di uno storyboard</span><span class="sxs-lookup"><span data-stu-id="6d379-199">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)

### <a name="building-a-simple-storyboard"></a><span data-ttu-id="6d379-200">Creazione di uno storyboard semplice</span><span class="sxs-lookup"><span data-stu-id="6d379-200">Building a Simple Storyboard</span></span>

<span data-ttu-id="6d379-201">Per compilare uno storyboard semplice, usare il metodo [**IUIAnimationManager:: CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) per creare un nuovo storyboard, il metodo [**IUIAnimationTransitionLibrary:: CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) per creare una transizione lineare, T1 e il metodo [**IUIAnimationStoryboard:: AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) per applicare la transizione T1 alla variabile X e aggiungere la transizione risultante allo storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-201">To build a simple storyboard, use the [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) method to create a new storyboard, the [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) method to create a linear transition, T1, and the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method to apply the T1 transition to the variable X and add the resulting transition to the storyboard.</span></span>

<span data-ttu-id="6d379-202">Questo processo produce uno storyboard semplice, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="6d379-202">This process yields a simple storyboard, as shown in the following figure.</span></span> <span data-ttu-id="6d379-203">Lo storyboard contiene una transizione, T1, in modo che il valore della variabile X venga modificato in modo lineare per un periodo di tempo fisso.</span><span class="sxs-lookup"><span data-stu-id="6d379-203">The storyboard contains one transition, T1, such that the value of variable X changes linearly over a fixed duration of time.</span></span>

![illustrazione che mostra uno storyboard semplice con una durata fissa](images/simplestoryboardfixedduration.png)

<span data-ttu-id="6d379-205">Si noti che per questo semplice scenario, un'opzione alternativa consiste nell'usare il metodo [**IUIAnimationManager:: ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) .</span><span class="sxs-lookup"><span data-stu-id="6d379-205">Note that for such a simple scenario, an alternative option is to use the [**IUIAnimationManager::ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) method.</span></span>

### <a name="using-a-context-sensitive-duration"></a><span data-ttu-id="6d379-206">Utilizzo di una durata Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="6d379-206">Using a Context-Sensitive Duration</span></span>

<span data-ttu-id="6d379-207">Mentre alcune transizioni hanno una durata fissa, la durata di altri dipende dal valore iniziale o dalla velocità della variabile animata all'inizio della transizione.</span><span class="sxs-lookup"><span data-stu-id="6d379-207">While some transitions have a fixed duration, the duration of others depends on the initial value or velocity of the animated variable when the transition begins.</span></span> <span data-ttu-id="6d379-208">Ad esempio, il metodo [**IUIAnimationTransitionLibrary:: CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) crea una transizione con una durata proporzionale alla differenza tra il valore iniziale della variabile di animazione e il valore finale specificato.</span><span class="sxs-lookup"><span data-stu-id="6d379-208">For example, the [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) method creates a transition with a duration that is proportional to the difference between the initial value of the animation variable and the specified final value.</span></span> <span data-ttu-id="6d379-209">In questa illustrazione e le illustrazioni rimanenti, ad esempio le transizioni con durate arbitrarie, vengono visualizzate con un punto interrogativo (?) e le durate effettive vengono determinate quando lo storyboard viene riprodotto.</span><span class="sxs-lookup"><span data-stu-id="6d379-209">In this illustration, and the remaining illustrations, such transitions with arbitrary durations are shown with a question mark (?), and their actual durations are determined when the storyboard plays.</span></span>

![illustrazione che mostra uno storyboard semplice con durata sconosciuta](images/simplestoryboardunknownduration.png)

### <a name="building-a-more-complex-storyboard"></a><span data-ttu-id="6d379-211">Creazione di uno storyboard più complesso</span><span class="sxs-lookup"><span data-stu-id="6d379-211">Building a More Complex Storyboard</span></span>

<span data-ttu-id="6d379-212">Dopo la creazione di uno storyboard e l'aggiunta di una singola transizione, T1, è possibile aggiungere una seconda transizione per la variabile X chiamando di nuovo il metodo [**IUIAnimationStoryboard:: AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) , ma con T2 anziché T1.</span><span class="sxs-lookup"><span data-stu-id="6d379-212">After creating a storyboard and adding a single transition, T1, you can append a second transition for the X variable by calling the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method again, but with T2 instead of T1.</span></span>

<span data-ttu-id="6d379-213">Supponendo che la transizione T2 abbia una durata che è sensibile al contesto, lo storyboard contiene ora due transizioni back-to-back di durata arbitraria che interessano la variabile X.</span><span class="sxs-lookup"><span data-stu-id="6d379-213">Assuming that the T2 transition has a duration that is context-sensitive, the storyboard now contains two back-to-back transitions of arbitrary duration affecting the variable X.</span></span>

![illustrazione che mostra uno storyboard contenente due transizioni sulla stessa variabile](images/appendingwithaddtransition.png)

<span data-ttu-id="6d379-215">La chiamata di [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) con la variabile Y e la transizione T3 aggiunge una terza transizione all'inizio dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-215">Calling [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) again with variable Y and transition T3 adds a third transition at the start of the storyboard.</span></span> <span data-ttu-id="6d379-216">A seconda dei valori di X e Y quando lo storyboard viene riprodotto, T3 può terminare dopo T1 o anche dopo T2.</span><span class="sxs-lookup"><span data-stu-id="6d379-216">Depending on the values of X and Y when the storyboard plays, T3 may end after T1 or even after T2.</span></span>

![illustrazione che mostra uno storyboard che contiene le transizioni tra più variabili](images/multivariablestoryboard.png)

### <a name="using-keyframes"></a><span data-ttu-id="6d379-218">Uso di fotogrammi chiave</span><span class="sxs-lookup"><span data-stu-id="6d379-218">Using Keyframes</span></span>

<span data-ttu-id="6d379-219">Per aggiungere una transizione in corrispondenza di un offset dall'inizio dello storyboard, è necessario innanzitutto aggiungere un fotogramma chiave.</span><span class="sxs-lookup"><span data-stu-id="6d379-219">To add a transition at an offset from the start of the storyboard, you must first add a keyframe.</span></span> <span data-ttu-id="6d379-220">I fotogrammi chiave rappresentano istanti nel tempo e non hanno alcun effetto sul comportamento dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-220">Keyframes represent instants in time and by themselves have no effect on the behavior of the storyboard.</span></span> <span data-ttu-id="6d379-221">Ogni Storyboard ha un fotogramma chiave implicito che rappresenta l'inizio dello storyboard, il fotogramma [**chiave di animazione dell'interfaccia utente \_ \_ \_ \_ iniziale**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)). è possibile aggiungere nuovi fotogrammi chiave in corrispondenza degli offset dall'inizio chiamando il metodo [**IUIAnimationStoryboard:: AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) con l' **avvio dello \_ \_ \_ Storyboard \_ del fotogramma chiave di animazione dell'interfaccia utente**.</span><span class="sxs-lookup"><span data-stu-id="6d379-221">Every storyboard has an implicit keyframe representing the start of the storyboard, [**UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); you can add new keyframes at offsets from the start by calling the [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) method with **UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**.</span></span>

<span data-ttu-id="6d379-222">L'offset in corrispondenza del quale si aggiunge un fotogramma chiave è sempre relativo a un altro fotogramma chiave.</span><span class="sxs-lookup"><span data-stu-id="6d379-222">The offset at which you add a keyframe is always relative to another keyframe.</span></span> <span data-ttu-id="6d379-223">Il diagramma seguente mostra il risultato dell'aggiunta di keyframe1 e Transition T4, applicata alla variabile Z, allineata a keyframe1 e creata con una durata fissa.</span><span class="sxs-lookup"><span data-stu-id="6d379-223">The following diagram shows the result of adding keyframe1 and transition T4, which is applied to variable Z, aligned with keyframe1, and created with a fixed duration.</span></span> <span data-ttu-id="6d379-224">Naturalmente, poiché le durate delle altre transizioni non sono ancora note, T4 potrebbe non essere l'ultima transizione da completare.</span><span class="sxs-lookup"><span data-stu-id="6d379-224">Of course, because the durations of the other transitions are not yet known, T4 might not be the last transition to finish.</span></span>

![illustrazione che mostra l'aggiunta di una transizione allineata a un fotogramma chiave](images/addtransitionatkeyframe.png)

<span data-ttu-id="6d379-226">I fotogrammi chiave possono essere posizionati anche al termine delle transizioni, usando il metodo [**IUIAnimationStoryboard:: AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) .</span><span class="sxs-lookup"><span data-stu-id="6d379-226">Keyframes can also be placed at the ends of transitions, using the [**IUIAnimationStoryboard::AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) method.</span></span> <span data-ttu-id="6d379-227">Il diagramma seguente mostra il risultato dell'aggiunta di keyframe2 dopo T1 e keyframe3 dopo T2.</span><span class="sxs-lookup"><span data-stu-id="6d379-227">The following diagram shows the result of adding keyframe2 after T1 and keyframe3 after T2.</span></span>

![illustrazione che mostra l'aggiunta di fotogrammi chiave dopo varie transizioni](images/addkeyframeaftertransition.png)

<span data-ttu-id="6d379-229">Poiché le durate di T1 e T2 non sono note finché lo storyboard non viene riprodotto, anche gli offset di keyframe2 e keyframe3 non vengono determinati fino a quel momento.</span><span class="sxs-lookup"><span data-stu-id="6d379-229">Because the durations of T1 and T2 are not known until the storyboard plays, the offsets of keyframe2 and keyframe3 also are not determined until then.</span></span> <span data-ttu-id="6d379-230">Di conseguenza, keyframe2 e anche keyframe3 possono verificarsi prima di keyframe1.</span><span class="sxs-lookup"><span data-stu-id="6d379-230">Consequently, keyframe2 and even keyframe3 can occur earlier than keyframe1.</span></span>

<span data-ttu-id="6d379-231">Sia l'inizio che la fine di una transizione possono essere allineati con fotogrammi chiave usando il metodo [**IUIAnimationStoryboard:: AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) .</span><span class="sxs-lookup"><span data-stu-id="6d379-231">Both the start and end of a transition can be aligned with keyframes by using the [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) method.</span></span> <span data-ttu-id="6d379-232">Il diagramma seguente mostra il risultato dell'aggiunta di una quinta transizione, T5, sulla variabile Y, tra keyframe2 e keyframe3.</span><span class="sxs-lookup"><span data-stu-id="6d379-232">The following diagram shows the result of adding a fifth transition, T5, on variable Y, between keyframe2 and keyframe3.</span></span> <span data-ttu-id="6d379-233">Questa operazione modifica la durata di T5, rendendola più lunga o più breve a seconda degli offset relativi di keyframe2 e keyframe3.</span><span class="sxs-lookup"><span data-stu-id="6d379-233">This alters the duration of T5, making it longer or shorter depending on the relative offsets of keyframe2 and keyframe3.</span></span>

![illustrazione che mostra additon di una transizione tra fotogrammi chiave](images/addtransitionbetweenkeyframes.png)

### <a name="holding-variables"></a><span data-ttu-id="6d379-235">Variabili di contenimento</span><span class="sxs-lookup"><span data-stu-id="6d379-235">Holding Variables</span></span>

<span data-ttu-id="6d379-236">Se T4 termina dopo T2 e T5, lo storyboard interrompe l'animazione delle variabili X e Y, rendendole disponibili per l'animazione di altri storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-236">If T4 does end after T2 and T5, the storyboard stops animating variables X and Y, making them available for other storyboards to animate.</span></span> <span data-ttu-id="6d379-237">Tuttavia, l'applicazione può chiamare il metodo [**IUIAnimationStoryboard:: HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) per richiedere che lo storyboard includa alcune o tutte le variabili a cui viene aggiunta un'animazione nei valori finali fino al completamento dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-237">However, the application can call the [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) method to request that the storyboard hold some or all of the variables it animates at their final values until the storyboard has completed.</span></span> <span data-ttu-id="6d379-238">Il diagramma seguente mostra il risultato dell'esecuzione di X e Z quando T4 termina per ultimo.</span><span class="sxs-lookup"><span data-stu-id="6d379-238">The following diagram shows the result of holding X and Z when T4 finishes last.</span></span> <span data-ttu-id="6d379-239">Si noti che lo storyboard contiene X al valore finale fino al completamento dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-239">Notice that the storyboard holds X at its final value until the storyboard has completed.</span></span> <span data-ttu-id="6d379-240">L'attesa non ha alcun effetto sulla Z perché lo storyboard termina quando T4 termina.</span><span class="sxs-lookup"><span data-stu-id="6d379-240">The hold has no effect on Z because the storyboard ends when T4 finishes.</span></span>

![illustrazione che mostra le variabili in corrispondenza dei valori finali fino al completamento dello storyboard](images/holdvariable.png)

<span data-ttu-id="6d379-242">Sebbene Y non venga mantenuto da questo storyboard, il relativo valore non viene modificato dopo il completamento di T5, a meno che un altro Storyboard non lo anima.</span><span class="sxs-lookup"><span data-stu-id="6d379-242">Even though Y is not held by this storyboard, its value does not change after T5 completes unless another storyboard animates it.</span></span> <span data-ttu-id="6d379-243">Poiché Y non viene mantenuto, qualsiasi altro Storyboard, indipendentemente dalla priorità, può aggiungere un'animazione a Y dopo il completamento di T5.</span><span class="sxs-lookup"><span data-stu-id="6d379-243">Because Y is not held, any other storyboard, regardless of priority, can animate Y after T5 has finished.</span></span> <span data-ttu-id="6d379-244">Al contrario, poiché viene mantenuta la X, uno storyboard con priorità inferiore non può animare X fino al termine dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-244">In contrast, because X is held, a lower-priority storyboard cannot animate X until this storyboard is finished.</span></span>

<span data-ttu-id="6d379-245">Tutte queste illustrazioni hanno assunto un set arbitrario di valori correnti per le variabili quando lo storyboard inizia la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="6d379-245">All of these illustrations have assumed an arbitrary set of current values for the variables when the storyboard starts playing.</span></span> <span data-ttu-id="6d379-246">Se vengono rilevati altri valori, è probabile che le durate delle transizioni sensibili al contesto siano diverse, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="6d379-246">If other values are encountered, the durations of the context-sensitive transitions are likely to be different, as shown in the following illustration.</span></span>

![illustrazione che mostra il risultato della modifica delle condizioni iniziali usate per la figura precedente](images/holdvariablez.png)

<span data-ttu-id="6d379-248">In questo scenario T5 inizia prima del completamento di T3 e T3 viene quindi tagliato.</span><span class="sxs-lookup"><span data-stu-id="6d379-248">In this scenario, T5 begins before T3 has finished, and T3 is therefore trimmed.</span></span> <span data-ttu-id="6d379-249">Poiché T4 termina prima di T2 e T5, il valore di Z viene mantenuto fino alla fine dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-249">Because T4 finishes earlier than T2 and T5, the value of Z is held until the end of the storyboard.</span></span> <span data-ttu-id="6d379-250">In generale, i valori e le velocità delle variabili quando uno storyboard inizia la riproduzione possono influenzare l'ordinamento dei fotogrammi chiave e la lunghezza e la forma complessiva dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-250">In general, the values and velocities of variables when a storyboard starts playing can affect keyframe ordering and the overall length and shape of the storyboard.</span></span>

### <a name="scheduling-a-storyboard"></a><span data-ttu-id="6d379-251">Pianificazione di uno storyboard</span><span class="sxs-lookup"><span data-stu-id="6d379-251">Scheduling a Storyboard</span></span>

<span data-ttu-id="6d379-252">Quando si pianifica uno storyboard, l'ora di inizio viene determinata in base alla struttura e ai contorni degli storyboard attualmente presenti nella pianificazione.</span><span class="sxs-lookup"><span data-stu-id="6d379-252">When scheduling a storyboard, its start time is determined by its outline and the outlines of the storyboards that are currently in the schedule.</span></span> <span data-ttu-id="6d379-253">In particolare, il primo e l'ultimo momento in cui lo storyboard aggiunge un'animazione a ogni singola variabile determina se e quando due storyboard sono in conflitto, ma i dettagli interni delle transizioni all'interno di non sono importanti.</span><span class="sxs-lookup"><span data-stu-id="6d379-253">Specifically, the first and last moments when the storyboard animates each individual variable determine whether and when two storyboards collide, but the internal details of the transitions within are not important.</span></span>

<span data-ttu-id="6d379-254">Nella figura seguente viene illustrata la struttura di uno storyboard con cinque transizioni che animano tre variabili.</span><span class="sxs-lookup"><span data-stu-id="6d379-254">The following illustration shows the outline of a storyboard with five transitions animating three variables.</span></span>

![illustrazione che mostra uno storyboard con cinque transizioni che animano tre variabili](images/storyboardwithoutline.png)

<span data-ttu-id="6d379-256">Un elemento fondamentale della piattaforma di animazione Windows è il supporto per consentire il completamento di un'animazione prima che un'altra venga avviata, se necessario.</span><span class="sxs-lookup"><span data-stu-id="6d379-256">A cornerstone of the Windows Animation platform is its support for letting one animation complete before another begins, when necessary.</span></span> <span data-ttu-id="6d379-257">Sebbene questo elimini molti problemi logici, introduce anche una latenza arbitraria nell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="6d379-257">While this eliminates many logical problems, it also introduces arbitrary latency in the UI.</span></span> <span data-ttu-id="6d379-258">Per risolvere questo problema, le applicazioni possono specificare il *ritardo accettabile più lungo* per l'avvio di uno storyboard, usando il metodo [**IUIAnimationStoryboard:: SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) e il gestore delle animazioni usa queste informazioni per pianificare lo storyboard prima della scadenza del periodo di latenza specificato.</span><span class="sxs-lookup"><span data-stu-id="6d379-258">To address this, applications can specify the *longest acceptable delay* for a storyboard to start, using the [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) method, and the animation manager uses this information to schedule the storyboard before the specified latency period elapses.</span></span> <span data-ttu-id="6d379-259">Quando si pianifica uno storyboard, gestione animazioni determina se è necessario prima annullare, tagliare, concludere e/o comprimere altri storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-259">When a storyboard is scheduled, the animation manager determines if other storyboards must first be canceled, trimmed, concluded, and/or compressed.</span></span>

<span data-ttu-id="6d379-260">Un'applicazione può registrare un gestore che verrà chiamato quando viene modificato lo stato di uno storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-260">An application can register a handler that will be called when a storyboard's status changes.</span></span> <span data-ttu-id="6d379-261">Ciò consente all'applicazione di rispondere quando lo storyboard inizia la riproduzione, viene eseguito fino al completamento, viene rimosso interamente dalla pianificazione o non può essere completato a causa di un'interruzione da parte di uno storyboard con priorità più alta.</span><span class="sxs-lookup"><span data-stu-id="6d379-261">This enables the application to respond when the storyboard starts playing, runs to completion, is removed entirely from the schedule, or is prevented from completing due to interruption by a higher-priority storyboard.</span></span> <span data-ttu-id="6d379-262">Per identificare gli storyboard passati ai gestori eventi Storyboard (o i confronti di priorità), un'applicazione può usare il metodo [**IUIAnimationStoryboard:: SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) per applicare tag agli storyboard, in modo analogo a quelli che possono essere usati per identificare le variabili.</span><span class="sxs-lookup"><span data-stu-id="6d379-262">To identify the storyboards passed to storyboard event handlers (or priority comparisons), an application can use the [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) method to apply tags to storyboards, similar to those that can be used to identify variables.</span></span> <span data-ttu-id="6d379-263">Come per il riutilizzo dello storyboard, gli sviluppatori devono prestare attenzione quando si usano i tag per identificare gli storyboard e assicurarsi che le ambiguità non si verifichino quando le azioni dell'utente comportano la coda di molti storyboard.</span><span class="sxs-lookup"><span data-stu-id="6d379-263">As with storyboard re-use, developers must exercise caution when using tags to identify storyboards, and be sure that ambiguities do not arise when user actions result in many storyboards being queued.</span></span>

<span data-ttu-id="6d379-264">Negli esempi seguenti vengono illustrate due varianti di un tentativo di pianificazione dello storyboard compilato nelle sezioni precedenti di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="6d379-264">The following examples show two variations of an attempt to schedule the storyboard built in the earlier sections of this topic.</span></span>

<span data-ttu-id="6d379-265">In questo scenario, sei storyboard da A a F sono già stati pianificati per aggiungere un'animazione alle variabili W, X, Y e Z, ma solo A e B hanno iniziato a eseguire la riproduzione.</span><span class="sxs-lookup"><span data-stu-id="6d379-265">In this scenario, six storyboards, A through F, have already been scheduled to animate variables W, X, Y and Z, but only A and B have started playing.</span></span> <span data-ttu-id="6d379-266">Il nuovo storyboard, con etichetta G, ha un ritardo accettabile più lungo impostato sulla durata indicata nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="6d379-266">The new storyboard, labeled G, has its longest acceptable delay set to the duration shown in the following illustration.</span></span>

![illustrazione che mostra l'aggiunta di un nuovo storyboard alla pianificazione esistente](images/existingschedule1withlines.png)

<span data-ttu-id="6d379-268">L'applicazione ha registrato confronti di priorità che includono la logica seguente:</span><span class="sxs-lookup"><span data-stu-id="6d379-268">The application has registered priority comparisons that include the following logic:</span></span>

-   <span data-ttu-id="6d379-269">G può annullare solo C ed e e solo per evitare errori.</span><span class="sxs-lookup"><span data-stu-id="6d379-269">G can cancel only C and E, and only to prevent failure.</span></span>
-   <span data-ttu-id="6d379-270">G può tagliare solo a, C, e e F e solo per evitare errori.</span><span class="sxs-lookup"><span data-stu-id="6d379-270">G can trim only A, C, E and F, and only to prevent failure.</span></span>
-   <span data-ttu-id="6d379-271">Qualsiasi storyboard può comprimere qualsiasi altro Storyboard (la compressione viene sempre eseguita solo per evitare errori).</span><span class="sxs-lookup"><span data-stu-id="6d379-271">Any storyboard can compress any other storyboard (compression is always done only to prevent failure).</span></span>

> [!Note]  
> <span data-ttu-id="6d379-272">Il qualificatore "solo per evitare errori" indica che i confronti di priorità registrati restituiscono S \_ OK solo quando il parametro *priorityEffect* è un **\_ \_ \_ \_ errore di effetto priorità di animazione interfaccia utente**.</span><span class="sxs-lookup"><span data-stu-id="6d379-272">The qualifier "only to prevent failure" means that the registered priority comparisons return S\_OK only when the *priorityEffect* parameter is **UI\_ANIMATION\_PRIORITY\_EFFECT\_FAILURE**.</span></span> <span data-ttu-id="6d379-273">Per informazioni dettagliate, vedere il metodo [**IUIAnimationPriorityComparison:: HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) .</span><span class="sxs-lookup"><span data-stu-id="6d379-273">See the [**IUIAnimationPriorityComparison::HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) method for details.</span></span>

 

<span data-ttu-id="6d379-274">Per avviare G prima che sia trascorso il ritardo accettabile più lungo, il gestore delle animazioni deve eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="6d379-274">To start G before the longest acceptable delay has elapsed, the animation manager must do the following:</span></span>

-   <span data-ttu-id="6d379-275">Trim F</span><span class="sxs-lookup"><span data-stu-id="6d379-275">Trim F</span></span>
-   <span data-ttu-id="6d379-276">Annulla E</span><span class="sxs-lookup"><span data-stu-id="6d379-276">Cancel E</span></span>

<span data-ttu-id="6d379-277">Quando E viene annullato, vengono individuati i risultati D e F e vengono ripristinati i relativi contorni originali:</span><span class="sxs-lookup"><span data-stu-id="6d379-277">When E is canceled, D and F are uncovered and revert to their original outlines:</span></span>

![illustrazione che mostra le strutture originali](images/existingschedule1bwithlines.png)

<span data-ttu-id="6d379-279">Il gestore delle animazioni non deve annullare o tagliare C per pianificare prima che sia trascorso il ritardo accettabile più lungo, quindi la riunione di C e G determina quando G viene avviato.</span><span class="sxs-lookup"><span data-stu-id="6d379-279">The animation manager does not need to cancel or trim C to schedule before its longest acceptable delay has elapsed, so the meeting of C and G determines when G starts.</span></span>

![illustrazione che mostra che f viene tagliato per consentire il raggiungimento di c e g](images/schedule1withgwithlines.png)

<span data-ttu-id="6d379-281">Una volta pianificata correttamente G, è possibile determinare la durata delle transizioni e il resto del contorno è quindi noto.</span><span class="sxs-lookup"><span data-stu-id="6d379-281">After G has been successfully scheduled, the durations of its transitions can be determined, and the remainder of its outline is therefore known.</span></span> <span data-ttu-id="6d379-282">Tuttavia, la struttura può cambiare se un altro Storyboard viene successivamente rimosso dalla pianificazione.</span><span class="sxs-lookup"><span data-stu-id="6d379-282">However, the outline can change if another storyboard is subsequently removed from the schedule.</span></span>

<span data-ttu-id="6d379-283">Come secondo esempio, si consideri uno scenario come quello precedente, ma con un ritardo più breve accettabile più lungo specificato per G.</span><span class="sxs-lookup"><span data-stu-id="6d379-283">As a second example, consider a scenario like that above, but with a shorter longest acceptable delay specified for G.</span></span>

![illustrazione che mostra lo scenario precedente, ma con un ritardo più breve accettabile più lungo per g](images/existingschedule2withlines.png)

<span data-ttu-id="6d379-285">In questo caso, vengono eseguite le azioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="6d379-285">In this case, the following actions are taken:</span></span>

-   <span data-ttu-id="6d379-286">Trim F</span><span class="sxs-lookup"><span data-stu-id="6d379-286">Trim F</span></span>
-   <span data-ttu-id="6d379-287">Annulla E</span><span class="sxs-lookup"><span data-stu-id="6d379-287">Cancel E</span></span>
-   <span data-ttu-id="6d379-288">Annulla C</span><span class="sxs-lookup"><span data-stu-id="6d379-288">Cancel C</span></span>

<span data-ttu-id="6d379-289">Inoltre, il gestore delle animazioni deve comprimere D in base alla quantità indicata per abilitare G per l'avvio dopo il ritardo accettabile più lungo e non in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="6d379-289">Also, the animation manager must compress D by the amount shown to enable G to start after its longest acceptable delay, and no later.</span></span>

![illustrazione che mostra dove d deve essere compresso per consentire l'avvio di g a un ritardo più lungo accettabile](images/trimmedandcancelledwithlines.png)

<span data-ttu-id="6d379-291">Per mantenere l'intervallo relativo, A, B e F vengono compressi.</span><span class="sxs-lookup"><span data-stu-id="6d379-291">To preserve their relative timing, A, B, and F are compressed as well.</span></span>

![illustrazione che mostra un oggetto, b, d e f compresso](images/schedule2withgwithlines.png)

<span data-ttu-id="6d379-293">Tuttavia, gli storyboard in variabili non correlate (non visualizzate) non vengono compressi.</span><span class="sxs-lookup"><span data-stu-id="6d379-293">However, storyboards on unrelated variables (not shown) would not be compressed.</span></span>

<span data-ttu-id="6d379-294">Ancora una volta, il contorno di G è ora noto ed è diverso dal risultato nel primo scenario perché le variabili hanno valori diversi quando G inizia.</span><span class="sxs-lookup"><span data-stu-id="6d379-294">Once again, the outline of G is now known and is different from the result in the first scenario because the variables have different values when G begins.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6d379-295">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="6d379-295">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6d379-296">**IUIAnimationManager**</span><span class="sxs-lookup"><span data-stu-id="6d379-296">**IUIAnimationManager**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationmanager)
</dt> <dt>

[<span data-ttu-id="6d379-297">**IUIAnimationPriorityComparison**</span><span class="sxs-lookup"><span data-stu-id="6d379-297">**IUIAnimationPriorityComparison**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationprioritycomparison)
</dt> <dt>

[<span data-ttu-id="6d379-298">**IUIAnimationStoryboard**</span><span class="sxs-lookup"><span data-stu-id="6d379-298">**IUIAnimationStoryboard**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationstoryboard)
</dt> <dt>

[<span data-ttu-id="6d379-299">**IUIAnimationTransitionLibrary**</span><span class="sxs-lookup"><span data-stu-id="6d379-299">**IUIAnimationTransitionLibrary**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)
</dt> </dl>

 

