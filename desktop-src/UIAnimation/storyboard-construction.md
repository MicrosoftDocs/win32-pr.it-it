---
title: Panoramica dello storyboard
description: Questa panoramica è incentrata sul modo in cui le transizioni e gli storyboard vengono usati nell'animazione di Windows.
ms.assetid: d37718ac-0256-4a24-a26c-d29173593be0
keywords:
- Animazione di Windows Animation , panoramica dello storyboard
- storyboard Animazione di Windows , descritto
- transizioni animazione di Windows, descritto
- transizioni animazione di Windows, personalizzata
- interpolatori Windows Animation ,descritto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 58210ae98f6d3a96c554276466ad72b3364d72a1
ms.sourcegitcommit: 8ebcf6cd36f67f8bcf78e76ae8923d65b8995c8a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/05/2021
ms.locfileid: "111524285"
---
# <a name="storyboard-overview"></a><span data-ttu-id="b188f-108">Panoramica dello storyboard</span><span class="sxs-lookup"><span data-stu-id="b188f-108">Storyboard Overview</span></span>

<span data-ttu-id="b188f-109">Questa panoramica è incentrata sul modo in cui le transizioni e gli storyboard vengono usati nell'animazione di Windows.</span><span class="sxs-lookup"><span data-stu-id="b188f-109">This overview focuses on how transitions and storyboards are used in Windows Animation.</span></span> <span data-ttu-id="b188f-110">Per una panoramica dei componenti dell'animazione di Windows, vedere [Cenni preliminari sull'animazione di Windows](scenic-animation-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b188f-110">For an overview of the components of Windows Animation, see [Windows Animation Overview](scenic-animation-api-overview.md).</span></span>

<span data-ttu-id="b188f-111">In questo argomento sono incluse le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b188f-111">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="b188f-112">Transizioni</span><span class="sxs-lookup"><span data-stu-id="b188f-112">Transitions</span></span>](#custom-transitions)
    -   [<span data-ttu-id="b188f-113">Libreria di transizioni</span><span class="sxs-lookup"><span data-stu-id="b188f-113">Transition Library</span></span>](#transition-library)
    -   [<span data-ttu-id="b188f-114">Transizioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="b188f-114">Custom Transitions</span></span>](#custom-transitions)
-   [<span data-ttu-id="b188f-115">Storyboard</span><span class="sxs-lookup"><span data-stu-id="b188f-115">Storyboards</span></span>](#storyboards)
    -   [<span data-ttu-id="b188f-116">Compilazione di uno storyboard semplice</span><span class="sxs-lookup"><span data-stu-id="b188f-116">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
    -   [<span data-ttu-id="b188f-117">Uso di una durata Context-Sensitive predefinita</span><span class="sxs-lookup"><span data-stu-id="b188f-117">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
    -   [<span data-ttu-id="b188f-118">Compilazione di uno storyboard più complesso</span><span class="sxs-lookup"><span data-stu-id="b188f-118">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
    -   [<span data-ttu-id="b188f-119">Uso dei fotogrammi chiave</span><span class="sxs-lookup"><span data-stu-id="b188f-119">Using Keyframes</span></span>](#using-keyframes)
    -   [<span data-ttu-id="b188f-120">Contenere variabili</span><span class="sxs-lookup"><span data-stu-id="b188f-120">Holding Variables</span></span>](#holding-variables)
    -   [<span data-ttu-id="b188f-121">Pianificazione di uno storyboard</span><span class="sxs-lookup"><span data-stu-id="b188f-121">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)
-   [<span data-ttu-id="b188f-122">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="b188f-122">Related topics</span></span>](#related-topics)

## <a name="transitions"></a><span data-ttu-id="b188f-123">Transizioni</span><span class="sxs-lookup"><span data-stu-id="b188f-123">Transitions</span></span>

<span data-ttu-id="b188f-124">Una transizione definisce il modo in cui una singola variabile di animazione cambia in un intervallo di tempo specifico.</span><span class="sxs-lookup"><span data-stu-id="b188f-124">A transition defines how a single animation variable changes over a particular time interval.</span></span> <span data-ttu-id="b188f-125">Windows Animation include una libreria di transizioni comuni che gli sviluppatori possono applicare a una o più variabili di animazione.</span><span class="sxs-lookup"><span data-stu-id="b188f-125">Windows Animation includes a library of common transitions that developers can apply to one or more animation variables.</span></span> <span data-ttu-id="b188f-126">Diversi tipi di transizioni hanno set diversi di parametri, che possono includere il valore della variabile al termine della transizione, la durata della transizione o quantità univoche per la funzione matematica sottostante, ad esempio accelerazione o intervallo di oscillazione.</span><span class="sxs-lookup"><span data-stu-id="b188f-126">Different kinds of transitions have different sets of parameters, which may include the value of the variable when the transition completes, the duration of the transition, or quantities unique to the underlying mathematical function, such as acceleration or range of oscillation.</span></span>

<span data-ttu-id="b188f-127">Tutte le transizioni condividono due parametri impliciti: il valore iniziale e la velocità iniziale (pendenza) della funzione matematica.</span><span class="sxs-lookup"><span data-stu-id="b188f-127">All transitions share two implicit parameters: the initial value and initial velocity (slope) of the mathematical function.</span></span> <span data-ttu-id="b188f-128">Possono essere specificati in modo esplicito dall'applicazione, ma in genere vengono impostati dal gestore dell'animazione sul valore e sulla velocità della variabile di animazione all'inizio della transizione.</span><span class="sxs-lookup"><span data-stu-id="b188f-128">These may be specified explicitly by the application, but are typically set by the animation manager to the value and velocity of the animation variable when the transition begins.</span></span>

-   [<span data-ttu-id="b188f-129">Libreria di transizioni</span><span class="sxs-lookup"><span data-stu-id="b188f-129">Transition Library</span></span>](#transition-library)
-   [<span data-ttu-id="b188f-130">Transizioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="b188f-130">Custom Transitions</span></span>](#custom-transitions)

### <a name="transition-library"></a><span data-ttu-id="b188f-131">Libreria di transizioni</span><span class="sxs-lookup"><span data-stu-id="b188f-131">Transition Library</span></span>

<span data-ttu-id="b188f-132">Le transizioni seguenti sono attualmente fornite dalla libreria di transizione.</span><span class="sxs-lookup"><span data-stu-id="b188f-132">The following transitions are currently provided by the transition library.</span></span> <span data-ttu-id="b188f-133">Se un'applicazione richiede un effetto che non può essere specificato tramite la libreria di transizione, gli sviluppatori possono creare altri tipi di transizioni implementando un interpolatore personalizzato per l'applicazione o usando una libreria di transizione di terze parti.</span><span class="sxs-lookup"><span data-stu-id="b188f-133">If an application requires an effect that cannot be specified by using the transition library, developers can create other kinds of transitions by implementing a custom interpolator for the application, or using a transition library from a third party.</span></span>



| <span data-ttu-id="b188f-134">Nome della transizione</span><span class="sxs-lookup"><span data-stu-id="b188f-134">Transition Name</span></span>                        | <span data-ttu-id="b188f-135">Descrizione</span><span class="sxs-lookup"><span data-stu-id="b188f-135">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b188f-136">accelerate-decelerate</span><span class="sxs-lookup"><span data-stu-id="b188f-136">accelerate-decelerate</span></span><br/>       | <span data-ttu-id="b188f-137">La variabile di animazione accelera e quindi rallenta per una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="b188f-137">The animation variable speeds up and then slows down over a given duration.</span></span><br/>                                                                                                               |
| <span data-ttu-id="b188f-138">constant</span><span class="sxs-lookup"><span data-stu-id="b188f-138">constant</span></span><br/>                    | <span data-ttu-id="b188f-139">La variabile di animazione rimane al valore iniziale durante la transizione.</span><span class="sxs-lookup"><span data-stu-id="b188f-139">The animation variable remains at its initial value throughout the transition.</span></span><br/>                                                                                                            |
| <span data-ttu-id="b188f-140">cubiche</span><span class="sxs-lookup"><span data-stu-id="b188f-140">cubic</span></span><br/>                       | <span data-ttu-id="b188f-141">La variabile di animazione cambia dal valore iniziale a un valore finale specificato, con una velocità finale specificata, per una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="b188f-141">The animation variable changes from its initial value to a specified final value, with a specified final velocity, over a given duration.</span></span><br/>                                                 |
| <span data-ttu-id="b188f-142">Discreti</span><span class="sxs-lookup"><span data-stu-id="b188f-142">discrete</span></span><br/>                    | <span data-ttu-id="b188f-143">La variabile di animazione rimane al valore iniziale per un tempo di ritardo specificato, quindi passa immediatamente a un valore finale specificato e rimane a tale valore per un determinato tempo di attesa.</span><span class="sxs-lookup"><span data-stu-id="b188f-143">The animation variable remains at its initial value for a specified delay time, then switches instantaneously to a specified final value and remains at that value for a given hold time.</span></span><br/> |
| <span data-ttu-id="b188f-144">Istantanea</span><span class="sxs-lookup"><span data-stu-id="b188f-144">instantaneous</span></span><br/>               | <span data-ttu-id="b188f-145">La variabile di animazione cambia immediatamente dal valore corrente a un valore finale specificato.</span><span class="sxs-lookup"><span data-stu-id="b188f-145">The animation variable changes instantly from its current value to a specified final value.</span></span><br/>                                                                                               |
| <span data-ttu-id="b188f-146">linear</span><span class="sxs-lookup"><span data-stu-id="b188f-146">linear</span></span><br/>                      | <span data-ttu-id="b188f-147">La variabile di animazione esegue la transizione lineare dal valore iniziale a un valore finale specificato per una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="b188f-147">The animation variable transitions linearly from its initial value to a specified final value over a given duration.</span></span><br/>                                                                      |
| <span data-ttu-id="b188f-148">lineare dalla velocità</span><span class="sxs-lookup"><span data-stu-id="b188f-148">linear from speed</span></span><br/>           | <span data-ttu-id="b188f-149">La variabile di animazione esegue la transizione lineare dal valore iniziale a un valore finale specificato con una velocità specificata.</span><span class="sxs-lookup"><span data-stu-id="b188f-149">The animation variable transitions linearly from its initial value to a specified final value with a specified speed.</span></span><br/>                                                                     |
| <span data-ttu-id="b188f-150">parabolico dall'accelerazione</span><span class="sxs-lookup"><span data-stu-id="b188f-150">parabolic from acceleration</span></span><br/> | <span data-ttu-id="b188f-151">La variabile di animazione passa dal valore iniziale a un valore finale specificato, con una velocità finale specificata, modificandone la velocità con un'accelerazione specificata.</span><span class="sxs-lookup"><span data-stu-id="b188f-151">The animation variable transitions from its initial value to a specified final value, with a specified final velocity, changing its velocity with a specified acceleration.</span></span><br/>               |
| <span data-ttu-id="b188f-152">Inversione</span><span class="sxs-lookup"><span data-stu-id="b188f-152">reversal</span></span><br/>                    | <span data-ttu-id="b188f-153">La variabile cambia direzione per una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="b188f-153">The variable changes direction over a given duration.</span></span> <span data-ttu-id="b188f-154">Il valore finale sarà uguale al valore iniziale e la velocità finale sarà negativa della velocità iniziale.</span><span class="sxs-lookup"><span data-stu-id="b188f-154">The final value will be the same as the initial value and the final velocity will be the negative of the initial velocity.</span></span><br/>          |
| <span data-ttu-id="b188f-155">sinusoidale dall'intervallo</span><span class="sxs-lookup"><span data-stu-id="b188f-155">sinusoidal from range</span></span><br/>       | <span data-ttu-id="b188f-156">La variabile oscilla all'interno di un determinato intervallo di valori, con un periodo di oscillazione specificato, per una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="b188f-156">The variable oscillates within a given range of values, with a specified period of oscillation, for a given duration.</span></span><br/>                                                                     |
| <span data-ttu-id="b188f-157">sinusoidale dalla velocità</span><span class="sxs-lookup"><span data-stu-id="b188f-157">sinusoidal from velocity</span></span><br/>    | <span data-ttu-id="b188f-158">La variabile oscilla con un periodo di oscillazione specificato, per una determinata durata.</span><span class="sxs-lookup"><span data-stu-id="b188f-158">The variable oscillates with a specified period of oscillation, for a given duration.</span></span> <span data-ttu-id="b188f-159">L'ampiezza dell'oscillazione è determinata dalla velocità iniziale della variabile.</span><span class="sxs-lookup"><span data-stu-id="b188f-159">The amplitude of oscillation is determined by the variable's initial velocity.</span></span><br/>                      |
| <span data-ttu-id="b188f-160">arresto uniforme</span><span class="sxs-lookup"><span data-stu-id="b188f-160">smooth stop</span></span><br/>                 | <span data-ttu-id="b188f-161">La variabile di animazione viene interrotta gradualmente in corrispondenza di un valore finale specificato, entro un periodo di tempo massimo.</span><span class="sxs-lookup"><span data-stu-id="b188f-161">The animation variable comes to a smooth stop at a specified final value, within a maximum duration of time.</span></span><br/>                                                                              |



 

<span data-ttu-id="b188f-162">La tabella seguente contiene illustrazioni per ognuna di queste transizioni.</span><span class="sxs-lookup"><span data-stu-id="b188f-162">The following table contains illustrations for each of these transitions.</span></span>



|    <span data-ttu-id="b188f-163">Illustrazioni</span><span class="sxs-lookup"><span data-stu-id="b188f-163">Illustrations</span></span>                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![Illustrazione di una transizione istantanea](images/instantaneoustransition.png)  ![Illustrazione di una transizione costante](images/constanttransition.png)  ![illustrazione di una transizione lineare](images/lineartransition.png)  ![Illustrazione di una transizione lineare dalla velocità](images/lineartransitionfromspeed.png)  ![Illustrazione di una transizione discreta](images/discretetransition.png) |
| ![Illustrazione di una transizione parabolica dall'accelerazione](images/parabolictransitionfromacceleration.png)  ![illustrazione di una transizione cubica](images/cubictransition.png)  ![Illustrazione di una transizione di arresto uniforme](images/smoothstoptransition.png)                                                                                                                                       |
| ![Illustrazione di una transizione inversa](images/reversaltransition.png)  ![illustrazione di una transizione sinusoidale dalla velocità](images/sinusolidaltransitionfromvelocity.png)  ![Illustrazione di una transizione sinusoidale dall'intervallo](images/sinusolidaltransitionfromrange.png)                                                                                                                  |
| ![Illustrazione delle transizioni di accellerate e decelerate](images/acceleratedeceleratetransition.png)                                                                                                                                                                                                                                                                                               |



 

### <a name="custom-transitions"></a><span data-ttu-id="b188f-176">Transizioni personalizzate</span><span class="sxs-lookup"><span data-stu-id="b188f-176">Custom Transitions</span></span>

<span data-ttu-id="b188f-177">Un *interpolatore* definisce la funzione matematica che determina il modo in cui una variabile di animazione cambia nel tempo mentre avanza dal valore iniziale a un valore finale.</span><span class="sxs-lookup"><span data-stu-id="b188f-177">An *interpolator* defines the mathematical function that determines how an animation variable changes over time as it progresses from its initial value to a final value.</span></span> <span data-ttu-id="b188f-178">A ogni transizione nella libreria di transizione è associato un oggetto interpolatore fornito dal sistema e implementa la funzione dell'interpolatore.</span><span class="sxs-lookup"><span data-stu-id="b188f-178">Each transition in the transition library has an associated interpolator object that is provided by the system and implements the interpolator function.</span></span> <span data-ttu-id="b188f-179">Se un'applicazione richiede un effetto che non può essere specificato usando la libreria di transizione, può implementare una o più transizioni personalizzate implementando un oggetto interpolatore per ogni nuova transizione.</span><span class="sxs-lookup"><span data-stu-id="b188f-179">If an application requires an effect that cannot be specified using the transition library, it can implement one or more custom transitions by implementing an interpolator object for each new transition.</span></span> <span data-ttu-id="b188f-180">Gli oggetti interpolatore non possono essere usati direttamente dalle applicazioni e devono invece essere incapsulati in una transizione associata.</span><span class="sxs-lookup"><span data-stu-id="b188f-180">Interpolator objects cannot be used directly by applications and must instead be wrapped in an associated transition.</span></span> <span data-ttu-id="b188f-181">Una *factory di transizione* viene usata per generare transizioni da un oggetto interpolatore.</span><span class="sxs-lookup"><span data-stu-id="b188f-181">A *transition factory* is used to generate transitions from an interpolator object.</span></span> <span data-ttu-id="b188f-182">Per [**altri dettagli, vedere IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) e [**IUIAnimationTransitionFactory.**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory)</span><span class="sxs-lookup"><span data-stu-id="b188f-182">See [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) and [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) for more details.</span></span>

<span data-ttu-id="b188f-183">Si noti che la maggior parte delle applicazioni avrà tutte le transizioni necessarie usando la libreria di transizione e pertanto non dovrà implementare un interpolatore.</span><span class="sxs-lookup"><span data-stu-id="b188f-183">Note that most applications will have all of the transitions they need by using the transition library, and therefore would not need to implement an interpolator.</span></span>

## <a name="storyboards"></a><span data-ttu-id="b188f-184">Storyboard</span><span class="sxs-lookup"><span data-stu-id="b188f-184">Storyboards</span></span>

<span data-ttu-id="b188f-185">Uno storyboard è una raccolta di transizioni applicate a una o più variabili di animazione nel tempo.</span><span class="sxs-lookup"><span data-stu-id="b188f-185">A storyboard is a collection of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="b188f-186">È garantito che le transizioni in uno storyboard rimangano sincronizzate l'una rispetto all'altra e lo storyboard viene pianificato o annullato come unità.</span><span class="sxs-lookup"><span data-stu-id="b188f-186">The transitions in a storyboard are guaranteed to remain synchronized relative to one another, and the storyboard is scheduled or canceled as a unit.</span></span> <span data-ttu-id="b188f-187">Dopo aver creato le transizioni desiderate, un'applicazione crea uno storyboard usando gestione animazione, aggiunge le transizioni allo storyboard, configura lo storyboard in modo appropriato e lo pianifica per la riproduzione il prima possibile.</span><span class="sxs-lookup"><span data-stu-id="b188f-187">After creating the desired transitions, an application creates a storyboard using the animation manager, adds the transitions to the storyboard, configures the storyboard appropriately, and schedules it to play as soon as possible.</span></span> <span data-ttu-id="b188f-188">Il gestore dell'animazione determina l'ora di inizio effettiva dello storyboard, perché potrebbero verificarsi problemi con altri storyboard che animano attualmente le stesse variabili.</span><span class="sxs-lookup"><span data-stu-id="b188f-188">The animation manager determines the storyboard's actual start time, because there may be contention with other storyboards currently animating the same variables.</span></span>

<span data-ttu-id="b188f-189">La durata complessiva di uno storyboard dipende dalle durate delle transizioni all'interno dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-189">The overall duration of a storyboard depends on the durations of the transitions within the storyboard.</span></span> <span data-ttu-id="b188f-190">La durata di una transizione non deve essere fissata. può essere determinato dal valore e dalla velocità delle variabili animate all'inizio della transizione.</span><span class="sxs-lookup"><span data-stu-id="b188f-190">The duration of a transition need not be fixed; it can be determined by the value and velocity of the animated variables when the transition begins.</span></span> <span data-ttu-id="b188f-191">La durata di uno storyboard può quindi dipendere anche dallo stato delle variabili a cui viene animata.</span><span class="sxs-lookup"><span data-stu-id="b188f-191">So, the duration of a storyboard can also depend on the state of the variables it animates.</span></span>

<span data-ttu-id="b188f-192">Gli esempi seguenti presuppongono che siano stati creati un gestore di animazione, una libreria di transizione e un timer.</span><span class="sxs-lookup"><span data-stu-id="b188f-192">The following examples assume that an animation manager, transition library, and timer have been created.</span></span> <span data-ttu-id="b188f-193">Per altre informazioni, vedere [Creare oggetti di animazione principali](adding-animation-to-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="b188f-193">For more information, see [Create the Main Animation Objects](adding-animation-to-an-application.md).</span></span> <span data-ttu-id="b188f-194">Gli esempi presuppongono anche che l'applicazione abbia creato tre variabili di animazione (X, Y e Z) usando il metodo [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) e cinque transizioni (T1, T2, T3, T4 e T5) usando uno dei metodi [**dell'interfaccia IUIAnimationTransitionLibrary.**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)</span><span class="sxs-lookup"><span data-stu-id="b188f-194">The examples also assume that the application has created three animation variables (X, Y and Z) by using the [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) method, and five transitions (T1, T2, T3, T4, and T5) by using the one of the methods of the [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) interface.</span></span>

-   [<span data-ttu-id="b188f-195">Compilazione di uno storyboard semplice</span><span class="sxs-lookup"><span data-stu-id="b188f-195">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
-   [<span data-ttu-id="b188f-196">Uso di una durata Context-Sensitive predefinita</span><span class="sxs-lookup"><span data-stu-id="b188f-196">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
-   [<span data-ttu-id="b188f-197">Compilazione di uno storyboard più complesso</span><span class="sxs-lookup"><span data-stu-id="b188f-197">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
-   [<span data-ttu-id="b188f-198">Uso dei fotogrammi chiave</span><span class="sxs-lookup"><span data-stu-id="b188f-198">Using Keyframes</span></span>](#using-keyframes)
-   [<span data-ttu-id="b188f-199">Contenere variabili</span><span class="sxs-lookup"><span data-stu-id="b188f-199">Holding Variables</span></span>](#holding-variables)
-   [<span data-ttu-id="b188f-200">Pianificazione di uno storyboard</span><span class="sxs-lookup"><span data-stu-id="b188f-200">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)

### <a name="building-a-simple-storyboard"></a><span data-ttu-id="b188f-201">Compilazione di uno storyboard semplice</span><span class="sxs-lookup"><span data-stu-id="b188f-201">Building a Simple Storyboard</span></span>

<span data-ttu-id="b188f-202">Per compilare uno storyboard semplice, usare il metodo [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) per creare un nuovo storyboard, il metodo [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) per creare una transizione lineare, T1, e il metodo [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) per applicare la transizione T1 alla variabile X e aggiungere la transizione risultante allo storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-202">To build a simple storyboard, use the [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) method to create a new storyboard, the [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) method to create a linear transition, T1, and the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method to apply the T1 transition to the variable X and add the resulting transition to the storyboard.</span></span>

<span data-ttu-id="b188f-203">Questo processo produce uno storyboard semplice, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="b188f-203">This process yields a simple storyboard, as shown in the following figure.</span></span> <span data-ttu-id="b188f-204">Lo storyboard contiene una transizione, T1, in modo che il valore della variabile X cambi linearmente per un periodo di tempo fisso.</span><span class="sxs-lookup"><span data-stu-id="b188f-204">The storyboard contains one transition, T1, such that the value of variable X changes linearly over a fixed duration of time.</span></span>

![Illustrazione che mostra uno storyboard semplice con una durata fissa](images/simplestoryboardfixedduration.png)

<span data-ttu-id="b188f-206">Si noti che per uno scenario così semplice, un'opzione alternativa consiste nell'usare il [**metodo IUIAnimationManager::ScheduleTransition.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition)</span><span class="sxs-lookup"><span data-stu-id="b188f-206">Note that for such a simple scenario, an alternative option is to use the [**IUIAnimationManager::ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) method.</span></span>

### <a name="using-a-context-sensitive-duration"></a><span data-ttu-id="b188f-207">Uso di una durata Context-Sensitive predefinita</span><span class="sxs-lookup"><span data-stu-id="b188f-207">Using a Context-Sensitive Duration</span></span>

<span data-ttu-id="b188f-208">Anche se alcune transizioni hanno una durata fissa, la durata di altre dipende dal valore iniziale o dalla velocità della variabile animata all'inizio della transizione.</span><span class="sxs-lookup"><span data-stu-id="b188f-208">While some transitions have a fixed duration, the duration of others depends on the initial value or velocity of the animated variable when the transition begins.</span></span> <span data-ttu-id="b188f-209">Ad esempio, il metodo [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) crea una transizione con una durata proporzionale alla differenza tra il valore iniziale della variabile di animazione e il valore finale specificato.</span><span class="sxs-lookup"><span data-stu-id="b188f-209">For example, the [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) method creates a transition with a duration that is proportional to the difference between the initial value of the animation variable and the specified final value.</span></span> <span data-ttu-id="b188f-210">In questa illustrazione, e nelle illustrazioni rimanenti, tali transizioni con durate arbitrarie vengono visualizzate con un punto interrogativo (?) e le relative durate effettive vengono determinate quando viene riprodotto lo storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-210">In this illustration, and the remaining illustrations, such transitions with arbitrary durations are shown with a question mark (?), and their actual durations are determined when the storyboard plays.</span></span>

![Illustrazione che mostra uno storyboard semplice con una durata sconosciuta](images/simplestoryboardunknownduration.png)

### <a name="building-a-more-complex-storyboard"></a><span data-ttu-id="b188f-212">Compilazione di uno storyboard più complesso</span><span class="sxs-lookup"><span data-stu-id="b188f-212">Building a More Complex Storyboard</span></span>

<span data-ttu-id="b188f-213">Dopo aver creato uno storyboard e aver aggiunto una singola transizione, T1, è possibile aggiungere una seconda transizione per la variabile X chiamando di nuovo il metodo [**IUIAnimationStoryboard::AddTransition,**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) ma con T2 anziché con T1.</span><span class="sxs-lookup"><span data-stu-id="b188f-213">After creating a storyboard and adding a single transition, T1, you can append a second transition for the X variable by calling the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method again, but with T2 instead of T1.</span></span>

<span data-ttu-id="b188f-214">Supponendo che la transizione T2 abbia una durata sensibile al contesto, lo storyboard contiene ora due transizioni back-to-back di durata arbitraria che interessano la variabile X.</span><span class="sxs-lookup"><span data-stu-id="b188f-214">Assuming that the T2 transition has a duration that is context-sensitive, the storyboard now contains two back-to-back transitions of arbitrary duration affecting the variable X.</span></span>

![Figura che mostra uno storyboard contenente due transizioni nella stessa variabile](images/appendingwithaddtransition.png)

<span data-ttu-id="b188f-216">Chiamando [**nuovamente AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) con la variabile Y e la transizione T3 viene aggiunta una terza transizione all'inizio dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-216">Calling [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) again with variable Y and transition T3 adds a third transition at the start of the storyboard.</span></span> <span data-ttu-id="b188f-217">A seconda dei valori di X e Y quando viene riprodotto lo storyboard, T3 può terminare dopo T1 o anche dopo T2.</span><span class="sxs-lookup"><span data-stu-id="b188f-217">Depending on the values of X and Y when the storyboard plays, T3 may end after T1 or even after T2.</span></span>

![Illustrazione che mostra uno storyboard contenente transizioni tra più variabili](images/multivariablestoryboard.png)

### <a name="using-keyframes"></a><span data-ttu-id="b188f-219">Uso dei fotogrammi chiave</span><span class="sxs-lookup"><span data-stu-id="b188f-219">Using Keyframes</span></span>

<span data-ttu-id="b188f-220">Per aggiungere una transizione in corrispondenza di un offset dall'inizio dello storyboard, è prima necessario aggiungere un fotogramma chiave.</span><span class="sxs-lookup"><span data-stu-id="b188f-220">To add a transition at an offset from the start of the storyboard, you must first add a keyframe.</span></span> <span data-ttu-id="b188f-221">I fotogrammi chiave rappresentano istantanei nel tempo e di per sé non hanno alcun effetto sul comportamento dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-221">Keyframes represent instants in time and by themselves have no effect on the behavior of the storyboard.</span></span> <span data-ttu-id="b188f-222">Ogni storyboard ha un fotogramma chiave implicito che rappresenta l'inizio dello storyboard, [**UI \_ ANIMATION \_ KEYFRAME STORYBOARD \_ \_ START.**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85))È possibile aggiungere nuovi fotogrammi chiave in corrispondenza degli offset dall'inizio chiamando il metodo [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) con UI **ANIMATION \_ \_ KEYFRAME STORYBOARD \_ \_ START.**</span><span class="sxs-lookup"><span data-stu-id="b188f-222">Every storyboard has an implicit keyframe representing the start of the storyboard, [**UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); you can add new keyframes at offsets from the start by calling the [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) method with **UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**.</span></span>

<span data-ttu-id="b188f-223">L'offset in corrispondenza del quale si aggiunge un fotogramma chiave è sempre relativo a un altro fotogramma chiave.</span><span class="sxs-lookup"><span data-stu-id="b188f-223">The offset at which you add a keyframe is always relative to another keyframe.</span></span> <span data-ttu-id="b188f-224">Il diagramma seguente mostra il risultato dell'aggiunta di keyframe1 e della transizione T4, che viene applicata alla variabile Z, allineata a keyframe1 e creata con una durata fissa.</span><span class="sxs-lookup"><span data-stu-id="b188f-224">The following diagram shows the result of adding keyframe1 and transition T4, which is applied to variable Z, aligned with keyframe1, and created with a fixed duration.</span></span> <span data-ttu-id="b188f-225">Naturalmente, poiché le durate delle altre transizioni non sono ancora note, T4 potrebbe non essere l'ultima transizione da completare.</span><span class="sxs-lookup"><span data-stu-id="b188f-225">Of course, because the durations of the other transitions are not yet known, T4 might not be the last transition to finish.</span></span>

![Figura che mostra l'aggiunta di una transizione allineata in corrispondenza di un fotogramma chiave](images/addtransitionatkeyframe.png)

<span data-ttu-id="b188f-227">I fotogrammi chiave possono anche essere posizionati alle estremità delle transizioni usando il metodo [**IUIAnimationStoryboard::AddKeyframeAfterTransition.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition)</span><span class="sxs-lookup"><span data-stu-id="b188f-227">Keyframes can also be placed at the ends of transitions, using the [**IUIAnimationStoryboard::AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) method.</span></span> <span data-ttu-id="b188f-228">Il diagramma seguente mostra il risultato dell'aggiunta di keyframe2 dopo T1 e keyframe3 dopo T2.</span><span class="sxs-lookup"><span data-stu-id="b188f-228">The following diagram shows the result of adding keyframe2 after T1 and keyframe3 after T2.</span></span>

![Illustrazione che mostra l'aggiunta di fotogrammi chiave dopo varie transizioni](images/addkeyframeaftertransition.png)

<span data-ttu-id="b188f-230">Poiché le durate di T1 e T2 non sono note fino alla riproduzione dello storyboard, gli offset di keyframe2 e keyframe3 non vengono determinati fino a quel momento.</span><span class="sxs-lookup"><span data-stu-id="b188f-230">Because the durations of T1 and T2 are not known until the storyboard plays, the offsets of keyframe2 and keyframe3 also are not determined until then.</span></span> <span data-ttu-id="b188f-231">Di conseguenza, keyframe2 e anche keyframe3 possono verificarsi prima di keyframe1.</span><span class="sxs-lookup"><span data-stu-id="b188f-231">Consequently, keyframe2 and even keyframe3 can occur earlier than keyframe1.</span></span>

<span data-ttu-id="b188f-232">Sia l'inizio che la fine di una transizione possono essere allineati ai fotogrammi chiave usando il metodo [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes)</span><span class="sxs-lookup"><span data-stu-id="b188f-232">Both the start and end of a transition can be aligned with keyframes by using the [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) method.</span></span> <span data-ttu-id="b188f-233">Il diagramma seguente mostra il risultato dell'aggiunta di una quinta transizione, T5, sulla variabile Y, tra keyframe2 e keyframe3.</span><span class="sxs-lookup"><span data-stu-id="b188f-233">The following diagram shows the result of adding a fifth transition, T5, on variable Y, between keyframe2 and keyframe3.</span></span> <span data-ttu-id="b188f-234">Ciò modifica la durata di T5, rendendola più lunga o più breve a seconda degli offset relativi di keyframe2 e keyframe3.</span><span class="sxs-lookup"><span data-stu-id="b188f-234">This alters the duration of T5, making it longer or shorter depending on the relative offsets of keyframe2 and keyframe3.</span></span>

![Figura che mostra l'additone di una transizione tra fotogrammi chiave](images/addtransitionbetweenkeyframes.png)

### <a name="holding-variables"></a><span data-ttu-id="b188f-236">Contenere variabili</span><span class="sxs-lookup"><span data-stu-id="b188f-236">Holding Variables</span></span>

<span data-ttu-id="b188f-237">Se T4 termina dopo T2 e T5, lo storyboard interrompe l'animazione delle variabili X e Y, rendendole disponibili per l'animazione degli altri storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-237">If T4 does end after T2 and T5, the storyboard stops animating variables X and Y, making them available for other storyboards to animate.</span></span> <span data-ttu-id="b188f-238">Tuttavia, l'applicazione può chiamare il metodo [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) per richiedere che lo storyboard manteni alcune o tutte le variabili a cui aggiunge un'animazione ai valori finali fino al completamento dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-238">However, the application can call the [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) method to request that the storyboard hold some or all of the variables it animates at their final values until the storyboard has completed.</span></span> <span data-ttu-id="b188f-239">Il diagramma seguente mostra il risultato di mantenere X e Z quando T4 termina per ultimo.</span><span class="sxs-lookup"><span data-stu-id="b188f-239">The following diagram shows the result of holding X and Z when T4 finishes last.</span></span> <span data-ttu-id="b188f-240">Si noti che lo storyboard mantiene X al valore finale fino al completamento dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-240">Notice that the storyboard holds X at its final value until the storyboard has completed.</span></span> <span data-ttu-id="b188f-241">Il blocco non ha alcun effetto su Z perché lo storyboard termina al termine di T4.</span><span class="sxs-lookup"><span data-stu-id="b188f-241">The hold has no effect on Z because the storyboard ends when T4 finishes.</span></span>

![Illustrazione che mostra il controllo delle variabili ai valori finali fino al completamento dello storyboard](images/holdvariable.png)

<span data-ttu-id="b188f-243">Anche se Y non è contenuto in questo storyboard, il relativo valore non cambia dopo il completamento di T5, a meno che non venga animato da un altro storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-243">Even though Y is not held by this storyboard, its value does not change after T5 completes unless another storyboard animates it.</span></span> <span data-ttu-id="b188f-244">Poiché Y non viene mantenuto, qualsiasi altro storyboard, indipendentemente dalla priorità, può animare Y al termine di T5.</span><span class="sxs-lookup"><span data-stu-id="b188f-244">Because Y is not held, any other storyboard, regardless of priority, can animate Y after T5 has finished.</span></span> <span data-ttu-id="b188f-245">Al contrario, poiché X viene mantenuto, uno storyboard con priorità inferiore non può animare X fino al completamento dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-245">In contrast, because X is held, a lower-priority storyboard cannot animate X until this storyboard is finished.</span></span>

<span data-ttu-id="b188f-246">Tutte queste illustrazioni hanno assunto un set arbitrario di valori correnti per le variabili all'avvio della riproduzione dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-246">All of these illustrations have assumed an arbitrary set of current values for the variables when the storyboard starts playing.</span></span> <span data-ttu-id="b188f-247">Se vengono rilevati altri valori, è probabile che le durate delle transizioni sensibili al contesto siano diverse, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="b188f-247">If other values are encountered, the durations of the context-sensitive transitions are likely to be different, as shown in the following illustration.</span></span>

![Figura che mostra il risultato della modifica delle condizioni iniziali usate per l'illustrazione precedente](images/holdvariablez.png)

<span data-ttu-id="b188f-249">In questo scenario, T5 inizia prima del termine di T3 e T3 viene quindi tagliato.</span><span class="sxs-lookup"><span data-stu-id="b188f-249">In this scenario, T5 begins before T3 has finished, and T3 is therefore trimmed.</span></span> <span data-ttu-id="b188f-250">Poiché T4 termina prima di T2 e T5, il valore di Z viene mantenuto fino alla fine dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-250">Because T4 finishes earlier than T2 and T5, the value of Z is held until the end of the storyboard.</span></span> <span data-ttu-id="b188f-251">In generale, i valori e le velocità delle variabili all'avvio della riproduzione di uno storyboard possono influire sull'ordinamento dei fotogrammi chiave e sulla lunghezza e la forma complessive dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-251">In general, the values and velocities of variables when a storyboard starts playing can affect keyframe ordering and the overall length and shape of the storyboard.</span></span>

### <a name="scheduling-a-storyboard"></a><span data-ttu-id="b188f-252">Pianificazione di uno storyboard</span><span class="sxs-lookup"><span data-stu-id="b188f-252">Scheduling a Storyboard</span></span>

<span data-ttu-id="b188f-253">Quando si pianifica uno storyboard, l'ora di inizio è determinata dalla struttura e dalle strutture degli storyboard attualmente nella pianificazione.</span><span class="sxs-lookup"><span data-stu-id="b188f-253">When scheduling a storyboard, its start time is determined by its outline and the outlines of the storyboards that are currently in the schedule.</span></span> <span data-ttu-id="b188f-254">In particolare, il primo e l'ultimo momento in cui lo storyboard aggiunge un'animazione a ogni singola variabile determinano se e quando due storyboard si scontrano, ma i dettagli interni delle transizioni all'interno non sono importanti.</span><span class="sxs-lookup"><span data-stu-id="b188f-254">Specifically, the first and last moments when the storyboard animates each individual variable determine whether and when two storyboards collide, but the internal details of the transitions within are not important.</span></span>

<span data-ttu-id="b188f-255">La figura seguente illustra la struttura di uno storyboard con cinque transizioni che animano tre variabili.</span><span class="sxs-lookup"><span data-stu-id="b188f-255">The following illustration shows the outline of a storyboard with five transitions animating three variables.</span></span>

![Figura che mostra uno storyboard con cinque transizioni che animano tre variabili](images/storyboardwithoutline.png)

<span data-ttu-id="b188f-257">Un elemento fondamentale della piattaforma Windows Animation è il supporto per consentire il completamento di un'animazione prima dell'inizio di un'altra, se necessario.</span><span class="sxs-lookup"><span data-stu-id="b188f-257">A cornerstone of the Windows Animation platform is its support for letting one animation complete before another begins, when necessary.</span></span> <span data-ttu-id="b188f-258">Questa operazione elimina molti problemi logici, ma introduce anche una latenza arbitraria nell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="b188f-258">While this eliminates many logical problems, it also introduces arbitrary latency in the UI.</span></span> <span data-ttu-id="b188f-259">Per risolvere questo problema,  le applicazioni possono specificare il ritardo accettabile più lungo per l'avvio di uno storyboard, usando il metodo [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) e il gestore dell'animazione usa queste informazioni per pianificare lo storyboard prima che sia trascorso il periodo di latenza specificato.</span><span class="sxs-lookup"><span data-stu-id="b188f-259">To address this, applications can specify the *longest acceptable delay* for a storyboard to start, using the [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) method, and the animation manager uses this information to schedule the storyboard before the specified latency period elapses.</span></span> <span data-ttu-id="b188f-260">Quando viene pianificato uno storyboard, il gestore dell'animazione determina se gli altri storyboard devono prima essere annullati, tagliati, conclusi e/o compressi.</span><span class="sxs-lookup"><span data-stu-id="b188f-260">When a storyboard is scheduled, the animation manager determines if other storyboards must first be canceled, trimmed, concluded, and/or compressed.</span></span>

<span data-ttu-id="b188f-261">Un'applicazione può registrare un gestore che verrà chiamato quando cambia lo stato di uno storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-261">An application can register a handler that will be called when a storyboard's status changes.</span></span> <span data-ttu-id="b188f-262">In questo modo l'applicazione può rispondere quando lo storyboard inizia a essere riprodotto, viene eseguito fino al completamento, viene rimosso completamente dalla pianificazione o viene impedito il completamento a causa di un'interruzione di uno storyboard con priorità più alta.</span><span class="sxs-lookup"><span data-stu-id="b188f-262">This enables the application to respond when the storyboard starts playing, runs to completion, is removed entirely from the schedule, or is prevented from completing due to interruption by a higher-priority storyboard.</span></span> <span data-ttu-id="b188f-263">Per identificare gli storyboard passati ai gestori eventi dello storyboard (o confronti di priorità), un'applicazione può usare il metodo [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) per applicare tag agli storyboard, in modo analogo a quelli che possono essere usati per identificare le variabili.</span><span class="sxs-lookup"><span data-stu-id="b188f-263">To identify the storyboards passed to storyboard event handlers (or priority comparisons), an application can use the [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) method to apply tags to storyboards, similar to those that can be used to identify variables.</span></span> <span data-ttu-id="b188f-264">Come per il ri-uso dello storyboard, gli sviluppatori devono prestare attenzione quando usano i tag per identificare gli storyboard e assicurarsi che le ambiguità non si verificano quando le azioni dell'utente comportano l'accodamento di molti storyboard.</span><span class="sxs-lookup"><span data-stu-id="b188f-264">As with storyboard re-use, developers must exercise caution when using tags to identify storyboards, and be sure that ambiguities do not arise when user actions result in many storyboards being queued.</span></span>

<span data-ttu-id="b188f-265">Negli esempi seguenti vengono mostrate due varianti di un tentativo di pianificazione dello storyboard compilato nelle sezioni precedenti di questo argomento.</span><span class="sxs-lookup"><span data-stu-id="b188f-265">The following examples show two variations of an attempt to schedule the storyboard built in the earlier sections of this topic.</span></span>

<span data-ttu-id="b188f-266">In questo scenario sono già stati pianificati sei storyboard, da A a F, per animare le variabili W, X, Y e Z, ma solo A e B hanno iniziato a riprodurre.</span><span class="sxs-lookup"><span data-stu-id="b188f-266">In this scenario, six storyboards, A through F, have already been scheduled to animate variables W, X, Y and Z, but only A and B have started playing.</span></span> <span data-ttu-id="b188f-267">Il nuovo storyboard, con etichetta G, ha il ritardo accettabile più lungo impostato sulla durata illustrata nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="b188f-267">The new storyboard, labeled G, has its longest acceptable delay set to the duration shown in the following illustration.</span></span>

![Figura che mostra l'aggiunta di un nuovo storyboard alla pianificazione esistente](images/existingschedule1withlines.png)

<span data-ttu-id="b188f-269">L'applicazione ha confronti di priorità registrati che includono la logica seguente:</span><span class="sxs-lookup"><span data-stu-id="b188f-269">The application has registered priority comparisons that include the following logic:</span></span>

-   <span data-ttu-id="b188f-270">G può annullare solo C ed E e solo per evitare errori.</span><span class="sxs-lookup"><span data-stu-id="b188f-270">G can cancel only C and E, and only to prevent failure.</span></span>
-   <span data-ttu-id="b188f-271">G può tagliare solo A, C, E e F e solo per evitare errori.</span><span class="sxs-lookup"><span data-stu-id="b188f-271">G can trim only A, C, E and F, and only to prevent failure.</span></span>
-   <span data-ttu-id="b188f-272">Qualsiasi storyboard può comprimere qualsiasi altro storyboard (la compressione viene sempre eseguita solo per evitare errori).</span><span class="sxs-lookup"><span data-stu-id="b188f-272">Any storyboard can compress any other storyboard (compression is always done only to prevent failure).</span></span>

> [!Note]  
> <span data-ttu-id="b188f-273">Il qualificatore "only to prevent failure" indica che i confronti di priorità registrati restituiscono S OK solo quando il \_ *parametro priorityEffect* è **UI ANIMATION PRIORITY EFFECT \_ \_ \_ \_ FAILURE**.</span><span class="sxs-lookup"><span data-stu-id="b188f-273">The qualifier "only to prevent failure" means that the registered priority comparisons return S\_OK only when the *priorityEffect* parameter is **UI\_ANIMATION\_PRIORITY\_EFFECT\_FAILURE**.</span></span> <span data-ttu-id="b188f-274">Per informazioni dettagliate, vedere il metodo [**IUIAnimationPriorityComparison::HasPriority.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority)</span><span class="sxs-lookup"><span data-stu-id="b188f-274">See the [**IUIAnimationPriorityComparison::HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) method for details.</span></span>

 

<span data-ttu-id="b188f-275">Per avviare G prima che sia trascorso il ritardo accettabile più lungo, il gestore dell'animazione deve eseguire le operazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b188f-275">To start G before the longest acceptable delay has elapsed, the animation manager must do the following:</span></span>

-   <span data-ttu-id="b188f-276">Taglia F</span><span class="sxs-lookup"><span data-stu-id="b188f-276">Trim F</span></span>
-   <span data-ttu-id="b188f-277">Annulla E</span><span class="sxs-lookup"><span data-stu-id="b188f-277">Cancel E</span></span>

<span data-ttu-id="b188f-278">Quando E viene annullato, D e F vengono scoperti e vengono ripristinati i contorni originali:</span><span class="sxs-lookup"><span data-stu-id="b188f-278">When E is canceled, D and F are uncovered and revert to their original outlines:</span></span>

![Illustrazione che mostra i contorni originali](images/existingschedule1bwithlines.png)

<span data-ttu-id="b188f-280">Il gestore dell'animazione non deve annullare o tagliare C per pianificare prima che sia trascorso il ritardo accettabile più lungo, quindi la riunione di C e G determina quando inizia G.</span><span class="sxs-lookup"><span data-stu-id="b188f-280">The animation manager does not need to cancel or trim C to schedule before its longest acceptable delay has elapsed, so the meeting of C and G determines when G starts.</span></span>

![Figura che mostra che f viene tagliato per consentire a c e g di soddisfare](images/schedule1withgwithlines.png)

<span data-ttu-id="b188f-282">Dopo che G è stato pianificato correttamente, è possibile determinare la durata delle transizioni e il resto della struttura è quindi noto.</span><span class="sxs-lookup"><span data-stu-id="b188f-282">After G has been successfully scheduled, the durations of its transitions can be determined, and the remainder of its outline is therefore known.</span></span> <span data-ttu-id="b188f-283">Tuttavia, la struttura può cambiare se un altro storyboard viene successivamente rimosso dalla pianificazione.</span><span class="sxs-lookup"><span data-stu-id="b188f-283">However, the outline can change if another storyboard is subsequently removed from the schedule.</span></span>

<span data-ttu-id="b188f-284">Come secondo esempio, si consideri uno scenario simile a quello precedente, ma con un ritardo accettabile più lungo più breve specificato per G.</span><span class="sxs-lookup"><span data-stu-id="b188f-284">As a second example, consider a scenario like that above, but with a shorter longest acceptable delay specified for G.</span></span>

![figura che illustra lo scenario precedente, ma con un ritardo accettabile più lungo più breve per g](images/existingschedule2withlines.png)

<span data-ttu-id="b188f-286">In questo caso, vengono eseguite le azioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b188f-286">In this case, the following actions are taken:</span></span>

-   <span data-ttu-id="b188f-287">Taglia F</span><span class="sxs-lookup"><span data-stu-id="b188f-287">Trim F</span></span>
-   <span data-ttu-id="b188f-288">Annulla E</span><span class="sxs-lookup"><span data-stu-id="b188f-288">Cancel E</span></span>
-   <span data-ttu-id="b188f-289">Annullare C</span><span class="sxs-lookup"><span data-stu-id="b188f-289">Cancel C</span></span>

<span data-ttu-id="b188f-290">Inoltre, il gestore dell'animazione deve comprimere D in base alla quantità indicata per consentire a G di iniziare dopo il ritardo accettabile più lungo e non in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="b188f-290">Also, the animation manager must compress D by the amount shown to enable G to start after its longest acceptable delay, and no later.</span></span>

![Figura che mostra dove deve essere compresso d per consentire a g di iniziare con il ritardo accettabile più lungo](images/trimmedandcancelledwithlines.png)

<span data-ttu-id="b188f-292">Per mantenere la relativa tempistica, vengono compressi anche A, B e F.</span><span class="sxs-lookup"><span data-stu-id="b188f-292">To preserve their relative timing, A, B, and F are compressed as well.</span></span>

![Illustrazione che mostra a, b, d e f compressi](images/schedule2withgwithlines.png)

<span data-ttu-id="b188f-294">Tuttavia, gli storyboard in variabili non correlate (non visualizzate) non vengono compressi.</span><span class="sxs-lookup"><span data-stu-id="b188f-294">However, storyboards on unrelated variables (not shown) would not be compressed.</span></span>

<span data-ttu-id="b188f-295">Ancora una volta, la struttura di G è ora nota ed è diversa dal risultato nel primo scenario perché le variabili hanno valori diversi all'inizio di G.</span><span class="sxs-lookup"><span data-stu-id="b188f-295">Once again, the outline of G is now known and is different from the result in the first scenario because the variables have different values when G begins.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b188f-296">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="b188f-296">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b188f-297">**IUIAnimationManager**</span><span class="sxs-lookup"><span data-stu-id="b188f-297">**IUIAnimationManager**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationmanager)
</dt> <dt>

[<span data-ttu-id="b188f-298">**IUIAnimationPriorityComparison**</span><span class="sxs-lookup"><span data-stu-id="b188f-298">**IUIAnimationPriorityComparison**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationprioritycomparison)
</dt> <dt>

[<span data-ttu-id="b188f-299">**IUIAnimationStoryboard**</span><span class="sxs-lookup"><span data-stu-id="b188f-299">**IUIAnimationStoryboard**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationstoryboard)
</dt> <dt>

[<span data-ttu-id="b188f-300">**IUIAnimationTransitionLibrary**</span><span class="sxs-lookup"><span data-stu-id="b188f-300">**IUIAnimationTransitionLibrary**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)
</dt> </dl>

 

