---
title: Cenni preliminari sull'animazione Windows
description: Questa panoramica fornisce un'introduzione a gestione animazioni Windows e si concentra sui componenti e i concetti chiave.
ms.assetid: de1380c9-6801-4178-9281-a23af7d71d77
keywords:
- Animazione Windows Animation Windows, panoramica
- Animazione Windows oggetti Animation Manager, descritti
- Animazione Windows per variabili di animazione, descrizione
- animazione Windows oggetti timer animazione, descritti
- Animazione di Windows di sistema di temporizzazione
- Animazione Windows Duration sensibile al contesto
- Animazione Windows corrispondente alla velocità
- Animazione di Windows per la gestione dei conflitti
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a60b02b29d8d434cc93420f36c3cdca4428f94c
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104046843"
---
# <a name="windows-animation-overview"></a><span data-ttu-id="068ff-111">Cenni preliminari sull'animazione Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-111">Windows Animation Overview</span></span>

<span data-ttu-id="068ff-112">Questa panoramica fornisce un'introduzione a gestione animazioni Windows e si concentra sui componenti e i concetti chiave.</span><span class="sxs-lookup"><span data-stu-id="068ff-112">This overview provides an introduction to the Windows Animation Manager and focuses on key components and concepts.</span></span> <span data-ttu-id="068ff-113">Per ulteriori informazioni sugli storyboard e le transizioni, vedere [Cenni preliminari sugli storyboard](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="068ff-113">For more information on storyboards and transitions, see [Storyboard Overview](storyboard-construction.md).</span></span>

<span data-ttu-id="068ff-114">In questo argomento sono incluse le sezioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="068ff-114">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="068ff-115">Concetti di base</span><span class="sxs-lookup"><span data-stu-id="068ff-115">Basic Concepts</span></span>](#basic-concepts)
-   [<span data-ttu-id="068ff-116">Componenti dell'animazione Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-116">Components of Windows Animation</span></span>](#components-of-windows-animation)
-   [<span data-ttu-id="068ff-117">API di animazione Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-117">The Windows Animation API</span></span>](#the-windows-animation-api)
-   [<span data-ttu-id="068ff-118">Configurazioni</span><span class="sxs-lookup"><span data-stu-id="068ff-118">Configurations</span></span>](#configurations)
    -   [<span data-ttu-id="068ff-119">Animazione basata su applicazioni</span><span class="sxs-lookup"><span data-stu-id="068ff-119">Application-Driven Animation</span></span>](#application-driven-animation)
    -   [<span data-ttu-id="068ff-120">Animazione basata su timer</span><span class="sxs-lookup"><span data-stu-id="068ff-120">Timer-Driven Animation</span></span>](#timer-driven-animation)
-   [<span data-ttu-id="068ff-121">Funzionalità avanzate</span><span class="sxs-lookup"><span data-stu-id="068ff-121">Advanced Features</span></span>](#advanced-features)
    -   [<span data-ttu-id="068ff-122">Gestione dei conflitti</span><span class="sxs-lookup"><span data-stu-id="068ff-122">Contention Management</span></span>](#contention-management)
-   [<span data-ttu-id="068ff-123">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="068ff-123">Related topics</span></span>](#related-topics)

## <a name="basic-concepts"></a><span data-ttu-id="068ff-124">Concetti di base</span><span class="sxs-lookup"><span data-stu-id="068ff-124">Basic Concepts</span></span>

<span data-ttu-id="068ff-125">L' *animazione* è una sequenza di immagini ancora successive che produce un illusione di spostamento quando viene riprodotto.</span><span class="sxs-lookup"><span data-stu-id="068ff-125">*Animation* is a sequence of successive still images that produces an illusion of movement when played back.</span></span> <span data-ttu-id="068ff-126">L'uso di animazioni interattive nella sua interfaccia utente può fornire a un'applicazione una personalità univoca, oltre a migliorare l'esperienza utente.</span><span class="sxs-lookup"><span data-stu-id="068ff-126">Using interactive animation in its user interface can give an application a unique personality as well as improve the user experience.</span></span> <span data-ttu-id="068ff-127">L'animazione consente di comunicare le principali modifiche di stato nell'interfaccia utente e di gestire la complessità dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="068ff-127">Animation can help to communicate major state changes in the user interface and help to manage the complexity of the user interface.</span></span> <span data-ttu-id="068ff-128">L'animazione può anche aggiungere alla percezione dell'utente della qualità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-128">Animation can also add to the user's perception of the quality of an application.</span></span>

<span data-ttu-id="068ff-129">Come esempio, l'animazione Windows viene utilizzata nella barra delle applicazioni per semplificare la gestione e l'accesso ai file e ai programmi, oltre a una lente di ingrandimento per le diverse parti dello schermo per facilitarne la visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-129">As examples, Windows Animation is used in the taskbar to help you manage and access files and programs, and Magnifier to enlarge different parts of the screen to make them easier for users to see.</span></span>

<span data-ttu-id="068ff-130">Le unità di base di un'animazione sono la caratteristica di un elemento visivo da animare e la descrizione del modo in cui tale caratteristica cambia nel tempo.</span><span class="sxs-lookup"><span data-stu-id="068ff-130">The fundamental units of an animation are the characteristic of a visual element to be animated and the description of how that characteristic changes over time.</span></span> <span data-ttu-id="068ff-131">Un'applicazione può animare un'ampia gamma di caratteristiche, ad esempio la posizione, il colore, la dimensione, la rotazione, il contrasto e l'opacità.</span><span class="sxs-lookup"><span data-stu-id="068ff-131">An application can animate a wide variety of characteristics such as position, color, size, rotation, contrast, and opacity.</span></span>

<span data-ttu-id="068ff-132">Nell'animazione Windows una *variabile di animazione* rappresenta la caratteristica da animare.</span><span class="sxs-lookup"><span data-stu-id="068ff-132">In Windows Animation, an *animation variable* represents the characteristic to be animated.</span></span> <span data-ttu-id="068ff-133">Una *transizione* descrive il modo in cui il valore di tale variabile di animazione cambia quando si verifica l'animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-133">A *transition* describes how the value of that animation variable changes as animation occurs.</span></span> <span data-ttu-id="068ff-134">Ad esempio, un elemento visivo potrebbe avere una variabile di animazione che specifica l'opacità e un'azione dell'utente potrebbe generare una transizione che accetta tale opacità da un valore 50 a 100, che rappresenta un'animazione da semi trasparente a completamente opaca.</span><span class="sxs-lookup"><span data-stu-id="068ff-134">For example, a visual element might have an animation variable that specifies its opacity, and a user action might generate a transition that takes that opacity from a value of 50 to 100, representing an animation from semi-transparent to fully opaque.</span></span>

<span data-ttu-id="068ff-135">Uno *storyboard* è un set di transizioni applicato a una o più variabili di animazione nel tempo.</span><span class="sxs-lookup"><span data-stu-id="068ff-135">A *storyboard* is a set of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="068ff-136">Un'applicazione consente di visualizzare le animazioni creando e riproducendo gli storyboard e quindi creando sequenze di fotogrammi discreti quando i valori delle variabili di animazione cambiano nel tempo.</span><span class="sxs-lookup"><span data-stu-id="068ff-136">An application displays animations by constructing and playing storyboards and then drawing sequences of discrete frames as the values of animation variables change over time.</span></span>

## <a name="components-of-windows-animation"></a><span data-ttu-id="068ff-137">Componenti dell'animazione Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-137">Components of Windows Animation</span></span>

<span data-ttu-id="068ff-138">L'animazione Windows è costituita dai componenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="068ff-138">Windows Animation consists of the following components:</span></span>

<dl> <dt>

<span data-ttu-id="068ff-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>Gestione animazioni</span><span class="sxs-lookup"><span data-stu-id="068ff-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>animation manager</span></span>
</dt> <dd>

<span data-ttu-id="068ff-140">Le applicazioni utilizzano un oggetto Gestione animazioni per creare variabili di animazione e storyboard, animazioni di pianificazione e controllo e aggiornare le informazioni sullo stato prima che l'applicazione disegni ogni frame.</span><span class="sxs-lookup"><span data-stu-id="068ff-140">Applications use an animation manager object to create animation variables and storyboards, schedule and control animations, and update state information before the application draws each frame.</span></span> <span data-ttu-id="068ff-141">Un singolo oggetto di gestione animazioni gestisce in genere tutte le animazioni in un'applicazione e pertanto dispone di un controllo globale su tutti gli storyboard pianificati.</span><span class="sxs-lookup"><span data-stu-id="068ff-141">A single animation manager object typically manages all animations across an application and therefore has global control over all scheduled storyboards.</span></span>

</dd> <dt>

<span data-ttu-id="068ff-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>variabili di animazione</span><span class="sxs-lookup"><span data-stu-id="068ff-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>animation variables</span></span>
</dt> <dd>

<span data-ttu-id="068ff-143">Prima di avviare qualsiasi animazione, un'applicazione deve creare oggetti variabile di animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-143">Before starting any animations, an application needs to create animation variable objects.</span></span> <span data-ttu-id="068ff-144">Una variabile di animazione rappresenta un aspetto di un elemento visivo da animare.</span><span class="sxs-lookup"><span data-stu-id="068ff-144">An animation variable represents one aspect of a visual element to be animated.</span></span> <span data-ttu-id="068ff-145">La variabile è un valore a virgola mobile scalare, anche se il valore può essere arrotondato a un valore integer.</span><span class="sxs-lookup"><span data-stu-id="068ff-145">The variable is a scalar floating-point value, although the value can be rounded to an integer value.</span></span>

<span data-ttu-id="068ff-146">Una variabile di animazione ha in genere la stessa durata dell'elemento visivo a cui aggiungere un'animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-146">An animation variable typically has the same lifetime as the visual element it is to animate.</span></span> <span data-ttu-id="068ff-147">Il valore iniziale di una variabile di animazione viene specificato al momento della creazione della variabile.</span><span class="sxs-lookup"><span data-stu-id="068ff-147">The initial value of an animation variable is specified when the variable is created.</span></span> <span data-ttu-id="068ff-148">Successivamente, il suo valore non può essere modificato direttamente. deve essere aggiornato tramite Gestione animazioni.</span><span class="sxs-lookup"><span data-stu-id="068ff-148">Thereafter, its value cannot be changed directly; it must be updated through the animation manager.</span></span>

<span data-ttu-id="068ff-149">Una variabile di animazione può essere identificata da un *tag*, ovvero un abbinamento di un identificatore di tipo integer con un puntatore a un oggetto com.</span><span class="sxs-lookup"><span data-stu-id="068ff-149">An animation variable can be identified by a *tag*, which is a pairing of an integer identifier with a pointer to a COM object.</span></span> <span data-ttu-id="068ff-150">Un tag non deve essere univoco, a meno che non venga usato dall'applicazione per cercare una variabile.</span><span class="sxs-lookup"><span data-stu-id="068ff-150">A tag need not be unique, unless the application uses it to search for a variable.</span></span> <span data-ttu-id="068ff-151">Per impostazione predefinita, una variabile di animazione non dispone di un tag e tutti i tentativi di lettura del tag avranno esito negativo fino a quando non ne viene impostata una.</span><span class="sxs-lookup"><span data-stu-id="068ff-151">By default, an animation variable does not have a tag, and any attempts to read its tag will fail until one has been set.</span></span>

</dd> <dt>

<span data-ttu-id="068ff-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>sistema di temporizzazione</span><span class="sxs-lookup"><span data-stu-id="068ff-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>timing system</span></span>
</dt> <dd>

<span data-ttu-id="068ff-153">L'animazione Windows include un sistema di temporizzazione che consente di garantire il rendering delle animazioni a una frequenza dei fotogrammi uniforme e coerente, riducendo al tempo stesso l'utilizzo delle risorse di sistema per il rendering quando il sistema è occupato.</span><span class="sxs-lookup"><span data-stu-id="068ff-153">Windows Animation includes a timing system that helps to ensure that animations are rendered at a frame rate that is smooth and consistent, while also reducing the use of system resources for rendering when the system is busy.</span></span> <span data-ttu-id="068ff-154">Un *timer* consente di gestire il rendering dell'animazione indicando automaticamente il passaggio di una piccola unità di tempo, denominata *segno* di indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-154">A *timer* helps to manage animation rendering by automatically indicating the passage of a small unit of time, called a *tick*.</span></span> <span data-ttu-id="068ff-155">Il sistema di temporizzazione monitora le prestazioni complessive di rendering del *sistema e limita* le animazioni aumentando o diminuendo in modo dinamico la frequenza dei cicli.</span><span class="sxs-lookup"><span data-stu-id="068ff-155">The timing system monitors overall system rendering performance and *throttles* animations by dynamically increasing or decreasing the frequency of ticks.</span></span> <span data-ttu-id="068ff-156">Le applicazioni possono consentire a un timer di guidare gestione animazioni ed è possibile registrare un gestore per ricevere una notifica prima e dopo l'aggiornamento del Manager per ogni ciclo.</span><span class="sxs-lookup"><span data-stu-id="068ff-156">Applications can let a timer drive the animation manager and can register a handler to be notified before and after the manager is updated for each tick.</span></span> <span data-ttu-id="068ff-157">Le applicazioni possono specificare la frequenza minima dei fotogrammi di animazione accettabile per un timer e ricevere una notifica se la frequenza dei fotogrammi effettiva di un'animazione scende al di sotto di questa frequenza.</span><span class="sxs-lookup"><span data-stu-id="068ff-157">Applications can specify the minimum acceptable animation frame rate for a timer and be notified if an animation's actual frame rate falls below this rate.</span></span>

<span data-ttu-id="068ff-158">Per conservare le risorse di sistema, è possibile configurare un timer per disabilitarsi quando non viene eseguita alcuna animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-158">To conserve system resources, a timer can be configured to disable itself when no animation is taking place.</span></span>

</dd> </dl>

## <a name="the-windows-animation-api"></a><span data-ttu-id="068ff-159">API di animazione Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-159">The Windows Animation API</span></span>

<span data-ttu-id="068ff-160">L'API di animazione di Windows è un'API basata su COM a thread singolo che fornisce le funzionalità seguenti per gli sviluppatori:</span><span class="sxs-lookup"><span data-stu-id="068ff-160">The Windows Animation API is a single-threaded COM-based API that provides the following features for developers:</span></span>

-   <span data-ttu-id="068ff-161">Oggetto Gestione animazioni, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), per la creazione di oggetti animazione e il controllo delle animazioni</span><span class="sxs-lookup"><span data-stu-id="068ff-161">An animation manager object, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), for creating animation objects and controlling animations</span></span>
-   <span data-ttu-id="068ff-162">Variabili di animazione e storyboard</span><span class="sxs-lookup"><span data-stu-id="068ff-162">Animation variables and storyboards</span></span>
-   <span data-ttu-id="068ff-163">Una libreria di base, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), di transizioni pronte per l'uso</span><span class="sxs-lookup"><span data-stu-id="068ff-163">A foundational library, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), of ready-to-use transitions</span></span>
-   <span data-ttu-id="068ff-164">Oggetto timer, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), per determinare l'ora corrente e, facoltativamente, per la guida dell'animazione</span><span class="sxs-lookup"><span data-stu-id="068ff-164">A timer object, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), for determining the current time and, optionally, for driving animation</span></span>
-   <span data-ttu-id="068ff-165">Hook di eventi per il monitoraggio dello stato e dello stato di avanzamento dell'animazione</span><span class="sxs-lookup"><span data-stu-id="068ff-165">Event hooks for monitoring the state and progress of animation</span></span>

<span data-ttu-id="068ff-166">Per informazioni di riferimento complete sulle API, vedere informazioni di [riferimento sull'animazione di Windows](windows-animation-reference.md).</span><span class="sxs-lookup"><span data-stu-id="068ff-166">For the complete API reference, see [Windows Animation Reference](windows-animation-reference.md).</span></span> <span data-ttu-id="068ff-167">Per un esempio di codice, vedere [attività di animazione Windows](using-windows-animation.md) e [esempi di animazioni di Windows](windows-animation-samples.md).</span><span class="sxs-lookup"><span data-stu-id="068ff-167">For example code, see [Windows Animation Tasks](using-windows-animation.md) and [Windows Animation Samples](windows-animation-samples.md).</span></span>

## <a name="configurations"></a><span data-ttu-id="068ff-168">Configurazioni</span><span class="sxs-lookup"><span data-stu-id="068ff-168">Configurations</span></span>

<span data-ttu-id="068ff-169">Le applicazioni devono ottenere l'ora corrente prima di pianificare una nuova animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-169">Applications must get the current time before scheduling a new animation.</span></span> <span data-ttu-id="068ff-170">Di seguito sono riportati i meccanismi di temporizzazione supportati dall'animazione Windows:</span><span class="sxs-lookup"><span data-stu-id="068ff-170">The following are the timing mechanisms supported by Windows Animation:</span></span>

-   [<span data-ttu-id="068ff-171">Animazione basata su applicazioni</span><span class="sxs-lookup"><span data-stu-id="068ff-171">Application-Driven Animation</span></span>](#application-driven-animation)
-   [<span data-ttu-id="068ff-172">Animazione basata su timer</span><span class="sxs-lookup"><span data-stu-id="068ff-172">Timer-Driven Animation</span></span>](#timer-driven-animation)

### <a name="application-driven-animation"></a><span data-ttu-id="068ff-173">Animazione Application-Driven</span><span class="sxs-lookup"><span data-stu-id="068ff-173">Application-Driven Animation</span></span>

<span data-ttu-id="068ff-174">Le applicazioni che usano un'API grafica con accelerazione hardware possono essere sincronizzate con la frequenza di aggiornamento del monitor per eseguire il rendering di animazioni Smooth.</span><span class="sxs-lookup"><span data-stu-id="068ff-174">Applications using a hardware-accelerated graphics API can synchronize with the monitor refresh rate to render smooth animations.</span></span> <span data-ttu-id="068ff-175">In alternativa, un'applicazione può utilizzare un meccanismo di temporizzazione autonomo per determinare quando creare ogni frame di un'animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-175">Alternately, an application may use a timing mechanism of its own to determine when to draw each frame of an animation.</span></span> <span data-ttu-id="068ff-176">In entrambi i casi, l'applicazione indica al gestore dell'animazione quando aggiornare il proprio stato.</span><span class="sxs-lookup"><span data-stu-id="068ff-176">In either case, the application will tell the animation manager when to update its state.</span></span> <span data-ttu-id="068ff-177">Un timer di animazione può comunque essere utilizzato per determinare l'ora corrente con precisione elevata, nelle unità richieste da Gestione animazioni.</span><span class="sxs-lookup"><span data-stu-id="068ff-177">An animation timer can still be used to determine the current time with high precision, in the units required by the animation manager.</span></span>

<span data-ttu-id="068ff-178">Nel diagramma seguente vengono illustrate le interazioni tra un'applicazione e i componenti di animazione di Windows quando l'applicazione conduce direttamente gli aggiornamenti dell'animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-178">The following diagram shows the interactions between an application and the Windows Animation components when the application is driving animation updates directly.</span></span>

![diagramma che mostra le interazioni tra un'applicazione e i componenti di animazione di Windows quando l'applicazione conduce direttamente gli aggiornamenti dell'animazione.](images/animationupdates.png)

<span data-ttu-id="068ff-180">Nella configurazione più semplice, un'applicazione ridisegnirà tutti gli elementi ogni volta che lo schermo viene aggiornato, anche quando nessuna animazione viene riprodotta.</span><span class="sxs-lookup"><span data-stu-id="068ff-180">In the simplest configuration, an application will redraw everything every time the screen is refreshed, even when no animations are playing.</span></span> <span data-ttu-id="068ff-181">Per evitare il lavoro sprecato, un'applicazione può registrare un gestore eventi di gestione per ricevere una notifica in caso di animazioni pianificate e può rilevare quando la pianificazione è vuota, in modo che possa arrestare il ridisegno.</span><span class="sxs-lookup"><span data-stu-id="068ff-181">To avoid wasted work, an application can register a manager event handler to be notified when there are animations scheduled, and can detect when the schedule is empty so that it can stop redrawing.</span></span>

### <a name="timer-driven-animation"></a><span data-ttu-id="068ff-182">Animazione Timer-Driven</span><span class="sxs-lookup"><span data-stu-id="068ff-182">Timer-Driven Animation</span></span>

<span data-ttu-id="068ff-183">Anziché aggiornare direttamente gestione animazioni, le applicazioni possono consentire al timer di animazione di indicare al gestore delle animazioni quando aggiornare il proprio stato e ricevere una notifica solo quando si è verificato ogni aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="068ff-183">Rather than updating the animation manager directly, applications may let the animation timer tell the animation manager when to update its state, and simply be notified when each update has taken place.</span></span> <span data-ttu-id="068ff-184">Questo approccio è consigliato per le API grafiche precedenti.</span><span class="sxs-lookup"><span data-stu-id="068ff-184">This approach is recommended for older graphics APIs.</span></span> <span data-ttu-id="068ff-185">In generale, se è possibile eseguire la sincronizzazione con la frequenza di aggiornamento del monitoraggio, è preferibile usare un'animazione basata sull'applicazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-185">In general, if it is possible to synchronize with the monitor refresh rate, it is better to do so and use application-driven animation.</span></span>

<span data-ttu-id="068ff-186">Nel diagramma seguente vengono illustrate le interazioni tra un'applicazione e i componenti di animazione Windows quando il timer di animazione sta guidando gli aggiornamenti dell'animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-186">The following diagram shows the interactions between an application and the Windows Animation components when the animation timer is driving animation updates.</span></span>

![diagramma che mostra le interazioni tra un'applicazione e i componenti di animazione Windows quando il timer di animazione sta guidando gli aggiornamenti dell'animazione.](images/animationtimerupdates.png)

<span data-ttu-id="068ff-188">Il timer può essere configurato per l'esecuzione solo quando le animazioni sono pianificate; in questo modo è semplice passare un determinato parametro quando il timer e il gestore animazione sono connessi.</span><span class="sxs-lookup"><span data-stu-id="068ff-188">The timer can be configured to run only when the animations are scheduled; doing so is a simple matter of passing a particular parameter when the timer and animation manager are connected.</span></span>

## <a name="advanced-features"></a><span data-ttu-id="068ff-189">Funzionalità avanzate</span><span class="sxs-lookup"><span data-stu-id="068ff-189">Advanced Features</span></span>

<span data-ttu-id="068ff-190">Oltre a una base di base per supportare l'animazione, l'animazione Windows include il supporto per diverse tecniche di animazione avanzate, tra cui:</span><span class="sxs-lookup"><span data-stu-id="068ff-190">Beyond a basic foundation to support animation, Windows Animation includes support for several advanced animation techniques, including:</span></span>

<dl> <dt>

<span data-ttu-id="068ff-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*durata sensibile al contesto*</span><span class="sxs-lookup"><span data-stu-id="068ff-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*context-sensitive duration*</span></span>
</dt> <dd>

<span data-ttu-id="068ff-192">Non è necessario correggere la durata di una transizione. può essere determinato in base al valore e alla velocità della variabile animata all'inizio della transizione.</span><span class="sxs-lookup"><span data-stu-id="068ff-192">The duration of a transition need not be fixed; it can be determined based on the value and velocity of the animated variable when the transition begins.</span></span>

</dd> <dt>

<span data-ttu-id="068ff-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*corrispondenza velocità*</span><span class="sxs-lookup"><span data-stu-id="068ff-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*velocity matching*</span></span>
</dt> <dd>

<span data-ttu-id="068ff-194">Lo spostamento è in genere più gradevole se la posizione e la velocità di un oggetto in movimento non passano immediatamente tra i valori.</span><span class="sxs-lookup"><span data-stu-id="068ff-194">Movement is generally more pleasing to the eye if a moving object's position and velocity do not jump instantaneously between values.</span></span> <span data-ttu-id="068ff-195">Quando un nuovo storyboard ne interrompe uno attualmente in riproduzione, la corrispondenza della velocità consente al nuovo storyboard di prelevare senza problemi la posizione in cui è terminata la prima.</span><span class="sxs-lookup"><span data-stu-id="068ff-195">When a new storyboard interrupts one that is currently playing, velocity matching enables the new storyboard to pick up smoothly where the previous one ended.</span></span>

</dd> <dt>

<span data-ttu-id="068ff-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*gestione dei conflitti*</span><span class="sxs-lookup"><span data-stu-id="068ff-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*contention management*</span></span>
</dt> <dd>

<span data-ttu-id="068ff-197">Se due storyboard devono aggiornare contemporaneamente la stessa variabile di animazione, si verificherà un conflitto di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-197">If two storyboards need to update the same animation variable simultaneously, a scheduling conflict occurs.</span></span> <span data-ttu-id="068ff-198">Anziché richiedere una specifica priorità numerica per ogni Storyboard, l'animazione Windows consente all'applicazione di determinare le priorità relative di due storyboard.</span><span class="sxs-lookup"><span data-stu-id="068ff-198">Rather than requiring a specific numeric priority for each storyboard, Windows Animation enables the application to determine the relative priorities of any two storyboards.</span></span>

</dd> </dl>

### <a name="contention-management"></a><span data-ttu-id="068ff-199">Gestione dei conflitti</span><span class="sxs-lookup"><span data-stu-id="068ff-199">Contention Management</span></span>

<span data-ttu-id="068ff-200">Gli sviluppatori possono implementare un callback di *confronto prioritario* per confrontare la priorità dello storyboard di pianificato e lo storyboard già presente nella pianificazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-200">Developers can implement a *priority comparison* callback to compare the priority of the storyboard of being scheduled and the storyboard that is already in the schedule.</span></span> <span data-ttu-id="068ff-201">Un'applicazione che implementa un confronto di priorità può usare qualsiasi logica preferita per determinare quando uno storyboard previene un altro.</span><span class="sxs-lookup"><span data-stu-id="068ff-201">An application implementing a priority comparison can use any preferred logic to determine when a storyboard pre-empts another.</span></span> <span data-ttu-id="068ff-202">Per risolvere il conflitto di pianificazione, l'animazione Windows chiede all'applicazione quali di queste azioni possono essere eseguite nell'ordine seguente:</span><span class="sxs-lookup"><span data-stu-id="068ff-202">To resolve the scheduling conflict, Windows Animation asks the application which of these actions may be taken, in the following order:</span></span>

-   <span data-ttu-id="068ff-203">**Annulla lo storyboard pianificato.**</span><span class="sxs-lookup"><span data-stu-id="068ff-203">**Cancel the scheduled storyboard.**</span></span> <span data-ttu-id="068ff-204">Se lo storyboard pianificato non è ancora stato avviato, è possibile che venga annullato e immediatamente rimosso dalla pianificazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-204">If the scheduled storyboard has not yet started to play, it might be canceled and immediately removed from the schedule.</span></span>
-   <span data-ttu-id="068ff-205">**Tagliare lo storyboard pianificato.**</span><span class="sxs-lookup"><span data-stu-id="068ff-205">**Trim the scheduled storyboard.**</span></span> <span data-ttu-id="068ff-206">Quando un nuovo storyboard taglia uno storyboard pianificato, lo storyboard pianificato smette di influenzare la variabile non appena il nuovo storyboard inizia ad animarlo.</span><span class="sxs-lookup"><span data-stu-id="068ff-206">When a new storyboard trims a scheduled storyboard, the scheduled storyboard ceases to affect the variable as soon as the new storyboard begins to animate it.</span></span> <span data-ttu-id="068ff-207">Viene stabilita una corrispondenza tra le velocità, consentendo al nuovo storyboard di selezionare senza problemi la posizione precedente.</span><span class="sxs-lookup"><span data-stu-id="068ff-207">The velocities are matched, enabling the new storyboard to pick up smoothly where the previous one left off.</span></span>
-   <span data-ttu-id="068ff-208">**Concludere lo storyboard pianificato.**</span><span class="sxs-lookup"><span data-stu-id="068ff-208">**Conclude the scheduled storyboard.**</span></span> <span data-ttu-id="068ff-209">È possibile concludere uno storyboard solo se contiene un ciclo che si ripete per un periodo illimitato.</span><span class="sxs-lookup"><span data-stu-id="068ff-209">A storyboard may be concluded only if it contains a loop that repeats indefinitely.</span></span> <span data-ttu-id="068ff-210">Se lo storyboard si trova in un ciclo di questo tipo quando viene terminato, la ripetizione corrente viene completata e il resto dello storyboard viene quindi riprodotto.</span><span class="sxs-lookup"><span data-stu-id="068ff-210">If the storyboard is in such a loop when concluded, the current repetition completes, and the remainder of the storyboard then plays.</span></span> <span data-ttu-id="068ff-211">Se il ciclo non è ancora iniziato quando si conclude uno storyboard, il ciclo viene ignorato completamente.</span><span class="sxs-lookup"><span data-stu-id="068ff-211">If the loop has not yet begun when a storyboard is concluded, the loop is skipped entirely.</span></span>
-   <span data-ttu-id="068ff-212">**Comprime lo storyboard pianificato.**</span><span class="sxs-lookup"><span data-stu-id="068ff-212">**Compress the scheduled storyboard.**</span></span> <span data-ttu-id="068ff-213">Se l'operazione di taglio o annullamento dello storyboard pianificato non è un'opzione, è consentita l'esecuzione dello storyboard.</span><span class="sxs-lookup"><span data-stu-id="068ff-213">If trimming or canceling the scheduled storyboard is not an option, the storyboard is allowed to complete.</span></span> <span data-ttu-id="068ff-214">L'animazione Windows introduce la possibilità di comprimere il tempo disponibile per lo storyboard pianificato (e gli eventuali storyboard pianificati prima), in modo che le variabili raggiungano lo stato finale più rapidamente.</span><span class="sxs-lookup"><span data-stu-id="068ff-214">Windows Animation introduces the possibility of compressing the time available for the scheduled storyboard (and any storyboards scheduled before it), so the variables reach their final state more quickly.</span></span> <span data-ttu-id="068ff-215">Quando viene applicata la compressione, l'ora è temporaneamente accelerata per gli storyboard interessati, quindi la riproduzione viene eseguita più velocemente.</span><span class="sxs-lookup"><span data-stu-id="068ff-215">When compression is applied, time is temporarily accelerated for affected storyboards, so they play faster.</span></span>

<span data-ttu-id="068ff-216">Se nessuna delle azioni precedenti è consentita dagli oggetti di confronto di priorità registrati, il tentativo di pianificare il nuovo storyboard ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="068ff-216">If none of the above actions is allowed by the registered priority comparison objects, the attempt to schedule the new storyboard fails.</span></span> <span data-ttu-id="068ff-217">Per impostazione predefinita, tutti gli storyboard possono essere tagliati, conclusi o compressi per evitare errori, ma nessuno può essere annullato.</span><span class="sxs-lookup"><span data-stu-id="068ff-217">By default, all storyboards can be trimmed, concluded, or compressed to prevent failure, but none can be canceled.</span></span>

<span data-ttu-id="068ff-218">Il diagramma seguente mostra il ciclo di vita di uno storyboard, usando gli stati definiti dall' [**enumerazione \_ \_ \_ dello stato dello storyboard dell'animazione dell'interfaccia utente**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) .</span><span class="sxs-lookup"><span data-stu-id="068ff-218">The following diagram shows the life cycle of a storyboard, using the states defined by the [**UI\_ANIMATION\_STORYBOARD\_STATUS**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) enumeration.</span></span> <span data-ttu-id="068ff-219">Le applicazioni utilizzano l'API di animazione Windows per creare uno storyboard e inviarlo per la pianificazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-219">Applications use the Windows Animation API to build a storyboard and submit it for scheduling.</span></span> <span data-ttu-id="068ff-220">Gestione animazioni pianifica lo storyboard e gestisce l'animazione.</span><span class="sxs-lookup"><span data-stu-id="068ff-220">The animation manager schedules the storyboard and manages the animation.</span></span>

![diagramma che illustra in che modo Gestione animazioni pianifica lo storyboard e gestisce l'animazione.](images/statediagram.png)

<span data-ttu-id="068ff-222">Per ulteriori informazioni sulla pianificazione e sulla gestione degli storyboard, vedere [Cenni preliminari sugli storyboard](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="068ff-222">For more information on storyboard scheduling and management, see [Storyboard Overview](storyboard-construction.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="068ff-223">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="068ff-223">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="068ff-224">Informazioni di riferimento sull'animazione Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-224">Windows Animation Reference</span></span>](windows-animation-reference.md)
</dt> <dt>

[<span data-ttu-id="068ff-225">Esempi di animazioni Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-225">Windows Animation Samples</span></span>](windows-animation-samples.md)
</dt> <dt>

[<span data-ttu-id="068ff-226">Attività di animazione Windows</span><span class="sxs-lookup"><span data-stu-id="068ff-226">Windows Animation Tasks</span></span>](using-windows-animation.md)
</dt> </dl>

 

 