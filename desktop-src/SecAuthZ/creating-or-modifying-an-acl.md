---
description: Windows supporta un set di funzioni che creano un elenco di controllo di accesso (ACL) o modificano le voci di controllo di accesso (ACE) in un ACL esistente.
ms.assetid: 71301aab-1040-4f61-855f-2b891c8b6077
title: Creazione o modifica di un ACL
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a0deb72bcd1a1c805dd8524027601952dda0eac1
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103879890"
---
# <a name="creating-or-modifying-an-acl"></a><span data-ttu-id="b9073-103">Creazione o modifica di un ACL</span><span class="sxs-lookup"><span data-stu-id="b9073-103">Creating or Modifying an ACL</span></span>

<span data-ttu-id="b9073-104">Windows supporta un set di funzioni che creano un [*elenco di controllo di accesso*](/windows/desktop/SecGloss/a-gly) (ACL) o modificano le [*voci di controllo di accesso*](/windows/desktop/SecGloss/a-gly) (ACE) in un ACL esistente.</span><span class="sxs-lookup"><span data-stu-id="b9073-104">Windows supports a set of functions that create an [*access control list*](/windows/desktop/SecGloss/a-gly) (ACL) or modify the [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs) in an existing ACL.</span></span>

<span data-ttu-id="b9073-105">La funzione [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) crea un nuovo ACL.</span><span class="sxs-lookup"><span data-stu-id="b9073-105">The [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) function creates a new ACL.</span></span> <span data-ttu-id="b9073-106">**SetEntriesInAcl** può specificare un set completamente nuovo di ACE per l'ACL oppure può unire una o più nuove voci ACE con le voci ACE di un ACL esistente.</span><span class="sxs-lookup"><span data-stu-id="b9073-106">**SetEntriesInAcl** can specify a completely new set of ACEs for the ACL, or it can merge one or more new ACEs with the ACEs of an existing ACL.</span></span> <span data-ttu-id="b9073-107">La funzione **SetEntriesInAcl** usa una matrice di strutture di [**\_ accesso esplicite**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) per specificare le informazioni per le nuove voci ACE.</span><span class="sxs-lookup"><span data-stu-id="b9073-107">The **SetEntriesInAcl** function uses an array of [**EXPLICIT\_ACCESS**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) structures to specify the information for the new ACEs.</span></span> <span data-ttu-id="b9073-108">Ogni struttura di **\_ accesso esplicita** contiene informazioni che descrivono una singola voce ACE.</span><span class="sxs-lookup"><span data-stu-id="b9073-108">Each **EXPLICIT\_ACCESS** structure contains information that describes a single ACE.</span></span> <span data-ttu-id="b9073-109">Queste informazioni includono i diritti di accesso, il tipo di ACE, i flag che controllano l'ereditarietà ACE e una struttura [**trustee**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) che identifica il trustee.</span><span class="sxs-lookup"><span data-stu-id="b9073-109">This information includes the access rights, the type of ACE, the flags that control ACE inheritance, and a [**TRUSTEE**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) structure that identifies the trustee.</span></span>

<span data-ttu-id="b9073-110">**Per aggiungere una nuova voce ACE a un ACL esistente**</span><span class="sxs-lookup"><span data-stu-id="b9073-110">**To add a new ACE to an existing ACL**</span></span>

1.  <span data-ttu-id="b9073-111">Utilizzare la funzione [**GetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getsecurityinfo) o [**GetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getnamedsecurityinfoa) per ottenere l'elenco DACL o SACL esistente dal [*descrittore di sicurezza*](/windows/desktop/SecGloss/s-gly)di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="b9073-111">Use the [**GetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getsecurityinfo) or [**GetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getnamedsecurityinfoa) function to get the existing DACL or SACL from an object's [*security descriptor*](/windows/desktop/SecGloss/s-gly).</span></span>
2.  <span data-ttu-id="b9073-112">Per ogni nuova voce ACE, chiamare la funzione [**BuildExplicitAccessWithName**](/windows/desktop/api/Aclapi/nf-aclapi-buildexplicitaccesswithnamea) per riempire una struttura di [**\_ accesso esplicita**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) con le informazioni che descrivono la voce ACE.</span><span class="sxs-lookup"><span data-stu-id="b9073-112">For each new ACE, call the [**BuildExplicitAccessWithName**](/windows/desktop/api/Aclapi/nf-aclapi-buildexplicitaccesswithnamea) function to fill an [**EXPLICIT\_ACCESS**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) structure with the information that describes the ACE.</span></span>
3.  <span data-ttu-id="b9073-113">Chiamare [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla), specificando l'ACL esistente e una matrice di strutture di [**\_ accesso esplicite**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) per le nuove voci ACE.</span><span class="sxs-lookup"><span data-stu-id="b9073-113">Call [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla), specifying the existing ACL and an array of [**EXPLICIT\_ACCESS**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) structures for the new ACEs.</span></span> <span data-ttu-id="b9073-114">La funzione **SetEntriesInAcl** alloca e Inizializza l'ACL e le relative voci ACE.</span><span class="sxs-lookup"><span data-stu-id="b9073-114">The **SetEntriesInAcl** function allocates and initializes the ACL and its ACEs.</span></span>
4.  <span data-ttu-id="b9073-115">Chiamare la funzione [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) o [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) per allegare il nuovo ACL al descrittore di sicurezza dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="b9073-115">Call the [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) or [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) function to attach the new ACL to the object's security descriptor.</span></span>

<span data-ttu-id="b9073-116">Se il chiamante specifica un ACL esistente, [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) unisce le nuove informazioni ACE con le voci ACE esistenti nell'ACL.</span><span class="sxs-lookup"><span data-stu-id="b9073-116">If the caller specifies an existing ACL, [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) merges the new ACE information with the existing ACEs in the ACL.</span></span> <span data-ttu-id="b9073-117">Si consideri, ad esempio, il caso in cui l'ACL esistente concede l'accesso a un trustee specificato e una struttura di [**\_ accesso esplicita**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) nega l'accesso allo stesso trustee.</span><span class="sxs-lookup"><span data-stu-id="b9073-117">Consider the case, for example, in which the existing ACL grants access to a specified trustee and an [**EXPLICIT\_ACCESS**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) structure denies access to the same trustee.</span></span> <span data-ttu-id="b9073-118">In questo caso, **SetEntriesInAcl** aggiunge una nuova voce ACE di accesso negato per il trustee ed Elimina o modifica l'ACE esistente consentito per l'accesso al trustee.</span><span class="sxs-lookup"><span data-stu-id="b9073-118">In this case, **SetEntriesInAcl** adds a new access-denied ACE for the trustee and deletes or modifies the existing access-allowed ACE for the trustee.</span></span>

<span data-ttu-id="b9073-119">Per il codice di esempio che unisce una nuova voce ACE in un ACL esistente, vedere [modifica degli ACL di un oggetto in C++](modifying-the-acls-of-an-object-in-c--.md).</span><span class="sxs-lookup"><span data-stu-id="b9073-119">For sample code that merges a new ACE into an existing ACL, see [Modifying the ACLs of an Object in C++](modifying-the-acls-of-an-object-in-c--.md).</span></span>

 

 
