---
description: Fornisce un meccanismo per controllare l'accesso agli oggetti a protezione diretta.
ms.assetid: 5923cb4c-f663-40d2-989a-07d71ac475db
title: Controllo di integrità delle credenziali
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c184ba01da0a55309fcb27ace9b0fe156edd6425
ms.sourcegitcommit: 4570ac533e129ff88b23f2c2b69e0140ead3a4a4
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/26/2021
ms.locfileid: "106334035"
---
# <a name="mandatory-integrity-control"></a><span data-ttu-id="0d147-103">Controllo di integrità delle credenziali</span><span class="sxs-lookup"><span data-stu-id="0d147-103">Mandatory Integrity Control</span></span>

<span data-ttu-id="0d147-104">Controllo di integrità delle credenziali (MIC) fornisce un meccanismo per controllare l'accesso agli oggetti a protezione diretta.</span><span class="sxs-lookup"><span data-stu-id="0d147-104">Mandatory Integrity Control (MIC) provides a mechanism for controlling access to securable objects.</span></span> <span data-ttu-id="0d147-105">Questo meccanismo è in aggiunta al controllo di accesso discrezionale e valuta l'accesso prima che vengano valutati i controlli di accesso per l' [*elenco di controllo di accesso discrezionale*](/windows/desktop/SecGloss/d-gly) (DACL) di un oggetto.</span><span class="sxs-lookup"><span data-stu-id="0d147-105">This mechanism is in addition to discretionary access control and evaluates access before access checks against an object's [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL) are evaluated.</span></span>

<span data-ttu-id="0d147-106">MIC usa i livelli di integrità e i criteri obbligatori per valutare l'accesso.</span><span class="sxs-lookup"><span data-stu-id="0d147-106">MIC uses integrity levels and mandatory policy to evaluate access.</span></span> <span data-ttu-id="0d147-107">Alle [*entità di sicurezza*](/windows/desktop/SecGloss/s-gly) e agli oggetti a protezione diretta vengono assegnati livelli di integrità che ne determinano i livelli di protezione o di accesso.</span><span class="sxs-lookup"><span data-stu-id="0d147-107">[*Security principals*](/windows/desktop/SecGloss/s-gly) and securable objects are assigned integrity levels that determine their levels of protection or access.</span></span> <span data-ttu-id="0d147-108">Ad esempio, un'entità con un livello di integrità basso non può scrivere in un oggetto con un livello di integrità medio, anche se il DACL dell'oggetto consente l'accesso in scrittura al server principale.</span><span class="sxs-lookup"><span data-stu-id="0d147-108">For example, a principal with a low integrity level cannot write to an object with a medium integrity level, even if that object's DACL allows write access to the principal.</span></span>

<span data-ttu-id="0d147-109">Windows definisce quattro livelli di integrità: bassa, media, alta e sistema.</span><span class="sxs-lookup"><span data-stu-id="0d147-109">Windows defines four integrity levels: low, medium, high, and system.</span></span> <span data-ttu-id="0d147-110">Gli utenti standard ricevono un elevato livello di supporto per gli utenti con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="0d147-110">Standard users receive medium, elevated users receive high.</span></span> <span data-ttu-id="0d147-111">I processi avviati e gli oggetti creati ricevono il livello di integrità (medio o alto) o basso se il livello del file eseguibile è basso. i servizi di sistema ricevono l'integrità del sistema.</span><span class="sxs-lookup"><span data-stu-id="0d147-111">Processes you start and objects you create receive your integrity level (medium or high) or low if the executable file's level is low; system services receive system integrity.</span></span> <span data-ttu-id="0d147-112">Gli oggetti che non dispongono di un'etichetta di integrità vengono considerati medi dal sistema operativo; in questo modo si impedisce che il codice a bassa integrità modifichi gli oggetti senza etichetta.</span><span class="sxs-lookup"><span data-stu-id="0d147-112">Objects that lack an integrity label are treated as medium by the operating system; this prevents low-integrity code from modifying unlabeled objects.</span></span> <span data-ttu-id="0d147-113">Windows garantisce inoltre che i processi in esecuzione con un livello di integrità basso non possano ottenere l'accesso a un processo associato a un contenitore di app.</span><span class="sxs-lookup"><span data-stu-id="0d147-113">Additionally, Windows ensures that processes running with a low integrity level cannot obtain access to a process which is associated with an app container.</span></span>

## <a name="integrity-labels"></a><span data-ttu-id="0d147-114">Etichette di integrità</span><span class="sxs-lookup"><span data-stu-id="0d147-114">Integrity Labels</span></span>

<span data-ttu-id="0d147-115">Le etichette di integrità specificano i livelli di integrità degli oggetti a protezione diretta e delle entità di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="0d147-115">Integrity labels specify the integrity levels of securable objects and security principals.</span></span> <span data-ttu-id="0d147-116">Le etichette di integrità sono rappresentate da [*SID di integrità*](/windows/desktop/SecGloss/i-gly).</span><span class="sxs-lookup"><span data-stu-id="0d147-116">Integrity labels are represented by [*integrity SIDs*](/windows/desktop/SecGloss/i-gly).</span></span> <span data-ttu-id="0d147-117">Il SID di integrità per un oggetto a protezione diretta è archiviato nel relativo [*elenco di controllo di accesso di sistema*](/windows/desktop/SecGloss/s-gly) (SACL).</span><span class="sxs-lookup"><span data-stu-id="0d147-117">The integrity SID for a securable object is stored in its [*system access control list*](/windows/desktop/SecGloss/s-gly) (SACL).</span></span> <span data-ttu-id="0d147-118">L'elenco di [*controllo di accesso*](/windows/desktop/SecGloss/a-gly) contiene un' [**\_ \_ etichetta obbligatoria \_ di sistema**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) ACE che a sua volta contiene il SID di integrità.</span><span class="sxs-lookup"><span data-stu-id="0d147-118">The SACL contains a [**SYSTEM\_MANDATORY\_LABEL\_ACE**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) [*access control entry*](/windows/desktop/SecGloss/a-gly) (ACE) that in turn contains the integrity SID.</span></span> <span data-ttu-id="0d147-119">Qualsiasi oggetto senza un SID di integrità viene considerato come se avesse una media integrità.</span><span class="sxs-lookup"><span data-stu-id="0d147-119">Any object without an integrity SID is treated as if it had medium integrity.</span></span>

<span data-ttu-id="0d147-120">Il SID di integrità per un'entità di sicurezza viene archiviato nel relativo token di accesso.</span><span class="sxs-lookup"><span data-stu-id="0d147-120">The integrity SID for a security principal is stored in its access token.</span></span> <span data-ttu-id="0d147-121">Un token di accesso può contenere uno o più SID di integrità.</span><span class="sxs-lookup"><span data-stu-id="0d147-121">An access token may contain one or more integrity SIDs.</span></span>

<span data-ttu-id="0d147-122">Per informazioni dettagliate sui SID di integrità definiti, vedere [SID noti](well-known-sids.md).</span><span class="sxs-lookup"><span data-stu-id="0d147-122">For detailed information about the defined integrity SIDs, see [Well-known SIDs](well-known-sids.md).</span></span>

## <a name="process-creation"></a><span data-ttu-id="0d147-123">Creazione di processi</span><span class="sxs-lookup"><span data-stu-id="0d147-123">Process Creation</span></span>

<span data-ttu-id="0d147-124">Quando un utente tenta di avviare un file eseguibile, il nuovo processo viene creato con il livello di integrità utente minimo e il livello di integrità del file.</span><span class="sxs-lookup"><span data-stu-id="0d147-124">When a user attempts to launch an executable file, the new process is created with the minimum of the user integrity level and the file integrity level.</span></span> <span data-ttu-id="0d147-125">Ciò significa che il nuovo processo non verrà mai eseguito con un livello di integrità superiore rispetto a quello del file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="0d147-125">This means that the new process will never execute with higher integrity than the executable file.</span></span> <span data-ttu-id="0d147-126">Se l'utente amministratore esegue un programma con integrità bassa, il token per il nuovo processo funziona con il livello di integrità basso.</span><span class="sxs-lookup"><span data-stu-id="0d147-126">If the administrator user executes a low integrity program, the token for the new process functions with the low integrity level.</span></span> <span data-ttu-id="0d147-127">Ciò consente di proteggere un utente che avvia codice non attendibile da azioni dannose eseguite da tale codice.</span><span class="sxs-lookup"><span data-stu-id="0d147-127">This helps protect a user who launches untrustworthy code from malicious acts performed by that code.</span></span> <span data-ttu-id="0d147-128">I dati utente, che si trova al livello di integrità utente tipico, sono protetti da scrittura per questo nuovo processo.</span><span class="sxs-lookup"><span data-stu-id="0d147-128">The user data, which is at the typical user integrity level, is write-protected against this new process.</span></span>

## <a name="mandatory-policy"></a><span data-ttu-id="0d147-129">Criterio obbligatorio</span><span class="sxs-lookup"><span data-stu-id="0d147-129">Mandatory Policy</span></span>

<span data-ttu-id="0d147-130">La [**voce \_ \_ \_ ACE ACE obbligatoria del sistema**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) nell'elenco SACL di un oggetto a protezione diretta contiene una maschera di accesso che specifica l'accesso a cui vengono concesse le entità con livelli di integrità inferiori a quelli dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="0d147-130">The [**SYSTEM\_MANDATORY\_LABEL\_ACE**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) ACE in the SACL of a securable object contains an access mask that specifies the access that principals with integrity levels lower than the object are granted.</span></span> <span data-ttu-id="0d147-131">I valori definiti per questa maschera di accesso **sono \_ etichetta obbligatoria del sistema \_ \_ Nessuna \_ \_** operazione di scrittura, **\_ etichetta obbligatoria del sistema \_ \_ Nessuna \_ lettura \_** e **\_ etichetta obbligatoria del sistema \_ \_ Nessuna \_ esecuzione \_**.</span><span class="sxs-lookup"><span data-stu-id="0d147-131">The values defined for this access mask are **SYSTEM\_MANDATORY\_LABEL\_NO\_WRITE\_UP**, **SYSTEM\_MANDATORY\_LABEL\_NO\_READ\_UP**, and **SYSTEM\_MANDATORY\_LABEL\_NO\_EXECUTE\_UP**.</span></span> <span data-ttu-id="0d147-132">Per impostazione predefinita, il sistema crea ogni oggetto con una maschera di accesso dell' **etichetta del sistema \_ obbligatoria \_ \_ senza \_ scrittura \_**.</span><span class="sxs-lookup"><span data-stu-id="0d147-132">By default, the system creates every object with an access mask of **SYSTEM\_MANDATORY\_LABEL\_NO\_WRITE\_UP**.</span></span>

<span data-ttu-id="0d147-133">Ogni token di accesso specifica anche un criterio obbligatorio impostato dall'autorità di [*sicurezza locale*](/windows/desktop/SecGloss/l-gly) (LSA) al momento della creazione del token.</span><span class="sxs-lookup"><span data-stu-id="0d147-133">Every access token also specifies a mandatory policy that is set by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) when the token is created.</span></span> <span data-ttu-id="0d147-134">Questo criterio è specificato da una struttura di [**\_ \_ criteri obbligatoria del token**](/windows/desktop/api/Winnt/ns-winnt-token_mandatory_policy) associata al token.</span><span class="sxs-lookup"><span data-stu-id="0d147-134">This policy is specified by a [**TOKEN\_MANDATORY\_POLICY**](/windows/desktop/api/Winnt/ns-winnt-token_mandatory_policy) structure associated with the token.</span></span> <span data-ttu-id="0d147-135">È possibile eseguire una query su questa struttura chiamando la funzione [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) con il valore del parametro *TokenInformationClass* impostato su **TokenMandatoryPolicy**.</span><span class="sxs-lookup"><span data-stu-id="0d147-135">This structure can be queried by calling the [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) function with the value of the *TokenInformationClass* parameter set to **TokenMandatoryPolicy**.</span></span>

 

 
