---
description: Le funzioni SetNamedSecurityInfo e SetSecurityInfo supportano la propagazione automatica di voci di controllo di accesso (ACE) ereditabili.
ms.assetid: 0aa49b9b-13e3-4ef9-921d-ea47a013e5a1
title: Propagazione automatica di ACE ereditabili
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8fab03c73a1c926468e46a0d0492e512dab42af6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104234336"
---
# <a name="automatic-propagation-of-inheritable-aces"></a><span data-ttu-id="47487-103">Propagazione automatica di ACE ereditabili</span><span class="sxs-lookup"><span data-stu-id="47487-103">Automatic Propagation of Inheritable ACEs</span></span>

<span data-ttu-id="47487-104">Le funzioni [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) e [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) supportano la propagazione automatica di [*voci di controllo di accesso*](/windows/desktop/SecGloss/a-gly) (ACE) ereditabili.</span><span class="sxs-lookup"><span data-stu-id="47487-104">The [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) and [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) functions support automatic propagation of inheritable [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs).</span></span> <span data-ttu-id="47487-105">Se ad esempio si usano queste funzioni per aggiungere una voce ACE ereditabile a una directory in NTFS, il sistema applica la voce ACE in modo appropriato agli [*elenchi di controllo di accesso*](/windows/desktop/SecGloss/a-gly) (ACL) di eventuali sottodirectory o file esistenti.</span><span class="sxs-lookup"><span data-stu-id="47487-105">For example, if you use these functions to add an inheritable ACE to a directory in an NTFS, the system applies the ACE as appropriate to the [*access control lists*](/windows/desktop/SecGloss/a-gly) (ACLs) of any existing subdirectories or files.</span></span>

<span data-ttu-id="47487-106">Le voci ACE applicate direttamente hanno la precedenza sulle voci ACE ereditate.</span><span class="sxs-lookup"><span data-stu-id="47487-106">Directly applied ACEs have precedence over inherited ACEs.</span></span> <span data-ttu-id="47487-107">Il sistema implementa questa precedenza inserendo le voci ACE applicate direttamente in avanti rispetto alle voci ACE ereditate in un [*elenco di controllo di accesso discrezionale*](/windows/desktop/SecGloss/d-gly) (DACL).</span><span class="sxs-lookup"><span data-stu-id="47487-107">The system implements this precedence by placing directly applied ACEs ahead of inherited ACEs in a [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL).</span></span> <span data-ttu-id="47487-108">Quando si chiamano le funzioni [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) e [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) per impostare le informazioni di sicurezza di un oggetto, il sistema impone il modello di ereditarietà corrente sugli ACL di tutti gli oggetti nella gerarchia sotto l'oggetto di destinazione.</span><span class="sxs-lookup"><span data-stu-id="47487-108">When you call the [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) and [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) functions to set the security information of an object, the system imposes the current inheritance model on the ACLs of all objects in the hierarchy below the target object.</span></span> <span data-ttu-id="47487-109">Per gli oggetti che sono stati convertiti nel modello di ereditarietà corrente, i bit ereditati automaticamente di SE \_ DACL \_ e il \_ \_ SACL \_ automatico \_ ereditati vengono impostati nel campo del controllo del [*descrittore di sicurezza*](/windows/desktop/SecGloss/s-gly) dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="47487-109">For objects that have been converted to the current inheritance model, the SE\_DACL\_AUTO\_INHERITED and SE\_SACL\_AUTO\_INHERITED bits are set in the control field of the [*security descriptor*](/windows/desktop/SecGloss/s-gly) of the object.</span></span>

<span data-ttu-id="47487-110">Quando si compila un nuovo descrittore di sicurezza che riflette il modello di ereditarietà corrente, è necessario non modificare la semantica del descrittore di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="47487-110">When you build a new security descriptor that reflects the current inheritance model, care is taken not to change the semantics of the security descriptor.</span></span> <span data-ttu-id="47487-111">Di conseguenza, le voci ACE Allow e Deny non vengono mai spostate in relazione tra loro.</span><span class="sxs-lookup"><span data-stu-id="47487-111">As such, allow and deny ACEs are never moved in relation to one another.</span></span> <span data-ttu-id="47487-112">Se questo movimento è necessario, ad esempio per inserire tutte le voci ACE non ereditate all'inizio di un ACL, l'ACL viene contrassegnato come protetto per evitare la modifica semantica.</span><span class="sxs-lookup"><span data-stu-id="47487-112">If such movement is needed (for instance to place all noninherited ACEs at the front of an ACL), the ACL is marked as protected to prevent the semantic change.</span></span>

<span data-ttu-id="47487-113">Il sistema usa le regole seguenti per la propagazione delle voci ACE ereditate agli oggetti figlio:</span><span class="sxs-lookup"><span data-stu-id="47487-113">The system uses the following rules when propagating inherited ACEs to child objects:</span></span>

-   <span data-ttu-id="47487-114">Se un oggetto figlio senza DACL eredita una voce ACE, il risultato è un oggetto figlio con un DACL che contiene solo la voce ACE ereditata.</span><span class="sxs-lookup"><span data-stu-id="47487-114">If a child object with no DACL inherits an ACE, the result is a child object with a DACL that contains only the inherited ACE.</span></span>
-   <span data-ttu-id="47487-115">Se un oggetto figlio con un DACL vuoto eredita una voce ACE, il risultato è un oggetto figlio con un DACL che contiene solo la voce ACE ereditata.</span><span class="sxs-lookup"><span data-stu-id="47487-115">If a child object with an empty DACL inherits an ACE, the result is a child object with a DACL that contains only the inherited ACE.</span></span>
-   <span data-ttu-id="47487-116">Se si rimuove una voce ACE ereditabile da un oggetto padre, l'ereditarietà automatica rimuove tutte le copie della voce ACE ereditate dagli oggetti figlio.</span><span class="sxs-lookup"><span data-stu-id="47487-116">If you remove an inheritable ACE from a parent object, automatic inheritance removes any copies of the ACE that were inherited by child objects.</span></span>
-   <span data-ttu-id="47487-117">Se l'ereditarietà automatica comporta la rimozione di tutte le voci ACE dall'elenco DACL di un oggetto figlio, l'oggetto figlio ha un DACL vuoto anziché un DACL.</span><span class="sxs-lookup"><span data-stu-id="47487-117">If automatic inheritance results in the removal of all ACEs from the DACL of a child object, the child object has an empty DACL rather than no DACL.</span></span>

<span data-ttu-id="47487-118">Queste regole possono avere il risultato imprevisto della conversione di un oggetto senza DACL in un oggetto con un DACL vuoto.</span><span class="sxs-lookup"><span data-stu-id="47487-118">These rules can have the unexpected result of converting an object with no DACL to an object with an empty DACL.</span></span> <span data-ttu-id="47487-119">Un oggetto senza DACL consente l'accesso completo, ma un oggetto con un DACL vuoto non consente l'accesso.</span><span class="sxs-lookup"><span data-stu-id="47487-119">An object with no DACL allows full access, but an object with an empty DACL allows no access.</span></span> <span data-ttu-id="47487-120">Come esempio di come queste regole possano creare un DACL vuoto, si supponga di aggiungere una voce ACE ereditabile all'oggetto radice di un albero di oggetti.</span><span class="sxs-lookup"><span data-stu-id="47487-120">As an example of how these rules can create an empty DACL, suppose you add an inheritable ACE to the root object of a tree of objects.</span></span> <span data-ttu-id="47487-121">L'ereditarietà automatica propaga la voce ACE ereditabile a tutti gli oggetti nell'albero.</span><span class="sxs-lookup"><span data-stu-id="47487-121">Automatic inheritance propagates the inheritable ACE to all the objects in the tree.</span></span> <span data-ttu-id="47487-122">Gli oggetti figlio che iniziano senza DACL ora hanno un DACL con la voce ACE ereditata.</span><span class="sxs-lookup"><span data-stu-id="47487-122">Child objects that started with no DACL now have a DACL with the inherited ACE.</span></span> <span data-ttu-id="47487-123">Se si rimuove la voce ACE ereditabile dall'oggetto radice, il sistema propaga automaticamente la modifica agli oggetti figlio.</span><span class="sxs-lookup"><span data-stu-id="47487-123">If you remove the inheritable ACE from the root object, the system automatically propagates the change to the child objects.</span></span> <span data-ttu-id="47487-124">Gli oggetti figlio che iniziano senza DACL (che consentono l'accesso completo) ora hanno un DACL vuoto (che non consente l'accesso).</span><span class="sxs-lookup"><span data-stu-id="47487-124">Child objects that started with no DACL (allowing full access) now have an empty DACL (allowing no access).</span></span>

<span data-ttu-id="47487-125">Per assicurarsi che un oggetto figlio senza DACL non sia influenzato dalle voci ACE ereditabili, impostare il \_ flag se DACL \_ protected nel descrittore di sicurezza dell'oggetto.</span><span class="sxs-lookup"><span data-stu-id="47487-125">To ensure that a child object with no DACL is not affected by inheritable ACEs, set the SE\_DACL\_PROTECTED flag in the security descriptor of the object.</span></span>

<span data-ttu-id="47487-126">Per informazioni su come creare correttamente un DACL, vedere [creazione di un DACL](/windows/desktop/SecBP/creating-a-dacl).</span><span class="sxs-lookup"><span data-stu-id="47487-126">For information about how to properly create a DACL, see [Creating a DACL](/windows/desktop/SecBP/creating-a-dacl).</span></span>

 

 
