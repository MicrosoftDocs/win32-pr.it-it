---
title: Informazioni sulle icone
description: In questo argomento vengono illustrate le icone.
ms.assetid: 67867460-07f6-460f-9263-05bbf3474744
keywords:
- risorse, icone
- icone, aree sensibili
- icone, standard
- Icone standard
- icone, personalizzate
- icone personalizzate
- icone, dimensioni
- creazione di icone
- icone, visualizzazione
- icone, distruzione
- icone, duplicazione
- icone, creazione
- visualizzazione di icone
- eliminazione di icone
- duplicazione delle icone
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4bda00540d613b6d0efd4a080251ebd6407560ed
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "104337302"
---
# <a name="about-icons"></a><span data-ttu-id="1f9ba-118">Informazioni sulle icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-118">About Icons</span></span>

<span data-ttu-id="1f9ba-119">Il sistema utilizza le icone nell'interfaccia utente per rappresentare oggetti quali file, cartelle, collegamenti, applicazioni e documenti.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-119">The system uses icons throughout the user interface to represent objects such as files, folders, shortcuts, applications, and documents.</span></span> <span data-ttu-id="1f9ba-120">Le funzioni icona consentono alle applicazioni di creare, caricare, visualizzare, disporre, animare ed eliminare le icone.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-120">The icon functions enable applications to create, load, display, arrange, animate, and destroy icons.</span></span> <span data-ttu-id="1f9ba-121">Per informazioni sulla specifica delle icone per i tipi di file, vedere [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona).</span><span class="sxs-lookup"><span data-stu-id="1f9ba-121">For information on specifying icons for file types, see [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona).</span></span>

<span data-ttu-id="1f9ba-122">In questa panoramica vengono fornite informazioni sui seguenti argomenti:</span><span class="sxs-lookup"><span data-stu-id="1f9ba-122">This overview provides information on the following topics:</span></span>

-   [<span data-ttu-id="1f9ba-123">Icona sensibile</span><span class="sxs-lookup"><span data-stu-id="1f9ba-123">Icon Hot Spot</span></span>](#icon-hot-spot)
-   [<span data-ttu-id="1f9ba-124">Tipi di icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-124">Icon Types</span></span>](#icon-types)
-   [<span data-ttu-id="1f9ba-125">Dimensioni delle icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-125">Icon Sizes</span></span>](#icon-sizes)
    -   [<span data-ttu-id="1f9ba-126">Per modificare le dimensioni dell'icona di sistema Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-126">To change the size of the system small icon</span></span>](#to-change-the-size-of-the-system-small-icon)
    -   [<span data-ttu-id="1f9ba-127">Per recuperare le dimensioni dell'icona di sistema Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-127">To retrieve the size of the system small icon</span></span>](#to-retrieve-the-size-of-the-system-small-icon)
    -   [<span data-ttu-id="1f9ba-128">Per recuperare le dimensioni dell'icona di sistema large</span><span class="sxs-lookup"><span data-stu-id="1f9ba-128">To retrieve the size of the system large icon</span></span>](#to-retrieve-the-size-of-the-system-large-icon)
    -   [<span data-ttu-id="1f9ba-129">Per recuperare le dimensioni dell'icona della shell Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-129">To retrieve the size of the shell small icon</span></span>](#to-retrieve-the-size-of-the-shell-small-icon)
    -   [<span data-ttu-id="1f9ba-130">Per modificare le dimensioni dell'icona grande</span><span class="sxs-lookup"><span data-stu-id="1f9ba-130">To change the size of the large icon</span></span>](#to-change-the-size-of-the-large-icon)
    -   [<span data-ttu-id="1f9ba-131">Per recuperare la dimensione dell'icona della shell grande</span><span class="sxs-lookup"><span data-stu-id="1f9ba-131">To retrieve the size of the shell large icon</span></span>](#to-retrieve-the-size-of-the-shell-large-icon)
-   [<span data-ttu-id="1f9ba-132">Creazione di icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-132">Icon Creation</span></span>](#icon-creation)
-   [<span data-ttu-id="1f9ba-133">Visualizzazione icona</span><span class="sxs-lookup"><span data-stu-id="1f9ba-133">Icon Display</span></span>](#icon-display)
-   [<span data-ttu-id="1f9ba-134">Icona di distruzione</span><span class="sxs-lookup"><span data-stu-id="1f9ba-134">Icon Destruction</span></span>](#icon-destruction)
-   [<span data-ttu-id="1f9ba-135">Duplicazione delle icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-135">Icon Duplication</span></span>](#icon-duplication)

## <a name="icon-hot-spot"></a><span data-ttu-id="1f9ba-136">Icona sensibile</span><span class="sxs-lookup"><span data-stu-id="1f9ba-136">Icon Hot Spot</span></span>

<span data-ttu-id="1f9ba-137">Uno dei pixel in un'icona viene designato come area [sensibile, ovvero](#icon-hot-spot)il punto in cui il sistema tiene traccia e riconosce come posizione dell'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-137">One of the pixels in an icon is designated as the [hot spot](#icon-hot-spot), which is the point the system tracks and recognizes as the position of the icon.</span></span> <span data-ttu-id="1f9ba-138">L'area sensibile di un'icona è in genere il pixel che si trova al centro dell'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-138">An icon's hot spot is typically the pixel located at the center of the icon.</span></span> <span data-ttu-id="1f9ba-139">Se si usa la funzione [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) per creare un'icona, è possibile specificare qualsiasi pixel come area sensibile.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-139">If you use the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function to create an icon, you can specify any pixel to be the hot spot.</span></span>

## <a name="icon-types"></a><span data-ttu-id="1f9ba-140">Tipi di icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-140">Icon Types</span></span>

<span data-ttu-id="1f9ba-141">Il sistema operativo fornisce un set di *icone standard* disponibili per qualsiasi applicazione da usare in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-141">The operating system provides a set of *standard icons* that are available for any application to use at any time.</span></span> <span data-ttu-id="1f9ba-142">I file di intestazione Software Development Kit (SDK) contengono gli identificatori per le icone standard, mentre gli identificatori iniziano con il prefisso **Idi \_** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-142">The software development kit (SDK) header files contain identifiers for the standard icons—the identifiers begin with the **IDI\_** prefix.</span></span>

<span data-ttu-id="1f9ba-143">A ogni icona standard è associata un'immagine predefinita corrispondente.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-143">Each standard icon has a corresponding default image associated with it.</span></span> <span data-ttu-id="1f9ba-144">L'utente può sostituire l'immagine predefinita associata a qualsiasi cursore standard in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-144">The user can replace the default image associated with any standard cursor at any time.</span></span>

<span data-ttu-id="1f9ba-145">Le *icone personalizzate* sono progettate per essere utilizzate in un'applicazione specifica e possono essere qualsiasi progettazione.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-145">*Custom icons* are designed for use in a particular application and can be any design.</span></span> <span data-ttu-id="1f9ba-146">Di seguito sono riportate diverse icone personalizzate.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-146">Following are several custom icons.</span></span>

![diverse icone personalizzate](images/csicn-02.png)

## <a name="icon-sizes"></a><span data-ttu-id="1f9ba-148">Dimensioni delle icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-148">Icon Sizes</span></span>

<span data-ttu-id="1f9ba-149">Il sistema utilizza quattro dimensioni delle icone:</span><span class="sxs-lookup"><span data-stu-id="1f9ba-149">The system uses four icon sizes:</span></span>

-   <span data-ttu-id="1f9ba-150">Sistema Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-150">System small</span></span>
-   <span data-ttu-id="1f9ba-151">Sistema di grandi dimensioni</span><span class="sxs-lookup"><span data-stu-id="1f9ba-151">System large</span></span>
-   <span data-ttu-id="1f9ba-152">Shell Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-152">Shell small</span></span>
-   <span data-ttu-id="1f9ba-153">Shell grande</span><span class="sxs-lookup"><span data-stu-id="1f9ba-153">Shell large</span></span>

<span data-ttu-id="1f9ba-154">L' *icona di sistema Small* viene visualizzata nella didascalia della finestra.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-154">The *system small icon* is displayed in the window caption.</span></span>

### <a name="to-change-the-size-of-the-system-small-icon"></a><span data-ttu-id="1f9ba-155">Per modificare le dimensioni dell'icona di sistema Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-155">To change the size of the system small icon</span></span>

1.  <span data-ttu-id="1f9ba-156">Nel pannello di controllo fare clic su **Visualizza**, quindi sulla scheda **aspetto** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-156">From Control Panel, click **Display**, then click the **Appearance** tab.</span></span>
2.  <span data-ttu-id="1f9ba-157">Selezionare i **pulsanti didascalia** dall'elenco **elemento** , quindi impostare il campo **dimensioni** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-157">Select **Caption Buttons** from the **Item** list, then set the **Size** field.</span></span>

### <a name="to-retrieve-the-size-of-the-system-small-icon"></a><span data-ttu-id="1f9ba-158">Per recuperare le dimensioni dell'icona di sistema Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-158">To retrieve the size of the system small icon</span></span>

-   <span data-ttu-id="1f9ba-159">Chiamare la funzione [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) con **SM \_ CXSMICON** e **SM \_ CYSMICON**.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-159">Call the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function with **SM\_CXSMICON** and **SM\_CYSMICON**.</span></span>

<span data-ttu-id="1f9ba-160">L' *icona di sistema grande* viene utilizzata principalmente dalle applicazioni, ma viene visualizzata anche nella finestra di dialogo ALT + TAB.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-160">The *system large icon* is mainly used by applications, but it is also displayed in the Alt+Tab dialog.</span></span> <span data-ttu-id="1f9ba-161">Le funzioni [**CreateIconFromResource**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresource), [**DrawIcon**](/windows/desktop/api/Winuser/nf-winuser-drawicon), [**ExtractAssociatedIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extractassociatedicona), [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona), [**ExtractIconEx**](/windows/desktop/api/Shellapi/nf-shellapi-extracticonexa)e [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) usano tutte le icone di sistema di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-161">The [**CreateIconFromResource**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresource), [**DrawIcon**](/windows/desktop/api/Winuser/nf-winuser-drawicon), [**ExtractAssociatedIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extractassociatedicona), [**ExtractIcon**](/windows/desktop/api/Shellapi/nf-shellapi-extracticona), [**ExtractIconEx**](/windows/desktop/api/Shellapi/nf-shellapi-extracticonexa), and [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) functions all use system large icons.</span></span> <span data-ttu-id="1f9ba-162">La dimensione dell'icona di sistema grande è definita dal driver video, pertanto non può essere modificata.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-162">The size of the system large icon is defined by the video driver, therefore it cannot be changed.</span></span>

### <a name="to-retrieve-the-size-of-the-system-large-icon"></a><span data-ttu-id="1f9ba-163">Per recuperare le dimensioni dell'icona di sistema large</span><span class="sxs-lookup"><span data-stu-id="1f9ba-163">To retrieve the size of the system large icon</span></span>

-   <span data-ttu-id="1f9ba-164">Chiamare [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) con **SM \_ CXICON** e **SM \_ CYICON**.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-164">Call [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) with **SM\_CXICON** and **SM\_CYICON**.</span></span>

<span data-ttu-id="1f9ba-165">È possibile usare le funzioni [**CreateIcon**](/windows/desktop/api/Winuser/nf-winuser-createicon), [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex), [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect)e [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) per lavorare con icone in dimensioni diverse dal sistema di grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-165">The [**CreateIcon**](/windows/desktop/api/Winuser/nf-winuser-createicon), [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex), [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect), and [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) functions can be used to work with icons in sizes other than system large.</span></span>

<span data-ttu-id="1f9ba-166">L' *icona shell Small* viene utilizzata in Esplora risorse e nelle finestre di dialogo comuni.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-166">The *shell small icon* is used in the Windows Explorer and the common dialogs.</span></span> <span data-ttu-id="1f9ba-167">Attualmente, per impostazione predefinita il sistema è di dimensioni ridotte.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-167">Currently, this defaults to the system small size.</span></span>

### <a name="to-retrieve-the-size-of-the-shell-small-icon"></a><span data-ttu-id="1f9ba-168">Per recuperare le dimensioni dell'icona della shell Small</span><span class="sxs-lookup"><span data-stu-id="1f9ba-168">To retrieve the size of the shell small icon</span></span>

1.  <span data-ttu-id="1f9ba-169">Utilizzare la funzione [SHGetFileInfo](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) con `SHGFI_SHELLICONSIZE | SHGFI_SMALLICON` per recuperare un handle per l'elenco di immagini di sistema.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-169">Use the [SHGetFileInfo](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) function with `SHGFI_SHELLICONSIZE | SHGFI_SMALLICON` to retrieve a handle to the system image list.</span></span>
2.  <span data-ttu-id="1f9ba-170">Chiamare quindi la funzione [**ImageList \_ GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) per ottenere le dimensioni dell'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-170">Then call the [**ImageList\_GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) function to get the icon size.</span></span>

<span data-ttu-id="1f9ba-171">L'icona shell grande viene usata sul desktop.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-171">The shell large icon is used on the desktop.</span></span>

### <a name="to-change-the-size-of-the-large-icon"></a><span data-ttu-id="1f9ba-172">Per modificare le dimensioni dell'icona grande</span><span class="sxs-lookup"><span data-stu-id="1f9ba-172">To change the size of the large icon</span></span>

1.  <span data-ttu-id="1f9ba-173">Nel pannello di controllo fare clic su **Visualizza**, quindi sulla scheda **aspetto** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-173">From Control Panel , click **Display**, then click the **Appearance** tab,</span></span>
2.  <span data-ttu-id="1f9ba-174">Selezionare l' **icona** dall'elenco di **elementi** , quindi impostare il campo **dimensione** (questa dimensione viene archiviata nel registro di sistema, in **HKEY \_ Current \_ User \\ Control Panel, desktop \\ WindowMetrics \\ Shell Icon Size**).</span><span class="sxs-lookup"><span data-stu-id="1f9ba-174">Select **Icon** from the **Item** list, then set the **Size** field (this size is stored in the registry, under **HKEY\_CURRENT\_USER\\Control Panel, Desktop\\WindowMetrics\\Shell Icon Size**).</span></span>
3.  <span data-ttu-id="1f9ba-175">Fare clic su **Plus**</span><span class="sxs-lookup"><span data-stu-id="1f9ba-175">Click the **Plus!**</span></span> <span data-ttu-id="1f9ba-176">, quindi selezionare la casella di controllo **Usa icone grandi** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-176">tab and then select the **Use Large Icons** check box.</span></span>

### <a name="to-retrieve-the-size-of-the-shell-large-icon"></a><span data-ttu-id="1f9ba-177">Per recuperare la dimensione dell'icona della shell grande</span><span class="sxs-lookup"><span data-stu-id="1f9ba-177">To retrieve the size of the shell large icon</span></span>

1.  <span data-ttu-id="1f9ba-178">Usare la funzione [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) con **SHGFI \_ SHELLICONSIZE** per recuperare un handle per l'elenco di immagini di sistema.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-178">Use the [**SHGetFileInfo**](/windows/win32/api/shellapi/nf-shellapi-shgetfileinfoa) function with **SHGFI\_SHELLICONSIZE** to retrieve a handle to the system image list.</span></span>
2.  <span data-ttu-id="1f9ba-179">Chiamare quindi la funzione [**ImageList \_ GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) per ottenere le dimensioni dell'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-179">Then call the [**ImageList\_GetIconSize**](/windows/win32/api/commctrl/nf-commctrl-imagelist_geticonsize) function to get the icon size.</span></span>

<span data-ttu-id="1f9ba-180">Il menu Start usa le icone Shell Small o Shell large, a seconda che sia selezionata la casella di controllo **Usa icone grandi** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-180">The Start menu uses either shell small icons or shell large icons, depending on whether the **Use Large Icons** check box is selected.</span></span>

<span data-ttu-id="1f9ba-181">L'applicazione deve fornire gruppi di immagini icona nelle dimensioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="1f9ba-181">Your application should supply groups of icon images in the following sizes:</span></span>

-   <span data-ttu-id="1f9ba-182">48x48, 256 colore</span><span class="sxs-lookup"><span data-stu-id="1f9ba-182">48x48, 256 color</span></span>
-   <span data-ttu-id="1f9ba-183">32x32, 16 colori</span><span class="sxs-lookup"><span data-stu-id="1f9ba-183">32x32, 16 color</span></span>
-   <span data-ttu-id="1f9ba-184">16x16 pixel, 16 colori</span><span class="sxs-lookup"><span data-stu-id="1f9ba-184">16x16 pixels, 16 color</span></span>

<span data-ttu-id="1f9ba-185">Quando si compila la struttura [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) da usare per la registrazione della classe della finestra, impostare il membro **HICON** sull'icona 32x32 e il membro **hIconSm** sull'icona 16x16.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-185">When filling in the [**WNDCLASSEX**](/windows/win32/api/winuser/ns-winuser-wndclassexa) structure to be used in registering your window class, set the **hIcon** member to the 32x32 icon and the **hIconSm** member to the 16x16 icon.</span></span> <span data-ttu-id="1f9ba-186">Per altre informazioni sulle icone delle classi, vedere [Icone di classe](/windows/desktop/winmsg/about-window-classes).</span><span class="sxs-lookup"><span data-stu-id="1f9ba-186">For more information about class icons, see [Class Icons](/windows/desktop/winmsg/about-window-classes).</span></span>

## <a name="icon-creation"></a><span data-ttu-id="1f9ba-187">Creazione di icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-187">Icon Creation</span></span>

<span data-ttu-id="1f9ba-188">Le icone standard sono predefinite, quindi non è necessario crearle.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-188">Standard icons are predefined, so it is not necessary to create them.</span></span> <span data-ttu-id="1f9ba-189">Per usare un'icona standard, un'applicazione può ottenere il relativo handle usando la funzione [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-189">To use a standard icon, an application can obtain its handle by using the [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) function.</span></span> <span data-ttu-id="1f9ba-190">Un *handle di icona* è un valore univoco del tipo **HICON** che identifica un'icona standard o personalizzata.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-190">An *icon handle* is a unique value of the **HICON** type that identifies a standard or custom icon.</span></span>

<span data-ttu-id="1f9ba-191">Per creare un'icona personalizzata per un'applicazione, si usa in genere un'applicazione grafica e si include la [risorsa icona](./icon-resource.md) nel file di definizione delle risorse dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-191">To create a custom icon for an application, you would typically use a graphics application and include the [ICON Resource](./icon-resource.md) in the application's resource-definition file.</span></span> <span data-ttu-id="1f9ba-192">In fase di esecuzione, è possibile chiamare [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) o [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) per recuperare un handle per l'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-192">At run-time, you can call [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) to retrieve a handle to the icon.</span></span> <span data-ttu-id="1f9ba-193">Una risorsa icona può contenere un gruppo di immagini per diversi dispositivi di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-193">An icon resource can contain a group of images for several different display devices.</span></span> <span data-ttu-id="1f9ba-194">**LoadIcon** e **LoadImage** selezionano automaticamente l'icona più appropriata del gruppo per il dispositivo di visualizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-194">**LoadIcon** and **LoadImage** automatically select the most appropriate icon from the group for the current display device.</span></span>

<span data-ttu-id="1f9ba-195">Un'applicazione può anche creare un'icona personalizzata in fase di esecuzione usando la funzione [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , che crea un'icona basata sul contenuto di una struttura [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-195">An application can also create a custom icon at run-time by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, which creates an icon based on the contents of an [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) structure.</span></span> <span data-ttu-id="1f9ba-196">La funzione [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) riempie la struttura con le coordinate sensibili e le informazioni sulla bitmap della maschera di bit e sulla bitmap dei colori per l'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-196">The [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function fills the structure with the hot-spot coordinates and information about the bitmask bitmap and color bitmap for the icon.</span></span>

<span data-ttu-id="1f9ba-197">Le applicazioni devono implementare icone personalizzate come risorse e usare [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) o [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea), anziché creare l'icona in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-197">Applications should implement custom icons as resources and should use [**LoadIcon**](/windows/desktop/api/Winuser/nf-winuser-loadicona) or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea), rather than create the icon at run-time.</span></span> <span data-ttu-id="1f9ba-198">L'uso delle risorse icona consente di evitare la dipendenza dal dispositivo, semplifica la localizzazione e consente alle applicazioni di condividere forme icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-198">Using icon resources avoids device dependence, simplifies localization, and enables applications to share icon shapes.</span></span>

<span data-ttu-id="1f9ba-199">La funzione [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) consente a un'applicazione di esplorare le risorse del sistema e creare icone e cursori in base ai dati delle risorse.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-199">The [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) function enables an application to browse through the system's resources and create icons and cursors based on resource data.</span></span> <span data-ttu-id="1f9ba-200">**CreateIconFromResourceEx** crea un'icona basata sui dati di risorsa binari da altri file eseguibili o dll.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-200">**CreateIconFromResourceEx** creates an icon based on binary resource data from other executable files or DLLs.</span></span> <span data-ttu-id="1f9ba-201">Un'applicazione deve precedere questa funzione con le chiamate alla funzione [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) e a diverse funzioni di risorsa.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-201">An application must precede this function with calls to the [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) function and several of the resource functions.</span></span> <span data-ttu-id="1f9ba-202">**LookupIconIdFromDirectoryEx** restituisce l'identificatore dei dati dell'icona più appropriati per il dispositivo di visualizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-202">**LookupIconIdFromDirectoryEx** returns the identifier of the most appropriate icon data for the current display device.</span></span>

## <a name="icon-display"></a><span data-ttu-id="1f9ba-203">Visualizzazione icona</span><span class="sxs-lookup"><span data-stu-id="1f9ba-203">Icon Display</span></span>

<span data-ttu-id="1f9ba-204">È possibile recuperare l'immagine per un'icona usando la funzione [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) ed è possibile crearla usando la funzione [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-204">You can retrieve the image for an icon by using the [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function, and can draw it by using the [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) function.</span></span> <span data-ttu-id="1f9ba-205">Per creare l'immagine predefinita per un'icona, specificare il flag **di \_ compatibilità** con nella chiamata a **DrawIconEx**.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-205">To draw the default image for a icon, specify the **DI\_COMPAT** flag in the call to **DrawIconEx**.</span></span> <span data-ttu-id="1f9ba-206">Se non si specifica il flag **di \_ compatibilità** con, **DrawIconEx** disegna l'icona usando l'immagine specificata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-206">If you do not specify the **DI\_COMPAT** flag, **DrawIconEx** draws the icon using the image that the user specified.</span></span>

<span data-ttu-id="1f9ba-207">Quando il sistema Visualizza un'icona, deve estrarre l'immagine dell'icona appropriata dal file con estensione exe o dll.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-207">When the system displays an icon, it must extract the appropriate icon image from the .exe or .dll file.</span></span> <span data-ttu-id="1f9ba-208">Il sistema usa i passaggi seguenti per selezionare l'immagine dell'icona:</span><span class="sxs-lookup"><span data-stu-id="1f9ba-208">The system uses the following steps to select the icon image:</span></span>

1.  <span data-ttu-id="1f9ba-209">Selezionare la **risorsa \_ \_ icona del gruppo RT** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-209">Select the **RT\_GROUP\_ICON** resource.</span></span> <span data-ttu-id="1f9ba-210">Se esiste più di una risorsa di questo tipo, il sistema usa la prima risorsa elencata nella bisaccia delle risorse.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-210">If more than one such resource exists, the system uses the first resource listed in the resource scrip.</span></span>
2.  <span data-ttu-id="1f9ba-211">Selezionare l'immagine **dell' \_ icona RT** appropriata dalla **risorsa \_ \_ icona del gruppo RT** .</span><span class="sxs-lookup"><span data-stu-id="1f9ba-211">Select the appropriate **RT\_ICON** image from the **RT\_GROUP\_ICON** resource.</span></span> <span data-ttu-id="1f9ba-212">Se esiste più di un'immagine, il sistema usa i criteri seguenti per scegliere un'immagine:</span><span class="sxs-lookup"><span data-stu-id="1f9ba-212">If more than one image exists, the system uses the following criteria to choose an image:</span></span>
    -   -   <span data-ttu-id="1f9ba-213">Viene scelta l'immagine più vicina alle dimensioni richieste.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-213">The image closest in size to the requested size is chosen.</span></span>
        -   <span data-ttu-id="1f9ba-214">Se sono presenti due o più immagini di tale dimensione, viene scelto quello che corrisponde alla profondità di colore della visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-214">If two or more images of that size are present, the one that matches the color depth of the display is chosen.</span></span>
        -   <span data-ttu-id="1f9ba-215">Se nessuna immagine corrisponde esattamente alla profondità del colore dello schermo, viene scelta l'immagine con la profondità di colore maggiore che non supera la profondità di colore della visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-215">If no images exactly match the color depth of the display, the image with the greatest color depth that does not exceed the color depth of the display is chosen.</span></span> <span data-ttu-id="1f9ba-216">Se tutti superano la profondità del colore, viene scelto quello con la profondità del colore più bassa.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-216">If all exceed the color depth, the one with the lowest color depth is chosen.</span></span>

> [!Note]  
> <span data-ttu-id="1f9ba-217">Il sistema considera come uguali tutte le profondità di colore di 8 o più BPP.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-217">The system treats all color depths of 8 or more bpp as equal.</span></span> <span data-ttu-id="1f9ba-218">Di conseguenza, non è possibile includere un'immagine a colori 16x16 256 e un'immagine 16x16 a 16 colori nella stessa risorsa. il sistema sceglierà semplicemente il primo rilevato.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-218">Therefore, there is no advantage of including a 16x16 256-color image and a 16x16 16-color image in the same resource—the system will simply choose the first one it encounters.</span></span> <span data-ttu-id="1f9ba-219">Quando la visualizzazione è in modalità a 8 BPP, il sistema sceglierà un'icona a 16 colori sull'icona a colori 256 e visualizzerà tutte le icone usando la tavolozza predefinita del sistema.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-219">When the display is in 8-bpp mode, the system will choose a 16-color icon over a 256-color icon, and will display all icons using the system default palette.</span></span>

 

<span data-ttu-id="1f9ba-220">Per visualizzare un'icona animata, usare un controllo statico, come illustrato nel frammento di codice seguente.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-220">To display an animated icon, use a static control as shown in the following code fragment.</span></span>


```
hIcon = LoadImage(NULL, "ico.ani", IMAGE_ICON, 0, 0, LR_LOADFROMFILE);
SendMessage( hStatic, STM_SETIMAGE, IMAGE_ICON, (LPARAM)(UINT)hIcon);
```



## <a name="icon-destruction"></a><span data-ttu-id="1f9ba-221">Icona di distruzione</span><span class="sxs-lookup"><span data-stu-id="1f9ba-221">Icon Destruction</span></span>

<span data-ttu-id="1f9ba-222">Quando per un'applicazione non è più necessaria un'icona creata utilizzando la funzione [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , l'icona deve essere eliminata.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-222">When an application no longer needs an icon it created by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, it should destroy the icon.</span></span> <span data-ttu-id="1f9ba-223">La funzione [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) Elimina l'handle dell'icona e libera la memoria usata dall'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-223">The [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) function destroys the icon handle and frees any memory used by the icon.</span></span> <span data-ttu-id="1f9ba-224">Le applicazioni devono usare questa funzione solo per le icone create con **CreateIconIndirect**; non è necessario eliminare altre icone.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-224">Applications should use this function only for icons created with **CreateIconIndirect**; it is not necessary to destroy other icons.</span></span>

## <a name="icon-duplication"></a><span data-ttu-id="1f9ba-225">Duplicazione delle icone</span><span class="sxs-lookup"><span data-stu-id="1f9ba-225">Icon Duplication</span></span>

<span data-ttu-id="1f9ba-226">La funzione [**CopyIcon**](/windows/desktop/api/Winuser/nf-winuser-copyicon) copia un handle di icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-226">The [**CopyIcon**](/windows/desktop/api/Winuser/nf-winuser-copyicon) function copies an icon handle.</span></span> <span data-ttu-id="1f9ba-227">Questo consente a un'applicazione o a una DLL di ottenere un proprio handle per un'icona di proprietà di un altro modulo.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-227">This enables an application or DLL to get its own handle to an icon owned by another module.</span></span> <span data-ttu-id="1f9ba-228">Quindi, se l'altro modulo viene liberato, l'applicazione che ha copiato l'icona sarà comunque in grado di usare l'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-228">Then, if the other module is freed, the application that copied the icon will still be able to use the icon.</span></span>

<span data-ttu-id="1f9ba-229">La funzione [**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) crea una nuova icona basata sull'icona di origine specificata.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-229">The [**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) function creates a new icon based on the specified source icon.</span></span> <span data-ttu-id="1f9ba-230">La nuova icona può essere maggiore o minore dell'icona di origine.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-230">The new icon can be larger or smaller than the source icon.</span></span>

<span data-ttu-id="1f9ba-231">Per informazioni sull'aggiunta, la rimozione o la sostituzione di risorse icona nei file eseguibili (con estensione exe), vedere [risorse](resources.md).</span><span class="sxs-lookup"><span data-stu-id="1f9ba-231">For information about adding, removing, or replacing icon resources in executable (.exe) files, see [Resources](resources.md).</span></span>

<span data-ttu-id="1f9ba-232">La funzione [**DuplicateIcon**](/windows/desktop/api/Shellapi/nf-shellapi-duplicateicon) esegue una copia effettiva dell'icona.</span><span class="sxs-lookup"><span data-stu-id="1f9ba-232">The [**DuplicateIcon**](/windows/desktop/api/Shellapi/nf-shellapi-duplicateicon) function makes an actual copy of the icon.</span></span>

 

 