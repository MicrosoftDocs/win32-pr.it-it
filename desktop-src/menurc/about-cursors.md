---
title: Informazioni sui cursori
description: In questo argomento vengono illustrati i cursori standard.
ms.assetid: 0ca8e51c-1159-47e9-ba3f-5ced0667cadb
keywords:
- risorse, cursori
- cursori, informazioni
- cursori, standard
- cursori standard
- Funzione SetSystemCursor (funzione)
- cursori, personalizzati
- cursori personalizzati
- cursori, aree sensibili
- cursori, creazione
- creazione di cursori
- cursori, posizione
- cursori, aspetto
- eliminazione definitiva di cursori
- duplicazione di cursori
- cursore classe
- limitazione di cursori
- cursori, distruzione
- cursori, duplicazione
- cursori, classe
- cursori, limitazione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6f2d0b91ba4670d2510413240efd742b2e0ba69b
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "104046699"
---
# <a name="about-cursors"></a><span data-ttu-id="978d6-123">Informazioni sui cursori</span><span class="sxs-lookup"><span data-stu-id="978d6-123">About Cursors</span></span>

<span data-ttu-id="978d6-124">Windows fornisce un set di cursori standard disponibili per qualsiasi applicazione da utilizzare in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="978d6-124">Windows provides a set of standard cursors that are available for any application to use at any time.</span></span> <span data-ttu-id="978d6-125">I file di intestazione dell'SDK contengono gli identificatori per i cursori standard: gli identificatori iniziano con il prefisso **IDC \_** .</span><span class="sxs-lookup"><span data-stu-id="978d6-125">The SDK header files contain identifiers for the standard cursors—the identifiers begin with the **IDC\_** prefix.</span></span>

<span data-ttu-id="978d6-126">A ogni cursore standard è associata un'immagine predefinita.</span><span class="sxs-lookup"><span data-stu-id="978d6-126">Each standard cursor has a corresponding default image associated with it.</span></span> <span data-ttu-id="978d6-127">L'utente o un'applicazione può sostituire l'immagine predefinita associata a qualsiasi cursore standard in qualsiasi momento.</span><span class="sxs-lookup"><span data-stu-id="978d6-127">The user or an application can replace the default image associated with any standard cursor at any time.</span></span> <span data-ttu-id="978d6-128">Un'applicazione sostituisce un'immagine predefinita tramite la funzione [**funzione SetSystemCursor**](/windows/desktop/api/Winuser/nf-winuser-setsystemcursor) .</span><span class="sxs-lookup"><span data-stu-id="978d6-128">An application replaces a default image by using the [**SetSystemCursor**](/windows/desktop/api/Winuser/nf-winuser-setsystemcursor) function.</span></span> <span data-ttu-id="978d6-129">Nella figura seguente vengono illustrati diversi cursori standard di Windows Vista:</span><span class="sxs-lookup"><span data-stu-id="978d6-129">The following image shows several standard cursors from Windows Vista:</span></span>

![cursori standard, tra cui la mano, il segno più a quattro frecce, la freccia con il punto interrogativo, il cerchio, la penna](images/cursorsstandard.png)

<span data-ttu-id="978d6-131">Un'applicazione può utilizzare la funzione [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) per recuperare l'immagine corrente per un cursore e può creare il cursore utilizzando la funzione [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) .</span><span class="sxs-lookup"><span data-stu-id="978d6-131">An application can use the [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function to retrieve the current image for a cursor and can draw the cursor by using the [**DrawIconEx**](/windows/desktop/api/Winuser/nf-winuser-drawiconex) function.</span></span> <span data-ttu-id="978d6-132">Per creare l'immagine predefinita per un cursore standard, specificare il flag **di \_ compatibilità** con nella chiamata a **DrawIconEx**.</span><span class="sxs-lookup"><span data-stu-id="978d6-132">To draw the default image for a standard cursor, specify the **DI\_COMPAT** flag in the call to **DrawIconEx**.</span></span> <span data-ttu-id="978d6-133">Se non si specifica il flag **di \_ compatibilità** con, **DrawIconEx** disegna il cursore standard usando l'immagine specificata dall'utente.</span><span class="sxs-lookup"><span data-stu-id="978d6-133">If you do not specify the **DI\_COMPAT** flag, **DrawIconEx** draws the standard cursor using the image that the user specified.</span></span>

<span data-ttu-id="978d6-134">I cursori personalizzati sono progettati per l'uso in un'applicazione specifica e possono essere qualsiasi progetto definito dallo sviluppatore.</span><span class="sxs-lookup"><span data-stu-id="978d6-134">Custom cursors are designed for use in a specific application and can be any design the developer defines.</span></span> <span data-ttu-id="978d6-135">Nella figura seguente vengono illustrati diversi cursori personalizzati.</span><span class="sxs-lookup"><span data-stu-id="978d6-135">The following illustration shows several custom cursors.</span></span>

![cursori personalizzati, tra cui Hand, banana, Drum, orologio a mano, metronomo](images/cursorscustom.png)

<span data-ttu-id="978d6-137">I cursori possono essere di tipo monocromatico o colore e statici o animati.</span><span class="sxs-lookup"><span data-stu-id="978d6-137">Cursors can be either monochrome or color, and either static or animated.</span></span> <span data-ttu-id="978d6-138">Il tipo di cursore utilizzato in un determinato computer dipende dalla visualizzazione del sistema.</span><span class="sxs-lookup"><span data-stu-id="978d6-138">The type of cursor used on a particular computer system depends on the system's display.</span></span> <span data-ttu-id="978d6-139">Gli schermi precedenti, ad esempio VGA, non supportano il colore o i cursori animati.</span><span class="sxs-lookup"><span data-stu-id="978d6-139">Old displays such as VGA do not support color or animated cursors.</span></span> <span data-ttu-id="978d6-140">Nuovi display, i cui driver di visualizzazione usano il motore di bitmap indipendente dal dispositivo (DIB), li supportano.</span><span class="sxs-lookup"><span data-stu-id="978d6-140">New displays, whose display drivers use the device-independent bitmap (DIB) engine, do support them.</span></span>

<span data-ttu-id="978d6-141">I cursori e le icone sono simili e possono essere usati in modo interscambiabile in molte situazioni.</span><span class="sxs-lookup"><span data-stu-id="978d6-141">Cursors and icons are similar and can be used interchangeably in many situations.</span></span> <span data-ttu-id="978d6-142">L'unica differenza tra di esse è che un'immagine specificata come cursore deve essere nel formato che la visualizzazione può supportare.</span><span class="sxs-lookup"><span data-stu-id="978d6-142">The only difference between them is that an image specified as a cursor must be in the format that the display can support.</span></span> <span data-ttu-id="978d6-143">Un cursore, ad esempio, deve essere monocromatico per una visualizzazione VGA.</span><span class="sxs-lookup"><span data-stu-id="978d6-143">For example, a cursor must be monochrome for a VGA display.</span></span>

<span data-ttu-id="978d6-144">In questa panoramica vengono fornite informazioni sui seguenti argomenti:</span><span class="sxs-lookup"><span data-stu-id="978d6-144">This overview provides information on the following topics:</span></span>

-   [<span data-ttu-id="978d6-145">Area sensibile</span><span class="sxs-lookup"><span data-stu-id="978d6-145">The Hot Spot</span></span>](#the-hot-spot)
-   [<span data-ttu-id="978d6-146">Il mouse e il cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-146">The Mouse and the Cursor</span></span>](#the-mouse-and-the-cursor)
-   [<span data-ttu-id="978d6-147">Creazione di cursori</span><span class="sxs-lookup"><span data-stu-id="978d6-147">Cursor Creation</span></span>](#cursor-creation)
-   [<span data-ttu-id="978d6-148">Posizione e aspetto del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-148">Cursor Location and Appearance</span></span>](#cursor-location-and-appearance)
-   [<span data-ttu-id="978d6-149">Ottimizzazione del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-149">Cursor Confinement</span></span>](#cursor-confinement)
-   [<span data-ttu-id="978d6-150">Distruzione del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-150">Cursor Destruction</span></span>](#cursor-destruction)
-   [<span data-ttu-id="978d6-151">Duplicazione del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-151">Cursor Duplication</span></span>](#cursor-duplication)
-   [<span data-ttu-id="978d6-152">Cursore della classe della finestra</span><span class="sxs-lookup"><span data-stu-id="978d6-152">The Window Class Cursor</span></span>](#the-window-class-cursor)

## <a name="the-hot-spot"></a><span data-ttu-id="978d6-153">Area sensibile</span><span class="sxs-lookup"><span data-stu-id="978d6-153">The Hot Spot</span></span>

<span data-ttu-id="978d6-154">Nel cursore, un pixel chiamato area sensibile *contrassegna l'* esatta posizione dello schermo interessata da un evento del mouse, ad esempio facendo clic su un pulsante del mouse.</span><span class="sxs-lookup"><span data-stu-id="978d6-154">In the cursor, a pixel called the *hot spot* marks the exact screen location that is affected by a mouse event, such as clicking a mouse button.</span></span> <span data-ttu-id="978d6-155">In genere, l'area sensibile è il punto focale del cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-155">Typically, the hot spot is the focal point of the cursor.</span></span> <span data-ttu-id="978d6-156">Il sistema rileva e riconosce questo punto come posizione del cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-156">The system tracks and recognizes this point as the position of the cursor.</span></span> <span data-ttu-id="978d6-157">Ad esempio, le aree sensibili tipiche sono il pixel alla punta di un cursore a forma di freccia e il pixel al centro di un cursore a forma di mirino.</span><span class="sxs-lookup"><span data-stu-id="978d6-157">For example, typical hot spots are the pixel at the tip of an arrow-shaped cursor and the pixel in the middle of a crosshair-shaped cursor.</span></span> <span data-ttu-id="978d6-158">Nelle immagini seguenti vengono illustrati due cursori di un programma di disegno, in cui le aree sensibili sono associate alla punta del pennello e il mirino della pittura può essere.</span><span class="sxs-lookup"><span data-stu-id="978d6-158">The following images shows two cursors from a drawing program, in which hot spots are associated with the tip of the brush and the crosshair of the paint can.</span></span>

![punti sensibili su due cursori](images/cursorhotspot.png)

<span data-ttu-id="978d6-160">Quando si verifica un evento di input del mouse, il driver del mouse converte l'evento in un messaggio del mouse appropriato che include le coordinate dell'area sensibile.</span><span class="sxs-lookup"><span data-stu-id="978d6-160">When a mouse input event occurs, the mouse driver translates the event into an appropriate mouse message that includes the coordinates of the hot spot.</span></span> <span data-ttu-id="978d6-161">Il sistema invia il messaggio del mouse alla finestra che contiene l'area sensibile o alla finestra che acquisisce l'input del mouse.</span><span class="sxs-lookup"><span data-stu-id="978d6-161">The system sends the mouse message to the window that contains the hot spot or to the window that is capturing mouse input.</span></span> <span data-ttu-id="978d6-162">Per ulteriori informazioni, vedere [input del mouse](/windows/desktop/inputdev/mouse-input).</span><span class="sxs-lookup"><span data-stu-id="978d6-162">For more information, see [Mouse Input](/windows/desktop/inputdev/mouse-input).</span></span>

## <a name="the-mouse-and-the-cursor"></a><span data-ttu-id="978d6-163">Il mouse e il cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-163">The Mouse and the Cursor</span></span>

<span data-ttu-id="978d6-164">Il sistema riflette lo spostamento del mouse spostando di conseguenza il cursore sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="978d6-164">The system reflects the movement of the mouse by moving the cursor on the screen accordingly.</span></span> <span data-ttu-id="978d6-165">Quando il cursore si sposta su diverse parti di Windows o in finestre diverse, il sistema (o un'applicazione) modifica l'aspetto del cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-165">As the cursor moves over different parts of windows or into different windows, the system (or an application) changes the appearance of the cursor.</span></span> <span data-ttu-id="978d6-166">Quando, ad esempio, il cursore attraversa un collegamento ipertestuale, il cursore passa da una freccia a una mano.</span><span class="sxs-lookup"><span data-stu-id="978d6-166">For example, when the cursor crosses over a hyperlink, the system changes the cursor from an arrow to a hand.</span></span>

![cursore standard che passa a una mano quando viene posizionato su un collegamento ipertestuale](images/cursorchangingstate.png)

<span data-ttu-id="978d6-168">Se il sistema non dispone di un mouse, il sistema Visualizza e sposta il cursore solo quando l'utente sceglie determinati comandi di sistema, ad esempio quelli utilizzati per ridimensionare o spostare una finestra.</span><span class="sxs-lookup"><span data-stu-id="978d6-168">If the system does not have a mouse, the system displays and moves the cursor only when the user chooses certain system commands, such as those used to size or move a window.</span></span> <span data-ttu-id="978d6-169">Per fornire all'utente un metodo di visualizzazione e spostamento del cursore quando il mouse non è disponibile, un'applicazione può utilizzare le funzioni del cursore per simulare il movimento del mouse.</span><span class="sxs-lookup"><span data-stu-id="978d6-169">To provide the user with a method of displaying and moving the cursor when a mouse is not available, an application can use the cursor functions to simulate mouse movement.</span></span> <span data-ttu-id="978d6-170">Data questa funzionalità di simulazione, l'utente può utilizzare i tasti di direzione per spostare il cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-170">Given this simulation capability, the user can use the arrow keys to move the cursor.</span></span>

## <a name="cursor-creation"></a><span data-ttu-id="978d6-171">Creazione di cursori</span><span class="sxs-lookup"><span data-stu-id="978d6-171">Cursor Creation</span></span>

<span data-ttu-id="978d6-172">Poiché i cursori standard sono predefiniti, non è necessario crearli.</span><span class="sxs-lookup"><span data-stu-id="978d6-172">Because standard cursors are predefined, it is not necessary to create them.</span></span> <span data-ttu-id="978d6-173">Per utilizzare un cursore standard, un'applicazione recupera un handle del cursore utilizzando la funzione [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) o [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) .</span><span class="sxs-lookup"><span data-stu-id="978d6-173">To use a standard cursor, an application retrieves a cursor handle by using the [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) function.</span></span> <span data-ttu-id="978d6-174">Un *handle del cursore* è un valore univoco del tipo **hCursor** che identifica un cursore standard o personalizzato.</span><span class="sxs-lookup"><span data-stu-id="978d6-174">A *cursor handle* is a unique value of the **HCURSOR** type that identifies a standard or custom cursor.</span></span>

<span data-ttu-id="978d6-175">Per creare un cursore personalizzato per un'applicazione, si usa in genere un'applicazione grafica e si include il cursore come risorsa nel file di definizione delle risorse dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="978d6-175">To create a custom cursor for an application, you typically use a graphics application and include the cursor as a resource in the application's resource-definition file.</span></span> <span data-ttu-id="978d6-176">In fase di esecuzione, chiamare [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) per recuperare l'handle del cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-176">At run time, call [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora) to retrieve the cursor handle.</span></span> <span data-ttu-id="978d6-177">Le risorse del cursore contengono dati per diversi dispositivi di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="978d6-177">Cursor resources contain data for several different display devices.</span></span> <span data-ttu-id="978d6-178">La funzione **LoadCursor** seleziona automaticamente i dati più appropriati per il dispositivo di visualizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="978d6-178">The **LoadCursor** function automatically selects the most appropriate data for the current display device.</span></span> <span data-ttu-id="978d6-179">Per caricare un cursore direttamente da un oggetto. CUR o. File ANI, usare la funzione [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea) .</span><span class="sxs-lookup"><span data-stu-id="978d6-179">To load a cursor directly from a .CUR or .ANI file, use the [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea) function.</span></span>

<span data-ttu-id="978d6-180">È anche possibile creare un cursore personalizzato in fase di esecuzione usando la funzione [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , che crea un cursore in base al contenuto di una struttura [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) .</span><span class="sxs-lookup"><span data-stu-id="978d6-180">You can also create a custom cursor at run time by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, which creates a cursor based on the content of an [**ICONINFO**](/windows/desktop/api/Winuser/ns-winuser-iconinfo) structure.</span></span> <span data-ttu-id="978d6-181">La funzione [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) riempie questa struttura con le coordinate di area sensibile e le informazioni relative alla maschera e al colore associati.</span><span class="sxs-lookup"><span data-stu-id="978d6-181">The [**GetIconInfo**](/windows/desktop/api/Winuser/nf-winuser-geticoninfo) function fills this structure with hot spot coordinates and information concerning the associated mask and color.</span></span>

<span data-ttu-id="978d6-182">Le applicazioni devono implementare cursori personalizzati come risorse e usare [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora), [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea)o [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) anziché creare il cursore in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="978d6-182">Applications should implement custom cursors as resources and use [**LoadCursor**](/windows/desktop/api/Winuser/nf-winuser-loadcursora), [**LoadCursorFromFile**](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea), or [**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) rather than create the cursor at run time.</span></span> <span data-ttu-id="978d6-183">L'utilizzo delle risorse del cursore evita la dipendenza del dispositivo, semplifica la localizzazione e consente alle applicazioni di condividere le progettazioni dei cursori.</span><span class="sxs-lookup"><span data-stu-id="978d6-183">Using cursor resources avoids device dependence, simplifies localization, and enables applications to share cursor designs.</span></span>

<span data-ttu-id="978d6-184">La funzione [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) consente a un'applicazione di creare icone e cursori in base ai dati delle risorse.</span><span class="sxs-lookup"><span data-stu-id="978d6-184">The [**CreateIconFromResourceEx**](/windows/desktop/api/Winuser/nf-winuser-createiconfromresourceex) function enables an application to create icons and cursors based on resource data.</span></span> <span data-ttu-id="978d6-185">**CreateIconFromResourceEx** crea un cursore basato sui dati di risorsa binari da altri file eseguibili (exe) o dll.</span><span class="sxs-lookup"><span data-stu-id="978d6-185">**CreateIconFromResourceEx** creates a cursor based on binary resource data from other executable (.exe) files or DLLs.</span></span> <span data-ttu-id="978d6-186">Deve essere preceduto dalle chiamate alla funzione [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) , nonché da diverse funzioni di risorsa.</span><span class="sxs-lookup"><span data-stu-id="978d6-186">It must be preceded by calls to the [**LookupIconIdFromDirectoryEx**](/windows/desktop/api/Winuser/nf-winuser-lookupiconidfromdirectoryex) function, as well as several resource functions.</span></span> <span data-ttu-id="978d6-187">**LookupIconIdFromDirectoryEx** identifica i dati di cursore più appropriati per il dispositivo di visualizzazione corrente.</span><span class="sxs-lookup"><span data-stu-id="978d6-187">**LookupIconIdFromDirectoryEx** identifies the most appropriate cursor data for the current display device.</span></span> <span data-ttu-id="978d6-188">Per ulteriori informazioni sulle funzioni delle risorse, vedere [risorse](resources.md).</span><span class="sxs-lookup"><span data-stu-id="978d6-188">For more information about resource functions, see [Resources](resources.md).</span></span>

## <a name="cursor-location-and-appearance"></a><span data-ttu-id="978d6-189">Posizione e aspetto del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-189">Cursor Location and Appearance</span></span>

<span data-ttu-id="978d6-190">Il sistema visualizza automaticamente un cursore per il mouse e ne aggiorna la posizione sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="978d6-190">The system automatically displays a cursor for the mouse and updates its position on the screen.</span></span> <span data-ttu-id="978d6-191">È possibile ottenere le coordinate dello schermo correnti del cursore e spostare il cursore in qualsiasi posizione sullo schermo usando rispettivamente le funzioni [**GetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-getcursorpos) e [**SetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-setcursorpos) .</span><span class="sxs-lookup"><span data-stu-id="978d6-191">You can obtain current screen coordinates of the cursor and move the cursor to any location on the screen by using the [**GetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-getcursorpos) and [**SetCursorPos**](/windows/desktop/api/Winuser/nf-winuser-setcursorpos) functions, respectively.</span></span>

<span data-ttu-id="978d6-192">È inoltre possibile recuperare l'handle per il cursore corrente utilizzando la funzione [**GetCursor**](/windows/desktop/api/Winuser/nf-winuser-getcursor) ed è possibile impostare il cursore utilizzando la funzione [**secursor**](/windows/desktop/api/Winuser/nf-winuser-setcursor) .</span><span class="sxs-lookup"><span data-stu-id="978d6-192">You can also retrieve the handle to the current cursor by using the [**GetCursor**](/windows/desktop/api/Winuser/nf-winuser-getcursor) function, and you can set the cursor by using the [**SetCursor**](/windows/desktop/api/Winuser/nf-winuser-setcursor) function.</span></span> <span data-ttu-id="978d6-193">Dopo **aver chiamato il cursore,** l'aspetto del cursore non cambia fino a quando non si sposta il mouse, il cursore viene impostato in modo esplicito su un cursore diverso o viene eseguito un comando di sistema.</span><span class="sxs-lookup"><span data-stu-id="978d6-193">After you call **SetCursor**, the appearance of the cursor does not change until either the mouse moves, the cursor is explicitly set to a different cursor, or a system command is executed.</span></span>

<span data-ttu-id="978d6-194">Quando l'utente sposta il mouse, il sistema ridisegnato il cursore nella nuova posizione.</span><span class="sxs-lookup"><span data-stu-id="978d6-194">When the user moves the mouse, the system redraws the cursor at the new location.</span></span> <span data-ttu-id="978d6-195">Il sistema ridisegna automaticamente la progettazione del cursore associata alla finestra a cui punta il cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-195">The system automatically redraws the cursor design associated with the window to which the cursor is pointing.</span></span>

<span data-ttu-id="978d6-196">È possibile nascondere e visualizzare nuovamente il cursore senza modificare la progettazione del cursore utilizzando la funzione [**ShowCursor**](/windows/desktop/api/Winuser/nf-winuser-showcursor) .</span><span class="sxs-lookup"><span data-stu-id="978d6-196">You can hide and redisplay the cursor, without changing the cursor design, by using the [**ShowCursor**](/windows/desktop/api/Winuser/nf-winuser-showcursor) function.</span></span> <span data-ttu-id="978d6-197">Questa funzione utilizza un contatore interno per determinare quando nascondere o visualizzare il cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-197">This function uses an internal counter to determine when to hide or display the cursor.</span></span> <span data-ttu-id="978d6-198">Un tentativo di visualizzare il cursore Incrementa il contatore; un tentativo di nascondere il cursore decrementa il contatore.</span><span class="sxs-lookup"><span data-stu-id="978d6-198">An attempt to show the cursor increments the counter; an attempt to hide the cursor decrements the counter.</span></span> <span data-ttu-id="978d6-199">Il cursore è visibile solo se il contatore è maggiore o uguale a zero.</span><span class="sxs-lookup"><span data-stu-id="978d6-199">The cursor is visible only if this counter is greater than or equal to zero.</span></span>

<span data-ttu-id="978d6-200">La funzione [**GetCursorInfo**](/windows/desktop/api/Winuser/nf-winuser-getcursorinfo) ottiene le informazioni seguenti per il cursore globale: se il cursore è nascosto o visualizzato, l'handle per il cursore e le coordinate del cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-200">The [**GetCursorInfo**](/windows/desktop/api/Winuser/nf-winuser-getcursorinfo) function gets the following information for the global cursor: whether the cursor is hidden or shown, the handle to the cursor, and the coordinates of the cursor.</span></span>

## <a name="cursor-confinement"></a><span data-ttu-id="978d6-201">Ottimizzazione del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-201">Cursor Confinement</span></span>

<span data-ttu-id="978d6-202">È possibile limitare il cursore a un'area rettangolare sullo schermo usando la funzione [**ClipCursor**](/windows/desktop/api/Winuser/nf-winuser-clipcursor) .</span><span class="sxs-lookup"><span data-stu-id="978d6-202">You can confine the cursor to a rectangular area on the screen by using the [**ClipCursor**](/windows/desktop/api/Winuser/nf-winuser-clipcursor) function.</span></span> <span data-ttu-id="978d6-203">Questa operazione è utile quando l'utente deve rispondere a un determinato evento all'interno dell'area confinata del rettangolo.</span><span class="sxs-lookup"><span data-stu-id="978d6-203">This is useful for when the user must respond to a certain event within the confined area of the rectangle.</span></span> <span data-ttu-id="978d6-204">Ad esempio, è possibile utilizzare **ClipCursor** per limitare il cursore a una finestra di dialogo modale, evitando che l'utente interagisca con altre finestre fino alla chiusura della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="978d6-204">For example, you might use **ClipCursor** to confine the cursor to a modal dialog box, preventing the user from interacting with other windows until the dialog box is closed.</span></span>

<span data-ttu-id="978d6-205">La funzione [**GetClipCursor**](/windows/desktop/api/Winuser/nf-winuser-getclipcursor) recupera le coordinate dello schermo dell'area rettangolare a cui è temporaneamente limitato il cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-205">The [**GetClipCursor**](/windows/desktop/api/Winuser/nf-winuser-getclipcursor) function retrieves the screen coordinates of the rectangular area to which the cursor is temporarily confined.</span></span> <span data-ttu-id="978d6-206">Quando è necessario limitare il cursore, è possibile utilizzare questa funzione anche per salvare le coordinate dell'area originale in cui è possibile spostare il cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-206">When it is necessary to confine the cursor, you can also use this function to save the coordinates of the original area in which the cursor can move.</span></span> <span data-ttu-id="978d6-207">Quindi, è possibile ripristinare il cursore nell'area originale quando il nuovo periodo di ottimizzazione non è più necessario.</span><span class="sxs-lookup"><span data-stu-id="978d6-207">Then, you can restore the cursor to the original area when the new confinement is no longer necessary.</span></span>

## <a name="cursor-destruction"></a><span data-ttu-id="978d6-208">Distruzione del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-208">Cursor Destruction</span></span>

<span data-ttu-id="978d6-209">È possibile eliminare l'handle del cursore e liberare la memoria usata dal cursore chiamando la funzione [**DestroyCursor**](/windows/desktop/api/Winuser/nf-winuser-destroycursor) .</span><span class="sxs-lookup"><span data-stu-id="978d6-209">You can destroy the cursor handle and free the memory the cursor used by calling the [**DestroyCursor**](/windows/desktop/api/Winuser/nf-winuser-destroycursor) function.</span></span> <span data-ttu-id="978d6-210">Questa funzione, tuttavia, non ha alcun effetto su un cursore condiviso.</span><span class="sxs-lookup"><span data-stu-id="978d6-210">However, this function has no effect on a shared cursor.</span></span> <span data-ttu-id="978d6-211">Un cursore condiviso è valido fino a quando il modulo da cui è stato caricato rimane in memoria.</span><span class="sxs-lookup"><span data-stu-id="978d6-211">A shared cursor is valid as long as the module from which it was loaded remains in memory.</span></span> <span data-ttu-id="978d6-212">Le funzioni seguenti ottengono un cursore condiviso:</span><span class="sxs-lookup"><span data-stu-id="978d6-212">The following functions obtain a shared cursor:</span></span>

-   [<span data-ttu-id="978d6-213">**LoadCursor**</span><span class="sxs-lookup"><span data-stu-id="978d6-213">**LoadCursor**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadcursora)
-   [<span data-ttu-id="978d6-214">**LoadCursorFromFile**</span><span class="sxs-lookup"><span data-stu-id="978d6-214">**LoadCursorFromFile**</span></span>](/windows/desktop/api/Winuser/nf-winuser-loadcursorfromfilea)
-   <span data-ttu-id="978d6-215">[**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) (se si usa il flag di **\_ condivisione LR** )</span><span class="sxs-lookup"><span data-stu-id="978d6-215">[**LoadImage**](/windows/desktop/api/Winuser/nf-winuser-loadimagea) (if you use the **LR\_SHARED** flag)</span></span>
-   <span data-ttu-id="978d6-216">[**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) (se si usa il flag **LR \_ COPYRETURNORG** e *hImage* è un cursore condiviso)</span><span class="sxs-lookup"><span data-stu-id="978d6-216">[**CopyImage**](/windows/desktop/api/Winuser/nf-winuser-copyimage) (if you use the **LR\_COPYRETURNORG** flag and the *hImage* is a shared cursor)</span></span>

<span data-ttu-id="978d6-217">Quando non è più necessario un cursore creato tramite la funzione [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) , è necessario eliminare il cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-217">When you no longer need a cursor you created by using the [**CreateIconIndirect**](/windows/desktop/api/Winuser/nf-winuser-createiconindirect) function, you should destroy the cursor.</span></span> <span data-ttu-id="978d6-218">La funzione [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) Elimina il punto di manipolazione del cursore e libera la memoria usata dal cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-218">The [**DestroyIcon**](/windows/desktop/api/Winuser/nf-winuser-destroyicon) function destroys the cursor handle and frees any memory the cursor used.</span></span> <span data-ttu-id="978d6-219">Utilizzare questa funzione solo nei cursori creati con **CreateIconIndirect**.</span><span class="sxs-lookup"><span data-stu-id="978d6-219">Use this function only on cursors that were created with **CreateIconIndirect**.</span></span>

## <a name="cursor-duplication"></a><span data-ttu-id="978d6-220">Duplicazione del cursore</span><span class="sxs-lookup"><span data-stu-id="978d6-220">Cursor Duplication</span></span>

<span data-ttu-id="978d6-221">La funzione [**CopyCursor**](/windows/desktop/api/Winuser/nf-winuser-copycursor) copia un handle del cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-221">The [**CopyCursor**](/windows/desktop/api/Winuser/nf-winuser-copycursor) function copies a cursor handle.</span></span> <span data-ttu-id="978d6-222">Ciò consente al codice dell'applicazione o della DLL di recuperare l'handle a un cursore di proprietà di un altro modulo.</span><span class="sxs-lookup"><span data-stu-id="978d6-222">This enables application or DLL code to retrieve the handle to a cursor owned by another module.</span></span> <span data-ttu-id="978d6-223">Quindi, se l'altro modulo viene liberato, il modulo che ha copiato il cursore può comunque utilizzare la progettazione del cursore.</span><span class="sxs-lookup"><span data-stu-id="978d6-223">Then, if the other module is freed, the module that copied the cursor can still use the cursor design.</span></span>

<span data-ttu-id="978d6-224">Per informazioni su come aggiungere, rimuovere o sostituire le risorse del cursore nei file eseguibili, vedere [risorse](resources.md).</span><span class="sxs-lookup"><span data-stu-id="978d6-224">For information on how to add, remove, or replace cursor resources in executable files, see [Resources](resources.md).</span></span>

## <a name="the-window-class-cursor"></a><span data-ttu-id="978d6-225">Cursore della classe della finestra</span><span class="sxs-lookup"><span data-stu-id="978d6-225">The Window Class Cursor</span></span>

<span data-ttu-id="978d6-226">Quando si registra una classe della finestra usando la funzione [**registerClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) , è possibile assegnarle un cursore predefinito, noto come *cursore della classe*.</span><span class="sxs-lookup"><span data-stu-id="978d6-226">When you register a window class, using the [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) function, you can assign it a default cursor, known as the *class cursor*.</span></span> <span data-ttu-id="978d6-227">Dopo che l'applicazione ha registrato la classe della finestra, ogni finestra della classe ha il cursore della classe specificato.</span><span class="sxs-lookup"><span data-stu-id="978d6-227">After the application registers the window class, each window of that class has the specified class cursor.</span></span>

<span data-ttu-id="978d6-228">Per eseguire l'override del cursore della classe, elaborare il messaggio [**WM del \_ cursore**](wm-setcursor.md) .</span><span class="sxs-lookup"><span data-stu-id="978d6-228">To override the class cursor, process the [**WM\_SETCURSOR**](wm-setcursor.md) message.</span></span> <span data-ttu-id="978d6-229">È inoltre possibile sostituire un cursore della classe utilizzando la funzione [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) .</span><span class="sxs-lookup"><span data-stu-id="978d6-229">You can also replace a class cursor by using the [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) function.</span></span> <span data-ttu-id="978d6-230">Questa funzione modifica le impostazioni predefinite della finestra per tutte le finestre di una classe specificata.</span><span class="sxs-lookup"><span data-stu-id="978d6-230">This function changes the default window settings for all windows of a specified class.</span></span> <span data-ttu-id="978d6-231">Per ulteriori informazioni, vedere [classe Cursor](/windows/desktop/winmsg/about-window-classes).</span><span class="sxs-lookup"><span data-stu-id="978d6-231">For more information, see [Class Cursor](/windows/desktop/winmsg/about-window-classes).</span></span>

 

 