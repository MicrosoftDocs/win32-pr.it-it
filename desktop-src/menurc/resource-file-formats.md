---
title: Formati di file di risorse
description: Questa sezione descrive il formato del file di risorse binario creato dal compilatore di risorse in base al contenuto del file di definizione delle risorse.
ms.assetid: a0b17555-f50a-4d58-b2bc-760843dd67eb
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b90c789cd1684c1f5ca31af0e2d60a31052ca03f
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "103872498"
---
# <a name="resource-file-formats"></a><span data-ttu-id="3447a-103">Formati di file di risorse</span><span class="sxs-lookup"><span data-stu-id="3447a-103">Resource File Formats</span></span>

<span data-ttu-id="3447a-104">Questa sezione descrive il formato del file di risorse binario creato dal compilatore di risorse in base al contenuto del file di definizione delle risorse.</span><span class="sxs-lookup"><span data-stu-id="3447a-104">This section describes the format of the binary resource file that the resource compiler creates based on the contents of the resource-definition file.</span></span> <span data-ttu-id="3447a-105">Questo file contiene in genere un'estensione res.</span><span class="sxs-lookup"><span data-stu-id="3447a-105">This file usually has an .res extension.</span></span> <span data-ttu-id="3447a-106">Il linker riformatta il file res in un file oggetto risorsa e quindi lo collega al file eseguibile di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="3447a-106">The linker reformats the .res file into a resource object file and then links it to the executable file of an application.</span></span>

<span data-ttu-id="3447a-107">Un file di risorse binario è costituito da un numero di voci di risorse concatenate.</span><span class="sxs-lookup"><span data-stu-id="3447a-107">A binary resource file consists of a number of concatenated resource entries.</span></span> <span data-ttu-id="3447a-108">Ogni voce è costituita da un'intestazione di risorsa e dai dati per tale risorsa.</span><span class="sxs-lookup"><span data-stu-id="3447a-108">Each entry consists of a resource header and the data for that resource.</span></span> <span data-ttu-id="3447a-109">Un'intestazione di risorsa è allineata a **DWORD** nel file ed è costituita dagli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="3447a-109">A resource header is **DWORD**-aligned in the file and consists of the following:</span></span>

-   <span data-ttu-id="3447a-110">**Valore DWORD** che contiene la dimensione dell'intestazione della risorsa</span><span class="sxs-lookup"><span data-stu-id="3447a-110">A **DWORD** that contains the size of the resource header</span></span>
-   <span data-ttu-id="3447a-111">**Valore DWORD** che contiene la dimensione dei dati della risorsa.</span><span class="sxs-lookup"><span data-stu-id="3447a-111">A **DWORD** that contains the size of the resource data</span></span>
-   <span data-ttu-id="3447a-112">Tipo di risorsa</span><span class="sxs-lookup"><span data-stu-id="3447a-112">The resource type</span></span>
-   <span data-ttu-id="3447a-113">Nome della risorsa</span><span class="sxs-lookup"><span data-stu-id="3447a-113">The resource name</span></span>
-   <span data-ttu-id="3447a-114">Informazioni aggiuntive sulle risorse</span><span class="sxs-lookup"><span data-stu-id="3447a-114">Additional resource information</span></span>

<span data-ttu-id="3447a-115">La struttura [**RESOURCEHEADER**](resourceheader.md) descrive il formato di questa intestazione.</span><span class="sxs-lookup"><span data-stu-id="3447a-115">The [**RESOURCEHEADER**](resourceheader.md) structure describes the format of this header.</span></span> <span data-ttu-id="3447a-116">I dati della risorsa seguono l'intestazione della risorsa ed è specifico per ogni tipo di risorsa.</span><span class="sxs-lookup"><span data-stu-id="3447a-116">The data for the resource follows the resource header and is specific to each type of resource.</span></span> <span data-ttu-id="3447a-117">Alcune risorse usano anche una struttura di intestazione di gruppo specifica della risorsa per fornire informazioni su un gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3447a-117">Some resources also employ a resource-specific group header structure to provide information about a group of resources.</span></span>

## <a name="accelerator-table-resources"></a><span data-ttu-id="3447a-118">Risorse tabella acceleratore</span><span class="sxs-lookup"><span data-stu-id="3447a-118">Accelerator Table Resources</span></span>

<span data-ttu-id="3447a-119">Una tabella di tasti di scelta rapida è una voce di risorsa in un file di risorse.</span><span class="sxs-lookup"><span data-stu-id="3447a-119">An accelerator table is one resource entry in a resource file.</span></span> <span data-ttu-id="3447a-120">Non dispone di un'intestazione di gruppo.</span><span class="sxs-lookup"><span data-stu-id="3447a-120">It does not have a group header.</span></span> <span data-ttu-id="3447a-121">Una struttura [**ACCELTABLEENTRY**](acceltableentry.md) descrive ogni voce nella tabella dei tasti di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="3447a-121">An [**ACCELTABLEENTRY**](acceltableentry.md) structure describes each entry in the accelerator table.</span></span> <span data-ttu-id="3447a-122">Sono consentite più tabelle di tasti di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="3447a-122">Multiple accelerator tables are permitted.</span></span>

## <a name="cursor-and-icon-resources"></a><span data-ttu-id="3447a-123">Risorse Cursor e Icon</span><span class="sxs-lookup"><span data-stu-id="3447a-123">Cursor and Icon Resources</span></span>

<span data-ttu-id="3447a-124">Il sistema gestisce ogni icona e cursore come singolo file.</span><span class="sxs-lookup"><span data-stu-id="3447a-124">The system handles each icon and cursor as a single file.</span></span> <span data-ttu-id="3447a-125">Tuttavia, vengono archiviati in file con estensione res e nei file eseguibili come gruppo di risorse icona o un gruppo di risorse del cursore.</span><span class="sxs-lookup"><span data-stu-id="3447a-125">However, these are stored in .res files and in executable files as a group of icon resources or a group of cursor resources.</span></span> <span data-ttu-id="3447a-126">I formati di file delle risorse icona e cursore sono simili.</span><span class="sxs-lookup"><span data-stu-id="3447a-126">The file formats of icon and cursor resources are similar.</span></span> <span data-ttu-id="3447a-127">Nel file res un'intestazione del gruppo di risorse segue tutti i singoli componenti dell'icona o del gruppo di cursori.</span><span class="sxs-lookup"><span data-stu-id="3447a-127">In the .res file a resource group header follows all of the individual icon or cursor group components.</span></span>

<span data-ttu-id="3447a-128">Il formato di ogni componente icona è simile al formato del file con estensione ico.</span><span class="sxs-lookup"><span data-stu-id="3447a-128">The format of each icon component closely resembles the format of the .ico file.</span></span> <span data-ttu-id="3447a-129">Ogni immagine dell'icona viene archiviata in una struttura [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) seguita dai bit DIB (Device-Independent Bitmap) della maschera **Xor** dell'icona.</span><span class="sxs-lookup"><span data-stu-id="3447a-129">Each icon image is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure followed by the color device-independent bitmap (DIB) bits of the icon's **XOR** mask.</span></span> <span data-ttu-id="3447a-130">I bit di DIB monocromatico delle icone **e** della maschera seguono i bit DIB del colore.</span><span class="sxs-lookup"><span data-stu-id="3447a-130">The monochrome DIB bits of the icon's **AND** mask follow the color DIB bits.</span></span>

<span data-ttu-id="3447a-131">Il formato di ogni componente del cursore è simile al formato del file cur.</span><span class="sxs-lookup"><span data-stu-id="3447a-131">The format of each cursor component resembles the format of the .cur file.</span></span> <span data-ttu-id="3447a-132">Ogni immagine del cursore viene archiviata in una struttura [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) seguita da bit DIB monocromi della maschera **Xor** del cursore e quindi dai bit DIB monocromatici delle maschere **e** del cursore.</span><span class="sxs-lookup"><span data-stu-id="3447a-132">Each cursor image is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure followed by the monochrome DIB bits of the cursor's **XOR** mask, and then by the monochrome DIB bits of the cursor's **AND** mask.</span></span> <span data-ttu-id="3447a-133">Si noti che c'è una differenza tra le bitmap delle due risorse: diversamente dalle icone, le maschere del cursore XOR non hanno bit DIB di colore.</span><span class="sxs-lookup"><span data-stu-id="3447a-133">Note that there is a difference in the bitmaps of the two resources: Unlike icons, cursor XOR masks do not have color DIB bits.</span></span> <span data-ttu-id="3447a-134">Sebbene le bitmap delle maschere del cursore siano monocromatiche e non dispongano di intestazioni o tabelle dei colori DIB, i bit sono ancora in formato DIB rispetto all'allineamento e alla direzione.</span><span class="sxs-lookup"><span data-stu-id="3447a-134">Although the bitmaps of the cursor masks are monochrome and do not have DIB headers or color tables, the bits are still in DIB format with respect to alignment and direction.</span></span> <span data-ttu-id="3447a-135">Un'altra differenza significativa tra cursori e icone è che i cursori hanno un hotspot e le icone non lo sono.</span><span class="sxs-lookup"><span data-stu-id="3447a-135">Another significant difference between cursors and icons is that cursors have a hotspot and icons do not.</span></span>

<span data-ttu-id="3447a-136">L'intestazione di gruppo per le risorse icona e cursore è costituita da una struttura [**NEWHEADER**](newheader.md) più una o più strutture [**RESDIR**](resdir.md) .</span><span class="sxs-lookup"><span data-stu-id="3447a-136">The group header for both icon and cursor resources consists of a [**NEWHEADER**](newheader.md) structure plus one or more [**RESDIR**](resdir.md) structures.</span></span> <span data-ttu-id="3447a-137">Esiste una struttura **RESDIR** per ogni icona o cursore.</span><span class="sxs-lookup"><span data-stu-id="3447a-137">There is one **RESDIR** structure for each icon or cursor.</span></span> <span data-ttu-id="3447a-138">L'intestazione di gruppo contiene le informazioni necessarie a un'applicazione per selezionare l'icona o il cursore corretto da visualizzare.</span><span class="sxs-lookup"><span data-stu-id="3447a-138">The group header contains the information an application needs to select the correct icon or cursor to display.</span></span> <span data-ttu-id="3447a-139">Sia l'intestazione di gruppo che i dati ripetuti per ogni icona o cursore del gruppo hanno una lunghezza fissa.</span><span class="sxs-lookup"><span data-stu-id="3447a-139">Both the group header and the data that repeats for each icon or cursor in the group have a fixed length.</span></span> <span data-ttu-id="3447a-140">Ciò consente all'applicazione di accedere in modo casuale alle informazioni.</span><span class="sxs-lookup"><span data-stu-id="3447a-140">This allows the application to randomly access the information.</span></span>

## <a name="dialog-box-resources"></a><span data-ttu-id="3447a-141">Risorse della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="3447a-141">Dialog Box Resources</span></span>

<span data-ttu-id="3447a-142">Una finestra di dialogo è anche una voce di risorsa nel file di risorse.</span><span class="sxs-lookup"><span data-stu-id="3447a-142">A dialog box is also one resource entry in the resource file.</span></span> <span data-ttu-id="3447a-143">È costituito da una struttura di intestazione della finestra di dialogo [**DLGTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) più una struttura [**DLGITEMTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgitemtemplate) per ogni controllo nella finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="3447a-143">It consists of one [**DLGTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) dialog box header structure plus one [**DLGITEMTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgitemtemplate) structure for each control in the dialog box.</span></span> <span data-ttu-id="3447a-144">Le strutture [**DLGTEMPLATEEX**](/windows/desktop/dlgbox/dlgtemplateex) e [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) descrivono il formato delle risorse della finestra di dialogo estese.</span><span class="sxs-lookup"><span data-stu-id="3447a-144">The [**DLGTEMPLATEEX**](/windows/desktop/dlgbox/dlgtemplateex) and the [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) structures describe the format of extended dialog box resources.</span></span>

## <a name="font-resources"></a><span data-ttu-id="3447a-145">Risorse dei tipi di carattere</span><span class="sxs-lookup"><span data-stu-id="3447a-145">Font Resources</span></span>

<span data-ttu-id="3447a-146">I tipi di carattere vengono archiviati nel file di risorse come gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3447a-146">Fonts are stored in the resource file as a group of resources.</span></span> <span data-ttu-id="3447a-147">I singoli tipi di carattere costituiscono un gruppo di tipi di carattere.</span><span class="sxs-lookup"><span data-stu-id="3447a-147">Individual fonts make up a font group.</span></span> <span data-ttu-id="3447a-148">Istruzione di definizione di risorsa dell' [istruzione del tipo di carattere](./font-statement.md) in. Il file RC definisce tutti i tipi di carattere.</span><span class="sxs-lookup"><span data-stu-id="3447a-148">A [FONT Statement](./font-statement.md) resource definition statement in the .RC file defines each font.</span></span> <span data-ttu-id="3447a-149">Ogni singolo carattere nella risorsa è costituito dal contenuto completo del file con estensione FNT correlato.</span><span class="sxs-lookup"><span data-stu-id="3447a-149">Each individual font in the resource consists of the complete contents of the related .fnt file.</span></span> <span data-ttu-id="3447a-150">Una struttura [**FONTGROUPHDR**](fontgrouphdr.md) segue tutti i singoli componenti del tipo di carattere nel file res.</span><span class="sxs-lookup"><span data-stu-id="3447a-150">A [**FONTGROUPHDR**](fontgrouphdr.md) structure follows all the individual font components in the .res file.</span></span>

<span data-ttu-id="3447a-151">Le risorse del tipo di carattere non vengono aggiunte alle risorse di un'applicazione specifica.</span><span class="sxs-lookup"><span data-stu-id="3447a-151">Font resources are not added to the resources of a specific application.</span></span> <span data-ttu-id="3447a-152">Al contrario, vengono in genere aggiunti ai file eseguibili con estensione fon.</span><span class="sxs-lookup"><span data-stu-id="3447a-152">Instead, they are normally added to executable files that have a .fon extension.</span></span> <span data-ttu-id="3447a-153">Questi file sono in genere DLL di solo risorse anziché applicazioni.</span><span class="sxs-lookup"><span data-stu-id="3447a-153">These files are usually resource-only DLLs rather than applications.</span></span>

## <a name="menu-resources"></a><span data-ttu-id="3447a-154">Risorse di menu</span><span class="sxs-lookup"><span data-stu-id="3447a-154">Menu Resources</span></span>

<span data-ttu-id="3447a-155">Una *risorsa di menu* è costituita da una struttura [**MENUHEADER**](menuheader.md) seguita da una o più strutture [**NORMALMENUITEM**](normalmenuitem.md) o [**POPUPMENUITEM**](popupmenuitem.md) , una per ogni voce di menu nel modello di menu.</span><span class="sxs-lookup"><span data-stu-id="3447a-155">A *menu resource* consists of a [**MENUHEADER**](menuheader.md) structure followed by one or more [**NORMALMENUITEM**](normalmenuitem.md) or [**POPUPMENUITEM**](popupmenuitem.md) structures, one for each menu item in the menu template.</span></span> <span data-ttu-id="3447a-156">L' [**\_ \_ intestazione del modello menuex**](menuex-template-header.md) e le strutture degli [**\_ \_ elementi del modello menuex**](menuex-template-item.md) descrivono il formato delle risorse di menu estese.</span><span class="sxs-lookup"><span data-stu-id="3447a-156">The [**MENUEX\_TEMPLATE\_HEADER**](menuex-template-header.md) and the [**MENUEX\_TEMPLATE\_ITEM**](menuex-template-item.md) structures describe the format of extended menu resources.</span></span>

## <a name="message-table-resources"></a><span data-ttu-id="3447a-157">Risorse tabella messaggi</span><span class="sxs-lookup"><span data-stu-id="3447a-157">Message Table Resources</span></span>

<span data-ttu-id="3447a-158">Una *tabella messaggi* è una risorsa che contiene testo formattato da visualizzare come messaggio di errore o in una finestra di messaggio.</span><span class="sxs-lookup"><span data-stu-id="3447a-158">A *message table* is a resource that contains formatted text for display as an error message or in a message box.</span></span> <span data-ttu-id="3447a-159">La struttura principale in una risorsa della tabella messaggi è la struttura [**\_ \_ dei dati della risorsa del messaggio**](/windows/desktop/api/Winnt/ns-winnt-message_resource_data) .</span><span class="sxs-lookup"><span data-stu-id="3447a-159">The main structure in a message table resource is the [**MESSAGE\_RESOURCE\_DATA**](/windows/desktop/api/Winnt/ns-winnt-message_resource_data) structure.</span></span>

## <a name="version-resources"></a><span data-ttu-id="3447a-160">Risorse della versione</span><span class="sxs-lookup"><span data-stu-id="3447a-160">Version Resources</span></span>

<span data-ttu-id="3447a-161">La struttura principale in una risorsa di versione è la struttura di [**Visual Studio \_ informazione FixedFileInfo**](/windows/win32/api/verrsrc/ns-verrsrc-vs_fixedfileinfo) .</span><span class="sxs-lookup"><span data-stu-id="3447a-161">The main structure in a version resource is the [**VS\_FIXEDFILEINFO**](/windows/win32/api/verrsrc/ns-verrsrc-vs_fixedfileinfo) structure.</span></span> <span data-ttu-id="3447a-162">Altre strutture includono la struttura [**VarFileInfo**](varfileinfo.md) per archiviare i dati delle informazioni sulla lingua e [**StringFileInfo**](stringfileinfo.md) per le informazioni sulle stringhe definite dall'utente.</span><span class="sxs-lookup"><span data-stu-id="3447a-162">Additional structures include the [**VarFileInfo**](varfileinfo.md) structure to store language information data, and [**StringFileInfo**](stringfileinfo.md) for user-defined string information.</span></span> <span data-ttu-id="3447a-163">Tutte le stringhe in una risorsa di versione sono in formato Unicode.</span><span class="sxs-lookup"><span data-stu-id="3447a-163">All strings in a version resource are in Unicode format.</span></span> <span data-ttu-id="3447a-164">Ogni blocco di informazioni è allineato a un limite **DWORD** .</span><span class="sxs-lookup"><span data-stu-id="3447a-164">Each block of information is aligned on a **DWORD** boundary.</span></span>

 

 