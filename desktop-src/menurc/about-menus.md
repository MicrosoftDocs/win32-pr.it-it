---
title: Informazioni sui menu
description: In questo argomento vengono illustrati i menu.
ms.assetid: fd0b26f1-93cd-421b-9097-8502ab7681e9
keywords:
- risorse, menu
- menu, informazioni
- sottomenu
- barre dei menu
- menu di primo livello
- scelta rapida (menu)
- menu a discesa
- menu, di primo livello
- menu, popup
- menu, elenco a discesa
- nomi di menu
- menu, collegamento
- menu, finestra
- menu, sistema
- menu, controllo
- menu di scelta rapida
- Menu Finestra
- Menu di sistema
- Menu di controllo
- identificatori della Guida
- handle di menu
- voci di menu
- elementi di comando
- identificatori di voci di menu
- posizione voce menu
- selezione delle voci di menu
- cancellazione di voci di menu
- menu creati dal proprietario
- menu, proprietario disegnato
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ed5d42eb42aaaaa16eef0b5b118adcfe0f91156e
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "104398921"
---
# <a name="about-menus"></a><span data-ttu-id="ec8d1-132">Informazioni sui menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-132">About Menus</span></span>

<span data-ttu-id="ec8d1-133">Un *menu* è un elenco di elementi che specificano opzioni o gruppi di opzioni (un sottomenu) per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-133">A *menu* is a list of items that specify options or groups of options (a submenu) for an application.</span></span> <span data-ttu-id="ec8d1-134">Se si fa clic su una voce di menu, viene aperto un sottomenu o l'applicazione esegue un comando.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-134">Clicking a menu item opens a submenu or causes the application to carry out a command.</span></span> <span data-ttu-id="ec8d1-135">In questa sezione vengono fornite informazioni sui seguenti argomenti:</span><span class="sxs-lookup"><span data-stu-id="ec8d1-135">This section provides information on the following topics:</span></span>

-   [<span data-ttu-id="ec8d1-136">Barre dei menu e menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-136">Menu Bars and Menus</span></span>](#menu-bars-and-menus)
    -   [<span data-ttu-id="ec8d1-137">Menu di scelta rapida</span><span class="sxs-lookup"><span data-stu-id="ec8d1-137">Shortcut Menus</span></span>](#shortcut-menus)
    -   [<span data-ttu-id="ec8d1-138">Menu finestra</span><span class="sxs-lookup"><span data-stu-id="ec8d1-138">The Window Menu</span></span>](#the-window-menu)
    -   [<span data-ttu-id="ec8d1-139">Identificatore della Guida</span><span class="sxs-lookup"><span data-stu-id="ec8d1-139">Help Identifier</span></span>](#help-identifier)
-   [<span data-ttu-id="ec8d1-140">Accesso da tastiera a menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-140">Keyboard Access to Menus</span></span>](#keyboard-access-to-menus)
    -   [<span data-ttu-id="ec8d1-141">Interfaccia della tastiera standard</span><span class="sxs-lookup"><span data-stu-id="ec8d1-141">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
    -   [<span data-ttu-id="ec8d1-142">Chiavi di accesso ai menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-142">Menu Access Keys</span></span>](#menu-access-keys)
    -   [<span data-ttu-id="ec8d1-143">Tasti di scelta rapida del menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-143">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)
-   [<span data-ttu-id="ec8d1-144">Creazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-144">Menu Creation</span></span>](#menu-creation)
    -   [<span data-ttu-id="ec8d1-145">Risorse modello di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-145">Menu Template Resources</span></span>](#menu-template-resources)
    -   [<span data-ttu-id="ec8d1-146">Modello di menu in memoria</span><span class="sxs-lookup"><span data-stu-id="ec8d1-146">Menu Template in Memory</span></span>](#menu-template-in-memory)
    -   [<span data-ttu-id="ec8d1-147">Handle di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-147">Menu Handles</span></span>](#menu-handles)
    -   [<span data-ttu-id="ec8d1-148">Funzioni di creazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-148">Menu Creation Functions</span></span>](#menu-creation-functions)
    -   [<span data-ttu-id="ec8d1-149">Visualizzazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-149">Menu Display</span></span>](#menu-display)
    -   [<span data-ttu-id="ec8d1-150">Menu della classe finestra</span><span class="sxs-lookup"><span data-stu-id="ec8d1-150">Window Class Menus</span></span>](#window-class-menus)
-   [<span data-ttu-id="ec8d1-151">Voci di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-151">Menu Items</span></span>](#menu-items)
    -   [<span data-ttu-id="ec8d1-152">Elementi di comando ed elementi che aprono sottomenu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-152">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
    -   [<span data-ttu-id="ec8d1-153">Identificatore voce di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-153">Menu-Item Identifier</span></span>](#menu-item-identifier)
    -   [<span data-ttu-id="ec8d1-154">Posizione voce menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-154">Menu-Item Position</span></span>](#menu-item-position)
    -   [<span data-ttu-id="ec8d1-155">Accesso alle voci di menu a livello di codice</span><span class="sxs-lookup"><span data-stu-id="ec8d1-155">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
    -   [<span data-ttu-id="ec8d1-156">Voci di menu predefinite</span><span class="sxs-lookup"><span data-stu-id="ec8d1-156">Default Menu Items</span></span>](#default-menu-items)
    -   [<span data-ttu-id="ec8d1-157">Voci di menu selezionate e cancellate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-157">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
    -   [<span data-ttu-id="ec8d1-158">Voci di menu abilitate, in grigio e disabilitate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-158">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
    -   [<span data-ttu-id="ec8d1-159">Voci di menu evidenziate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-159">Highlighted Menu Items</span></span>](#highlighted-menu-items)
    -   [<span data-ttu-id="ec8d1-160">Voci di menu create dal proprietario</span><span class="sxs-lookup"><span data-stu-id="ec8d1-160">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
    -   [<span data-ttu-id="ec8d1-161">Separatori di voci di menu e interruzioni di riga</span><span class="sxs-lookup"><span data-stu-id="ec8d1-161">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)
-   [<span data-ttu-id="ec8d1-162">Messaggi utilizzati con i menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-162">Messages Used with Menus</span></span>](#messages-used-with-menus)
-   [<span data-ttu-id="ec8d1-163">Distruzione di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-163">Menu Destruction</span></span>](#menu-destruction)

## <a name="menu-bars-and-menus"></a><span data-ttu-id="ec8d1-164">Barre dei menu e menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-164">Menu Bars and Menus</span></span>

<span data-ttu-id="ec8d1-165">Un menu viene disposto in una gerarchia.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-165">A menu is arranged in a hierarchy.</span></span> <span data-ttu-id="ec8d1-166">Al livello superiore della gerarchia è presente la *barra dei menu*; che contiene un elenco di *menu* che a loro volta possono contenere *sottomenu*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-166">At the top level of the hierarchy is the *menu bar*; which contains a list of *menus*, which in turn can contain *submenus*.</span></span> <span data-ttu-id="ec8d1-167">Una barra dei menu viene talvolta chiamata *menu di primo livello* e i menu e i sottomenu sono noti anche come menu a *comparsa*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-167">A menu bar is sometimes called a *top-level menu*, and the menus and submenus are also known as *pop-up menus*.</span></span>

<span data-ttu-id="ec8d1-168">Una voce di menu può eseguire un comando o aprire un sottomenu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-168">A menu item can either carry out a command or open a submenu.</span></span> <span data-ttu-id="ec8d1-169">Un elemento che esegue un comando è denominato elemento di *comando* o *comando*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-169">An item that carries out a command is called a *command item* or a *command*.</span></span>

<span data-ttu-id="ec8d1-170">Un elemento nella barra dei menu apre quasi sempre un menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-170">An item on the menu bar almost always opens a menu.</span></span> <span data-ttu-id="ec8d1-171">Le barre dei menu contengono raramente elementi di comando.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-171">Menu bars rarely contain command items.</span></span> <span data-ttu-id="ec8d1-172">Un menu aperto dalla barra dei menu scende dalla barra dei menu e viene talvolta definito menu a *discesa*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-172">A menu opened from the menu bar drops down from the menu bar and is sometimes called a *drop-down menu*.</span></span> <span data-ttu-id="ec8d1-173">Quando viene visualizzato un menu a discesa, questo viene collegato alla barra dei menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-173">When a drop-down menu is displayed, it is attached to the menu bar.</span></span> <span data-ttu-id="ec8d1-174">Una voce di menu sulla barra dei menu che apre un menu a discesa viene anche denominata *nome del menu*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-174">A menu item on the menu bar that opens a drop-down menu is also called a *menu name*.</span></span>

<span data-ttu-id="ec8d1-175">I nomi dei menu in una barra dei menu rappresentano le categorie principali di comandi forniti da un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-175">The menu names on a menu bar represent the main categories of commands that an application provides.</span></span> <span data-ttu-id="ec8d1-176">Selezionando un nome di menu dalla barra dei menu viene in genere aperto un menu le cui voci di menu corrispondono ai comandi di una categoria.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-176">Selecting a menu name from the menu bar typically opens a menu whose menu items correspond to the commands in a category.</span></span> <span data-ttu-id="ec8d1-177">Una barra dei menu, ad esempio, potrebbe contenere un nome di menu **file** che, quando viene selezionato dall'utente, attiva un menu con voci di menu, ad esempio **nuovo**, **Apri** e **Salva**.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-177">For example, a menu bar might contain a **File** menu name that, when clicked by the user, activates a menu with menu items such as **New**, **Open**, and **Save**.</span></span> <span data-ttu-id="ec8d1-178">Per ottenere informazioni su una barra dei menu, chiamare [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-178">To get information about a menu bar, call [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span></span>

<span data-ttu-id="ec8d1-179">Solo una finestra a comparsa o sovrapposta può contenere una barra dei menu; una finestra figlio non può contenere uno.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-179">Only an overlapped or pop-up window can contain a menu bar; a child window cannot contain one.</span></span> <span data-ttu-id="ec8d1-180">Se la finestra dispone di una barra del titolo, il sistema posiziona la barra dei menu immediatamente sotto di essa.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-180">If the window has a title bar, the system positions the menu bar just below it.</span></span> <span data-ttu-id="ec8d1-181">Una barra dei menu è sempre visibile.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-181">A menu bar is always visible.</span></span> <span data-ttu-id="ec8d1-182">Tuttavia, un sottomenu non è visibile, fino a quando l'utente non seleziona una voce di menu che la attiva.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-182">A submenu is not visible, however, until the user selects a menu item that activates it.</span></span> <span data-ttu-id="ec8d1-183">Per ulteriori informazioni sulle finestre sovrapposte e popup, vedere [tipi di finestra](/windows/desktop/winmsg/window-features).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-183">For more information about overlapped and pop-up windows, see [Window Types](/windows/desktop/winmsg/window-features).</span></span>

<span data-ttu-id="ec8d1-184">Ogni menu deve avere una finestra proprietaria.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-184">Each menu must have an owner window.</span></span> <span data-ttu-id="ec8d1-185">Il sistema invia messaggi alla finestra proprietaria di un menu quando l'utente seleziona il menu o sceglie una voce dal menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-185">The system sends messages to a menu's owner window when the user selects the menu or chooses an item from the menu.</span></span>

<span data-ttu-id="ec8d1-186">In questa sezione vengono illustrati gli argomenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-186">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="ec8d1-187">Menu di scelta rapida</span><span class="sxs-lookup"><span data-stu-id="ec8d1-187">Shortcut Menus</span></span>](#shortcut-menus)
-   [<span data-ttu-id="ec8d1-188">Menu finestra</span><span class="sxs-lookup"><span data-stu-id="ec8d1-188">The Window Menu</span></span>](#the-window-menu)
-   [<span data-ttu-id="ec8d1-189">Identificatore della Guida</span><span class="sxs-lookup"><span data-stu-id="ec8d1-189">Help Identifier</span></span>](#help-identifier)

### <a name="shortcut-menus"></a><span data-ttu-id="ec8d1-190">Menu di scelta rapida</span><span class="sxs-lookup"><span data-stu-id="ec8d1-190">Shortcut Menus</span></span>

<span data-ttu-id="ec8d1-191">Il sistema fornisce anche *menu di scelta rapida*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-191">The system also provides *shortcut menus*.</span></span> <span data-ttu-id="ec8d1-192">Un menu di scelta rapida non è collegato alla barra dei menu; può essere visualizzata in qualsiasi punto dello schermo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-192">A shortcut menu is not attached to the menu bar; it can appear anywhere on the screen.</span></span> <span data-ttu-id="ec8d1-193">Un'applicazione in genere associa un menu di scelta rapida con una parte di una finestra, ad esempio l'area client, o con un oggetto specifico, ad esempio un'icona.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-193">An application typically associates a shortcut menu with a portion of a window, such as the client area, or with a specific object, such as an icon.</span></span> <span data-ttu-id="ec8d1-194">Per questo motivo, questi menu sono denominati anche *menu di scelta rapida*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-194">For this reason, these menus are also called *context menus*.</span></span>

<span data-ttu-id="ec8d1-195">Un menu di scelta rapida rimane nascosto fino a quando non viene attivato dall'utente, generalmente facendo clic con il pulsante destro del mouse su una selezione, una barra degli strumenti o un pulsante della barra delle applicazioni</span><span class="sxs-lookup"><span data-stu-id="ec8d1-195">A shortcut menu remains hidden until the user activates it, typically by right-clicking a selection, a toolbar, or a taskbar button.</span></span> <span data-ttu-id="ec8d1-196">Il menu viene in genere visualizzato nella posizione del punto di inserimento o del cursore del mouse.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-196">The menu is usually displayed at the position of the caret or mouse cursor.</span></span>

### <a name="the-window-menu"></a><span data-ttu-id="ec8d1-197">Menu finestra</span><span class="sxs-lookup"><span data-stu-id="ec8d1-197">The Window Menu</span></span>

<span data-ttu-id="ec8d1-198">Il menu **finestra** (noto anche come menu di **sistema** o menu di **controllo** ) è un menu a comparsa definito e gestito quasi esclusivamente dal sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-198">The **Window** menu (also known as the **System** menu or **Control** menu) is a pop-up menu defined and managed almost exclusively by the operating system.</span></span> <span data-ttu-id="ec8d1-199">L'utente può aprire il menu della finestra facendo clic sull'icona dell'applicazione sulla barra del titolo oppure facendo clic con il pulsante destro del mouse in un punto qualsiasi della barra del titolo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-199">The user can open the window menu by clicking the application icon on the title bar or by right-clicking anywhere on the title bar.</span></span>

<span data-ttu-id="ec8d1-200">Il menu **finestra** fornisce un set standard di voci di menu che l'utente può scegliere di modificare le dimensioni o la posizione di una finestra o chiudere l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-200">The **Window** menu provides a standard set of menu items that the user can choose to change a window's size or position, or close the application.</span></span> <span data-ttu-id="ec8d1-201">È possibile aggiungere, eliminare e modificare elementi nel menu finestra, ma la maggior parte delle applicazioni usa semplicemente il set standard di voci di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-201">Items on the window menu can be added, deleted, and modified, but most applications just use the standard set of menu items.</span></span> <span data-ttu-id="ec8d1-202">Una finestra sovrapposta, popup o figlio può avere un menu finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-202">An overlapped, pop-up, or child window can have a window menu.</span></span> <span data-ttu-id="ec8d1-203">Non è frequente che una finestra sovrapposta o popup non includa un menu finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-203">It is uncommon for an overlapped or pop-up window not to include a window menu.</span></span>

<span data-ttu-id="ec8d1-204">Quando l'utente sceglie un comando dal menu **finestra** , il sistema invia un messaggio [**WM \_ SYSCOMMAND**](wm-syscommand.md) alla finestra proprietaria del menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-204">When the user chooses a command from the **Window** menu, the system sends a [**WM\_SYSCOMMAND**](wm-syscommand.md) message to the menu's owner window.</span></span> <span data-ttu-id="ec8d1-205">Nella maggior parte delle applicazioni, la routine della finestra non elabora i messaggi dal menu finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-205">In most applications, the window procedure does not process messages from the window menu.</span></span> <span data-ttu-id="ec8d1-206">Al contrario, passa semplicemente i messaggi alla funzione [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per l'elaborazione predefinita del sistema del messaggio.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-206">Instead, it simply passes the messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for system-default processing of the message.</span></span> <span data-ttu-id="ec8d1-207">Se un'applicazione aggiunge un comando al menu della finestra, la routine della finestra deve elaborare il comando.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-207">If an application adds a command to the window menu, the window procedure must process the command.</span></span>

<span data-ttu-id="ec8d1-208">Un'applicazione può utilizzare la funzione [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) per creare una copia del menu predefinito della finestra da modificare.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-208">An application can use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function to create a copy of the default window menu to modify.</span></span> <span data-ttu-id="ec8d1-209">Qualsiasi finestra che non utilizza la funzione **GetSystemMenu** per eseguire la propria copia del menu finestra riceve il menu della finestra standard.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-209">Any window that does not use the **GetSystemMenu** function to make its own copy of the window menu receives the standard window menu.</span></span>

### <a name="help-identifier"></a><span data-ttu-id="ec8d1-210">Identificatore della Guida</span><span class="sxs-lookup"><span data-stu-id="ec8d1-210">Help Identifier</span></span>

<span data-ttu-id="ec8d1-211">Associato a ogni barra dei menu, menu, sottomenu e menu di scelta rapida è un identificatore della guida.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-211">Associated with each menu bar, menu, submenu, and shortcut menu is a help identifier.</span></span> <span data-ttu-id="ec8d1-212">Se l'utente preme il tasto F1 mentre il menu è attivo, questo valore viene inviato alla finestra proprietaria come parte di un messaggio [**della \_ Guida WM**](../shell/wm-help.md) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-212">If the user presses the F1 key while the menu is active, this value is sent to the owner window as part of a [**WM\_HELP**](../shell/wm-help.md) message.</span></span>

## <a name="keyboard-access-to-menus"></a><span data-ttu-id="ec8d1-213">Accesso da tastiera a menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-213">Keyboard Access to Menus</span></span>

<span data-ttu-id="ec8d1-214">Il sistema fornisce un'interfaccia della tastiera standard per i menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-214">The system provides a standard keyboard interface for menus.</span></span> <span data-ttu-id="ec8d1-215">È possibile migliorare questa interfaccia fornendo chiavi di accesso mnemonico e tasti di scelta rapida per le voci di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-215">You can enhance this interface by providing mnemonic access keys and shortcut (accelerator) keys for your menu items.</span></span>

<span data-ttu-id="ec8d1-216">Negli argomenti seguenti vengono descritti l'interfaccia della tastiera standard, le chiavi di accesso e i tasti di scelta rapida:</span><span class="sxs-lookup"><span data-stu-id="ec8d1-216">The following topics describe the standard keyboard interface, access keys, and shortcut keys:</span></span>

-   [<span data-ttu-id="ec8d1-217">Interfaccia della tastiera standard</span><span class="sxs-lookup"><span data-stu-id="ec8d1-217">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
-   [<span data-ttu-id="ec8d1-218">Chiavi di accesso ai menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-218">Menu Access Keys</span></span>](#menu-access-keys)
-   [<span data-ttu-id="ec8d1-219">Tasti di scelta rapida del menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-219">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)

### <a name="standard-keyboard-interface"></a><span data-ttu-id="ec8d1-220">Interfaccia della tastiera standard</span><span class="sxs-lookup"><span data-stu-id="ec8d1-220">Standard Keyboard Interface</span></span>

<span data-ttu-id="ec8d1-221">Il sistema è progettato per funzionare con o senza un mouse o un altro dispositivo di puntamento.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-221">The system is designed to work with or without a mouse or other pointing device.</span></span> <span data-ttu-id="ec8d1-222">Poiché il sistema fornisce un'interfaccia della tastiera standard, l'utente può utilizzare la tastiera per selezionare le voci di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-222">Because the system provides a standard keyboard interface, the user can use the keyboard to select menu items.</span></span> <span data-ttu-id="ec8d1-223">Questa interfaccia della tastiera non richiede codice speciale.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-223">This keyboard interface does not need special code.</span></span> <span data-ttu-id="ec8d1-224">Un'applicazione riceve un messaggio di comando indipendentemente dal fatto che l'utente selezioni una voce di menu tramite la tastiera o con il mouse.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-224">An application receives a command message whether the user selects a menu item through the keyboard or by using a mouse.</span></span> <span data-ttu-id="ec8d1-225">L'interfaccia della tastiera standard elabora le seguenti sequenze di tasti.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-225">The standard keyboard interface processes the following keystrokes.</span></span>



| <span data-ttu-id="ec8d1-226">Combinazioni di tasti</span><span class="sxs-lookup"><span data-stu-id="ec8d1-226">Keystroke</span></span>              | <span data-ttu-id="ec8d1-227">Azione</span><span class="sxs-lookup"><span data-stu-id="ec8d1-227">Action</span></span>                                                                                                                                                                                                                                   |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ec8d1-228">Carattere alfabetico</span><span class="sxs-lookup"><span data-stu-id="ec8d1-228">Alphabetical character</span></span> | <span data-ttu-id="ec8d1-229">Seleziona la prima voce di menu con il carattere specificato come chiave di accesso.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-229">Selects the first menu item with the specified character as its access key.</span></span> <span data-ttu-id="ec8d1-230">Se l'elemento selezionato richiama un menu, viene visualizzato il menu e il primo elemento viene evidenziato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-230">If the selected item invokes a menu, the menu is displayed and the first item is highlighted.</span></span> <span data-ttu-id="ec8d1-231">In caso contrario, viene scelta la voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-231">Otherwise, the menu item is chosen.</span></span>                            |
| <span data-ttu-id="ec8d1-232">ALT</span><span class="sxs-lookup"><span data-stu-id="ec8d1-232">ALT</span></span>                    | <span data-ttu-id="ec8d1-233">Consente di abilitare o disabilitare la modalità barra dei menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-233">Toggles in and out of menu bar mode.</span></span>                                                                                                                                                                                                     |
| <span data-ttu-id="ec8d1-234">ALT+BARRA SPAZIATRICE</span><span class="sxs-lookup"><span data-stu-id="ec8d1-234">ALT+SPACEBAR</span></span>           | <span data-ttu-id="ec8d1-235">Consente di visualizzare il menu finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-235">Displays the window menu.</span></span>                                                                                                                                                                                                                |
| <span data-ttu-id="ec8d1-236">INVIO</span><span class="sxs-lookup"><span data-stu-id="ec8d1-236">ENTER</span></span>                  | <span data-ttu-id="ec8d1-237">Attiva un menu e seleziona la prima voce di menu se a un elemento è associato un menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-237">Activates a menu and selects the first menu item if an item has a menu associated with it.</span></span> <span data-ttu-id="ec8d1-238">In caso contrario, questa sequenza di tasti sceglie l'elemento come se l'utente avesse rilasciato il pulsante del mouse mentre l'elemento è stato selezionato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-238">Otherwise, this keystroke chooses the item as if the user released the mouse button while the item was selected.</span></span>                              |
| <span data-ttu-id="ec8d1-239">ESC</span><span class="sxs-lookup"><span data-stu-id="ec8d1-239">ESC</span></span>                    | <span data-ttu-id="ec8d1-240">Esce dalla modalità menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-240">Exits menu mode.</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="ec8d1-241">FRECCIA SINISTRA</span><span class="sxs-lookup"><span data-stu-id="ec8d1-241">LEFT ARROW</span></span>             | <span data-ttu-id="ec8d1-242">Passa alla voce di menu di primo livello precedente.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-242">Cycles to the previous top-level menu item.</span></span> <span data-ttu-id="ec8d1-243">Le voci di menu di primo livello includono i nomi dei menu e il menu finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-243">Top-level menu items include menu names and the window menu.</span></span> <span data-ttu-id="ec8d1-244">Se l'elemento selezionato si trova in un menu, viene selezionata la colonna precedente nel menu o è selezionata la voce di menu di primo livello precedente.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-244">If the selected item is in a menu, the previous column in the menu is selected or the previous top-level menu item is selected.</span></span> |
| <span data-ttu-id="ec8d1-245">FRECCIA DESTRA</span><span class="sxs-lookup"><span data-stu-id="ec8d1-245">RIGHT ARROW</span></span>            | <span data-ttu-id="ec8d1-246">Funziona come il tasto freccia sinistra, ad eccezione della direzione opposta.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-246">Works like the LEFT ARROW key, except in the opposite direction.</span></span> <span data-ttu-id="ec8d1-247">Nei menu questa sequenza di tasti viene spostata in un altro colonna; Quando l'elemento attualmente selezionato si trova nella colonna all'estrema destra, viene selezionato il menu successivo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-247">In menus, this keystroke moves forward one column; when the currently selected item is in the far-right column, the next menu is selected.</span></span>                              |
| <span data-ttu-id="ec8d1-248">FRECCE verso l'alto o verso il basso</span><span class="sxs-lookup"><span data-stu-id="ec8d1-248">UP or DOWN ARROWS</span></span>      | <span data-ttu-id="ec8d1-249">Attiva un menu quando viene premuto in un nome di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-249">Activates a menu when pressed in a menu name.</span></span> <span data-ttu-id="ec8d1-250">Quando viene premuto in un menu, la sequenza di tasti freccia su Seleziona l'elemento precedente; la sequenza di tasti freccia giù seleziona l'elemento successivo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-250">When pressed in a menu, the UP ARROW keystroke selects the previous item; the DOWN ARROW keystroke selects the next item.</span></span>                                                                  |



 

### <a name="menu-access-keys"></a><span data-ttu-id="ec8d1-251">Chiavi di accesso ai menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-251">Menu Access Keys</span></span>

<span data-ttu-id="ec8d1-252">L'interfaccia della tastiera standard per i menu può essere migliorata aggiungendo chiavi di accesso (mnemonico) alle voci di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-252">The standard keyboard interface for menus can be enhanced by adding access keys (mnemonics) to menu items.</span></span> <span data-ttu-id="ec8d1-253">Una chiave di accesso è una lettera sottolineata nel testo di una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-253">An access key is an underlined letter in the text of a menu item.</span></span> <span data-ttu-id="ec8d1-254">Quando un menu è attivo, l'utente può selezionare una voce di menu premendo il tasto corrispondente alla lettera sottolineata dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-254">When a menu is active, the user can select a menu item by pressing the key that corresponds to the item's underlined letter.</span></span> <span data-ttu-id="ec8d1-255">L'utente rende attiva la barra dei menu premendo il tasto ALT per evidenziare il primo elemento sulla barra dei menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-255">The user makes the menu bar active by pressing the ALT key to highlight the first item on the menu bar.</span></span> <span data-ttu-id="ec8d1-256">Un menu è attivo quando viene visualizzato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-256">A menu is active when it is displayed.</span></span>

<span data-ttu-id="ec8d1-257">Per creare una chiave di accesso per una voce di menu, precedere qualsiasi carattere nella stringa di testo dell'elemento con una e commerciale.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-257">To create an access key for a menu item, precede any character in the item's text string with an ampersand.</span></span> <span data-ttu-id="ec8d1-258">Ad esempio, la stringa di testo "&Move" fa in modo che il sistema sottolineare la lettera "M".</span><span class="sxs-lookup"><span data-stu-id="ec8d1-258">For example, the text string "&Move" causes the system to underline the letter "M".</span></span>

### <a name="menu-shortcut-keys"></a><span data-ttu-id="ec8d1-259">Tasti di scelta rapida del menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-259">Menu Shortcut Keys</span></span>

<span data-ttu-id="ec8d1-260">Oltre a disporre di una chiave di accesso, a una voce di menu può essere associato un tasto di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-260">In addition to having an access key, a menu item can have a shortcut key associated with it.</span></span> <span data-ttu-id="ec8d1-261">Un tasto di scelta rapida è diverso da un tasto di scelta, perché non è necessario che il menu sia attivo perché il tasto di scelta rapida funzioni.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-261">A shortcut key is different from an access key, because the menu does not have to be active for the shortcut key to work.</span></span> <span data-ttu-id="ec8d1-262">Inoltre, una chiave di accesso è *sempre* associata a una voce di menu, mentre un tasto di scelta rapida è in *genere* , ma non deve essere, associato a una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-262">Also, an access key is *always* associated with a menu item, while an shortcut key is *usually* (but does not have to be) associated with a menu item.</span></span>

<span data-ttu-id="ec8d1-263">Il testo che identifica il tasto di scelta rapida viene aggiunto alla stringa di testo della voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-263">Text that identifies the shortcut key is added to the menu-item text string.</span></span> <span data-ttu-id="ec8d1-264">Il testo del collegamento viene visualizzato a destra del nome della voce di menu, dopo una barra rovesciata e un carattere di tabulazione ( \\ t).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-264">The shortcut text appears to the right of the menu item name, after a backslash and tab character (\\t).</span></span> <span data-ttu-id="ec8d1-265">Ad esempio, "&Close \\ tAlt + F4" rappresenta un comando Close con la combinazione di tasti ALT + F4 come tasto di scelta rapida e con la lettera "C" come chiave di accesso.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-265">For example, "&Close\\tAlt+F4" represents a Close command with the ALT+F4 key combination as its shortcut key and with the letter "C" as its access key.</span></span> <span data-ttu-id="ec8d1-266">Per ulteriori informazioni, vedere [tasti](keyboard-accelerators.md)di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-266">For more information, see [Keyboard Accelerators](keyboard-accelerators.md).</span></span>

## <a name="menu-creation"></a><span data-ttu-id="ec8d1-267">Creazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-267">Menu Creation</span></span>

<span data-ttu-id="ec8d1-268">È possibile creare un menu usando un modello di menu o funzioni di creazione di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-268">You can create a menu using either a menu template or menu creation functions.</span></span> <span data-ttu-id="ec8d1-269">I modelli di menu vengono in genere definiti come risorse.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-269">Menu templates are typically defined as resources.</span></span> <span data-ttu-id="ec8d1-270">Menu: è possibile caricare le risorse del modello in modo esplicito o assegnato come menu predefinito per una classe di finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-270">Menu-template resources can be loaded explicitly or assigned as the default menu for a window class.</span></span> <span data-ttu-id="ec8d1-271">È anche possibile creare risorse del modello di menu in modo dinamico in memoria.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-271">You can also create menu-template resources dynamically in memory.</span></span>

<span data-ttu-id="ec8d1-272">Gli argomenti seguenti descrivono in dettaglio la creazione di menu:</span><span class="sxs-lookup"><span data-stu-id="ec8d1-272">The following topics describe menu creation in detail:</span></span>

-   [<span data-ttu-id="ec8d1-273">Risorse modello di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-273">Menu Template Resources</span></span>](#menu-template-resources)
-   [<span data-ttu-id="ec8d1-274">Modello di menu in memoria</span><span class="sxs-lookup"><span data-stu-id="ec8d1-274">Menu Template in Memory</span></span>](#menu-template-in-memory)
-   [<span data-ttu-id="ec8d1-275">Handle di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-275">Menu Handles</span></span>](#menu-handles)
-   [<span data-ttu-id="ec8d1-276">Funzioni di creazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-276">Menu Creation Functions</span></span>](#menu-creation-functions)
-   [<span data-ttu-id="ec8d1-277">Visualizzazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-277">Menu Display</span></span>](#menu-display)
-   [<span data-ttu-id="ec8d1-278">Menu della classe finestra</span><span class="sxs-lookup"><span data-stu-id="ec8d1-278">Window Class Menus</span></span>](#window-class-menus)

### <a name="menu-template-resources"></a><span data-ttu-id="ec8d1-279">Risorse modello di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-279">Menu Template Resources</span></span>

<span data-ttu-id="ec8d1-280">La maggior parte delle applicazioni crea menu usando le risorse del modello di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-280">Most applications create menus using menu-template resources.</span></span> <span data-ttu-id="ec8d1-281">Un *modello di menu* definisce un menu che include gli elementi nella barra dei menu e in tutti i menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-281">A *menu template* defines a menu, including the items in the menu bar and all menus.</span></span> <span data-ttu-id="ec8d1-282">Per informazioni sulla creazione di una risorsa modello di menu, vedere la documentazione inclusa con gli strumenti di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-282">For information about creating a menu-template resource, see the documentation included with your development tools.</span></span>

<span data-ttu-id="ec8d1-283">Dopo aver creato una risorsa del modello di menu e averla aggiunta al file eseguibile dell'applicazione (exe), è possibile usare la funzione [**LoadMenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) per caricare la risorsa in memoria.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-283">After you create a menu-template resource and add it to your application's executable (.exe) file, you can use the [**LoadMenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) function to load the resource into memory.</span></span> <span data-ttu-id="ec8d1-284">Questa funzione restituisce un handle per il menu, che è quindi possibile assegnare a una finestra utilizzando la funzione [**semenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-284">This function returns a handle to the menu, which you can then assign to a window by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="ec8d1-285">È possibile assegnare un menu a qualsiasi finestra che non sia una finestra figlio.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-285">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="ec8d1-286">L'implementazione di menu come risorse rende più semplice la localizzazione di un'applicazione per l'uso in più paesi/aree geografiche.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-286">Implementing menus as resources makes an application easier to localize for use in multiple countries/regions.</span></span> <span data-ttu-id="ec8d1-287">È necessario localizzare solo il file di definizione delle risorse per ogni lingua, non per il codice sorgente dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-287">Only the resource-definition file needs to be localized for each language, not the application's source code.</span></span>

### <a name="menu-template-in-memory"></a><span data-ttu-id="ec8d1-288">Modello di menu in memoria</span><span class="sxs-lookup"><span data-stu-id="ec8d1-288">Menu Template in Memory</span></span>

<span data-ttu-id="ec8d1-289">È possibile creare un menu da un modello di menu compilato in memoria in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-289">A menu can be created from a menu template that is built in memory at run time.</span></span> <span data-ttu-id="ec8d1-290">Ad esempio, un'applicazione che consente a un utente di personalizzare il menu potrebbe creare un modello di menu in memoria in base alle preferenze dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-290">For example, an application that allows a user to customize its menu might create a menu template in memory based on the user's preferences.</span></span> <span data-ttu-id="ec8d1-291">L'applicazione può quindi salvare il modello in un file o nel registro di sistema per un uso futuro.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-291">The application could then save the template in a file or in the registry for future use.</span></span> <span data-ttu-id="ec8d1-292">Per creare un menu da un modello in memoria, usare la funzione [**LoadMenuIndirect**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-292">To create a menu from a template in memory, use the [**LoadMenuIndirect**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) function.</span></span> <span data-ttu-id="ec8d1-293">Per le descrizioni dei formati dei modelli di menu, vedere [risorse del modello di menu](#menu-template-resources).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-293">For descriptions of menu-template formats, see [Menu Template Resources](#menu-template-resources).</span></span>

<span data-ttu-id="ec8d1-294">Un modello di menu standard è costituito da una struttura [**MENUITEMTEMPLATEHEADER**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) seguita da una o più strutture [**MENUITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-294">A standard menu template consists of a [**MENUITEMTEMPLATEHEADER**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) structure followed by one or more [**MENUITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) structures.</span></span>

<span data-ttu-id="ec8d1-295">Un modello di menu esteso è costituito da una struttura di [**\_ \_ intestazione del modello menuex**](menuex-template-header.md) seguita da una o più strutture di [**\_ \_ elementi del modello menuex**](menuex-template-item.md) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-295">An extended menu template consists of a [**MENUEX\_TEMPLATE\_HEADER**](menuex-template-header.md) structure followed by one or more [**MENUEX\_TEMPLATE\_ITEM**](menuex-template-item.md) structures.</span></span>

### <a name="menu-handles"></a><span data-ttu-id="ec8d1-296">Handle di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-296">Menu Handles</span></span>

<span data-ttu-id="ec8d1-297">Il sistema genera un handle univoco per ogni menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-297">The system generates a unique handle to each menu.</span></span> <span data-ttu-id="ec8d1-298">Un *handle di menu* è un valore del tipo **HMENU** .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-298">A *menu handle* is a value of the **HMENU** type.</span></span> <span data-ttu-id="ec8d1-299">Un'applicazione deve specificare un handle di menu in molte delle funzioni di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-299">An application must specify a menu handle in many of the menu functions.</span></span> <span data-ttu-id="ec8d1-300">Si riceve un handle per una barra dei menu quando si crea il menu o si carica una risorsa di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-300">You receive a handle to a menu bar when you create the menu or load a menu resource.</span></span>

<span data-ttu-id="ec8d1-301">Per recuperare un handle per la barra dei menu per un menu che è stato creato o caricato, usare la funzione [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-301">To retrieve a handle to the menu bar for a menu that has been created or loaded, use the [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) function.</span></span> <span data-ttu-id="ec8d1-302">Per recuperare un handle per il sottomenu associato a una voce di menu, usare la funzione [**getsottomenù**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) o [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-302">To retrieve a handle to the submenu associated with a menu item, use the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span> <span data-ttu-id="ec8d1-303">Per recuperare un handle a un menu finestra, utilizzare la funzione [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-303">To retrieve a handle to a window menu, use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function.</span></span>

### <a name="menu-creation-functions"></a><span data-ttu-id="ec8d1-304">Funzioni di creazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-304">Menu Creation Functions</span></span>

<span data-ttu-id="ec8d1-305">Utilizzando le funzioni di creazione dei menu, è possibile creare menu in fase di esecuzione o aggiungere voci di menu a menu esistenti.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-305">Using menu creation functions, you can create menus at run time or add menu items to existing menus.</span></span> <span data-ttu-id="ec8d1-306">È possibile usare la funzione [**CreateMenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) per creare una barra dei menu vuota e la funzione [**CreatePopupMenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) per creare un menu vuoto.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-306">You can use the [**CreateMenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) function to create an empty menu bar and the [**CreatePopupMenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) function to create an empty menu.</span></span> <span data-ttu-id="ec8d1-307">È possibile salvare alcune informazioni sulle impostazioni per un menu usando la struttura [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-307">You can save certain settings information for a menu by using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="ec8d1-308">Per ottenere o recuperare le impostazioni di un menu, usare [**GetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) o [**SetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-308">To get or retrieve the settings of a menu, use [**GetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) or [**SetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo).</span></span> <span data-ttu-id="ec8d1-309">Per aggiungere elementi a un menu, utilizzare la funzione [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-309">To add items to a menu, use the [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) function.</span></span> <span data-ttu-id="ec8d1-310">Le funzioni [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) e [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) meno recenti sono ancora supportate, ma è necessario usare **InsertMenuItem** per le nuove applicazioni.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-310">The older [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) and [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) functions are still supported, but **InsertMenuItem** should be used for new applications.</span></span>

### <a name="menu-display"></a><span data-ttu-id="ec8d1-311">Visualizzazione menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-311">Menu Display</span></span>

<span data-ttu-id="ec8d1-312">Dopo che un menu è stato caricato o creato, deve essere assegnato a una finestra prima che il sistema possa visualizzarlo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-312">After a menu has been loaded or created, it must be assigned to a window before the system can display it.</span></span> <span data-ttu-id="ec8d1-313">È possibile assegnare un menu definendo un menu classe.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-313">You can assign a menu by defining a class menu.</span></span> <span data-ttu-id="ec8d1-314">Per altre informazioni, vedere [menu della classe Window](#window-class-menus).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-314">For more information, see [Window Class Menus](#window-class-menus).</span></span> <span data-ttu-id="ec8d1-315">È anche possibile assegnare un menu a una finestra specificando un handle per il menu come parametro *HMENU* della funzione [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) oppure chiamando la funzione [**semenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-315">You can also assign a menu to a window by specifying a handle to the menu as the *hMenu* parameter of the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, or by calling the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span>

<span data-ttu-id="ec8d1-316">Per visualizzare un menu di scelta rapida, utilizzare la funzione [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-316">To display a shortcut menu use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span> <span data-ttu-id="ec8d1-317">I menu di scelta rapida, detti anche menu a comparsa mobile o menu di scelta rapida, vengono in genere visualizzati quando il messaggio [**WM \_ ContextMenu**](wm-contextmenu.md) viene elaborato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-317">Shortcut menus, also called floating pop-up menus or context menus, are typically displayed when the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message is processed.</span></span>

<span data-ttu-id="ec8d1-318">È possibile assegnare un menu a qualsiasi finestra che non sia una finestra figlio.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-318">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="ec8d1-319">La funzione [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) precedente è ancora supportata, ma le nuove applicazioni devono usare la funzione [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-319">The older [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) function is still supported, but new applications should use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span>

### <a name="window-class-menus"></a><span data-ttu-id="ec8d1-320">Menu della classe finestra</span><span class="sxs-lookup"><span data-stu-id="ec8d1-320">Window Class Menus</span></span>

<span data-ttu-id="ec8d1-321">Quando si registra una classe della finestra, è possibile specificare un menu predefinito, denominato *menu classe* .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-321">You can specify a default menu, called a *class menu,* when you register a window class.</span></span> <span data-ttu-id="ec8d1-322">A tale scopo, assegnare il nome della risorsa del modello di menu al membro **lpszMenuName** della struttura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) usata per registrare la classe.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-322">To do so, you assign the name of the menu-template resource to the **lpszMenuName** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure used to register the class.</span></span>

<span data-ttu-id="ec8d1-323">Per impostazione predefinita, a ogni finestra viene assegnato il menu della classe per la relativa classe della finestra, pertanto non è necessario caricare in modo esplicito il menu e assegnarlo a ogni finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-323">By default, every window is assigned the class menu for its window class so you do not need to explicitly load the menu and assign it to each window.</span></span> <span data-ttu-id="ec8d1-324">È possibile eseguire l'override del menu della classe specificando un handle di menu diverso in una chiamata alla funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-324">You can override the class menu by specifying a different menu handle in a call to the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="ec8d1-325">È anche possibile modificare il menu di una finestra dopo averla creata tramite la funzione [**semenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-325">You can also change a window's menu after it is created by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="ec8d1-326">Per altre informazioni, vedere [classi di finestra](/windows/desktop/winmsg/window-classes).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-326">For more information, see [Window Classes](/windows/desktop/winmsg/window-classes).</span></span>

## <a name="menu-items"></a><span data-ttu-id="ec8d1-327">Voci di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-327">Menu Items</span></span>

<span data-ttu-id="ec8d1-328">Negli argomenti seguenti viene illustrato il funzionamento del sistema quando l'utente sceglie una voce di menu e i modi in cui un'applicazione può controllare l'aspetto e la funzionalità di un elemento:</span><span class="sxs-lookup"><span data-stu-id="ec8d1-328">The following topics discuss what the system does when the user chooses a menu item, and the ways an application can control an item's appearance and functionality:</span></span>

-   [<span data-ttu-id="ec8d1-329">Elementi di comando ed elementi che aprono sottomenu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-329">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
-   [<span data-ttu-id="ec8d1-330">Identificatore voce di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-330">Menu-Item Identifier</span></span>](#menu-item-identifier)
-   [<span data-ttu-id="ec8d1-331">Posizione voce menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-331">Menu-Item Position</span></span>](#menu-item-position)
-   [<span data-ttu-id="ec8d1-332">Accesso alle voci di menu a livello di codice</span><span class="sxs-lookup"><span data-stu-id="ec8d1-332">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
-   [<span data-ttu-id="ec8d1-333">Voci di menu predefinite</span><span class="sxs-lookup"><span data-stu-id="ec8d1-333">Default Menu Items</span></span>](#default-menu-items)
-   [<span data-ttu-id="ec8d1-334">Voci di menu selezionate e cancellate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-334">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
-   [<span data-ttu-id="ec8d1-335">Voci di menu abilitate, in grigio e disabilitate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-335">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
-   [<span data-ttu-id="ec8d1-336">Voci di menu evidenziate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-336">Highlighted Menu Items</span></span>](#highlighted-menu-items)
-   [<span data-ttu-id="ec8d1-337">Voci di menu create dal proprietario</span><span class="sxs-lookup"><span data-stu-id="ec8d1-337">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
-   [<span data-ttu-id="ec8d1-338">Separatori di voci di menu e interruzioni di riga</span><span class="sxs-lookup"><span data-stu-id="ec8d1-338">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)

### <a name="command-items-and-items-that-open-submenus"></a><span data-ttu-id="ec8d1-339">Elementi di comando ed elementi che aprono sottomenu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-339">Command Items and Items that Open Submenus</span></span>

<span data-ttu-id="ec8d1-340">Quando l'utente sceglie un elemento di comando, il sistema invia un messaggio di comando alla finestra che possiede il menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-340">When the user chooses a command item, the system sends a command message to the window that owns the menu.</span></span> <span data-ttu-id="ec8d1-341">Se l'elemento di comando si trova nel menu finestra, il sistema invia il messaggio [**WM \_ SYSCOMMAND**](wm-syscommand.md) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-341">If the command item is on the window menu, the system sends the [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="ec8d1-342">In caso contrario, invia il messaggio del [**\_ comando WM**](wm-command.md) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-342">Otherwise, it sends the [**WM\_COMMAND**](wm-command.md) message.</span></span>

<span data-ttu-id="ec8d1-343">Associato a ogni voce di menu che apre un sottomenu è un handle per il sottomenu corrispondente.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-343">Associated with each menu item that opens a submenu is a handle to the corresponding submenu.</span></span> <span data-ttu-id="ec8d1-344">Quando l'utente punta a tale elemento, il sistema apre il sottomenu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-344">When the user points to such an item, the system opens the submenu.</span></span> <span data-ttu-id="ec8d1-345">Nessun messaggio di comando inviato alla finestra proprietaria.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-345">No command message is sent to the owner window.</span></span> <span data-ttu-id="ec8d1-346">Tuttavia, il sistema invia un messaggio [**WM \_ INITMENUPOPUP**](wm-initmenupopup.md) alla finestra proprietaria prima di visualizzare il sottomenu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-346">However, the system sends a [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message to the owner window before displaying the submenu.</span></span> <span data-ttu-id="ec8d1-347">È possibile ottenere un handle per il sottomenu associato a un elemento usando la funzione [**getsottomenù**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) o [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-347">You can get a handle to the submenu associated with an item by using the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="ec8d1-348">Una barra dei menu contiene in genere i nomi di menu, ma può contenere anche elementi di comando.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-348">A menu bar typically contains menu names, but it can also contain command items.</span></span> <span data-ttu-id="ec8d1-349">Un sottomenu contiene in genere gli elementi del comando, ma può contenere anche elementi che aprono i sottomenu annidati.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-349">A submenu typically contains command items, but it can also contain items that open nested submenus.</span></span> <span data-ttu-id="ec8d1-350">Aggiungendo tali elementi ai sottomenu, è possibile annidare i menu a qualsiasi profondità.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-350">By adding such items to submenus, you can nest menus to any depth.</span></span> <span data-ttu-id="ec8d1-351">Per fornire un segnale visivo per l'utente, il sistema visualizza automaticamente una piccola freccia a destra del testo di una voce di menu che apre un sottomenu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-351">To provide a visual cue for the user, the system automatically displays a small arrow to the right of the text of a menu item that opens a submenu.</span></span>

### <a name="menu-item-identifier"></a><span data-ttu-id="ec8d1-352">Identificatore Menu-Item</span><span class="sxs-lookup"><span data-stu-id="ec8d1-352">Menu-Item Identifier</span></span>

<span data-ttu-id="ec8d1-353">Associato a ogni voce di menu è un intero univoco definito dall'applicazione, denominato *identificatore voce di menu*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-353">Associated with each menu item is a unique, application-defined integer, called a *menu-item identifier*.</span></span> <span data-ttu-id="ec8d1-354">Quando l'utente sceglie un elemento di comando da un menu, il sistema invia l'identificatore dell'elemento alla finestra proprietaria come parte di un messaggio di [**\_ comando WM**](wm-command.md) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-354">When the user chooses a command item from a menu, the system sends the item's identifier to the owner window as part of a [**WM\_COMMAND**](wm-command.md) message.</span></span> <span data-ttu-id="ec8d1-355">La routine della finestra esamina l'identificatore per determinare l'origine del messaggio ed elabora il messaggio di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-355">The window procedure examines the identifier to determine the source of the message, and processes the message accordingly.</span></span> <span data-ttu-id="ec8d1-356">Inoltre, è possibile specificare una voce di menu usando il relativo identificatore quando si chiamano le funzioni di menu; ad esempio, per abilitare o disabilitare una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-356">In addition, you can specify a menu item using its identifier when you call menu functions; for example, to enable or disable a menu item.</span></span>

<span data-ttu-id="ec8d1-357">Le voci di menu che aprono sottomenu hanno identificatori esattamente come gli elementi di comando.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-357">Menu items that open submenus have identifiers just as command items do.</span></span> <span data-ttu-id="ec8d1-358">Tuttavia, il sistema non invia un messaggio di comando quando tale elemento viene selezionato da un menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-358">However, the system does not send a command message when such an item is selected from a menu.</span></span> <span data-ttu-id="ec8d1-359">Al contrario, il sistema apre il sottomenu associato alla voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-359">Instead, the system opens the submenu associated with the menu item.</span></span>

<span data-ttu-id="ec8d1-360">Per recuperare l'identificatore della voce di menu in una posizione specificata, utilizzare la funzione [**GetMenuItemID**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) o [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-360">To retrieve the identifier of the menu item at a specified position, use the [**GetMenuItemID**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

### <a name="menu-item-position"></a><span data-ttu-id="ec8d1-361">Posizione Menu-Item</span><span class="sxs-lookup"><span data-stu-id="ec8d1-361">Menu-Item Position</span></span>

<span data-ttu-id="ec8d1-362">Oltre a disporre di un identificatore univoco, ogni voce di menu in una barra dei menu o un menu ha un valore di posizione univoco.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-362">In addition to having a unique identifier, each menu item in a menu bar or menu has a unique position value.</span></span> <span data-ttu-id="ec8d1-363">L'elemento più a sinistra in una barra dei menu o l'elemento superiore di un menu ha la posizione zero.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-363">The leftmost item in a menu bar, or the top item in a menu, has position zero.</span></span> <span data-ttu-id="ec8d1-364">Il valore di posizione viene incrementato per le voci di menu successive.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-364">The position value is incremented for subsequent menu items.</span></span> <span data-ttu-id="ec8d1-365">Il sistema assegna un valore di posizione a tutti gli elementi in un menu, inclusi i separatori.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-365">The system assigns a position value to all items in a menu, including separators.</span></span> <span data-ttu-id="ec8d1-366">Nella figura seguente vengono mostrati i valori di posizione degli elementi in una barra dei menu e in un menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-366">The following illustration shows the position values of items in a menu bar and in a menu.</span></span>

![barra dei menu e menu](images/csemn-01.png)

<span data-ttu-id="ec8d1-368">Quando si chiama una funzione di menu che modifica o recupera informazioni su una voce di menu specifica, è possibile specificare l'elemento utilizzando il relativo identificatore o la relativa posizione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-368">When calling a menu function that modifies or retrieves information about a specific menu item, you can specify the item using either its identifier or its position.</span></span> <span data-ttu-id="ec8d1-369">Per ulteriori informazioni, vedere la sezione successiva.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-369">For more information, see the next section.</span></span>

### <a name="accessing-menu-items-programmatically"></a><span data-ttu-id="ec8d1-370">Accesso alle voci di menu a livello di codice</span><span class="sxs-lookup"><span data-stu-id="ec8d1-370">Accessing Menu Items Programmatically</span></span>

<span data-ttu-id="ec8d1-371">La maggior parte delle funzioni di menu consente di specificare una voce di menu in base alla posizione o al comando.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-371">Most menu functions allow you to specify a menu item either by position or by command.</span></span> <span data-ttu-id="ec8d1-372">Alcune funzioni usano i flag **MF \_ BYPOSITION** e **MF \_ BYCOMMAND** per indicare l'algoritmo di ricerca, mentre altri hanno un parametro *fByPosition* esplicito.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-372">Some functions use the **MF\_BYPOSITION** and **MF\_BYCOMMAND** flags to indicate the search algorithm; others have an explicit *fByPosition* parameter.</span></span> <span data-ttu-id="ec8d1-373">Se si specifica la voce di menu in base alla posizione, il numero dell'elemento è un indice in base zero nel menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-373">If you specify the menu item by position, the item number is a zero-based index into the menu.</span></span> <span data-ttu-id="ec8d1-374">Se si specifica la voce di menu per comando, nel menu e nei relativi sottomenu viene cercata una voce il cui identificatore di menu è uguale al numero di elemento specificato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-374">If you specify the menu item by command, the menu and its submenus are searched for an item whose menu identifier equals the item number provided.</span></span> <span data-ttu-id="ec8d1-375">Se più di un elemento nella gerarchia dei menu corrisponde al numero di elemento, non è specificato quello utilizzato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-375">If more than one item in the menu hierarchy matches the item number, it is unspecified which one is used.</span></span> <span data-ttu-id="ec8d1-376">Se i menu contengono identificatori di menu duplicati, è consigliabile usare operazioni di menu basate sulla posizione per evitare questa ambiguità.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-376">If your menus contain duplicate menu identifiers, you should use position-based menu operations to avoid this ambiguity.</span></span>

### <a name="default-menu-items"></a><span data-ttu-id="ec8d1-377">Voci di menu predefinite</span><span class="sxs-lookup"><span data-stu-id="ec8d1-377">Default Menu Items</span></span>

<span data-ttu-id="ec8d1-378">Un sottomenu può contenere una voce di menu predefinita.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-378">A submenu can contain one default menu item.</span></span> <span data-ttu-id="ec8d1-379">Quando l'utente apre un sottomenu facendo doppio clic, il sistema invia un messaggio di comando alla finestra proprietaria del menu e chiude il menu come se fosse stato scelto l'elemento di comando predefinito.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-379">When the user opens a submenu by double-clicking, the system sends a command message to the menu's owner window and closes the menu as if the default command item had been chosen.</span></span> <span data-ttu-id="ec8d1-380">Se non è presente alcun elemento del comando predefinito, il sottomenu rimane aperto.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-380">If there is no default command item, the submenu remains open.</span></span> <span data-ttu-id="ec8d1-381">Per recuperare e impostare l'elemento predefinito per un sottomenu, usare le funzioni [**GetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) e [**SetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-381">To retrieve and set the default item for a submenu, use the [**GetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) and [**SetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) functions.</span></span>

### <a name="selected-and-clear-menu-items"></a><span data-ttu-id="ec8d1-382">Voci di menu selezionate e cancellate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-382">Selected and Clear Menu Items</span></span>

<span data-ttu-id="ec8d1-383">Una voce di menu può essere selezionata o deselezionata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-383">A menu item can be either selected or clear.</span></span> <span data-ttu-id="ec8d1-384">Il sistema Visualizza una bitmap accanto alle voci di menu selezionate per indicare lo stato selezionato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-384">The system displays a bitmap next to selected menu items to indicate their selected state.</span></span> <span data-ttu-id="ec8d1-385">Il sistema non visualizza una bitmap accanto a Cancella elementi, a meno che non sia specificata una bitmap "Clear" definita dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-385">The system does not display a bitmap next to clear items, unless an application-defined "clear" bitmap is specified.</span></span> <span data-ttu-id="ec8d1-386">È possibile selezionare solo voci di menu in un menu; non è possibile selezionare elementi in una barra dei menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-386">Only menu items in a menu can be selected; items in a menu bar cannot be selected.</span></span>

<span data-ttu-id="ec8d1-387">Le applicazioni in genere controllano o cancellano una voce di menu per indicare se è attiva un'opzione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-387">Applications typically check or clear a menu item to indicate whether an option is in effect.</span></span> <span data-ttu-id="ec8d1-388">Si supponga, ad esempio, che un'applicazione disponga di una barra degli strumenti che l'utente può visualizzare o nascondere utilizzando un comando della **barra degli strumenti** in un menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-388">For example, suppose an application has a toolbar that the user can show or hide by using a **Toolbar** command on a menu.</span></span> <span data-ttu-id="ec8d1-389">Quando la barra degli strumenti è nascosta, la voce di menu della **barra degli strumenti** è deselezionata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-389">When the toolbar is hidden, the **Toolbar** menu item is clear.</span></span> <span data-ttu-id="ec8d1-390">Quando l'utente sceglie il comando, l'applicazione controlla la voce di menu e Mostra la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-390">When the user chooses the command, the application checks the menu item and shows the toolbar.</span></span>

<span data-ttu-id="ec8d1-391">Un attributo di segno di spunta controlla se è selezionata una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-391">A check mark attribute controls whether a menu item is selected.</span></span> <span data-ttu-id="ec8d1-392">È possibile impostare l'attributo del segno di spunta di una voce di menu tramite la funzione [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-392">You can set a menu item's check mark attribute by using the [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) function.</span></span> <span data-ttu-id="ec8d1-393">È possibile utilizzare la funzione [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) per determinare se una voce di menu è attualmente selezionata o deselezionata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-393">You can use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is currently selected or cleared.</span></span>

<span data-ttu-id="ec8d1-394">Anziché [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) e [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate), è possibile usare le funzioni [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) e [**SetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) per recuperare e impostare lo stato di selezione di una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-394">Instead of [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) and [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate), you can use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) and [**SetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) functions to retrieve and set the check state of a menu item.</span></span>

<span data-ttu-id="ec8d1-395">In alcuni casi, un gruppo di voci di menu corrisponde a un set di opzioni che si escludono a vicenda.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-395">Sometimes, a group of menu items corresponds to a set of mutually exclusive options.</span></span> <span data-ttu-id="ec8d1-396">In questo caso, è possibile indicare l'opzione selezionata utilizzando una voce di menu di opzione selezionata (analogamente a un controllo pulsante di opzione).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-396">In this case, you can indicate the selected option by using a selected radio menu item (analogous to a radio button control).</span></span> <span data-ttu-id="ec8d1-397">Gli elementi radio selezionati vengono visualizzati con una bitmap Bullet anziché con una bitmap di segno di spunta.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-397">Selected radio items are displayed with a bullet bitmap instead of a check mark bitmap.</span></span> <span data-ttu-id="ec8d1-398">Per controllare una voce di menu e impostarla come voce di Radio, usare la funzione [**CheckMenuRadioItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-398">To check a menu item and make it a radio item, use the [**CheckMenuRadioItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) function.</span></span>

<span data-ttu-id="ec8d1-399">Per impostazione predefinita, il sistema Visualizza un segno di spunta o una bitmap Bullet accanto a voci di menu selezionate e nessuna bitmap accanto a voci di menu deselezionate.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-399">By default, the system displays a check mark or bullet bitmap next to selected menu items and no bitmap next to cleared menu items.</span></span> <span data-ttu-id="ec8d1-400">È tuttavia possibile usare la funzione [**SetMenuItemBitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) per associare le bitmap selezionate e cancellate dall'applicazione a una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-400">However, you can use the [**SetMenuItemBitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) function to associate application-defined selected and cleared bitmaps with a menu item.</span></span> <span data-ttu-id="ec8d1-401">Il sistema usa quindi le bitmap specificate per indicare lo stato selezionato o cancellato della voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-401">The system then uses the specified bitmaps to indicate the menu item's selected or cleared state.</span></span>

<span data-ttu-id="ec8d1-402">Le bitmap definite dall'applicazione associate a una voce di menu devono avere le stesse dimensioni della bitmap del segno di spunta predefinito, le cui dimensioni possono variare a seconda della risoluzione dello schermo.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-402">Application-defined bitmaps associated with a menu item must be the same size as the default check mark bitmap, the dimensions of which may vary depending on screen resolution.</span></span> <span data-ttu-id="ec8d1-403">Per recuperare le dimensioni corrette, utilizzare la funzione [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-403">To retrieve the correct dimensions, use the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span> <span data-ttu-id="ec8d1-404">È possibile creare più risorse bitmap per diverse risoluzioni dello schermo; creare una risorsa bitmap e ridimensionarla, se necessario; in alternativa, creare una bitmap in fase di esecuzione e creare un'immagine al suo interno.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-404">You can create multiple bitmap resources for different screen resolutions; create one bitmap resource and scale it, if necessary; or create a bitmap at run time and draw an image in it.</span></span> <span data-ttu-id="ec8d1-405">Le bitmap possono essere di tipo monocromatico o colore.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-405">The bitmaps may be either monochrome or color.</span></span> <span data-ttu-id="ec8d1-406">Tuttavia, poiché le voci di menu vengono invertite quando evidenziato, l'aspetto di determinate bitmap di colore invertite potrebbe essere indesiderato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-406">However, because menu items are inverted when highlighted, the appearance of certain inverted color bitmaps may be undesirable.</span></span> <span data-ttu-id="ec8d1-407">Per ulteriori informazioni, vedere [bitmap](/windows/desktop/gdi/bitmaps).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-407">For more information, see [Bitmaps](/windows/desktop/gdi/bitmaps).</span></span>

### <a name="enabled-grayed-and-disabled-menu-items"></a><span data-ttu-id="ec8d1-408">Voci di menu abilitate, in grigio e disabilitate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-408">Enabled, Grayed, and Disabled Menu Items</span></span>

<span data-ttu-id="ec8d1-409">Una voce di menu può essere abilitata, visualizzata in grigio o disabilitata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-409">A menu item can be enabled, grayed, or disabled.</span></span> <span data-ttu-id="ec8d1-410">Per impostazione predefinita, una voce di menu è abilitata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-410">By default, a menu item is enabled.</span></span> <span data-ttu-id="ec8d1-411">Quando l'utente sceglie una voce di menu abilitata, il sistema invia un messaggio di comando alla finestra proprietaria o Visualizza il sottomenu corrispondente, a seconda del tipo di voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-411">When the user chooses an enabled menu item, the system sends a command message to the owner window or displays the corresponding submenu, depending on what kind of menu item it is.</span></span>

<span data-ttu-id="ec8d1-412">Quando le voci di menu non sono disponibili per l'utente, devono essere visualizzate in grigio o disabilitate.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-412">When menu items are not available to the user, they should be grayed or disabled.</span></span> <span data-ttu-id="ec8d1-413">Non è possibile scegliere voci di menu in grigio e disabilitate.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-413">Grayed and disabled menu items cannot be chosen.</span></span> <span data-ttu-id="ec8d1-414">Un elemento disabilitato è simile a un elemento attivato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-414">A disabled item looks just like an enabled item.</span></span> <span data-ttu-id="ec8d1-415">Quando l'utente fa clic su un elemento disabilitato, l'elemento non è selezionato e non viene eseguita alcuna operazione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-415">When the user clicks on a disabled item, the item is not selected, and nothing happens.</span></span> <span data-ttu-id="ec8d1-416">Gli elementi disabilitati possono essere utili, ad esempio, in un'esercitazione che presenta un menu che sembra attivo ma non lo è.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-416">Disabled items can be useful in, for example, a tutorial that presents a menu that looks active but isn't.</span></span>

<span data-ttu-id="ec8d1-417">Un'applicazione Disabilita una voce di menu non disponibile per fornire all'utente un segnale visivo che non è disponibile un comando.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-417">An application grays an unavailable menu item to provide a visual cue to the user that a command is not available.</span></span> <span data-ttu-id="ec8d1-418">È possibile utilizzare un elemento disattivato quando un'azione non è appropriata. ad esempio, è possibile utilizzare il comando **stampa** nel menu **file** quando il sistema non dispone di una stampante installata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-418">You can use a grayed item when an action is not appropriate (for example, you can gray the **Print** command in the **File** menu when the system does not have a printer installed).</span></span>

<span data-ttu-id="ec8d1-419">La funzione [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) Abilita, Disabilita o Disabilita una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-419">The [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) function enables, grays, or disables a menu item.</span></span> <span data-ttu-id="ec8d1-420">Per determinare se una voce di menu è abilitata, in grigio o disabilitata, utilizzare la funzione [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-420">To determine whether a menu item is enabled, grayed, or disabled, use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="ec8d1-421">Anziché [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa), è anche possibile usare la funzione [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) per determinare se una voce di menu è abilitata, in grigio o disabilitata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-421">Instead of [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa), you can also use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is enabled, grayed, or disabled.</span></span>

### <a name="highlighted-menu-items"></a><span data-ttu-id="ec8d1-422">Voci di menu evidenziate</span><span class="sxs-lookup"><span data-stu-id="ec8d1-422">Highlighted Menu Items</span></span>

<span data-ttu-id="ec8d1-423">Il sistema evidenzia automaticamente le voci di menu nei menu quando vengono selezionate dall'utente.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-423">The system automatically highlights menu items on menus as the user selects them.</span></span> <span data-ttu-id="ec8d1-424">Tuttavia, l'evidenziazione può essere aggiunta o rimossa in modo esplicito da un nome di menu sulla barra dei menu tramite la funzione [**HiliteMenuItem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-424">However, highlighting can be explicitly added or removed from a menu name on the menu bar by using the [**HiliteMenuItem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) function.</span></span> <span data-ttu-id="ec8d1-425">Questa funzione non ha effetto sulle voci di menu nei menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-425">This function has no effect on menu items on menus.</span></span> <span data-ttu-id="ec8d1-426">Quando **HiliteMenuItem** viene usato per evidenziare un nome di menu, tuttavia, il nome sembra essere selezionato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-426">When **HiliteMenuItem** is used to highlight a menu name, though, the name only appears to be selected.</span></span> <span data-ttu-id="ec8d1-427">Se l'utente preme il tasto invio, l'elemento evidenziato non viene selezionato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-427">If the user presses the ENTER key, the highlighted item is not chosen.</span></span> <span data-ttu-id="ec8d1-428">Questa funzionalità può essere utile, ad esempio, in un'applicazione di training che illustra l'uso dei menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-428">This feature might be useful in, for example, a training application that demonstrates the use of menus.</span></span>

### <a name="owner-drawn-menu-items"></a><span data-ttu-id="ec8d1-429">Voci di menu Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="ec8d1-429">Owner-Drawn Menu Items</span></span>

<span data-ttu-id="ec8d1-430">Un'applicazione è in grado di controllare completamente l'aspetto di una voce di menu utilizzando un *elemento creato dal proprietario*.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-430">An application can completely control the appearance of a menu item by using an *owner-drawn item*.</span></span> <span data-ttu-id="ec8d1-431">Gli elementi creati dal proprietario richiedono che un'applicazione assuma la responsabilità totale del disegno degli stati selezionati (evidenziati), selezionati e cancellati.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-431">Owner-drawn items require an application to take total responsibility for drawing selected (highlighted), selected, and cleared states.</span></span> <span data-ttu-id="ec8d1-432">Se, ad esempio, un'applicazione ha fornito un menu del tipo di carattere, può creare ogni voce di menu usando il tipo di carattere corrispondente. l'elemento per Roman viene disegnato con Roman, l'elemento per Italic viene disegnato in corsivo e così via.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-432">For example, if an application provided a font menu, it could draw each menu item by using the corresponding font; the item for Roman would be drawn with roman, the item for Italic would be drawn in italic, and so on.</span></span> <span data-ttu-id="ec8d1-433">Per ulteriori informazioni, vedere [creazione di Owner-Drawn voci di menu](using-menus.md).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-433">For more information, see [Creating Owner-Drawn Menu Items](using-menus.md).</span></span>

### <a name="menu-item-separators-and-line-breaks"></a><span data-ttu-id="ec8d1-434">Separatori di voci di menu e interruzioni di riga</span><span class="sxs-lookup"><span data-stu-id="ec8d1-434">Menu Item Separators and Line Breaks</span></span>

<span data-ttu-id="ec8d1-435">Il sistema fornisce un tipo speciale di voce di menu, denominato *separatore*, che viene visualizzato come linea orizzontale.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-435">The system provides a special type of menu item, called a *separator*, that appears as a horizontal line.</span></span> <span data-ttu-id="ec8d1-436">È possibile utilizzare un separatore per dividere un menu in gruppi di elementi correlati.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-436">You can use a separator to divide a menu into groups of related items.</span></span> <span data-ttu-id="ec8d1-437">Non è possibile usare un separatore in una barra dei menu e l'utente non può selezionare un separatore.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-437">A separator cannot be used in a menu bar, and the user cannot select a separator.</span></span>

<span data-ttu-id="ec8d1-438">Quando una barra dei menu contiene più nomi di menu che si adattano a una sola riga, il sistema esegue il wrapping della barra dei menu suddividendo automaticamente in due o più righe.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-438">When a menu bar contains more menu names than will fit on one line, the system wraps the menu bar by automatically breaking it into two or more lines.</span></span> <span data-ttu-id="ec8d1-439">È possibile fare in modo che un'interruzioni di riga venga eseguita in corrispondenza di un elemento specifico in una barra dei menu assegnando il flag di tipo **\_ MENUBREAK di MFT** all'elemento.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-439">You can cause a line break to occur at a specific item on a menu bar by assigning the **MFT\_MENUBREAK** type flag to the item.</span></span> <span data-ttu-id="ec8d1-440">Il sistema posiziona l'elemento e tutti gli elementi successivi in una nuova riga.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-440">The system places that item and all subsequent items on a new line.</span></span>

<span data-ttu-id="ec8d1-441">Quando un menu contiene più elementi di quelli che rientrano in una colonna, il menu viene troncato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-441">When a menu contains more items than will fit in one column, the menu will be truncated.</span></span> <span data-ttu-id="ec8d1-442">È possibile fare in modo che un'interruzioni di colonna venga eseguita in corrispondenza di un elemento specifico in un menu assegnando il flag di tipo **MFT \_ MENUBREAK** all'elemento o utilizzando l'opzione MENUBREAK nell'istruzione [MenuItem](/windows/desktop/menurc/menuitem-statement) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-442">You can cause a column break to occur at a specific item in a menu by assigning the **MFT\_MENUBREAK** type flag to the item or using the MENUBREAK option in the [MENUITEM](/windows/desktop/menurc/menuitem-statement) statement.</span></span> <span data-ttu-id="ec8d1-443">Il sistema posiziona l'elemento e tutti gli elementi successivi in una nuova colonna.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-443">The system places that item and all subsequent items in a new column.</span></span> <span data-ttu-id="ec8d1-444">Il flag di tipo **MFT \_ MENUBARBREAK** ha lo stesso effetto, ad eccezione del fatto che viene visualizzata una linea verticale tra la nuova colonna e la vecchia.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-444">The **MFT\_MENUBARBREAK** type flag has the same effect, except that a vertical line appears between the new column and the old.</span></span>

<span data-ttu-id="ec8d1-445">Se si usano le funzioni [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua)o [**ModifyMenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) per assegnare le interruzioni di riga, è necessario assegnare i flag di tipo **MF \_ MENUBREAK** o **MF \_ MENUBARBREAK**.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-445">If you use the [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua), or [**ModifyMenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) functions to assign line breaks, you should assign the type flags **MF\_MENUBREAK** or **MF\_MENUBARBREAK**.</span></span>

## <a name="messages-used-with-menus"></a><span data-ttu-id="ec8d1-446">Messaggi utilizzati con i menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-446">Messages Used with Menus</span></span>

<span data-ttu-id="ec8d1-447">L'attività correlata al menu segnala il sistema inviando messaggi alla routine della finestra che possiede il menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-447">The system reports menu-related activity by sending messages to the window procedure of the window that owns the menu.</span></span> <span data-ttu-id="ec8d1-448">Il sistema invia una serie di messaggi quando l'utente seleziona elementi sulla barra dei menu o fa clic con il pulsante destro del mouse per visualizzare un menu di scelta rapida.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-448">The system sends a series of messages when the user selects items on the menu bar or clicks the right mouse button to display a shortcut menu.</span></span>

<span data-ttu-id="ec8d1-449">Quando l'utente attiva un elemento nella barra dei menu, la finestra proprietaria riceve prima di tutto un messaggio [**WM \_ SYSCOMMAND**](wm-syscommand.md) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-449">When the user activates an item on the menu bar, the owner window first receives a [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="ec8d1-450">Questo messaggio include un flag che indica se l'utente ha attivato il menu usando la tastiera ( \_ menu SC) o il mouse (SC \_ MOUSEMENU).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-450">This message includes a flag that indicates whether the user activated the menu by using the keyboard (SC\_KEYMENU) or the mouse (SC\_MOUSEMENU).</span></span> <span data-ttu-id="ec8d1-451">Per ulteriori informazioni, vedere [accesso da tastiera a menu](#keyboard-access-to-menus).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-451">For more information, see [Keyboard Access to Menus](#keyboard-access-to-menus).</span></span>

<span data-ttu-id="ec8d1-452">Successivamente, prima di visualizzare i menu, il sistema invia il messaggio [**WM \_ INITMENU**](wm-initmenu.md) alla routine della finestra in modo che un'applicazione possa modificare i menu prima che l'utente li visualizzi.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-452">Next, before displaying any menus, the system sends the [**WM\_INITMENU**](wm-initmenu.md) message to the window procedure so that an application can modify the menus before the user sees them.</span></span> <span data-ttu-id="ec8d1-453">Il sistema invia il **messaggio \_ INITMENU WM** solo una volta per ogni attivazione di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-453">The system sends the **WM\_INITMENU** message only once per menu activation.</span></span>

<span data-ttu-id="ec8d1-454">Quando l'utente punta a una voce di menu che apre un sottomenu, il sistema invia la finestra proprietaria al messaggio [**WM \_ INITMENUPOPUP**](wm-initmenupopup.md) prima di visualizzare il sottomenu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-454">When the user points to a menu item that opens a submenu, the system sends the owner window the [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message before displaying the submenu.</span></span> <span data-ttu-id="ec8d1-455">Questo messaggio fornisce all'applicazione la possibilità di modificare il sottomenu prima che venga visualizzato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-455">This message gives the application an opportunity to modify the submenu before it is displayed.</span></span>

<span data-ttu-id="ec8d1-456">Ogni volta che l'utente sposta l'evidenziazione da un elemento a un altro, il sistema invia un messaggio [**WM \_ MENUSELECT**](wm-menuselect.md) alla procedura della finestra proprietaria del menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-456">Each time the user moves the highlighting from one item to another, the system sends a [**WM\_MENUSELECT**](wm-menuselect.md) message to the window procedure of the menu's owner window.</span></span> <span data-ttu-id="ec8d1-457">Questo messaggio identifica la voce di menu attualmente selezionata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-457">This message identifies the currently selected menu item.</span></span> <span data-ttu-id="ec8d1-458">Molte applicazioni forniscono un'area informazioni nella parte inferiore delle finestre principali e utilizzano questo messaggio per visualizzare informazioni aggiuntive sulla voce di menu selezionata.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-458">Many applications provide an information area at the bottom of their main windows and use this message to display additional information about the selected menu item.</span></span>

<span data-ttu-id="ec8d1-459">Quando l'utente sceglie un elemento di comando da un menu, il sistema invia un messaggio di [**\_ comando WM**](wm-command.md) alla routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-459">When the user chooses a command item from a menu, the system sends a [**WM\_COMMAND**](wm-command.md) message to the window procedure.</span></span> <span data-ttu-id="ec8d1-460">La parola più bassa del parametro *wParam* del messaggio del **\_ comando WM** contiene l'identificatore dell'elemento scelto.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-460">The low-order word of the **WM\_COMMAND** message's *wParam* parameter contains the identifier of the chosen item.</span></span> <span data-ttu-id="ec8d1-461">La routine della finestra deve esaminare l'identificatore ed elaborare di conseguenza il messaggio.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-461">The window procedure should examine the identifier and process the message accordingly.</span></span>

<span data-ttu-id="ec8d1-462">È possibile salvare le informazioni per un menu usando la struttura [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-462">You can save information for a menu using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="ec8d1-463">Se il menu è definito con un **MENUINFO**. valore **dwStyle** di MNS \_ NOTIFYBYPOS, il sistema invia il comando [**WM \_ MENUCOMMAND**](wm-menucommand.md) anziché [**il \_ comando WM**](wm-command.md) quando viene selezionato un elemento.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-463">If the menu is defined with a **MENUINFO**.**dwStyle** value of MNS\_NOTIFYBYPOS, the system sends [**WM\_MENUCOMMAND**](wm-menucommand.md) instead of the [**WM\_COMMAND**](wm-command.md) when an item is selected.</span></span> <span data-ttu-id="ec8d1-464">Questo consente di accedere alle informazioni nella struttura **MENUINFO** e fornisce anche l'indice dell'elemento selezionato direttamente.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-464">This allows you to access the information in the **MENUINFO** structure and also provides the index of the selected item directly.</span></span>

<span data-ttu-id="ec8d1-465">Non tutti i menu sono accessibili tramite la barra dei menu di una finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-465">Not all menus are accessible through a window's menu bar.</span></span> <span data-ttu-id="ec8d1-466">Molte applicazioni visualizzano i menu di scelta rapida quando l'utente fa clic con il pulsante destro del mouse in una posizione specifica.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-466">Many applications display shortcut menus when the user clicks the right mouse button at a specific location.</span></span> <span data-ttu-id="ec8d1-467">Tali applicazioni devono elaborare il messaggio [**WM \_ ContextMenu**](wm-contextmenu.md) e visualizzare un menu di scelta rapida, se appropriato.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-467">Such applications should process the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message and display a shortcut menu, if appropriate.</span></span> <span data-ttu-id="ec8d1-468">Se un'applicazione non visualizza un menu di scelta rapida, deve passare il messaggio **WM \_ ContextMenu** alla funzione [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per l'elaborazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-468">If an application does not display a shortcut menu, it should pass the **WM\_CONTEXTMENU** message to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for default processing.</span></span>

<span data-ttu-id="ec8d1-469">Il messaggio [**WM \_ MENURBUTTONUP**](wm-menurbuttonup.md) viene inviato quando l'utente rilascia il pulsante destro del mouse mentre il cursore si trova in una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-469">The [**WM\_MENURBUTTONUP**](wm-menurbuttonup.md) message is sent when the user releases the right mouse button while the cursor is on a menu item.</span></span> <span data-ttu-id="ec8d1-470">Questo messaggio viene fornito in modo che le applicazioni possano visualizzare un menu di scelta rapida o sensibile al contesto per una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-470">This message is provided so that applications can display a context-sensitive or shortcut menu for a menu item.</span></span>

<span data-ttu-id="ec8d1-471">Ci sono alcuni messaggi che coinvolgono solo i menu con trascinamento della selezione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-471">There are a few messages that only involve drag-and-drop menus.</span></span> <span data-ttu-id="ec8d1-472">Il [**\_ MENUGETOBJECT WM**](wm-menugetobject.md) viene inviato al proprietario di un menu di trascinamento della selezione quando il cursore del mouse entra in una voce di menu o passa dal centro di un elemento alla parte superiore o inferiore di un elemento.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-472">The [**WM\_MENUGETOBJECT**](wm-menugetobject.md) is sent to the owner of a drag-and-drop menu when the mouse cursor enters a menu item or moves from the center of an item to the top or the bottom of an item.</span></span> <span data-ttu-id="ec8d1-473">Il messaggio [**WM \_ MENUDRAG**](wm-menudrag.md) viene inviato quando l'utente trascina effettivamente una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-473">The [**WM\_MENUDRAG**](wm-menudrag.md) message is sent when the user actually drags a menu item.</span></span>

<span data-ttu-id="ec8d1-474">Quando un menu a discesa o un sottomenu è stato eliminato definitivamente, il sistema invia un messaggio [**WM \_ UNINITMENUPOPUP**](wm-uninitmenupopup.md) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-474">When a drop-down menu or a submenu has been destroyed, the system sends a [**WM\_UNINITMENUPOPUP**](wm-uninitmenupopup.md) message.</span></span>

## <a name="menu-destruction"></a><span data-ttu-id="ec8d1-475">Distruzione di menu</span><span class="sxs-lookup"><span data-stu-id="ec8d1-475">Menu Destruction</span></span>

<span data-ttu-id="ec8d1-476">Se un menu viene assegnato a una finestra e tale finestra viene distrutta, il sistema distrugge automaticamente il menu e i relativi sottomenu, liberando il punto di controllo del menu e la memoria occupata dal menu.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-476">If a menu is assigned to a window and that window is destroyed, the system automatically destroys the menu and its submenus, freeing the menu's handle and the memory occupied by the menu.</span></span> <span data-ttu-id="ec8d1-477">Il sistema non elimina automaticamente un menu non assegnato a una finestra.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-477">The system does not automatically destroy a menu that is not assigned to a window.</span></span> <span data-ttu-id="ec8d1-478">Un'applicazione deve eliminare il menu non assegnato chiamando la funzione [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) .</span><span class="sxs-lookup"><span data-stu-id="ec8d1-478">An application must destroy the unassigned menu by calling the [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) function.</span></span> <span data-ttu-id="ec8d1-479">In caso contrario, il menu continua a esistere in memoria anche dopo la chiusura dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-479">Otherwise, the menu continues to exist in memory even after the application closes.</span></span> <span data-ttu-id="ec8d1-480">Per terminare il menu attivo del thread chiamante, usare [**EndMenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span><span class="sxs-lookup"><span data-stu-id="ec8d1-480">To end the calling thread's active menu, use [**EndMenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span></span> <span data-ttu-id="ec8d1-481">Se una piattaforma non supporta **EndMenu**, inviare il proprietario del menu attivo a [**WM \_ CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) Message.</span><span class="sxs-lookup"><span data-stu-id="ec8d1-481">If a platform does not support **EndMenu**, send the owner of the active menu a [**WM\_CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) message.</span></span>

 

 