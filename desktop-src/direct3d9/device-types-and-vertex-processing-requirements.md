---
description: Le prestazioni delle operazioni di elaborazione dei vertici, incluse la trasformazione e l'illuminazione, dipendono in larga misura dal punto in cui è presente il buffer dei vertici in memoria e dal tipo di dispositivo di rendering utilizzato.
ms.assetid: 4f9ca83d-c9d6-4749-944d-78f831b0f44e
title: Tipi di dispositivi e requisiti di elaborazione dei vertici (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 590cf2f5423d9c3bdf3e19c91f30b3e8c0586687
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104521442"
---
# <a name="device-types-and-vertex-processing-requirements-direct3d-9"></a><span data-ttu-id="bb056-103">Tipi di dispositivi e requisiti di elaborazione dei vertici (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="bb056-103">Device Types and Vertex Processing Requirements (Direct3D 9)</span></span>

<span data-ttu-id="bb056-104">Le prestazioni delle operazioni di elaborazione dei vertici, incluse la trasformazione e l'illuminazione, dipendono in larga misura dal punto in cui è presente il buffer dei vertici in memoria e dal tipo di dispositivo di rendering utilizzato.</span><span class="sxs-lookup"><span data-stu-id="bb056-104">The performance of vertex processing operations, including transformation and lighting, depends heavily on where the vertex buffer exists in memory and what type of rendering device is being used.</span></span> <span data-ttu-id="bb056-105">Le applicazioni controllano l'allocazione di memoria per i buffer dei vertici quando vengono creati.</span><span class="sxs-lookup"><span data-stu-id="bb056-105">Applications control the memory allocation for vertex buffers when they are created.</span></span> <span data-ttu-id="bb056-106">Quando \_ viene impostato il flag di Memoria D3DPOOL SYSTEMMEM, il buffer dei vertici viene creato nella memoria di sistema.</span><span class="sxs-lookup"><span data-stu-id="bb056-106">When the D3DPOOL\_SYSTEMMEM memory flag is set, the vertex buffer is created in system memory.</span></span> <span data-ttu-id="bb056-107">Quando \_ viene utilizzato il flag di memoria predefinito D3DPOOL, il driver di dispositivo determina la posizione in cui viene allocata la memoria per il buffer dei vertici, spesso denominata memoria ottimale del driver.</span><span class="sxs-lookup"><span data-stu-id="bb056-107">When the D3DPOOL\_DEFAULT memory flag is used, the device driver determines where the memory for the vertex buffer is best allocated, often referred to as driver-optimal memory.</span></span> <span data-ttu-id="bb056-108">Driver: la memoria ottimale può essere memoria video locale, memoria video non locale o memoria di sistema.</span><span class="sxs-lookup"><span data-stu-id="bb056-108">Driver-optimal memory can be local video memory, nonlocal video memory, or system memory.</span></span>

<span data-ttu-id="bb056-109">L'impostazione della \_ costante D3DUSAGE SOFTWAREPROCESSING con [**IDirect3DDevice9:: CreateVertexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer) Abilita l'elaborazione dei vertici software sui dati del buffer dei vertici.</span><span class="sxs-lookup"><span data-stu-id="bb056-109">Setting the D3DUSAGE\_SOFTWAREPROCESSING constant with [**IDirect3DDevice9::CreateVertexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer) enables software vertex processing on the vertex buffer data.</span></span> <span data-ttu-id="bb056-110">Questo flag è obbligatorio per l'elaborazione dei vertici software in modalità mista.</span><span class="sxs-lookup"><span data-stu-id="bb056-110">This flag is required for software vertex processing while in mixed mode.</span></span> <span data-ttu-id="bb056-111">Non è possibile usare il flag per la modalità di elaborazione dei vertici hardware.</span><span class="sxs-lookup"><span data-stu-id="bb056-111">The flag may not be used for hardware vertex processing mode.</span></span> <span data-ttu-id="bb056-112">I buffer vertex usati con l'elaborazione dei vertici software includono quanto segue:</span><span class="sxs-lookup"><span data-stu-id="bb056-112">Vertex buffers used with software vertex processing include the following:</span></span>

-   <span data-ttu-id="bb056-113">Tutti i flussi di input per [**IDirect3DDevice9::P rocessvertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices).</span><span class="sxs-lookup"><span data-stu-id="bb056-113">All input streams for [**IDirect3DDevice9::ProcessVertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices).</span></span>
-   <span data-ttu-id="bb056-114">Tutti i flussi di input per [**IDirect3DDevice9::D rawprimitive**](/windows/desktop/api) e [**IDirect3DDevice9::D rawindexedprimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive).</span><span class="sxs-lookup"><span data-stu-id="bb056-114">All input streams for [**IDirect3DDevice9::DrawPrimitive**](/windows/desktop/api) and [**IDirect3DDevice9::DrawIndexedPrimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive).</span></span>

<span data-ttu-id="bb056-115">Il ragionamento usato per determinare la posizione di memoria, ovvero il sistema o il driver ottimale, per i buffer dei vertici è uguale a quello per le trame.</span><span class="sxs-lookup"><span data-stu-id="bb056-115">The reasoning you use to determine the memory location - system or driver optimal - for vertex buffers is the same as that for textures.</span></span> <span data-ttu-id="bb056-116">L'elaborazione dei vertici, inclusa la trasformazione e l'illuminazione, nell'hardware funziona meglio quando i buffer dei vertici vengono allocati nella memoria ottimale del driver, mentre l'elaborazione dei vertici software funziona meglio con i buffer dei vertici allocati nella memoria di sistema.</span><span class="sxs-lookup"><span data-stu-id="bb056-116">Vertex processing, including transformation and lighting, in hardware works best when the vertex buffers are allocated in driver-optimal memory, while software vertex processing works best with vertex buffers allocated in system memory.</span></span> <span data-ttu-id="bb056-117">Per le trame, la rasterizzazione hardware funziona meglio quando le trame vengono allocate nella memoria ottimale del driver, mentre la rasterizzazione del software funziona meglio con le trame della memoria di sistema.</span><span class="sxs-lookup"><span data-stu-id="bb056-117">For textures, hardware rasterization works best when textures are allocated in driver-optimal memory, while software rasterization works best with system-memory textures.</span></span>

<span data-ttu-id="bb056-118">Microsoft Direct3D 9 supporta l'elaborazione autonoma dei vertici, senza eseguire il rendering di una primitiva con il metodo [**IDirect3DDevice9::P rocessvertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices) .</span><span class="sxs-lookup"><span data-stu-id="bb056-118">Microsoft Direct3D 9 supports standalone processing of vertices, without rendering any primitive with the [**IDirect3DDevice9::ProcessVertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices) method.</span></span> <span data-ttu-id="bb056-119">Questa elaborazione di vertici autonomi viene sempre eseguita nel software sul processore host.</span><span class="sxs-lookup"><span data-stu-id="bb056-119">This standalone vertex processing is always performed in software on the host processor.</span></span> <span data-ttu-id="bb056-120">Per questo motivo, è necessario creare i buffer dei vertici usati come origini impostate con [**IDirect3DDevice9:: SetStreamSource**](/windows/desktop/api) con il \_ flag D3DUSAGE SOFTWAREPROCESSING.</span><span class="sxs-lookup"><span data-stu-id="bb056-120">Because of this, vertex buffers used as sources set with [**IDirect3DDevice9::SetStreamSource**](/windows/desktop/api) must be created with the D3DUSAGE\_SOFTWAREPROCESSING flag.</span></span> <span data-ttu-id="bb056-121">La funzionalità fornita da **IDirect3DDevice9::P rocessvertices** è identica a quella dei metodi [**IDirect3DDevice9::D rawprimitive**](/windows/desktop/api) e [**IDirect3DDevice9::D rawindexedprimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive) durante l'uso dell'elaborazione dei vertici software.</span><span class="sxs-lookup"><span data-stu-id="bb056-121">The functionality provided by **IDirect3DDevice9::ProcessVertices** is identical to that of the [**IDirect3DDevice9::DrawPrimitive**](/windows/desktop/api) and [**IDirect3DDevice9::DrawIndexedPrimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive) methods while using software vertex processing.</span></span>

<span data-ttu-id="bb056-122">Se l'applicazione esegue la propria elaborazione dei vertici e passa i vertici trasformati, illuminati e ritagliati ai metodi di rendering, l'applicazione può scrivere direttamente i vertici in un buffer vertex allocato nella memoria ottimale del driver.</span><span class="sxs-lookup"><span data-stu-id="bb056-122">If your application performs its own vertex processing and passes transformed, lit, and clipped vertices to rendering methods, then the application can directly write vertices to a vertex buffer allocated in driver-optimal memory.</span></span> <span data-ttu-id="bb056-123">Questa tecnica impedisce un'operazione di copia ridondante in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="bb056-123">This technique prevents a redundant copy operation later.</span></span> <span data-ttu-id="bb056-124">Si noti che questa tecnica non funzionerà correttamente se l'applicazione legge i dati da un vertex buffer, perché le operazioni di lettura eseguite dall'host dalla memoria ottimale del driver possono essere molto lente.</span><span class="sxs-lookup"><span data-stu-id="bb056-124">Note that this technique will not work well if your application reads data back from a vertex buffer, because read operations done by the host from driver-optimal memory can be very slow.</span></span> <span data-ttu-id="bb056-125">Pertanto, se l'applicazione deve leggere durante l'elaborazione o scrive i dati nel buffer in modo anomalo, è preferibile scegliere un buffer dei vertici della memoria di sistema.</span><span class="sxs-lookup"><span data-stu-id="bb056-125">Therefore, if your application needs to read during processing or writes data to the buffer erratically, a system-memory vertex buffer is a better choice.</span></span>

<span data-ttu-id="bb056-126">Quando si usano le funzionalità di elaborazione dei vertici Direct3D (passando i vertici non trasformati ai metodi di rendering del buffer dei vertici), l'elaborazione può essere eseguita in hardware o software a seconda del tipo di dispositivo e dei flag di creazione del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="bb056-126">When using the Direct3D vertex processing features (by passing untransformed vertices to vertex-buffer rendering methods), processing can occur in either hardware or software depending on the device type and device creation flags.</span></span> <span data-ttu-id="bb056-127">È consigliabile allocare i buffer dei vertici nel pool D3DPOOL \_ default per ottenere prestazioni ottimali in quasi tutti i casi.</span><span class="sxs-lookup"><span data-stu-id="bb056-127">It is recommended that vertex buffers be allocated in pool D3DPOOL\_DEFAULT for best performance in virtually all cases.</span></span> <span data-ttu-id="bb056-128">Quando un dispositivo usa l'elaborazione dei vertici hardware, è possibile eseguire alcune ottimizzazioni aggiuntive in base ai flag D3DUSAGE \_ Dynamic e D3DUSAGE \_ WRITEONLY.</span><span class="sxs-lookup"><span data-stu-id="bb056-128">When a device is using hardware vertex processing, there are a number of additional optimizations that may be done based on the flags D3DUSAGE\_DYNAMIC and D3DUSAGE\_WRITEONLY.</span></span> <span data-ttu-id="bb056-129">Per ulteriori informazioni sull'utilizzo di questi flag, vedere IDirect3DDevice9:: CreateVertexBuffer.</span><span class="sxs-lookup"><span data-stu-id="bb056-129">See IDirect3DDevice9::CreateVertexBuffer for more information about using these flags.</span></span>

## <a name="related-topics"></a><span data-ttu-id="bb056-130">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="bb056-130">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bb056-131">Buffer vertici</span><span class="sxs-lookup"><span data-stu-id="bb056-131">Vertex Buffers</span></span>](vertex-buffers.md)
</dt> </dl>

 

 
