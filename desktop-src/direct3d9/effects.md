---
description: Un effetto Microsoft DirectX consente l'integrazione di Vertex e pixel shader con lo stato della pipeline per il rendering degli oggetti. Gli effetti rappresentano il passaggio logico successivo nella combinazione degli shader per produrre condizioni di rendering univoche.
ms.assetid: vs|directx_sdk|~\effects.htm
title: Effetti (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d48d2ff5548dff29ede4b360bd2c319f85fafa3e
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "106304100"
---
# <a name="effects-direct3d-9"></a><span data-ttu-id="940e1-104">Effetti (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="940e1-104">Effects (Direct3D 9)</span></span>

<span data-ttu-id="940e1-105">Un effetto Microsoft DirectX consente l'integrazione di Vertex e pixel shader con lo stato della pipeline per il rendering degli oggetti.</span><span class="sxs-lookup"><span data-stu-id="940e1-105">A Microsoft DirectX effect enables the integration of vertex and pixel shaders with pipeline state to render objects.</span></span> <span data-ttu-id="940e1-106">Gli effetti rappresentano il passaggio logico successivo nella combinazione degli shader per produrre condizioni di rendering univoche.</span><span class="sxs-lookup"><span data-stu-id="940e1-106">Effects are the next logical step in combining shaders to produce unique render conditions.</span></span>

<span data-ttu-id="940e1-107">Gli effetti forniscono anche un modo pratico per scrivere shader per versioni hardware diverse.</span><span class="sxs-lookup"><span data-stu-id="940e1-107">Effects also provide a convenient way to write shaders for different hardware versions.</span></span> <span data-ttu-id="940e1-108">Poiché schede video diverse supportano funzionalità diverse, un'applicazione può scrivere diverse tecniche che vengono eseguite su una vasta gamma di dispositivi.</span><span class="sxs-lookup"><span data-stu-id="940e1-108">Because different video cards support different functionalities, an application can write several techniques that will run on a variety of devices.</span></span> <span data-ttu-id="940e1-109">In questo modo, se l'applicazione è in esecuzione nell'hardware più recente e più recente, l'applicazione può eseguire la tecnica degli effetti più sofisticata.</span><span class="sxs-lookup"><span data-stu-id="940e1-109">This way, if the application is running on the latest and greatest hardware, the application can run the most sophisticated effect technique.</span></span> <span data-ttu-id="940e1-110">D'altra parte, le tecniche di effetto meno sofisticate possono essere scelte automaticamente per l'esecuzione su hardware meno costosi o meno idonei.</span><span class="sxs-lookup"><span data-stu-id="940e1-110">On the other hand, less sophisticated effect techniques can automatically be chosen to run on less-expensive or less-capable hardware.</span></span>

<span data-ttu-id="940e1-111">Un effetto può sostituire l'elaborazione del vertice e parte dell'elaborazione dei pixel eseguita dalla pipeline grafica.</span><span class="sxs-lookup"><span data-stu-id="940e1-111">An effect can replace the vertex processing and part of the pixel processing performed by the graphics pipeline.</span></span> <span data-ttu-id="940e1-112">Un esempio di effetto che usa un vertex shader e un pixel shader è nell'esempio BasicHLSL.</span><span class="sxs-lookup"><span data-stu-id="940e1-112">An example of an effect that uses a vertex shader and a pixel shader is in the BasicHLSL Sample.</span></span> <span data-ttu-id="940e1-113">È possibile ottenere questo esempio e ottenere informazioni su di esso da DirectX SDK.</span><span class="sxs-lookup"><span data-stu-id="940e1-113">You can get this sample and learn about it from the DirectX SDK.</span></span> <span data-ttu-id="940e1-114">Per informazioni su DirectX SDK, vedere [dove è DirectX SDK?](../directx-sdk--august-2009-.md).</span><span class="sxs-lookup"><span data-stu-id="940e1-114">For info about the DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md).</span></span>

<span data-ttu-id="940e1-115">Per ulteriori informazioni sugli effetti, vedere gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="940e1-115">For more information about effects, see these topics:</span></span>

-   [<span data-ttu-id="940e1-116">Scrittura di un effetto</span><span class="sxs-lookup"><span data-stu-id="940e1-116">Writing an Effect</span></span>](writing-an-effect.md)
-   [<span data-ttu-id="940e1-117">Uso di un effetto</span><span class="sxs-lookup"><span data-stu-id="940e1-117">Using an Effect</span></span>](using-an-effect.md)

## <a name="effects-and-the-3d-pipeline"></a><span data-ttu-id="940e1-118">Effetti e pipeline 3D</span><span class="sxs-lookup"><span data-stu-id="940e1-118">Effects and the 3D Pipeline</span></span>

<span data-ttu-id="940e1-119">Il diagramma seguente illustra la pipeline.</span><span class="sxs-lookup"><span data-stu-id="940e1-119">The following diagram shows the pipeline.</span></span>

![diagramma della pipeline 3D](images/effects-block-diagram.png)

<span data-ttu-id="940e1-121">La pipeline trasforma i dati di input in pixel di output che riempiono il buffer del frame.</span><span class="sxs-lookup"><span data-stu-id="940e1-121">The pipeline transforms input data into output pixels that fill the frame buffer.</span></span> <span data-ttu-id="940e1-122">I dati di input provengono da oggetti costituiti da vertici nello spazio degli oggetti o da aree di ordine superiore create da N-patch, patch rettangolari e patch di triangolo.</span><span class="sxs-lookup"><span data-stu-id="940e1-122">The input data comes from objects that are made up of vertices in object space, or higher-order surfaces created from N-patches, rectangle patches, and triangle patches.</span></span> <span data-ttu-id="940e1-123">Una volta che i dati di input sono stati tassellati, la pipeline esegue l'elaborazione dei vertici, l'elaborazione primitiva e i pixel prima di generare i colori finali dei pixel.</span><span class="sxs-lookup"><span data-stu-id="940e1-123">Once the input data has been tessellated, the pipeline performs vertex processing, primitive processing, and pixel processing before generating the final pixel colors.</span></span>

<span data-ttu-id="940e1-124">L'elaborazione dei vertici e dei pixel può essere eseguita dalla pipeline della funzione fissa oppure può essere implementata con shader programmabili.</span><span class="sxs-lookup"><span data-stu-id="940e1-124">Vertex and pixel processing can be performed by the fixed function pipeline, or can be implemented with programmable shaders.</span></span> <span data-ttu-id="940e1-125">I dati di input a mosaico, elaborazione primitive e output dei dati sono controllati dallo stato della pipeline.</span><span class="sxs-lookup"><span data-stu-id="940e1-125">The input data tessellation, primitive processing, and data outputs are controlled by pipeline state.</span></span> <span data-ttu-id="940e1-126">Tutto questo può essere integrato in un effetto.</span><span class="sxs-lookup"><span data-stu-id="940e1-126">All this can be integrated into an effect.</span></span> <span data-ttu-id="940e1-127">Un effetto imposta lo stato che controlla la modalità di funzionamento della pipeline.</span><span class="sxs-lookup"><span data-stu-id="940e1-127">An effect sets the state that controls how the pipeline functions.</span></span> <span data-ttu-id="940e1-128">Gli effetti gestiscono shader programmabili nonché lo stato della funzione fissa.</span><span class="sxs-lookup"><span data-stu-id="940e1-128">Effects manage programmable shaders as well as fixed function state.</span></span>

<span data-ttu-id="940e1-129">Gli effetti possono salvare e ripristinare lo stato, lasciando il dispositivo nello stesso stato di prima dell'esecuzione dell'effetto.</span><span class="sxs-lookup"><span data-stu-id="940e1-129">Effects can save and restore state, leaving the device in the same state as before the effect was run.</span></span> <span data-ttu-id="940e1-130">I tipi di stato che un effetto può gestire includono:</span><span class="sxs-lookup"><span data-stu-id="940e1-130">The types of state that an effect can manage include:</span></span>

-   <span data-ttu-id="940e1-131">Stato dello shader.</span><span class="sxs-lookup"><span data-stu-id="940e1-131">Shader state.</span></span> <span data-ttu-id="940e1-132">Sono incluse la creazione e l'eliminazione di shader, l'impostazione di costanti shader, l'impostazione dello stato dello shader e il rendering con gli shader.</span><span class="sxs-lookup"><span data-stu-id="940e1-132">This includes creating and deleting shaders, setting shader constants, setting shader state, and rendering with shaders.</span></span>
-   <span data-ttu-id="940e1-133">Stato di trama e campionatore.</span><span class="sxs-lookup"><span data-stu-id="940e1-133">Texture and sampler state.</span></span> <span data-ttu-id="940e1-134">Sono inclusi i file di trama, l'inizializzazione di fasi di trama, la creazione di oggetti Sampler e l'impostazione dello stato del campionatore</span><span class="sxs-lookup"><span data-stu-id="940e1-134">This includes specifying texture files, initializing texture stages, creating sampler objects, and setting sampler state.</span></span>
-   <span data-ttu-id="940e1-135">Altro stato della pipeline.</span><span class="sxs-lookup"><span data-stu-id="940e1-135">Other pipeline state.</span></span> <span data-ttu-id="940e1-136">Sono inclusi gli Stati per l'impostazione di trasformazioni, illuminazione, materiali e opzioni di rendering.</span><span class="sxs-lookup"><span data-stu-id="940e1-136">This includes states for setting transformations, lighting, materials, and rendering options.</span></span> <span data-ttu-id="940e1-137">Possono essere variabili globali o locali.</span><span class="sxs-lookup"><span data-stu-id="940e1-137">These can be global or local variables.</span></span> <span data-ttu-id="940e1-138">Le variabili possono essere impostate sia dall'effetto stesso che dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="940e1-138">The variables can be set by either the effect itself or by the application.</span></span>

<span data-ttu-id="940e1-139">Gli effetti contengono più opzioni di rendering denominate tecniche.</span><span class="sxs-lookup"><span data-stu-id="940e1-139">Effects contain multiple rendering options called techniques.</span></span> <span data-ttu-id="940e1-140">Ogni tecnica incapsula le variabili globali, lo stato della pipeline, lo stato della trama e del campionatore e lo stato dello shader.</span><span class="sxs-lookup"><span data-stu-id="940e1-140">Each technique encapsulates global variables, pipeline state, texture and sampler state, and shader state.</span></span> <span data-ttu-id="940e1-141">Un unico stile viene implementato in un passaggio di rendering.</span><span class="sxs-lookup"><span data-stu-id="940e1-141">A single style is implemented in a rendering pass.</span></span> <span data-ttu-id="940e1-142">Una o più sessioni possono essere incapsulate in una tecnica.</span><span class="sxs-lookup"><span data-stu-id="940e1-142">One or more passes can be encapsulated in a technique.</span></span> <span data-ttu-id="940e1-143">Tutti i passaggi e le tecniche possono essere convalidati per verificare se il codice dell'effetto verrà eseguito sul dispositivo hardware.</span><span class="sxs-lookup"><span data-stu-id="940e1-143">All of the passes and techniques can be validated to see if the effect code will run on the hardware device.</span></span>

## <a name="effects-save-and-restore-state"></a><span data-ttu-id="940e1-144">Stato di salvataggio e ripristino degli effetti</span><span class="sxs-lookup"><span data-stu-id="940e1-144">Effects Save and Restore State</span></span>

<span data-ttu-id="940e1-145">Gestione degli effetti sullo stato.</span><span class="sxs-lookup"><span data-stu-id="940e1-145">Effects manage state.</span></span> <span data-ttu-id="940e1-146">Lo stato della parola viene usato in modo molto ampio in quanto include tutti i tipi di informazioni necessarie alla pipeline per specificare le condizioni di rendering.</span><span class="sxs-lookup"><span data-stu-id="940e1-146">The word state is used very broadly here as it includes all kinds of information that the pipeline needs to specify the render conditions.</span></span> <span data-ttu-id="940e1-147">Sono incluse quasi tutte le aree funzionali della pipeline.</span><span class="sxs-lookup"><span data-stu-id="940e1-147">This includes nearly all the functional areas of the pipeline.</span></span>

<span data-ttu-id="940e1-148">Le opzioni di rendering sono controllate da tecniche e sessioni.</span><span class="sxs-lookup"><span data-stu-id="940e1-148">Rendering options are controlled by techniques and passes.</span></span> <span data-ttu-id="940e1-149">Un'applicazione esegue il rendering di un effetto impostando una tecnica attiva e il rendering di uno o più passaggi.</span><span class="sxs-lookup"><span data-stu-id="940e1-149">An application renders an effect by setting one active technique, and rendering one or more passes.</span></span> <span data-ttu-id="940e1-150">Tutto il rendering in un effetto viene eseguito all'interno di una coppia corrispondente di chiamate [**Begin**](id3dxeffect--begin.md) e [**end**](id3dxeffect--end.md) .</span><span class="sxs-lookup"><span data-stu-id="940e1-150">All rendering in an effect is done within a matching pair of [**Begin**](id3dxeffect--begin.md) and [**End**](id3dxeffect--end.md) calls.</span></span> <span data-ttu-id="940e1-151">Quando **Begin** viene chiamato, viene creato un stateblock e viene salvato lo stato del dispositivo, a meno che non venga specificato diversamente.</span><span class="sxs-lookup"><span data-stu-id="940e1-151">When **Begin** is called, a stateblock is created and device state is saved (unless you specify otherwise).</span></span> <span data-ttu-id="940e1-152">Dopo che una tecnica ha eseguito il rendering dei passaggi specificati dall'applicazione per il rendering, viene chiamato **end** per terminare la tecnica attiva.</span><span class="sxs-lookup"><span data-stu-id="940e1-152">After a technique renders the passes that the application specifies to render, **End** is called to end the active technique.</span></span> <span data-ttu-id="940e1-153">Il sistema di effetto risponde ripristinando automaticamente lo stato della pipeline acquisito nel blocco di stato (a meno che non si scelga di disabilitare questa funzionalità di salvataggio e ripristino).</span><span class="sxs-lookup"><span data-stu-id="940e1-153">The effect system responds by automatically restoring the pipeline state that was captured in the state block (unless you choose to disable this save and restore functionality).</span></span>

<span data-ttu-id="940e1-154">Quando si programmano sequenze di rendering a più passaggi, ciascuna delle quali richiede una propria configurazione dello stato, gli effetti possono ridurre la manutenzione necessaria per tenere traccia delle modifiche dello stato.</span><span class="sxs-lookup"><span data-stu-id="940e1-154">When programming multiple-pass rendering sequences, each of which requires its own state setup, effects can reduce the housekeeping required for tracking state changes.</span></span> <span data-ttu-id="940e1-155">Per visualizzare altre informazioni sugli Stati che possono essere salvati e ripristinati dagli effetti, vedere [Stati degli effetti (Direct3D 9)](effect-states.md).</span><span class="sxs-lookup"><span data-stu-id="940e1-155">To see more information about the states that can be saved and restored by effects, see [Effect States (Direct3D 9)](effect-states.md).</span></span>

## <a name="effects-can-share-parameters"></a><span data-ttu-id="940e1-156">Gli effetti possono condividere parametri</span><span class="sxs-lookup"><span data-stu-id="940e1-156">Effects Can Share Parameters</span></span>

<span data-ttu-id="940e1-157">I parametri degli effetti sono tutte le variabili non statiche dichiarate in un effetto.</span><span class="sxs-lookup"><span data-stu-id="940e1-157">Effect parameters are all the non-static variables declared in an effect.</span></span> <span data-ttu-id="940e1-158">Possono essere incluse le variabili globali e le annotazioni.</span><span class="sxs-lookup"><span data-stu-id="940e1-158">This can include global variables and annotations.</span></span> <span data-ttu-id="940e1-159">I parametri effetti possono essere condivisi tra diversi effetti dichiarando i parametri con la parola chiave Shared e quindi creando l'effetto con un pool di effetti.</span><span class="sxs-lookup"><span data-stu-id="940e1-159">Effect parameters can be shared between different effects by declaring parameters with the shared keyword and then creating the effect with an effect pool.</span></span>

<span data-ttu-id="940e1-160">Gli effetti clonati utilizzano lo stesso pool di effetti dell'effetto da cui vengono clonati.</span><span class="sxs-lookup"><span data-stu-id="940e1-160">Cloned effects use the same effect pool as the effect from which they are cloned.</span></span> <span data-ttu-id="940e1-161">La clonazione di un effetto crea una copia esatta di un effetto, incluse le variabili globali, le tecniche, i passaggi e le annotazioni.</span><span class="sxs-lookup"><span data-stu-id="940e1-161">Cloning an effect makes an exact copy of an effect, including global variables, techniques, passes, and annotations.</span></span>

## <a name="related-topics"></a><span data-ttu-id="940e1-162">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="940e1-162">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="940e1-163">Guida per programmatori per Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="940e1-163">Programming Guide for Direct3D 9</span></span>](dx9-graphics-programming-guide.md)
</dt> </dl>

 

 
