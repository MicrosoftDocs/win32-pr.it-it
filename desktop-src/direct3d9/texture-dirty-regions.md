---
description: Le applicazioni possono ottimizzare il subset di una trama che viene copiato specificando &\# 0034; dirty&\# 0034; aree nelle trame.
ms.assetid: 102081bc-d5d5-4ec1-b935-00d4eda8f470
title: Aree dirty texture (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35e3f1ce350a2728c99c49455b5fb8b638c47d10
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "106304108"
---
# <a name="texture-dirty-regions-direct3d-9"></a><span data-ttu-id="d258a-103">Aree dirty texture (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="d258a-103">Texture Dirty Regions (Direct3D 9)</span></span>

<span data-ttu-id="d258a-104">Le applicazioni possono ottimizzare il subset di una trama che viene copiato specificando aree "Dirty" nelle trame.</span><span class="sxs-lookup"><span data-stu-id="d258a-104">Applications can optimize which subset of a texture is copied by specifying "dirty" regions on textures.</span></span> <span data-ttu-id="d258a-105">Solo le aree contrassegnate come dirty vengono copiate da una chiamata a [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).</span><span class="sxs-lookup"><span data-stu-id="d258a-105">Only those regions marked as dirty are copied by a call to [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).</span></span> <span data-ttu-id="d258a-106">Tuttavia, le aree dirty possono essere espanse per ottimizzare l'allineamento.</span><span class="sxs-lookup"><span data-stu-id="d258a-106">However, the dirty regions may be expanded to optimize alignment.</span></span> <span data-ttu-id="d258a-107">Quando viene creata una trama, l'intera trama viene considerata Dirty.</span><span class="sxs-lookup"><span data-stu-id="d258a-107">When a texture is created, the entire texture is considered dirty.</span></span> <span data-ttu-id="d258a-108">Solo le operazioni seguenti influiscono sullo stato dirty di una trama:</span><span class="sxs-lookup"><span data-stu-id="d258a-108">Only the following operations affect the dirty state of a texture:</span></span>

-   <span data-ttu-id="d258a-109">Aggiunta di un'area dirty a una trama.</span><span class="sxs-lookup"><span data-stu-id="d258a-109">Adding a dirty region to a texture.</span></span>
-   <span data-ttu-id="d258a-110">Blocco di un buffer nella trama.</span><span class="sxs-lookup"><span data-stu-id="d258a-110">Locking some buffer in the texture.</span></span> <span data-ttu-id="d258a-111">Questa operazione aggiunge l'area bloccata come area dirty.</span><span class="sxs-lookup"><span data-stu-id="d258a-111">This operation adds the locked region as a dirty region.</span></span> <span data-ttu-id="d258a-112">L'applicazione può disattivare questo aggiornamento automatico dell'area dirty se dispone di una conoscenza più approfondita delle aree dirty effettive.</span><span class="sxs-lookup"><span data-stu-id="d258a-112">The application can turn off this automatic dirty region update if it has better knowledge of the actual dirty regions.</span></span>
-   <span data-ttu-id="d258a-113">Se si usa un livello di superficie della trama come destinazione in [**IDirect3DDevice9:: UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) , l'intera trama viene contrassegnata come dirty.</span><span class="sxs-lookup"><span data-stu-id="d258a-113">Using a surface level of the texture as a destination in [**IDirect3DDevice9::UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="d258a-114">L'uso della trama come origine in [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) Cancella tutte le aree dirty sulla trama di origine.</span><span class="sxs-lookup"><span data-stu-id="d258a-114">Using the texture as a source in [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) clears all the dirty regions on the source texture.</span></span>
-   <span data-ttu-id="d258a-115">Uso di [**IDirect3DSurface9:: GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) per restituire un contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d258a-115">Using [**IDirect3DSurface9::GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) to return a device context.</span></span>
-   <span data-ttu-id="d258a-116">La chiamata di [**IDirect3DBaseTexture9:: GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) contrassegna l'intera trama come dirty.</span><span class="sxs-lookup"><span data-stu-id="d258a-116">Calling [**IDirect3DBaseTexture9::GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="d258a-117">La chiamata di [**IDirect3DBaseTexture9:: SetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) contrassegna l'intera trama come dirty.</span><span class="sxs-lookup"><span data-stu-id="d258a-117">Calling [**IDirect3DBaseTexture9::SetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) marks the entire texture as dirty.</span></span>

<span data-ttu-id="d258a-118">Le aree dirty vengono impostate sul primo livello di una trama mipmap e [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) può espandere l'area dirty nella catena MIP per ridurre al minimo il numero di byte copiati per ogni sottolivello.</span><span class="sxs-lookup"><span data-stu-id="d258a-118">Dirty regions are set on the top level of a mipmapped texture, and [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) can expand the dirty region down the mip chain in order to minimize the number of bytes copied for each sublevel.</span></span> <span data-ttu-id="d258a-119">Si noti che le coordinate dell'area dirty del sottolivello vengono arrotondate verso l'esterno, ovvero le parti frazionarie vengono arrotondate al bordo più vicino della trama.</span><span class="sxs-lookup"><span data-stu-id="d258a-119">Note that the sublevel dirty region coordinates are rounded outward, that is, their fractional parts are rounded toward the nearest edge of the texture.</span></span>

<span data-ttu-id="d258a-120">Poiché ogni tipo di trama presenta tipi diversi di aree dirty, esistono metodi su ogni tipo di trama.</span><span class="sxs-lookup"><span data-stu-id="d258a-120">Because each type of texture has different types of dirty regions, there are methods on each texture type.</span></span> <span data-ttu-id="d258a-121">le trame 2D usano rettangoli Dirty e le trame del volume usano le caselle.</span><span class="sxs-lookup"><span data-stu-id="d258a-121">2D textures use dirty rectangle, and volume textures use boxes.</span></span>

-   [<span data-ttu-id="d258a-122">**IDirect3DCubeTexture9:: AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="d258a-122">**IDirect3DCubeTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-adddirtyrect)
-   [<span data-ttu-id="d258a-123">**IDirect3DTexture9:: AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="d258a-123">**IDirect3DTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dtexture9-adddirtyrect)
-   [<span data-ttu-id="d258a-124">**IDirect3DVolumeTexture9::AddDirtyBox**</span><span class="sxs-lookup"><span data-stu-id="d258a-124">**IDirect3DVolumeTexture9::AddDirtyBox**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dvolumetexture9-adddirtybox)

<span data-ttu-id="d258a-125">Il passaggio di un **valore null** per i parametri PDirtyRect o pDirtyBox per i metodi precedenti espande l'area dirty per coprire l'intera trama.</span><span class="sxs-lookup"><span data-stu-id="d258a-125">Passing **NULL** for the pDirtyRect or pDirtyBox parameters for the above methods expands the dirty region to cover the entire texture.</span></span>

<span data-ttu-id="d258a-126">Ogni metodo Lock può eseguire D3DLOCK \_ senza \_ \_ aggiornamento Dirty, che impedisce qualsiasi modifica allo stato dirty della trama.</span><span class="sxs-lookup"><span data-stu-id="d258a-126">Each lock method can take D3DLOCK\_NO\_DIRTY\_UPDATE, which prevents any changes to the dirty state of the texture.</span></span> <span data-ttu-id="d258a-127">Per altre informazioni, vedere [blocco di risorse (Direct3D 9)](locking-resources.md).</span><span class="sxs-lookup"><span data-stu-id="d258a-127">For more information, see [Locking Resources (Direct3D 9)](locking-resources.md).</span></span>

<span data-ttu-id="d258a-128">Quando sono disponibili ulteriori informazioni sul vero set di aree modificate durante un'operazione di blocco, le applicazioni devono utilizzare D3DLOCK \_ senza \_ aggiornamenti Dirty \_ .</span><span class="sxs-lookup"><span data-stu-id="d258a-128">When more information about the true set of regions that are changed during a lock operation is available, applications should use D3DLOCK\_NO\_DIRTY\_UPDATE.</span></span> <span data-ttu-id="d258a-129">Si noti che un blocco o una copia in un solo sottolivello di trama, ovvero senza blocco o copia al livello superiore, non aggiorna le aree dirty per tale trama.</span><span class="sxs-lookup"><span data-stu-id="d258a-129">Note that a lock or a copy to a texture sublevel only (that is, without locking or copying to the top level) does not update the dirty regions for that texture.</span></span> <span data-ttu-id="d258a-130">Le applicazioni assumono la stessa responsabilità di aggiornare le aree dirty quando bloccano i livelli inferiori senza bloccare il livello superiore.</span><span class="sxs-lookup"><span data-stu-id="d258a-130">Applications assume the same responsibility for updating dirty regions when they lock lower levels without locking the topmost level.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d258a-131">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="d258a-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d258a-132">Concetti di base sulla texturing</span><span class="sxs-lookup"><span data-stu-id="d258a-132">Basic Texturing Concepts</span></span>](basic-texturing-concepts.md)
</dt> </dl>

 

 
