---
description: Una catena di scambio è una raccolta di buffer usati per visualizzare i frame all'utente.
ms.assetid: aefc0680-cbe6-42eb-8c00-eaa343eee469
title: Che cos'è una catena di scambio? (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7c8fc1fd2d313c70a680d9b276a3aabedc6d8cff
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104225349"
---
# <a name="what-is-a-swap-chain-direct3d-9"></a><span data-ttu-id="8ab00-104">Che cos'è una catena di scambio?</span><span class="sxs-lookup"><span data-stu-id="8ab00-104">What Is a Swap Chain?</span></span> <span data-ttu-id="8ab00-105">(Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8ab00-105">(Direct3D 9)</span></span>

<span data-ttu-id="8ab00-106">Una catena di scambio è una raccolta di buffer usati per visualizzare i frame all'utente.</span><span class="sxs-lookup"><span data-stu-id="8ab00-106">A swap chain is a collection of buffers that are used for displaying frames to the user.</span></span> <span data-ttu-id="8ab00-107">Ogni volta che un'applicazione presenta un nuovo frame per la visualizzazione, il primo buffer nella catena di scambio sostituisce il buffer visualizzato.</span><span class="sxs-lookup"><span data-stu-id="8ab00-107">Each time an application presents a new frame for display, the first buffer in the swap chain takes the place of the displayed buffer.</span></span> <span data-ttu-id="8ab00-108">Questo processo è detto scambio o capovolgimento.</span><span class="sxs-lookup"><span data-stu-id="8ab00-108">This process is called swapping or flipping.</span></span>

<span data-ttu-id="8ab00-109">Una scheda grafica include un puntatore a una superficie che rappresenta l'immagine visualizzata sul monitor, denominata buffer anteriore.</span><span class="sxs-lookup"><span data-stu-id="8ab00-109">A graphics adapter holds a pointer to a surface that represents the image being displayed on the monitor, called a front buffer.</span></span> <span data-ttu-id="8ab00-110">Quando il monitoraggio viene aggiornato, la scheda grafica invia il contenuto del buffer anteriore al monitor da visualizzare.</span><span class="sxs-lookup"><span data-stu-id="8ab00-110">As the monitor is refreshed, the graphics card sends the contents of the front buffer to the monitor to be displayed.</span></span> <span data-ttu-id="8ab00-111">Tuttavia, questo causa un problema durante il rendering della grafica in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="8ab00-111">However, this leads to a problem when rendering real-time graphics.</span></span> <span data-ttu-id="8ab00-112">Il fulcro del problema è che le frequenze di aggiornamento del monitoraggio sono molto lente rispetto al resto del computer.</span><span class="sxs-lookup"><span data-stu-id="8ab00-112">The heart of the problem is that monitor refresh rates are very slow in comparison to the rest of the computer.</span></span> <span data-ttu-id="8ab00-113">Le frequenze di aggiornamento comuni sono comprese tra 60 Hz (60 volte al secondo) e 100 Hz.</span><span class="sxs-lookup"><span data-stu-id="8ab00-113">Common refresh rates range from 60 Hz (60 times per second) to 100 Hz.</span></span> <span data-ttu-id="8ab00-114">Se l'applicazione sta aggiornando il buffer anteriore mentre il monitor si trova al centro di un aggiornamento, l'immagine visualizzata verrà tagliata a metà con la metà superiore della visualizzazione che contiene l'immagine precedente e la metà inferiore contenente la nuova immagine.</span><span class="sxs-lookup"><span data-stu-id="8ab00-114">If your application is updating the front buffer while the monitor is in the middle of a refresh, the image that is displayed will be cut in half with the upper half of the display containing the old image and the lower half containing the new image.</span></span> <span data-ttu-id="8ab00-115">Questo problema viene definito strappo.</span><span class="sxs-lookup"><span data-stu-id="8ab00-115">This problem is referred to as tearing.</span></span>

<span data-ttu-id="8ab00-116">Direct3D implementa due opzioni per evitare lo strappo:</span><span class="sxs-lookup"><span data-stu-id="8ab00-116">Direct3D implements two options to avoid tearing:</span></span>

-   <span data-ttu-id="8ab00-117">Opzione che consente di consentire solo gli aggiornamenti del monitoraggio sull'operazione di ritraccia verticale (o sincronizzazione verticale).</span><span class="sxs-lookup"><span data-stu-id="8ab00-117">An option to only allow updates of the monitor on the vertical retrace (or vertical sync) operation.</span></span> <span data-ttu-id="8ab00-118">Un monitoraggio consente in genere di aggiornare l'immagine spostando un pin chiaro orizzontalmente, zigzagando dalla parte superiore sinistra del monitoraggio e terminando in basso a destra.</span><span class="sxs-lookup"><span data-stu-id="8ab00-118">A monitor typically refreshes its image by moving a light pin horizontally, zigzagging from the top left of the monitor and ending at the bottom right.</span></span> <span data-ttu-id="8ab00-119">Quando il PIN della luce raggiunge la fine, il monitoraggio ricalibra il pin chiaro spostando il pin in alto a sinistra, in modo che il processo possa riavviarsi.</span><span class="sxs-lookup"><span data-stu-id="8ab00-119">When the light pin reaches the bottom, the monitor recalibrates the light pin by moving it back to the upper left so that the process can start again.</span></span> <span data-ttu-id="8ab00-120">Questa ritaratura è detta sincronizzazione verticale. Durante una sincronizzazione verticale, il monitoraggio non esegue alcuna operazione, pertanto qualsiasi aggiornamento del buffer anteriore non viene visualizzato fino a quando non viene riavviato il disegno del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="8ab00-120">This recalibration is called a vertical sync. During a vertical sync, the monitor is not drawing anything, so any update to the front buffer will not be seen until the monitor starts to draw again.</span></span> <span data-ttu-id="8ab00-121">La sincronizzazione verticale è relativamente lenta; Tuttavia, non sufficientemente lento da eseguire il rendering di una scena complessa in attesa.</span><span class="sxs-lookup"><span data-stu-id="8ab00-121">The vertical sync is relatively slow; however, not slow enough to render a complex scene while waiting.</span></span> <span data-ttu-id="8ab00-122">Gli elementi necessari per evitare lacerazioni ed essere in grado di eseguire il rendering di scene complesse sono un processo denominato buffering.</span><span class="sxs-lookup"><span data-stu-id="8ab00-122">What is needed to avoid tearing and be able to render complex scenes is a process called back buffering.</span></span>
-   <span data-ttu-id="8ab00-123">Opzione per utilizzare una tecnica chiamata buffering.</span><span class="sxs-lookup"><span data-stu-id="8ab00-123">An option to use a technique called back buffering.</span></span> <span data-ttu-id="8ab00-124">Il buffering indietro è il processo di disegno di una scena in una superficie esterna, denominata buffer nascosto.</span><span class="sxs-lookup"><span data-stu-id="8ab00-124">Back buffering is the process of drawing a scene to an off-screen surface, called a back buffer.</span></span> <span data-ttu-id="8ab00-125">Si noti che qualsiasi superficie diversa dal buffer anteriore viene chiamata superficie fuori schermo perché non viene mai visualizzata direttamente dal monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="8ab00-125">Note that any surface other than the front buffer is called an off-screen surface because it is never directly viewed by the monitor.</span></span> <span data-ttu-id="8ab00-126">Utilizzando un buffer nascosto, un'applicazione è in grado di eseguire il rendering di una scena ogni volta che il sistema è inattivo (ovvero, nessun messaggio di Windows è in attesa) senza dover considerare la frequenza di aggiornamento del monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="8ab00-126">By using a back buffer, an application has the freedom to render a scene whenever the system is idle (that is, no windows messages are waiting) without having to consider the monitor's refresh rate.</span></span> <span data-ttu-id="8ab00-127">Il buffering nascosto comporta una complicazione aggiuntiva di come e quando spostare il buffer indietro nel buffer anteriore.</span><span class="sxs-lookup"><span data-stu-id="8ab00-127">Back buffering brings in an additional complication of how and when to move the back buffer to the front buffer.</span></span>

<span data-ttu-id="8ab00-128">Il processo di trasferimento del buffer indietro nel buffer anteriore è denominato capovolgimento della superficie.</span><span class="sxs-lookup"><span data-stu-id="8ab00-128">The process of moving the back buffer to the front buffer is called surface flipping.</span></span> <span data-ttu-id="8ab00-129">Poiché la scheda grafica usa semplicemente un puntatore a una superficie per rappresentare il buffer anteriore, una semplice modifica del puntatore è sufficiente per impostare il buffer nascosto sul buffer anteriore.</span><span class="sxs-lookup"><span data-stu-id="8ab00-129">Because the graphics card simply uses a pointer to a surface to represent the front buffer, a simple pointer change is all that is needed to set the back buffer to the front buffer.</span></span> <span data-ttu-id="8ab00-130">Quando un'applicazione chiede a Direct3D di presentare il buffer nascosto al buffer anteriore, Direct3D semplicemente "capovolge" i due puntatori della superficie.</span><span class="sxs-lookup"><span data-stu-id="8ab00-130">When an application asks Direct3D to present the back buffer to the front buffer, Direct3D simply "flips" the two surface pointers.</span></span> <span data-ttu-id="8ab00-131">Il risultato è che il buffer nascosto è ora il nuovo buffer anteriore e il buffer anteriore precedente è il nuovo buffer nascosto.</span><span class="sxs-lookup"><span data-stu-id="8ab00-131">The result is that the back buffer is now the new front buffer, and the old front buffer is the new back buffer.</span></span> <span data-ttu-id="8ab00-132">Un flip di superficie viene richiamato ogni volta che un'applicazione chiede al dispositivo Direct3D di presentare il buffer nascosto; Tuttavia, Direct3D può essere configurato per accodare le richieste fino a quando non si verifica una sincronizzazione verticale.</span><span class="sxs-lookup"><span data-stu-id="8ab00-132">A surface flip is invoked whenever an application asks the Direct3D device to present the back buffer; however, Direct3D can be set up to queue the requests until a vertical sync occurs.</span></span> <span data-ttu-id="8ab00-133">Questa opzione è definita intervallo di presentazione del dispositivo Direct3D.</span><span class="sxs-lookup"><span data-stu-id="8ab00-133">This option is referred to as the Direct3D device's presentation interval.</span></span> <span data-ttu-id="8ab00-134">Si noti che i dati nel nuovo buffer nascosto potrebbero non essere riutilizzabili, a seconda del modo in cui un'applicazione specifica il modo in cui Direct3D deve gestire il capovolgimento della superficie.</span><span class="sxs-lookup"><span data-stu-id="8ab00-134">Note that the data in the new back buffer may not be reusable, depending on how an application specifies how Direct3D should handle surface flipping.</span></span> <span data-ttu-id="8ab00-135">Il capovolgimento della superficie è fondamentale nei programmi multimediali, di animazione e di gioco; equivale al modo in cui è possibile eseguire l'animazione con un riquadro di carta.</span><span class="sxs-lookup"><span data-stu-id="8ab00-135">Surface flipping is key in multimedia, animation, and game software; it is equivalent to the way you can do animation with a pad of paper.</span></span> <span data-ttu-id="8ab00-136">In ogni pagina, l'autore modifica leggermente le cifre, in modo che quando si esegue rapidamente il capovolgimento tra i fogli, il disegno viene visualizzato animato.</span><span class="sxs-lookup"><span data-stu-id="8ab00-136">On each page, the artist changes the figures slightly, so that when you flip rapidly between sheets, the drawing appears animated.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8ab00-137">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="8ab00-137">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8ab00-138">Superfici Direct3D</span><span class="sxs-lookup"><span data-stu-id="8ab00-138">Direct3D Surfaces</span></span>](direct3d-surfaces.md)
</dt> <dt>

[<span data-ttu-id="8ab00-139">Capovolgimento di superfici (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="8ab00-139">Flipping Surfaces (Direct3D 9)</span></span>](flipping-surfaces.md)
</dt> </dl>

 

 



