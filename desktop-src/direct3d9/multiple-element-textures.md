---
description: Le trame tradizionali sono considerate trame a elemento singolo.
ms.assetid: 8fe8da80-0879-413a-a7db-617d2f558b28
title: Trame a più elementi (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78a434d1e6c6a892c794551aa0caf34890f3def9
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "106303720"
---
# <a name="multiple-element-textures-direct3d-9"></a><span data-ttu-id="1d810-103">Trame a più elementi (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="1d810-103">Multiple-element Textures (Direct3D 9)</span></span>

<span data-ttu-id="1d810-104">Le trame tradizionali sono considerate trame a elemento singolo.</span><span class="sxs-lookup"><span data-stu-id="1d810-104">Traditional textures are considered to be single-element textures.</span></span> <span data-ttu-id="1d810-105">Le trame a più elementi consentono alle applicazioni di scrivere simultaneamente su più elementi di una trama dalla pixel shader.</span><span class="sxs-lookup"><span data-stu-id="1d810-105">Multiple-element textures enable applications to write simultaneously to multiple elements of a texture from the pixel shader.</span></span> <span data-ttu-id="1d810-106">Il risultato della successiva sessione di rendering è che un'applicazione può usare uno o più elementi come una trama a elemento singolo, ovvero come input per la pixel shader.</span><span class="sxs-lookup"><span data-stu-id="1d810-106">The result in the next rendering pass is that an application can use one or more of the elements as a single-element texture - that is, as inputs to the pixel shader.</span></span> <span data-ttu-id="1d810-107">Questi elementi aggiuntivi possono essere considerati come un archivio temporaneo per i risultati intermedi che verranno usati in un passaggio successivo da parte dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1d810-107">These additional elements can be thought of as a temporary store for intermediate results that will be used in a later pass by the application.</span></span>

<span data-ttu-id="1d810-108">La prima generazione di hardware che espone questa funzionalità presenta le restrizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="1d810-108">The first generation of hardware that exposes this feature has the following restrictions:</span></span>

-   <span data-ttu-id="1d810-109">Tutte le superfici della trama a più elementi verranno allocate automaticamente.</span><span class="sxs-lookup"><span data-stu-id="1d810-109">All multiple-element texture surfaces will be allocated automatically.</span></span> <span data-ttu-id="1d810-110">Questa limitazione viene affrontata trattandosi di un nuovo tipo di formato di superficie con più canali RGBA con interfoliazione.</span><span class="sxs-lookup"><span data-stu-id="1d810-110">This limitation is addressed by treating this as a new type of surface format with multiple RGBA channels interleaved.</span></span>
-   <span data-ttu-id="1d810-111">Tutti gli elementi della trama a più elementi possono avere la stessa profondità del bit.</span><span class="sxs-lookup"><span data-stu-id="1d810-111">All elements of the multiple element texture can have the same bit depth.</span></span> <span data-ttu-id="1d810-112">Questa limitazione è espressa dal nome dei nuovi formati di superficie.</span><span class="sxs-lookup"><span data-stu-id="1d810-112">This limitation is expressed by the name of the new surface formats.</span></span>
-   <span data-ttu-id="1d810-113">Una trama A più elementi non può essere la primaria/visualizzabile.</span><span class="sxs-lookup"><span data-stu-id="1d810-113">A multiple-element texture cannot be the primary/displayable.</span></span> <span data-ttu-id="1d810-114">In altre parole, deve essere solo fuori schermo.</span><span class="sxs-lookup"><span data-stu-id="1d810-114">In other words, it must be off-screen only.</span></span> <span data-ttu-id="1d810-115">Questa limitazione è espressa dall'enumerazione del formato di superficie.</span><span class="sxs-lookup"><span data-stu-id="1d810-115">This limitation is expressed by the surface-format enumeration.</span></span>
-   <span data-ttu-id="1d810-116">Non sono consentiti dithering, test alfa, Fogging, blending, raster-op o mascheramento.</span><span class="sxs-lookup"><span data-stu-id="1d810-116">No dithering, alpha test, fogging, blending, raster-op, or masking is allowed.</span></span> <span data-ttu-id="1d810-117">Non viene eseguita alcuna elaborazione post-pixel shader, ad eccezione del test z-test e dello stencil.</span><span class="sxs-lookup"><span data-stu-id="1d810-117">No post-pixel shader processing is done, except the z-test and stencil test.</span></span>
-   <span data-ttu-id="1d810-118">La trama non può essere un mipmap.</span><span class="sxs-lookup"><span data-stu-id="1d810-118">The texture cannot be a mipmap.</span></span> <span data-ttu-id="1d810-119">La creazione della catena MIP avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="1d810-119">Creation of the mip chain will fail.</span></span>
-   <span data-ttu-id="1d810-120">Non è possibile impostare lo stesso elemento come trama nello stesso momento in cui si tratta di una destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="1d810-120">The same element cannot be set as a texture at the same time it is a render target.</span></span> <span data-ttu-id="1d810-121">Tuttavia, elementi diversi della stessa superficie di trama a più elementi possono essere contemporaneamente trame e destinazioni di rendering.</span><span class="sxs-lookup"><span data-stu-id="1d810-121">However, different elements of the same multiple-element texture surface can simultaneously be textures and render targets.</span></span>
-   <span data-ttu-id="1d810-122">Non è supportato l'anti-aliasing.</span><span class="sxs-lookup"><span data-stu-id="1d810-122">No antialiasing is supported.</span></span>
-   <span data-ttu-id="1d810-123">Le superfici della trama a più elementi, quando utilizzate come trama, non possono essere filtrate.</span><span class="sxs-lookup"><span data-stu-id="1d810-123">Multiple-element texture surfaces, when used as a texture, cannot be filtered.</span></span> <span data-ttu-id="1d810-124">Questa limitazione può essere verificata usando [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat).</span><span class="sxs-lookup"><span data-stu-id="1d810-124">This limitation can be verified using [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat).</span></span>
-   <span data-ttu-id="1d810-125">Non è possibile bloccare le superfici della trama a più elementi.</span><span class="sxs-lookup"><span data-stu-id="1d810-125">Multiple-element texture surfaces cannot be locked.</span></span>
-   <span data-ttu-id="1d810-126">È possibile utilizzare contemporaneamente più di una superficie di trama a più elementi assegnando ognuna alle varie fasi, come per le normali trame.</span><span class="sxs-lookup"><span data-stu-id="1d810-126">More than one multiple-element texture surface can be used simultaneously by assigning each to various stages, just as with normal textures.</span></span>
-   <span data-ttu-id="1d810-127">Le aree di trama a più elementi supportano la conversione di gamma dalla conversione da 2,2 a 1,0 in un'operazione di lettura, come per gli altri formati di trama.</span><span class="sxs-lookup"><span data-stu-id="1d810-127">Multiple-element texture surfaces support conversion of gamma from 2.2 to 1.0 conversion on a read operation, just as with other texture formats.</span></span>
-   <span data-ttu-id="1d810-128">Alcune implementazioni non applicano la maschera di scrittura di output (D3DRS \_ COLORWRITEENABLE).</span><span class="sxs-lookup"><span data-stu-id="1d810-128">Some of the implementations do not apply the output write mask (D3DRS\_COLORWRITEENABLE).</span></span> <span data-ttu-id="1d810-129">Quelli che possono avere maschere di scrittura a colori indipendenti.</span><span class="sxs-lookup"><span data-stu-id="1d810-129">Those that can have independent color write masks.</span></span> <span data-ttu-id="1d810-130">Viene espresso usando un nuovo bit di funzionalità.</span><span class="sxs-lookup"><span data-stu-id="1d810-130">This is expressed using a new capability bit.</span></span> <span data-ttu-id="1d810-131">Il numero di maschere di scrittura a colori indipendenti disponibili sarà uguale al numero massimo di elementi di cui il dispositivo è in grado di supportare.</span><span class="sxs-lookup"><span data-stu-id="1d810-131">The number of independent color write masks available will be equal to the maximum number of elements of which the device is capable.</span></span>
-   <span data-ttu-id="1d810-132">[**Clear**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-clear) Cancella tutti gli elementi della trama a più elementi impostati come destinazione di rendering.</span><span class="sxs-lookup"><span data-stu-id="1d810-132">[**Clear**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-clear) clears all elements of the multiple-element texture which is set as the render target.</span></span>

<span data-ttu-id="1d810-133">L'utilizzo delle trame a più elementi segue questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="1d810-133">The usage of multiple-element textures follows these steps:</span></span>

1.  <span data-ttu-id="1d810-134">Le applicazioni individuano il supporto per questa funzionalità verificando la disponibilità dei formati di trama a più elementi.</span><span class="sxs-lookup"><span data-stu-id="1d810-134">Applications discover support for this feature by checking for the availability of multiple-element texture formats.</span></span>
2.  <span data-ttu-id="1d810-135">L'applicazione crea queste superfici chiamando [**createTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture).</span><span class="sxs-lookup"><span data-stu-id="1d810-135">The application creates these surfaces by calling [**CreateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture).</span></span>
3.  <span data-ttu-id="1d810-136">L'applicazione imposta la superficie come destinazione di rendering utilizzando la chiamata [**SetRenderTarget**](/windows/desktop/api) .</span><span class="sxs-lookup"><span data-stu-id="1d810-136">The application sets the surface as a render target using the [**SetRenderTarget**](/windows/desktop/api) call.</span></span> <span data-ttu-id="1d810-137">Il pixel shader fornisce l'output alle superfici usando l'istruzione [MOV-PS](../direct3dhlsl/mov---ps.md) .</span><span class="sxs-lookup"><span data-stu-id="1d810-137">The pixel shader provides output to the surfaces using the [mov - ps](../direct3dhlsl/mov---ps.md) instruction.</span></span>
4.  <span data-ttu-id="1d810-138">Per impostare una superficie di trama a più elementi su una particolare fase, viene chiamato [**setexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexture) .</span><span class="sxs-lookup"><span data-stu-id="1d810-138">[**SetTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexture) is called to set a multiple-element texture surface to a particular stage.</span></span> <span data-ttu-id="1d810-139">Come per le altre trame, è possibile impostare la stessa superficie su più fasi contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="1d810-139">As with other textures, the same surface is allowed to be set to multiple stages at once.</span></span>
5.  <span data-ttu-id="1d810-140">[**SetSamplerState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setsamplerstate) viene chiamato per impostare D3DSAMP \_ ELEMENTINDEX sul numero di elemento appropriato nella trama a più elementi dalla quale sono campionati gli esempi del campionatore.</span><span class="sxs-lookup"><span data-stu-id="1d810-140">[**SetSamplerState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setsamplerstate) is called to set D3DSAMP\_ELEMENTINDEX to the appropriate element number in the multiple-element texture from which the sampler samples.</span></span> <span data-ttu-id="1d810-141">Il valore predefinito per questo stato è 0, il che significa che le trame non a più elementi funzioneranno.</span><span class="sxs-lookup"><span data-stu-id="1d810-141">Default value for this state is 0, which means non-multiple-element textures will work.</span></span> <span data-ttu-id="1d810-142">Se si imposta questo stato su un numero inappropriato, si ottiene un comportamento non definito, se la trama a più elementi è a due elementi di grandi dimensioni, ma al campionatore viene richiesto di eseguire il campionamento dal quarto elemento, ad esempio.</span><span class="sxs-lookup"><span data-stu-id="1d810-142">Setting this state to an inappropriate number results in an undefined behavior - if the multiple-element texture is only two elements wide but the sampler is asked to sample from the fourth element, for example.</span></span>

## <a name="api-support"></a><span data-ttu-id="1d810-143">Supporto dell'API</span><span class="sxs-lookup"><span data-stu-id="1d810-143">API Support</span></span>

<span data-ttu-id="1d810-144">Di seguito è riportato un riepilogo degli elementi API che supportano le trame a più elementi:</span><span class="sxs-lookup"><span data-stu-id="1d810-144">The following is a summary of the API elements that support multiple-element textures:</span></span>

-   <span data-ttu-id="1d810-145">Il formato di superficie [D3DFMT \_ MULTi2 \_ ARGB8](d3dformat.md) esprime la natura Interleaved del formato.</span><span class="sxs-lookup"><span data-stu-id="1d810-145">The [D3DFMT\_MULTI2\_ARGB8](d3dformat.md) surface format expresses the interleaved nature of the format.</span></span>
-   <span data-ttu-id="1d810-146">Lo \_ stato del campionatore ELEMENTINDEX D3DSAMP indica quale indice dell'elemento utilizzare.</span><span class="sxs-lookup"><span data-stu-id="1d810-146">The D3DSAMP\_ELEMENTINDEX sampler state indicates which element index to use.</span></span>
-   <span data-ttu-id="1d810-147">Gli Stati di rendering seguenti supportano le trame a più elementi:</span><span class="sxs-lookup"><span data-stu-id="1d810-147">The following render states support multiple-element textures:</span></span>

    -   <span data-ttu-id="1d810-148">\_COLORWRITEENABLE1 D3DRS</span><span class="sxs-lookup"><span data-stu-id="1d810-148">D3DRS\_COLORWRITEENABLE1</span></span>
    -   <span data-ttu-id="1d810-149">\_COLORWRITEENABLE2 D3DRS</span><span class="sxs-lookup"><span data-stu-id="1d810-149">D3DRS\_COLORWRITEENABLE2</span></span>
    -   <span data-ttu-id="1d810-150">\_COLORWRITEENABLE3 D3DRS</span><span class="sxs-lookup"><span data-stu-id="1d810-150">D3DRS\_COLORWRITEENABLE3</span></span>

    <span data-ttu-id="1d810-151">D3DRS \_ COLORWRITEENABLE si applica alla destinazione di rendering (o elemento) zero.</span><span class="sxs-lookup"><span data-stu-id="1d810-151">D3DRS\_COLORWRITEENABLE applies to render target (or element) zero.</span></span>

-   <span data-ttu-id="1d810-152">Il [flag \_ INDEPENDENTWRITEMASKS di D3DPMISCCAPS](d3dpmisccaps.md) indica che il dispositivo supporta le maschere di scrittura indipendenti per più trame degli elementi o più destinazioni di rendering.</span><span class="sxs-lookup"><span data-stu-id="1d810-152">The [D3DPMISCCAPS\_INDEPENDENTWRITEMASKS](d3dpmisccaps.md) flag indicates that the device supports independent write masks for multiple element textures or multiple render targets.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1d810-153">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="1d810-153">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1d810-154">Pipeline pixel</span><span class="sxs-lookup"><span data-stu-id="1d810-154">Pixel Pipeline</span></span>](pixel-pipeline.md)
</dt> </dl>

 

 
