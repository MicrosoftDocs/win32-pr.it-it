---
description: In breve, il ritorno a capo delle trame modifica la modalità di base in cui Direct3D Rasterizza i poligoni con trama usando le coordinate di trama specificate per ogni vertice.
ms.assetid: 00683d3f-3e3c-4ee4-9aec-a0d7fd9c8941
title: Wrapping di trama (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d7c0f8cb6d7793536999d5f3df128849572d3dd
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/06/2021
ms.locfileid: "104521418"
---
# <a name="texture-wrapping-direct3d-9"></a><span data-ttu-id="7d67b-103">Wrapping di trama (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="7d67b-103">Texture Wrapping (Direct3D 9)</span></span>

<span data-ttu-id="7d67b-104">In breve, il ritorno a capo delle trame modifica la modalità di base in cui Direct3D Rasterizza i poligoni con trama usando le coordinate di trama specificate per ogni vertice.</span><span class="sxs-lookup"><span data-stu-id="7d67b-104">In short, texture wrapping changes the basic way that Direct3D rasterizes textured polygons using the texture coordinates specified for each vertex.</span></span> <span data-ttu-id="7d67b-105">Durante la rasterizzazione di un poligono, il sistema Interpola tra le coordinate di trama in ogni vertice del poligono per determinare i Texel da usare per ogni pixel del poligono.</span><span class="sxs-lookup"><span data-stu-id="7d67b-105">While rasterizing a polygon, the system interpolates between the texture coordinates at each of the polygon's vertices to determine the texels that should be used for every pixel of the polygon.</span></span> <span data-ttu-id="7d67b-106">In genere, il sistema considera la trama come un piano 2D, interpolando i nuovi Texel prendendo la route più breve dal punto A all'interno di una trama al punto B. Se il punto A rappresenta la posizione u, v (0,8, 0,1) e il punto B è in corrispondenza di (0.1, 0.1), la riga di interpolazione è simile al diagramma seguente.</span><span class="sxs-lookup"><span data-stu-id="7d67b-106">Normally, the system treats the texture as a 2D plane, interpolating new texels by taking the shortest route from point A within a texture to point B. If point A represents the u, v position (0.8, 0.1), and point B is at (0.1,0.1), the line of interpolation looks like the following diagram.</span></span>

![diagramma di una linea di interpolazione tra due punti](images/interp1.png)

<span data-ttu-id="7d67b-108">Si noti che la distanza più breve tra A e B in questa illustrazione viene eseguita approssimativamente al centro della trama.</span><span class="sxs-lookup"><span data-stu-id="7d67b-108">Note that the shortest distance between A and B in this illustration runs roughly through the middle of the texture.</span></span> <span data-ttu-id="7d67b-109">Abilitazione della trama u o della coordinata v-wrapping delle coordinate modifica il modo in cui Direct3D percepisce il percorso più breve tra le coordinate di trama nella direzione u e la direzione v.</span><span class="sxs-lookup"><span data-stu-id="7d67b-109">Enabling u-texture or v-texture coordinate wrapping changes how Direct3D perceives the shortest route between texture coordinates in the u-direction and v-direction.</span></span> <span data-ttu-id="7d67b-110">Per definizione, il wrapping della trama fa in modo che l'rasterizzatore prenda il percorso più breve tra i set di coordinate di trama, supponendo che 0,0 e 1,0 siano coincidenti.</span><span class="sxs-lookup"><span data-stu-id="7d67b-110">By definition, texture wrapping causes the rasterizer to take the shortest route between texture coordinate sets, assuming that 0.0 and 1.0 are coincident.</span></span> <span data-ttu-id="7d67b-111">L'ultimo bit è la parte ingannevole: è possibile immaginare che l'abilitazione del wrapping della trama in una direzione induce il sistema a trattare una trama come se fosse stata avvolta intorno a un cilindro.</span><span class="sxs-lookup"><span data-stu-id="7d67b-111">The last bit is the tricky part: You can imagine that enabling texture wrapping in one direction causes the system to treat a texture as though it were wrapped around a cylinder.</span></span> <span data-ttu-id="7d67b-112">Si consideri ad esempio il diagramma seguente.</span><span class="sxs-lookup"><span data-stu-id="7d67b-112">For example, consider the following diagram.</span></span>

![diagramma di una trama e due punti racchiusi intorno a un cilindro](images/interp2.png)

<span data-ttu-id="7d67b-114">L'illustrazione precedente Mostra come il ritorno a capo nella direzione u influisca sulla modalità di interpolazione delle coordinate di trama da parte del sistema.</span><span class="sxs-lookup"><span data-stu-id="7d67b-114">The preceding illustration shows how wrapping in the u - direction affects how the system interpolates texture coordinates.</span></span> <span data-ttu-id="7d67b-115">Utilizzando gli stessi punti dell'esempio per le trame normali o non incapsulate, è possibile osservare che la route più breve tra i punti A e B non si trova più in mezzo alla trama; si trova ora oltre il bordo dove 0,0 e 1,0 sono presenti insieme.</span><span class="sxs-lookup"><span data-stu-id="7d67b-115">Using the same points as in the example for normal, or nonwrapped, textures, you can see that the shortest route between points A and B is no longer across the middle of the texture; it's now across the border where 0.0 and 1.0 exist together.</span></span> <span data-ttu-id="7d67b-116">Il wrapping nella direzione v è simile, ad eccezione del fatto che esegue il wrapping della trama intorno a un cilindro che si trova sul lato.</span><span class="sxs-lookup"><span data-stu-id="7d67b-116">Wrapping in the v-direction is similar, except that it wraps the texture around a cylinder that is lying on its side.</span></span> <span data-ttu-id="7d67b-117">Il wrapping sia nella direzione u che nella direzione v è più complesso.</span><span class="sxs-lookup"><span data-stu-id="7d67b-117">Wrapping in both the u-direction and v-direction is more complex.</span></span> <span data-ttu-id="7d67b-118">In questa situazione, è possibile prevedere la trama come Torus o ad anello.</span><span class="sxs-lookup"><span data-stu-id="7d67b-118">In this situation, you can envision the texture as a torus, or doughnut.</span></span>

<span data-ttu-id="7d67b-119">L'applicazione pratica più comune per il wrapping della trama consiste nell'eseguire il mapping dell'ambiente.</span><span class="sxs-lookup"><span data-stu-id="7d67b-119">The most common practical application for texture wrapping is to perform environment mapping.</span></span> <span data-ttu-id="7d67b-120">In genere, un oggetto con trama con una mappa dell'ambiente viene visualizzato molto riflettente, mostrando un'immagine speculare dell'ambiente dell'oggetto nella scena.</span><span class="sxs-lookup"><span data-stu-id="7d67b-120">Usually, an object textured with an environment map appears very reflective, showing a mirrored image of the object's surroundings in the scene.</span></span> <span data-ttu-id="7d67b-121">Ai fini di questa discussione, si immagini una stanza con quattro pareti, ciascuna dipinta con una lettera R, G, B, Y e i colori corrispondenti: rosso, verde, blu e giallo.</span><span class="sxs-lookup"><span data-stu-id="7d67b-121">For the sake of this discussion, picture a room with four walls, each one painted with a letter R, G, B, Y and the corresponding colors: red, green, blue, and yellow.</span></span> <span data-ttu-id="7d67b-122">La mappa dell'ambiente per una semplice stanza potrebbe avere un aspetto simile a quello illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="7d67b-122">The environment map for such a simple room might look like the following illustration.</span></span>

![illustrazione di strisce verticali di rosso, verde, blu e giallo](images/envmap.png)

<span data-ttu-id="7d67b-124">Si supponga che il soffitto della stanza sia mantenuto da un pilastro perfettamente riflettente e a quattro lati.</span><span class="sxs-lookup"><span data-stu-id="7d67b-124">Imagine that the room's ceiling is held up by a perfectly reflective, four-sided, pillar.</span></span> <span data-ttu-id="7d67b-125">Il mapping della trama della mappa dell'ambiente al pilastro è semplice; l'aspetto del pilastro come se riflettesse le lettere e i colori non è altrettanto semplice.</span><span class="sxs-lookup"><span data-stu-id="7d67b-125">Mapping the environment map texture to the pillar is simple; making the pillar look as though it is reflecting the letters and colors is not as easy.</span></span> <span data-ttu-id="7d67b-126">Nel diagramma seguente viene illustrata una cornice metallica del pilastro con le coordinate di trama applicabili elencate vicino ai vertici principali.</span><span class="sxs-lookup"><span data-stu-id="7d67b-126">The following diagram shows a wire frame of the pillar with the applicable texture coordinates listed near the top vertices.</span></span> <span data-ttu-id="7d67b-127">La linea di giunzione in cui il wrapping attraverserà i bordi della trama viene visualizzata con una linea tratteggiata.</span><span class="sxs-lookup"><span data-stu-id="7d67b-127">The seam where wrapping will cross the edges of the texture is shown with a dotted line.</span></span>

![diagramma di un rettangolo con una linea tratteggiata bisecante](images/seam.png)

<span data-ttu-id="7d67b-129">Con il wrapping abilitato nell'u-Direction, la colonna con trama Mostra i colori e i simboli della mappa dell'ambiente in modo appropriato e, alla cucitura nella parte anteriore della trama, il rasterizzatore sceglie correttamente la route più breve tra le coordinate di trama, supponendo che le coordinate u 0,0 e 1,0 condividano la stessa posizione.</span><span class="sxs-lookup"><span data-stu-id="7d67b-129">With wrapping enabled in the u-direction, the textured pillar shows the colors and symbols from the environment map appropriately and, at the seam in the front of the texture, the rasterizer properly chooses the shortest route between the texture coordinates, assuming that u-coordinates 0.0 and 1.0 share the same location.</span></span> <span data-ttu-id="7d67b-130">Il pilastro con trama ha un aspetto simile a quello illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="7d67b-130">The textured pillar looks like the following illustration.</span></span>

![illustrazione di un pilastro costituito da quadranti rosso, verde, blu e giallo](images/tex-seam.png)

<span data-ttu-id="7d67b-132">Se il wrapping della trama non è abilitato, il rasterizzatore non esegue l'interpolazione nella direzione necessaria per generare un'immagine riflessa credibile.</span><span class="sxs-lookup"><span data-stu-id="7d67b-132">If texture wrapping isn't enabled, the rasterizer does not interpolate in the direction needed to generate a believable, reflected image.</span></span> <span data-ttu-id="7d67b-133">Piuttosto, l'area nella parte anteriore del pilastro contiene una versione compressa orizzontalmente dei Texel tra le coordinate u 0,175 e 0,875, perché passano attraverso il centro della trama.</span><span class="sxs-lookup"><span data-stu-id="7d67b-133">Rather, the area at the front of the pillar contains a horizontally compressed version of the texels between u-coordinates 0.175 and 0.875, as they pass through the center of the texture.</span></span> <span data-ttu-id="7d67b-134">L'effetto a capo è stato rovinato.</span><span class="sxs-lookup"><span data-stu-id="7d67b-134">The wrap effect is ruined.</span></span>

## <a name="using-texture-wrapping"></a><span data-ttu-id="7d67b-135">Uso del wrapping della trama</span><span class="sxs-lookup"><span data-stu-id="7d67b-135">Using Texture Wrapping</span></span>

<span data-ttu-id="7d67b-136">Per abilitare il wrapping della trama, chiamare il metodo [**IDirect3DDevice9:: SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) , come illustrato nell'esempio di codice riportato di seguito.</span><span class="sxs-lookup"><span data-stu-id="7d67b-136">To enable texture wrapping, call the [**IDirect3DDevice9::SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) method as shown in the code example below.</span></span>


```
d3dDevice->SetRenderState(D3DRS_WRAP0, D3DWRAPCOORD_0);
```



<span data-ttu-id="7d67b-137">Il primo parametro accettato da [**IDirect3DDevice9:: SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) è uno stato di rendering da impostare.</span><span class="sxs-lookup"><span data-stu-id="7d67b-137">The first parameter accepted by [**IDirect3DDevice9::SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) is a render state to set.</span></span> <span data-ttu-id="7d67b-138">Specificare uno dei WRAP0 D3DRS \_ tramite \_ i valori enumerati di D3DRS WRAP7 che specificano il livello di trama per cui impostare il wrapping.</span><span class="sxs-lookup"><span data-stu-id="7d67b-138">Specify one of the D3DRS\_WRAP0 through D3DRS\_WRAP7 enumerated values which specify which texture level to set the wrapping for.</span></span> <span data-ttu-id="7d67b-139">Specificare i flag D3DWRAPCOORD da \_ 0 a D3DWRAPCOORD \_ 3 nel secondo parametro per abilitare il wrapping della trama nella direzione corrispondente o combinarli per abilitare il wrapping in più direzioni.</span><span class="sxs-lookup"><span data-stu-id="7d67b-139">Specify the D3DWRAPCOORD\_0 through D3DWRAPCOORD\_3 flags in the second parameter to enable texture wrapping in the corresponding direction, or combine them to enable wrapping in multiple directions.</span></span> <span data-ttu-id="7d67b-140">Se si omette un flag, il wrapping della trama nella direzione corrispondente è disabilitato.</span><span class="sxs-lookup"><span data-stu-id="7d67b-140">If you omit a flag, texture wrapping in the corresponding direction is disabled.</span></span> <span data-ttu-id="7d67b-141">Per disabilitare il wrapping della trama per un set di coordinate di trama, impostare il valore dello stato di rendering corrispondente su 0.</span><span class="sxs-lookup"><span data-stu-id="7d67b-141">To disable texture wrapping for a set of texture coordinates, set the value for the corresponding render state to 0.</span></span>

<span data-ttu-id="7d67b-142">Non confondere il wrapping della trama con le modalità di indirizzamento della trama con nome simile.</span><span class="sxs-lookup"><span data-stu-id="7d67b-142">Do not confuse texture wrapping with the similarly named texture addressing modes.</span></span> <span data-ttu-id="7d67b-143">Il wrapping della trama viene eseguito prima dell'indirizzamento della trama.</span><span class="sxs-lookup"><span data-stu-id="7d67b-143">Texture wrapping is performed before texture addressing.</span></span> <span data-ttu-id="7d67b-144">Assicurarsi che i dati di wrapping della trama non contengano coordinate di trama non comprese nell'intervallo \[ 0,0, 1,0 \] perché verranno generati risultati non definiti.</span><span class="sxs-lookup"><span data-stu-id="7d67b-144">Be sure the texture wrapping data does not contain any texture coordinates outside of the range of \[0.0, 1.0\] because this will produce undefined results.</span></span> <span data-ttu-id="7d67b-145">Per altre informazioni sull'indirizzamento delle trame, vedere [modalità di indirizzamento delle trame (Direct3D 9)](texture-addressing-modes.md).</span><span class="sxs-lookup"><span data-stu-id="7d67b-145">For more information about texture addressing, see [Texture Addressing Modes (Direct3D 9)](texture-addressing-modes.md).</span></span>

## <a name="displacement-map-wrapping"></a><span data-ttu-id="7d67b-146">Wrapping della mappa di spostamento</span><span class="sxs-lookup"><span data-stu-id="7d67b-146">Displacement Map Wrapping</span></span>

<span data-ttu-id="7d67b-147">Le mappe di spostamento vengono interpolate dal motore geometrica.</span><span class="sxs-lookup"><span data-stu-id="7d67b-147">Displacement maps are interpolated by the tesselation engine.</span></span> <span data-ttu-id="7d67b-148">Poiché non è possibile specificare la modalità wrap per il motore a mosaico, non è possibile eseguire il wrapping della trama con le mappe di spostamento.</span><span class="sxs-lookup"><span data-stu-id="7d67b-148">Because the wrap mode cannot be specified for the tessellation engine, texture wrapping cannot be performed with displacement maps.</span></span> <span data-ttu-id="7d67b-149">Un'applicazione è in grado di utilizzare un set di vertici che impone il wrapping dell'interpolazione in qualsiasi direzione.</span><span class="sxs-lookup"><span data-stu-id="7d67b-149">An application is able to use a set of vertices that forces the interpolation to wrap in any direction.</span></span> <span data-ttu-id="7d67b-150">L'applicazione può inoltre specificare l'interpolazione da eseguire come un'interpolazione lineare semplice.</span><span class="sxs-lookup"><span data-stu-id="7d67b-150">The application can also specify the interpolation to be done as a simple linear interpolation.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7d67b-151">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="7d67b-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7d67b-152">Trame Direct3D</span><span class="sxs-lookup"><span data-stu-id="7d67b-152">Direct3D Textures</span></span>](direct3d-textures.md)
</dt> </dl>

 

 
