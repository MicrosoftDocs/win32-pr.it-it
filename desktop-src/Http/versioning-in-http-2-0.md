---
title: Controllo delle versioni (API server HTTP)
description: L'API server HTTP versione 2,0 applica il controllo delle versioni con ambito oggetto per determinare la versione dell'API.
ms.assetid: 2c2d7501-85e0-44ec-aa42-01372b29266e
keywords:
- Controllo delle versioni in HTTP Server versione 2,0 API
- Server HTTP versione 2,0 API, controllo delle versioni
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5221ff7a93bb24e7e0b8a1b9f7c2399012cdbe95
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/10/2020
ms.locfileid: "104118790"
---
# <a name="versioning-http-server-api"></a><span data-ttu-id="54675-105">Controllo delle versioni (API server HTTP)</span><span class="sxs-lookup"><span data-stu-id="54675-105">Versioning (HTTP Server API)</span></span>

<span data-ttu-id="54675-106">L'API server HTTP versione 2,0 rende obsolete le code di richieste e le associazioni URL della versione 1,0 con la coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="54675-106">The HTTP Server version 2.0 API makes obsolete the version 1.0 request queues and URL associations with the request queue.</span></span> <span data-ttu-id="54675-107">Il controllo delle versioni con ambito di oggetto consente alle applicazioni di fornire informazioni sulla versione specifiche dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="54675-107">Object-scoped versioning allows applications to supply application-specific version information.</span></span> <span data-ttu-id="54675-108">Le applicazioni possono chiamare automaticamente la versione corretta delle strutture per il sistema operativo in cui è in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="54675-108">An applications can automatically call the correct version of structures for the operating system on which it is running.</span></span>

## <a name="request-queues"></a><span data-ttu-id="54675-109">Code di richieste</span><span class="sxs-lookup"><span data-stu-id="54675-109">Request Queues</span></span>

<span data-ttu-id="54675-110">A partire dall'API server HTTP versione 2,0, le code di richiesta vengono create con [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) rendendo obsoleta la funzione [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) della versione 1,0.</span><span class="sxs-lookup"><span data-stu-id="54675-110">Starting with HTTP Server version 2.0 API, request queues are created with [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) making obsolete the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) function.</span></span> <span data-ttu-id="54675-111">I gruppi di URL sono introdotti nella versione 2,0 con la funzione [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) .</span><span class="sxs-lookup"><span data-stu-id="54675-111">URL groups are introduced in version 2.0 with the [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) function.</span></span> <span data-ttu-id="54675-112">Gli URL vengono aggiunti al gruppo usando [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) , che rende obsoleta la funzione [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) della versione 1,0.</span><span class="sxs-lookup"><span data-stu-id="54675-112">URLs are added to the group using [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) which makes obsolete the version 1.0 [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) function.</span></span> <span data-ttu-id="54675-113">I gruppi di URL versione 2,0 non devono essere usati con le code di richieste della versione 1,0.</span><span class="sxs-lookup"><span data-stu-id="54675-113">Version 2.0 URL groups must not be used with version 1.0 request queues.</span></span>

<span data-ttu-id="54675-114">A partire dalla versione 2,0, le funzioni di versione 1,0 seguenti sono obsolete e non possono essere usate con le code di richieste della versione 2,0:</span><span class="sxs-lookup"><span data-stu-id="54675-114">Starting with version 2.0, the following version 1.0 functions are obsolete and cannot be used with version 2.0 request queues:</span></span>

-   [<span data-ttu-id="54675-115">**HttpCreateHttpHandle**</span><span class="sxs-lookup"><span data-stu-id="54675-115">**HttpCreateHttpHandle**</span></span>](/windows/desktop/api/Http/nf-http-httpcreatehttphandle)
-   [<span data-ttu-id="54675-116">**HttpAddUrl**</span><span class="sxs-lookup"><span data-stu-id="54675-116">**HttpAddUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpaddurl)
-   [<span data-ttu-id="54675-117">**HttpRemoveUrl**</span><span class="sxs-lookup"><span data-stu-id="54675-117">**HttpRemoveUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpremoveurl)

<span data-ttu-id="54675-118">Per ulteriori informazioni sulla configurazione dei gruppi di URL, vedere l'argomento [configurazione del gruppo di URL](configuring-the-url-group.md) .</span><span class="sxs-lookup"><span data-stu-id="54675-118">For more information about configuring URL groups, see the [Configuring the URL Group](configuring-the-url-group.md) topic.</span></span> <span data-ttu-id="54675-119">Per ulteriori informazioni sulle code di richieste della versione 2,0, vedere l'argomento relativo alla [coda di richieste denominata](named-request-queue.md) .</span><span class="sxs-lookup"><span data-stu-id="54675-119">For more information about version 2.0 request queues, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="object-scoped-versioning"></a><span data-ttu-id="54675-120">Controllo delle versioni di Object-Scoped</span><span class="sxs-lookup"><span data-stu-id="54675-120">Object-Scoped Versioning</span></span>

<span data-ttu-id="54675-121">Nella versione 1,0, l'applicazione fornisce la versione dell'API del server HTTP nella chiamata a [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span><span class="sxs-lookup"><span data-stu-id="54675-121">In version 1.0, the application supplies the HTTP Server API version in the call to [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span></span> <span data-ttu-id="54675-122">Le informazioni sulla versione vengono accettate solo dalla prima applicazione che ha chiamato **HttpInitialize** e viene applicata a tutte le applicazioni API del server http nello stesso processo.</span><span class="sxs-lookup"><span data-stu-id="54675-122">The version information is accepted only from the first application that called **HttpInitialize** and is applied to all the HTTP Server API applications in the same process.</span></span> <span data-ttu-id="54675-123">A partire dall'API versione 2,0, le informazioni sulla versione globale fornite nella chiamata a **HttpInitialize** non vengono usate.</span><span class="sxs-lookup"><span data-stu-id="54675-123">Starting with the version 2.0 API, the global version information supplied in the call to **HttpInitialize** is not used.</span></span> <span data-ttu-id="54675-124">Per le applicazioni della versione 2,0, la versione dell'API del server HTTP viene passata nel parametro della versione quando la coda di richieste o la sessione del server viene creata da [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) o [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession).</span><span class="sxs-lookup"><span data-stu-id="54675-124">For version 2.0 applications, the HTTP Server API version is passed in the Version parameter when the request queue or server session is created by [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) or [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession).</span></span> <span data-ttu-id="54675-125">Quando la coda di richieste viene creata con la versione 1,0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), viene contrassegnata automaticamente come versione 1,0.</span><span class="sxs-lookup"><span data-stu-id="54675-125">When the request queue is created with the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), it is automatically marked as version 1.0.</span></span> <span data-ttu-id="54675-126">Entrambe le applicazioni versione 1,0 e versione 2,0 possono essere eseguite nello stesso processo.</span><span class="sxs-lookup"><span data-stu-id="54675-126">Both version 1.0 and version 2.0 applications can run in the same process.</span></span>

<span data-ttu-id="54675-127">La [**\_ richiesta http**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) e le strutture di [**\_ risposta http**](http-response.md) vengono aggiornate per includere le informazioni di autenticazione nell'API server http versione 2,0.</span><span class="sxs-lookup"><span data-stu-id="54675-127">The [**HTTP\_REQUEST**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) and [**HTTP\_RESPONSE**](http-response.md) structures are updated to include authentication information in the HTTP Server version 2.0 API.</span></span> <span data-ttu-id="54675-128">[**Http \_ La richiesta \_ V1**](/windows/desktop/api/Http/ns-http-http_request_v1) e la [**\_ richiesta HTTP \_ v2**](/windows/desktop/api/Http/ns-http-http_request_v2) sono specifiche per la versione dell'API usata dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="54675-128">[**HTTP\_REQUEST\_V1**](/windows/desktop/api/Http/ns-http-http_request_v1) and [**HTTP\_REQUEST\_V2**](/windows/desktop/api/Http/ns-http-http_request_v2) are specific to the version of the API used by the application.</span></span> <span data-ttu-id="54675-129">Tuttavia, le applicazioni non devono utilizzare queste strutture direttamente nel codice. usare invece la **\_ richiesta http** per ottenere la versione corretta in base alla versione della coda di richieste in cui è stata ricevuta la richiesta.</span><span class="sxs-lookup"><span data-stu-id="54675-129">However, applications should not use these structures directly in their code; instead they should use **HTTP\_REQUEST** to get the correct version based on the version of the request queue on which the request was received.</span></span> <span data-ttu-id="54675-130">Tenere inoltre presente che le dimensioni della struttura **di \_ richiesta http** sono basate sulla versione del sistema operativo in cui viene compilato il codice.</span><span class="sxs-lookup"><span data-stu-id="54675-130">Also, be aware that size of the **HTTP\_REQUEST** structure is based on the version of the operating system under which the code is compiled.</span></span>

 

 
