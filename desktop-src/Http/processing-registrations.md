---
title: Elaborazione delle registrazioni
description: Le API del server HTTP utilizzano il database di routing per applicare i controlli di accesso durante le registrazioni.
ms.assetid: d72aa213-b8e8-4fe9-b98c-41114d2cea56
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7c1e02d2511d9967454d5cbddd93b2c0380d1172
ms.sourcegitcommit: 73417d55867c804274a55abe5ca71bcba7006119
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 10/20/2020
ms.locfileid: "104474609"
---
# <a name="processing-registrations"></a><span data-ttu-id="44484-103">Elaborazione delle registrazioni</span><span class="sxs-lookup"><span data-stu-id="44484-103">Processing Registrations</span></span>

<span data-ttu-id="44484-104">Le API del server HTTP utilizzano il database di routing per applicare i controlli di accesso durante le registrazioni.</span><span class="sxs-lookup"><span data-stu-id="44484-104">The HTTP Server APIs use the routing database to apply access checks during registrations.</span></span> <span data-ttu-id="44484-105">Una registrazione per un [URLPrefix](urlprefix-strings.md) deve superare una serie di controlli di accesso per assicurarsi che l'utente che esegue la registrazione per lo spazio dei nomi disponga dei diritti di accesso.</span><span class="sxs-lookup"><span data-stu-id="44484-105">A registration for a [UrlPrefix](urlprefix-strings.md) must pass a series of access checks to ensure that the user registering for the namespace has access rights.</span></span> <span data-ttu-id="44484-106">Usare la funzione [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) per aggiungere una nuova registrazione.</span><span class="sxs-lookup"><span data-stu-id="44484-106">Use the [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) function to add a new registration.</span></span>

<span data-ttu-id="44484-107">**Per aggiungere una nuova registrazione con HttpAddUrl**</span><span class="sxs-lookup"><span data-stu-id="44484-107">**To add a new registration with HttpAddUrl**</span></span>

1.  <span data-ttu-id="44484-108">Se il numero di porta in UrlPrefix include prenotazioni o registrazioni per uno schema diverso dallo schema nella UrlPrefix, la registrazione non riesce.</span><span class="sxs-lookup"><span data-stu-id="44484-108">If the port number in the UrlPrefix has reservations or registrations for a scheme different from the scheme in the UrlPrefix, the registration fails.</span></span> <span data-ttu-id="44484-109">HTTP e HTTPS non possono essere supportati sulla stessa porta.</span><span class="sxs-lookup"><span data-stu-id="44484-109">HTTP and HTTPS cannot be supported on the same port.</span></span>
2.  <span data-ttu-id="44484-110">La registrazione viene inserita nel bucket appropriato per la registrazione.</span><span class="sxs-lookup"><span data-stu-id="44484-110">The registration is slotted into the appropriate bucket for the registration.</span></span> <span data-ttu-id="44484-111">I bucket sono basati sul tipo di host dell'URL, come descritto nella sezione [routing delle richieste in ingresso](routing-incoming-requests.md) .</span><span class="sxs-lookup"><span data-stu-id="44484-111">The buckets are based on the host type of the URL as outlined in the [Routing Incoming Requests](routing-incoming-requests.md) section.</span></span> <span data-ttu-id="44484-112">I passaggi seguenti sono relativi a questo particolare bucket.</span><span class="sxs-lookup"><span data-stu-id="44484-112">The following steps are relative to this particular bucket.</span></span>
3.  <span data-ttu-id="44484-113">Se esiste una voce di registrazione duplicata, restituire un codice di errore.</span><span class="sxs-lookup"><span data-stu-id="44484-113">If a duplicate registration entry exists, return an error code.</span></span>
4.  <span data-ttu-id="44484-114">Selezionare le voci di prenotazione con i componenti schema, host e porta uguali a quelli di UrlPrefix.</span><span class="sxs-lookup"><span data-stu-id="44484-114">Select reservation entries with scheme, host and port components that are equal to those of the UrlPrefix.</span></span> <span data-ttu-id="44484-115">Da questi individuare la voce con la corrispondenza **relativeUri** più estesa.</span><span class="sxs-lookup"><span data-stu-id="44484-115">From these, locate the entry with the longest **relativeUri** match.</span></span> <span data-ttu-id="44484-116">Se la voce esiste, controllare le autorizzazioni in base all'ACL associato a tale voce e restituire success.</span><span class="sxs-lookup"><span data-stu-id="44484-116">If the entry exists, check permissions based on the ACL associated with that entry and return success.</span></span> <span data-ttu-id="44484-117">Se la voce non esiste, restituire un codice di errore \_ già \_ esistente.</span><span class="sxs-lookup"><span data-stu-id="44484-117">If the entry does not exist, return an ERROR\_ALREADY\_EXISTS code.</span></span>

<span data-ttu-id="44484-118">Negli esempi seguenti viene illustrato il processo di installazione di una registrazione nel database di routing.</span><span class="sxs-lookup"><span data-stu-id="44484-118">The following examples illustrate the process to install a registration in the routing database.</span></span> <span data-ttu-id="44484-119">Le prenotazioni 1 e 2 sono presenti nel database di routing.</span><span class="sxs-lookup"><span data-stu-id="44484-119">Reservations 1 and 2 exist in the routing database.</span></span>

-   <span data-ttu-id="44484-120">Prenotazione 1: `https://+:80/vroot/subdir/` per l'utente a e l'utente C. Questa prenotazione viene inserita nel bucket "+".</span><span class="sxs-lookup"><span data-stu-id="44484-120">Reservation 1: `https://+:80/vroot/subdir/` for User A and User C. This reservation is placed in the "+" bucket.</span></span>
-   <span data-ttu-id="44484-121">Prenotazione 2: `https://adatum.com:80/vroot/` per l'utente B. Questa prenotazione viene inserita nel bucket "host esplicito".</span><span class="sxs-lookup"><span data-stu-id="44484-121">Reservation 2: `https://adatum.com:80/vroot/` for User B. This reservation is placed in the "Explicit Host" bucket.</span></span>
-   <span data-ttu-id="44484-122">Registrazione: l' `https://+:80/vroot/subdir/` utente B ha esito negativo a causa della prenotazione 1.</span><span class="sxs-lookup"><span data-stu-id="44484-122">Registration: `https://+:80/vroot/subdir/` by User B fails due to reservation 1.</span></span>
-   <span data-ttu-id="44484-123">Registrazione: l' `https://adatum.com:80/vroot/subdir/` utente B ha esito positivo a causa della prenotazione 2.</span><span class="sxs-lookup"><span data-stu-id="44484-123">Registration: `https://adatum.com:80/vroot/subdir/` by User B succeeds due to reservation 2.</span></span>
-   <span data-ttu-id="44484-124">Registrazione: `https://adatum.com:80/vroot/subdir/` l'utente C non riesce a causa della prenotazione più esplicita 2.</span><span class="sxs-lookup"><span data-stu-id="44484-124">Registration: `https://adatum.com:80/vroot/subdir/` by User C fails due to the more explicit reservation 2.</span></span> <span data-ttu-id="44484-125">La prenotazione con carattere jolly sicuro non ha significato nel contesto della prenotazione o della registrazione esplicita.</span><span class="sxs-lookup"><span data-stu-id="44484-125">The strong wildcard reservation does not have meaning within the context of the explicit reservation or registration.</span></span>
-   <span data-ttu-id="44484-126">Registrazione: `https://+:80/vroot/subdir/` l'utente a ha esito positivo a causa della prenotazione 1.</span><span class="sxs-lookup"><span data-stu-id="44484-126">Registration: `https://+:80/vroot/subdir/` by User A succeeds due to reservation 1.</span></span>
-   <span data-ttu-id="44484-127">Registrazione: l' `https://adatum.com:80/vroot/anotherdir/` utente B ha esito positivo a causa della prenotazione 2.</span><span class="sxs-lookup"><span data-stu-id="44484-127">Registration: `https://adatum.com:80/vroot/anotherdir/` by User B succeeds due to reservation 2.</span></span>

<span data-ttu-id="44484-128">Il controllo dell'accesso per la registrazione non include i controlli per i privilegi di delega.</span><span class="sxs-lookup"><span data-stu-id="44484-128">The access check for registration does not include checks for delegation privileges.</span></span> <span data-ttu-id="44484-129">Non sono presenti controlli di accesso basati sulle prenotazioni (vedere [**HttpRemoveUrl**](/windows/desktop/api/Http/nf-http-httpremoveurl)).</span><span class="sxs-lookup"><span data-stu-id="44484-129">There are no access checks based on reservations (see [**HttpRemoveUrl**](/windows/desktop/api/Http/nf-http-httpremoveurl)).</span></span> <span data-ttu-id="44484-130">L'unico requisito per eliminare una registrazione è che il processo chiamante deve avere creato la registrazione.</span><span class="sxs-lookup"><span data-stu-id="44484-130">The only requirement for deleting a registration us that the calling process must have created the registration.</span></span>

 

 




