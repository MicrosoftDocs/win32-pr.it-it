---
title: Avvio della richiesta nelle code di richieste della versione 2.0
description: Avvio della richiesta nelle code di richieste della versione 2.0
ms.assetid: 84a744b7-1b0e-4fa7-8015-4840251aa856
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 06f6b14759e60fb69a47cda6975f6559c00771f1
ms.sourcegitcommit: 95685061d5b0333bbf9e6ebd208dde8190f97005
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/28/2021
ms.locfileid: "108090929"
---
# <a name="demand-start-on-version-20-request-queues"></a><span data-ttu-id="791d8-103">Avvio della richiesta nelle code di richieste della versione 2.0</span><span class="sxs-lookup"><span data-stu-id="791d8-103">Demand Start on Version 2.0 Request Queues</span></span>

<span data-ttu-id="791d8-104">La funzionalità di avvio della richiesta delle code di richieste api del server HTTP versione 2.0 consente all'applicazione controller di ritardare la creazione di istanze del processo di lavoro fino all'arrivo della prima richiesta nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-104">The demand start feature of the HTTP Server version 2.0 API request queues allows controller application to delay worker process instantiation until the first request arrives on the request queue.</span></span> <span data-ttu-id="791d8-105">Di conseguenza, le applicazioni possono evitare di utilizzare le risorse fino a quando non sono necessarie.</span><span class="sxs-lookup"><span data-stu-id="791d8-105">Thus, the applications can avoid consuming resources until they are required.</span></span> <span data-ttu-id="791d8-106">Per altre informazioni sull'applicazione controller, vedere [l'argomento Coda di richieste](named-request-queue.md) denominate.</span><span class="sxs-lookup"><span data-stu-id="791d8-106">For more information about the controller application, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="asynchronous-demand-start"></a><span data-ttu-id="791d8-107">Avvio della richiesta asincrona</span><span class="sxs-lookup"><span data-stu-id="791d8-107">Asynchronous Demand Start</span></span>

<span data-ttu-id="791d8-108">L'applicazione controller [**chiama HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) con l'handle per la coda di richieste per avviare una notifica di avvio della richiesta.</span><span class="sxs-lookup"><span data-stu-id="791d8-108">The controller application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) with the handle to the request queue to initiate a demand start notification.</span></span> <span data-ttu-id="791d8-109">Per il completamento asincrono, l'applicazione fornisce la struttura sovrapposta nel *parametro pOverlapped.*</span><span class="sxs-lookup"><span data-stu-id="791d8-109">For asynchronous completion, the application supplies the overlapped structure in the *pOverlapped* parameter.</span></span> <span data-ttu-id="791d8-110">Quando **HttpWaitForDemandStart** viene chiamato in modo asincrono, l'applicazione controller invia una notifica all'arrivo della prima richiesta nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-110">When **HttpWaitForDemandStart** is called asynchronously, the controller application is notified when the first request arrives on the request queue.</span></span> <span data-ttu-id="791d8-111">Al termine della notifica di avvio della richiesta, l'applicazione controller può registrarsi per un'altra notifica di avvio della richiesta nella coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-111">After the demand start notification completes, the controller application can register for another demand start notification on the request queue.</span></span>

<span data-ttu-id="791d8-112">L'API del server HTTP non consente più di una notifica di avvio della richiesta simultanea per una coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-112">The HTTP Server API does not allow more than one simultaneous demand start notification for a request queue.</span></span> <span data-ttu-id="791d8-113">Tuttavia, al termine della notifica di avvio della richiesta in sospeso, l'applicazione chiama di nuovo [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) per avviare più processi di lavoro nella coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-113">However, when the outstanding demand start notification completes, the application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) again to start multiple worker processes on the request queue.</span></span> <span data-ttu-id="791d8-114">HTTP non applica limitazioni al numero di notifiche di avvio della richiesta o al numero di processi di lavoro che operano nella coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-114">HTTP does not enforce limitations on the number of demand start notifications or the number of worker processes operating on the request queue.</span></span> <span data-ttu-id="791d8-115">Le applicazioni controller possono tuttavia imporre il numero di processi di lavoro consentiti in una coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-115">The controller applications can, however, enforce the number of worker processes allowed on a request queue.</span></span>

<span data-ttu-id="791d8-116">L'API server HTTP supporta l'annullamento di [**chiamate HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) asincrone.</span><span class="sxs-lookup"><span data-stu-id="791d8-116">The HTTP Server API supports canceling asynchronous [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) calls.</span></span> <span data-ttu-id="791d8-117">Le applicazioni possono [**usare CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) con la struttura sovrapposta fornita in *pOverlapped* per annullare una chiamata **HttpWaitForDemandStart in** sospeso.</span><span class="sxs-lookup"><span data-stu-id="791d8-117">Applications can use [**CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) with the overlapped structure supplied in *pOverlapped*, to cancel an outstanding **HttpWaitForDemandStart** call.</span></span>

## <a name="synchronous-demand-start"></a><span data-ttu-id="791d8-118">Avvio della richiesta sincrona</span><span class="sxs-lookup"><span data-stu-id="791d8-118">Synchronous Demand Start</span></span>

<span data-ttu-id="791d8-119">L'avvio della richiesta sincrona non è consigliato perché l'applicazione si blocca fino all'arrivo di una richiesta nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="791d8-119">Synchronous demand start is not recommended because the application blocks until a request arrives on the request queue.</span></span>

 

 
