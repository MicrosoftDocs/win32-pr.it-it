---
title: Avvio della richiesta nelle code di richieste della versione 2,0
description: .
ms.assetid: 84a744b7-1b0e-4fa7-8015-4840251aa856
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78d618ea3fa38a856eba743d2bf60bfbfec9a633
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "103963095"
---
# <a name="demand-start-on-version-20-request-queues"></a><span data-ttu-id="15fcc-103">Avvio della richiesta nelle code di richieste della versione 2,0</span><span class="sxs-lookup"><span data-stu-id="15fcc-103">Demand Start on Version 2.0 Request Queues</span></span>

<span data-ttu-id="15fcc-104">La funzionalità di avvio della richiesta della coda di richieste API versione 2,0 del server HTTP consente all'applicazione controller di ritardare la creazione di un'istanza del processo di lavoro finché la prima richiesta arriva nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-104">The demand start feature of the HTTP Server version 2.0 API request queues allows controller application to delay worker process instantiation until the first request arrives on the request queue.</span></span> <span data-ttu-id="15fcc-105">Pertanto, le applicazioni possono evitare l'utilizzo di risorse fino a quando non sono necessarie.</span><span class="sxs-lookup"><span data-stu-id="15fcc-105">Thus, the applications can avoid consuming resources until they are required.</span></span> <span data-ttu-id="15fcc-106">Per ulteriori informazioni sull'applicazione controller, vedere l'argomento relativo alla [coda di richieste denominata](named-request-queue.md) .</span><span class="sxs-lookup"><span data-stu-id="15fcc-106">For more information about the controller application, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="asynchronous-demand-start"></a><span data-ttu-id="15fcc-107">Avvio della richiesta asincrona</span><span class="sxs-lookup"><span data-stu-id="15fcc-107">Asynchronous Demand Start</span></span>

<span data-ttu-id="15fcc-108">L'applicazione controller chiama [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) con l'handle per la coda di richieste per avviare una notifica di avvio della richiesta.</span><span class="sxs-lookup"><span data-stu-id="15fcc-108">The controller application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) with the handle to the request queue to initiate a demand start notification.</span></span> <span data-ttu-id="15fcc-109">Per il completamento asincrono, l'applicazione fornisce la struttura sovrapposta nel parametro *pOverlapped* .</span><span class="sxs-lookup"><span data-stu-id="15fcc-109">For asynchronous completion, the application supplies the overlapped structure in the *pOverlapped* parameter.</span></span> <span data-ttu-id="15fcc-110">Quando **HttpWaitForDemandStart** viene chiamato in modo asincrono, l'applicazione controller riceve una notifica quando arriva la prima richiesta nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-110">When **HttpWaitForDemandStart** is called asynchronously, the controller application is notified when the first request arrives on the request queue.</span></span> <span data-ttu-id="15fcc-111">Al termine della notifica di avvio della richiesta, l'applicazione controller può registrarsi per un'altra notifica di avvio della richiesta nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-111">After the demand start notification completes, the controller application can register for another demand start notification on the request queue.</span></span>

<span data-ttu-id="15fcc-112">L'API server HTTP non consente più di una notifica di avvio della richiesta simultanea per una coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-112">The HTTP Server API does not allow more than one simultaneous demand start notification for a request queue.</span></span> <span data-ttu-id="15fcc-113">Tuttavia, quando la notifica di avvio della richiesta in attesa viene completata, l'applicazione chiama di nuovo [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) per avviare più processi di lavoro nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-113">However, when the outstanding demand start notification completes, the application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) again to start multiple worker processes on the request queue.</span></span> <span data-ttu-id="15fcc-114">Il protocollo HTTP non impone limitazioni sul numero di notifiche di avvio della richiesta o sul numero di processi di lavoro che operano nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-114">HTTP does not enforce limitations on the number of demand start notifications or the number of worker processes operating on the request queue.</span></span> <span data-ttu-id="15fcc-115">Tuttavia, le applicazioni controller possono applicare il numero di processi di lavoro consentiti in una coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-115">The controller applications can, however, enforce the number of worker processes allowed on a request queue.</span></span>

<span data-ttu-id="15fcc-116">L'API server HTTP supporta l'annullamento di chiamate [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) asincrone.</span><span class="sxs-lookup"><span data-stu-id="15fcc-116">The HTTP Server API supports canceling asynchronous [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) calls.</span></span> <span data-ttu-id="15fcc-117">Le applicazioni possono utilizzare [**CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) con la struttura sovrapposta fornita in *pOverlapped* per annullare una chiamata **HttpWaitForDemandStart** in attesa.</span><span class="sxs-lookup"><span data-stu-id="15fcc-117">Applications can use [**CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) with the overlapped structure supplied in *pOverlapped*, to cancel an outstanding **HttpWaitForDemandStart** call.</span></span>

## <a name="synchronous-demand-start"></a><span data-ttu-id="15fcc-118">Avvio della richiesta sincrona</span><span class="sxs-lookup"><span data-stu-id="15fcc-118">Synchronous Demand Start</span></span>

<span data-ttu-id="15fcc-119">Non è consigliabile avviare la richiesta sincrona perché l'applicazione si blocca fino a quando non arriva una richiesta nella coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="15fcc-119">Synchronous demand start is not recommended because the application blocks until a request arrives on the request queue.</span></span>

 

 