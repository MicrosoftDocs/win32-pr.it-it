---
title: Esempio di parser dello scenario 2 con traccia ETW
description: Per generare un report di traccia ETW per il componente API server HTTP, eseguire i passaggi illustrati in \ 0034; Generazione di un report di traccia ETW \ 0034; sezione dell'esempio di timeout HTTP dello scenario 1 usando la traccia ETW e i comandi netsh, ma riprodurre l'errore specifico di questo scenario.
ms.assetid: 2ccd2927-8a64-40a8-a29b-4b680a942f7f
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 866c566973b660e4e665226fbf9b4a266b086b6b
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "104046756"
---
# <a name="scenario-2-parser-example-using-etw-tracing"></a><span data-ttu-id="ade56-103">Scenario 2: esempio di parser con traccia ETW</span><span class="sxs-lookup"><span data-stu-id="ade56-103">Scenario 2: Parser Example Using ETW Tracing</span></span>

<span data-ttu-id="ade56-104">Per generare un report di traccia ETW per il componente API server HTTP, eseguire i passaggi illustrati nella sezione "generazione di un report di traccia ETW" dello [scenario 1: esempio di timeout http utilizzando la traccia ETW e i comandi netsh](scenario-1--http-timeout-example-using-etw-tracing-and-netsh-commands.md), ma riprodurre l'errore specifico di questo scenario.</span><span class="sxs-lookup"><span data-stu-id="ade56-104">To generate an ETW trace report for the HTTP Server API component, run the steps as shown in the "Generating an ETW Trace Report" section of [Scenario 1: HTTP Timeout Example Using ETW Tracing and Netsh Commands](scenario-1--http-timeout-example-using-etw-tracing-and-netsh-commands.md), but reproduce the error specific to this scenario.</span></span> <span data-ttu-id="ade56-105">In questo esempio, accedere all'applicazione Web da un computer client, ottenendo il messaggio "400 richiesta non valida" visualizzato nel client.</span><span class="sxs-lookup"><span data-stu-id="ade56-105">In this example, access the web application from a client machine, resulting in the "400 bad request" message being shown on the client.</span></span> <span data-ttu-id="ade56-106">Questi passaggi vengono eseguiti nel server perché ospita l'applicazione Web.</span><span class="sxs-lookup"><span data-stu-id="ade56-106">These steps are run on the server since it is hosting the web application.</span></span>

## <a name="viewing-the-trace-and-diagnosing"></a><span data-ttu-id="ade56-107">Visualizzazione della traccia e diagnosi</span><span class="sxs-lookup"><span data-stu-id="ade56-107">Viewing the Trace and Diagnosing</span></span>

<span data-ttu-id="ade56-108">Il file CSV risultante per le tracce può essere visualizzato in Excel o in qualsiasi strumento che supporti il formato CSV.</span><span class="sxs-lookup"><span data-stu-id="ade56-108">The resulting CSV file for traces can be viewed in Excel or any tool that supports the CSV format.</span></span> <span data-ttu-id="ade56-109">La tabella 2 seguente Mostra gli estratti da un file di traccia di esempio (httptrace.csv).</span><span class="sxs-lookup"><span data-stu-id="ade56-109">Table 2 below shows excerpts from a sample trace file (httptrace.csv).</span></span> <span data-ttu-id="ade56-110">Nel report di traccia la colonna "Level" Mostra una voce con un valore "2", che rappresenta un errore.</span><span class="sxs-lookup"><span data-stu-id="ade56-110">In the trace report, the "Level" column shows an entry with a value of "2", which represents an error.</span></span> <span data-ttu-id="ade56-111">Come indicato in precedenza, il componente API server HTTP segue i livelli ETW definiti nell'articolo [tipo complesso di tipo complesso LevelType](../wes/eventmanifestschema-leveltype-complextype.md).</span><span class="sxs-lookup"><span data-stu-id="ade56-111">As noted above, the HTTP Server API component follows the ETW Levels defined in the article [LevelType Complex Type Complex Type](../wes/eventmanifestschema-leveltype-complextype.md).</span></span>

<span data-ttu-id="ade56-112">I livelli ETW includono: 1 critico; 2 errore; 3 avviso; 4 informazioni 5 verbose.</span><span class="sxs-lookup"><span data-stu-id="ade56-112">The ETW levels include: 1 Critical; 2 Error; 3 Warning; 4 Informational; 5 Verbose.</span></span>

<span data-ttu-id="ade56-113">Con questo errore, il tipo di evento (colonna di tipo) segnala "ParseRequestFailed".</span><span class="sxs-lookup"><span data-stu-id="ade56-113">With this error, the event type (Type column) reports "ParseRequestFailed".</span></span> <span data-ttu-id="ade56-114">Nelle colonne successive per l'evento ParseRequestFailed viene visualizzata una voce "InvalidHost".</span><span class="sxs-lookup"><span data-stu-id="ade56-114">In the subsequent columns for the ParseRequestFailed event, we see an "InvalidHost" entry.</span></span> <span data-ttu-id="ade56-115">Questa voce indica che l'host identificato nella richiesta HTTP non è corretto, in base al protocollo HTTP.</span><span class="sxs-lookup"><span data-stu-id="ade56-115">This entry means that the identified host in the HTTP Request is incorrect, according the HTTP protocol.</span></span> <span data-ttu-id="ade56-116">Si noti che la colonna con la voce "InvalidHost" non è inclusa nella tabella per motivi di brevità ed evitare l'estrazione di colonne non contigue.</span><span class="sxs-lookup"><span data-stu-id="ade56-116">Note the column with the "InvalidHost" entry is not included in the table for the sake of brevity and to avoid excerpting noncontiguous columns.</span></span>

<span data-ttu-id="ade56-117">Per risolvere il problema di analisi, è necessario correggere il client Web in modo che sia conforme alla specifica HTTP RFC.</span><span class="sxs-lookup"><span data-stu-id="ade56-117">To fix this parsing issue, the web client should be corrected to be compliant with the HTTP RFC.</span></span> 

| <span data-ttu-id="ade56-118">Nome evento</span><span class="sxs-lookup"><span data-stu-id="ade56-118">Event name</span></span>                    | <span data-ttu-id="ade56-119">Tipo</span><span class="sxs-lookup"><span data-stu-id="ade56-119">Type</span></span>               | <span data-ttu-id="ade56-120">ID evento</span><span class="sxs-lookup"><span data-stu-id="ade56-120">Event ID</span></span> | <span data-ttu-id="ade56-121">Versione</span><span class="sxs-lookup"><span data-stu-id="ade56-121">Version</span></span> | <span data-ttu-id="ade56-122">Channel</span><span class="sxs-lookup"><span data-stu-id="ade56-122">Channel</span></span> | <span data-ttu-id="ade56-123">Level</span><span class="sxs-lookup"><span data-stu-id="ade56-123">Level</span></span> |
|-------------------------------|--------------------|----------|---------|---------|-------|
| <span data-ttu-id="ade56-124">EventTrace</span><span class="sxs-lookup"><span data-stu-id="ade56-124">EventTrace</span></span>                    | <span data-ttu-id="ade56-125">Intestazione</span><span class="sxs-lookup"><span data-stu-id="ade56-125">Header</span></span>             | <span data-ttu-id="ade56-126">0</span><span class="sxs-lookup"><span data-stu-id="ade56-126">0</span></span>        | <span data-ttu-id="ade56-127">2</span><span class="sxs-lookup"><span data-stu-id="ade56-127">2</span></span>       | <span data-ttu-id="ade56-128">0</span><span class="sxs-lookup"><span data-stu-id="ade56-128">0</span></span>       | <span data-ttu-id="ade56-129">0</span><span class="sxs-lookup"><span data-stu-id="ade56-129">0</span></span>     |
| <span data-ttu-id="ade56-130">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="ade56-130">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="ade56-131">AddUrl</span><span class="sxs-lookup"><span data-stu-id="ade56-131">AddUrl</span></span>             | <span data-ttu-id="ade56-132">31</span><span class="sxs-lookup"><span data-stu-id="ade56-132">31</span></span>       | <span data-ttu-id="ade56-133">0</span><span class="sxs-lookup"><span data-stu-id="ade56-133">0</span></span>       | <span data-ttu-id="ade56-134">16</span><span class="sxs-lookup"><span data-stu-id="ade56-134">16</span></span>      | <span data-ttu-id="ade56-135">4</span><span class="sxs-lookup"><span data-stu-id="ade56-135">4</span></span>     |
| <span data-ttu-id="ade56-136">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="ade56-136">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="ade56-137">ConnConnect</span><span class="sxs-lookup"><span data-stu-id="ade56-137">ConnConnect</span></span>        | <span data-ttu-id="ade56-138">21</span><span class="sxs-lookup"><span data-stu-id="ade56-138">21</span></span>       | <span data-ttu-id="ade56-139">0</span><span class="sxs-lookup"><span data-stu-id="ade56-139">0</span></span>       | <span data-ttu-id="ade56-140">16</span><span class="sxs-lookup"><span data-stu-id="ade56-140">16</span></span>      | <span data-ttu-id="ade56-141">4</span><span class="sxs-lookup"><span data-stu-id="ade56-141">4</span></span>     |
| <span data-ttu-id="ade56-142">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="ade56-142">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="ade56-143">ConnIdAssgn</span><span class="sxs-lookup"><span data-stu-id="ade56-143">ConnIdAssgn</span></span>        | <span data-ttu-id="ade56-144">22</span><span class="sxs-lookup"><span data-stu-id="ade56-144">22</span></span>       | <span data-ttu-id="ade56-145">0</span><span class="sxs-lookup"><span data-stu-id="ade56-145">0</span></span>       | <span data-ttu-id="ade56-146">16</span><span class="sxs-lookup"><span data-stu-id="ade56-146">16</span></span>      | <span data-ttu-id="ade56-147">4</span><span class="sxs-lookup"><span data-stu-id="ade56-147">4</span></span>     |
| <span data-ttu-id="ade56-148">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="ade56-148">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="ade56-149">RecvReq</span><span class="sxs-lookup"><span data-stu-id="ade56-149">RecvReq</span></span>            | <span data-ttu-id="ade56-150">1</span><span class="sxs-lookup"><span data-stu-id="ade56-150">1</span></span>        | <span data-ttu-id="ade56-151">0</span><span class="sxs-lookup"><span data-stu-id="ade56-151">0</span></span>       | <span data-ttu-id="ade56-152">16</span><span class="sxs-lookup"><span data-stu-id="ade56-152">16</span></span>      | <span data-ttu-id="ade56-153">4</span><span class="sxs-lookup"><span data-stu-id="ade56-153">4</span></span>     |
| <span data-ttu-id="ade56-154">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="ade56-154">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="ade56-155">ParseRequestFailed</span><span class="sxs-lookup"><span data-stu-id="ade56-155">ParseRequestFailed</span></span> | <span data-ttu-id="ade56-156">52</span><span class="sxs-lookup"><span data-stu-id="ade56-156">52</span></span>       | <span data-ttu-id="ade56-157">0</span><span class="sxs-lookup"><span data-stu-id="ade56-157">0</span></span>       | <span data-ttu-id="ade56-158">16</span><span class="sxs-lookup"><span data-stu-id="ade56-158">16</span></span>      | <span data-ttu-id="ade56-159">2</span><span class="sxs-lookup"><span data-stu-id="ade56-159">2</span></span>     |
| <span data-ttu-id="ade56-160">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="ade56-160">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="ade56-161">LogFileWrite</span><span class="sxs-lookup"><span data-stu-id="ade56-161">LogFileWrite</span></span>       | <span data-ttu-id="ade56-162">51</span><span class="sxs-lookup"><span data-stu-id="ade56-162">51</span></span>       | <span data-ttu-id="ade56-163">0</span><span class="sxs-lookup"><span data-stu-id="ade56-163">0</span></span>       | <span data-ttu-id="ade56-164">16</span><span class="sxs-lookup"><span data-stu-id="ade56-164">16</span></span>      | <span data-ttu-id="ade56-165">4</span><span class="sxs-lookup"><span data-stu-id="ade56-165">4</span></span>     |



 

<span data-ttu-id="ade56-166">Tabella 2: estratti da un report di traccia di esempio per un problema di analisi</span><span class="sxs-lookup"><span data-stu-id="ade56-166">Table 2: Excerpts from a Sample Trace Report for a Parsing Issue</span></span>

 

 