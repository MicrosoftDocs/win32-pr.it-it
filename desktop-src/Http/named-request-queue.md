---
title: Coda delle richieste denominate
description: Coda delle richieste denominate
ms.assetid: d0686a9b-fc3d-4b69-b083-d04b35ce5b50
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4aca045f84fe9f9e4b57365ba8831456f2dc1ad
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "104332087"
---
# <a name="named-request-queue"></a><span data-ttu-id="b102a-103">Coda delle richieste denominate</span><span class="sxs-lookup"><span data-stu-id="b102a-103">Named Request Queue</span></span>

<span data-ttu-id="b102a-104">L'API server HTTP versione 2,0 denominata funzionalità coda di richieste consente a più applicazioni, che operano in processi e account utente distinti, di accedere alla coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-104">The HTTP Server version 2.0 API named request queue feature allows multiple applications, operating under separate processes and user accounts, access to the request queue.</span></span> <span data-ttu-id="b102a-105">La coda di richieste viene aperta in base al nome e protetta tramite elenchi di controllo di accesso (ACL) per garantire che le applicazioni non siano in grado di accedere ai dati di altri.</span><span class="sxs-lookup"><span data-stu-id="b102a-105">The request queue is opened by name, and secured using Access Control Lists (ACLs) to ensure that applications are not able to access each others data.</span></span> <span data-ttu-id="b102a-106">Un singolo processo crea la coda di richieste e concede l'autorizzazione ad altri processi per l'utilizzo della coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-106">A single process creates the request queue, and grants permission to other processes to use the request queue.</span></span> <span data-ttu-id="b102a-107">Quindi, altri processi nel computer accedono alla coda di richieste con il privilegio minimo necessario per soddisfare le richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-107">Thus, other processes on the computer access the request queue with the least privilege necessary to service requests.</span></span> <span data-ttu-id="b102a-108">Il possibile danneggiamento del servizio HTTP, a causa di vulnerabilità nel codice di terze parti, viene ridotto al minimo quando le applicazioni vengono eseguite con privilegi minimi.</span><span class="sxs-lookup"><span data-stu-id="b102a-108">Possible damage to the HTTP service, due to vulnerabilities in third party code, is minimized when applications are running under least privileges.</span></span>

<span data-ttu-id="b102a-109">La coda di richieste denominata viene creata con la funzione [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) .</span><span class="sxs-lookup"><span data-stu-id="b102a-109">The named request queue is created with the [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) function.</span></span> <span data-ttu-id="b102a-110">Quando viene creata la coda di richieste, l'applicazione specifica l'ACL nel parametro *pSecurityAttribute* .</span><span class="sxs-lookup"><span data-stu-id="b102a-110">When the request queue is created, the application specifies the ACL in the *pSecurityAttribute* parameter.</span></span> <span data-ttu-id="b102a-111">L'ACL, che può essere impostato solo quando viene creata la coda di richieste, consente ai processi di lavoro di aprire la coda di richieste, ricevere richieste e inviare risposte.</span><span class="sxs-lookup"><span data-stu-id="b102a-111">The ACL, which can only be set when the request queue is created, allows worker processes to open the request queue, receive requests, and send responses.</span></span> <span data-ttu-id="b102a-112">Per impostazione predefinita, i processi non possono aprire una coda di richieste a meno che non dispongano dell'autorizzazione nell'ACL.</span><span class="sxs-lookup"><span data-stu-id="b102a-112">By default, processes are not allowed to open a request queue unless they have been granted permission in the ACL.</span></span> <span data-ttu-id="b102a-113">Per creare la coda di richieste, le applicazioni non richiedono privilegi amministrativi.</span><span class="sxs-lookup"><span data-stu-id="b102a-113">Applications do not require administrative privileges to create the request queue.</span></span>

<span data-ttu-id="b102a-114">È necessario creare la coda di richieste con un nome specificato nel parametro *pname* di [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) per l'apertura della coda di richieste da parte di altri processi.</span><span class="sxs-lookup"><span data-stu-id="b102a-114">The request queue must be created with a name specified in the *pName* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) for other processes to open the request queue.</span></span> <span data-ttu-id="b102a-115">Se *pname* è **null**, viene creata una coda di richieste senza nome e nessun altro processo può aprirlo.</span><span class="sxs-lookup"><span data-stu-id="b102a-115">If *pName* is **NULL**, an unnamed request queue is created and no other processes can open it.</span></span>

## <a name="creator-and-controller-processes"></a><span data-ttu-id="b102a-116">Processi del creatore e del controller</span><span class="sxs-lookup"><span data-stu-id="b102a-116">Creator and Controller Processes</span></span>

<span data-ttu-id="b102a-117">Quando viene creata la coda di richieste, l'applicazione può aprirla come processo del controller o processo dell'autore.</span><span class="sxs-lookup"><span data-stu-id="b102a-117">When the request queue is created, the application can open it as a controller process or a creator process.</span></span> <span data-ttu-id="b102a-118">I processi del controller e del creatore agiscono entrambi come amministratori per la coda di richieste, ma il controller non esegue operazioni di I/O.</span><span class="sxs-lookup"><span data-stu-id="b102a-118">The controller and creator processes both act as administrators for the request queue, but the controller does not perform I/O operations on it.</span></span> <span data-ttu-id="b102a-119">L'applicazione indica che si tratta di un processo controller quando la coda di richieste viene creata specificando il **controller di flag della coda di \_ \_ richiesta HTTP \_ \_ \_ create** nel parametro *Flags* di [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue).</span><span class="sxs-lookup"><span data-stu-id="b102a-119">The application indicates that it is a controller process when the request queue is created by specifying **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** in the *Flags* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue).</span></span> <span data-ttu-id="b102a-120">Se il flag del **controller di flag della \_ coda di \_ richiesta \_ \_ \_ http create** non è impostato, l'applicazione è un processo dell'autore.</span><span class="sxs-lookup"><span data-stu-id="b102a-120">If the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** flag is not set, the application is a creator process.</span></span>

<span data-ttu-id="b102a-121">L'elenco seguente contiene le attività eseguite dal processo del controller e dal processo Creator:</span><span class="sxs-lookup"><span data-stu-id="b102a-121">The following list contains tasks performed by the controller process and the creator process:</span></span>

-   <span data-ttu-id="b102a-122">Creare la coda di richieste e specificare il nome.</span><span class="sxs-lookup"><span data-stu-id="b102a-122">Create the request queue and specify the name.</span></span>
-   <span data-ttu-id="b102a-123">Configurare la coda di richieste usando la funzione [**HttpSetRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) .</span><span class="sxs-lookup"><span data-stu-id="b102a-123">Configure the request queue using the [**HttpSetRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="b102a-124">Eseguire una query sui parametri di configurazione della coda di richiesta utilizzando la funzione [**HttpQueryRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) .</span><span class="sxs-lookup"><span data-stu-id="b102a-124">Query the request queue configuration parameters using the [**HttpQueryRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="b102a-125">Creare gruppi di URL e associarli a una coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-125">Create URL Groups and associates them with a request queue.</span></span>
-   <span data-ttu-id="b102a-126">Impostare l'ACL specificando i processi di lavoro che sono autorizzati a ricevere I/O nella coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-126">Set the ACL specifying the worker processes that are allowed to receive I/O on the request queue.</span></span>
-   <span data-ttu-id="b102a-127">Chiamare [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) per ritardare la creazione di un'istanza dei processi di lavoro fino a quando non arriva la prima richiesta nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-127">Call [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) to delay the instantiation of worker processes until the first request arrives on the request queue.</span></span>

<span data-ttu-id="b102a-128">Oltre a queste attività, il processo Creator può eseguire operazioni di I/O nella coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-128">In addition to these tasks, the creator process can also perform I/O operations on the request queue.</span></span>

## <a name="worker-processes"></a><span data-ttu-id="b102a-129">Processi di lavoro</span><span class="sxs-lookup"><span data-stu-id="b102a-129">Worker Processes</span></span>

<span data-ttu-id="b102a-130">Un processo di lavoro può aprire una coda di richieste esistente solo se ne è stato concesso l'accesso nell'ACL.</span><span class="sxs-lookup"><span data-stu-id="b102a-130">A worker process can open an existing request queue only if they have been granted access to it in the ACL.</span></span> <span data-ttu-id="b102a-131">I processi di lavoro che operano con privilegi minimi possono aprire una coda di richieste ed eseguire operazioni di I/O su di essa.</span><span class="sxs-lookup"><span data-stu-id="b102a-131">Worker processes operating under least privileges can open a request queue and perform I/O on it.</span></span> <span data-ttu-id="b102a-132">Le applicazioni aprono una coda di richieste esistente chiamando [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) con il **flag di coda della richiesta di creazione http \_ \_ \_ \_ \_ aperto \_ esistente** nel parametro *Flags* e il nome della coda di richieste nel parametro *pname* .</span><span class="sxs-lookup"><span data-stu-id="b102a-132">Applications open an existing request queue by calling [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) with the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_OPEN\_EXISTING** in the *Flags* parameter, and the name of the request queue in the *pName* parameter.</span></span>

<span data-ttu-id="b102a-133">Il processo di lavoro esegue le funzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="b102a-133">The worker process performs the following functions:</span></span>

-   <span data-ttu-id="b102a-134">Ricevere richieste e inviare risposte nella coda di richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-134">Receive requests and send responses on the request queue.</span></span>
-   <span data-ttu-id="b102a-135">Aprire una coda di richieste esistente in base al nome.</span><span class="sxs-lookup"><span data-stu-id="b102a-135">Open an existing request queue by name.</span></span> <span data-ttu-id="b102a-136">Non è possibile usare l'handle della coda di richieste restituita al processo di lavoro per configurare la coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-136">The handle to the request queue returned to the worker process cannot be used to configure the request queue.</span></span>
-   <span data-ttu-id="b102a-137">Eseguire una query sui parametri di configurazione della coda di richiesta.</span><span class="sxs-lookup"><span data-stu-id="b102a-137">Query the request queue configuration parameters.</span></span>

<span data-ttu-id="b102a-138">Il diagramma seguente illustra il modello di processo di lavoro per le code di richiesta.</span><span class="sxs-lookup"><span data-stu-id="b102a-138">The following diagram shows the worker process model for request queues.</span></span> <span data-ttu-id="b102a-139">La coda di richieste può disporre di diversi processi di lavoro che elaborano i/O e di un processo Creator che configura la coda delle richieste.</span><span class="sxs-lookup"><span data-stu-id="b102a-139">The request queue can have several worker processes that process I/O, and one creator processes that configures the request queue.</span></span>

![modello di processo di lavoro per le code di richiesta](images/namedrequestqueue.png)

 

 




