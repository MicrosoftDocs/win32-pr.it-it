---
title: Condizioni di inattività
description: Un'attività può essere gestita in diversi modi quando il computer entra in uno stato di inattività. Ciò include la definizione di un trigger inattivo o l'impostazione delle condizioni di inattività per l'avvio dell'attività.
ms.assetid: 1e480681-b77a-48fe-a732-dd1591eaa08d
keywords:
- condizioni di inattività Utilità di pianificazione
- condizioni di inattività Utilità di pianificazione, discussione
- creazione di trigger inattivi Utilità di pianificazione
- trigger inattivi Utilità di pianificazione
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 501be9b73e3ec355b998697fb5e87c5163224b71
ms.sourcegitcommit: 857e701bbd35004661bb047e1f24622af9ff1dd7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/19/2020
ms.locfileid: "103734666"
---
# <a name="task-idle-conditions"></a><span data-ttu-id="b0f3c-108">Condizioni di inattività</span><span class="sxs-lookup"><span data-stu-id="b0f3c-108">Task idle conditions</span></span>

<span data-ttu-id="b0f3c-109">Un'attività può essere gestita in diversi modi quando il computer entra in uno stato di inattività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-109">A task can be handled in several ways when the computer enters an idle state.</span></span> <span data-ttu-id="b0f3c-110">Ciò include la definizione di un trigger inattivo o l'impostazione delle condizioni di inattività per l'avvio dell'attività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-110">This includes defining an idle trigger or setting the idle conditions for when the task starts.</span></span>

## <a name="detecting-the-idle-state"></a><span data-ttu-id="b0f3c-111">Rilevamento dello stato di inattività</span><span class="sxs-lookup"><span data-stu-id="b0f3c-111">Detecting the idle state</span></span>

<span data-ttu-id="b0f3c-112">In Windows 7, il Utilità di pianificazione verifica che il computer si trovi in uno stato di inattività ogni 15 minuti.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-112">In Windows 7, the Task Scheduler verifies that the computer is in an idle state every 15 minutes.</span></span> <span data-ttu-id="b0f3c-113">Utilità di pianificazione verifica lo stato di inattività usando due criteri, ovvero l'assenza dell'utente e il consumo di risorse insufficienti.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-113">Task Scheduler checks for an idle state using two criteria: user absence, and a lack of resource consumption.</span></span> <span data-ttu-id="b0f3c-114">L'utente viene considerato assente se non è presente alcun input della tastiera o del mouse durante questo periodo di tempo.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-114">The user is considered absent if there is no keyboard or mouse input during this period of time.</span></span> <span data-ttu-id="b0f3c-115">Il computer è considerato inattivo se tutti i processori e tutti i dischi sono rimasti inattivi per più del 90% dell'ultimo intervallo di rilevamento.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-115">The computer is considered idle if all the processors and all the disks were idle for more than 90% of the last detection interval.</span></span> <span data-ttu-id="b0f3c-116">Si tratta di un'eccezione per qualsiasi applicazione del tipo di presentazione che imposta gli ES \_ Visualizza il \_ flag obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-116">(An exception would be for any presentation type application that sets the ES\_DISPLAY\_REQUIRED flag.</span></span> <span data-ttu-id="b0f3c-117">Questo flag forza la pianificazione dell'attività in modo che non consideri il sistema come inattivo, indipendentemente dall'attività dell'utente o dal consumo di risorse.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-117">This flag forces Task Schedule to not consider the system as being idle, regardless of user activity or resource consumption.)</span></span>

<span data-ttu-id="b0f3c-118">In Windows 7, Utilità di pianificazione considera inattivo un processore anche quando i thread con priorità bassa (priorità thread < normale) vengono eseguiti.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-118">In Windows 7, Task Scheduler considers a processor as idle even when low priority threads (thread priority < normal) execute.</span></span>

<span data-ttu-id="b0f3c-119">In Windows 7, quando il Utilità di pianificazione rileva che il computer è inattivo, il servizio attende solo che l'input dell'utente contrassegni la fine dello stato di inattività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-119">In Windows 7, when the Task Scheduler detects that the computer is idle, the service waits only for user input to mark the end of the idle state.</span></span>

<span data-ttu-id="b0f3c-120">In Windows 8, Utilità di pianificazione esegue gli stessi controlli di utilizzo delle risorse e dell'assenza generale dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-120">In Windows 8, Task Scheduler performs the same general user absence and resource consumption checks.</span></span> <span data-ttu-id="b0f3c-121">Tuttavia, Utilità di pianificazione si basa sul sottosistema di alimentazione del sistema operativo per rilevare la presenza dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-121">However, Task Scheduler relies on the operating system power subsystem to detect user presence.</span></span> <span data-ttu-id="b0f3c-122">Per impostazione predefinita, l'utente viene considerato assente dopo quattro minuti senza input della tastiera o del mouse.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-122">By default, the user is considered absent after four minutes of no keyboard or mouse input.</span></span> <span data-ttu-id="b0f3c-123">Il tempo di verifica dell'utilizzo delle risorse viene ridotto a intervalli di 10 minuti quando l'utente è presente.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-123">The resource consumption verification time is shortened to 10 minute intervals when the user is present.</span></span> <span data-ttu-id="b0f3c-124">Quando l'utente è distante, il tempo di verifica viene abbreviato a intervalli di 30 secondi.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-124">When the user is away, the verification time is shortened to 30 second intervals.</span></span> <span data-ttu-id="b0f3c-125">Utilità di pianificazione esegue verifiche aggiuntive sull'utilizzo delle risorse per gli eventi seguenti:</span><span class="sxs-lookup"><span data-stu-id="b0f3c-125">Task Scheduler makes additional resource consumption checks for the following events:</span></span>

-   <span data-ttu-id="b0f3c-126">Stato di presenza utente modificato</span><span class="sxs-lookup"><span data-stu-id="b0f3c-126">User presence state changed</span></span>
-   <span data-ttu-id="b0f3c-127">Origine alimentazione CA/DC modificata</span><span class="sxs-lookup"><span data-stu-id="b0f3c-127">AC/DC power source changed</span></span>
-   <span data-ttu-id="b0f3c-128">Livello batteria modificato (solo quando sulle batterie)</span><span class="sxs-lookup"><span data-stu-id="b0f3c-128">Battery level changed (only when on batteries)</span></span>

<span data-ttu-id="b0f3c-129">Quando si verifica uno degli eventi precedenti, Utilità di pianificazione verifica il computer per inattività dopo l'ultimo periodo di verifica.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-129">When any of the events above happens, Task Scheduler tests the computer for idleness since the last verification time.</span></span> <span data-ttu-id="b0f3c-130">In pratica, questo significa che Utilità di pianificazione possibile dichiarare il sistema come inattivo immediatamente dopo che è stata rilevata l'assenza dell'utente, se le altre condizioni sono state soddisfatte dopo l'ultima ora di verifica.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-130">In practice, this means that Task Scheduler may declare the system as idle immediately after user absence is detected, if the other conditions have been met since the last verification time.</span></span>

<span data-ttu-id="b0f3c-131">In Windows 8, le soglie di CPU e IO sono impostate su 80%.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-131">In Windows 8, the CPU and IO thresholds are set to 80%.</span></span>

<span data-ttu-id="b0f3c-132">Quando si rileva lo stato di inattività in Windows 8 Server, Utilità di pianificazione non prende in considerazione la presenza o l'assenza dell'utente.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-132">When detecting the idle state in Windows 8 Server, Task Scheduler does not take user presence or absence into account.</span></span> <span data-ttu-id="b0f3c-133">Per contrassegnare la fine dello stato di inattività, Utilità di pianificazione rivedere il consumo di risorse una volta in 90 minuti.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-133">To mark the end of the idle state, Task Scheduler revises the resource consumption once in 90 minutes.</span></span>

## <a name="defining-an-idle-trigger"></a><span data-ttu-id="b0f3c-134">Definizione di un trigger inattivo</span><span class="sxs-lookup"><span data-stu-id="b0f3c-134">Defining an idle trigger</span></span>

<span data-ttu-id="b0f3c-135">Un'attività può essere avviata quando il computer entra in uno stato di inattività definendo un trigger inattivo.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-135">A task can be started when the computer enters an idle state by defining an idle trigger.</span></span>

<span data-ttu-id="b0f3c-136">Un trigger inattivo attiverà un'azione dell'attività solo se il computer entra in uno stato di inattività dopo il limite di inizio del trigger.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-136">An idle trigger will only trigger a task action if the computer enters an idle state after the start boundary of the trigger.</span></span>

<span data-ttu-id="b0f3c-137">Un'applicazione può definire un trigger inattivo tramite l'interfaccia [**IIdleTrigger**](/windows/win32/api/taskschd/nn-taskschd-iidletrigger) .</span><span class="sxs-lookup"><span data-stu-id="b0f3c-137">An application can define an idle trigger by using the [**IIdleTrigger**](/windows/win32/api/taskschd/nn-taskschd-iidletrigger) interface.</span></span>

<span data-ttu-id="b0f3c-138">Per la lettura o la scrittura di codice XML, il trigger inattivo viene specificato dall'elemento [**IdleTrigger**](taskschedulerschema-idletrigger-triggergroup-element.md) dello schema utilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-138">If reading or writing XML, the idle trigger is specified by the [**IdleTrigger**](taskschedulerschema-idletrigger-triggergroup-element.md) element of the Task Scheduler schema.</span></span>

## <a name="task-settings-for-idle-conditions"></a><span data-ttu-id="b0f3c-139">Impostazioni attività per le condizioni di inattività</span><span class="sxs-lookup"><span data-stu-id="b0f3c-139">Task settings for idle conditions</span></span>

<span data-ttu-id="b0f3c-140">Le impostazioni delle attività possono essere utilizzate per definire il modo in cui il Utilità di pianificazione gestisce l'attività quando il computer entra in uno stato di inattività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-140">The task settings can be used to define how the Task Scheduler handles the task when the computer enters an idle state.</span></span>

<span data-ttu-id="b0f3c-141">Le illustrazioni seguenti forniscono tre possibili sequenze temporali che mostrano il modo in cui le diverse condizioni di inattività sono correlate tra loro.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-141">The following illustrations provide three possible timelines that show how these different idle conditions relate to each other.</span></span> <span data-ttu-id="b0f3c-142">Tenere presente che le illustrazioni iniziano quando viene attivato il trigger attività o quando l'attività viene avviata su richiesta (senza richiedere di [ignorare i vincoli di attività esistenti](/windows/win32/api/taskschd/ne-taskschd-task_run_flags)).</span><span class="sxs-lookup"><span data-stu-id="b0f3c-142">Be aware that the illustrations start when the task trigger is activated or when the task is started on demand (without requesting to [ignore the existing task constraints](/windows/win32/api/taskschd/ne-taskschd-task_run_flags)).</span></span>

> [!NOTE]
> <span data-ttu-id="b0f3c-143">Le impostazioni *Duration* e *WaitTimeout* sono deprecate.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-143">The *Duration* and *WaitTimeout* settings are deprecated.</span></span> <span data-ttu-id="b0f3c-144">Sono ancora presenti nel Utilità di pianificazione interfaccia utente e i relativi metodi di interfaccia possono comunque restituire valori validi, ma non vengono più usati.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-144">They're still present in the Task Scheduler user interface, and their interface methods may still return valid values, but they're no longer used.</span></span>

![sequenza temporale della condizione di inattività](images/idle-conditions2.png)

<span data-ttu-id="b0f3c-146">Nell'elenco seguente vengono descritte le condizioni di inattività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-146">The following list describes the idle conditions.</span></span>
- <span data-ttu-id="b0f3c-147">Avvio inattivo: ora in cui il computer entra nello stato di inattività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-147">Idle start: The time when the computer enters the idle state.</span></span>
- <span data-ttu-id="b0f3c-148">Fine inattiva: ora in cui il computer passa dallo stato di inattività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-148">Idle end: The time when the computer transitions out of the idle state.</span></span> <span data-ttu-id="b0f3c-149">Tenere presente che l'intervallo di tempo in cui il computer è in stato di inattività è indipendente dal tempo di inattività descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-149">Be aware that the amount of time the computer is in the idle state is independent of the idle duration time that was described previously.</span></span>

<span data-ttu-id="b0f3c-150">L'attesa di inattività e la durata inattiva sono state deprecate.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-150">Idle wait and Idle duration have been deprecated.</span></span>
- <span data-ttu-id="b0f3c-151">Idle wait: periodo di tempo durante il quale il Utilità di pianificazione resterà in attesa del verificarsi di uno stato inattivo dopo l'attivazione di un trigger di attività o dopo l'avvio dell'attività su richiesta.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-151">Idle wait: The amount of time that the Task Scheduler will wait for an idle state to occur after a task trigger is activated or after the task is started on demand.</span></span>
- <span data-ttu-id="b0f3c-152">Durata inattività: periodo di tempo in cui si desidera che il computer sia rimasto inattivo prima di avviare l'attività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-152">Idle duration: The amount of time you want the computer to have been idle before starting the task.</span></span>

<span data-ttu-id="b0f3c-153">Se, ad esempio, un'attività è impostata per l'avvio solo se il computer è inattivo per 30 minuti e l'attività attende che il computer sia inattivo per 10 minuti, l'attività verrà avviata entro 5 minuti solo se il computer è rimasto inattivo per 25 minuti prima del momento in cui il trigger è stato attivato.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-153">For example, if a task is set to start only if the computer is idle for 30 minutes, and the task waits for the computer to be idle for 10 minutes, then the task will launch in 5 minutes only if the computer has been idle for 25 minutes prior to the time the trigger was activated.</span></span> <span data-ttu-id="b0f3c-154">L'attività non verrà avviata se il computer entra in uno stato di inattività 5 minuti dopo l'attivazione del trigger.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-154">The task will not start if the computer enters an idle state 5 minutes after the trigger is activated.</span></span>

<span data-ttu-id="b0f3c-155">Per impostazione predefinita, una proprietà [**DisallowStartIfOnBatteries**](/windows/desktop/api/taskschd/nf-taskschd-itasksettings-get_disallowstartifonbatteries) dell'attività è impostata su true, il che significa che il servizio di utilità di pianificazione non eseguirà le attività attivate da un trigger inattivo (o un trigger con condizioni di inattività) quando un computer è alimentato a batteria.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-155">By default, a task [**DisallowStartIfOnBatteries**](/windows/desktop/api/taskschd/nf-taskschd-itasksettings-get_disallowstartifonbatteries) property is set to true, which means the Task Scheduler service will not run tasks that are triggered by an idle trigger (or a trigger with idle conditions) when a computer is running on battery power.</span></span> <span data-ttu-id="b0f3c-156">È possibile modificare questo comportamento impostando la proprietà **DisallowStartIfOnBatteries** su false.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-156">You can change this behavior by setting the **DisallowStartIfOnBatteries** property to false.</span></span>

<span data-ttu-id="b0f3c-157">Se un'attività viene attivata da un trigger inattivo, la proprietà [**WaitTimeout**](/windows/desktop/api/taskschd/nf-taskschd-iidlesettings-get_waittimeout) dell'interfaccia [**IIdleSettings**](/windows/desktop/api/taskschd/nn-taskschd-iidlesettings) ([**IdleSettings**](idlesettings.md) per lo scripting) viene ignorata.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-157">If a task is triggered by an idle trigger, then the [**WaitTimeout**](/windows/desktop/api/taskschd/nf-taskschd-iidlesettings-get_waittimeout) property of the [**IIdleSettings**](/windows/desktop/api/taskschd/nn-taskschd-iidlesettings) interface ([**IdleSettings**](idlesettings.md) for scripting) is ignored.</span></span>

<span data-ttu-id="b0f3c-158">Le applicazioni possono controllare le condizioni di inattività impostando le proprietà nelle interfacce [**IIdleSettings**](/windows/desktop/api/taskschd/nn-taskschd-iidlesettings) e [**IIdleTrigger**](/windows/win32/api/taskschd/nn-taskschd-iidletrigger) .</span><span class="sxs-lookup"><span data-stu-id="b0f3c-158">Applications can control the idle conditions by setting the properties in the [**IIdleSettings**](/windows/desktop/api/taskschd/nn-taskschd-iidlesettings) and [**IIdleTrigger**](/windows/win32/api/taskschd/nn-taskschd-iidletrigger) interfaces.</span></span>

<span data-ttu-id="b0f3c-159">Per la lettura o la scrittura di codice XML, queste condizioni vengono specificate nell'elemento [**Settings**](taskschedulerschema-settings-tasktype-element.md) dello schema utilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-159">If reading or writing XML, these conditions are specified in the [**Settings**](taskschedulerschema-settings-tasktype-element.md) element of the Task Scheduler schema.</span></span>

## <a name="cycling-idle-condition"></a><span data-ttu-id="b0f3c-160">Condizione di inattività Cycling</span><span class="sxs-lookup"><span data-stu-id="b0f3c-160">Cycling idle condition</span></span>

<span data-ttu-id="b0f3c-161">Se il computer esegue il ciclo di inattività e lo stato di inattività, è possibile terminare e riavviare l'attività utilizzando le seguenti condizioni di inattività.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-161">If the computer is cycling in and out of the idle state, you can terminate and restart the task using the following idle conditions.</span></span> <span data-ttu-id="b0f3c-162">Per terminare e riavviare un'attività, sia le proprietà che gli elementi devono essere impostati su true:</span><span class="sxs-lookup"><span data-stu-id="b0f3c-162">To terminate and restart a task, both properties and elements must be set to True:</span></span>

-   <span data-ttu-id="b0f3c-163">Per terminare l'attività quando la condizione di inattività termina, impostare la proprietà [**StopOnIdleEnd**](/windows/desktop/api/taskschd/nf-taskschd-iidlesettings-get_stoponidleend) o l'elemento [**StopOnIdleEnd**](taskschedulerschema-terminateonidleend-idlesettingstype-element.md) su true.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-163">To terminate the task when the idle condition ends, set the [**StopOnIdleEnd**](/windows/desktop/api/taskschd/nf-taskschd-iidlesettings-get_stoponidleend) property or the [**StopOnIdleEnd**](taskschedulerschema-terminateonidleend-idlesettingstype-element.md) element to True.</span></span>
-   <span data-ttu-id="b0f3c-164">Per riavviare l'attività quando il computer esegue di nuovo il ciclo della condizione di inattività, impostare la proprietà [**RestartOnIdle**](/windows/desktop/api/taskschd/nf-taskschd-iidlesettings-get_restartonidle) o l'elemento [**RestartOnIdle**](taskschedulerschema-restartonidle-idlesettingstype-element.md) su true.</span><span class="sxs-lookup"><span data-stu-id="b0f3c-164">To restart the task when the computer cycles into the idle condition again, set the [**RestartOnIdle**](/windows/desktop/api/taskschd/nf-taskschd-iidlesettings-get_restartonidle) property or the [**RestartOnIdle**](taskschedulerschema-restartonidle-idlesettingstype-element.md) element to True.</span></span>
