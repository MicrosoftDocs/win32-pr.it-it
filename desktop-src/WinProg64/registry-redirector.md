---
title: Redirector del registro di sistema
description: Il redirector del registro di sistema isola le applicazioni a 32 bit e a 64 bit fornendo viste logiche separate di determinate parti del registro di sistema in WOW64.
ms.assetid: b3989f79-0439-485a-96c1-4f2227d48653
keywords:
- Guida per programmatori Windows a 64 bit Guida alla programmazione Windows a 64 bit, redirector del registro di sistema
- Programma di reindirizzamento del registro di sistema di Windows a 64 bit
- Programmazione Windows a 64 bit per il reindirizzamento
- Programmazione Windows WOW64 a 64 bit, redirector del registro di sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 04c11e68f307aa014adb7cae8415f1baba155678
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "104396175"
---
# <a name="registry-redirector"></a><span data-ttu-id="27987-107">Redirector del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="27987-107">Registry Redirector</span></span>

<span data-ttu-id="27987-108">Il redirector del registro di sistema isola le applicazioni a 32 bit e a 64 bit fornendo viste logiche separate di determinate parti del registro di sistema in WOW64.</span><span class="sxs-lookup"><span data-stu-id="27987-108">The registry redirector isolates 32-bit and 64-bit applications by providing separate logical views of certain portions of the registry on WOW64.</span></span> <span data-ttu-id="27987-109">Il redirector del registro di sistema intercetta le chiamate al registro di sistema a 32 e 64 bit alle rispettive visualizzazioni del registro di sistema logiche e ne esegue il mapping al percorso fisico del registro di sistema corrispondente.</span><span class="sxs-lookup"><span data-stu-id="27987-109">The registry redirector intercepts 32-bit and 64-bit registry calls to their respective logical registry views and maps them to the corresponding physical registry location.</span></span> <span data-ttu-id="27987-110">Il processo di reindirizzamento è trasparente per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="27987-110">The redirection process is transparent to the application.</span></span> <span data-ttu-id="27987-111">Pertanto, un'applicazione a 32 bit può accedere ai dati del registro di sistema come se fossero in esecuzione in Windows a 32 bit anche se i dati vengono archiviati in un percorso diverso in Windows a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="27987-111">Therefore, a 32-bit application can access registry data as if it were running on 32-bit Windows even if the data is stored in a different location on 64-bit Windows.</span></span>

<span data-ttu-id="27987-112">**Windows 10 su ARM:** Oltre alla visualizzazione logica a 32 bit per le applicazioni x86, Windows 10 su ARM include una visualizzazione logica separata per le applicazioni ARM a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="27987-112">**Windows 10 on ARM:** In addition to the 32-bit logical view for x86 applications, Windows 10 on ARM includes a separate logical view for 32-bit ARM applications.</span></span>

<span data-ttu-id="27987-113">Viene condiviso un subset di chiavi in percorsi del registro di sistema reindirizzati.</span><span class="sxs-lookup"><span data-stu-id="27987-113">A subset of keys under redirected registry paths are shared.</span></span> <span data-ttu-id="27987-114">le chiamate al registro di sistema a 32 bit per le chiavi condivise non vengono reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="27987-114">32-bit registry calls to shared keys are not redirected.</span></span> <span data-ttu-id="27987-115">Viene invece eseguito il mapping di una copia fisica della chiave in ogni visualizzazione logica del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="27987-115">Instead, one physical copy of the key is mapped into each logical view of the registry.</span></span> <span data-ttu-id="27987-116">Per un elenco di chiavi reindirizzate e chiavi condivise, vedere [chiavi del registro di sistema interessate da WOW64](shared-registry-keys.md).</span><span class="sxs-lookup"><span data-stu-id="27987-116">For a list of redirected keys and shared keys, see [Registry Keys Affected by WOW64](shared-registry-keys.md).</span></span>

<span data-ttu-id="27987-117">**Windows server 2008, Windows Vista, Windows server 2003 e Windows XP:** Per consentire l'interoperabilità delle applicazioni tramite COM e altri meccanismi, viene anche *riflesso* un subset di chiavi del registro di sistema reindirizzate.</span><span class="sxs-lookup"><span data-stu-id="27987-117">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** To enable application interoperability through COM and other mechanisms, a subset of redirected registry keys are also *reflected*.</span></span> <span data-ttu-id="27987-118">Il processo di reflection del registro di sistema copia le chiavi e i valori del registro di sistema tra due visualizzazioni del registro per mantenerle Sincronizza</span><span class="sxs-lookup"><span data-stu-id="27987-118">The process of registry reflection copies registry keys and values between two registry views to keep them synchronized.</span></span> <span data-ttu-id="27987-119">La reflection del registro di sistema è stata rimossa a partire da Windows 7 e Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="27987-119">Registry reflection was removed starting with Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="27987-120">Per altre informazioni, vedere [Reflection del registro di sistema](registry-reflection.md).</span><span class="sxs-lookup"><span data-stu-id="27987-120">For more information, see [Registry Reflection](registry-reflection.md).</span></span>

<span data-ttu-id="27987-121">Nello scenario seguente viene illustrato l'utilizzo di queste viste logiche:</span><span class="sxs-lookup"><span data-stu-id="27987-121">The following scenario illustrates the use of these logical views:</span></span>

-   <span data-ttu-id="27987-122">Un'applicazione x86 a 32 bit verifica l'esistenza della seguente chiave del registro di sistema **: \_ HKEY \_ computer locale \\ software \\ Hello**.</span><span class="sxs-lookup"><span data-stu-id="27987-122">A 32-bit x86 application checks for the existence of the following registry key: **HKEY\_LOCAL\_MACHINE\\Software\\Hello**.</span></span> <span data-ttu-id="27987-123">Se la chiave non esiste, l'applicazione la crea con un valore predefinito "Hello 32-bit x86 World"; in caso contrario, legge e visualizza il valore.</span><span class="sxs-lookup"><span data-stu-id="27987-123">If the key does not exist, the application creates it with a default value of "Hello 32-bit x86 world"; otherwise, it reads and displays the value.</span></span>
-   <span data-ttu-id="27987-124">La stessa applicazione viene modificata per scrivere "Hello 64-bit World" anziché "Hello 32-bit x86 World" e ricompilata come applicazione ARM64 o x64 a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="27987-124">The same application is modified to write "Hello 64-bit world" instead of "Hello 32-bit x86 world" and recompiled as a 64-bit x64 or ARM64 application.</span></span>
-   <span data-ttu-id="27987-125">**Windows 10 su ARM:** La stessa applicazione viene modificata per scrivere "Hello 32-bit ARM World" e ricompilata come applicazione ARM a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="27987-125">**Windows 10 on ARM:** The same application is modified to write “Hello 32-bit ARM world” and recompiled as a 32-bit ARM application.</span></span>
-   <span data-ttu-id="27987-126">Quando l'applicazione x86 a 32 bit viene eseguita in Windows a 64 bit, viene visualizzato "Hello 32-bit x86 World".</span><span class="sxs-lookup"><span data-stu-id="27987-126">When the 32-bit x86 application is run on 64-bit Windows, it displays "Hello 32-bit x86 world".</span></span> <span data-ttu-id="27987-127">Quando viene eseguita l'applicazione a 64 bit, viene visualizzato "Hello 64-bit World".</span><span class="sxs-lookup"><span data-stu-id="27987-127">When the 64-bit application is run, it displays "Hello 64-bit world".</span></span> <span data-ttu-id="27987-128">**Windows 10 su ARM:** Quando l'applicazione ARM a 32 bit viene eseguita su ARM64 Windows a 64 bit, Visualizza "Hello 32-bit ARM World".</span><span class="sxs-lookup"><span data-stu-id="27987-128">**Windows 10 on ARM:** When the 32-bit ARM application is run on 64-bit ARM64 Windows, it displays "Hello 32-bit ARM world".</span></span> <span data-ttu-id="27987-129">Tutte le applicazioni chiamano le stesse funzioni del registro di sistema con lo stesso handle predefinito e lo stesso nome di chiave. la differenza è che ogni applicazione opera sulla propria visualizzazione logica del registro di sistema e ogni visualizzazione è mappata a una posizione fisica separata del registro di sistema, in modo da mantenere intatte tutte le versioni della stringa.</span><span class="sxs-lookup"><span data-stu-id="27987-129">All applications call the same registry functions with the same predefined handle and the same key name; the difference is that each application operates on its logical view of registry, and each view is mapped to a separate physical location of the registry, which keeps all versions of the string intact.</span></span>

<span data-ttu-id="27987-130">Viene eseguito il mapping delle chiavi reindirizzate a percorsi fisici in **Wow6432Node**.</span><span class="sxs-lookup"><span data-stu-id="27987-130">Redirected keys are mapped to physical locations under **Wow6432Node**.</span></span> <span data-ttu-id="27987-131">Ad esempio, **il \_ \_ \\ software del computer locale HKEY** viene reindirizzato a **HKEY \_ \_ computer locale \\ software \\ Wow6432Node**.</span><span class="sxs-lookup"><span data-stu-id="27987-131">For example, **HKEY\_LOCAL\_MACHINE\\Software** is redirected to **HKEY\_LOCAL\_MACHINE\\Software\\Wow6432Node**.</span></span> <span data-ttu-id="27987-132">Tuttavia, la posizione fisica delle chiavi reindirizzate deve essere considerata riservata dal sistema.</span><span class="sxs-lookup"><span data-stu-id="27987-132">However, the physical location of redirected keys should be considered reserved by the system.</span></span> <span data-ttu-id="27987-133">Le applicazioni non devono accedere direttamente a una posizione fisica della chiave, perché questo percorso potrebbe cambiare.</span><span class="sxs-lookup"><span data-stu-id="27987-133">Applications should not access a key's physical location directly, because this location may change.</span></span> <span data-ttu-id="27987-134">Per ulteriori informazioni, vedere [accesso a una visualizzazione del registro di sistema alternativa](accessing-an-alternate-registry-view.md).</span><span class="sxs-lookup"><span data-stu-id="27987-134">For more information, see [Accessing an Alternate Registry View](accessing-an-alternate-registry-view.md).</span></span>

<span data-ttu-id="27987-135">**Windows 10 su ARM:** Le chiavi del ARM a 32 bit reindirizzate sono mappate a posizioni fisiche in WowAA32Node.</span><span class="sxs-lookup"><span data-stu-id="27987-135">**Windows 10 on ARM:** Redirected 32-bit ARM keys are mapped to physical locations under WowAA32Node.</span></span>

<span data-ttu-id="27987-136">Per aiutare le applicazioni a 32 bit che scrivono registri **\_ SZ** o reg, espandere i dati **\_ \_ SZ** contenenti% ProgramFiles% o% COMMONPROGRAMFILES% nel registro di sistema, WOW64 intercetta queste operazioni di scrittura e le sostituisce con "% ProgramFiles (x86)%" e "% CommonProgramFiles (x86)%".</span><span class="sxs-lookup"><span data-stu-id="27987-136">To help 32-bit applications that write **REG\_SZ** or **REG\_EXPAND\_SZ** data containing %ProgramFiles% or %commonprogramfiles% to the registry, WOW64 intercepts these write operations and replaces them with "%ProgramFiles(x86)%" and "%commonprogramfiles(x86)%".</span></span> <span data-ttu-id="27987-137">Se, ad esempio, la directory programmi si trova nell'unità C, "% ProgramFiles (x86)%" si espande in "C: \\ Program Files (x86)".</span><span class="sxs-lookup"><span data-stu-id="27987-137">For example, if the Program Files directory is on the C drive, then "%ProgramFiles(x86)%" expands to "C:\\Program Files (x86)".</span></span> <span data-ttu-id="27987-138">La sostituzione viene eseguita solo se vengono soddisfatte le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="27987-138">The replacement occurs only if the following conditions are met:</span></span>

-   <span data-ttu-id="27987-139">La stringa deve iniziare con% ProgramFiles% o% CommonProgramFiles%.</span><span class="sxs-lookup"><span data-stu-id="27987-139">The string must begin with %ProgramFiles% or %commonprogramfiles%.</span></span> <span data-ttu-id="27987-140">Se la stringa inizia con uno spazio o un carattere diverso da%, non viene sostituita.</span><span class="sxs-lookup"><span data-stu-id="27987-140">If the string begins with a space or any character other than %, it is not replaced.</span></span>
-   <span data-ttu-id="27987-141">Il caso di% ProgramFiles% o% COMMONPROGRAMFILES% deve essere esattamente come indicato perché il confronto tra stringhe fa distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="27987-141">The case of %ProgramFiles% or %commonprogramfiles% must be exactly as shown because the string comparison is case-sensitive.</span></span> <span data-ttu-id="27987-142">Se, ad esempio, la stringa inizia con% CommonProgramFiles% anziché con% CommonProgramFiles%, non viene sostituita.</span><span class="sxs-lookup"><span data-stu-id="27987-142">For example, if the string begins with %CommonProgramFiles% instead of %commonprogramfiles%, it is not replaced.</span></span>
-   <span data-ttu-id="27987-143">La stringa non può superare il \_ percorso massimo \* 2 + 15 caratteri.</span><span class="sxs-lookup"><span data-stu-id="27987-143">The string cannot exceed MAX\_PATH\*2+15 characters.</span></span> <span data-ttu-id="27987-144">Se supera questa lunghezza, non viene sostituita.</span><span class="sxs-lookup"><span data-stu-id="27987-144">If it exceeds this length, it is not replaced.</span></span>
-   <span data-ttu-id="27987-145">Non è possibile aprire la chiave con la chiave \_ WOW64 \_ 64KEY.</span><span class="sxs-lookup"><span data-stu-id="27987-145">The key cannot be opened with KEY\_WOW64\_64KEY.</span></span> <span data-ttu-id="27987-146">Questo flag specifica che le operazioni sulla chiave devono essere eseguite sulla visualizzazione del registro di sistema a 64 bit, quindi non vengono sostituite.</span><span class="sxs-lookup"><span data-stu-id="27987-146">This flag specifies that operations on the key should be performed on the 64-bit registry view, so it is not replaced.</span></span> <span data-ttu-id="27987-147">Per ulteriori informazioni, vedere [accesso a una visualizzazione del registro di sistema alternativa](accessing-an-alternate-registry-view.md).</span><span class="sxs-lookup"><span data-stu-id="27987-147">For more information, see [Accessing an Alternate Registry View](accessing-an-alternate-registry-view.md).</span></span>

<span data-ttu-id="27987-148">**Windows server 2008, Windows Vista, Windows server 2003 e Windows XP:** Il flag della chiave \_ WOW \_ 64 \_ 64KEY non influisce sull'eventuale sostituzione di una chiave.</span><span class="sxs-lookup"><span data-stu-id="27987-148">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** The KEY\_WOW\_64\_64KEY flag does not affect whether a key is replaced.</span></span> <span data-ttu-id="27987-149">Questo flag influiscono sulla sostituzione a partire da Windows 7 e Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="27987-149">This flag affects replacement starting with Windows 7 and Windows Server 2008 R2.</span></span>

<span data-ttu-id="27987-150">Inoltre, \_ le chiavi reg SZ o reg \_ expand \_ SZ contenenti system32 vengono sostituite con SysWow64.</span><span class="sxs-lookup"><span data-stu-id="27987-150">In addition, REG\_SZ or REG\_EXPAND\_SZ keys containing system32 are replaced with syswow64.</span></span> <span data-ttu-id="27987-151">La stringa deve iniziare con il percorso che punta a o in% windir% \\ system32.</span><span class="sxs-lookup"><span data-stu-id="27987-151">The string must begin with the path pointing to or under %windir%\\system32.</span></span> <span data-ttu-id="27987-152">Per il confronto tra stringhe non viene fatta distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="27987-152">The string comparison is not case-sensitive.</span></span> <span data-ttu-id="27987-153">Le variabili di ambiente vengono espanse prima di corrispondere al percorso, quindi vengono sostituiti tutti i percorsi seguenti:% windir% \\ system32,% SystemRoot% \\ system32 e C: \\ Windows \\ system32.</span><span class="sxs-lookup"><span data-stu-id="27987-153">Environment variables are expanded before matching the path, so all of the following paths are replaced: %windir%\\system32, %SystemRoot%\\system32, and C:\\windows\\system32.</span></span> <span data-ttu-id="27987-154">Questa patch viene applicata solo alle chiavi riflesse prima di Windows 7.</span><span class="sxs-lookup"><span data-stu-id="27987-154">This patch is applied only to the keys that were reflected prior to Windows 7.</span></span>

<span data-ttu-id="27987-155">Per altre informazioni, vedere i seguenti argomenti:</span><span class="sxs-lookup"><span data-stu-id="27987-155">For more information, see the following topics:</span></span>

-   [<span data-ttu-id="27987-156">Reflection del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="27987-156">Registry Reflection</span></span>](registry-reflection.md)
-   [<span data-ttu-id="27987-157">Chiavi del registro di sistema interessate da WOW64</span><span class="sxs-lookup"><span data-stu-id="27987-157">Registry Keys Affected by WOW64</span></span>](shared-registry-keys.md)
-   [<span data-ttu-id="27987-158">Accesso a una visualizzazione del registro di sistema alternativa</span><span class="sxs-lookup"><span data-stu-id="27987-158">Accessing an Alternate Registry View</span></span>](accessing-an-alternate-registry-view.md)
-   [<span data-ttu-id="27987-159">Esempio di reindirizzamento del registro di sistema in WOW64</span><span class="sxs-lookup"><span data-stu-id="27987-159">Example of Registry Redirection on WOW64</span></span>](example-of-registry-reflection-and-redirection-on-wow64.md)
-   [<span data-ttu-id="27987-160">Accesso al registro di sistema remoto in Windows a 64 bit</span><span class="sxs-lookup"><span data-stu-id="27987-160">Remote Registry Access in 64-bit Windows</span></span>](remote-registry-access-in-64-bit-windows.md)

 

 




