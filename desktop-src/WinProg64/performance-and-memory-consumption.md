---
title: Prestazioni e utilizzo di memoria in WOW64
description: Le prestazioni e l'utilizzo della memoria in WOW64 sono determinate dai fattori seguenti.
ms.assetid: 77759840-7b1a-4956-a038-d6374b6ec354
keywords:
- prestazioni in programmazione Windows WOW64 a 64 bit
- utilizzo di memoria in programmazione Windows WOW64 a 64 bit
- Programmazione Windows WOW64 a 64 bit, prestazioni
- Programmazione Windows WOW64 a 64 bit, utilizzo della memoria
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8928e7d50c8396aa2b5b34081af3e4ee2719e044
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104399583"
---
# <a name="performance-and-memory-consumption-under-wow64"></a><span data-ttu-id="4d19c-107">Prestazioni e utilizzo di memoria in WOW64</span><span class="sxs-lookup"><span data-stu-id="4d19c-107">Performance and Memory Consumption Under WOW64</span></span>

<span data-ttu-id="4d19c-108">Le prestazioni e l'utilizzo della memoria in WOW64 sono determinate dai fattori seguenti:</span><span class="sxs-lookup"><span data-stu-id="4d19c-108">Performance and memory consumption under WOW64 are determined by the following factors:</span></span>

-   <span data-ttu-id="4d19c-109">Hardware del processore.</span><span class="sxs-lookup"><span data-stu-id="4d19c-109">Processor hardware.</span></span> <span data-ttu-id="4d19c-110">Viene eseguita l'emulazione di istruzioni sul chip.</span><span class="sxs-lookup"><span data-stu-id="4d19c-110">Instruction emulation is performed on the chip.</span></span> <span data-ttu-id="4d19c-111">Nel processore x64, le istruzioni x86 vengono eseguite in modo nativo dal processore.</span><span class="sxs-lookup"><span data-stu-id="4d19c-111">On the x64 processor, x86 instructions are executed natively by the processor.</span></span> <span data-ttu-id="4d19c-112">La velocità di esecuzione in WOW64 in x64 è quindi simile alla velocità in Windows a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="4d19c-112">Therefore, execution speed under WOW64 on x64 is similar to its speed under 32-bit Windows.</span></span> <span data-ttu-id="4d19c-113">Sul processore Intel Itanium e su tutti i processori di ARM64, viene richiesto un maggior numero di software nell'emulazione e le prestazioni subiscono di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="4d19c-113">On the Intel Itanium processor and any ARM64 processors, more software is involved in the emulation, and performance suffers as a result.</span></span>
-   <span data-ttu-id="4d19c-114">Overhead del thunk dell'API.</span><span class="sxs-lookup"><span data-stu-id="4d19c-114">API thunk overhead.</span></span> <span data-ttu-id="4d19c-115">Questo overhead è ridotto rispetto alle chiamate di sistema al kernel NT.</span><span class="sxs-lookup"><span data-stu-id="4d19c-115">This overhead is small compared to system calls to the NT kernel.</span></span> <span data-ttu-id="4d19c-116">Le funzioni kernel NT sono progettate per essere chiamate raramente.</span><span class="sxs-lookup"><span data-stu-id="4d19c-116">NT kernel functions are intended to be called infrequently.</span></span>
-   <span data-ttu-id="4d19c-117">Dimensioni della memoria virtuale.</span><span class="sxs-lookup"><span data-stu-id="4d19c-117">Virtual memory size.</span></span> <span data-ttu-id="4d19c-118">Nel processore Intel Itanium, WOW64 aggiunge un sovraccarico significativo se due o più istanze della stessa applicazione a 32 bit vengono eseguite simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="4d19c-118">On the Intel Itanium processor, WOW64 adds significant overhead if two or more instances of the same 32-bit application are running concurrently.</span></span> <span data-ttu-id="4d19c-119">Ciò è dovuto alle pagine native da 8 KB di Intel Itanium, che complica l'emulazione delle pagine native da 4 KB sull'architettura x86 (altre pagine sono contrassegnate come scrivibili; tutte le pagine scrivibili sono private per il processo).</span><span class="sxs-lookup"><span data-stu-id="4d19c-119">This is due to the native 8 KB pages on the Intel Itanium, which complicates the emulation of the native 4 KB pages on the x86 architecture (more pages are marked as writable; all writable pages are private to the process).</span></span> <span data-ttu-id="4d19c-120">Questo può influire negativamente sulla scalabilità di Servizi terminal in determinati processori.</span><span class="sxs-lookup"><span data-stu-id="4d19c-120">This can adversely affect the scalability of Terminal Services on certain processors.</span></span> <span data-ttu-id="4d19c-121">Questo non è il caso del processore x64.</span><span class="sxs-lookup"><span data-stu-id="4d19c-121">This is not the case for the x64 processor.</span></span>
-   <span data-ttu-id="4d19c-122">Working set.</span><span class="sxs-lookup"><span data-stu-id="4d19c-122">Working set.</span></span> <span data-ttu-id="4d19c-123">WOW64 aumenta le dimensioni dell'working set dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="4d19c-123">WOW64 increases the size of the application's working set.</span></span>

<span data-ttu-id="4d19c-124">WOW64 consente alle applicazioni a 32 bit di sfruttare il kernel a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="4d19c-124">WOW64 enables 32-bit applications to take advantage of the 64-bit kernel.</span></span> <span data-ttu-id="4d19c-125">Pertanto, le applicazioni a 32 bit possono utilizzare un numero maggiore di handle di kernel e di finestre.</span><span class="sxs-lookup"><span data-stu-id="4d19c-125">Therefore, 32-bit applications can use a larger number of kernel handles and window handles.</span></span> <span data-ttu-id="4d19c-126">Tuttavia, le applicazioni a 32 bit potrebbero non essere in grado di creare tutti i thread in WOW64 come possono essere eseguiti in modalità nativa su sistemi basati su x86 perché WOW64 alloca un ulteriore stack a 64 bit (in genere 512 KB) per ogni thread.</span><span class="sxs-lookup"><span data-stu-id="4d19c-126">However, 32-bit applications may not be able to create as many threads under WOW64 as they can when running natively on x86-based systems because WOW64 allocates an additional 64-bit stack (usually 512 KB) for each thread.</span></span> <span data-ttu-id="4d19c-127">Inoltre, una certa quantità di spazio di indirizzi è riservata per WOW64 e per le strutture di dati utilizzate.</span><span class="sxs-lookup"><span data-stu-id="4d19c-127">In addition, some amount of address space is reserved for WOW64 itself and the data structures it uses.</span></span> <span data-ttu-id="4d19c-128">La quantità riservata dipende dal processore. altri sono riservati a Intel Itanium rispetto ai processori x64 o ARM64.</span><span class="sxs-lookup"><span data-stu-id="4d19c-128">The amount reserved depends on the processor; more is reserved on the Intel Itanium than on the x64 or ARM64 processors.</span></span>

<span data-ttu-id="4d19c-129">Se per l'applicazione è impostato il flag di rilevamento [**\_ \_ \_ indirizzi grande \_**](/windows/desktop/api/dbghelp/ns-dbghelp-loaded_image) per il file di immagine nell'intestazione dell'immagine, ogni applicazione a 32 bit riceve 4 GB di spazio degli indirizzi virtuali nell'ambiente WOW64.</span><span class="sxs-lookup"><span data-stu-id="4d19c-129">If the application has the [**IMAGE\_FILE\_LARGE\_ADDRESS\_AWARE**](/windows/desktop/api/dbghelp/ns-dbghelp-loaded_image) flag set in the image header, each 32-bit application receives 4 GB of virtual address space in the WOW64 environment.</span></span> <span data-ttu-id="4d19c-130">Se il flag di rilevamento **\_ \_ \_ indirizzi \_ grande** per il file di immagine non è impostato, ogni applicazione a 32 bit riceve 2 GB di spazio degli indirizzi virtuali nell'ambiente WOW64.</span><span class="sxs-lookup"><span data-stu-id="4d19c-130">If the **IMAGE\_FILE\_LARGE\_ADDRESS\_AWARE** flag is not set, each 32-bit application receives 2 GB of virtual address space in the WOW64 environment.</span></span>

 

 