---
title: Informazioni sulle funzioni di gestione del router
description: Nelle sezioni seguenti vengono illustrati i diversi tipi di funzioni di gestione del router e le informazioni necessarie per utilizzarle in modo efficace.
ms.assetid: 2f6831f2-39be-43b1-80bd-9a36c0f8a2af
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: be4b1891bc55b80a18a6d0dd928044da1e0e9709
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "106300270"
---
# <a name="understanding-router-management-functions"></a><span data-ttu-id="18672-103">Informazioni sulle funzioni di gestione del router</span><span class="sxs-lookup"><span data-stu-id="18672-103">Understanding Router Management Functions</span></span>

<span data-ttu-id="18672-104">Nelle sezioni seguenti vengono illustrati i diversi tipi di funzioni di gestione del router e le informazioni necessarie per utilizzarle in modo efficace.</span><span class="sxs-lookup"><span data-stu-id="18672-104">The following sections discuss the different types of router management functions and what you should know to use them effectively.</span></span>

<span data-ttu-id="18672-105">Tutte le funzioni di gestione del router richiedono privilegi di amministratore.</span><span class="sxs-lookup"><span data-stu-id="18672-105">All router management functions require administrator privileges.</span></span> <span data-ttu-id="18672-106">Un utente nel gruppo Power User non dispone di privilegi sufficienti per utilizzare le funzioni di gestione del router.</span><span class="sxs-lookup"><span data-stu-id="18672-106">A user in the Power User group does not have sufficient privileges to use the router management functions.</span></span>

## <a name="the-different-classes-of-router-management-functions"></a><span data-ttu-id="18672-107">Classi diverse di funzioni di gestione del router</span><span class="sxs-lookup"><span data-stu-id="18672-107">The Different Classes of Router Management Functions</span></span>

<span data-ttu-id="18672-108">Le funzioni di gestione del router possono essere divise nelle funzioni di amministrazione e nelle funzioni di configurazione.</span><span class="sxs-lookup"><span data-stu-id="18672-108">The router management functions can be divided up into the administration functions and the configuration functions.</span></span> <span data-ttu-id="18672-109">Le [funzioni di amministrazione](router-administration-functions.md) hanno un prefisso MprAdmin e le [funzioni di configurazione](router-configuration-functions.md) hanno il prefisso MprConfig.</span><span class="sxs-lookup"><span data-stu-id="18672-109">The [administration functions](router-administration-functions.md) have a prefix of MprAdmin and the [configuration functions](router-configuration-functions.md) have a prefix of MprConfig.</span></span> <span data-ttu-id="18672-110">Nonostante la denominazione, entrambi i set di funzioni vengono utilizzati per la gestione del router.</span><span class="sxs-lookup"><span data-stu-id="18672-110">Despite the naming, both sets of functions are used for router management.</span></span> <span data-ttu-id="18672-111">Le funzioni MprAdmin funzionano direttamente sul router in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="18672-111">The MprAdmin functions operate directly on the running router.</span></span> <span data-ttu-id="18672-112">Le funzioni MprConfig hanno funzionalità simili, ma operano sulla configurazione del router archiviata nel registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="18672-112">The MprConfig functions have similar functionality, but operate on the router configuration stored in the registry.</span></span> <span data-ttu-id="18672-113">Entrambi i tipi di funzioni passano i [blocchi di informazioni](router-information-functions.md).</span><span class="sxs-lookup"><span data-stu-id="18672-113">Both types of functions pass [information blocks](router-information-functions.md).</span></span>

<span data-ttu-id="18672-114">Le funzioni di gestione del router possono inoltre essere divise in base ai componenti del router gestiti, ovvero interfacce, gestori router o client di gestione router.</span><span class="sxs-lookup"><span data-stu-id="18672-114">The router management functions can also be divided up based on what components of the router they manage: interfaces, router managers, or router manager clients.</span></span>

<span data-ttu-id="18672-115">Le [funzioni di interfaccia del router](router-interface-functions.md) hanno un prefisso MprAdminInterface o MprConfigInterface.</span><span class="sxs-lookup"><span data-stu-id="18672-115">The [router interface functions](router-interface-functions.md) have a prefix of either MprAdminInterface or MprConfigInterface.</span></span> <span data-ttu-id="18672-116">Usare queste funzioni per accedere alle interfacce.</span><span class="sxs-lookup"><span data-stu-id="18672-116">Use these functions to access interfaces.</span></span> <span data-ttu-id="18672-117">Le [funzioni di gestione router](router-manager-transport-functions.md) hanno un prefisso MprAdminTransport o MprConfigTransport.</span><span class="sxs-lookup"><span data-stu-id="18672-117">The [router manager functions](router-manager-transport-functions.md) have a prefix of MprAdminTransport or MprConfigTransport.</span></span> <span data-ttu-id="18672-118">Utilizzare queste funzioni per accedere ai gestori di router.</span><span class="sxs-lookup"><span data-stu-id="18672-118">Use these functions to access the router managers.</span></span> <span data-ttu-id="18672-119">Infine, le [funzioni client di gestione router](router-manager-client-interfacetransport-functions.md) hanno un prefisso MprAdminInterfaceTransport o MprConfigInterfaceTransport.</span><span class="sxs-lookup"><span data-stu-id="18672-119">Lastly, the [router manager client functions](router-manager-client-interfacetransport-functions.md) have a prefix of MprAdminInterfaceTransport or MprConfigInterfaceTransport.</span></span> <span data-ttu-id="18672-120">Usare queste funzioni per accedere ai client in esecuzione nel router.</span><span class="sxs-lookup"><span data-stu-id="18672-120">Use these functions to access the clients running on the router.</span></span>

<span data-ttu-id="18672-121">Un subset di funzioni MprAdmin sono le [funzioni MprAdminMib](/windows/desktop/RRAS/about-router-management-with-mib).</span><span class="sxs-lookup"><span data-stu-id="18672-121">A subset of MprAdmin functions are the [MprAdminMib functions](/windows/desktop/RRAS/about-router-management-with-mib).</span></span> <span data-ttu-id="18672-122">Queste operazioni funzionano anche solo sulla Route in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="18672-122">These also operate on the running route alone.</span></span> <span data-ttu-id="18672-123">Tuttavia, queste funzioni non passano i blocchi di informazioni.</span><span class="sxs-lookup"><span data-stu-id="18672-123">However, these functions do not pass information blocks.</span></span> <span data-ttu-id="18672-124">Queste funzioni forniscono flessibilità aggiuntiva a progettazione protocolli, in particolare per il recupero di informazioni non di configurazione, ad esempio le statistiche.</span><span class="sxs-lookup"><span data-stu-id="18672-124">These functions provide additional flexibility to the protocol designer, especially for retrieving non-configuration information, such as statistics.</span></span>

## <a name="ensuring-that-changes-occur-immediately-and-are-persistent"></a><span data-ttu-id="18672-125">Verificare che le modifiche vengano eseguite immediatamente e che siano permanenti</span><span class="sxs-lookup"><span data-stu-id="18672-125">Ensuring that Changes Occur Immediately and are Persistent</span></span>

<span data-ttu-id="18672-126">Uno sviluppatore può apportare modifiche alla configurazione del router direttamente usando le [funzioni di configurazione del router](router-configuration-functions.md).</span><span class="sxs-lookup"><span data-stu-id="18672-126">A developer can make changes to the router configuration directly using the [router configuration functions](router-configuration-functions.md).</span></span> <span data-ttu-id="18672-127">Tuttavia, le modifiche apportate alla configurazione diventano effettive solo dopo il riavvio del router, dal momento che questa è l'unica volta in cui DIM legge la configurazione dal registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="18672-127">However, any changes made to the configuration do not take effect until the router is restarted, since this is the only time that DIM reads the configuration from the registry.</span></span>

<span data-ttu-id="18672-128">Uno sviluppatore può apportare modifiche al router in esecuzione utilizzando le [funzioni di amministrazione del router](router-administration-functions.md).</span><span class="sxs-lookup"><span data-stu-id="18672-128">A developer can make changes to the running router by using the [router administration functions](router-administration-functions.md).</span></span> <span data-ttu-id="18672-129">Tuttavia, queste modifiche non sono persistenti: poiché non sono state scritte nel registro di sistema, andranno perse se il router viene riavviato.</span><span class="sxs-lookup"><span data-stu-id="18672-129">However, these changes are not persistent: since they have not been written to the registry, they are lost if the router is restarted.</span></span>

<span data-ttu-id="18672-130">Per apportare modifiche immediate e permanenti, lo sviluppatore deve usare sia le funzioni di configurazione del router sia quelle di configurazione del router.</span><span class="sxs-lookup"><span data-stu-id="18672-130">In order to make changes that are both immediate and persistent, a developer needs to use both the router administration and the router configuration functions.</span></span> <span data-ttu-id="18672-131">Se il router non è in esecuzione, lo sviluppatore deve solo chiamare le funzioni di configurazione del router appropriate.</span><span class="sxs-lookup"><span data-stu-id="18672-131">If the router is not running, the developer need only call the appropriate router configuration functions.</span></span>

<span data-ttu-id="18672-132">Per eseguire query sulle informazioni del router in esecuzione, utilizzare le funzioni di amministrazione del router.</span><span class="sxs-lookup"><span data-stu-id="18672-132">For querying information from the running router, use the router administration functions.</span></span> <span data-ttu-id="18672-133">Se il router non è in esecuzione, le informazioni sulle query utilizzano le funzioni di configurazione del router.</span><span class="sxs-lookup"><span data-stu-id="18672-133">If the router is not running, query information using the router configuration functions.</span></span>

<span data-ttu-id="18672-134">Le funzioni [**MprAdminInterfaceCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacecreate) e [**MprAdminInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacesetinfo) supportano la struttura di [**MPR \_ Interface \_ 2**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_2) .</span><span class="sxs-lookup"><span data-stu-id="18672-134">The [**MprAdminInterfaceCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacecreate) and [**MprAdminInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacesetinfo) functions support the [**MPR\_INTERFACE\_2**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_2) structure.</span></span> <span data-ttu-id="18672-135">Tuttavia, [**MprConfigInterfaceCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacecreate) e [**MprConfigInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) non lo sono.</span><span class="sxs-lookup"><span data-stu-id="18672-135">However, [**MprConfigInterfaceCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacecreate) and [**MprConfigInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) do not.</span></span> <span data-ttu-id="18672-136">Per creare un'interfaccia di connessione a richiesta persistente dopo un riavvio, chiamare **MprAdminInterfaceCreate** con l' **interfaccia MPR \_ \_ 2**, quindi chiamare **MprConfigInterfaceCreate** con l'interfaccia [**MPR \_ \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_0) o [**MPR \_ Interface \_ 1**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_1).</span><span class="sxs-lookup"><span data-stu-id="18672-136">In order to create a demand-dial interface that is persistent after a reboot, call **MprAdminInterfaceCreate** with **MPR\_INTERFACE\_2**, then call **MprConfigInterfaceCreate** with [**MPR\_INTERFACE\_0**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_0) or [**MPR\_INTERFACE\_1**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_1).</span></span> <span data-ttu-id="18672-137">Analogamente, per apportare modifiche permanenti a un'interfaccia di connessione a richiesta, chiamare **MprAdminInterfaceSetInfo** con l' **\_ interfaccia MPR \_ 2**, quindi chiamare **MprConfigInterfaceSetInfo** con l'interfaccia **MPR \_ \_ 0** o **MPR \_ Interface \_ 1**.</span><span class="sxs-lookup"><span data-stu-id="18672-137">Similarly, to make persistent changes to a demand-dial interface, call **MprAdminInterfaceSetInfo** with **MPR\_INTERFACE\_2**, then call **MprConfigInterfaceSetInfo** with **MPR\_INTERFACE\_0** or **MPR\_INTERFACE\_1**.</span></span>

## <a name="using-router-administration-and-configuration-functions-remotely"></a><span data-ttu-id="18672-138">Uso delle funzioni di amministrazione e configurazione del router in modalità remota</span><span class="sxs-lookup"><span data-stu-id="18672-138">Using Router Administration and Configuration Functions Remotely</span></span>

<span data-ttu-id="18672-139">La maggior parte delle funzioni di amministrazione e configurazione del router può essere chiamata in un computer diverso da quello amministrato.</span><span class="sxs-lookup"><span data-stu-id="18672-139">Most of the router administration and configuration functions can be called on a computer other than the one being administered.</span></span> <span data-ttu-id="18672-140">Queste funzioni accettano come parametro, un handle per il servizio router o la configurazione da amministrare.</span><span class="sxs-lookup"><span data-stu-id="18672-140">These functions take as a parameter, a handle to the router service or configuration to administer.</span></span> <span data-ttu-id="18672-141">Le funzioni di amministrazione utilizzano RPC (Remote Procedure Call) per comunicare con il servizio di routing specificato dall'handle.</span><span class="sxs-lookup"><span data-stu-id="18672-141">The administration functions use RPC (Remote Procedure Call) to communicate with the routing service specified by the handle.</span></span> <span data-ttu-id="18672-142">Le funzioni di configurazione scrivono e leggono dal registro di sistema del computer specificato dall'handle.</span><span class="sxs-lookup"><span data-stu-id="18672-142">The configuration functions write to and read from the registry of the computer specified by the handle.</span></span>

<span data-ttu-id="18672-143">Per amministrare il servizio di routing in un computer remoto, chiamare prima [**MprAdminIsServiceRunning**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminisservicerunning) per verificare che il servizio sia in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="18672-143">To administer the routing service on a remote machine first call [**MprAdminIsServiceRunning**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminisservicerunning) to verify that the service is running.</span></span> <span data-ttu-id="18672-144">Chiamare quindi [**MprAdminServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminserverconnect) per ottenere l'handle.</span><span class="sxs-lookup"><span data-stu-id="18672-144">Then call [**MprAdminServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminserverconnect) to obtain the handle.</span></span> <span data-ttu-id="18672-145">Se il servizio router non è in esecuzione nel computer remoto, tutte le chiamate di amministrazione router (MprAdmin) hanno esito negativo.</span><span class="sxs-lookup"><span data-stu-id="18672-145">If the router service is not running on the remote machine, all router administration (MprAdmin) calls fail.</span></span>

<span data-ttu-id="18672-146">Per apportare modifiche alla configurazione del router in un computer remoto, ottenere un handle chiamando la funzione [**MprConfigServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigserverconnect) .</span><span class="sxs-lookup"><span data-stu-id="18672-146">To make changes to the router configuration on a remote machine obtain a handle by calling the [**MprConfigServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigserverconnect) function.</span></span>

 

 