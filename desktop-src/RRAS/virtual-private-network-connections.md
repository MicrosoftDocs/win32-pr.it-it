---
title: Connessioni di rete privata virtuale
description: Il servizio di accesso remoto (RAS) supporta le connessioni VPN (Virtual Private Network) oltre alle connessioni di accesso remoto convenzionali che usano Point-to-Point Protocol (PPP).
ms.assetid: c1195ebb-3107-4429-bc67-b64577d66268
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09f5fc0b80a6eb00e7587e941eea39c056a11d14
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104046858"
---
# <a name="virtual-private-network-connections"></a><span data-ttu-id="37a91-103">Connessioni di rete privata virtuale</span><span class="sxs-lookup"><span data-stu-id="37a91-103">Virtual Private Network Connections</span></span>

<span data-ttu-id="37a91-104">Il servizio di accesso remoto (RAS) supporta le connessioni VPN (Virtual Private Network) oltre alle connessioni di accesso remoto convenzionali che usano Point-to-Point Protocol (PPP).</span><span class="sxs-lookup"><span data-stu-id="37a91-104">The Remote Access Service (RAS) supports Virtual Private Network (VPN) connections in addition to conventional remote access connections that use Point-to-Point Protocol (PPP).</span></span> <span data-ttu-id="37a91-105">In una connessione VPN, i pacchetti VPN vengono incapsulati in pacchetti IP e inviati attraverso una rete IP, ad esempio Internet.</span><span class="sxs-lookup"><span data-stu-id="37a91-105">In a VPN connection, the VPN packets are encapsulated in IP packets and sent across an IP network such as the Internet.</span></span> <span data-ttu-id="37a91-106">Pertanto, l'accesso a una rete IP è un requisito per stabilire una connessione VPN.</span><span class="sxs-lookup"><span data-stu-id="37a91-106">Therefore, access to an IP network is a requirement in order to establish a VPN connection.</span></span> <span data-ttu-id="37a91-107">Se il computer client dispone di una connessione always on a una rete IP, ad esempio una connessione a una LAN IP, il client può stabilire la connessione VPN utilizzando una singola chiamata alla funzione [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="37a91-107">If the client computer has an always-on connection to an IP network, for example a connection to an IP LAN, the client can establish the VPN connection using a single call to the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function.</span></span>

<span data-ttu-id="37a91-108">Se il computer client non dispone di una connessione always on a una rete IP, per stabilire la connessione VPN sono necessarie due chiamate a [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="37a91-108">If the client computer does not have an always-on connection to an IP network, two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) are required to establish the VPN connection.</span></span> <span data-ttu-id="37a91-109">La prima chiamata stabilisce una connessione remota alla rete IP; la seconda chiamata stabilisce la connessione VPN.</span><span class="sxs-lookup"><span data-stu-id="37a91-109">The first call establishes a dial-up connection to the IP network; the second call establishes the VPN connection.</span></span>

<span data-ttu-id="37a91-110">Il membro **szLocalPhoneNumber** della struttura [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) per la connessione VPN deve contenere il nome DNS o l'indirizzo IP del server VPN di destinazione.</span><span class="sxs-lookup"><span data-stu-id="37a91-110">The **szLocalPhoneNumber** member of the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure for the VPN connection should contain either the DNS name or IP address of the destination VPN server.</span></span>

<span data-ttu-id="37a91-111">Ogni connessione richiede una voce separata del [libro telefonico](ras-phone-books.md) .</span><span class="sxs-lookup"><span data-stu-id="37a91-111">Each connection requires a separate [phone-book](ras-phone-books.md) entry.</span></span> <span data-ttu-id="37a91-112">La prima chiamata a [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) specifica la voce della rubrica telefonica per la rete IP.</span><span class="sxs-lookup"><span data-stu-id="37a91-112">The first call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) specifies the phone-book entry for the IP network.</span></span> <span data-ttu-id="37a91-113">La seconda chiamata specifica la voce della rubrica telefonica per la VPN.</span><span class="sxs-lookup"><span data-stu-id="37a91-113">The second call specifies the phone-book entry for the VPN.</span></span>

<span data-ttu-id="37a91-114">La funzione [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) accetta un puntatore a una struttura [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) come parametro.</span><span class="sxs-lookup"><span data-stu-id="37a91-114">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function takes a pointer to a [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure as a parameter.</span></span> <span data-ttu-id="37a91-115">Questa struttura specifica le credenziali di autenticazione da utilizzare per la rete specificata dalla voce della rubrica telefonica.</span><span class="sxs-lookup"><span data-stu-id="37a91-115">This structure specifies the authentication credentials to use for the network specified by the phone-book entry.</span></span> <span data-ttu-id="37a91-116">Le credenziali necessarie per accedere alla rete IP sono in genere diverse da quelle per la VPN.</span><span class="sxs-lookup"><span data-stu-id="37a91-116">The credentials required to access the IP network are typically different from those for the VPN.</span></span> <span data-ttu-id="37a91-117">La prima chiamata a **RasDial** deve specificare le credenziali per la rete IP.</span><span class="sxs-lookup"><span data-stu-id="37a91-117">The first call to **RasDial** should specify credentials for the IP network.</span></span> <span data-ttu-id="37a91-118">La seconda chiamata deve specificare le credenziali per la VPN.</span><span class="sxs-lookup"><span data-stu-id="37a91-118">The second call should specify credentials for the VPN.</span></span>

<span data-ttu-id="37a91-119">Se la funzione [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) ha esito positivo, restituisce un handle per la connessione.</span><span class="sxs-lookup"><span data-stu-id="37a91-119">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function is successful, it returns a handle for the connection.</span></span> <span data-ttu-id="37a91-120">Utilizzare questo handle in una chiamata a [**RasHangup**](/windows/desktop/api/Ras/nf-ras-rashangupa) per terminare la connessione.</span><span class="sxs-lookup"><span data-stu-id="37a91-120">Use this handle in a call to [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) to terminate the connection.</span></span>

<span data-ttu-id="37a91-121">Nello scenario precedente, le due chiamate a [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) restituiscono handle di connessione separati per la rete IP e la VPN.</span><span class="sxs-lookup"><span data-stu-id="37a91-121">In the preceding scenario, the two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) return separate connection handles for the IP network and the VPN.</span></span> <span data-ttu-id="37a91-122">La chiamata di [**RasHangup**](/windows/desktop/api/Ras/nf-ras-rashangupa) con l'handle per la connessione VPN termina la connessione VPN ma lascia intatta la connessione alla rete IP.</span><span class="sxs-lookup"><span data-stu-id="37a91-122">Calling [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) with the handle for the VPN connection terminates the VPN connection but leaves the connection to the IP network intact.</span></span>

 

 