---
title: Informazioni sulle DLL di amministrazione RAS
description: La DLL di amministrazione RAS Esporta le funzioni che il server RAS chiama ogni volta che un utente tenta di connettersi o disconnettersi.
ms.assetid: c15c6e2d-3bb6-4583-9ac3-19528feb863f
keywords:
- Amministrazione RAS RRAS, DLL di amministrazione RAS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1cb170e8cfa331ab9591aa509772c6f6a743fa49
ms.sourcegitcommit: cba7f424a292fd7f3a8518947b9466439b455419
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/23/2019
ms.locfileid: "104516531"
---
# <a name="about-ras-administration-dlls"></a><span data-ttu-id="a4eb9-104">Informazioni sulle DLL di amministrazione RAS</span><span class="sxs-lookup"><span data-stu-id="a4eb9-104">About RAS administration DLLs</span></span>

<span data-ttu-id="a4eb9-105">La DLL di amministrazione RAS Esporta le funzioni che il server RAS chiama ogni volta che un utente tenta di connettersi o disconnettersi.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-105">The RAS Administration DLL exports functions that the RAS server calls whenever a user tries to connect or disconnect.</span></span> <span data-ttu-id="a4eb9-106">Di seguito sono riportati alcuni dei possibili utilizzi di una DLL di amministrazione RAS:</span><span class="sxs-lookup"><span data-stu-id="a4eb9-106">Here are some of the possible uses for a RAS administration DLL:</span></span>

-   <span data-ttu-id="a4eb9-107">Decidere se consentire a un utente di connettersi al server.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-107">Decide whether to allow a user to connect to the server.</span></span> <span data-ttu-id="a4eb9-108">La DLL di amministrazione può fornire un controllo di sicurezza oltre all'autenticazione utente RAS standard.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-108">The administration DLL can provide a security check in addition to the standard RAS user authentication.</span></span>
-   <span data-ttu-id="a4eb9-109">Registrare l'ora in cui ogni utente si connette e si disconnette dal server.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-109">Record the time that each user connects to and disconnects from the server.</span></span> <span data-ttu-id="a4eb9-110">Questa operazione può essere utile a scopo di fatturazione o controllo.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-110">This can be useful for billing or auditing purposes.</span></span>
-   <span data-ttu-id="a4eb9-111">Assegnare un indirizzo IP a ogni utente.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-111">Assign an IP address to each user.</span></span> <span data-ttu-id="a4eb9-112">Questa funzionalità è utile per la sicurezza, perché questa funzionalità viene utilizzata per eseguire il mapping della connessione di un utente a un computer specifico.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-112">This is useful for security, because this feature is used to map a user's connection to a specific computer.</span></span>

<span data-ttu-id="a4eb9-113">Il percorso della DLL di amministrazione RAS è specificato nel registro di sistema. vedere [configurazione del registro di sistema della DLL di amministrazione RAS](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="a4eb9-113">The location of the RAS Administration DLL is specified in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="a4eb9-114">RAS supporta più DLL di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-114">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="a4eb9-115">Il registro di sistema supporta più percorsi DLL.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-115">The registry supports multiple DLL locations.</span></span> <span data-ttu-id="a4eb9-116">RAS chiama le funzioni nelle DLL nell'ordine in cui le dll sono elencate nel registro di sistema. vedere [configurazione del registro di sistema della DLL di amministrazione RAS](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="a4eb9-116">RAS calls the functions in the DLLs in the order in which the DLLs are listed in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="a4eb9-117">**Server Windows 2000:** RAS non supporta più dll.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-117">**Windows 2000 Server:** RAS does not support multiple DLLs.</span></span>

<span data-ttu-id="a4eb9-118">Una DLL di amministrazione RAS deve implementare ed esportare tutte le funzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="a4eb9-118">A RAS administration DLL must implement and export all of the following functions:</span></span>

[<span data-ttu-id="a4eb9-119">**MprAdminAcceptNewLink**</span><span class="sxs-lookup"><span data-stu-id="a4eb9-119">**MprAdminAcceptNewLink**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink)

[<span data-ttu-id="a4eb9-120">**MprAdminInitializeDll**</span><span class="sxs-lookup"><span data-stu-id="a4eb9-120">**MprAdminInitializeDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll)

[<span data-ttu-id="a4eb9-121">**MprAdminLinkHangupNotification**</span><span class="sxs-lookup"><span data-stu-id="a4eb9-121">**MprAdminLinkHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification)

[<span data-ttu-id="a4eb9-122">**MprAdminTerminateDll**</span><span class="sxs-lookup"><span data-stu-id="a4eb9-122">**MprAdminTerminateDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll)

<span data-ttu-id="a4eb9-123">Inoltre, la DLL di amministrazione RAS deve implementare ed esportare uno dei due</span><span class="sxs-lookup"><span data-stu-id="a4eb9-123">In addition, the RAS administration DLL must implement and export either</span></span>

<span data-ttu-id="a4eb9-124">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) e</span><span class="sxs-lookup"><span data-stu-id="a4eb9-124">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and</span></span>

[<span data-ttu-id="a4eb9-125">**MprAdminConnectionHangupNotification**</span><span class="sxs-lookup"><span data-stu-id="a4eb9-125">**MprAdminConnectionHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification)

<span data-ttu-id="a4eb9-126">oppure</span><span class="sxs-lookup"><span data-stu-id="a4eb9-126">or</span></span>

<span data-ttu-id="a4eb9-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) e</span><span class="sxs-lookup"><span data-stu-id="a4eb9-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and</span></span>

[<span data-ttu-id="a4eb9-128">**MprAdminConnectionHangupNotification2**</span><span class="sxs-lookup"><span data-stu-id="a4eb9-128">**MprAdminConnectionHangupNotification2**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2)

<span data-ttu-id="a4eb9-129">Se tutte le funzioni obbligatorie non sono implementate, non è possibile avviare RAS.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-129">If all of the required functions are not implemented, RAS fails to start.</span></span>

<span data-ttu-id="a4eb9-130">**Server Windows 2000:** Una DLL di amministrazione deve implementare le funzioni [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) e [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) .</span><span class="sxs-lookup"><span data-stu-id="a4eb9-130">**Windows 2000 Server:** An administration DLL must implement the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions.</span></span> <span data-ttu-id="a4eb9-131">Se la DLL implementa una di queste funzioni, è necessario implementare anche l'altra.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-131">If the DLL implements one of these functions it must implement the other as well.</span></span>

<span data-ttu-id="a4eb9-132">RAS chiama la funzione [**MprAdminInitializeDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) quando il servizio Routing e accesso remoto viene avviato per la prima volta.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-132">RAS calls the [**MprAdminInitializeDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) function when the Routing and Remote Access Service first starts up.</span></span> <span data-ttu-id="a4eb9-133">La funzione **MprAdminInitializeDll** offre un'opportunità per la dll di amministrazione di eseguire qualsiasi inizializzazione necessaria.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-133">The **MprAdminInitializeDll** function provides an opportunity for the administration DLL to do any necessary initialization.</span></span> <span data-ttu-id="a4eb9-134">Analogamente, RAS chiama il servizio [**MprAdminTerminateDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) quando il servizio Routing e accesso remoto viene arrestato.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-134">Similarly, RAS calls the [**MprAdminTerminateDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) service when the Routing and Remote Access Service shuts down.</span></span> <span data-ttu-id="a4eb9-135">Questa funzione consente alla DLL di amministrazione di eseguire le operazioni di pulizia necessarie prima di uscire.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-135">This function allows the administration DLL to perform any necessary cleanup before exiting.</span></span>

<span data-ttu-id="a4eb9-136">Le funzioni [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) e [**MPRADMINCONNECTIONHANGUPNOTIFICATION**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) consentono alla DLL di controllare le connessioni utente al server.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-136">The [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) functions enable the DLL to audit user connections to the server.</span></span> <span data-ttu-id="a4eb9-137">Un server RAS chiama la funzione **MprAdminAcceptNewConnection** ogni volta che un utente tenta di connettersi.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-137">A RAS server calls the **MprAdminAcceptNewConnection** function whenever a user tries to connect.</span></span> <span data-ttu-id="a4eb9-138">Questa funzione rende possibile impedire all'utente di connettersi.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-138">This function makes it possible to prevent the user from connecting.</span></span> <span data-ttu-id="a4eb9-139">La funzione **MprAdminAcceptNewConnection** può anche generare voci di log per la fatturazione o il controllo.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-139">The **MprAdminAcceptNewConnection** function could also generate log entries for billing or auditing.</span></span> <span data-ttu-id="a4eb9-140">Quando l'utente si disconnette, il server RAS chiama la funzione **MprAdminConnectionHangupNotification** , che consente di registrare l'ora in cui l'utente è stato disconnesso.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-140">When the user disconnects, the RAS server calls the **MprAdminConnectionHangupNotification** function, which can log the time at which the user disconnected.</span></span>

<span data-ttu-id="a4eb9-141">Le funzioni [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) e [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) sono simili a **MprAdminAcceptNewConnection** e [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span><span class="sxs-lookup"><span data-stu-id="a4eb9-141">The [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) functions are similar to **MprAdminAcceptNewConnection** and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span></span> <span data-ttu-id="a4eb9-142">Tuttavia, quando RAS chiama le funzioni **MprAdminAcceptNewConnection2** e **MprAdminConnectionHangupNotification2** , RAS passa un parametro aggiuntivo di tipo [**RAS \_ Connection \_ 2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span><span class="sxs-lookup"><span data-stu-id="a4eb9-142">However, when RAS calls the **MprAdminAcceptNewConnection2** and **MprAdminConnectionHangupNotification2** functions, RAS passes in an additional parameter of type [**RAS\_CONNECTION\_2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span></span>

<span data-ttu-id="a4eb9-143">RAS supporta più DLL di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-143">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="a4eb9-144">L'utente di accesso remoto può connettersi solo se l'implementazione della funzione [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) o [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) in ogni dll accetta la connessione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-144">The remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="a4eb9-145">In altre parole, ogni DLL deve accettare la connessione per consentire all'utente di connettersi.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-145">In other words, every DLL must accept the connection in order for the user to be allowed to connect.</span></span>

<span data-ttu-id="a4eb9-146">È possibile che una singola connessione RAS utilizzi più collegamenti quando si connette a un server RAS.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-146">It is possible for a single RAS connection to use multiple links when connecting to a RAS server.</span></span> <span data-ttu-id="a4eb9-147">Le funzioni [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) e [**MPRADMINLINKHANGUPNOTIFICATION**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) consentono alla DLL di amministrazione di gestire singoli collegamenti in una connessione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-147">The [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) and [**MprAdminLinkHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) functions make it possible for the Administration DLL to manage individual links in a connection.</span></span> <span data-ttu-id="a4eb9-148">RAS chiama **MprAdminAcceptNewLink** ogni volta che viene stabilito un nuovo collegamento per una connessione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-148">RAS calls **MprAdminAcceptNewLink** whenever a new link is established for a connection.</span></span> <span data-ttu-id="a4eb9-149">Poiché tutte le connessioni coinvolgono almeno un collegamento, RAS chiama sempre **MprAdminAcceptNewLink** una volta immediatamente dopo la restituzione di [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) o [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) , purché [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) o [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) abbia accettato la connessione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-149">Because all connections involve at least one link, RAS always calls **MprAdminAcceptNewLink** once immediately after [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) returns, provided that [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) accepted the connection.</span></span> <span data-ttu-id="a4eb9-150">RAS chiama **MprAdminLinkHangupNotification** ogni volta che un collegamento per una connessione viene arrestato.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-150">RAS calls **MprAdminLinkHangupNotification** whenever a link for a connection is shutdown.</span></span>

<span data-ttu-id="a4eb9-151">Poiché RAS supporta più DLL di amministrazione, l'utente di accesso remoto può connettersi solo se l'implementazione della funzione [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) in ogni dll accetta la connessione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-151">Because RAS supports multiple Administration DLLs, the remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="a4eb9-152">In altre parole, ogni DLL deve accettare il collegamento affinché venga stabilito il collegamento.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-152">In other words, every DLL must accept the link in order for the link to be established.</span></span>

<span data-ttu-id="a4eb9-153">Dopo che il server RAS ha autenticato un utente, chiama la funzione [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) per ottenere un indirizzo IP per il client remoto.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-153">After the RAS server has authenticated a user, it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) function to get an IP address for the remote client.</span></span> <span data-ttu-id="a4eb9-154">Questa funzione fornisce uno schema alternativo per il mapping di un indirizzo IP a un utente con connessione remota.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-154">This function provides an alternate scheme for mapping an IP address to a dial-in user.</span></span> <span data-ttu-id="a4eb9-155">Se **MprAdminGetIpAddressForUser** non è implementato, un server RAS associa l'utente remoto a un indirizzo IP selezionato da un pool statico di indirizzi IP o uno selezionato da un server Dynamic Host Configuration Protocol (DHCP).</span><span class="sxs-lookup"><span data-stu-id="a4eb9-155">If **MprAdminGetIpAddressForUser** is not implemented, a RAS server associates the remote user with an IP address that is selected from a static pool of IP addresses, or one selected by a Dynamic Host Configuration Protocol (DHCP) server.</span></span> <span data-ttu-id="a4eb9-156">La funzione **MprAdminGetIpAddressForUser** consente alla DLL di eseguire l'override di questo indirizzo IP predefinito e specificare un indirizzo IP specifico per ogni utente.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-156">The **MprAdminGetIpAddressForUser** function allows the DLL to override this default IP address and specify a particular IP address for each user.</span></span> <span data-ttu-id="a4eb9-157">La funzione **MprAdminGetIpAddressForUser** può impostare un flag che fa in modo che RAS chiami la funzione [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) quando l'utente si disconnette.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-157">The **MprAdminGetIpAddressForUser** function can set a flag that causes RAS to call the [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) function when the user disconnects.</span></span> <span data-ttu-id="a4eb9-158">La DLL può quindi usare **MprAdminReleaseIpAddress** per aggiornare il mapping da utente a indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-158">The DLL can then use **MprAdminReleaseIpAddress** to update its user-to-IP-address mapping.</span></span>

<span data-ttu-id="a4eb9-159">RAS supporta più DLL di amministrazione, ma chiama le funzioni [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) e [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) solo nella prima dll che le implementa ed Esporta.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-159">RAS supports multiple Administration DLLs, but it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions only in the first DLL that implements and export them.</span></span> <span data-ttu-id="a4eb9-160">RAS ignora le implementazioni di queste funzioni nelle altre dll.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-160">RAS ignores implementations of these functions in the other DLLs.</span></span> <span data-ttu-id="a4eb9-161">RAS controlla le dll per queste funzioni nell'ordine in cui sono elencate nel [Registro di sistema](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="a4eb9-161">RAS checks the DLLs for these functions in the order in which they are listed in the [registry](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="a4eb9-162">RAS serializza le chiamate nella DLL di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-162">RAS serializes calls into the administration DLL.</span></span> <span data-ttu-id="a4eb9-163">Una chiamata a una delle funzioni della DLL per un determinato client RAS non ha la precedenza su una chiamata a tale funzione per un client RAS diverso; RAS non chiama la funzione per l'altro client finché la chiamata iniziale non viene completata.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-163">A call into one of the DLL's functions for a given RAS client does not preempt a call to that function for a different RAS client; RAS does not call the function for the other client until the initial call is complete.</span></span> <span data-ttu-id="a4eb9-164">Inoltre, la serializzazione si estende a determinati gruppi di funzioni.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-164">Furthermore, serialization extends to certain groups of functions.</span></span> <span data-ttu-id="a4eb9-165">Le funzioni degli indirizzi IP vengono serializzate come gruppo. una chiamata a [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) o [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) blocca le chiamate in entrambe le funzioni fino a quando non viene restituita la chiamata iniziale.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-165">The IP address functions are serialized as a group; a call into either [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) or [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) blocks calls into both functions until the initial call has returned.</span></span> <span data-ttu-id="a4eb9-166">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) e [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) vengono inoltre serializzati come gruppo.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-166">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) are also serialized as a group.</span></span>

<span data-ttu-id="a4eb9-167">RAS esegue le funzioni che assegnano indirizzi IP in un unico processo; le funzioni per le notifiche di connessione e disconnessione vengono eseguite in un altro processo.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-167">RAS executes the functions that assign IP addresses in one process; the functions for connection and disconnection notifications are executed in another process.</span></span> <span data-ttu-id="a4eb9-168">Di conseguenza, la DLL non dipende dai dati condivisi tra questi due set di funzioni.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-168">Consequently, the DLL does not depend on shared data between these two sets of functions.</span></span>

<span data-ttu-id="a4eb9-169">Non chiamare [funzioni di amministrazione RAS](ras-administration-functions.md) o [funzioni di amministrazione dell'utente RAS](ras-user-administration-functions.md) dall'interno di una funzione di callout.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-169">Do not call any of the [RAS Administration Functions](ras-administration-functions.md) or [RAS User Administration Functions](ras-user-administration-functions.md) from inside a callout function.</span></span> <span data-ttu-id="a4eb9-170">Le chiamate a queste funzioni non restituiranno quando viene eseguita dall'interno di una funzione di callout.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-170">Calls to these functions will not return when made from within a callout function.</span></span>

<span data-ttu-id="a4eb9-171">Il server RAS registra un errore nel registro eventi di sistema se si verifica un errore durante il tentativo di caricamento di una DLL di amministrazione RAS o quando viene chiamata una delle funzioni della DLL.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-171">The RAS server logs an error in the system event log if an error occurs when it tries to load a RAS administration DLL or when calling one of the DLL's functions.</span></span> <span data-ttu-id="a4eb9-172">Questo può accadere, ad esempio, se la DLL ha specificato il nome errato per una funzione esportata o se non include il nome della funzione nel file DEF.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-172">This can happen, for example, if the DLL specified the wrong name for an exported function, or if it did not include the function name in the DEF file.</span></span> <span data-ttu-id="a4eb9-173">La voce nel registro eventi indica il motivo dell'errore.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-173">The entry in the event log indicates the reason for the failure.</span></span>

<span data-ttu-id="a4eb9-174">**Windows 2000/NT:** Non sono supportate più DLL di amministrazione.</span><span class="sxs-lookup"><span data-stu-id="a4eb9-174">**Windows 2000/NT:** Multiple administration DLLs are not supported.</span></span>

 

 




