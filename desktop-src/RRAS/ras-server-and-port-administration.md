---
title: Informazioni sull'amministrazione di server e porte RAS
description: Le funzioni di amministrazione del server RAS ottengono informazioni su un server RAS specificato e sulle relative porte. Queste funzioni vengono utilizzate anche per terminare una connessione su una porta del server RAS specificata.
ms.assetid: eedac23e-d716-451e-b08b-594398656bb5
keywords:
- Amministrazione RAS RRAS, amministrazione server e porta
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4cb9d3cc520efa6bbb492e8d9e967d423548f96a
ms.sourcegitcommit: cba7f424a292fd7f3a8518947b9466439b455419
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/23/2019
ms.locfileid: "104472067"
---
# <a name="about-ras-server-and-port-administration"></a><span data-ttu-id="fe3b3-105">Informazioni sull'amministrazione di server e porte RAS</span><span class="sxs-lookup"><span data-stu-id="fe3b3-105">About RAS Server and Port Administration</span></span>

<span data-ttu-id="fe3b3-106">Le funzioni di amministrazione del server RAS ottengono informazioni su un server RAS specificato e sulle relative porte.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-106">The RAS server administration functions get information about a specified RAS server and its ports.</span></span> <span data-ttu-id="fe3b3-107">Queste funzioni vengono utilizzate anche per terminare una connessione su una porta del server RAS specificata.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-107">These functions are also used to terminate a connection on a specified RAS server port.</span></span>

<span data-ttu-id="fe3b3-108">La funzione [**MprAdminServerGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminservergetinfo) restituisce una struttura del [**\_ Server MPR \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_server_0) che contiene informazioni sulla configurazione di un server RAS.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-108">The [**MprAdminServerGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminservergetinfo) function returns a [**MPR\_SERVER\_0**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_server_0) structure that contains information about the configuration of a RAS server.</span></span> <span data-ttu-id="fe3b3-109">Le informazioni restituite includono il numero di porte attualmente disponibili per le connessioni, il numero di porte attualmente in uso e il numero di versione del server.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-109">The returned information includes the number of ports currently available for connections, the number of ports currently in use, and the server version number.</span></span>

<span data-ttu-id="fe3b3-110">La funzione [**MprAdminPortEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum) recupera una matrice di strutture di [**\_ porta RAS \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0) .</span><span class="sxs-lookup"><span data-stu-id="fe3b3-110">The [**MprAdminPortEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum) function retrieves an array of [**RAS\_PORT\_0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0) structures.</span></span> <span data-ttu-id="fe3b3-111">Ogni struttura contiene informazioni per una delle porte configurate in un server RAS.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-111">Each structure contains information for one of the ports configured on a RAS server.</span></span> <span data-ttu-id="fe3b3-112">Le informazioni per ogni porta includono:</span><span class="sxs-lookup"><span data-stu-id="fe3b3-112">The information for each port includes:</span></span>

-   <span data-ttu-id="fe3b3-113">Nome della porta</span><span class="sxs-lookup"><span data-stu-id="fe3b3-113">The name of the port</span></span>
-   <span data-ttu-id="fe3b3-114">Informazioni sul dispositivo collegato alla porta</span><span class="sxs-lookup"><span data-stu-id="fe3b3-114">Information about the device attached to the port</span></span>
-   <span data-ttu-id="fe3b3-115">Indica se il server RAS associato alla porta è un server Windows NT/Windows 2000</span><span class="sxs-lookup"><span data-stu-id="fe3b3-115">Whether the RAS server associated with the port is a Windows NT/Windows 2000 Server</span></span>
-   <span data-ttu-id="fe3b3-116">Indica se la porta è attualmente in uso e, in caso contrario, informazioni sulla connessione</span><span class="sxs-lookup"><span data-stu-id="fe3b3-116">Whether the port is currently in use and, if it is, information about the connection</span></span>

<span data-ttu-id="fe3b3-117">Per ottenere le porte utilizzate da una connessione specifica, passare [**MprAdminPortEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum) un handle a tale connessione nel parametro *hConnection* .</span><span class="sxs-lookup"><span data-stu-id="fe3b3-117">To obtain the ports in use by a specific connection, pass [**MprAdminPortEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum) a handle to that connection in the *hConnection* parameter.</span></span> <span data-ttu-id="fe3b3-118">Per ottenere un handle per una connessione, usare la funzione [**MprAdminConnectionEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionenum) .</span><span class="sxs-lookup"><span data-stu-id="fe3b3-118">To obtain a handle to a connection, use the [**MprAdminConnectionEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionenum) function.</span></span> <span data-ttu-id="fe3b3-119">In alternativa, se è stata implementata una [dll di amministrazione RAS](ras-administration-dll.md), le funzioni [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) e [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) ricevono un handle per ogni nuova connessione nel momento in cui viene stabilita la connessione.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-119">Alternatively, if you have implemented a [RAS Administration DLL](ras-administration-dll.md), the [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) functions receive a handle to each new connection at the time the connection is established.</span></span>

<span data-ttu-id="fe3b3-120">È possibile chiamare la funzione [**MprAdminPortGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo) per ottenere informazioni aggiuntive su una porta specificata in un server RAS.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-120">You can call the [**MprAdminPortGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo) function to get additional information about a specified port on a RAS server.</span></span> <span data-ttu-id="fe3b3-121">Questa funzione restituisce una struttura di [**\_ porta RAS \_ 1**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_1) che contiene una struttura di [**\_ porta RAS \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0) e informazioni aggiuntive sullo stato corrente della porta.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-121">This function returns a [**RAS\_PORT\_1**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_1) structure that contains a [**RAS\_PORT\_0**](/windows/desktop/api/Mprapi/ns-mprapi-ras_port_0) structure and additional information about the current state of the port.</span></span> <span data-ttu-id="fe3b3-122">La funzione [**RasAdminPortGetInfo**](rasadminportgetinfo.md) restituisce inoltre una matrice di strutture di [**\_ parametri RAS**](ras-parameters-str.md) che descrivono i valori di tutte le chiavi specifiche del supporto associate alla porta.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-122">The [**RasAdminPortGetInfo**](rasadminportgetinfo.md) function also returns an array of [**RAS\_PARAMETERS**](ras-parameters-str.md) structures that describe the values of any media-specific keys associated with the port.</span></span> <span data-ttu-id="fe3b3-123">Una struttura di **\_ parametri RAS** usa un valore dell'enumerazione del [**\_ \_ formato params RAS**](ras-params-format-str.md) per indicare il formato del valore per ogni chiave specifica del supporto.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-123">A **RAS\_PARAMETERS** structure uses a value from the [**RAS\_PARAMS\_FORMAT**](ras-params-format-str.md) enumeration to indicate the format of the value for each media-specific key.</span></span>

<span data-ttu-id="fe3b3-124">La funzione [**MprAdminPortGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo) restituisce inoltre una struttura di [**\_ \_ statistiche della porta RAS**](ras-port-statistics-str.md) che contiene vari contatori statistici per la connessione corrente, se presente, sulla porta.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-124">The [**MprAdminPortGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo) function also returns a [**RAS\_PORT\_STATISTICS**](ras-port-statistics-str.md) structure that contains various statistic counters for the current connection, if any, on the port.</span></span> <span data-ttu-id="fe3b3-125">Per una porta che fa parte di una connessione a più collegamenti, **MprAdminPortGetInfo** restituisce le statistiche per la singola porta e le statistiche cumulative per tutte le porte incluse nella connessione.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-125">For a port that is part of a multilink connection, **MprAdminPortGetInfo** returns statistics for the individual port and cumulative statistics for all ports involved in the connection.</span></span> <span data-ttu-id="fe3b3-126">Per reimpostare i contatori delle statistiche per la porta, è possibile usare la funzione [**MprAdminPortClearStats**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportclearstats) .</span><span class="sxs-lookup"><span data-stu-id="fe3b3-126">You can use the [**MprAdminPortClearStats**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportclearstats) function to reset the statistic counters for the port.</span></span> <span data-ttu-id="fe3b3-127">La funzione [**MprAdminPortDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportdisconnect) disconnette una porta in uso.</span><span class="sxs-lookup"><span data-stu-id="fe3b3-127">The [**MprAdminPortDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportdisconnect) function disconnects a port that is in use.</span></span>

<span data-ttu-id="fe3b3-128">Utilizzare la funzione [**MprAdminBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminbufferfree) per liberare la memoria allocata dalle funzioni [**MprAdminPortEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum) e [**MprAdminPortGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo) .</span><span class="sxs-lookup"><span data-stu-id="fe3b3-128">Use the [**MprAdminBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminbufferfree) function to free memory allocated by the [**MprAdminPortEnum**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportenum) and [**MprAdminPortGetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminportgetinfo) functions.</span></span> <span data-ttu-id="fe3b3-129">Utilizzare la funzione [**MprAdminGetErrorString**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingeterrorstring) per ottenere una stringa che descrive un codice di errore RAS restituito da una delle funzioni di amministrazione del server RAS (RASADMIN).</span><span class="sxs-lookup"><span data-stu-id="fe3b3-129">Use the [**MprAdminGetErrorString**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingeterrorstring) function to get a string that describes a RAS error code returned by one of the RAS server administration (RasAdmin) functions.</span></span>

 

 




