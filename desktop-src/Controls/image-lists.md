---
title: Informazioni sugli elenchi di immagini
description: Un elenco di immagini è una raccolta di immagini della stessa dimensione, a cui è possibile fare riferimento in base al relativo indice.
ms.assetid: vs|controls|~\controls\imagelist\imagelist.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f059e89b04d16088fff1d937bd29cb23a427d4c2
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "104339335"
---
# <a name="about-image-lists"></a><span data-ttu-id="69b0c-103">Informazioni sugli elenchi di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-103">About Image Lists</span></span>

<span data-ttu-id="69b0c-104">Un elenco di immagini è una raccolta di immagini della stessa dimensione, a cui è possibile fare riferimento in base al relativo indice.</span><span class="sxs-lookup"><span data-stu-id="69b0c-104">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="69b0c-105">Gli elenchi di immagini vengono utilizzati per gestire in modo efficiente grandi set di icone o bitmap.</span><span class="sxs-lookup"><span data-stu-id="69b0c-105">Image lists are used to efficiently manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="69b0c-106">Tutte le immagini in un elenco di immagini sono contenute in un'unica bitmap a caratteri wide nel formato del dispositivo dello schermo.</span><span class="sxs-lookup"><span data-stu-id="69b0c-106">All images in an image list are contained in a single, wide bitmap in screen device format.</span></span> <span data-ttu-id="69b0c-107">Un elenco di immagini può includere anche una bitmap monocromatica che contiene le maschere usate per creare le immagini in modo trasparente (stile icona).</span><span class="sxs-lookup"><span data-stu-id="69b0c-107">An image list can also include a monochrome bitmap that contains masks that are used to draw images transparently (icon style).</span></span>

<span data-ttu-id="69b0c-108">L'API Microsoft Win32 fornisce le funzioni e le macro dell'elenco immagini che consentono di creare ed eliminare in modo permanente elenchi di immagini, aggiungere e rimuovere immagini, sostituire e unire immagini, creare immagini e trascinare immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-108">The Microsoft Win32 API provides image list functions and macros that enable you to create and destroy image lists, add and remove images, replace and merge images, draw images, and drag images.</span></span> <span data-ttu-id="69b0c-109">Per usare le funzioni dell'elenco immagini, includere il file di intestazione del controllo comune nei file di codice sorgente e creare un collegamento con la libreria di esportazione del controllo comune.</span><span class="sxs-lookup"><span data-stu-id="69b0c-109">To use the image list functions, include the common control header file in your source code files and link with the common control export library.</span></span> <span data-ttu-id="69b0c-110">Inoltre, prima di chiamare qualsiasi funzione dell'elenco di immagini, usare la funzione [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) o [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) per assicurarsi che la dll del controllo comune venga caricata.</span><span class="sxs-lookup"><span data-stu-id="69b0c-110">In addition, before calling any image list function, use the [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) or [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function to ensure that the common control DLL is loaded.</span></span>

<span data-ttu-id="69b0c-111">In questa sezione vengono trattati gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="69b0c-111">The following topics are discussed in this section:</span></span>

-   [<span data-ttu-id="69b0c-112">Tipi</span><span class="sxs-lookup"><span data-stu-id="69b0c-112">Types</span></span>](#types)
-   [<span data-ttu-id="69b0c-113">Creazione ed eliminazione degli elenchi di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-113">Creating and Destroying Image Lists</span></span>](#creating-and-destroying-image-lists)
-   [<span data-ttu-id="69b0c-114">Aggiunta e rimozione di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-114">Adding and Removing Images</span></span>](#adding-and-removing-images)
-   [<span data-ttu-id="69b0c-115">Sostituzione e Unione di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-115">Replacing and Merging Images</span></span>](#replacing-and-merging-images)
-   [<span data-ttu-id="69b0c-116">Disegno di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-116">Drawing Images</span></span>](#drawing-images)
-   [<span data-ttu-id="69b0c-117">Trascinamento di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-117">Dragging Images</span></span>](#dragging-images)
-   [<span data-ttu-id="69b0c-118">Informazioni immagine</span><span class="sxs-lookup"><span data-stu-id="69b0c-118">Image Information</span></span>](#image-information)
-   [<span data-ttu-id="69b0c-119">Sovrimpressioni immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-119">Image Overlays</span></span>](#image-overlays)
-   [<span data-ttu-id="69b0c-120">Icone con antialias a 32 bit</span><span class="sxs-lookup"><span data-stu-id="69b0c-120">32-Bit Antialiased Icons</span></span>](#32-bit-antialiased-icons)

## <a name="types"></a><span data-ttu-id="69b0c-121">Tipi</span><span class="sxs-lookup"><span data-stu-id="69b0c-121">Types</span></span>

<span data-ttu-id="69b0c-122">Esistono due tipi di elenchi di immagini: non mascherati e mascherati.</span><span class="sxs-lookup"><span data-stu-id="69b0c-122">There are two types of image lists: nonmasked and masked.</span></span> <span data-ttu-id="69b0c-123">Un elenco di immagini non mascherato è costituito da una bitmap di colore che contiene una o più immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-123">A nonmasked image list consists of a color bitmap that contains one or more images.</span></span> <span data-ttu-id="69b0c-124">Un elenco di immagini mascherate è costituito da due bitmap di uguale dimensione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-124">A masked image list consists of two bitmaps of equal size.</span></span> <span data-ttu-id="69b0c-125">Il primo è una mappa di bit di colore che contiene le immagini e la seconda è una bitmap monocromatica che contiene una serie di maschere, una per ogni immagine nella prima bitmap.</span><span class="sxs-lookup"><span data-stu-id="69b0c-125">The first is a color bitmap that contains the images, and the second is a monochrome bitmap that contains a series of masks—one for each image in the first bitmap.</span></span>

<span data-ttu-id="69b0c-126">Quando viene disegnata un'immagine non mascherata, viene semplicemente copiata nel contesto del dispositivo di destinazione. ovvero viene disegnato sul colore di sfondo esistente del contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="69b0c-126">When a nonmasked image is drawn, it is simply copied into the target device context; that is, it is drawn over the existing background color of the device context.</span></span> <span data-ttu-id="69b0c-127">Quando viene disegnata un'immagine mascherata, i bit dell'immagine vengono combinati con i bit della maschera, in genere producendo aree trasparenti nella bitmap in cui viene visualizzato il colore di sfondo del contesto di dispositivo di destinazione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-127">When a masked image is drawn, the bits of the image are combined with the bits of the mask, typically producing transparent areas in the bitmap where the background color of the target device context shows through.</span></span> <span data-ttu-id="69b0c-128">Sono disponibili diversi stili di disegno che è possibile specificare durante il disegno di un'immagine mascherata.</span><span class="sxs-lookup"><span data-stu-id="69b0c-128">There are several drawing styles that you can specify when drawing a masked image.</span></span> <span data-ttu-id="69b0c-129">Ad esempio, è possibile specificare che l'immagine deve essere dimostrata per indicare un oggetto selezionato.</span><span class="sxs-lookup"><span data-stu-id="69b0c-129">For example, you can specify that the image be dithered to indicate a selected object.</span></span>

## <a name="creating-and-destroying-image-lists"></a><span data-ttu-id="69b0c-130">Creazione ed eliminazione degli elenchi di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-130">Creating and Destroying Image Lists</span></span>

<span data-ttu-id="69b0c-131">Per creare un elenco di immagini, chiamare la funzione [**ImageList \_ create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-131">You create an image list by calling the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function.</span></span> <span data-ttu-id="69b0c-132">I parametri includono il tipo di elenco di immagini da creare, le dimensioni di ogni immagine e il numero di immagini che si desidera aggiungere all'elenco.</span><span class="sxs-lookup"><span data-stu-id="69b0c-132">The parameters include the type of image list to create, the dimensions of each image, and the number of images you intend to add to the list.</span></span> <span data-ttu-id="69b0c-133">Per un elenco di immagini non mascherate, la funzione crea una singola bitmap sufficientemente grande da poter conservare il numero specificato di immagini delle dimensioni specificate.</span><span class="sxs-lookup"><span data-stu-id="69b0c-133">For a nonmasked image list, the function creates a single bitmap large enough to hold the specified number of images of the given dimensions.</span></span> <span data-ttu-id="69b0c-134">Crea quindi un contesto di dispositivo compatibile con la schermata e ne seleziona la bitmap.</span><span class="sxs-lookup"><span data-stu-id="69b0c-134">Then it creates a screen-compatible device context and selects the bitmap into it.</span></span> <span data-ttu-id="69b0c-135">Per un elenco di immagini mascherate, la funzione crea due bitmap e due contesti di dispositivo compatibili con la schermata.</span><span class="sxs-lookup"><span data-stu-id="69b0c-135">For a masked image list, the function creates two bitmaps and two screen-compatible device contexts.</span></span> <span data-ttu-id="69b0c-136">Seleziona la bitmap dell'immagine in un contesto di dispositivo e la bitmap della maschera nell'altra.</span><span class="sxs-lookup"><span data-stu-id="69b0c-136">It selects the image bitmap into one device context and the mask bitmap into the other.</span></span> <span data-ttu-id="69b0c-137">La DLL del controllo comune contiene il codice eseguibile per le funzioni dell'elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-137">The common control DLL contains the executable code for the image list functions.</span></span>

<span data-ttu-id="69b0c-138">In [**ImageList \_ create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create)specificare il numero iniziale di immagini che saranno presenti in un elenco di immagini, nonché il numero di immagini in base alle quali l'elenco può aumentare.</span><span class="sxs-lookup"><span data-stu-id="69b0c-138">In [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create), you specify the initial number of images that will be in an image list as well as the number of images by which the list can grow.</span></span> <span data-ttu-id="69b0c-139">Quindi, se si tenta di aggiungere più immagini rispetto a quanto specificato inizialmente, l'elenco di immagini cresce automaticamente per adattarsi alle nuove immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-139">So if you attempt to add more images than you initially specified, the image list automatically grows to accommodate the new images.</span></span>

<span data-ttu-id="69b0c-140">Se [**ImageList \_ create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) ha esito positivo, restituisce un handle al tipo HIMAGELIST.</span><span class="sxs-lookup"><span data-stu-id="69b0c-140">If [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) succeeds, it returns a handle to the HIMAGELIST type.</span></span> <span data-ttu-id="69b0c-141">Usare questo handle in altre funzioni dell'elenco immagini per accedere all'elenco di immagini e gestire le immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-141">You use this handle in other image list functions to access the image list and manage the images.</span></span> <span data-ttu-id="69b0c-142">È possibile aggiungere e rimuovere immagini, copiare immagini da un elenco di immagini a un altro e unire immagini da due elenchi di immagini diversi.</span><span class="sxs-lookup"><span data-stu-id="69b0c-142">You can add and remove images, copy images from one image list to another, and merge images from two different image lists.</span></span> <span data-ttu-id="69b0c-143">Quando un elenco di immagini non è più necessario, è possibile eliminarlo specificando il relativo handle in una chiamata alla funzione di [**\_ eliminazione ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-143">When you no longer need an image list, you can destroy it by specifying its handle in a call to the [**ImageList\_Destroy**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) function.</span></span>

## <a name="adding-and-removing-images"></a><span data-ttu-id="69b0c-144">Aggiunta e rimozione di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-144">Adding and Removing Images</span></span>

<span data-ttu-id="69b0c-145">È possibile aggiungere immagini bitmap, icone o cursori a un elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-145">You can add bitmapped images, icons, or cursors to an image list.</span></span> <span data-ttu-id="69b0c-146">Per aggiungere immagini bitmap, è necessario specificare gli handle per due bitmap in una chiamata alla funzione di [**\_ aggiunta ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-146">You add bitmapped images by specifying the handles to two bitmaps in a call to the [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) function.</span></span> <span data-ttu-id="69b0c-147">La prima bitmap contiene una o più immagini da aggiungere alla bitmap dell'immagine e la seconda bitmap contiene le maschere da aggiungere alla bitmap della maschera.</span><span class="sxs-lookup"><span data-stu-id="69b0c-147">The first bitmap contains one or more images to add to the image bitmap, and the second bitmap contains the masks to add to the mask bitmap.</span></span> <span data-ttu-id="69b0c-148">Per gli elenchi di immagini non mascherate, il secondo handle di bitmap viene ignorato; può essere impostato su **null**.</span><span class="sxs-lookup"><span data-stu-id="69b0c-148">For nonmasked image lists, the second bitmap handle is ignored; it can be set to **NULL**.</span></span>

<span data-ttu-id="69b0c-149">La [**funzione \_ AddMasked di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked) aggiunge anche immagini bitmap a un elenco di immagini mascherate.</span><span class="sxs-lookup"><span data-stu-id="69b0c-149">The [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked) function also adds bitmapped images to a masked image list.</span></span> <span data-ttu-id="69b0c-150">Questa funzione è simile a [**ImageList \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), ad eccezione del fatto che non si specifica una bitmap mask.</span><span class="sxs-lookup"><span data-stu-id="69b0c-150">This function is similar to [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), except that you do not specify a mask bitmap.</span></span> <span data-ttu-id="69b0c-151">Si specifica invece un colore che il sistema combina con la bitmap dell'immagine per generare automaticamente le maschere.</span><span class="sxs-lookup"><span data-stu-id="69b0c-151">Instead, you specify a color that the system combines with the image bitmap to automatically generate the masks.</span></span> <span data-ttu-id="69b0c-152">Ogni pixel del colore specificato nella bitmap dell'immagine viene modificato in nero e il bit corrispondente nella maschera è impostato su 1.</span><span class="sxs-lookup"><span data-stu-id="69b0c-152">Each pixel of the specified color in the image bitmap is changed to black, and the corresponding bit in the mask is set to 1.</span></span> <span data-ttu-id="69b0c-153">Di conseguenza, qualsiasi pixel nell'immagine che corrisponde al colore specificato è trasparente quando viene disegnata l'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-153">As a result, any pixel in the image that matches the specified color is transparent when the image is drawn.</span></span>

<span data-ttu-id="69b0c-154">La [**macro \_ addicon ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) aggiunge un'icona o un cursore a un elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-154">The [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) macro adds an icon or cursor to an image list.</span></span> <span data-ttu-id="69b0c-155">Se l'elenco di immagini è mascherato, **ImageList \_ addicon** aggiunge la maschera fornita con l'icona o il cursore alla bitmap della maschera.</span><span class="sxs-lookup"><span data-stu-id="69b0c-155">If the image list is masked, **ImageList\_AddIcon** adds the mask that is provided with the icon or cursor to the mask bitmap.</span></span> <span data-ttu-id="69b0c-156">Se l'elenco di immagini non è mascherato, la maschera per l'icona o il cursore non viene utilizzata durante il disegno dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-156">If the image list is nonmasked, the mask for the icon or cursor is not used when drawing the image.</span></span>

<span data-ttu-id="69b0c-157">È possibile creare un'icona basata su un'immagine e una maschera in un elenco di immagini usando la funzione [**ImageList \_ GetIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-157">You can create an icon based on an image and mask in an image list by using the [**ImageList\_GetIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) function.</span></span> <span data-ttu-id="69b0c-158">La funzione restituisce l'handle per l'icona nuova.</span><span class="sxs-lookup"><span data-stu-id="69b0c-158">The function returns the handle to the new icon.</span></span>

<span data-ttu-id="69b0c-159">[**ImageList \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), [**ImageList \_ AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked)e [**ImageList \_ addicon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) assegnano un indice a ogni immagine quando viene aggiunta a un elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-159">[**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked), and [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) assign an index to each image as it is added to an image list.</span></span> <span data-ttu-id="69b0c-160">Gli indici sono in base zero; ovvero la prima immagine dell'elenco ha un indice pari a zero, il successivo ha un indice di uno e così via.</span><span class="sxs-lookup"><span data-stu-id="69b0c-160">The indexes are zero-based; that is, the first image in the list has an index of zero, the next has an index of one, and so on.</span></span> <span data-ttu-id="69b0c-161">Dopo l'aggiunta di una singola immagine, le funzioni restituiscono l'indice dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-161">After adding a single image, the functions return the index of the image.</span></span> <span data-ttu-id="69b0c-162">Quando viene aggiunta più di un'immagine alla volta, le funzioni restituiscono l'indice della prima immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-162">When more than one image is added at a time, the functions return the index of the first image.</span></span>

<span data-ttu-id="69b0c-163">La funzione di [**\_ rimozione ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove) rimuove un'immagine da un elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-163">The [**ImageList\_Remove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove) function removes an image from an image list.</span></span>

## <a name="replacing-and-merging-images"></a><span data-ttu-id="69b0c-164">Sostituzione e Unione di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-164">Replacing and Merging Images</span></span>

<span data-ttu-id="69b0c-165">Le funzioni [**ImageList \_ Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace) e [**ImageList \_ ReplaceIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon) sostituiscono un'immagine in un elenco di immagini con una nuova immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-165">The [**ImageList\_Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace) and [**ImageList\_ReplaceIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon) functions replace an image in an image list with a new image.</span></span> <span data-ttu-id="69b0c-166">**ImageList \_ Sostituisci** sostituisce un'immagine con un'immagine bitmap e una maschera e **ImageList \_ ReplaceIcon** sostituisce un'immagine con un'icona o un cursore.</span><span class="sxs-lookup"><span data-stu-id="69b0c-166">**ImageList\_Replace** replaces an image with a bitmapped image and mask, and **ImageList\_ReplaceIcon** replaces an image with an icon or cursor.</span></span>

<span data-ttu-id="69b0c-167">La funzione di [**\_ merge ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge) unisce due immagini, archiviando la nuova immagine in un nuovo elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-167">The [**ImageList\_Merge**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge) function merges two images, storing the new image in a new image list.</span></span> <span data-ttu-id="69b0c-168">La nuova immagine viene creata disegnando la seconda immagine in modo trasparente sulla prima.</span><span class="sxs-lookup"><span data-stu-id="69b0c-168">The new image is created by drawing the second image transparently over the first.</span></span> <span data-ttu-id="69b0c-169">La maschera per la nuova immagine è il risultato dell'esecuzione di un'operazione **or** logica sui bit delle maschere per le due immagini esistenti.</span><span class="sxs-lookup"><span data-stu-id="69b0c-169">The mask for the new image is the result of performing a logical **OR** operation on the bits of the masks for the two existing images.</span></span>

## <a name="drawing-images"></a><span data-ttu-id="69b0c-170">Disegno di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-170">Drawing Images</span></span>

<span data-ttu-id="69b0c-171">Per creare un'immagine, è possibile usare la funzione [**ImageList \_ disegnato**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) o [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-171">To draw an image, you use the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="69b0c-172">È possibile specificare l'handle per un elenco di immagini, l'indice dell'immagine da disegnare, l'handle per il contesto di dispositivo di destinazione, una posizione all'interno del contesto di dispositivo e uno o più stili di disegno.</span><span class="sxs-lookup"><span data-stu-id="69b0c-172">You specify the handle to an image list, the index of the image to draw, the handle to the destination device context, a location within the device context, and one or more drawing styles.</span></span>

<span data-ttu-id="69b0c-173">Quando si specifica lo **stile \_ trasparente ILD** , [**ImageList \_ Disegna**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) o [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) usa un processo in due passaggi per creare un'immagine mascherata.</span><span class="sxs-lookup"><span data-stu-id="69b0c-173">When you specify the **ILD\_TRANSPARENT** style, [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) uses a two-step process to draw a masked image.</span></span> <span data-ttu-id="69b0c-174">Innanzitutto, esegue un'operazione **and** logica sui bit dell'immagine e sui bit della maschera.</span><span class="sxs-lookup"><span data-stu-id="69b0c-174">First, it performs a logical **AND** operation on the bits of the image and the bits of the mask.</span></span> <span data-ttu-id="69b0c-175">Esegue quindi un'operazione **Xor** logica sui risultati della prima operazione e sui bit di sfondo del contesto di dispositivo di destinazione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-175">Then it performs a logical **XOR** operation on the results of the first operation and the background bits of the destination device context.</span></span> <span data-ttu-id="69b0c-176">Questo processo consente di creare aree trasparenti nell'immagine risultante; ovvero ogni bit bianco nella maschera rende trasparente il bit corrispondente nell'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-176">This process creates transparent areas in the resulting image; that is, each white bit in the mask causes the corresponding bit in the resulting image to be transparent.</span></span>

<span data-ttu-id="69b0c-177">Prima di disegnare un'immagine mascherata su uno sfondo a tinta unita, è necessario usare la funzione [**\_ SetBkColor di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) per impostare il colore di sfondo dell'elenco di immagini sullo stesso colore della destinazione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-177">Before drawing a masked image on a solid color background, you should use the [**ImageList\_SetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) function to set the background color of the image list to the same color as the destination.</span></span> <span data-ttu-id="69b0c-178">L'impostazione del colore Elimina la necessità di creare aree trasparenti nell'immagine e consente a [**ImageList \_ disegnato**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) o [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) di copiare semplicemente l'immagine nel contesto di dispositivo di destinazione, causando un aumento significativo delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="69b0c-178">Setting the color eliminates the need to create transparent areas in the image and enables [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) to simply copy the image to the destination device context, resulting in a significant increase in performance.</span></span> <span data-ttu-id="69b0c-179">Per creare l'immagine, specificare lo **stile \_ normale ILD** in una chiamata a **ImageList \_ Disegna** o **ImageList \_ DrawEx**.</span><span class="sxs-lookup"><span data-stu-id="69b0c-179">To draw the image, specify the **ILD\_NORMAL** style in a call to **ImageList\_Draw** or **ImageList\_DrawEx**.</span></span>

<span data-ttu-id="69b0c-180">È possibile impostare il colore di sfondo per un elenco di immagini mascherato in qualsiasi momento, in modo che venga disegnato correttamente in uno sfondo a tinta unita.</span><span class="sxs-lookup"><span data-stu-id="69b0c-180">You can set the background color for a masked image list at any time so that it draws correctly on any solid background.</span></span> <span data-ttu-id="69b0c-181">Se si imposta il colore di sfondo su CLR None, le \_ immagini verranno disegnate in modo trasparente per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="69b0c-181">Setting the background color to CLR\_NONE causes images to be drawn transparently by default.</span></span> <span data-ttu-id="69b0c-182">Per recuperare il colore di sfondo di un elenco di immagini, usare la funzione [**\_ GetBkColor di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-182">To retrieve the background color of an image list, use the [**ImageList\_GetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) function.</span></span>

<span data-ttu-id="69b0c-183">Gli stili **ILD \_ BLEND25** e **ILD \_ BLEND50** dithering l'immagine con il colore di evidenziazione del sistema.</span><span class="sxs-lookup"><span data-stu-id="69b0c-183">The **ILD\_BLEND25** and **ILD\_BLEND50** styles dither the image with the system highlight color.</span></span> <span data-ttu-id="69b0c-184">Questi stili sono utili se si utilizza un'immagine mascherata per rappresentare un oggetto che l'utente può selezionare.</span><span class="sxs-lookup"><span data-stu-id="69b0c-184">These styles are useful if you use a masked image to represent an object that the user can select.</span></span> <span data-ttu-id="69b0c-185">Ad esempio, è possibile usare lo **stile \_ BLEND50 di ILD** per creare l'immagine quando l'utente la seleziona.</span><span class="sxs-lookup"><span data-stu-id="69b0c-185">For example, you can use the **ILD\_BLEND50** style to draw the image when the user selects it.</span></span>

<span data-ttu-id="69b0c-186">Un'immagine non mascherata viene copiata nel contesto di dispositivo di destinazione tramite l'operazione SRCCOPY raster.</span><span class="sxs-lookup"><span data-stu-id="69b0c-186">A nonmasked image is copied to the destination device context by using the SRCCOPY raster operation.</span></span> <span data-ttu-id="69b0c-187">I colori dell'immagine hanno lo stesso aspetto indipendentemente dal colore di sfondo del contesto del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="69b0c-187">The colors in the image appear the same regardless of the background color of the device context.</span></span> <span data-ttu-id="69b0c-188">Gli stili di disegno specificati in [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) o [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) non hanno effetto anche sull'aspetto di un'immagine non mascherata.</span><span class="sxs-lookup"><span data-stu-id="69b0c-188">The drawing styles specified in [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) also have no effect on the appearance of a nonmasked image.</span></span>

## <a name="dragging-images"></a><span data-ttu-id="69b0c-189">Trascinamento di immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-189">Dragging Images</span></span>

<span data-ttu-id="69b0c-190">L'API Win32 include funzioni per il trascinamento di un'immagine sullo schermo.</span><span class="sxs-lookup"><span data-stu-id="69b0c-190">The Win32 API includes functions for dragging an image on the screen.</span></span> <span data-ttu-id="69b0c-191">Le funzioni di trascinamento spostano un'immagine in modo uniforme, in colore e senza lampeggiare del cursore.</span><span class="sxs-lookup"><span data-stu-id="69b0c-191">The dragging functions move an image smoothly, in color, and without any flashing of the cursor.</span></span> <span data-ttu-id="69b0c-192">È possibile trascinare le immagini mascherate e non mascherate.</span><span class="sxs-lookup"><span data-stu-id="69b0c-192">Both masked and unmasked images can be dragged.</span></span>

<span data-ttu-id="69b0c-193">La [**funzione \_ BeginDrag di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag) inizia un'operazione di trascinamento.</span><span class="sxs-lookup"><span data-stu-id="69b0c-193">The [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag) function begins a drag operation.</span></span> <span data-ttu-id="69b0c-194">I parametri includono l'handle per l'elenco di immagini, l'indice dell'immagine da trascinare e la posizione dell'area sensibile all'interno dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-194">The parameters include the handle to the image list, the index of the image to drag, and the location of the hot spot within the image.</span></span> <span data-ttu-id="69b0c-195">L'area sensibile è un singolo pixel che le funzioni di trascinamento riconoscono come posizione dello schermo esatta dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-195">The hot spot is a single pixel that the dragging functions recognize as the exact screen location of the image.</span></span> <span data-ttu-id="69b0c-196">In genere, un'applicazione imposta l'area sensibile in modo che corrisponda all'area sensibile del cursore del mouse.</span><span class="sxs-lookup"><span data-stu-id="69b0c-196">Typically, an application sets the hot spot so that it coincides with the hot spot of the mouse cursor.</span></span> <span data-ttu-id="69b0c-197">La [**funzione \_ DragMove di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove) sposta l'immagine in una nuova posizione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-197">The [**ImageList\_DragMove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove) function moves the image to a new location.</span></span>

<span data-ttu-id="69b0c-198">La funzione [**ImageList \_ DragEnter**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter) imposta la posizione iniziale dell'immagine di trascinamento all'interno di una finestra e disegna l'immagine in corrispondenza della posizione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-198">The [**ImageList\_DragEnter**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter) function sets the initial position of the drag image within a window and draws the image at the position.</span></span> <span data-ttu-id="69b0c-199">I parametri includono l'handle per la finestra in cui si desidera creare l'immagine e le coordinate della posizione iniziale all'interno della finestra.</span><span class="sxs-lookup"><span data-stu-id="69b0c-199">The parameters include the handle to the window in which to draw the image and the coordinates of the initial position within the window.</span></span> <span data-ttu-id="69b0c-200">Le coordinate sono relative all'angolo superiore sinistro della finestra, non all'area client.</span><span class="sxs-lookup"><span data-stu-id="69b0c-200">The coordinates are relative to the window's upper-left corner, not the client area.</span></span> <span data-ttu-id="69b0c-201">Lo stesso vale per tutte le funzioni di trascinamento delle immagini che accettano le coordinate come parametri.</span><span class="sxs-lookup"><span data-stu-id="69b0c-201">The same is true for all of the image dragging functions that take coordinates as parameters.</span></span> <span data-ttu-id="69b0c-202">Ciò significa che è necessario compensare le larghezze degli elementi della finestra quali il bordo, la barra del titolo e la barra dei menu quando si specificano le coordinate.</span><span class="sxs-lookup"><span data-stu-id="69b0c-202">This means you must compensate for the widths of window elements such as the border, title bar, and menu bar when specifying the coordinates.</span></span> <span data-ttu-id="69b0c-203">Se si specifica un handle di finestra **null** quando si chiama **ImageList \_ DragEnter**, le funzioni di trascinamento disegnano l'immagine nel contesto di dispositivo associato alla finestra desktop e le coordinate sono relative all'angolo superiore sinistro dello schermo.</span><span class="sxs-lookup"><span data-stu-id="69b0c-203">If you specify a **NULL** window handle when calling **ImageList\_DragEnter**, the dragging functions draw the image in the device context that is associated with the desktop window, and the coordinates are relative to the upper-left corner of the screen.</span></span>

<span data-ttu-id="69b0c-204">La [**funzione \_ SetDragCursorImage di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage) crea una nuova immagine di trascinamento combinando l'immagine specificata, in genere un'immagine del cursore del mouse, con l'immagine di trascinamento corrente.</span><span class="sxs-lookup"><span data-stu-id="69b0c-204">The [**ImageList\_SetDragCursorImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage) function creates a new drag image by combining the given image (typically a mouse cursor image) with the current drag image.</span></span> <span data-ttu-id="69b0c-205">Poiché le funzioni di trascinamento utilizzano la nuova immagine durante un'operazione di trascinamento, è necessario utilizzare la funzione [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) per nascondere il cursore del mouse effettivo dopo la chiamata a **ImageList \_ SetDragCursorImage**.</span><span class="sxs-lookup"><span data-stu-id="69b0c-205">Because the dragging functions use the new image during a drag operation, you should use the [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) function to hide the actual mouse cursor after calling **ImageList\_SetDragCursorImage**.</span></span> <span data-ttu-id="69b0c-206">In caso contrario, è possibile che nel sistema siano presenti due cursori del mouse per la durata dell'operazione di trascinamento.</span><span class="sxs-lookup"><span data-stu-id="69b0c-206">Otherwise, the system may appear to have two mouse cursors for the duration of the drag operation.</span></span>

<span data-ttu-id="69b0c-207">Quando un'applicazione chiama [**ImageList \_ BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag), il sistema crea un elenco di immagini interne temporaneo, quindi copia l'immagine di trascinamento specificata nell'elenco interno.</span><span class="sxs-lookup"><span data-stu-id="69b0c-207">When an application calls [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag), the system creates a temporary, internal image list and then copies the specified drag image to the internal list.</span></span> <span data-ttu-id="69b0c-208">È possibile recuperare l'handle per l'elenco di immagini di trascinamento temporaneo usando la funzione [**\_ GetDragImage di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-208">You can retrieve the handle to the temporary drag image list by using the [**ImageList\_GetDragImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) function.</span></span> <span data-ttu-id="69b0c-209">La funzione recupera inoltre la posizione di trascinamento corrente e l'offset dell'immagine di trascinamento rispetto alla posizione di trascinamento.</span><span class="sxs-lookup"><span data-stu-id="69b0c-209">The function also retrieves the current drag position and the offset of the drag image relative to the drag position.</span></span>

## <a name="image-information"></a><span data-ttu-id="69b0c-210">Informazioni immagine</span><span class="sxs-lookup"><span data-stu-id="69b0c-210">Image Information</span></span>

<span data-ttu-id="69b0c-211">Sono disponibili numerose funzioni che recuperano informazioni da un elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-211">There are a number of functions that retrieve information from an image list.</span></span> <span data-ttu-id="69b0c-212">La [**funzione \_ GetImageInfo di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo) riempie una struttura [**IMAGEINFO**](/windows/desktop/api) con informazioni su una singola immagine, inclusi gli handle delle bitmap di immagine e maschera, il numero di piani di colore e bit per pixel e il rettangolo di delimitazione dell'immagine nella bitmap dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-212">The [**ImageList\_GetImageInfo**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo) function fills an [**IMAGEINFO**](/windows/desktop/api) structure with information about a single image, including the handles of the image and mask bitmaps, the number of color planes and bits per pixel, and the bounding rectangle of the image within the image bitmap.</span></span> <span data-ttu-id="69b0c-213">È possibile usare queste informazioni per modificare direttamente le bitmap per l'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-213">You can use this information to directly manipulate the bitmaps for the image.</span></span> <span data-ttu-id="69b0c-214">La [**funzione \_ GetImageCount di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount) Recupera il numero di immagini in un elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-214">The [**ImageList\_GetImageCount**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount) function retrieves the number of images in an image list.</span></span>

## <a name="image-overlays"></a><span data-ttu-id="69b0c-215">Sovrimpressioni immagini</span><span class="sxs-lookup"><span data-stu-id="69b0c-215">Image Overlays</span></span>

<span data-ttu-id="69b0c-216">Ogni elenco di immagini include un elenco di indici da utilizzare come sovrimpressioni.</span><span class="sxs-lookup"><span data-stu-id="69b0c-216">Every image list includes a list of indexes to use as overlays.</span></span> <span data-ttu-id="69b0c-217">Una sovrapposizione è un'immagine disegnata in modo trasparente su un'altra immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-217">An overlay is an image that is drawn transparently over another image.</span></span> <span data-ttu-id="69b0c-218">Tutte le immagini attualmente presenti nell'elenco immagini possono essere utilizzate come sovrimpressione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-218">Any image currently in the image list can be used as an overlay.</span></span> <span data-ttu-id="69b0c-219">È possibile specificare fino a quattro sovrapposizioni per ogni elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="69b0c-219">You can specify up to four overlays per image list.</span></span> <span data-ttu-id="69b0c-220">Questo limite è stato esteso a 15 nella versione 4,71.</span><span class="sxs-lookup"><span data-stu-id="69b0c-220">This limit has been expanded to 15 in version 4.71.</span></span>

<span data-ttu-id="69b0c-221">È possibile aggiungere l'indice di un'immagine all'elenco di sovrimpressioni utilizzando la funzione [**ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) , specificando l'handle per l'elenco di immagini, l'indice dell'immagine esistente e l'indice sovrapposto desiderato.</span><span class="sxs-lookup"><span data-stu-id="69b0c-221">You add the index of an image to the list of overlays by using the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function, specifying the handle to the image list, the index of the existing image, and the desired overlay index.</span></span> <span data-ttu-id="69b0c-222">Questo, in effetti, indica all'elenco di immagini che "l'immagine in corrispondenza dell'indice *x* può essere usata come sovrapposizione e voglio fare riferimento alla sovrapposizione come indice di sovrapposizione *y*".</span><span class="sxs-lookup"><span data-stu-id="69b0c-222">This, in effect, tells the image list that "the image at index *x* can be used as an overlay, and I want to refer to the overlay as overlay index *y*."</span></span> <span data-ttu-id="69b0c-223">Gli indici di sovrimpressione sono basati su uno anziché su zero perché un indice sovrapposto pari a zero indica che non verrà usata alcuna sovrimpressione.</span><span class="sxs-lookup"><span data-stu-id="69b0c-223">The overlay indexes are one-based rather than zero-based because an overlay index of zero means that no overlay will be used.</span></span>

<span data-ttu-id="69b0c-224">È possibile specificare una sovrapposizione quando si disegna un'immagine con la funzione [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) o [**ImageList \_ DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-224">You specify an overlay when drawing an image with the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="69b0c-225">La sovrapposizione viene specificata eseguendo un'operazione **or** logica tra i flag di disegno desiderati e il risultato della macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-225">The overlay is specified by performing a logical **OR** operation between the desired drawing flags and the result of the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="69b0c-226">La macro **INDEXTOOVERLAYMASK** accetta l'indice overlay e lo formatta per l'inclusione con i flag per queste funzioni.</span><span class="sxs-lookup"><span data-stu-id="69b0c-226">The **INDEXTOOVERLAYMASK** macro takes the overlay index and formats it for inclusion with the flags for these functions.</span></span> <span data-ttu-id="69b0c-227">Verrà creata l'immagine con la sovrapposizione specificata.</span><span class="sxs-lookup"><span data-stu-id="69b0c-227">This will draw the image with the specified overlay.</span></span> <span data-ttu-id="69b0c-228">Nell'esempio seguente viene illustrato come una sovrapposizione viene aggiunta e specificata durante il disegno dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="69b0c-228">The following example demonstrates how an overlay is added and specified when drawing the image.</span></span>


```
ImageList_SetOverlayImage(himl, 0, 3);
ImageList_Draw(himl, 1, hdc, 0, 0, ILD_MASK | INDEXTOOVERLAYMASK(3));
```



<span data-ttu-id="69b0c-229">Verrà creata l'immagine 1 e quindi sovrapposta all'immagine con l'immagine 0.</span><span class="sxs-lookup"><span data-stu-id="69b0c-229">This will draw image 1 and then overlay that image with image 0.</span></span> <span data-ttu-id="69b0c-230">Poiché 3 è l'indice di sovrapposizione specificato nella chiamata [**\_ SetOverlayImage di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) , 3 viene inserito nella macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="69b0c-230">Because 3 is the overlay index that you specified in the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) call, 3 is placed in the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span>

## <a name="32-bit-antialiased-icons"></a><span data-ttu-id="69b0c-231">Icone con antialias a 32 bit</span><span class="sxs-lookup"><span data-stu-id="69b0c-231">32-Bit Antialiased Icons</span></span>

<span data-ttu-id="69b0c-232">L'anti-aliasing è una tecnica per l'ammorbidimento o la sfocatura di spigoli acuti.</span><span class="sxs-lookup"><span data-stu-id="69b0c-232">Antialiasing is a technique for softening or blurring sharp edges.</span></span> <span data-ttu-id="69b0c-233">In questo modo, le immagini offrono un aspetto più naturale.</span><span class="sxs-lookup"><span data-stu-id="69b0c-233">This gives images a more natural appearance.</span></span> <span data-ttu-id="69b0c-234">Gli elenchi di immagini in Windows Vista e Windows 7 supportano l'uso di icone e bitmap con antialias a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="69b0c-234">Image lists in Windows Vista and Windows 7 support the use of 32-bit antialiased icons and bitmaps.</span></span> <span data-ttu-id="69b0c-235">I valori dei colori utilizzano 24 bit e 8 bit vengono utilizzati come canale alfa sulle icone.</span><span class="sxs-lookup"><span data-stu-id="69b0c-235">Color values use 24 bits, and 8 bits are used as an alpha channel on the icons.</span></span> <span data-ttu-id="69b0c-236">Per creare un elenco di immagini in grado di gestire un'immagine di 32 bit per pixel (BPP), chiamare la funzione [**ImageList \_ create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) , passando un \_ flag ILC COLOR32.</span><span class="sxs-lookup"><span data-stu-id="69b0c-236">To create an image list that can handle a 32 bits-per-pixel (bpp) image, call the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function, passing in an ILC\_COLOR32 flag.</span></span>

<span data-ttu-id="69b0c-237">Per creare correttamente icone a 32 bit, è necessario creare più immagini per ogni icona, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="69b0c-237">To author 32-bit icons correctly, you must create multiple images for each icon, as shown in the following illustration.</span></span>

![illustrazione che mostra tre dimensioni delle icone per ognuna delle tre profondità dei colori](images/theme2.png)

-   <span data-ttu-id="69b0c-239">Le prime tre immagini sono in modalità a 16 colori per l'uso in modalità provvisoria.</span><span class="sxs-lookup"><span data-stu-id="69b0c-239">The first three images are in 16-color mode for use in safe mode.</span></span>
-   <span data-ttu-id="69b0c-240">Le tre icone successive vengono usate in modalità colore 256.</span><span class="sxs-lookup"><span data-stu-id="69b0c-240">The next three icons are used in 256-color mode.</span></span>
-   <span data-ttu-id="69b0c-241">Le ultime tre icone hanno il canale alfa e possono essere usate solo nei sistemi operativi che eseguono un colore a 24 bit o superiore.</span><span class="sxs-lookup"><span data-stu-id="69b0c-241">The last three icons have the alpha channel and can be used only in operating systems running 24-bit color or higher.</span></span>
-   <span data-ttu-id="69b0c-242">L'ordine delle immagini nel formato dell'icona è rilevante.</span><span class="sxs-lookup"><span data-stu-id="69b0c-242">The order of images in the icon format does matter.</span></span> <span data-ttu-id="69b0c-243">Se l'ordine non è corretto, le versioni precedenti di Windows funzionano male quando si estraggono le icone.</span><span class="sxs-lookup"><span data-stu-id="69b0c-243">If the order is wrong, older versions of Windows function poorly when extracting the icons.</span></span> <span data-ttu-id="69b0c-244">L'estrazione errata delle icone può causare il danneggiamento della memoria e il rendering errato.</span><span class="sxs-lookup"><span data-stu-id="69b0c-244">Extracting the icons incorrectly can cause memory corruption and improper rendering.</span></span>
-   <span data-ttu-id="69b0c-245">Nelle versioni precedenti di Windows era presente un limite di risorse di 10 icone.</span><span class="sxs-lookup"><span data-stu-id="69b0c-245">Previous versions of Windows had a 10-icon resource limit.</span></span>

> [!Note]  
> <span data-ttu-id="69b0c-246">È possibile usare strumenti di terze parti per generare file di icona e bitmap contenenti un canale alfa.</span><span class="sxs-lookup"><span data-stu-id="69b0c-246">You can use third party tools to generate icon files and bitmaps that contain an alpha channel.</span></span> <span data-ttu-id="69b0c-247">Se si usa [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) per caricare una bitmap 32 BPP che contiene Alpha, è necessario specificare il flag LR \_ CREATEDIBSECTION.</span><span class="sxs-lookup"><span data-stu-id="69b0c-247">If you use [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) to load a 32 bpp bitmap that contains alpha, you need to specify the LR\_CREATEDIBSECTION flag.</span></span>

 

 

 