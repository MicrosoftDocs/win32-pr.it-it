---
title: Informazioni sui controlli Toolbar
description: Una barra degli strumenti è un controllo che contiene uno o più pulsanti.
ms.assetid: b5a00a81-8d23-4844-8b0a-776e7cceced8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 263d95b13ddee54561cf1b0bb9d003d5d34cdf8d
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "103963481"
---
# <a name="about-toolbar-controls"></a><span data-ttu-id="ed4cd-103">Informazioni sui controlli Toolbar</span><span class="sxs-lookup"><span data-stu-id="ed4cd-103">About Toolbar Controls</span></span>

<span data-ttu-id="ed4cd-104">Una barra degli strumenti è un controllo che contiene uno o più pulsanti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-104">A toolbar is a control that contains one or more buttons.</span></span> <span data-ttu-id="ed4cd-105">Ogni pulsante, quando viene fatto clic da un utente, invia un messaggio di comando alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-105">Each button, when clicked by a user, sends a command message to the parent window.</span></span> <span data-ttu-id="ed4cd-106">In genere, i pulsanti in una barra degli strumenti corrispondono agli elementi nel menu dell'applicazione e forniscono all'utente un ulteriore modo più diretto di accedere ai controlli di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-106">Typically, the buttons in a toolbar correspond to items in the application's menu, providing an additional and more direct way for the user to access an application's commands.</span></span>

<span data-ttu-id="ed4cd-107">Lo screenshot seguente mostra una finestra che contiene una semplice barra degli strumenti per le operazioni sui file.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-107">The following screen shot shows a window that contains a simple toolbar for file operations.</span></span> <span data-ttu-id="ed4cd-108">L'applicazione ha abilitato gli stili di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-108">The application has enabled visual styles.</span></span> <span data-ttu-id="ed4cd-109">Il pulsante Salva è "Hot" perché il cursore si trovava al passaggio del mouse al momento della cattura dello schermo.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-109">The Save button is "hot" because the cursor was hovering over it when the screen shot was taken.</span></span> <span data-ttu-id="ed4cd-110">L'aspetto effettivo del controllo varia a seconda del sistema operativo e del tema selezionato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-110">The actual appearance of the control varies depending on the operating system and the user-selected theme.</span></span>

![Screenshot di una finestra con una barra degli strumenti a tre pulsanti; un pulsante è attivo](images/tb-withstyles.png)

<span data-ttu-id="ed4cd-112">Lo screenshot seguente mostra lo stesso controllo in un'applicazione compilata senza gli stili visivi abilitati.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-112">The following screen shot shows the same control in an application that was compiled without visual styles enabled.</span></span>

![Screenshot di una finestra senza stili di visualizzazione: nessuno dei pulsanti sembra attivo](images/tb-wostyles.png)

<span data-ttu-id="ed4cd-114">Negli argomenti seguenti vengono illustrate le funzionalità da considerare durante la pianificazione di una barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-114">The following topics discuss features to consider when planning a toolbar.</span></span> <span data-ttu-id="ed4cd-115">Per informazioni specifiche sull'implementazione e il codice di esempio, vedere [uso dei controlli della barra degli strumenti](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-115">For specific information on implementation, and example code, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

-   [<span data-ttu-id="ed4cd-116">Impostazione delle dimensioni e della posizione della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-116">Specifying Toolbar Size and Position</span></span>](#specifying-toolbar-size-and-position)
-   [<span data-ttu-id="ed4cd-117">Barre degli strumenti trasparenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-117">Transparent Toolbars</span></span>](#transparent-toolbars)
-   [<span data-ttu-id="ed4cd-118">Barre degli strumenti di tipo elenco</span><span class="sxs-lookup"><span data-stu-id="ed4cd-118">List-style Toolbars</span></span>](#list-style-toolbars)
-   [<span data-ttu-id="ed4cd-119">Definizione di immagini di pulsanti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-119">Defining Button Images</span></span>](#defining-button-images)
    -   [<span data-ttu-id="ed4cd-120">Definizione delle immagini dei pulsanti tramite bitmap</span><span class="sxs-lookup"><span data-stu-id="ed4cd-120">Defining Button Images by Using Bitmaps</span></span>](#defining-button-images-by-using-bitmaps)
    -   [<span data-ttu-id="ed4cd-121">Definizione delle immagini dei pulsanti tramite elenchi di immagini</span><span class="sxs-lookup"><span data-stu-id="ed4cd-121">Defining Button Images by Using Image Lists</span></span>](#defining-button-images-by-using-image-lists)
-   [<span data-ttu-id="ed4cd-122">Definizione del testo per i pulsanti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-122">Defining Text for Buttons</span></span>](#defining-text-for-buttons)
-   [<span data-ttu-id="ed4cd-123">Aggiunta di pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-123">Adding Toolbar Buttons</span></span>](#adding-toolbar-buttons)
    -   [<span data-ttu-id="ed4cd-124">Stili del pulsante della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-124">Toolbar Button Styles</span></span>](#toolbar-button-styles)
    -   [<span data-ttu-id="ed4cd-125">Stati del pulsante della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-125">Toolbar Button States</span></span>](#toolbar-button-states)
    -   [<span data-ttu-id="ed4cd-126">Identificatore comando</span><span class="sxs-lookup"><span data-stu-id="ed4cd-126">Command Identifier</span></span>](#command-identifier)
    -   [<span data-ttu-id="ed4cd-127">Dimensioni e posizione del pulsante</span><span class="sxs-lookup"><span data-stu-id="ed4cd-127">Button Size and Position</span></span>](#button-size-and-position)
-   [<span data-ttu-id="ed4cd-128">Abilitazione della personalizzazione</span><span class="sxs-lookup"><span data-stu-id="ed4cd-128">Enabling Customization</span></span>](#enabling-customization)
-   [<span data-ttu-id="ed4cd-129">Abilitazione del rilevamento a caldo</span><span class="sxs-lookup"><span data-stu-id="ed4cd-129">Enabling Hot-tracking</span></span>](#enabling-hot-tracking)

## <a name="specifying-toolbar-size-and-position"></a><span data-ttu-id="ed4cd-130">Impostazione delle dimensioni e della posizione della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-130">Specifying Toolbar Size and Position</span></span>

<span data-ttu-id="ed4cd-131">Se si crea una barra degli strumenti usando [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), la funzione consente di specificare in pixel l'altezza e la larghezza della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-131">If you create a toolbar using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), the function enables you to specify in pixels the height and width of the toolbar.</span></span>

> [!Note]  
> <span data-ttu-id="ed4cd-132">L'uso di [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) non è consigliato, in quanto non supporta le nuove funzionalità delle barre degli strumenti, inclusi gli elenchi di immagini.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-132">Using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) is not recommended, as it does not support new features of toolbars, including image lists.</span></span> <span data-ttu-id="ed4cd-133">Per ulteriori informazioni sulla creazione di barre degli strumenti, vedere [utilizzo dei controlli della barra degli strumenti](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-133">For more information about creating toolbars, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

<span data-ttu-id="ed4cd-134">La funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) non dispone di parametri per specificare le dimensioni della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-134">The [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have parameters for specifying toolbar size.</span></span> <span data-ttu-id="ed4cd-135">La routine della finestra della barra degli strumenti imposta automaticamente le dimensioni e la posizione della finestra della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-135">The toolbar window procedure automatically sets the size and position of the toolbar window.</span></span> <span data-ttu-id="ed4cd-136">L'altezza è basata sull'altezza dei pulsanti nella barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-136">The height is based on the height of the buttons in the toolbar.</span></span> <span data-ttu-id="ed4cd-137">La larghezza corrisponde alla larghezza dell'area client della finestra padre.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-137">The width is the same as the width of the parent window's client area.</span></span> <span data-ttu-id="ed4cd-138">Per modificare le impostazioni di ridimensionamento automatico, inviare un messaggio [**TB \_ SETBUTTONSIZE**](tb-setbuttonsize.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-138">To change the automatic size settings, send a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span> <span data-ttu-id="ed4cd-139">Gli stili dei controlli comuni in [**\_ alto**](common-control-styles.md) e [**CCS in \_ basso**](common-control-styles.md) di CCS determinano se la barra degli strumenti è posizionata lungo la parte superiore o inferiore dell'area client.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-139">The [**CCS\_TOP**](common-control-styles.md) and [**CCS\_BOTTOM**](common-control-styles.md) common control styles determine whether the toolbar is positioned along the top or bottom of the client area.</span></span> <span data-ttu-id="ed4cd-140">Per impostazione predefinita, una barra degli strumenti ha lo stile **\_ principale CCS** .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-140">By default, a toolbar has the **CCS\_TOP** style.</span></span>

<span data-ttu-id="ed4cd-141">Inoltre, la routine della finestra della barra degli strumenti regola automaticamente le dimensioni della barra degli strumenti ogni volta che viene ricevuta una [**\_ dimensione WM**](/windows/desktop/winmsg/wm-size) o un messaggio di [**\_ ridimensionamento automatico TB**](tb-autosize.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-141">Also, the toolbar window procedure automatically adjusts the size of the toolbar whenever it receives a [**WM\_SIZE**](/windows/desktop/winmsg/wm-size) or [**TB\_AUTOSIZE**](tb-autosize.md) message.</span></span> <span data-ttu-id="ed4cd-142">Un'applicazione deve inviare uno di questi messaggi ogni volta che viene modificata la dimensione della finestra padre o dopo l'invio di un messaggio che richiede la regolazione della dimensione della barra degli strumenti, ad esempio un messaggio [**TB \_ SETBUTTONSIZE**](tb-setbuttonsize.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-142">An application should send either of these messages whenever the size of the parent window changes or after sending a message that requires adjusting the size of the toolbar—for example, a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span>

<span data-ttu-id="ed4cd-143">I comportamenti di ridimensionamento e posizionamento predefiniti della barra degli strumenti possono essere disattivati impostando gli stili dei controlli comuni di [**CCS \_ noresize**](common-control-styles.md) e [**CCS \_ NOPARENTALIGN**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-143">The toolbar default sizing and positioning behaviors can be turned off by setting the [**CCS\_NORESIZE**](common-control-styles.md) and [**CCS\_NOPARENTALIGN**](common-control-styles.md) common control styles.</span></span> <span data-ttu-id="ed4cd-144">I controlli della barra degli strumenti ospitati dai controlli Rebar devono impostare questi stili perché il controllo Rebar ridimensiona e posiziona la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-144">Toolbar controls that are hosted by rebar controls must set these styles because the rebar control sizes and positions the toolbar.</span></span>

## <a name="transparent-toolbars"></a><span data-ttu-id="ed4cd-145">Barre degli strumenti trasparenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-145">Transparent Toolbars</span></span>

<span data-ttu-id="ed4cd-146">I controlli Toolbar supportano un aspetto trasparente che consente di visualizzare l'area client sotto la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-146">Toolbar controls support a transparent look that allows the client area under the toolbar to show through.</span></span> <span data-ttu-id="ed4cd-147">Sono disponibili due tipi di barre degli strumenti trasparenti, ovvero i pulsanti flat e quelli con pulsanti tridimensionali.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-147">There are two kinds of transparent toolbars, ones with flat buttons and ones with three-dimensional buttons.</span></span> <span data-ttu-id="ed4cd-148">Se si desidera che l'applicazione corrisponda all'interfaccia di Windows, utilizzare la barra degli strumenti dello stile trasparente bidimensionale.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-148">If you want your application to match the Windows interface, use the flat transparent style toolbar.</span></span>

<span data-ttu-id="ed4cd-149">Lo screenshot seguente mostra i due tipi di barre degli strumenti trasparenti, non usando gli stili di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-149">The following screen shot shows the two kinds of transparent toolbars, not using visual styles.</span></span>

![Screenshot di due finestre con stili diversi delle barre degli strumenti, ma entrambe le barre degli strumenti sono trasparenti](images/toolbartrans.jpg)

<span data-ttu-id="ed4cd-151">Lo screenshot seguente mostra una barra degli strumenti trasparente come potrebbe apparire in Windows Vista, con gli stili di visualizzazione abilitati.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-151">The following screen shot shows a transparent toolbar as it might appear in Windows Vista, with visual styles enabled.</span></span> <span data-ttu-id="ed4cd-152">Il colore di sfondo della finestra di dialogo è stato modificato per rendere la trasparenza più ovvia.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-152">The background color of the dialog box has been changed to make the transparency more obvious.</span></span>

![Screenshot di una finestra di Windows Vista con una barra degli strumenti trasparente](images/tb-transparent.png)

<span data-ttu-id="ed4cd-154">Per creare una barra degli strumenti trasparente, è sufficiente aggiungere [**TBSTYLE \_ Flat**](toolbar-control-and-button-styles.md) o [**TBSTYLE \_ trasparente**](toolbar-control-and-button-styles.md) al parametro dello stile della finestra di [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-154">To create a transparent toolbar, all you need to do is add [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) or [**TBSTYLE\_TRANSPARENT**](toolbar-control-and-button-styles.md) to the window style parameter of [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span> <span data-ttu-id="ed4cd-155">Se non si desidera che venga visualizzata una riga per indicare la parte inferiore della barra degli strumenti, non utilizzare lo stile della finestra del [**\_ bordo WS**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-155">If you do not want a line to appear to indicate the bottom of the toolbar, do not use the [**WS\_BORDER**](/windows/desktop/winmsg/window-styles) window style.</span></span>

> [!Note]  
> <span data-ttu-id="ed4cd-156">Quando si utilizzano gli stili di visualizzazione, le barre degli strumenti possono essere flat per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-156">When using visual styles, toolbars may be flat by default.</span></span>

 

## <a name="list-style-toolbars"></a><span data-ttu-id="ed4cd-157">Barre degli strumenti di tipo elenco</span><span class="sxs-lookup"><span data-stu-id="ed4cd-157">List-style Toolbars</span></span>

<span data-ttu-id="ed4cd-158">I pulsanti della barra degli strumenti consentono di visualizzare sia testo che bitmap.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-158">Toolbar buttons enable you to display both text and bitmaps.</span></span> <span data-ttu-id="ed4cd-159">I pulsanti di una barra degli strumenti creata con lo stile dell' [**\_ elenco TBSTYLE**](toolbar-control-and-button-styles.md) posizionano il testo a destra della bitmap anziché al suo interno.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-159">The buttons on a toolbar created with the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) style place text to the right of the bitmap instead of under it.</span></span>

<span data-ttu-id="ed4cd-160">Lo screenshot seguente mostra una barra degli strumenti con lo stile dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-160">The following screen shot shows a toolbar with the list style.</span></span>

![Screenshot di una barra degli strumenti con testo a destra di ogni icona](images/tb-liststyle.png)

<span data-ttu-id="ed4cd-162">Per creare una barra degli strumenti con pulsanti flat, è possibile utilizzare lo stile della barra degli strumenti [**\_ elenco TBSTYLE**](toolbar-control-and-button-styles.md) in combinazione con lo stile [**TBSTYLE \_ Flat**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-162">You can use the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) toolbar style in combination with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style to create a toolbar with flat buttons.</span></span>

## <a name="defining-button-images"></a><span data-ttu-id="ed4cd-163">Definizione di immagini di pulsanti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-163">Defining Button Images</span></span>

<span data-ttu-id="ed4cd-164">Esistono due modi per specificare le immagini per i pulsanti, da bitmap o da elenchi di immagini.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-164">There are two ways to specify the images for buttons—by bitmaps or by image lists.</span></span> <span data-ttu-id="ed4cd-165">Un'applicazione deve scegliere il metodo da usare.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-165">An application must choose which method to use.</span></span> <span data-ttu-id="ed4cd-166">Non può usare entrambi i metodi con lo stesso controllo Toolbar.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-166">It cannot use both methods with the same toolbar control.</span></span> <span data-ttu-id="ed4cd-167">Si noti che la funzione [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) usa il metodo bitmap.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-167">Note that the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function uses the bitmap method.</span></span> <span data-ttu-id="ed4cd-168">Per creare il controllo Toolbar, le applicazioni che desiderano utilizzare il metodo Image List devono utilizzare la funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-168">Applications that want to use the image list method must use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create the toolbar control.</span></span>

### <a name="defining-button-images-by-using-bitmaps"></a><span data-ttu-id="ed4cd-169">Definizione delle immagini dei pulsanti tramite bitmap</span><span class="sxs-lookup"><span data-stu-id="ed4cd-169">Defining Button Images by Using Bitmaps</span></span>

<span data-ttu-id="ed4cd-170">Ogni pulsante di una barra degli strumenti può includere un'immagine bitmap.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-170">Each button in a toolbar can include a bitmapped image.</span></span> <span data-ttu-id="ed4cd-171">Una barra degli strumenti usa un elenco interno per archiviare le informazioni necessarie per creare le immagini.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-171">A toolbar uses an internal list to store the information that it needs to draw the images.</span></span> <span data-ttu-id="ed4cd-172">Quando si chiama la funzione [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) , si specifica una bitmap a colori o monocromia che contiene le immagini iniziali e la barra degli strumenti aggiunge le informazioni all'elenco interno di immagini.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-172">When you call the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function, you specify a monochrome or color bitmap that contains the initial images, and the toolbar adds the information to the internal list of images.</span></span> <span data-ttu-id="ed4cd-173">È possibile aggiungere altre immagini in un secondo momento usando il messaggio [**TB \_ ADDBITMAP**](tb-addbitmap.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-173">You can add additional images later by using the [**TB\_ADDBITMAP**](tb-addbitmap.md) message.</span></span>

<span data-ttu-id="ed4cd-174">Ogni immagine ha un indice in base zero.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-174">Each image has a zero-based index.</span></span> <span data-ttu-id="ed4cd-175">La prima immagine aggiunta all'elenco interno ha un indice pari a 0, la seconda immagine ha un indice 1 e così via.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-175">The first image added to the internal list has an index of 0, the second image has an index of 1, and so on.</span></span> <span data-ttu-id="ed4cd-176">[**TB \_ ADDBITMAP**](tb-addbitmap.md) aggiunge immagini alla fine dell'elenco e restituisce l'indice della prima nuova immagine aggiunta.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-176">[**TB\_ADDBITMAP**](tb-addbitmap.md) adds images to the end of the list and returns the index of the first new image that it added.</span></span> <span data-ttu-id="ed4cd-177">Per associare l'immagine a un pulsante, è necessario inviare un messaggio [**TB \_ ADDBUTTONS**](tb-addbuttons.md) e specificare l'indice dell'immagine dopo aver aggiunto le bitmap all'elenco di immagini interno.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-177">To associate the image with a button, you must send a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message and specify the image's index after you add bitmaps to the internal image list.</span></span>

<span data-ttu-id="ed4cd-178">Windows presuppone che tutte le immagini bitmap di una barra degli strumenti abbiano le stesse dimensioni.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-178">Windows assumes that all of a toolbar's bitmapped images are the same size.</span></span> <span data-ttu-id="ed4cd-179">Specificare le dimensioni quando si crea la barra degli strumenti usando [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-179">You specify the size when you create the toolbar by using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span></span> <span data-ttu-id="ed4cd-180">Se si utilizza la funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) per creare una barra degli strumenti, le dimensioni delle immagini vengono impostate sulle dimensioni predefinite di 16 per 15 pixel.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-180">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, the size of the images is set to the default dimensions of 16 by 15 pixels.</span></span> <span data-ttu-id="ed4cd-181">È possibile utilizzare il messaggio [**TB \_ SETBITMAPSIZE**](tb-setbitmapsize.md) per modificare le dimensioni delle immagini bitmap, ma è necessario eseguire questa operazione prima di aggiungere immagini all'elenco interno.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-181">You can use the [**TB\_SETBITMAPSIZE**](tb-setbitmapsize.md) message to change the dimensions of the bitmapped images, but you must do so before adding any images to the internal list.</span></span>

### <a name="defining-button-images-by-using-image-lists"></a><span data-ttu-id="ed4cd-182">Definizione delle immagini dei pulsanti tramite elenchi di immagini</span><span class="sxs-lookup"><span data-stu-id="ed4cd-182">Defining Button Images by Using Image Lists</span></span>

<span data-ttu-id="ed4cd-183">È anche possibile archiviare le immagini dei pulsanti in un set di [elenchi di immagini](image-lists.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-183">You can also store button images in a set of [Image Lists](image-lists.md).</span></span> <span data-ttu-id="ed4cd-184">Un elenco di immagini è una raccolta di immagini della stessa dimensione, a cui è possibile fare riferimento in base al relativo indice.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-184">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="ed4cd-185">Gli elenchi di immagini vengono usati per gestire grandi set di icone o bitmap.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-185">Image lists are used to manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="ed4cd-186">È possibile utilizzare fino a tre diversi elenchi di immagini per visualizzare i pulsanti in diversi Stati, come illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-186">You can use up to three different image lists to display buttons in various states, as shown in the following table.</span></span>



|          |                                                                                                                                                                                              |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="ed4cd-187">Normale</span><span class="sxs-lookup"><span data-stu-id="ed4cd-187">Normal</span></span>   | <span data-ttu-id="ed4cd-188">Pulsanti nello stato predefinito.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-188">Buttons in their default state.</span></span>                                                                                                                                                              |
| <span data-ttu-id="ed4cd-189">Accesso frequente</span><span class="sxs-lookup"><span data-stu-id="ed4cd-189">Hot</span></span>      | <span data-ttu-id="ed4cd-190">Pulsanti sotto il puntatore o premuti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-190">Buttons that are under the pointer or pressed.</span></span> <span data-ttu-id="ed4cd-191">Gli elementi sensibili sono supportati solo nei controlli della barra degli strumenti con stile [**TBSTYLE \_ Flat**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-191">Hot items are supported only in toolbar controls that have the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style.</span></span> |
| <span data-ttu-id="ed4cd-192">Disabled</span><span class="sxs-lookup"><span data-stu-id="ed4cd-192">Disabled</span></span> | <span data-ttu-id="ed4cd-193">Pulsanti disabilitati.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-193">Buttons that are disabled.</span></span>                                                                                                                                                                   |



 

<span data-ttu-id="ed4cd-194">Dopo la distruzione della barra degli strumenti, le applicazioni devono liberare tutti gli elenchi di immagini creati.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-194">After the toolbar is destroyed, applications must free any image lists they have created.</span></span>

## <a name="defining-text-for-buttons"></a><span data-ttu-id="ed4cd-195">Definizione del testo per i pulsanti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-195">Defining Text for Buttons</span></span>

<span data-ttu-id="ed4cd-196">Ogni pulsante può visualizzare una stringa oltre a un'immagine o anziché un'immagine.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-196">Each button can display a string in addition to, or instead of, an image.</span></span> <span data-ttu-id="ed4cd-197">Una barra degli strumenti gestisce un elenco interno contenente tutte le stringhe disponibili per i pulsanti della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-197">A toolbar maintains an internal list that contains all the strings available to toolbar buttons.</span></span> <span data-ttu-id="ed4cd-198">Per aggiungere stringhe all'elenco interno, è possibile usare il messaggio [**TB \_ ADDSTRING**](tb-addstring.md) , specificando l'indirizzo del buffer contenente le stringhe da aggiungere.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-198">You add strings to the internal list by using the [**TB\_ADDSTRING**](tb-addstring.md) message, specifying the address of the buffer containing the strings to add.</span></span> <span data-ttu-id="ed4cd-199">Ogni stringa deve avere terminazione null e l'ultima stringa deve terminare con due caratteri null.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-199">Each string must be null-terminated, and the last string must be terminated with two null characters.</span></span>

<span data-ttu-id="ed4cd-200">Ogni stringa ha un indice in base zero.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-200">Each string has a zero-based index.</span></span> <span data-ttu-id="ed4cd-201">La prima stringa aggiunta all'elenco interno di stringhe ha un indice pari a 0, la seconda stringa ha un indice 1 e così via.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-201">The first string added to the internal list of strings has an index of 0, the second string has an index of 1, and so on.</span></span> <span data-ttu-id="ed4cd-202">[**TB \_ ADDSTRING**](tb-addstring.md) aggiunge stringhe alla fine dell'elenco e restituisce l'indice della prima nuova stringa.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-202">[**TB\_ADDSTRING**](tb-addstring.md) adds strings to the end of the list and returns the index of the first new string.</span></span> <span data-ttu-id="ed4cd-203">Usare un indice di stringa per associare la stringa a un pulsante.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-203">You use a string's index to associate the string with a button.</span></span>

<span data-ttu-id="ed4cd-204">L'uso di [**TB \_ ADDSTRING**](tb-addstring.md) non è l'unico modo per aggiungere stringhe a una barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-204">Using [**TB\_ADDSTRING**](tb-addstring.md) is not the only way to add strings to a toolbar.</span></span> <span data-ttu-id="ed4cd-205">È possibile visualizzare una stringa in un pulsante passando un puntatore di stringa **nel membro della** struttura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) passato a [**TB \_ ADDBUTTONS**](tb-addbuttons.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-205">You can display a string in a button by passing a string pointer in the **iString** member of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure that is passed to [**TB\_ADDBUTTONS**](tb-addbuttons.md).</span></span> <span data-ttu-id="ed4cd-206">Inoltre, è possibile utilizzare [**TB \_ SETBUTTONINFO**](tb-setbuttoninfo.md) per assegnare testo a un pulsante della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-206">Additionally, you can use [**TB\_SETBUTTONINFO**](tb-setbuttoninfo.md) to assign text to a toolbar button.</span></span>

## <a name="adding-toolbar-buttons"></a><span data-ttu-id="ed4cd-207">Aggiunta di pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-207">Adding Toolbar Buttons</span></span>

<span data-ttu-id="ed4cd-208">Se si utilizza la funzione [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) per creare una barra degli strumenti, è possibile aggiungere pulsanti alla barra degli strumenti compilando una matrice di strutture [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) e specificando l'indirizzo della matrice nella chiamata di funzione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-208">If you use the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function to create a toolbar, you can add buttons to the toolbar by filling an array of [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structures and specifying the address of the array in the function call.</span></span> <span data-ttu-id="ed4cd-209">Tuttavia, la funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) non dispone di un parametro per il passaggio di una struttura **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-209">However, the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have a parameter for passing a **TBBUTTON** structure.</span></span> <span data-ttu-id="ed4cd-210">**CreateWindowEx** crea una barra degli strumenti vuota che si compila inviando un messaggio [**TB \_ ADDBUTTONS**](tb-addbuttons.md) , specificando l'indirizzo di una struttura **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-210">**CreateWindowEx** creates an empty toolbar that you fill by sending a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message, specifying the address of a **TBBUTTON** structure.</span></span>

<span data-ttu-id="ed4cd-211">Dopo la creazione di una barra degli strumenti, è possibile aggiungere i pulsanti inviando un messaggio [**TB \_ INSERTBUTTON**](tb-insertbutton.md) o [**TB \_ ADDBUTTONS**](tb-addbuttons.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-211">After a toolbar is created, you can add buttons by sending a [**TB\_INSERTBUTTON**](tb-insertbutton.md) or [**TB\_ADDBUTTONS**](tb-addbuttons.md) message.</span></span> <span data-ttu-id="ed4cd-212">Ogni pulsante è descritto da una struttura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) , che definisce gli attributi del pulsante, inclusi gli indici della relativa stringa e della bitmap, nonché il relativo stile, lo stato, l'identificatore di comando e il valore a 32 bit definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-212">Each button is described by a [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure, which defines the attributes of the button, including the indexes of its string and bitmap as well as its style, state, command identifier, and application-defined 32-bit value.</span></span>

> [!Note]  
> <span data-ttu-id="ed4cd-213">Se si usa la funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) per creare una barra degli strumenti, è necessario inviare il messaggio [**TB \_ BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) prima di aggiungere i pulsanti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-213">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, you must send the [**TB\_BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) message before adding any buttons.</span></span> <span data-ttu-id="ed4cd-214">Il messaggio passa la dimensione della struttura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) alla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-214">The message passes the size of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure to the toolbar.</span></span>

 

### <a name="toolbar-button-styles"></a><span data-ttu-id="ed4cd-215">Stili del pulsante della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-215">Toolbar Button Styles</span></span>

<span data-ttu-id="ed4cd-216">Lo stile di un pulsante determina come viene visualizzato il pulsante e come risponde all'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-216">A button's style determines how the button appears and how it responds to user input.</span></span> <span data-ttu-id="ed4cd-217">Ad esempio, lo stile del [**\_ pulsante BTNS**](toolbar-control-and-button-styles.md) crea un pulsante della barra degli strumenti che si comporta come un pulsante di push standard.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-217">For instance, the [**BTNS\_BUTTON**](toolbar-control-and-button-styles.md) style creates a toolbar button that behaves like a standard push button.</span></span> <span data-ttu-id="ed4cd-218">Un pulsante con lo stile [**di \_ Verifica BTNS**](toolbar-control-and-button-styles.md) è simile a un pulsante di push standard, ad eccezione del fatto che viene attivato o disattivato ogni volta che l'utente fa clic su di esso.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-218">A button that has the [**BTNS\_CHECK**](toolbar-control-and-button-styles.md) style is similar to a standard push button, except it toggles between the pressed and nonpressed states each time the user clicks it.</span></span>

<span data-ttu-id="ed4cd-219">È possibile creare gruppi di pulsanti della barra degli strumenti che fungono da pulsanti di opzione usando il [**\_ gruppo BTNS**](toolbar-control-and-button-styles.md) o lo stile [**BTNS \_ CHECKGROUP**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-219">You can create groups of toolbar buttons that act like radio buttons by using the [**BTNS\_GROUP**](toolbar-control-and-button-styles.md) or [**BTNS\_CHECKGROUP**](toolbar-control-and-button-styles.md) style.</span></span> <span data-ttu-id="ed4cd-220">In questo modo un pulsante rimane premuto fino a quando l'utente non sceglie un altro pulsante nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-220">This causes a button to stay pressed until the user chooses another button in the group.</span></span> <span data-ttu-id="ed4cd-221">Un gruppo viene definito come raccolta contigua di pulsanti, tutti con lo **stile \_ gruppo BTNS** o **BTNS \_ CHECKGROUP** .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-221">A group is defined as a contiguous collection of buttons, all with the **BTNS\_GROUP** or **BTNS\_CHECKGROUP** style.</span></span>

<span data-ttu-id="ed4cd-222">Lo stile [**BTNS \_ Sep**](toolbar-control-and-button-styles.md) crea un piccolo divario tra i pulsanti o disegna un etch tra i pulsanti sulle barre degli strumenti semplici.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-222">The [**BTNS\_SEP**](toolbar-control-and-button-styles.md) style creates a small gap between buttons or draws an etch between buttons on flat toolbars.</span></span> <span data-ttu-id="ed4cd-223">Un pulsante con lo stile **BTNS \_ Sep** non riceve l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-223">A button with the **BTNS\_SEP** style does not receive user input.</span></span>

<span data-ttu-id="ed4cd-224">Nella versione 5,80 dei controlli comuni sono stati introdotti alcuni nuovi stili di pulsanti della barra degli strumenti e sono stati rinominati alcuni degli stili precedenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-224">Version 5.80 of the common controls introduced some new toolbar button styles and renamed some of the older styles.</span></span> <span data-ttu-id="ed4cd-225">Tutti i flag di stile dei pulsanti iniziano ora con BTNS \_ XXX anziché TBSTYLE \_ xxx.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-225">All button style flags now begin with BTNS\_XXX instead of TBSTYLE\_XXX.</span></span> <span data-ttu-id="ed4cd-226">Per un elenco e una discussione sugli stili dei pulsanti, vedere [stili di controllo e di pulsante della barra degli strumenti](toolbar-control-and-button-styles.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-226">For a listing and discussion of the button styles, see [Toolbar Control and Button Styles](toolbar-control-and-button-styles.md).</span></span>

### <a name="toolbar-button-states"></a><span data-ttu-id="ed4cd-227">Stati del pulsante della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="ed4cd-227">Toolbar Button States</span></span>

<span data-ttu-id="ed4cd-228">Ogni pulsante di una barra degli strumenti ha uno stato.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-228">Each button in a toolbar has a state.</span></span> <span data-ttu-id="ed4cd-229">La barra degli strumenti Aggiorna lo stato di un pulsante in modo da riflettere le azioni dell'utente, ad esempio facendo clic sul pulsante.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-229">The toolbar updates a button's state to reflect user actions, such as clicking the button.</span></span> <span data-ttu-id="ed4cd-230">Lo stato indica se il pulsante è attualmente premuto o non premuto, abilitato o disabilitato, nascosto o visibile.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-230">The state indicates whether the button is currently pressed or not pressed, enabled or disabled, hidden or visible.</span></span> <span data-ttu-id="ed4cd-231">Anche se un'applicazione imposta lo stato iniziale di un pulsante quando si aggiunge il pulsante alla barra degli strumenti, può modificare e recuperare lo stato inviando i messaggi di stato di [**TB \_ GetState**](tb-getstate.md) e [**TB \_**](tb-setstate.md) alla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-231">Although an application sets a button's initial state when adding the button to the toolbar, it can change and retrieve the state by sending [**TB\_GETSTATE**](tb-getstate.md) and [**TB\_SETSTATE**](tb-setstate.md) messages to the toolbar.</span></span> <span data-ttu-id="ed4cd-232">Per un elenco degli Stati dei pulsanti della barra degli strumenti, vedere [Stati della barra degli strumenti](toolbar-button-states.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-232">For a list of toolbar button states, see [Toolbar States](toolbar-button-states.md).</span></span>

### <a name="command-identifier"></a><span data-ttu-id="ed4cd-233">Identificatore comando</span><span class="sxs-lookup"><span data-stu-id="ed4cd-233">Command Identifier</span></span>

<span data-ttu-id="ed4cd-234">A ogni pulsante è associato un identificatore di comando definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-234">Each button has an application-defined command identifier associated with it.</span></span> <span data-ttu-id="ed4cd-235">Gli identificatori di pulsante vengono in genere definiti in un file di intestazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-235">Button identifiers are usually defined in an application header file.</span></span> <span data-ttu-id="ed4cd-236">Ad esempio, un pulsante Incolla può essere definito come segue:</span><span class="sxs-lookup"><span data-stu-id="ed4cd-236">For example, a Paste button can be defined as:</span></span>


```
#define ID_PASTE 100
```



<span data-ttu-id="ed4cd-237">Quando l'utente seleziona un pulsante, la barra degli strumenti Invia alla finestra padre un [**\_ comando WM**](/windows/desktop/menurc/wm-command) o un messaggio di [**\_ notifica WM**](wm-notify.md) che include l'identificatore del comando del pulsante.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-237">When the user selects a button, the toolbar sends the parent window a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) message that includes the command identifier of the button.</span></span> <span data-ttu-id="ed4cd-238">La finestra padre esamina l'identificatore del comando ed esegue il comando associato al pulsante.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-238">The parent window examines the command identifier and carries out the command associated with the button.</span></span> <span data-ttu-id="ed4cd-239">Per informazioni su quando i controlli inviano i messaggi di **\_ comando WM** e quando inviano una **\_ notifica WM**, vedere la sezione Osservazioni della documentazione di [**WM \_ Notify**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-239">For information about when controls send **WM\_COMMAND** messages and when they send **WM\_NOTIFY**, see the Remarks section of the [**WM\_NOTIFY**](wm-notify.md) documentation.</span></span>

### <a name="button-size-and-position"></a><span data-ttu-id="ed4cd-240">Dimensioni e posizione del pulsante</span><span class="sxs-lookup"><span data-stu-id="ed4cd-240">Button Size and Position</span></span>

<span data-ttu-id="ed4cd-241">Una barra degli strumenti tiene traccia dei pulsanti assegnando ogni pulsante a un indice di posizione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-241">A toolbar keeps track of its buttons by assigning each button a position index.</span></span> <span data-ttu-id="ed4cd-242">L'indice è in base zero; ovvero, il pulsante a sinistra ha un indice pari a 0, il pulsante avanti a destra ha un indice 1 e così via.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-242">The index is zero-based; that is, the leftmost button has an index of 0, the next button to the right has an index of 1, and so on.</span></span> <span data-ttu-id="ed4cd-243">Quando si inviano messaggi per recuperare informazioni sul pulsante o per impostare gli attributi del pulsante, un'applicazione deve specificare l'indice di un pulsante.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-243">An application must specify the index of a button when sending messages to retrieve information about the button or to set the button's attributes.</span></span>

<span data-ttu-id="ed4cd-244">Una barra degli strumenti Aggiorna gli indici di posizione durante l'inserimento e la rimozione dei pulsanti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-244">A toolbar updates the position indexes as buttons are inserted and removed.</span></span> <span data-ttu-id="ed4cd-245">Un'applicazione può recuperare l'indice di posizione corrente di un pulsante usando il messaggio [**TB \_ COMMANDTOINDEX**](tb-commandtoindex.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-245">An application can retrieve the current position index of a button by using the [**TB\_COMMANDTOINDEX**](tb-commandtoindex.md) message.</span></span> <span data-ttu-id="ed4cd-246">Il messaggio specifica l'identificatore del comando di un pulsante e la finestra della barra degli strumenti usa l'identificatore per individuare il pulsante e restituire il relativo indice di posizione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-246">The message specifies the command identifier of a button, and the toolbar window uses the identifier to locate the button and return its position index.</span></span>

<span data-ttu-id="ed4cd-247">Tutti i pulsanti di una barra degli strumenti hanno le stesse dimensioni.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-247">All buttons in a toolbar are the same size.</span></span> <span data-ttu-id="ed4cd-248">Per la funzione [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) è necessario impostare la dimensione iniziale dei pulsanti quando si crea la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-248">The [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function requires you to set the initial size of the buttons when you create the toolbar.</span></span> <span data-ttu-id="ed4cd-249">Quando si utilizza la funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , le dimensioni iniziali vengono impostate sulle dimensioni predefinite di 24 per 22 pixel.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-249">When you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, the initial size is set to the default dimensions of 24 by 22 pixels.</span></span> <span data-ttu-id="ed4cd-250">È possibile utilizzare il messaggio [**TB \_ SETBUTTONSIZE**](tb-setbuttonsize.md) per modificare le dimensioni del pulsante, ma è necessario eseguire questa operazione prima di aggiungere pulsanti alla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-250">You can use the [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message to change the button size, but you must do so before adding any buttons to the toolbar.</span></span> <span data-ttu-id="ed4cd-251">Il messaggio [**TB \_ GETITEMRECT**](tb-getitemrect.md) recupera le dimensioni correnti dei pulsanti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-251">The [**TB\_GETITEMRECT**](tb-getitemrect.md) message retrieves the current dimensions of the buttons.</span></span>

<span data-ttu-id="ed4cd-252">Quando si aggiunge una stringa più lunga di una stringa che attualmente si trova nella barra degli strumenti, la barra degli strumenti Reimposta automaticamente la larghezza dei pulsanti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-252">When you add a string that is longer than any string currently in the toolbar, the toolbar automatically resets the width of its buttons.</span></span> <span data-ttu-id="ed4cd-253">La larghezza viene impostata in modo da contenere la stringa più estesa sulla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-253">The width is set to accommodate the longest string in the toolbar.</span></span>

## <a name="enabling-customization"></a><span data-ttu-id="ed4cd-254">Abilitazione della personalizzazione</span><span class="sxs-lookup"><span data-stu-id="ed4cd-254">Enabling Customization</span></span>

<span data-ttu-id="ed4cd-255">Una barra degli strumenti include funzionalità di personalizzazione predefinite che è possibile rendere disponibili all'utente assegnando alla barra degli strumenti lo stile di controllo comune [**\_ regolabile da CCS**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-255">A toolbar has built-in customization features that you can make available to the user by giving the toolbar the [**CCS\_ADJUSTABLE**](common-control-styles.md) common control style.</span></span> <span data-ttu-id="ed4cd-256">Le funzionalità di personalizzazione consentono all'utente di trascinare un pulsante in una nuova posizione o di rimuovere un pulsante trascinandolo dalla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-256">The customization features allow the user to drag a button to a new position or to remove a button by dragging it off the toolbar.</span></span> <span data-ttu-id="ed4cd-257">L'utente può anche fare doppio clic sulla barra degli strumenti per visualizzare la finestra di dialogo Personalizza barra degli strumenti, che consente di aggiungere, eliminare e riordinare i pulsanti della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-257">In addition, the user can double-click the toolbar to display the Customize Toolbar dialog box, which allows the user to add, delete, and rearrange toolbar buttons.</span></span> <span data-ttu-id="ed4cd-258">Per visualizzare la finestra di dialogo, utilizzare il messaggio di [**\_ personalizzazione TB**](tb-customize.md) .</span><span class="sxs-lookup"><span data-stu-id="ed4cd-258">To display the dialog box, use the [**TB\_CUSTOMIZE**](tb-customize.md) message.</span></span> <span data-ttu-id="ed4cd-259">Un'applicazione determina se le funzionalità di personalizzazione sono disponibili all'utente e controlla l'ambito in cui l'utente può personalizzare la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-259">An application determines whether the customization features are available to the user and controls the extent to which the user can customize the toolbar.</span></span>

<span data-ttu-id="ed4cd-260">Come parte del processo di personalizzazione, le applicazioni devono spesso salvare e ripristinare lo stato di una barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-260">As part of the customization process, applications often need to save and restore a toolbar's state.</span></span> <span data-ttu-id="ed4cd-261">In molte applicazioni, ad esempio, lo stato della barra degli strumenti viene archiviato prima che l'utente inizi a personalizzare la barra degli strumenti nel caso in cui l'utente voglia ripristinare lo stato originale della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-261">For instance, many applications store the toolbar state before the user begins customizing the toolbar in case the user later wants to restore the toolbar to its original state.</span></span> <span data-ttu-id="ed4cd-262">Il controllo Toolbar non mantiene automaticamente un record dello stato di prepersonalizzazione.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-262">The toolbar control does not automatically keep a record of its precustomization state.</span></span> <span data-ttu-id="ed4cd-263">Per eseguire il ripristino, è necessario che l'applicazione salvi lo stato della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-263">Your application must save the toolbar state in order to restore it.</span></span> <span data-ttu-id="ed4cd-264">Per ulteriori informazioni, vedere [utilizzo dei controlli della barra degli strumenti](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-264">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

## <a name="enabling-hot-tracking"></a><span data-ttu-id="ed4cd-265">Abilitazione del rilevamento a caldo</span><span class="sxs-lookup"><span data-stu-id="ed4cd-265">Enabling Hot-tracking</span></span>

<span data-ttu-id="ed4cd-266">Il rilevamento a caldo indica che quando il puntatore viene spostato su un elemento, l'aspetto del pulsante cambia.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-266">Hot-tracking means that when the pointer moves over an item, the button's appearance changes.</span></span> <span data-ttu-id="ed4cd-267">Quando gli stili di visualizzazione sono abilitati, le barre degli strumenti supportano il rilevamento a caldo per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-267">When visual styles are enabled, toolbars support hot-tracking by default.</span></span> <span data-ttu-id="ed4cd-268">In caso contrario, solo i controlli della barra degli strumenti creati con lo stile [**TBSTYLE \_ Flat**](toolbar-control-and-button-styles.md) supportano il rilevamento a caldo.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-268">Otherwise, only toolbar controls created with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style support hot-tracking.</span></span> <span data-ttu-id="ed4cd-269">È possibile usare altri stili di finestra in combinazione con **TBSTYLE \_ Flat** per produrre barre degli strumenti che consentono il rilevamento a caldo ma hanno un aspetto diverso da una barra degli strumenti piatta.</span><span class="sxs-lookup"><span data-stu-id="ed4cd-269">You can use other window styles in combination with **TBSTYLE\_FLAT** to produce toolbars that enable hot-tracking but have a different appearance from a flat toolbar.</span></span> <span data-ttu-id="ed4cd-270">Per ulteriori informazioni, vedere [utilizzo dei controlli della barra degli strumenti](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="ed4cd-270">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

 