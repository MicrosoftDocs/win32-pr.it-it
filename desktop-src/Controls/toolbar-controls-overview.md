---
title: Informazioni sui controlli barra degli strumenti
description: Una barra degli strumenti è un controllo che contiene uno o più pulsanti.
ms.assetid: b5a00a81-8d23-4844-8b0a-776e7cceced8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6f615da972f14bb88c4915504c089dd6b40d9aca
ms.sourcegitcommit: 0f7a8198bacd5493ab1e78a9583c7a3578794765
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/25/2021
ms.locfileid: "110424151"
---
# <a name="about-toolbar-controls"></a><span data-ttu-id="80467-103">Informazioni sui controlli barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-103">About Toolbar Controls</span></span>

<span data-ttu-id="80467-104">Una barra degli strumenti è un controllo che contiene uno o più pulsanti.</span><span class="sxs-lookup"><span data-stu-id="80467-104">A toolbar is a control that contains one or more buttons.</span></span> <span data-ttu-id="80467-105">Ogni pulsante, quando viene selezionato da un utente, invia un messaggio di comando alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="80467-105">Each button, when clicked by a user, sends a command message to the parent window.</span></span> <span data-ttu-id="80467-106">In genere, i pulsanti in una barra degli strumenti corrispondono agli elementi nel menu dell'applicazione e forniscono all'utente un ulteriore modo più diretto di accedere ai controlli di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="80467-106">Typically, the buttons in a toolbar correspond to items in the application's menu, providing an additional and more direct way for the user to access an application's commands.</span></span>

<span data-ttu-id="80467-107">Lo screenshot seguente mostra una finestra che contiene una barra degli strumenti semplice per le operazioni sui file.</span><span class="sxs-lookup"><span data-stu-id="80467-107">The following screen shot shows a window that contains a simple toolbar for file operations.</span></span> <span data-ttu-id="80467-108">L'applicazione ha abilitato gli stili di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="80467-108">The application has enabled visual styles.</span></span> <span data-ttu-id="80467-109">Il pulsante Salva è "hot" perché il cursore era posizionato su di esso quando è stata ripresa la schermata.</span><span class="sxs-lookup"><span data-stu-id="80467-109">The Save button is "hot" because the cursor was hovering over it when the screen shot was taken.</span></span> <span data-ttu-id="80467-110">L'aspetto effettivo del controllo varia a seconda del sistema operativo e del tema selezionato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="80467-110">The actual appearance of the control varies depending on the operating system and the user-selected theme.</span></span>

![screenshot di una finestra con una barra degli strumenti a tre pulsanti; un pulsante è a caldo](images/tb-withstyles.png)

<span data-ttu-id="80467-112">La schermata seguente mostra lo stesso controllo in un'applicazione compilata senza gli stili di visualizzazione abilitati.</span><span class="sxs-lookup"><span data-stu-id="80467-112">The following screen shot shows the same control in an application that was compiled without visual styles enabled.</span></span>

![Screenshot di una finestra senza stili di visualizzazione: nessuno dei pulsanti ha un aspetto caldo](images/tb-wostyles.png)

<span data-ttu-id="80467-114">Negli argomenti seguenti vengono illustrate le funzionalità da considerare durante la pianificazione di una barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-114">The following topics discuss features to consider when planning a toolbar.</span></span> <span data-ttu-id="80467-115">Per informazioni specifiche sull'implementazione e sul codice di esempio, vedere [Uso dei controlli barra degli strumenti](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="80467-115">For specific information on implementation, and example code, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

-   [<span data-ttu-id="80467-116">Specifica delle dimensioni e della posizione della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-116">Specifying Toolbar Size and Position</span></span>](#specifying-toolbar-size-and-position)
-   [<span data-ttu-id="80467-117">Barre degli strumenti trasparenti</span><span class="sxs-lookup"><span data-stu-id="80467-117">Transparent Toolbars</span></span>](#transparent-toolbars)
-   [<span data-ttu-id="80467-118">Barre degli strumenti in stile elenco</span><span class="sxs-lookup"><span data-stu-id="80467-118">List-style Toolbars</span></span>](#list-style-toolbars)
-   [<span data-ttu-id="80467-119">Definizione delle immagini dei pulsanti</span><span class="sxs-lookup"><span data-stu-id="80467-119">Defining Button Images</span></span>](#defining-button-images)
    -   [<span data-ttu-id="80467-120">Definizione di immagini pulsante tramite bitmap</span><span class="sxs-lookup"><span data-stu-id="80467-120">Defining Button Images by Using Bitmaps</span></span>](#defining-button-images-by-using-bitmaps)
    -   [<span data-ttu-id="80467-121">Definizione di immagini pulsante tramite elenchi di immagini</span><span class="sxs-lookup"><span data-stu-id="80467-121">Defining Button Images by Using Image Lists</span></span>](#defining-button-images-by-using-image-lists)
-   [<span data-ttu-id="80467-122">Definizione del testo per i pulsanti</span><span class="sxs-lookup"><span data-stu-id="80467-122">Defining Text for Buttons</span></span>](#defining-text-for-buttons)
-   [<span data-ttu-id="80467-123">Aggiunta di pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-123">Adding Toolbar Buttons</span></span>](#adding-toolbar-buttons)
    -   [<span data-ttu-id="80467-124">Stili dei pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-124">Toolbar Button Styles</span></span>](#toolbar-button-styles)
    -   [<span data-ttu-id="80467-125">Stati dei pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-125">Toolbar Button States</span></span>](#toolbar-button-states)
    -   [<span data-ttu-id="80467-126">Identificatore del comando</span><span class="sxs-lookup"><span data-stu-id="80467-126">Command Identifier</span></span>](#command-identifier)
    -   [<span data-ttu-id="80467-127">Dimensioni e posizione dei pulsanti</span><span class="sxs-lookup"><span data-stu-id="80467-127">Button Size and Position</span></span>](#button-size-and-position)
-   [<span data-ttu-id="80467-128">Abilitazione della personalizzazione</span><span class="sxs-lookup"><span data-stu-id="80467-128">Enabling Customization</span></span>](#enabling-customization)
-   [<span data-ttu-id="80467-129">Abilitazione del rilevamento a caldo</span><span class="sxs-lookup"><span data-stu-id="80467-129">Enabling Hot-tracking</span></span>](#enabling-hot-tracking)

## <a name="specifying-toolbar-size-and-position"></a><span data-ttu-id="80467-130">Specifica delle dimensioni e della posizione della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-130">Specifying Toolbar Size and Position</span></span>

<span data-ttu-id="80467-131">Se si crea una barra degli strumenti usando [**CreateToolbarEx,**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex)la funzione consente di specificare in pixel l'altezza e la larghezza della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-131">If you create a toolbar using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), the function enables you to specify in pixels the height and width of the toolbar.</span></span>

> [!Note]  
> <span data-ttu-id="80467-132">Non [**è consigliabile usare CreateToolbarEx,**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) perché non supporta nuove funzionalità delle barre degli strumenti, inclusi gli elenchi di immagini.</span><span class="sxs-lookup"><span data-stu-id="80467-132">Using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) is not recommended, as it does not support new features of toolbars, including image lists.</span></span> <span data-ttu-id="80467-133">Per altre informazioni sulla creazione di barre degli strumenti, vedere [Uso dei controlli barra degli strumenti.](using-toolbar-controls.md)</span><span class="sxs-lookup"><span data-stu-id="80467-133">For more information about creating toolbars, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

<span data-ttu-id="80467-134">La [**funzione CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) non dispone di parametri per specificare le dimensioni della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-134">The [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have parameters for specifying toolbar size.</span></span> <span data-ttu-id="80467-135">La routine della finestra della barra degli strumenti imposta automaticamente le dimensioni e la posizione della finestra della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-135">The toolbar window procedure automatically sets the size and position of the toolbar window.</span></span> <span data-ttu-id="80467-136">L'altezza è basata sull'altezza dei pulsanti nella barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-136">The height is based on the height of the buttons in the toolbar.</span></span> <span data-ttu-id="80467-137">La larghezza corrisponde alla larghezza dell'area client della finestra padre.</span><span class="sxs-lookup"><span data-stu-id="80467-137">The width is the same as the width of the parent window's client area.</span></span> <span data-ttu-id="80467-138">Per modificare le impostazioni delle dimensioni automatiche, inviare un [**messaggio \_ SETBUTTONSIZE da TB.**](tb-setbuttonsize.md)</span><span class="sxs-lookup"><span data-stu-id="80467-138">To change the automatic size settings, send a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span> <span data-ttu-id="80467-139">Gli stili di controllo comuni [**CCS \_ TOP**](common-control-styles.md) e [**CCS \_ BOTTOM**](common-control-styles.md) determinano se la barra degli strumenti è posizionata lungo la parte superiore o inferiore dell'area client.</span><span class="sxs-lookup"><span data-stu-id="80467-139">The [**CCS\_TOP**](common-control-styles.md) and [**CCS\_BOTTOM**](common-control-styles.md) common control styles determine whether the toolbar is positioned along the top or bottom of the client area.</span></span> <span data-ttu-id="80467-140">Per impostazione predefinita, una barra degli strumenti ha **lo stile \_ CCS TOP.**</span><span class="sxs-lookup"><span data-stu-id="80467-140">By default, a toolbar has the **CCS\_TOP** style.</span></span>

<span data-ttu-id="80467-141">Inoltre, la routine della finestra della barra degli strumenti regola automaticamente le dimensioni della barra degli strumenti ogni volta che riceve un messaggio [**WM \_ SIZE**](/windows/desktop/winmsg/wm-size) o [**TB \_ AUTOSIZE.**](tb-autosize.md)</span><span class="sxs-lookup"><span data-stu-id="80467-141">Also, the toolbar window procedure automatically adjusts the size of the toolbar whenever it receives a [**WM\_SIZE**](/windows/desktop/winmsg/wm-size) or [**TB\_AUTOSIZE**](tb-autosize.md) message.</span></span> <span data-ttu-id="80467-142">Un'applicazione deve inviare uno di questi messaggi ogni volta che le dimensioni della finestra padre cambiano o dopo l'invio di un messaggio che richiede la modifica delle dimensioni della barra degli strumenti, ad esempio un messaggio [**\_ TB SETBUTTONSIZE.**](tb-setbuttonsize.md)</span><span class="sxs-lookup"><span data-stu-id="80467-142">An application should send either of these messages whenever the size of the parent window changes or after sending a message that requires adjusting the size of the toolbar—for example, a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span>

<span data-ttu-id="80467-143">I comportamenti di ridimensionamento e posizionamento predefiniti della barra degli strumenti possono essere disattivati impostando gli stili di controllo comuni [**CCS \_ NORESIZE**](common-control-styles.md) e [**\_ CCS NOPARENTALIGN.**](common-control-styles.md)</span><span class="sxs-lookup"><span data-stu-id="80467-143">The toolbar default sizing and positioning behaviors can be turned off by setting the [**CCS\_NORESIZE**](common-control-styles.md) and [**CCS\_NOPARENTALIGN**](common-control-styles.md) common control styles.</span></span> <span data-ttu-id="80467-144">I controlli barra degli strumenti ospitati dai controlli rebar devono impostare questi stili perché il controllo rebar ridimensiona e posiziona la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-144">Toolbar controls that are hosted by rebar controls must set these styles because the rebar control sizes and positions the toolbar.</span></span>

## <a name="transparent-toolbars"></a><span data-ttu-id="80467-145">Barre degli strumenti trasparenti</span><span class="sxs-lookup"><span data-stu-id="80467-145">Transparent Toolbars</span></span>

<span data-ttu-id="80467-146">I controlli barra degli strumenti supportano un aspetto trasparente che consente la visualizzazione dell'area client sotto la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-146">Toolbar controls support a transparent look that allows the client area under the toolbar to show through.</span></span> <span data-ttu-id="80467-147">Esistono due tipi di barre degli strumenti trasparenti, una con pulsanti flat e una con pulsanti tridimensionali.</span><span class="sxs-lookup"><span data-stu-id="80467-147">There are two kinds of transparent toolbars, ones with flat buttons and ones with three-dimensional buttons.</span></span> <span data-ttu-id="80467-148">Se si vuole che l'applicazione corrisponda all'interfaccia di Windows, usare la barra degli strumenti in stile trasparente semplice.</span><span class="sxs-lookup"><span data-stu-id="80467-148">If you want your application to match the Windows interface, use the flat transparent style toolbar.</span></span>

<span data-ttu-id="80467-149">Lo screenshot seguente mostra i due tipi di barre degli strumenti trasparenti, non usando gli stili di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="80467-149">The following screen shot shows the two kinds of transparent toolbars, not using visual styles.</span></span>

![Screenshot di due finestre con stili diversi delle barre degli strumenti, ma entrambe le barre degli strumenti sono trasparenti](images/toolbartrans.jpg)

<span data-ttu-id="80467-151">Lo screenshot seguente mostra una barra degli strumenti trasparente come potrebbe essere visualizzata in Windows Vista, con gli stili di visualizzazione abilitati.</span><span class="sxs-lookup"><span data-stu-id="80467-151">The following screen shot shows a transparent toolbar as it might appear in Windows Vista, with visual styles enabled.</span></span> <span data-ttu-id="80467-152">Il colore di sfondo della finestra di dialogo è stato modificato per rendere la trasparenza più ovvia.</span><span class="sxs-lookup"><span data-stu-id="80467-152">The background color of the dialog box has been changed to make the transparency more obvious.</span></span>

![Screenshot di una finestra in Windows Vista con una barra degli strumenti trasparente](images/tb-transparent.png)

<span data-ttu-id="80467-154">Per creare una barra degli strumenti trasparente, è necessario aggiungere [**TBSTYLE \_ FLAT**](toolbar-control-and-button-styles.md) o [**TBSTYLE \_ TRANSPARENT**](toolbar-control-and-button-styles.md) al parametro di stile della finestra [**di CreateWindowEx.**](/windows/desktop/api/winuser/nf-winuser-createwindowexa)</span><span class="sxs-lookup"><span data-stu-id="80467-154">To create a transparent toolbar, all you need to do is add [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) or [**TBSTYLE\_TRANSPARENT**](toolbar-control-and-button-styles.md) to the window style parameter of [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span> <span data-ttu-id="80467-155">Se non si vuole che venga visualizzata una riga per indicare la parte inferiore della barra degli strumenti, non usare lo stile della finestra [**WS \_ BORDER.**](/windows/desktop/winmsg/window-styles)</span><span class="sxs-lookup"><span data-stu-id="80467-155">If you do not want a line to appear to indicate the bottom of the toolbar, do not use the [**WS\_BORDER**](/windows/desktop/winmsg/window-styles) window style.</span></span>

> [!Note]  
> <span data-ttu-id="80467-156">Quando si usano gli stili di visualizzazione, le barre degli strumenti possono essere flat per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="80467-156">When using visual styles, toolbars may be flat by default.</span></span>

 

## <a name="list-style-toolbars"></a><span data-ttu-id="80467-157">Barre degli strumenti in stile elenco</span><span class="sxs-lookup"><span data-stu-id="80467-157">List-style Toolbars</span></span>

<span data-ttu-id="80467-158">I pulsanti della barra degli strumenti consentono di visualizzare sia testo che bitmap.</span><span class="sxs-lookup"><span data-stu-id="80467-158">Toolbar buttons enable you to display both text and bitmaps.</span></span> <span data-ttu-id="80467-159">I pulsanti di una barra degli strumenti creata con lo stile [**TBSTYLE \_ LIST**](toolbar-control-and-button-styles.md) posizionano il testo a destra della bitmap anziché sotto di essa.</span><span class="sxs-lookup"><span data-stu-id="80467-159">The buttons on a toolbar created with the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) style place text to the right of the bitmap instead of under it.</span></span>

<span data-ttu-id="80467-160">Lo screenshot seguente mostra una barra degli strumenti con lo stile elenco.</span><span class="sxs-lookup"><span data-stu-id="80467-160">The following screen shot shows a toolbar with the list style.</span></span>

![Screenshot di una barra degli strumenti con testo a destra di ogni icona](images/tb-liststyle.png)

<span data-ttu-id="80467-162">È possibile usare lo stile della barra degli strumenti [**TBSTYLE \_ LIST**](toolbar-control-and-button-styles.md) in combinazione con lo stile [**TBSTYLE \_ FLAT**](toolbar-control-and-button-styles.md) per creare una barra degli strumenti con pulsanti flat.</span><span class="sxs-lookup"><span data-stu-id="80467-162">You can use the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) toolbar style in combination with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style to create a toolbar with flat buttons.</span></span>

## <a name="defining-button-images"></a><span data-ttu-id="80467-163">Definizione delle immagini dei pulsanti</span><span class="sxs-lookup"><span data-stu-id="80467-163">Defining Button Images</span></span>

<span data-ttu-id="80467-164">Esistono due modi per specificare le immagini per i pulsanti: per bitmap o per elenchi di immagini.</span><span class="sxs-lookup"><span data-stu-id="80467-164">There are two ways to specify the images for buttons—by bitmaps or by image lists.</span></span> <span data-ttu-id="80467-165">Un'applicazione deve scegliere il metodo da usare.</span><span class="sxs-lookup"><span data-stu-id="80467-165">An application must choose which method to use.</span></span> <span data-ttu-id="80467-166">Non può usare entrambi i metodi con lo stesso controllo barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-166">It cannot use both methods with the same toolbar control.</span></span> <span data-ttu-id="80467-167">Si noti che [**la funzione CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) usa il metodo bitmap.</span><span class="sxs-lookup"><span data-stu-id="80467-167">Note that the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function uses the bitmap method.</span></span> <span data-ttu-id="80467-168">Le applicazioni che vogliono usare il metodo dell'elenco di immagini devono usare la [**funzione CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) per creare il controllo barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-168">Applications that want to use the image list method must use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create the toolbar control.</span></span>

### <a name="defining-button-images-by-using-bitmaps"></a><span data-ttu-id="80467-169">Definizione di immagini di pulsanti tramite bitmap</span><span class="sxs-lookup"><span data-stu-id="80467-169">Defining Button Images by Using Bitmaps</span></span>

<span data-ttu-id="80467-170">Ogni pulsante in una barra degli strumenti può includere un'immagine bitmap.</span><span class="sxs-lookup"><span data-stu-id="80467-170">Each button in a toolbar can include a bitmapped image.</span></span> <span data-ttu-id="80467-171">Una barra degli strumenti usa un elenco interno per archiviare le informazioni necessarie per disegnare le immagini.</span><span class="sxs-lookup"><span data-stu-id="80467-171">A toolbar uses an internal list to store the information that it needs to draw the images.</span></span> <span data-ttu-id="80467-172">Quando si chiama la [**funzione CreateToolbarEx,**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) si specifica una bitmap monocromatica o a colori che contiene le immagini iniziali e la barra degli strumenti aggiunge le informazioni all'elenco interno di immagini.</span><span class="sxs-lookup"><span data-stu-id="80467-172">When you call the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function, you specify a monochrome or color bitmap that contains the initial images, and the toolbar adds the information to the internal list of images.</span></span> <span data-ttu-id="80467-173">È possibile aggiungere altre immagini in un secondo momento usando il [**\_ messaggio ADDBITMAP da TB.**](tb-addbitmap.md)</span><span class="sxs-lookup"><span data-stu-id="80467-173">You can add additional images later by using the [**TB\_ADDBITMAP**](tb-addbitmap.md) message.</span></span>

<span data-ttu-id="80467-174">Ogni immagine ha un indice in base zero.</span><span class="sxs-lookup"><span data-stu-id="80467-174">Each image has a zero-based index.</span></span> <span data-ttu-id="80467-175">La prima immagine aggiunta all'elenco interno ha un indice 0, la seconda immagine ha un indice 1 e così via.</span><span class="sxs-lookup"><span data-stu-id="80467-175">The first image added to the internal list has an index of 0, the second image has an index of 1, and so on.</span></span> <span data-ttu-id="80467-176">[**TB \_ ADDBITMAP aggiunge**](tb-addbitmap.md) immagini alla fine dell'elenco e restituisce l'indice della prima nuova immagine aggiunta.</span><span class="sxs-lookup"><span data-stu-id="80467-176">[**TB\_ADDBITMAP**](tb-addbitmap.md) adds images to the end of the list and returns the index of the first new image that it added.</span></span> <span data-ttu-id="80467-177">Per associare l'immagine a un pulsante, è necessario inviare un messaggio [**\_ ADDBUTTONS DA TB**](tb-addbuttons.md) e specificare l'indice dell'immagine dopo aver aggiunto bitmap all'elenco di immagini interno.</span><span class="sxs-lookup"><span data-stu-id="80467-177">To associate the image with a button, you must send a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message and specify the image's index after you add bitmaps to the internal image list.</span></span>

<span data-ttu-id="80467-178">Windows presuppone che tutte le immagini bitmap di una barra degli strumenti siano delle stesse dimensioni.</span><span class="sxs-lookup"><span data-stu-id="80467-178">Windows assumes that all of a toolbar's bitmapped images are the same size.</span></span> <span data-ttu-id="80467-179">È possibile specificare le dimensioni quando si crea la barra degli strumenti usando [**CreateToolbarEx.**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex)</span><span class="sxs-lookup"><span data-stu-id="80467-179">You specify the size when you create the toolbar by using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span></span> <span data-ttu-id="80467-180">Se si usa la [**funzione CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) per creare una barra degli strumenti, le dimensioni delle immagini vengono impostate su dimensioni predefinite di 16 per 15 pixel.</span><span class="sxs-lookup"><span data-stu-id="80467-180">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, the size of the images is set to the default dimensions of 16 by 15 pixels.</span></span> <span data-ttu-id="80467-181">È possibile usare il messaggio [**\_ TB SETBITMAPSIZE**](tb-setbitmapsize.md) per modificare le dimensioni delle immagini bitmap, ma è necessario farlo prima di aggiungere immagini all'elenco interno.</span><span class="sxs-lookup"><span data-stu-id="80467-181">You can use the [**TB\_SETBITMAPSIZE**](tb-setbitmapsize.md) message to change the dimensions of the bitmapped images, but you must do so before adding any images to the internal list.</span></span>

### <a name="defining-button-images-by-using-image-lists"></a><span data-ttu-id="80467-182">Definizione di immagini pulsante tramite elenchi di immagini</span><span class="sxs-lookup"><span data-stu-id="80467-182">Defining Button Images by Using Image Lists</span></span>

<span data-ttu-id="80467-183">È anche possibile archiviare le immagini dei pulsanti in un set [di elenchi di immagini.](image-lists.md)</span><span class="sxs-lookup"><span data-stu-id="80467-183">You can also store button images in a set of [Image Lists](image-lists.md).</span></span> <span data-ttu-id="80467-184">Un elenco di immagini è una raccolta di immagini delle stesse dimensioni, ognuna delle quali può essere indicata dal relativo indice.</span><span class="sxs-lookup"><span data-stu-id="80467-184">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="80467-185">Gli elenchi di immagini vengono usati per gestire grandi set di icone o bitmap.</span><span class="sxs-lookup"><span data-stu-id="80467-185">Image lists are used to manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="80467-186">È possibile usare fino a tre diversi elenchi di immagini per visualizzare i pulsanti in vari stati, come illustrato nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="80467-186">You can use up to three different image lists to display buttons in various states, as shown in the following table.</span></span>



|  <span data-ttu-id="80467-187">State</span><span class="sxs-lookup"><span data-stu-id="80467-187">State</span></span>        |  <span data-ttu-id="80467-188">Descrizione</span><span class="sxs-lookup"><span data-stu-id="80467-188">Description</span></span>                                                                                                                                                                                            |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="80467-189">Normale</span><span class="sxs-lookup"><span data-stu-id="80467-189">Normal</span></span>   | <span data-ttu-id="80467-190">Pulsanti nello stato predefinito.</span><span class="sxs-lookup"><span data-stu-id="80467-190">Buttons in their default state.</span></span>                                                                                                                                                              |
| <span data-ttu-id="80467-191">Accesso frequente</span><span class="sxs-lookup"><span data-stu-id="80467-191">Hot</span></span>      | <span data-ttu-id="80467-192">Pulsanti sotto il puntatore o premuti.</span><span class="sxs-lookup"><span data-stu-id="80467-192">Buttons that are under the pointer or pressed.</span></span> <span data-ttu-id="80467-193">Gli elementi di tipo hot sono supportati solo nei controlli barra degli strumenti con [**stile TBSTYLE \_ FLAT.**](toolbar-control-and-button-styles.md)</span><span class="sxs-lookup"><span data-stu-id="80467-193">Hot items are supported only in toolbar controls that have the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style.</span></span> |
| <span data-ttu-id="80467-194">Disabled</span><span class="sxs-lookup"><span data-stu-id="80467-194">Disabled</span></span> | <span data-ttu-id="80467-195">Pulsanti disabilitati.</span><span class="sxs-lookup"><span data-stu-id="80467-195">Buttons that are disabled.</span></span>                                                                                                                                                                   |



 

<span data-ttu-id="80467-196">Dopo l'eliminazione della barra degli strumenti, le applicazioni devono liberare tutti gli elenchi di immagini creati.</span><span class="sxs-lookup"><span data-stu-id="80467-196">After the toolbar is destroyed, applications must free any image lists they have created.</span></span>

## <a name="defining-text-for-buttons"></a><span data-ttu-id="80467-197">Definizione del testo per i pulsanti</span><span class="sxs-lookup"><span data-stu-id="80467-197">Defining Text for Buttons</span></span>

<span data-ttu-id="80467-198">Ogni pulsante può visualizzare una stringa oltre a o invece di un'immagine.</span><span class="sxs-lookup"><span data-stu-id="80467-198">Each button can display a string in addition to, or instead of, an image.</span></span> <span data-ttu-id="80467-199">Una barra degli strumenti mantiene un elenco interno che contiene tutte le stringhe disponibili per i pulsanti della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-199">A toolbar maintains an internal list that contains all the strings available to toolbar buttons.</span></span> <span data-ttu-id="80467-200">Per aggiungere stringhe all'elenco interno, usare il messaggio [**\_ TB ADDSTRING,**](tb-addstring.md) specificando l'indirizzo del buffer contenente le stringhe da aggiungere.</span><span class="sxs-lookup"><span data-stu-id="80467-200">You add strings to the internal list by using the [**TB\_ADDSTRING**](tb-addstring.md) message, specifying the address of the buffer containing the strings to add.</span></span> <span data-ttu-id="80467-201">Ogni stringa deve essere con terminazione Null e l'ultima stringa deve essere terminata con due caratteri Null.</span><span class="sxs-lookup"><span data-stu-id="80467-201">Each string must be null-terminated, and the last string must be terminated with two null characters.</span></span>

<span data-ttu-id="80467-202">Ogni stringa ha un indice in base zero.</span><span class="sxs-lookup"><span data-stu-id="80467-202">Each string has a zero-based index.</span></span> <span data-ttu-id="80467-203">La prima stringa aggiunta all'elenco interno di stringhe ha un indice 0, la seconda ha un indice 1 e così via.</span><span class="sxs-lookup"><span data-stu-id="80467-203">The first string added to the internal list of strings has an index of 0, the second string has an index of 1, and so on.</span></span> <span data-ttu-id="80467-204">[**TB \_ ADDSTRING**](tb-addstring.md) aggiunge stringhe alla fine dell'elenco e restituisce l'indice della prima nuova stringa.</span><span class="sxs-lookup"><span data-stu-id="80467-204">[**TB\_ADDSTRING**](tb-addstring.md) adds strings to the end of the list and returns the index of the first new string.</span></span> <span data-ttu-id="80467-205">Usare l'indice di una stringa per associare la stringa a un pulsante.</span><span class="sxs-lookup"><span data-stu-id="80467-205">You use a string's index to associate the string with a button.</span></span>

<span data-ttu-id="80467-206">[**L'uso \_ di TB ADDSTRING**](tb-addstring.md) non è l'unico modo per aggiungere stringhe a una barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-206">Using [**TB\_ADDSTRING**](tb-addstring.md) is not the only way to add strings to a toolbar.</span></span> <span data-ttu-id="80467-207">È possibile visualizzare una stringa in un pulsante passando un puntatore di stringa nel membro **iString** della struttura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) passato a [**TB \_ ADDBUTTONS.**](tb-addbuttons.md)</span><span class="sxs-lookup"><span data-stu-id="80467-207">You can display a string in a button by passing a string pointer in the **iString** member of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure that is passed to [**TB\_ADDBUTTONS**](tb-addbuttons.md).</span></span> <span data-ttu-id="80467-208">È anche possibile usare [**TB \_ SETBUTTONINFO per**](tb-setbuttoninfo.md) assegnare testo a un pulsante della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-208">Additionally, you can use [**TB\_SETBUTTONINFO**](tb-setbuttoninfo.md) to assign text to a toolbar button.</span></span>

## <a name="adding-toolbar-buttons"></a><span data-ttu-id="80467-209">Aggiunta di pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-209">Adding Toolbar Buttons</span></span>

<span data-ttu-id="80467-210">Se si usa la funzione [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) per creare una barra degli strumenti, è possibile aggiungere pulsanti alla barra degli strumenti compilando una matrice di strutture [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) e specificando l'indirizzo della matrice nella chiamata di funzione.</span><span class="sxs-lookup"><span data-stu-id="80467-210">If you use the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function to create a toolbar, you can add buttons to the toolbar by filling an array of [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structures and specifying the address of the array in the function call.</span></span> <span data-ttu-id="80467-211">Tuttavia, la [**funzione CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) non ha un parametro per passare una **struttura TBBUTTON.**</span><span class="sxs-lookup"><span data-stu-id="80467-211">However, the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have a parameter for passing a **TBBUTTON** structure.</span></span> <span data-ttu-id="80467-212">**CreateWindowEx crea** una barra degli strumenti vuota che si riempie inviando un messaggio [**\_ ADDBUTTONS DA TB,**](tb-addbuttons.md) specificando l'indirizzo di una **struttura TBBUTTON.**</span><span class="sxs-lookup"><span data-stu-id="80467-212">**CreateWindowEx** creates an empty toolbar that you fill by sending a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message, specifying the address of a **TBBUTTON** structure.</span></span>

<span data-ttu-id="80467-213">Dopo aver creato una barra degli strumenti, è possibile aggiungere pulsanti inviando un messaggio [**\_ INSERTBUTTON**](tb-insertbutton.md) o [**\_ TB ADDBUTTONS.**](tb-addbuttons.md)</span><span class="sxs-lookup"><span data-stu-id="80467-213">After a toolbar is created, you can add buttons by sending a [**TB\_INSERTBUTTON**](tb-insertbutton.md) or [**TB\_ADDBUTTONS**](tb-addbuttons.md) message.</span></span> <span data-ttu-id="80467-214">Ogni pulsante è descritto da una struttura [**TBBUTTON,**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) che definisce gli attributi del pulsante, inclusi gli indici della stringa e della bitmap, nonché lo stile, lo stato, l'identificatore del comando e il valore a 32 bit definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="80467-214">Each button is described by a [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure, which defines the attributes of the button, including the indexes of its string and bitmap as well as its style, state, command identifier, and application-defined 32-bit value.</span></span>

> [!Note]  
> <span data-ttu-id="80467-215">Se si usa la [**funzione CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) per creare una barra degli strumenti, è necessario inviare il messaggio [**\_ BUTTONSTRUCTSIZE TB**](tb-buttonstructsize.md) prima di aggiungere eventuali pulsanti.</span><span class="sxs-lookup"><span data-stu-id="80467-215">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, you must send the [**TB\_BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) message before adding any buttons.</span></span> <span data-ttu-id="80467-216">Il messaggio passa la dimensione della struttura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) alla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-216">The message passes the size of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure to the toolbar.</span></span>

 

### <a name="toolbar-button-styles"></a><span data-ttu-id="80467-217">Stili dei pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-217">Toolbar Button Styles</span></span>

<span data-ttu-id="80467-218">Lo stile di un pulsante determina come viene visualizzato il pulsante e come risponde all'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="80467-218">A button's style determines how the button appears and how it responds to user input.</span></span> <span data-ttu-id="80467-219">Ad esempio, lo [**stile PULSANTE \_ BTNS**](toolbar-control-and-button-styles.md) crea un pulsante della barra degli strumenti che si comporta come un pulsante di comando standard.</span><span class="sxs-lookup"><span data-stu-id="80467-219">For instance, the [**BTNS\_BUTTON**](toolbar-control-and-button-styles.md) style creates a toolbar button that behaves like a standard push button.</span></span> <span data-ttu-id="80467-220">Un pulsante con lo stile [**CHECK BTNS \_**](toolbar-control-and-button-styles.md) è simile a un pulsante push standard, ad eccezione del fatto che alterna gli stati premuto e non premuto ogni volta che l'utente fa clic su di esso.</span><span class="sxs-lookup"><span data-stu-id="80467-220">A button that has the [**BTNS\_CHECK**](toolbar-control-and-button-styles.md) style is similar to a standard push button, except it toggles between the pressed and nonpressed states each time the user clicks it.</span></span>

<span data-ttu-id="80467-221">È possibile creare gruppi di pulsanti della barra degli strumenti che fungono da pulsanti di opzione usando lo stile [**BTNS \_ GROUP**](toolbar-control-and-button-styles.md) o [**BTNS \_ CHECKGROUP.**](toolbar-control-and-button-styles.md)</span><span class="sxs-lookup"><span data-stu-id="80467-221">You can create groups of toolbar buttons that act like radio buttons by using the [**BTNS\_GROUP**](toolbar-control-and-button-styles.md) or [**BTNS\_CHECKGROUP**](toolbar-control-and-button-styles.md) style.</span></span> <span data-ttu-id="80467-222">In questo modo un pulsante rimane premuto finché l'utente non sceglie un altro pulsante nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="80467-222">This causes a button to stay pressed until the user chooses another button in the group.</span></span> <span data-ttu-id="80467-223">Un gruppo è definito come una raccolta contigua di pulsanti, tutti con lo stile **BTNS \_ GROUP** **o BTNS \_ CHECKGROUP.**</span><span class="sxs-lookup"><span data-stu-id="80467-223">A group is defined as a contiguous collection of buttons, all with the **BTNS\_GROUP** or **BTNS\_CHECKGROUP** style.</span></span>

<span data-ttu-id="80467-224">Lo [**stile \_ SEP BTNS**](toolbar-control-and-button-styles.md) crea un piccolo spazio tra i pulsanti o disegna un'etch tra i pulsanti sulle barre degli strumenti flat.</span><span class="sxs-lookup"><span data-stu-id="80467-224">The [**BTNS\_SEP**](toolbar-control-and-button-styles.md) style creates a small gap between buttons or draws an etch between buttons on flat toolbars.</span></span> <span data-ttu-id="80467-225">Un pulsante con lo **stile \_ BTNS SEP** non riceve l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="80467-225">A button with the **BTNS\_SEP** style does not receive user input.</span></span>

<span data-ttu-id="80467-226">La versione 5.80 dei controlli comuni ha introdotto alcuni nuovi stili dei pulsanti della barra degli strumenti e rinominato alcuni degli stili precedenti.</span><span class="sxs-lookup"><span data-stu-id="80467-226">Version 5.80 of the common controls introduced some new toolbar button styles and renamed some of the older styles.</span></span> <span data-ttu-id="80467-227">Tutti i flag di stile dei pulsanti iniziano ora con BTNS \_ XXX anziché con TBSTYLE \_ XXX.</span><span class="sxs-lookup"><span data-stu-id="80467-227">All button style flags now begin with BTNS\_XXX instead of TBSTYLE\_XXX.</span></span> <span data-ttu-id="80467-228">Per un elenco e una descrizione degli stili dei pulsanti, vedere Controllo barra degli [strumenti e Stili dei pulsanti](toolbar-control-and-button-styles.md).</span><span class="sxs-lookup"><span data-stu-id="80467-228">For a listing and discussion of the button styles, see [Toolbar Control and Button Styles](toolbar-control-and-button-styles.md).</span></span>

### <a name="toolbar-button-states"></a><span data-ttu-id="80467-229">Stati dei pulsanti della barra degli strumenti</span><span class="sxs-lookup"><span data-stu-id="80467-229">Toolbar Button States</span></span>

<span data-ttu-id="80467-230">Ogni pulsante in una barra degli strumenti ha uno stato.</span><span class="sxs-lookup"><span data-stu-id="80467-230">Each button in a toolbar has a state.</span></span> <span data-ttu-id="80467-231">La barra degli strumenti aggiorna lo stato di un pulsante per riflettere le azioni dell'utente, ad esempio facendo clic sul pulsante.</span><span class="sxs-lookup"><span data-stu-id="80467-231">The toolbar updates a button's state to reflect user actions, such as clicking the button.</span></span> <span data-ttu-id="80467-232">Lo stato indica se il pulsante è attualmente premuto o meno, abilitato o disabilitato, nascosto o visibile.</span><span class="sxs-lookup"><span data-stu-id="80467-232">The state indicates whether the button is currently pressed or not pressed, enabled or disabled, hidden or visible.</span></span> <span data-ttu-id="80467-233">Anche se un'applicazione imposta lo stato iniziale di un pulsante quando aggiunge il pulsante alla barra degli strumenti, può modificare e recuperare lo stato inviando messaggi [**\_ TB GETSTATE**](tb-getstate.md) e [**TB \_ SETSTATE**](tb-setstate.md) alla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-233">Although an application sets a button's initial state when adding the button to the toolbar, it can change and retrieve the state by sending [**TB\_GETSTATE**](tb-getstate.md) and [**TB\_SETSTATE**](tb-setstate.md) messages to the toolbar.</span></span> <span data-ttu-id="80467-234">Per un elenco degli stati dei pulsanti della barra degli strumenti, vedere [Stati della barra degli strumenti](toolbar-button-states.md).</span><span class="sxs-lookup"><span data-stu-id="80467-234">For a list of toolbar button states, see [Toolbar States](toolbar-button-states.md).</span></span>

### <a name="command-identifier"></a><span data-ttu-id="80467-235">Identificatore del comando</span><span class="sxs-lookup"><span data-stu-id="80467-235">Command Identifier</span></span>

<span data-ttu-id="80467-236">A ogni pulsante è associato un identificatore di comando definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="80467-236">Each button has an application-defined command identifier associated with it.</span></span> <span data-ttu-id="80467-237">Gli identificatori dei pulsanti sono in genere definiti in un file di intestazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="80467-237">Button identifiers are usually defined in an application header file.</span></span> <span data-ttu-id="80467-238">Ad esempio, un pulsante Incolla può essere definito come:</span><span class="sxs-lookup"><span data-stu-id="80467-238">For example, a Paste button can be defined as:</span></span>


```
#define ID_PASTE 100
```



<span data-ttu-id="80467-239">Quando l'utente seleziona un pulsante, la barra degli strumenti invia alla finestra padre un messaggio [**WM \_ COMMAND**](/windows/desktop/menurc/wm-command) o [**WM \_ NOTIFY**](wm-notify.md) che include l'identificatore del comando del pulsante.</span><span class="sxs-lookup"><span data-stu-id="80467-239">When the user selects a button, the toolbar sends the parent window a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) message that includes the command identifier of the button.</span></span> <span data-ttu-id="80467-240">La finestra padre esamina l'identificatore del comando ed esegue il comando associato al pulsante.</span><span class="sxs-lookup"><span data-stu-id="80467-240">The parent window examines the command identifier and carries out the command associated with the button.</span></span> <span data-ttu-id="80467-241">Per informazioni su quando i controlli inviano messaggi **WM \_ COMMAND** e quando inviano **WM \_ NOTIFY,** vedere la sezione Osservazioni della [**documentazione di WM \_ NOTIFY.**](wm-notify.md)</span><span class="sxs-lookup"><span data-stu-id="80467-241">For information about when controls send **WM\_COMMAND** messages and when they send **WM\_NOTIFY**, see the Remarks section of the [**WM\_NOTIFY**](wm-notify.md) documentation.</span></span>

### <a name="button-size-and-position"></a><span data-ttu-id="80467-242">Dimensioni e posizione dei pulsanti</span><span class="sxs-lookup"><span data-stu-id="80467-242">Button Size and Position</span></span>

<span data-ttu-id="80467-243">Una barra degli strumenti tiene traccia dei pulsanti assegnando a ogni pulsante un indice di posizione.</span><span class="sxs-lookup"><span data-stu-id="80467-243">A toolbar keeps track of its buttons by assigning each button a position index.</span></span> <span data-ttu-id="80467-244">L'indice è in base zero. ciò significa che il pulsante più a sinistra ha un indice 0, il pulsante successivo a destra ha un indice 1 e così via.</span><span class="sxs-lookup"><span data-stu-id="80467-244">The index is zero-based; that is, the leftmost button has an index of 0, the next button to the right has an index of 1, and so on.</span></span> <span data-ttu-id="80467-245">Un'applicazione deve specificare l'indice di un pulsante durante l'invio di messaggi per recuperare informazioni sul pulsante o per impostare gli attributi del pulsante.</span><span class="sxs-lookup"><span data-stu-id="80467-245">An application must specify the index of a button when sending messages to retrieve information about the button or to set the button's attributes.</span></span>

<span data-ttu-id="80467-246">Una barra degli strumenti aggiorna gli indici di posizione quando i pulsanti vengono inseriti e rimossi.</span><span class="sxs-lookup"><span data-stu-id="80467-246">A toolbar updates the position indexes as buttons are inserted and removed.</span></span> <span data-ttu-id="80467-247">Un'applicazione può recuperare l'indice della posizione corrente di un pulsante usando il [**\_ messaggio COMMANDTOINDEX TB.**](tb-commandtoindex.md)</span><span class="sxs-lookup"><span data-stu-id="80467-247">An application can retrieve the current position index of a button by using the [**TB\_COMMANDTOINDEX**](tb-commandtoindex.md) message.</span></span> <span data-ttu-id="80467-248">Il messaggio specifica l'identificatore di comando di un pulsante e la finestra della barra degli strumenti usa l'identificatore per individuare il pulsante e restituirne l'indice di posizione.</span><span class="sxs-lookup"><span data-stu-id="80467-248">The message specifies the command identifier of a button, and the toolbar window uses the identifier to locate the button and return its position index.</span></span>

<span data-ttu-id="80467-249">Tutti i pulsanti in una barra degli strumenti hanno le stesse dimensioni.</span><span class="sxs-lookup"><span data-stu-id="80467-249">All buttons in a toolbar are the same size.</span></span> <span data-ttu-id="80467-250">La [**funzione CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) richiede di impostare le dimensioni iniziali dei pulsanti quando si crea la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-250">The [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function requires you to set the initial size of the buttons when you create the toolbar.</span></span> <span data-ttu-id="80467-251">Quando si usa la [**funzione CreateWindowEx,**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) le dimensioni iniziali vengono impostate su dimensioni predefinite di 24 per 22 pixel.</span><span class="sxs-lookup"><span data-stu-id="80467-251">When you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, the initial size is set to the default dimensions of 24 by 22 pixels.</span></span> <span data-ttu-id="80467-252">È possibile usare il [**messaggio \_ SETBUTTONSIZE tb**](tb-setbuttonsize.md) per modificare le dimensioni del pulsante, ma è necessario farlo prima di aggiungere pulsanti alla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-252">You can use the [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message to change the button size, but you must do so before adding any buttons to the toolbar.</span></span> <span data-ttu-id="80467-253">Il [**messaggio \_ GETITEMRECT da**](tb-getitemrect.md) TB recupera le dimensioni correnti dei pulsanti.</span><span class="sxs-lookup"><span data-stu-id="80467-253">The [**TB\_GETITEMRECT**](tb-getitemrect.md) message retrieves the current dimensions of the buttons.</span></span>

<span data-ttu-id="80467-254">Quando si aggiunge una stringa più lunga di qualsiasi stringa attualmente presente nella barra degli strumenti, la barra degli strumenti reimposta automaticamente la larghezza dei pulsanti.</span><span class="sxs-lookup"><span data-stu-id="80467-254">When you add a string that is longer than any string currently in the toolbar, the toolbar automatically resets the width of its buttons.</span></span> <span data-ttu-id="80467-255">La larghezza è impostata in modo da contenere la stringa più lunga nella barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-255">The width is set to accommodate the longest string in the toolbar.</span></span>

## <a name="enabling-customization"></a><span data-ttu-id="80467-256">Abilitazione della personalizzazione</span><span class="sxs-lookup"><span data-stu-id="80467-256">Enabling Customization</span></span>

<span data-ttu-id="80467-257">Una barra degli strumenti include funzionalità di personalizzazione incorporate che è possibile rendere disponibili all'utente fornendo alla barra degli strumenti lo stile di controllo [**\_ comune CCS ADJUSTABLE.**](common-control-styles.md)</span><span class="sxs-lookup"><span data-stu-id="80467-257">A toolbar has built-in customization features that you can make available to the user by giving the toolbar the [**CCS\_ADJUSTABLE**](common-control-styles.md) common control style.</span></span> <span data-ttu-id="80467-258">Le funzionalità di personalizzazione consentono all'utente di trascinare un pulsante in una nuova posizione o di rimuovere un pulsante trascinandolo dalla barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-258">The customization features allow the user to drag a button to a new position or to remove a button by dragging it off the toolbar.</span></span> <span data-ttu-id="80467-259">L'utente può anche fare doppio clic sulla barra degli strumenti per visualizzare la finestra di dialogo Personalizza barra degli strumenti, che consente di aggiungere, eliminare e riordinare i pulsanti della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-259">In addition, the user can double-click the toolbar to display the Customize Toolbar dialog box, which allows the user to add, delete, and rearrange toolbar buttons.</span></span> <span data-ttu-id="80467-260">Per visualizzare la finestra di dialogo, usare il [**messaggio TB \_ CUSTOMIZE.**](tb-customize.md)</span><span class="sxs-lookup"><span data-stu-id="80467-260">To display the dialog box, use the [**TB\_CUSTOMIZE**](tb-customize.md) message.</span></span> <span data-ttu-id="80467-261">Un'applicazione determina se le funzionalità di personalizzazione sono disponibili all'utente e controlla l'ambito in cui l'utente può personalizzare la barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-261">An application determines whether the customization features are available to the user and controls the extent to which the user can customize the toolbar.</span></span>

<span data-ttu-id="80467-262">Come parte del processo di personalizzazione, le applicazioni spesso devono salvare e ripristinare lo stato di una barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-262">As part of the customization process, applications often need to save and restore a toolbar's state.</span></span> <span data-ttu-id="80467-263">Ad esempio, molte applicazioni archiviano lo stato della barra degli strumenti prima che l'utente inizi a personalizzare la barra degli strumenti nel caso in cui in un secondo momento l'utente voglia ripristinare lo stato originale della barra degli strumenti.</span><span class="sxs-lookup"><span data-stu-id="80467-263">For instance, many applications store the toolbar state before the user begins customizing the toolbar in case the user later wants to restore the toolbar to its original state.</span></span> <span data-ttu-id="80467-264">Il controllo barra degli strumenti non mantiene automaticamente un record dello stato di precustomizzazione.</span><span class="sxs-lookup"><span data-stu-id="80467-264">The toolbar control does not automatically keep a record of its precustomization state.</span></span> <span data-ttu-id="80467-265">L'applicazione deve salvare lo stato della barra degli strumenti per ripristinarlo.</span><span class="sxs-lookup"><span data-stu-id="80467-265">Your application must save the toolbar state in order to restore it.</span></span> <span data-ttu-id="80467-266">Per altre informazioni, vedere Uso [dei controlli barra degli strumenti](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="80467-266">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

## <a name="enabling-hot-tracking"></a><span data-ttu-id="80467-267">Abilitazione del rilevamento a caldo</span><span class="sxs-lookup"><span data-stu-id="80467-267">Enabling Hot-tracking</span></span>

<span data-ttu-id="80467-268">Il rilevamento a caldo significa che quando il puntatore si sposta su un elemento, l'aspetto del pulsante cambia.</span><span class="sxs-lookup"><span data-stu-id="80467-268">Hot-tracking means that when the pointer moves over an item, the button's appearance changes.</span></span> <span data-ttu-id="80467-269">Quando gli stili di visualizzazione sono abilitati, le barre degli strumenti supportano il rilevamento attivo per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="80467-269">When visual styles are enabled, toolbars support hot-tracking by default.</span></span> <span data-ttu-id="80467-270">In caso contrario, solo i controlli barra degli strumenti creati con lo stile [**TBSTYLE \_ FLAT**](toolbar-control-and-button-styles.md) supportano il rilevamento a caldo.</span><span class="sxs-lookup"><span data-stu-id="80467-270">Otherwise, only toolbar controls created with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style support hot-tracking.</span></span> <span data-ttu-id="80467-271">È possibile usare altri stili di finestra in combinazione con **TBSTYLE \_ FLAT** per produrre barre degli strumenti che abilitano il rilevamento rapido ma hanno un aspetto diverso da una barra degli strumenti semplice.</span><span class="sxs-lookup"><span data-stu-id="80467-271">You can use other window styles in combination with **TBSTYLE\_FLAT** to produce toolbars that enable hot-tracking but have a different appearance from a flat toolbar.</span></span> <span data-ttu-id="80467-272">Per altre informazioni, vedere Uso [dei controlli barra degli strumenti](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="80467-272">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

 