---
title: Elaborazione List-View messaggi predefiniti
description: In questa sezione viene elencata l'elaborazione dei messaggi della finestra eseguita da un controllo visualizzazione elenco.
ms.assetid: c634c446-37e5-4f7c-b337-306c29961e58
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27daa334b8640c855c150216f68e8b243cacbc7b2fe9a218a7e3e17bf69402b8
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/11/2021
ms.locfileid: "119698841"
---
# <a name="default-list-view-message-processing"></a>Elaborazione List-View messaggi predefiniti

In questa sezione viene elencata l'elaborazione dei messaggi della finestra eseguita da un controllo visualizzazione elenco.

## <a name="message-processing"></a>Elaborazione di messaggi

Nella tabella seguente viene descritta l'elaborazione dei messaggi della finestra eseguita da un controllo visualizzazione elenco.



| Message                  | Elaborazione eseguita                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|--------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **WM \_ CHAR**             | Cerca un elemento di visualizzazione elenco che inizia con il carattere specificato e, se l'elemento viene trovato, seleziona e imposta lo stato attivo sull'elemento. Più caratteri ricevuti in un intervallo di timeout, attualmente fissi in un secondo, vengono concatenati e il controllo visualizzazione elenco cerca un elemento che inizia con la stringa risultante.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **COMANDO \_ WM**          | Elabora i codici [di \_ notifica EN UPDATE](en-update.md) e [EN \_ KILLFOCUS](en-killfocus.md) e inoltra tutte le altre notifiche di controllo di modifica alla finestra padre.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **WM \_ CREATE**           | Esegue l'inizializzazione [**aggiuntiva di WM \_ NCCREATE.**](/windows/desktop/winmsg/wm-nccreate) Se lo [**stile della finestra LVS \_ SHAREIMAGELISTS**](list-view-window-styles.md) non è specificato, a questo punto il controllo visualizzazione elenco crea gli elenchi di immagini icona e icona piccola.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **WM \_ DESTROY**          | Libera le risorse allocate durante [**WM \_ CREATE.**](/windows/desktop/winmsg/wm-create)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ ERASEBKGND**       | Cancella lo sfondo della finestra usando il colore di sfondo corrente per il controllo visualizzazione elenco. Se il colore di sfondo è il valore CLR NONE, il controllo visualizzazione elenco inoltra \_ il messaggio alla finestra padre.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **WM \_ GETDLGCODE**       | Restituisce una combinazione dei valori DLGC \_ WANTTAB e DLGC \_ WANTARROWS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **WM \_ GETFONT**          | Restituisce l'handle per il tipo di carattere dell'etichetta corrente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **WM \_ HSCROLL**          | Scorre orizzontalmente il controllo visualizzazione elenco.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **WM \_ KEYDOWN**          | Elabora la BARRA SPAZIATRICE, INVIO e i tasti di direzione e invia un codice di notifica [LVN \_ KEYDOWN](lvn-keydown.md) alla finestra padre.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **WM \_ KILLFOCUS**        | Ridisegna l'elemento dell'elenco con lo stato attivo, se presente, e invia un codice di notifica [ \_ KILLFOCUS NM](nm-killfocus.md) alla finestra padre.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **WM \_ LBUTTONDBLCLK**    | Invia alla finestra padre un [codice di notifica NM \_ DBLCLK (visualizzazione](nm-dblclk-list-view.md) elenco).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **WM \_ LBUTTONDOWN**      | Elaborato in modi diversi a seconda che venga avviata un'operazione di clic o di trascinamento. Per determinare quale operazione è coinvolta, il controllo visualizzazione elenco entra in un ciclo di messaggi modale fino a quando il pulsante non viene rilasciato o il mouse non viene spostato. Nel caso di un clic, il controllo visualizzazione elenco potrebbe modificare l'elemento con lo stato attivo e gli elementi selezionati, tenendo conto della posizione del cursore, dello stato dei tasti MAIUSC e CTRL e così via. Il controllo visualizzazione elenco invia quindi alla finestra padre un codice di notifica [NM \_ CLICK (visualizzazione](nm-click-list-view.md) elenco).<br/> Se il trascinamento inizia su un elemento, il controllo visualizzazione elenco seleziona e imposta lo stato attivo sull'elemento. Invia quindi un [codice di notifica LVN \_ BEGINDRAG](lvn-begindrag.md) alla finestra padre. La finestra padre è responsabile dell'esecuzione dell'operazione di trascinamento.<br/> Se il trascinamento inizia sullo sfondo della finestra, il controllo visualizzazione elenco entra in un altro ciclo di messaggi modale, consentendo all'utente di formare un rettangolo trascinando il mouse. Gli elementi all'interno del rettangolo vengono selezionati.<br/> |
| **WM \_ NCCREATE**         | Alloca e inizializza una struttura di dati interna e quindi chiama la [**funzione DefWindowProc.**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **WM \_ NCDESTROY**        | Libera le risorse allocate dal controllo di visualizzazione elenco. A meno che non venga usato lo stile [**LVS \_ SHAREIMAGELISTS,**](list-view-window-styles.md) è inclusa l'eliminazione degli elenchi di immagini di piccole e grandi dimensioni.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **WM \_ NOTIFY**           | Elabora i codici di notifica del controllo intestazione.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **WM \_ PAINT**            | Visualizza tutti gli elementi nell'area di aggiornamento. Per gli elementi di callback, il controllo invia prima un codice di notifica [ \_ LVN GETDISPINFO](lvn-getdispinfo.md) alla finestra proprietaria per richiedere informazioni di visualizzazione. Se il *parametro wParam* è diverso da NULL, il controllo presuppone che il valore sia un HDC e disegna usando tale contesto di dispositivo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **WM \_ RBUTTONDOWN**      | Elaborato allo stesso modo del messaggio [**WM \_ LBUTTONDOWN,**](/windows/desktop/inputdev/wm-lbuttondown) ad eccezione del fatto che il controllo invia un codice di notifica [NM \_ RCLICK (visualizzazione elenco)](nm-rclick-list-view.md) (anziché [NM CLICK \_ (visualizzazione elenco)](nm-click-list-view.md)) e un codice di notifica [LVN \_ BEGINRDRAG](lvn-beginrdrag.md) (anziché [LVN \_ BEGINDRAG).](lvn-begindrag.md) Si noti che il controllo elabora il messaggio [**\_ RBUTTONUP WM**](/windows/desktop/inputdev/wm-rbuttonup) corrispondente e non lo invia. Le applicazioni non possono quindi visualizzare questo messaggio, neanche sottoclassando il controllo.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ SETFOCUS**         | Ridisegna l'elemento dell'elenco con lo stato attivo, se presente, e invia un codice di notifica [ \_ NM SETFOCUS](nm-setfocus.md) alla finestra padre.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **WM \_ SETFONT**          | Salva l'handle del tipo di carattere specificato, inoltra il messaggio alla finestra di intestazione, se presente, e ridisegna usando il nuovo tipo di carattere.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ SETREDRAW**        | Attiva o disattiva il ridisegno.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **WM \_ TIMER**            | Inizia la modifica di un'etichetta di elemento. Se l'utente fa clic sull'etichetta dell'elemento con lo stato attivo, il controllo visualizzazione elenco imposta un timer anziché entrare immediatamente in modalità di modifica. Il timer consente al controllo visualizzazione  elenco di non entrare in modalità di modifica se l'utente fa doppio clic sull'etichetta.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **WM \_ VSCROLL**          | Scorre verticalmente il controllo visualizzazione elenco.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **WM \_ WINDOWPOSCHANGED** | Aggiorna le barre di scorrimento della finestra. Se la visualizzazione corrente è a forma di icona o di icona piccola ed è specificato lo stile [**LVS \_ AUTOARRANGE,**](list-view-window-styles.md) anche il controllo visualizzazione elenco dispone gli elementi dell'elenco.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **WM \_ WININICHANGE**     | Elabora le modifiche alle metriche di sistema.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |



 

 

