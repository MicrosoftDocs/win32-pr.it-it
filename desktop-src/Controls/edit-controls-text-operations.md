---
title: Modificare le operazioni di testo del controllo
description: Il sistema elabora automaticamente tutte le operazioni di testo avviate dall'utente e invia una notifica all'applicazione quando le operazioni vengono completate.
ms.assetid: 9af3a1bc-4c87-4cc9-966d-50742be7c811
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9640616cf70b9a2933ef9d4c3fdb2accbfdcabf0
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "104047423"
---
# <a name="edit-control-text-operations"></a><span data-ttu-id="22fca-103">Modificare le operazioni di testo del controllo</span><span class="sxs-lookup"><span data-stu-id="22fca-103">Edit Control Text Operations</span></span>

<span data-ttu-id="22fca-104">Il sistema elabora automaticamente tutte le operazioni di testo avviate dall'utente e invia una notifica all'applicazione quando le operazioni vengono completate.</span><span class="sxs-lookup"><span data-stu-id="22fca-104">The system automatically processes all user-initiated text operations and notifies the application when the operations are completed.</span></span>

<span data-ttu-id="22fca-105">Negli argomenti seguenti vengono illustrate le operazioni di testo avviate dall'utente e la risposta dell'applicazione:</span><span class="sxs-lookup"><span data-stu-id="22fca-105">The following topics discuss user-initiated text operations and the application's response:</span></span>

-   [<span data-ttu-id="22fca-106">Selezione di un controllo di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-106">Selecting an Edit Control</span></span>](#selecting-an-edit-control)
-   [<span data-ttu-id="22fca-107">Impostazione e recupero di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-107">Setting and Retrieving Text</span></span>](#setting-and-retrieving-text)
-   [<span data-ttu-id="22fca-108">Selezione del testo</span><span class="sxs-lookup"><span data-stu-id="22fca-108">Selecting Text</span></span>](#selecting-text)
-   [<span data-ttu-id="22fca-109">Sostituzione di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-109">Replacing Text</span></span>](#replacing-text)
-   [<span data-ttu-id="22fca-110">Modifica del tipo di carattere utilizzato da un controllo di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-110">Changing the Font Used by an Edit Control</span></span>](#changing-the-font-used-by-an-edit-control)
-   [<span data-ttu-id="22fca-111">Taglia operazioni di copia incolla e cancella</span><span class="sxs-lookup"><span data-stu-id="22fca-111">Cut Copy Paste and Clear Operations</span></span>](#cut-copy-paste-and-clear-operations)
-   [<span data-ttu-id="22fca-112">Modifica di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-112">Modifying Text</span></span>](#modifying-text)
-   [<span data-ttu-id="22fca-113">Limitazione del testo immesso dall'utente</span><span class="sxs-lookup"><span data-stu-id="22fca-113">Limiting User Entered Text</span></span>](#limiting-user-entered-text)
-   [<span data-ttu-id="22fca-114">Operazioni di tipo carattere e riga</span><span class="sxs-lookup"><span data-stu-id="22fca-114">Character and Line Operations</span></span>](#character-and-line-operations)
-   [<span data-ttu-id="22fca-115">Scorrimento del testo in un controllo di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-115">Scrolling Text in an Edit Control</span></span>](#scrolling-text-in-an-edit-control)
-   [<span data-ttu-id="22fca-116">Impostazione di tabulazioni e margini</span><span class="sxs-lookup"><span data-stu-id="22fca-116">Setting Tab Stops and Margins</span></span>](#setting-tab-stops-and-margins)
-   [<span data-ttu-id="22fca-117">Nascondi input utente</span><span class="sxs-lookup"><span data-stu-id="22fca-117">Concealing User Input</span></span>](#concealing-user-input)
-   [<span data-ttu-id="22fca-118">Uso di numeri interi</span><span class="sxs-lookup"><span data-stu-id="22fca-118">Using Integers</span></span>](#using-integers)
-   [<span data-ttu-id="22fca-119">Non eseguire operazioni di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-119">Undoing Text Operations</span></span>](#undoing-text-operations)
-   [<span data-ttu-id="22fca-120">Gestione di WordWrap e interruzioni di riga</span><span class="sxs-lookup"><span data-stu-id="22fca-120">Handling Wordwrap and Line Breaks</span></span>](#handling-wordwrap-and-line-breaks)
-   [<span data-ttu-id="22fca-121">Recupero di punti e caratteri</span><span class="sxs-lookup"><span data-stu-id="22fca-121">Retrieving Points and Characters</span></span>](#retrieving-points-and-characters)
-   [<span data-ttu-id="22fca-122">Completamento automatico delle stringhe</span><span class="sxs-lookup"><span data-stu-id="22fca-122">Autocompletion of Strings</span></span>](#autocompletion-of-strings)
-   [<span data-ttu-id="22fca-123">Script complesso nei controlli di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-123">Complex Script in Edit Controls</span></span>](#complex-script-in-edit-controls)

## <a name="selecting-an-edit-control"></a><span data-ttu-id="22fca-124">Selezione di un controllo di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-124">Selecting an Edit Control</span></span>

<span data-ttu-id="22fca-125">L'utente può selezionare un controllo di modifica facendo clic su di esso con il mouse oppure premendo il tasto TAB per spostarsi su di esso.</span><span class="sxs-lookup"><span data-stu-id="22fca-125">The user can select an edit control by clicking it with the mouse or by pressing the TAB key to move to it.</span></span> <span data-ttu-id="22fca-126">Il metodo di tabulazione fa parte di un'interfaccia di tastiera predefinita fornita dal sistema.</span><span class="sxs-lookup"><span data-stu-id="22fca-126">The tabbing method is part of a predefined keyboard interface that the system provides.</span></span> <span data-ttu-id="22fca-127">Per una descrizione completa di questa interfaccia, vedere finestre di [dialogo](/windows/desktop/dlgbox/dialog-boxes).</span><span class="sxs-lookup"><span data-stu-id="22fca-127">For a complete description of this interface, see [Dialog Boxes](/windows/desktop/dlgbox/dialog-boxes).</span></span> <span data-ttu-id="22fca-128">Quando l'utente seleziona un controllo di modifica, il sistema fornisce al controllo lo stato attivo per la tastiera (vedere "attivazione e attivazione della tastiera" in [informazioni sull'input da tastiera](/windows/desktop/inputdev/about-keyboard-input)) ed evidenzia il testo usando il video inverso.</span><span class="sxs-lookup"><span data-stu-id="22fca-128">When the user selects an edit control, the system gives the control the keyboard focus (see "Keyboard Focus and Activation" in [About Keyboard Input](/windows/desktop/inputdev/about-keyboard-input)) and highlights its text by using reverse video.</span></span>

## <a name="setting-and-retrieving-text"></a><span data-ttu-id="22fca-129">Impostazione e recupero di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-129">Setting and Retrieving Text</span></span>

<span data-ttu-id="22fca-130">Un'applicazione può impostare il testo di un controllo di modifica usando la funzione [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta) , la funzione [**SetDlgItemText**](/windows/desktop/DevNotes/-setdlgitemtext) oppure inviando il controllo a un messaggio di [**\_ testo WM**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="22fca-130">An application can set the text of an edit control by using the [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta) function, the [**SetDlgItemText**](/windows/desktop/DevNotes/-setdlgitemtext) function, or by sending the control a [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span>

<span data-ttu-id="22fca-131">Per recuperare tutto il testo da un controllo di modifica, usare prima la funzione [**GetWindowTextLength**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha) o il messaggio [**WM \_ GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) per determinare le dimensioni del buffer necessarie per contenere il testo.</span><span class="sxs-lookup"><span data-stu-id="22fca-131">To retrieve all text from an edit control, first use the [**GetWindowTextLength**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha) function or the [**WM\_GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) message to determine the size of buffer needed to contain the text.</span></span> <span data-ttu-id="22fca-132">Recuperare quindi il testo usando la funzione [**GetWindowText**](/windows/desktop/DevNotes/-getwindowtext) , la funzione [**GetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-getdlgitemtexta) o il messaggio [**WM \_ gettext**](/windows/desktop/winmsg/wm-gettext) .</span><span class="sxs-lookup"><span data-stu-id="22fca-132">Next, retrieve the text by using the [**GetWindowText**](/windows/desktop/DevNotes/-getwindowtext) function, the [**GetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-getdlgitemtexta) function, or the [**WM\_GETTEXT**](/windows/desktop/winmsg/wm-gettext) message.</span></span>

## <a name="selecting-text"></a><span data-ttu-id="22fca-133">Selezione del testo</span><span class="sxs-lookup"><span data-stu-id="22fca-133">Selecting Text</span></span>

<span data-ttu-id="22fca-134">Dopo aver selezionato un controllo di modifica, l'utente può selezionare il testo nel controllo utilizzando il mouse o la tastiera.</span><span class="sxs-lookup"><span data-stu-id="22fca-134">After selecting an edit control, the user can select text in the control by using the mouse or the keyboard.</span></span> <span data-ttu-id="22fca-135">Un'applicazione può recuperare le posizioni dei caratteri iniziale e finale della selezione corrente in un controllo di modifica inviando al controllo un messaggio [**\_ GETSEL em**](em-getsel.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-135">An application can retrieve the starting and ending character positions of the current selection in an edit control by sending the control an [**EM\_GETSEL**](em-getsel.md) message.</span></span> <span data-ttu-id="22fca-136">Il valore restituito per la posizione finale è maggiore di uno rispetto all'ultimo carattere della selezione, ovvero la posizione del primo carattere che segue l'ultimo carattere selezionato.</span><span class="sxs-lookup"><span data-stu-id="22fca-136">The return value for the ending position is one greater than the last character in the selection (that is, the position of the first character following the last selected character).</span></span>

<span data-ttu-id="22fca-137">Un'applicazione può anche selezionare il testo in un controllo di modifica inviando il controllo un messaggio [**\_ SETSEL em**](em-setsel.md) con gli indici dei caratteri iniziale e finale per la selezione.</span><span class="sxs-lookup"><span data-stu-id="22fca-137">An application can also select text in an edit control by sending the control an [**EM\_SETSEL**](em-setsel.md) message with the starting and ending character indexes for the selection.</span></span> <span data-ttu-id="22fca-138">Ad esempio, l'applicazione può usare **em \_ SETSEL** con [**em \_ REPLACESEL**](em-replacesel.md) per eliminare il testo da un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-138">For example, the application can use **EM\_SETSEL** with [**EM\_REPLACESEL**](em-replacesel.md) to delete text from an edit control.</span></span>

<span data-ttu-id="22fca-139">Questi tre messaggi si applicano ai controlli di modifica a riga singola e a più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-139">These three messages apply to both single-line and multiline edit controls.</span></span>

## <a name="replacing-text"></a><span data-ttu-id="22fca-140">Sostituzione di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-140">Replacing Text</span></span>

<span data-ttu-id="22fca-141">Un'applicazione può sostituire il testo selezionato in un controllo di modifica inviando il controllo un messaggio [**\_ REPLACESEL em**](em-replacesel.md) con un puntatore al testo sostitutivo.</span><span class="sxs-lookup"><span data-stu-id="22fca-141">An application can replace selected text in an edit control by sending the control an [**EM\_REPLACESEL**](em-replacesel.md) message with a pointer to the replacement text.</span></span> <span data-ttu-id="22fca-142">Se non è presente alcuna selezione corrente, **em \_ REPLACESEL** inserisce il testo di sostituzione in corrispondenza del punto di inserimento.</span><span class="sxs-lookup"><span data-stu-id="22fca-142">If there is no current selection, **EM\_REPLACESEL** inserts the replacement text at the insertion point.</span></span> <span data-ttu-id="22fca-143">Se il testo di sostituzione supera la memoria disponibile, l'applicazione può ricevere un codice di notifica [en \_ ERRSPACE](en-errspace.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-143">The application may receive an [EN\_ERRSPACE](en-errspace.md) notification code if the replacement text exceeds the available memory.</span></span> <span data-ttu-id="22fca-144">Questo messaggio si applica ai controlli di modifica a riga singola e a più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-144">This message applies to both single-line and multiline edit controls.</span></span>

<span data-ttu-id="22fca-145">Un'applicazione può usare [**em \_ REPLACESEL**](em-replacesel.md) per sostituire parte del testo di un controllo di modifica o la funzione [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) per sostituirla.</span><span class="sxs-lookup"><span data-stu-id="22fca-145">An application can use [**EM\_REPLACESEL**](em-replacesel.md) to replace part of an edit control's text or the [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function to replace all of it.</span></span>

## <a name="changing-the-font-used-by-an-edit-control"></a><span data-ttu-id="22fca-146">Modifica del tipo di carattere utilizzato da un controllo di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-146">Changing the Font Used by an Edit Control</span></span>

<span data-ttu-id="22fca-147">Un'applicazione può modificare il tipo di carattere utilizzato da un controllo di modifica inviando il messaggio [**WM \_ sefont**](/windows/desktop/winmsg/wm-setfont) .</span><span class="sxs-lookup"><span data-stu-id="22fca-147">An application can change the font that an edit control uses by sending the [**WM\_SETFONT**](/windows/desktop/winmsg/wm-setfont) message.</span></span> <span data-ttu-id="22fca-148">Questa operazione viene eseguita dalla maggior parte delle applicazioni durante l'elaborazione del messaggio [**WM \_ INITDIALOG**](/windows/desktop/dlgbox/wm-initdialog) .</span><span class="sxs-lookup"><span data-stu-id="22fca-148">Most applications do this while processing the [**WM\_INITDIALOG**](/windows/desktop/dlgbox/wm-initdialog) message.</span></span> <span data-ttu-id="22fca-149">La modifica del tipo di carattere non modifica le dimensioni del controllo di modifica; le applicazioni che inviano il messaggio di **\_ tipo carattere di tipo WM** possono dover recuperare la metrica del tipo di carattere per il testo e ricalcolare le dimensioni del controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-149">Changing the font does not change the size of the edit control; applications that send the **WM\_SETFONT** message may have to retrieve the font metrics for the text and recalculate the size of the edit control.</span></span> <span data-ttu-id="22fca-150">Per altre informazioni sui tipi di carattere e sulle metriche dei tipi di carattere, vedere [caratteri e testo](/windows/desktop/gdi/fonts-and-text).</span><span class="sxs-lookup"><span data-stu-id="22fca-150">For more information about fonts and font metrics, see [Fonts and Text](/windows/desktop/gdi/fonts-and-text).</span></span>

## <a name="cut-copy-paste-and-clear-operations"></a><span data-ttu-id="22fca-151">Taglia operazioni di copia incolla e cancella</span><span class="sxs-lookup"><span data-stu-id="22fca-151">Cut Copy Paste and Clear Operations</span></span>

<span data-ttu-id="22fca-152">Sono disponibili quattro messaggi per lo trasferimento di testo tra un controllo di modifica e gli Appunti.</span><span class="sxs-lookup"><span data-stu-id="22fca-152">There are four messages for moving text between an edit control and the clipboard.</span></span> <span data-ttu-id="22fca-153">Il messaggio di [**\_ copia WM**](/windows/desktop/dataxchg/wm-copy) copia la selezione corrente, se presente, da un controllo di modifica negli Appunti senza eliminarlo dal controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-153">The [**WM\_COPY**](/windows/desktop/dataxchg/wm-copy) message copies the current selection (if any) from an edit control to the clipboard without deleting it from the edit control.</span></span> <span data-ttu-id="22fca-154">Il messaggio [**WM \_ Cut**](/windows/desktop/dataxchg/wm-cut) Elimina la selezione corrente (se presente) nel controllo di modifica e copia il testo eliminato negli Appunti.</span><span class="sxs-lookup"><span data-stu-id="22fca-154">The [**WM\_CUT**](/windows/desktop/dataxchg/wm-cut) message deletes the current selection (if any) in the edit control and copies the deleted text to the clipboard.</span></span> <span data-ttu-id="22fca-155">Il messaggio [**WM \_ Clear**](/windows/desktop/dataxchg/wm-clear) Elimina la selezione corrente, se presente, da un controllo di modifica, ma non lo copia negli Appunti, a meno che l'utente non abbia premuto il tasto MAIUSC.</span><span class="sxs-lookup"><span data-stu-id="22fca-155">The [**WM\_CLEAR**](/windows/desktop/dataxchg/wm-clear) message deletes the current selection (if any) from an edit control, but does not copy it to the clipboard (unless the user pressed the SHIFT key).</span></span> <span data-ttu-id="22fca-156">Il messaggio [**WM \_ Incolla**](/windows/desktop/dataxchg/wm-paste) copia il testo dagli Appunti in un controllo di modifica nel punto di inserimento.</span><span class="sxs-lookup"><span data-stu-id="22fca-156">The [**WM\_PASTE**](/windows/desktop/dataxchg/wm-paste) message copies text from the clipboard into an edit control at the insertion point.</span></span> <span data-ttu-id="22fca-157">Questi quattro messaggi si applicano ai controlli di modifica a riga singola e a più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-157">These four messages apply to both single-line and multiline edit controls.</span></span>

<span data-ttu-id="22fca-158">Microsoft Windows NT 4,0 e versioni successive: un controllo di modifica include un menu di scelta rapida incorporato che rende più semplice per l'utente spostare il testo tra il controllo di modifica e gli Appunti.</span><span class="sxs-lookup"><span data-stu-id="22fca-158">Microsoft Windows NT 4.0 and later: An edit control includes a built-in context menu that makes it easy for the user to move text between the edit control and the clipboard.</span></span> <span data-ttu-id="22fca-159">Il menu di scelta rapida viene visualizzato quando l'utente fa clic con il pulsante destro del mouse sul controllo.</span><span class="sxs-lookup"><span data-stu-id="22fca-159">The context menu appears when the user right-clicks the control.</span></span> <span data-ttu-id="22fca-160">I comandi nel menu di scelta rapida includono le opzioni **Annulla**, **taglia**, **copia**, **Incolla**, **Elimina** e **Seleziona tutto**.</span><span class="sxs-lookup"><span data-stu-id="22fca-160">The commands in the context menu include **Undo**, **Cut**, **Copy**, **Paste**, **Delete**, and **Select All**.</span></span>

## <a name="modifying-text"></a><span data-ttu-id="22fca-161">Modifica di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-161">Modifying Text</span></span>

<span data-ttu-id="22fca-162">L'utente può selezionare, eliminare o spostare il testo in un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-162">The user can select, delete, or move text in an edit control.</span></span> <span data-ttu-id="22fca-163">Il sistema mantiene un flag interno per ogni controllo di modifica che indica se il contenuto del controllo è stato modificato.</span><span class="sxs-lookup"><span data-stu-id="22fca-163">The system maintains an internal flag for each edit control indicating whether the content of the control has been modified.</span></span> <span data-ttu-id="22fca-164">Il sistema cancella questo flag quando crea il controllo e imposta il flag ogni volta che il testo nel controllo viene modificato.</span><span class="sxs-lookup"><span data-stu-id="22fca-164">The system clears this flag when it creates the control and sets the flag whenever the text in the control is modified.</span></span> <span data-ttu-id="22fca-165">Un'applicazione può recuperare il flag di modifica inviando al controllo un messaggio [**\_ GetModify em**](em-getmodify.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-165">An application can retrieve the modification flag by sending the control an [**EM\_GETMODIFY**](em-getmodify.md) message.</span></span> <span data-ttu-id="22fca-166">L'applicazione può quindi impostare o deselezionare il flag di modifica inviando il controllo un messaggio di modifica [**em \_**](em-setmodify.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-166">The application can then set or clear the modification flag by sending the control an [**EM\_SETMODIFY**](em-setmodify.md) message.</span></span> <span data-ttu-id="22fca-167">Questi messaggi si applicano ai controlli di modifica a riga singola e a più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-167">These messages apply to both single-line and multiline edit controls.</span></span>

## <a name="limiting-user-entered-text"></a><span data-ttu-id="22fca-168">Limitazione del testo immesso dall'utente</span><span class="sxs-lookup"><span data-stu-id="22fca-168">Limiting User Entered Text</span></span>

<span data-ttu-id="22fca-169">Il limite predefinito per la quantità di testo che un utente può immettere in un controllo di modifica è 32 KB.</span><span class="sxs-lookup"><span data-stu-id="22fca-169">The default limit to the amount of text a user can enter in an edit control is 32 KB.</span></span> <span data-ttu-id="22fca-170">Un'applicazione può modificare il limite predefinito inviando il controllo un [**messaggio \_ SETLIMITTEXT em**](em-setlimittext.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-170">An application can change the default limit by sending the control an [**EM\_SETLIMITTEXT**](em-setlimittext.md) message.</span></span> <span data-ttu-id="22fca-171">Questo messaggio consente di impostare un limite rigido per il numero di byte che l'utente può immettere in un controllo di modifica, ma non influiscono sul testo che è già presente nel controllo quando il messaggio è stato inviato, né sul testo copiato nel controllo mediante la funzione [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) o il messaggio di testo [**WM \_**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="22fca-171">This message sets a hard limit to the number of bytes the user can enter into an edit control, but affects neither text that is already in the control when the message was sent nor text copied to the control by the [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function or the [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span> <span data-ttu-id="22fca-172">Si supponga, ad esempio, che l'applicazione usi la funzione **SetDlgItemText** per inserire 500 byte in un controllo di modifica e che l'utente immetta anche 500 byte (1.000 byte totali).</span><span class="sxs-lookup"><span data-stu-id="22fca-172">For example, suppose that the application uses the **SetDlgItemText** function to place 500 bytes in an edit control, and the user also enters 500 bytes (1,000 bytes total).</span></span> <span data-ttu-id="22fca-173">Se l'applicazione invia quindi un messaggio **em \_ SETLIMITTEXT** che limita il testo immesso dall'utente a 300 byte, i 1.000 byte già presenti nel controllo di modifica rimarranno in tale posizione e l'utente non potrà aggiungere altro testo.</span><span class="sxs-lookup"><span data-stu-id="22fca-173">If the application then sends an **EM\_SETLIMITTEXT** message limiting user-entered text to 300 bytes, the 1,000 bytes already in the edit control remain there, and the user cannot add any more text.</span></span> <span data-ttu-id="22fca-174">D'altra parte, se l'applicazione invia un messaggio **em \_ SETLIMITTEXT** limitando il testo immesso dall'utente a 1.300 byte, i 1.000 byte rimangono, ma l'utente può aggiungere 300 più byte.</span><span class="sxs-lookup"><span data-stu-id="22fca-174">On the other hand, if the application sends an **EM\_SETLIMITTEXT** message limiting user-entered text to 1,300 bytes, the 1,000 bytes remain, but the user can add 300 more bytes.</span></span>

<span data-ttu-id="22fca-175">Quando l'utente raggiunge il limite di caratteri di un controllo di modifica, il sistema invia all'applicazione un messaggio di [**\_ comando WM**](/windows/desktop/menurc/wm-command) contenente un codice di notifica [en \_ MAXTEXT](en-maxtext.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-175">When the user reaches the character limit of an edit control, the system sends the application a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message containing an [EN\_MAXTEXT](en-maxtext.md) notification code.</span></span> <span data-ttu-id="22fca-176">Questo codice di notifica non significa che la memoria è stata esaurita, ma che è stato raggiunto il limite per il testo immesso dall'utente. l'utente non può immettere altro testo.</span><span class="sxs-lookup"><span data-stu-id="22fca-176">This notification code does not mean that memory has been exhausted, but that the limit for user-entered text has been reached; the user cannot enter any more text.</span></span> <span data-ttu-id="22fca-177">Per modificare questo limite, un'applicazione deve inviare al controllo un nuovo [**messaggio \_ SETLIMITTEXT em**](em-setlimittext.md) con un limite superiore.</span><span class="sxs-lookup"><span data-stu-id="22fca-177">To change this limit, an application must send the control a new [**EM\_SETLIMITTEXT**](em-setlimittext.md) message with a higher limit.</span></span>

<span data-ttu-id="22fca-178">Come esempio di utilizzo di [**em \_ SETLIMITTEXT**](em-setlimittext.md) e [en \_ MAXTEXT](en-maxtext.md), si supponga che l'applicazione debba limitare l'utente a non più di quattro caratteri in un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-178">As an example of the use of [**EM\_SETLIMITTEXT**](em-setlimittext.md) and [EN\_MAXTEXT](en-maxtext.md), suppose that the application must limit the user to no more than four characters in an edit control.</span></span> <span data-ttu-id="22fca-179">L'applicazione userà **em \_ SETLIMITTEXT** per specificare un limite di quattro caratteri.</span><span class="sxs-lookup"><span data-stu-id="22fca-179">The application would use **EM\_SETLIMITTEXT** to specify a four-character limit.</span></span> <span data-ttu-id="22fca-180">Se l'utente ha tentato di immettere un quinto carattere, il sistema invierà un \_ codice di notifica en MAXTEXT all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="22fca-180">If the user tried to enter a fifth character, the system would send an EN\_MAXTEXT notification code to the application.</span></span>

## <a name="character-and-line-operations"></a><span data-ttu-id="22fca-181">Operazioni di tipo carattere e riga</span><span class="sxs-lookup"><span data-stu-id="22fca-181">Character and Line Operations</span></span>

<span data-ttu-id="22fca-182">Sono disponibili diversi messaggi che restituiscono informazioni sui caratteri e le righe in un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-182">There are several messages that return information about the characters and lines in an edit control.</span></span> <span data-ttu-id="22fca-183">La maggior parte dei messaggi restituisce un indice, in genere un numero in base zero, per fare riferimento a un carattere o a una riga.</span><span class="sxs-lookup"><span data-stu-id="22fca-183">Most of the messages return an index, usually a zero-based number, to refer to a character or line.</span></span> <span data-ttu-id="22fca-184">Ad esempio, in un controllo di modifica a riga singola che contiene n caratteri, l'indice di riga è zero e i caratteri sono indicizzati da zero a n-1.</span><span class="sxs-lookup"><span data-stu-id="22fca-184">For example, in a single-line edit control that contains n characters, the line index is zero and the characters are indexed from zero to n-1.</span></span> <span data-ttu-id="22fca-185">In un controllo di modifica su più righe che contiene m righe e n caratteri, le linee vengono indicizzate da zero a m-1 e i caratteri vengono indicizzati da zero a n-1.</span><span class="sxs-lookup"><span data-stu-id="22fca-185">In a multiline edit control that contains m lines and n characters, the lines are indexed from zero to m-1, and the characters are indexed from zero to n-1.</span></span> <span data-ttu-id="22fca-186">Si noti che l'indicizzazione di caratteri ignora le interruzioni di riga.</span><span class="sxs-lookup"><span data-stu-id="22fca-186">Note that character indexing ignores line breaks.</span></span>

<span data-ttu-id="22fca-187">Un'applicazione può determinare il numero di caratteri in un controllo di modifica inviando il messaggio [**WM \_ GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) al controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-187">An application can determine the number of characters in an edit control by sending the [**WM\_GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) message to the edit control.</span></span> <span data-ttu-id="22fca-188">Questo messaggio restituisce la lunghezza, in caratteri, escluso il carattere null di terminazione, del testo in un controllo di modifica a riga singola o su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-188">This message returns the length, in characters (not including the terminating null character), of the text in a single-line or multiline edit control.</span></span> <span data-ttu-id="22fca-189">Il [**messaggio \_ LINELENGTH em**](em-linelength.md) restituisce la lunghezza, in caratteri, di una riga specificata dall'indice dei caratteri di un carattere nella riga.</span><span class="sxs-lookup"><span data-stu-id="22fca-189">The [**EM\_LINELENGTH**](em-linelength.md) message returns the length, in characters, of a line specified by the character index of a character in the line.</span></span> <span data-ttu-id="22fca-190">La lunghezza restituita non include alcun carattere selezionato.</span><span class="sxs-lookup"><span data-stu-id="22fca-190">The returned length does not include any selected characters.</span></span> <span data-ttu-id="22fca-191">Un'applicazione può usare questi messaggi in un controllo di modifica a riga singola o su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-191">An application can use these messages in a single-line or multiline edit control.</span></span>

<span data-ttu-id="22fca-192">Il [**messaggio \_ GETFIRSTVISIBLELINE em**](em-getfirstvisibleline.md) restituisce l'indice in base zero della riga visibile più in alto in un controllo di modifica a più righe o l'indice in base zero del primo carattere visibile in un controllo di modifica a riga singola.</span><span class="sxs-lookup"><span data-stu-id="22fca-192">The [**EM\_GETFIRSTVISIBLELINE**](em-getfirstvisibleline.md) message returns the zero-based index of the uppermost visible line in a multiline edit control, or the zero-based index of the first visible character in a single-line edit control.</span></span> <span data-ttu-id="22fca-193">Un'applicazione può copiare una riga da un controllo di modifica in un buffer inviando il messaggio [**\_ getline em**](em-getline.md) al controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-193">An application can copy a line from an edit control to a buffer by sending the [**EM\_GETLINE**](em-getline.md) message to the edit control.</span></span> <span data-ttu-id="22fca-194">La riga viene specificata in base all'indice di riga e la prima parola del buffer di ricezione contiene il numero massimo di byte da copiare nel buffer.</span><span class="sxs-lookup"><span data-stu-id="22fca-194">The line is specified by its line index and the first word of the receiving buffer contains the maximum number of bytes to be copied to the buffer.</span></span> <span data-ttu-id="22fca-195">Il valore restituito è il numero di byte copiati.</span><span class="sxs-lookup"><span data-stu-id="22fca-195">The return value is the number of bytes copied.</span></span> <span data-ttu-id="22fca-196">Questo messaggio può essere usato anche in un controllo di modifica a riga singola o su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-196">This message can also be used in a single-line or multiline edit control.</span></span>

<span data-ttu-id="22fca-197">Sono disponibili messaggi univoci per restituire le informazioni su una riga in un controllo di modifica su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-197">There are unique messages available to return the information about a line in a multiline edit control.</span></span> <span data-ttu-id="22fca-198">Il [**messaggio \_ GETLINECOUNT em**](em-getlinecount.md) restituisce il numero di righe in un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-198">The [**EM\_GETLINECOUNT**](em-getlinecount.md) message returns the number of lines in an edit control.</span></span> <span data-ttu-id="22fca-199">Il [**messaggio \_ LINEFROMCHAR em**](em-linefromchar.md) restituisce l'indice della riga contenente un indice dei caratteri specificato.</span><span class="sxs-lookup"><span data-stu-id="22fca-199">The [**EM\_LINEFROMCHAR**](em-linefromchar.md) message returns the index of the line containing a specified character index.</span></span> <span data-ttu-id="22fca-200">Il [**messaggio \_ LINEINDEX em**](em-lineindex.md) restituisce l'indice del primo carattere in una riga specificata.</span><span class="sxs-lookup"><span data-stu-id="22fca-200">The [**EM\_LINEINDEX**](em-lineindex.md) message returns the index of the first character in a specified line.</span></span>

## <a name="scrolling-text-in-an-edit-control"></a><span data-ttu-id="22fca-201">Scorrimento del testo in un controllo di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-201">Scrolling Text in an Edit Control</span></span>

<span data-ttu-id="22fca-202">Per implementare lo scorrimento in un controllo di modifica, è possibile usare gli stili di scorrimento automatico descritti in [modifica tipi di controllo e stili](about-edit-controls.md)oppure è possibile aggiungere in modo esplicito le barre di scorrimento al controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-202">To implement scrolling in an edit control, you can use the automatic scrolling styles discussed in [Edit Control Types and Styles](about-edit-controls.md), or you can explicitly add scroll bars to the edit control.</span></span> <span data-ttu-id="22fca-203">Per aggiungere una barra di scorrimento orizzontale, utilizzare lo stile WS \_ HSCROLL; per aggiungere una barra di scorrimento verticale, utilizzare lo stile [**WS \_ VSCROLL**](/windows/desktop/winmsg/window-styles).</span><span class="sxs-lookup"><span data-stu-id="22fca-203">To add a horizontal scroll bar, use the style WS\_HSCROLL; to add a vertical scroll bar, use the style [**WS\_VSCROLL**](/windows/desktop/winmsg/window-styles).</span></span> <span data-ttu-id="22fca-204">Un controllo di modifica con barre di scorrimento elabora i propri messaggi della barra di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="22fca-204">An edit control with scroll bars processes its own scroll bar messages.</span></span> <span data-ttu-id="22fca-205">Per informazioni dettagliate sull'aggiunta di barre di scorrimento ai controlli di modifica, vedere [barre di scorrimento](scroll-bars.md).</span><span class="sxs-lookup"><span data-stu-id="22fca-205">For detailed information about adding scroll bars to edit controls, see [Scroll Bars](scroll-bars.md).</span></span>

<span data-ttu-id="22fca-206">Il sistema fornisce tre messaggi che un'applicazione può inviare a un controllo di modifica con barre di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="22fca-206">The system provides three messages that an application can send to an edit control with scroll bars.</span></span> <span data-ttu-id="22fca-207">Il [**messaggio \_ LINESCROLL em**](em-linescroll.md) può scorrere un controllo di modifica su più righe sia verticalmente che orizzontalmente.</span><span class="sxs-lookup"><span data-stu-id="22fca-207">The [**EM\_LINESCROLL**](em-linescroll.md) message can scroll a multiline edit control both vertically and horizontally.</span></span> <span data-ttu-id="22fca-208">Il parametro *lParam* specifica il numero di righe da scorrere verticalmente a partire dalla riga corrente e il parametro *wParam* specifica il numero di caratteri da scorrere orizzontalmente, a partire dal carattere corrente.</span><span class="sxs-lookup"><span data-stu-id="22fca-208">The *lParam* parameter specifies the number of lines to scroll vertically starting from the current line and the *wParam* parameter specifies the number of characters to scroll horizontally, starting from the current character.</span></span> <span data-ttu-id="22fca-209">Il controllo di modifica non riconosce i messaggi di scorrimento orizzontale se presenta lo stile [**es \_ Center**](edit-control-styles.md) o [**es \_ right**](edit-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-209">The edit control does not acknowledge horizontal scrolling messages if it has the [**ES\_CENTER**](edit-control-styles.md) or [**ES\_RIGHT**](edit-control-styles.md) style.</span></span> <span data-ttu-id="22fca-210">Il **messaggio \_ LINESCROLL em** si applica solo ai controlli di modifica su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-210">The **EM\_LINESCROLL** message applies to multiline edit controls only.</span></span>

<span data-ttu-id="22fca-211">Il messaggio di [**\_ scorrimento em**](em-scroll.md) scorre verticalmente un controllo di modifica su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-211">The [**EM\_SCROLL**](em-scroll.md) message scrolls a multiline edit control vertically.</span></span> <span data-ttu-id="22fca-212">Il parametro *wParam* specifica l'azione di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="22fca-212">The *wParam* parameter specifies the scrolling action.</span></span> <span data-ttu-id="22fca-213">Il messaggio di **\_ scorrimento em** si applica solo ai controlli di modifica su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-213">The **EM\_SCROLL** message applies to multiline edit controls only.</span></span> <span data-ttu-id="22fca-214">**Em \_ SCROLL** ha lo stesso effetto del messaggio [**WM \_ VSCROLL**](wm-vscroll.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-214">**EM\_SCROLL** has the same effect as the [**WM\_VSCROLL**](wm-vscroll.md) message.</span></span>

<span data-ttu-id="22fca-215">Il [**messaggio \_ SCROLLCARET em**](em-scrollcaret.md) scorre il punto di inserimento nella visualizzazione in un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-215">The [**EM\_SCROLLCARET**](em-scrollcaret.md) message scrolls the caret into view in an edit control.</span></span>

## <a name="setting-tab-stops-and-margins"></a><span data-ttu-id="22fca-216">Impostazione di tabulazioni e margini</span><span class="sxs-lookup"><span data-stu-id="22fca-216">Setting Tab Stops and Margins</span></span>

<span data-ttu-id="22fca-217">Un'applicazione può impostare le tabulazioni in un controllo di modifica su più righe usando il messaggio [**\_ SETTABSTOPS em**](em-settabstops.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-217">An application can set tab stops in a multiline edit control by using the [**EM\_SETTABSTOPS**](em-settabstops.md) message.</span></span> <span data-ttu-id="22fca-218">Il valore predefinito per una tabulazione è di otto caratteri. Quando un'applicazione aggiunge testo al controllo di modifica, i caratteri di tabulazione nel testo generano automaticamente lo spazio fino alla tabulazione successiva.</span><span class="sxs-lookup"><span data-stu-id="22fca-218">(The default for a tab stop is eight characters.) When an application adds text to the edit control, tab characters in the text automatically generate space up to the next tab stop.</span></span> <span data-ttu-id="22fca-219">Il **messaggio \_ SETTABSTOPS em** non determina automaticamente il riprogetto del testo da parte del sistema.</span><span class="sxs-lookup"><span data-stu-id="22fca-219">The **EM\_SETTABSTOPS** message does not automatically cause the system to redraw the text.</span></span> <span data-ttu-id="22fca-220">A tale scopo, un'applicazione può chiamare la funzione [**InvalidateRect**](/windows/desktop/api/winuser/nf-winuser-invalidaterect) .</span><span class="sxs-lookup"><span data-stu-id="22fca-220">To do that, an application can call the [**InvalidateRect**](/windows/desktop/api/winuser/nf-winuser-invalidaterect) function.</span></span> <span data-ttu-id="22fca-221">Il **messaggio \_ SETTABSTOPS em** si applica solo ai controlli di modifica su più righe.</span><span class="sxs-lookup"><span data-stu-id="22fca-221">The **EM\_SETTABSTOPS** message applies to multiline edit controls only.</span></span>

<span data-ttu-id="22fca-222">Un'applicazione può impostare la larghezza dei margini sinistro e destro per un controllo di modifica tramite il messaggio [**em \_ semargins**](em-setmargins.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-222">An application can set the width of the left and right margins for an edit control by using the [**EM\_SETMARGINS**](em-setmargins.md) message.</span></span> <span data-ttu-id="22fca-223">Dopo l'invio del messaggio, il sistema riestrae il controllo di modifica in modo da riflettere le nuove impostazioni dei margini.</span><span class="sxs-lookup"><span data-stu-id="22fca-223">After sending this message, the system redraws the edit control to reflect the new margin settings.</span></span> <span data-ttu-id="22fca-224">Un'applicazione può recuperare la larghezza del margine sinistro o destro inviando il messaggio [**\_ GetMargins em**](em-getmargins.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-224">An application can retrieve the width of the left or right margin by sending the [**EM\_GETMARGINS**](em-getmargins.md) message.</span></span> <span data-ttu-id="22fca-225">Per impostazione predefinita, i margini del controllo di modifica sono impostati in modo sufficientemente ampio da contenere la sporgenza orizzontale del carattere più grande (larghezze ABC negative) per il tipo di carattere corrente usato nel controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-225">By default, the edit control margins are set just wide enough to accommodate the largest character horizontal overhang (negative ABC widths) for the current font being used in the edit control.</span></span>

## <a name="concealing-user-input"></a><span data-ttu-id="22fca-226">Nascondi input utente</span><span class="sxs-lookup"><span data-stu-id="22fca-226">Concealing User Input</span></span>

<span data-ttu-id="22fca-227">Un'applicazione può usare un carattere di password in un controllo di modifica per nascondere l'input dell'utente.</span><span class="sxs-lookup"><span data-stu-id="22fca-227">An application can use a password character in an edit control to conceal user input.</span></span> <span data-ttu-id="22fca-228">Quando viene impostato un carattere di password, viene visualizzato al posto di ogni carattere che l'utente digita.</span><span class="sxs-lookup"><span data-stu-id="22fca-228">When a password character is set, it is displayed in place of each character the user types.</span></span> <span data-ttu-id="22fca-229">Quando viene rimosso un carattere della password, il controllo Visualizza i caratteri che i tipi di utente.</span><span class="sxs-lookup"><span data-stu-id="22fca-229">When a password character is removed, the control displays the characters the user types.</span></span> <span data-ttu-id="22fca-230">Se l'applicazione crea un controllo di modifica a riga singola usando la [**\_ password**](edit-control-styles.md)di tipo es, il carattere predefinito per la password è un asterisco ( \* ).</span><span class="sxs-lookup"><span data-stu-id="22fca-230">If the application creates a single-line edit control using the style [**ES\_PASSWORD**](edit-control-styles.md), the default password character is an asterisk (\*).</span></span> <span data-ttu-id="22fca-231">Un'applicazione può usare il [**messaggio \_ SETPASSWORDCHAR em**](em-setpasswordchar.md) per rimuovere o definire un carattere diverso per la password e il messaggio [**\_ GETPASSWORDCHAR em**](em-getpasswordchar.md) per recuperare il carattere della password corrente.</span><span class="sxs-lookup"><span data-stu-id="22fca-231">An application can use the [**EM\_SETPASSWORDCHAR**](em-setpasswordchar.md) message to remove or define a different password character and the [**EM\_GETPASSWORDCHAR**](em-getpasswordchar.md) message to retrieve the current password character.</span></span> <span data-ttu-id="22fca-232">Questi messaggi si applicano solo ai controlli di modifica a riga singola.</span><span class="sxs-lookup"><span data-stu-id="22fca-232">These messages apply to single-line edit controls only.</span></span>

## <a name="using-integers"></a><span data-ttu-id="22fca-233">Uso di numeri interi</span><span class="sxs-lookup"><span data-stu-id="22fca-233">Using Integers</span></span>

<span data-ttu-id="22fca-234">Sono disponibili due funzioni di conversione integer per i controlli di modifica progettati per contenere solo numeri.</span><span class="sxs-lookup"><span data-stu-id="22fca-234">There are two integer-conversion functions for edit controls designed to contain numbers only.</span></span> <span data-ttu-id="22fca-235">La funzione [**SetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-setdlgitemint) crea la rappresentazione di stringa di un intero specificato (con segno o senza segno) e Invia la stringa a un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-235">The [**SetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-setdlgitemint) function creates the string representation of a specified integer (signed or unsigned) and sends the string to an edit control.</span></span> <span data-ttu-id="22fca-236">**SetDlgItemInt** non restituisce alcun valore.</span><span class="sxs-lookup"><span data-stu-id="22fca-236">**SetDlgItemInt** returns no value.</span></span> <span data-ttu-id="22fca-237">La funzione [**GetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-getdlgitemint) crea un intero (con segno o senza segno) dalla relativa rappresentazione di stringa in un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-237">The [**GetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-getdlgitemint) function creates an integer (signed or unsigned) from its string representation in an edit control.</span></span> <span data-ttu-id="22fca-238">**GetDlgItemInt** restituisce l'intero (o un valore di errore).</span><span class="sxs-lookup"><span data-stu-id="22fca-238">**GetDlgItemInt** returns the integer (or an error value).</span></span>

## <a name="undoing-text-operations"></a><span data-ttu-id="22fca-239">Non eseguire operazioni di testo</span><span class="sxs-lookup"><span data-stu-id="22fca-239">Undoing Text Operations</span></span>

<span data-ttu-id="22fca-240">Ogni controllo di modifica gestisce un flag di annullamento che indica se un'applicazione può invertire o annullare l'operazione più recente sul controllo di modifica (ad esempio, annullando un'eliminazione del testo).</span><span class="sxs-lookup"><span data-stu-id="22fca-240">Every edit control maintains an undo flag that indicates whether an application can reverse or undo the most recent operation on the edit control (undoing a text deletion, for example).</span></span> <span data-ttu-id="22fca-241">Il controllo di modifica imposta il flag di annullamento per indicare che l'operazione può essere annullata e reimpostata per indicare che l'operazione non può essere annullata.</span><span class="sxs-lookup"><span data-stu-id="22fca-241">The edit control sets the undo flag to indicate that the operation can be undone and resets it to indicate that the operation cannot be undone.</span></span> <span data-ttu-id="22fca-242">Un'applicazione può determinare l'impostazione del flag di annullamento inviando il controllo un [**messaggio \_ CANUNDO em**](em-canundo.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-242">An application can determine the setting of the undo flag by sending the control an [**EM\_CANUNDO**](em-canundo.md) message.</span></span>

<span data-ttu-id="22fca-243">Un'applicazione può annullare l'operazione più recente inviando al controllo un messaggio di [**\_ annullamento em**](em-undo.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-243">An application can undo the most recent operation by sending the control an [**EM\_UNDO**](em-undo.md) message.</span></span> <span data-ttu-id="22fca-244">Un'operazione può essere annullata purché non venga eseguita per prima un'altra operazione di modifica del controllo.</span><span class="sxs-lookup"><span data-stu-id="22fca-244">An operation can be undone provided no other edit control operation occurs first.</span></span> <span data-ttu-id="22fca-245">Ad esempio, l'utente può eliminare il testo, sostituire il testo (annullare l'eliminazione), quindi eliminare nuovamente il testo (annullare la sostituzione).</span><span class="sxs-lookup"><span data-stu-id="22fca-245">For example, the user can delete text, replace the text (undo the deletion), and then delete the text again (undo the replacement).</span></span> <span data-ttu-id="22fca-246">Il messaggio di **\_ annullamento em** si applica ai controlli di modifica a riga singola e a più righe e funziona sempre per i controlli di modifica a riga singola.</span><span class="sxs-lookup"><span data-stu-id="22fca-246">The **EM\_UNDO** message applies to both single-line and multiline edit controls and always works for single-line edit controls.</span></span>

<span data-ttu-id="22fca-247">Un'applicazione può reimpostare il flag di annullamento di un controllo di modifica inviando al controllo un messaggio [**\_ EMPTYUNDOBUFFER em**](em-emptyundobuffer.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-247">An application can reset an edit control's undo flag by sending the control an [**EM\_EMPTYUNDOBUFFER**](em-emptyundobuffer.md) message.</span></span> <span data-ttu-id="22fca-248">Il sistema Reimposta automaticamente il flag di annullamento ogni volta che un controllo di modifica riceve un messaggio [**em \_ filehandle**](em-sethandle.md) o [**WM \_ SetText**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="22fca-248">The system automatically resets the undo flag whenever an edit control receives an [**EM\_SETHANDLE**](em-sethandle.md) or [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span> <span data-ttu-id="22fca-249">La funzione [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) Invia un messaggio di **\_ testo WM** .</span><span class="sxs-lookup"><span data-stu-id="22fca-249">The [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function sends a **WM\_SETTEXT** message.</span></span>

## <a name="handling-wordwrap-and-line-breaks"></a><span data-ttu-id="22fca-250">Gestione di WordWrap e interruzioni di riga</span><span class="sxs-lookup"><span data-stu-id="22fca-250">Handling Wordwrap and Line Breaks</span></span>

<span data-ttu-id="22fca-251">Un'applicazione può utilizzare le funzioni WordWrap con i controlli di modifica su più righe per individuare il frammento di parola o di parola di cui è necessario eseguire il wrapped alla riga successiva.</span><span class="sxs-lookup"><span data-stu-id="22fca-251">An application can use Wordwrap functions with multiline edit controls to locate the word or word fragment that should be wrapped to the next line.</span></span> <span data-ttu-id="22fca-252">Utilizzando la funzione WordWrap predefinita fornita dal sistema, le linee terminano sempre negli spazi tra le parole.</span><span class="sxs-lookup"><span data-stu-id="22fca-252">Using the default Wordwrap function provided by the system, lines always end at the spaces between words.</span></span> <span data-ttu-id="22fca-253">Un'applicazione può specificare la propria funzione WordWrap fornendo una funzione WordWrap [*EditWordBreakProc*](/windows/win32/api/winuser/nc-winuser-editwordbreakproca) e inviando il controllo di modifica un [**messaggio \_ SETWORDBREAKPROC em**](em-setwordbreakproc.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-253">An application can specify its own Wordwrap function by supplying an [*EditWordBreakProc*](/windows/win32/api/winuser/nc-winuser-editwordbreakproca) Wordwrap function and sending the edit control an [**EM\_SETWORDBREAKPROC**](em-setwordbreakproc.md) message.</span></span> <span data-ttu-id="22fca-254">Un'applicazione può recuperare l'indirizzo della funzione WordWrap corrente inviando al controllo un messaggio [**\_ GETWORDBREAKPROC em**](em-getwordbreakproc.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-254">An application can retrieve the address of the current Wordwrap function by sending the control an [**EM\_GETWORDBREAKPROC**](em-getwordbreakproc.md) message.</span></span>

<span data-ttu-id="22fca-255">Un'applicazione può indirizzare un controllo di modifica su più righe per aggiungere o rimuovere un carattere di interruzioni di riga Soft (due ritorni a capo e un avanzamento riga) automaticamente alla fine delle righe di testo incapsulato.</span><span class="sxs-lookup"><span data-stu-id="22fca-255">An application may direct a multiline edit control to add or remove a soft line break character (two carriage returns and a line feed) automatically at the end of wrapped-text lines.</span></span> <span data-ttu-id="22fca-256">Un'applicazione può attivare o disattivare questa funzionalità inviando il controllo modifica un messaggio [**\_ FMTLINES em**](em-fmtlines.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-256">An application can turn this feature on or off by sending the edit control an [**EM\_FMTLINES**](em-fmtlines.md) message.</span></span> <span data-ttu-id="22fca-257">Questo messaggio si applica solo ai controlli di modifica su più righe e non influisce su una riga che termina con un'interruzioni di riga rigido (un ritorno a capo e un avanzamento riga immesso dall'utente).</span><span class="sxs-lookup"><span data-stu-id="22fca-257">This message applies only to multiline edit controls and does not affect a line that ends with a hard line break (one carriage return and a line feed entered by the user).</span></span> <span data-ttu-id="22fca-258">Inoltre, nei controlli di modifica su più righe, un'applicazione può specificare lo stile [**es \_ WANTRETURN**](edit-control-styles.md) per richiedere che il sistema inserisca un ritorno a capo quando l'utente preme il tasto invio nel controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-258">Also in multiline edit controls, an application can specify the [**ES\_WANTRETURN**](edit-control-styles.md) style to request that the system insert a carriage return when the user presses the ENTER key in the edit control.</span></span>

## <a name="retrieving-points-and-characters"></a><span data-ttu-id="22fca-259">Recupero di punti e caratteri</span><span class="sxs-lookup"><span data-stu-id="22fca-259">Retrieving Points and Characters</span></span>

<span data-ttu-id="22fca-260">Per determinare il carattere più vicino a un punto specificato nell'area client di un controllo di modifica, inviare il [**messaggio \_ CHARFROMPOS em**](em-charfrompos.md) al controllo.</span><span class="sxs-lookup"><span data-stu-id="22fca-260">To determine the character closest to a specified point in the client area of an edit control, send the [**EM\_CHARFROMPOS**](em-charfrompos.md) message to the control.</span></span> <span data-ttu-id="22fca-261">Il messaggio restituisce l'indice dei caratteri e l'indice di riga del carattere più vicino al punto.</span><span class="sxs-lookup"><span data-stu-id="22fca-261">The message returns the character index and line index of the character nearest the point.</span></span> <span data-ttu-id="22fca-262">Analogamente, è possibile recuperare le coordinate dell'area client di un carattere specificato inviando il messaggio [**\_ POSFROMCHAR em**](em-posfromchar.md) .</span><span class="sxs-lookup"><span data-stu-id="22fca-262">Similarly, you can retrieve the client area coordinates of a specified character by sending the [**EM\_POSFROMCHAR**](em-posfromchar.md) message.</span></span> <span data-ttu-id="22fca-263">Il messaggio restituisce le coordinate x e y dell'angolo superiore sinistro del carattere specificato.</span><span class="sxs-lookup"><span data-stu-id="22fca-263">The message returns the x and y coordinates of the upper-left corner of the specified character.</span></span>

## <a name="autocompletion-of-strings"></a><span data-ttu-id="22fca-264">Completamento automatico delle stringhe</span><span class="sxs-lookup"><span data-stu-id="22fca-264">Autocompletion of Strings</span></span>

<span data-ttu-id="22fca-265">Il completamento automatico espande le stringhe che sono state immesse parzialmente in un controllo di modifica in stringhe complete.</span><span class="sxs-lookup"><span data-stu-id="22fca-265">Autocompletion expands strings that have been partially entered in an edit control into complete strings.</span></span> <span data-ttu-id="22fca-266">Ad esempio, quando un utente inizia a immettere un URL nel controllo di modifica degli indirizzi incorporato nella barra degli strumenti di Windows Internet Explorer, il completamento automatico espande la stringa in uno o più URL completi coerenti con la stringa parziale esistente.</span><span class="sxs-lookup"><span data-stu-id="22fca-266">For example, when a user starts to enter a URL in the Address edit control that is embedded in the Windows Internet Explorer toolbar, autocompletion expands the string into one or more complete URLs that are consistent with the existing partial string.</span></span> <span data-ttu-id="22fca-267">Una stringa URL parziale, ad esempio "MIC", può essere espansa in " https://www.microsoft.com " o " https://www.microsoft.com/windows ".</span><span class="sxs-lookup"><span data-stu-id="22fca-267">A partial URL string such as "mic" might be expanded to "https://www.microsoft.com" or "https://www.microsoft.com/windows".</span></span> <span data-ttu-id="22fca-268">Il completamento automatico viene in genere usato con i controlli di modifica o con controlli che dispongono di un controllo di modifica incorporato.</span><span class="sxs-lookup"><span data-stu-id="22fca-268">Autocompletion is typically used with edit controls or with controls that have an embedded edit control.</span></span>

<span data-ttu-id="22fca-269">Per ulteriori informazioni, vedere la documentazione sull'interfaccia [**IAutoComplete**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete) e [**IAutoComplete2**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete2) .</span><span class="sxs-lookup"><span data-stu-id="22fca-269">For more information, see the [**IAutoComplete**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete) and [**IAutoComplete2**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete2) interface documentation.</span></span>

## <a name="complex-script-in-edit-controls"></a><span data-ttu-id="22fca-270">Script complesso nei controlli di modifica</span><span class="sxs-lookup"><span data-stu-id="22fca-270">Complex Script in Edit Controls</span></span>

<span data-ttu-id="22fca-271">Uno *script complesso* è un linguaggio il cui formato stampato non è disposto in modo semplice.</span><span class="sxs-lookup"><span data-stu-id="22fca-271">A *complex script* is a language whose printed form is not laid out in a simple way.</span></span> <span data-ttu-id="22fca-272">Uno script complesso, ad esempio, può consentire il rendering bidirezionale, il Shaping contestuale dei glifi o la combinazione di caratteri.</span><span class="sxs-lookup"><span data-stu-id="22fca-272">For example, a complex script may allow bidirectional rendering, contextual shaping of glyphs, or combining characters.</span></span> <span data-ttu-id="22fca-273">I controlli di modifica standard sono stati estesi per supportare testo multilingue e script complessi.</span><span class="sxs-lookup"><span data-stu-id="22fca-273">The standard edit controls have been extended to support multilingual text and complex scripts.</span></span> <span data-ttu-id="22fca-274">Sono inclusi, ad esempio, non solo l'input e la visualizzazione, ma anche lo spostamento corretto del cursore sui cluster di caratteri (ad esempio, nello script Thai e devangat).</span><span class="sxs-lookup"><span data-stu-id="22fca-274">This includes not only input and display, but also correct cursor movement over character clusters (in Thai and Devanagari script, for example).</span></span>

<span data-ttu-id="22fca-275">Un'applicazione ben scritta riceve questo supporto automaticamente, senza alcuna modifica.</span><span class="sxs-lookup"><span data-stu-id="22fca-275">A well-written application receives this support automatically, without modification.</span></span> <span data-ttu-id="22fca-276">Anche in questo caso, è consigliabile aggiungere il supporto per l'ordine di lettura da destra a sinistra e l'allineamento a destra.</span><span class="sxs-lookup"><span data-stu-id="22fca-276">Again, you should consider adding support for right-to-left reading order and right alignment.</span></span> <span data-ttu-id="22fca-277">In questo caso, impostare i flag di stile estesi della finestra del controllo di modifica in modo da controllare questi attributi, come illustrato nell'esempio seguente.</span><span class="sxs-lookup"><span data-stu-id="22fca-277">In this case, toggle the extended style flags of the edit control window to control these attributes, as shown in the following example.</span></span>


```
// ID_EDITCONTROL is the control ID in the resource file.
HANDLE hWndEdit = GetDlgItem(hDlg, ID_EDITCONTROL);
LONG lAlign = GetWindowLong(hWndEdit, GWL_EXSTYLE) ;

// To toggle alignment
lAlign ^= WS_EX_RIGHT ;

// To toggle reading order
lAlign ^= WS_EX_RTLREADING ;
```



<span data-ttu-id="22fca-278">Dopo aver impostato il valore **lAlign** , abilitare la nuova visualizzazione impostando lo stile esteso della finestra di controllo di modifica come indicato di seguito.</span><span class="sxs-lookup"><span data-stu-id="22fca-278">After setting the **lAlign** value, enable the new display by setting the extended style of the edit control window as follows.</span></span>


```
// This assumes your edit control is in a dialog box. If not, 
// get the edit control handle from another source.

SetWindowLong(hWndEdit, GWL_EXSTYLE, lAlign);
InvalidateRect(hWndEdit, NULL, FALSE);
```



<span data-ttu-id="22fca-279">Uniscribe è un altro set di funzioni che fornisce un controllo accurato per l'elaborazione di script complessi.</span><span class="sxs-lookup"><span data-stu-id="22fca-279">Uniscribe is another set of functions that provide fine control for processing complex scripts.</span></span> <span data-ttu-id="22fca-280">Per ulteriori informazioni, vedere [Uniscribe](/windows/desktop/Intl/uniscribe).</span><span class="sxs-lookup"><span data-stu-id="22fca-280">For more information, see [Uniscribe](/windows/desktop/Intl/uniscribe).</span></span>

 

 