---
title: Informazioni List-View seguenti
description: Un controllo visualizzazione elenco è una finestra che visualizza una raccolta di elementi.
ms.assetid: 163f7778-690c-4166-b0c5-c7be1a03ae98
ms.topic: article
ms.date: 05/31/2018
ms.custom: project-verbatim
ms.openlocfilehash: 592684378b4264319d790b1e2e05eb9e0ae37f28
ms.sourcegitcommit: 0f7a8198bacd5493ab1e78a9583c7a3578794765
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 05/25/2021
ms.locfileid: "110424331"
---
# <a name="about-list-view-controls"></a><span data-ttu-id="64c63-103">Informazioni List-View seguenti</span><span class="sxs-lookup"><span data-stu-id="64c63-103">About List-View Controls</span></span>

<span data-ttu-id="64c63-104">Vedere [l'esempio di controllo ListView virtuale](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span><span class="sxs-lookup"><span data-stu-id="64c63-104">See the [Virtual listview control sample](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span></span>

<span data-ttu-id="64c63-105">Un controllo visualizzazione elenco è una finestra che visualizza una raccolta di elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-105">A list-view control is a window that displays a collection of items.</span></span> <span data-ttu-id="64c63-106">I controlli visualizzazione elenco offrono diversi modi per disporre e visualizzare gli elementi e sono molto più flessibili rispetto alle semplici [caselle di riepilogo.](list-boxes.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-106">List-view controls provide several ways to arrange and display items and are much more flexible than simple [List Boxes](list-boxes.md).</span></span> <span data-ttu-id="64c63-107">Ad esempio, è possibile visualizzare informazioni aggiuntive su ogni elemento nelle colonne a destra dell'icona e dell'etichetta.</span><span class="sxs-lookup"><span data-stu-id="64c63-107">For example, additional information about each item can be displayed in columns to the right of the icon and label.</span></span>

-   [<span data-ttu-id="64c63-108">Stili e visualizzazioni di visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-108">List-View Styles and Views</span></span>](#list-view-styles-and-views)
    -   [<span data-ttu-id="64c63-109">Stili List-View estesi</span><span class="sxs-lookup"><span data-stu-id="64c63-109">Extended List-View Styles</span></span>](#extended-list-view-styles)
-   [<span data-ttu-id="64c63-110">Stile List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="64c63-110">Virtual List-View Style</span></span>](#virtual-list-view-style)
    -   [<span data-ttu-id="64c63-111">Creazione di un controllo List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="64c63-111">Creating a Virtual List-View Control</span></span>](#creating-a-virtual-list-view-control)
    -   [<span data-ttu-id="64c63-112">Problemi di compatibilità</span><span class="sxs-lookup"><span data-stu-id="64c63-112">Compatibility Issues</span></span>](#compatibility-issues)
    -   [<span data-ttu-id="64c63-113">Gestione dei codici di notifica di List-View virtuali</span><span class="sxs-lookup"><span data-stu-id="64c63-113">Handling Virtual List-View Control Notification Codes</span></span>](#handling-virtual-list-view-control-notification-codes)
    -   [<span data-ttu-id="64c63-114">Gestione cache</span><span class="sxs-lookup"><span data-stu-id="64c63-114">Cache Management</span></span>](#cache-management)
-   [<span data-ttu-id="64c63-115">Aree di lavoro visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-115">List-View Working Areas</span></span>](#list-view-working-areas)
-   [<span data-ttu-id="64c63-116">Elenchi di immagini visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-116">List-View Image Lists</span></span>](#list-view-image-lists)
-   [<span data-ttu-id="64c63-117">Elementi ed elementi secondari della visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-117">List-View Items and Subitems</span></span>](#list-view-items-and-subitems)
    -   [<span data-ttu-id="64c63-118">Stati degli elementi di visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-118">List-View Item States</span></span>](#list-view-item-states)
    -   [<span data-ttu-id="64c63-119">Elementi di callback e maschera di callback</span><span class="sxs-lookup"><span data-stu-id="64c63-119">Callback Items and the Callback Mask</span></span>](#callback-items-and-the-callback-mask)
    -   [<span data-ttu-id="64c63-120">Posizione elemento visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-120">List-View Item Position</span></span>](#list-view-item-position)
    -   [<span data-ttu-id="64c63-121">Disposizione, ordinamento e ricerca di elementi</span><span class="sxs-lookup"><span data-stu-id="64c63-121">Arranging, Sorting, and Finding Items</span></span>](#arranging-sorting-and-finding-items)
-   [<span data-ttu-id="64c63-122">Colonne della visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-122">List-View Columns</span></span>](#list-view-columns)
-   [<span data-ttu-id="64c63-123">Posizione di scorrimento della visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-123">List-View Scroll Position</span></span>](#list-view-scroll-position)
-   [<span data-ttu-id="64c63-124">Modifica delle etichette di visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-124">List-View Label Editing</span></span>](#list-view-label-editing)
-   [<span data-ttu-id="64c63-125">Colori visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-125">List-View Colors</span></span>](#list-view-colors)
-   [<span data-ttu-id="64c63-126">Disposizione degli elementi dell'elenco per gruppo</span><span class="sxs-lookup"><span data-stu-id="64c63-126">Arranging List Items by Group</span></span>](#arranging-list-items-by-group)
-   [<span data-ttu-id="64c63-127">Segni di inserimento</span><span class="sxs-lookup"><span data-stu-id="64c63-127">Insertion Marks</span></span>](#insertion-marks)

## <a name="list-view-styles-and-views"></a><span data-ttu-id="64c63-128">List-View stili e visualizzazioni</span><span class="sxs-lookup"><span data-stu-id="64c63-128">List-View Styles and Views</span></span>

<span data-ttu-id="64c63-129">I controlli visualizzazione elenco possono visualizzare gli elementi in cinque visualizzazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="64c63-129">List-view controls can display items in five different views.</span></span> <span data-ttu-id="64c63-130">Lo stile della finestra del controllo specifica la visualizzazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="64c63-130">The control's window style specifies the default view.</span></span> <span data-ttu-id="64c63-131">Gli stili di finestra aggiuntivi specificano l'allineamento degli elementi e delle funzionalità specifiche del controllo.</span><span class="sxs-lookup"><span data-stu-id="64c63-131">Additional window styles specify the alignment of items and control-specific features.</span></span> <span data-ttu-id="64c63-132">Nella tabella seguente vengono descritte le viste.</span><span class="sxs-lookup"><span data-stu-id="64c63-132">The following table describes the views.</span></span>



| <span data-ttu-id="64c63-133">Nome della visualizzazione</span><span class="sxs-lookup"><span data-stu-id="64c63-133">View Name</span></span>             | <span data-ttu-id="64c63-134">Descrizione</span><span class="sxs-lookup"><span data-stu-id="64c63-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="64c63-135">Visualizzazione icona</span><span class="sxs-lookup"><span data-stu-id="64c63-135">Icon view</span></span>             | <span data-ttu-id="64c63-136">Specificato dallo stile [**della finestra LVS \_ ICON**](list-view-window-styles.md) o passando **LV VIEW \_ \_ ICON** con il [**messaggio \_ LVM SETVIEW.**](lvm-setview.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-136">Specified by the [**LVS\_ICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_ICON** with the [**LVM\_SETVIEW**](lvm-setview.md) message.</span></span> <span data-ttu-id="64c63-137">Ogni elemento viene visualizzato come icona a dimensione intera con un'etichetta sotto di essa.</span><span class="sxs-lookup"><span data-stu-id="64c63-137">Each item appears as a full-sized icon with a label below it.</span></span> <span data-ttu-id="64c63-138">L'utente può trascinare gli elementi in qualsiasi posizione nella finestra di visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-138">The user can drag the items to any location in the list-view window.</span></span>                                                                                                                                                                                                                                         |
| <span data-ttu-id="64c63-139">Visualizzazione icona piccola</span><span class="sxs-lookup"><span data-stu-id="64c63-139">Small icon view</span></span>       | <span data-ttu-id="64c63-140">Specificato dallo stile [**della finestra LVS \_ SMALLICON**](list-view-window-styles.md) o passando **LV VIEW \_ \_ SMALLICON** con [**LVM \_ SETVIEW.**](lvm-setview.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-140">Specified by the [**LVS\_SMALLICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_SMALLICON** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="64c63-141">Ogni elemento viene visualizzato come una piccola icona con l'etichetta a destra.</span><span class="sxs-lookup"><span data-stu-id="64c63-141">Each item appears as a small icon with the label to the right of it.</span></span> <span data-ttu-id="64c63-142">L'utente può trascinare gli elementi in qualsiasi posizione.</span><span class="sxs-lookup"><span data-stu-id="64c63-142">The user can drag the items to any location.</span></span>                                                                                                                                                                                                                                                       |
| <span data-ttu-id="64c63-143">Visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="64c63-143">List view</span></span>             | <span data-ttu-id="64c63-144">Specificato dallo stile [**della finestra LVS \_ LIST**](list-view-window-styles.md) o passando **LV VIEW \_ \_ LIST** con [**LVM \_ SETVIEW.**](lvm-setview.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-144">Specified by the [**LVS\_LIST**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_LIST** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="64c63-145">Ogni elemento viene visualizzato come una piccola icona con un'etichetta a destra.</span><span class="sxs-lookup"><span data-stu-id="64c63-145">Each item appears as a small icon with a label to the right of it.</span></span> <span data-ttu-id="64c63-146">Gli elementi sono disposti in colonne e l'utente non può trascinarli in una posizione arbitraria.</span><span class="sxs-lookup"><span data-stu-id="64c63-146">Items are arranged in columns and the user cannot drag them to an arbitrary location.</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="64c63-147">Visualizzazione report (dettagli)</span><span class="sxs-lookup"><span data-stu-id="64c63-147">Report (details) view</span></span> | <span data-ttu-id="64c63-148">Specificato dallo stile [**della finestra LVS \_ REPORT**](list-view-window-styles.md) o passando **LV VIEW \_ \_ DETAILS** con [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="64c63-148">Specified by the [**LVS\_REPORT**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_DETAILS** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="64c63-149">Ogni elemento viene visualizzato sulla propria riga, con le informazioni disposte in colonne.</span><span class="sxs-lookup"><span data-stu-id="64c63-149">Each item appears on its own line, with information arranged in columns.</span></span> <span data-ttu-id="64c63-150">La colonna più a sinistra è sempre giustificata a sinistra e contiene l'icona e l'etichetta piccole.</span><span class="sxs-lookup"><span data-stu-id="64c63-150">The leftmost column is always left justified and contains the small icon and label.</span></span> <span data-ttu-id="64c63-151">Le colonne successive contengono elementi secondari come specificato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="64c63-151">Subsequent columns contain subitems as specified by the application.</span></span> <span data-ttu-id="64c63-152">Ogni colonna ha un'intestazione, a meno che non si specifica anche lo stile della finestra [**\_ LVS NOCOLUMNHEADER.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-152">Each column has a header, unless you also specify the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style.</span></span> |
| <span data-ttu-id="64c63-153">Visualizzazione affiancata</span><span class="sxs-lookup"><span data-stu-id="64c63-153">Tile View</span></span>             | <span data-ttu-id="64c63-154">**Versione 6 e successive.**</span><span class="sxs-lookup"><span data-stu-id="64c63-154">**Version 6 and later.**</span></span> <span data-ttu-id="64c63-155">Specificato passando **LV \_ VIEW \_ TILE** con [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="64c63-155">Specified by passing **LV\_VIEW\_TILE** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="64c63-156">Ogni elemento viene visualizzato come icona di dimensioni complete con un'etichetta di una o più righe accanto.</span><span class="sxs-lookup"><span data-stu-id="64c63-156">Each item appears as a full-sized icon with a label of one or more lines beside it.</span></span>                                                                                                                                                                                                                                                                                                                                                        |



 

<span data-ttu-id="64c63-157">Le schermate seguenti usano le visualizzazioni per visualizzare quantità diverse di informazioni su ognuno dei sette animali domestici.</span><span class="sxs-lookup"><span data-stu-id="64c63-157">The following screen shots use views to show different amounts of information about each of seven pets.</span></span> <span data-ttu-id="64c63-158">Le visualizzazioni illustrano come possono essere visualizzate le informazioni in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="64c63-158">The views demonstrate how the information might appear on Windows Vista.</span></span> <span data-ttu-id="64c63-159">Gli stili di visualizzazione per il controllo sono stati impostati sul tema "Explorer" usando [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span><span class="sxs-lookup"><span data-stu-id="64c63-159">The visual styles for the control have been set to the "Explorer" theme by using [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span></span>

<span data-ttu-id="64c63-160">La schermata seguente mostra la visualizzazione dei dettagli.</span><span class="sxs-lookup"><span data-stu-id="64c63-160">The following screen shot shows the details view.</span></span>

![Screenshot che mostra le informazioni in cinque colonne e sette righe](images/lv-detailsview.png)

<span data-ttu-id="64c63-162">Lo screenshot seguente mostra la visualizzazione icona.</span><span class="sxs-lookup"><span data-stu-id="64c63-162">The following screen shot shows the icon view.</span></span>

![Screenshot che mostra solo il nome di ogni animale domestico e un'icona che indica la specie](images/lv-iconview.png)

<span data-ttu-id="64c63-164">La schermata seguente mostra la visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-164">The following screen shot shows the list view.</span></span>

![Screenshot che mostra, per ogni animale domestico, un'icona di grandi dimensioni accanto al testo del nome, della razza e del prezzo dell'animale](images/lv-listview.png)

<span data-ttu-id="64c63-166">Lo screenshot seguente mostra la visualizzazione affiancata.</span><span class="sxs-lookup"><span data-stu-id="64c63-166">The following screen shot shows the tile view.</span></span>

![visualizzazione affiancata.](images/lv-tileview.png)

<span data-ttu-id="64c63-168">È possibile modificare il tipo di visualizzazione dopo aver creato un controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-168">You can change the view type after you create a list-view control.</span></span> <span data-ttu-id="64c63-169">Per recuperare e modificare lo stile della finestra, usare [**le funzioni GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) [**e SetWindowLong.**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)</span><span class="sxs-lookup"><span data-stu-id="64c63-169">To retrieve and change the window style, use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span> <span data-ttu-id="64c63-170">Per determinare gli stili della finestra della visualizzazione corrente, usare il [**valore \_ LVS TYPEMASK.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-170">To determine the window styles of the current view, use the [**LVS\_TYPEMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="64c63-171">È possibile controllare il modo in cui gli elementi vengono disposti nella visualizzazione icona o icona piccola specificando lo stile della finestra [**LVS \_ ALIGNTOP**](list-view-window-styles.md) (impostazione predefinita) o [**LVS \_ ALIGNLEFT.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-171">You can control the way items are arranged in icon or small icon view by specifying either the [**LVS\_ALIGNTOP**](list-view-window-styles.md) (default) or [**LVS\_ALIGNLEFT**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="64c63-172">È possibile modificare l'allineamento dopo aver creato un controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-172">You can change the alignment after you create a list-view control.</span></span> <span data-ttu-id="64c63-173">Per determinare l'allineamento corrente, usare il [**valore LVS \_ ALIGNMASK.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-173">To determine the current alignment, use the [**LVS\_ALIGNMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="64c63-174">Altri stili di finestra offrono altre opzioni, ad esempio se un utente può modificare le etichette o selezionare più di un elemento alla volta.</span><span class="sxs-lookup"><span data-stu-id="64c63-174">Additional window styles provide other options, such as whether a user can edit labels or select more than one item at a time.</span></span> <span data-ttu-id="64c63-175">Per un elenco completo, vedere [List-View Window Styles](list-view-window-styles.md).</span><span class="sxs-lookup"><span data-stu-id="64c63-175">For a complete list, see [List-View Window Styles](list-view-window-styles.md).</span></span>

### <a name="extended-list-view-styles"></a><span data-ttu-id="64c63-176">Stili List-View estesi</span><span class="sxs-lookup"><span data-stu-id="64c63-176">Extended List-View Styles</span></span>

<span data-ttu-id="64c63-177">Gli stili estesi dei controlli visualizzazione elenco offrono opzioni quali caselle di controllo, barre di scorrimento flat, linee griglia e rilevamento dello stato.</span><span class="sxs-lookup"><span data-stu-id="64c63-177">The extended list-view control styles provide options such as check boxes, flat scroll bars, grid lines, and hot-tracking.</span></span> <span data-ttu-id="64c63-178">Per un elenco completo, vedere [Stili List-View estesi.](extended-list-view-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-178">For a complete list, see [Extended List-View Styles](extended-list-view-styles.md).</span></span> <span data-ttu-id="64c63-179">Non è possibile accedere agli stili di visualizzazione elenco estesi in modo analogo agli stili di finestra standard.</span><span class="sxs-lookup"><span data-stu-id="64c63-179">You do not access extended list-view styles in the same manner as standard window styles.</span></span> <span data-ttu-id="64c63-180">Non si usano le funzioni [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) e [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) per apportare modifiche di stile estese.</span><span class="sxs-lookup"><span data-stu-id="64c63-180">You do not use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions to make extended style changes.</span></span>

<span data-ttu-id="64c63-181">Sono disponibili due messaggi che impostano e recuperano informazioni di stile estese, [**LVM \_ SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) [**e LVM \_ GETEXTENDEDLISTVIEWSTYLE.**](lvm-getextendedlistviewstyle.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-181">There are two messages that set and retrieve extended style information, [**LVM\_SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) and [**LVM\_GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span></span> <span data-ttu-id="64c63-182">Invece di inviare i messaggi in modo esplicito, puoi usare le macro corrispondenti seguenti: [**\_ ListView SetExtendedListViewStyle,**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle) [**ListView \_ SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex)e [**ListView \_ GetExtendedListViewStyle.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle)</span><span class="sxs-lookup"><span data-stu-id="64c63-182">Instead of sending the messages explicitly, you can use the following corresponding macros: [**ListView\_SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView\_SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex), and [**ListView\_GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span></span>

## <a name="virtual-list-view-style"></a><span data-ttu-id="64c63-183">Stile List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="64c63-183">Virtual List-View Style</span></span>

<span data-ttu-id="64c63-184">Una visualizzazione elenco virtuale è un controllo visualizzazione elenco con lo stile [**LVS \_ OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-184">A virtual list view is a list-view control that has the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="64c63-185">Questo stile consente al controllo di gestire milioni di elementi perché il proprietario riceve il carico di gestione dei dati degli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-185">This style enables the control to handle millions of items because the owner receives the burden of managing item data.</span></span> <span data-ttu-id="64c63-186">In questo modo è possibile usare il controllo visualizzazione elenco virtuale con database di informazioni di grandi dimensioni, in cui sono già presenti metodi specifici di accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="64c63-186">This allows you to use the virtual list-view control with large databases of information, where specific methods of data access are already in place.</span></span>

<span data-ttu-id="64c63-187">Un controllo visualizzazione elenco virtuale mantiene pochissime informazioni sull'elemento stesso.</span><span class="sxs-lookup"><span data-stu-id="64c63-187">A virtual list-view control maintains very little item information itself.</span></span> <span data-ttu-id="64c63-188">Fatta eccezione per la selezione dell'elemento e le informazioni sullo stato attivo, il proprietario del controllo deve gestire tutte le informazioni sull'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-188">Except for the item selection and focus information, the owner of the control must manage all item information.</span></span> <span data-ttu-id="64c63-189">Altri processi richiedono informazioni sull'elemento al proprietario usando i codici di notifica [ \_ GETDISPINFO LVN.](lvn-getdispinfo.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-189">Other processes request item information from the owner by using [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes.</span></span>

<span data-ttu-id="64c63-190">Poiché questo tipo di controllo elenco è destinato a set di dati di grandi dimensioni, è consigliabile memorizzare nella cache i dati degli elementi richiesti per migliorare le prestazioni di recupero.</span><span class="sxs-lookup"><span data-stu-id="64c63-190">Because this type of list control is intended for large data sets, it is recommended that you cache requested item data to improve retrieval performance.</span></span> <span data-ttu-id="64c63-191">La visualizzazione elenco fornisce un meccanismo di hint della cache per facilitare l'ottimizzazione della cache.</span><span class="sxs-lookup"><span data-stu-id="64c63-191">The list view provides a cache-hinting mechanism to assist in optimizing the cache.</span></span> <span data-ttu-id="64c63-192">L'hint viene implementato sotto forma di codice di notifica [ \_ ODCACHEHINT LVN.](lvn-odcachehint.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-192">The hint is implemented in the form of an [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code.</span></span>

### <a name="creating-a-virtual-list-view-control"></a><span data-ttu-id="64c63-193">Creazione di un controllo List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="64c63-193">Creating a Virtual List-View Control</span></span>

<span data-ttu-id="64c63-194">È possibile creare controlli visualizzazione elenco virtuali usando la [**funzione CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx,**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) specificando lo stile della finestra [**LVS \_ OWNERDATA**](list-view-window-styles.md) come parte del parametro della funzione *dwStyle.*</span><span class="sxs-lookup"><span data-stu-id="64c63-194">You create virtual list-view controls using the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**LVS\_OWNERDATA**](list-view-window-styles.md) window style as part of the *dwStyle* function parameter.</span></span> <span data-ttu-id="64c63-195">Il passaggio dinamico da e verso lo stile **LVS \_ OWNERDATA** non è supportato.</span><span class="sxs-lookup"><span data-stu-id="64c63-195">Dynamically switching to and from the **LVS\_OWNERDATA** style is not supported.</span></span>

<span data-ttu-id="64c63-196">È possibile usare lo stile [**LVS \_ OWNERDATA**](list-view-window-styles.md) in combinazione con la maggior parte degli altri stili di finestra, ad eccezione dello stile [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-196">You can use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style in combination with most other window styles, except the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="64c63-197">Per impostazione predefinita, tutti i controlli visualizzazione elenco virtuale hanno lo stile [**\_ LVS AUTOARRANGE.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-197">All virtual list-view controls default to the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="64c63-198">Per abilitare la visualizzazione degli elementi nell'elenco, è prima necessario inviare il messaggio [**LVM \_ SETITEMCOUNT,**](lvm-setitemcount.md) in modo esplicito o tramite la macro [**\_ ListView SetItemCountEx.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex)</span><span class="sxs-lookup"><span data-stu-id="64c63-198">To enable items to be displayed in the list, you must first send the [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, either explicitly or by using the [**ListView\_SetItemCountEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) macro.</span></span>

<span data-ttu-id="64c63-199">I messaggi seguenti non sono supportati con lo stile [**LVS \_ OWNERDATA:**](list-view-window-styles.md) [**LVM \_ ENABLEGROUPVIEW,**](lvm-enablegroupview.md) [**LVM \_ GETITEMTEXT,**](lvm-getitemtext.md) [**LVM \_ SETTILEINFO**](lvm-settileinfo.md)e [**LVM \_ MAPIDTOINDEX.**](lvm-mapidtoindex.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-199">The following messages are not supported under the [**LVS\_OWNERDATA**](list-view-window-styles.md) style: [**LVM\_ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM\_GETITEMTEXT**](lvm-getitemtext.md), [**LVM\_SETTILEINFO**](lvm-settileinfo.md), and [**LVM\_MAPIDTOINDEX**](lvm-mapidtoindex.md).</span></span>

### <a name="compatibility-issues"></a><span data-ttu-id="64c63-200">Problemi di compatibilità</span><span class="sxs-lookup"><span data-stu-id="64c63-200">Compatibility Issues</span></span>

<span data-ttu-id="64c63-201">Tutti e quattro gli stili di visualizzazione elenco, ovvero icona, icona piccola, elenco e visualizzazione report, supportano lo stile [**LVS \_ OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-201">All four of the list-view styles—icon, small icon, list, and report view—support the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="64c63-202">I controlli visualizzazione elenco con lo stile **LVS \_ OWNERDATA** non archiviano informazioni specifiche dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-202">List-view controls that have the **LVS\_OWNERDATA** style do not store any item-specific information.</span></span> <span data-ttu-id="64c63-203">Di conseguenza, gli unici flag di stato dell'elemento validi che è possibile applicare a un elemento sono [**LVIS \_ SELECTED**](list-view-item-states.md) e [**LVIS \_ FOCUSED.**](list-view-item-states.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-203">Therefore, the only valid item state flags that you can apply to an item are [**LVIS\_SELECTED**](list-view-item-states.md) and [**LVIS\_FOCUSED**](list-view-item-states.md).</span></span> <span data-ttu-id="64c63-204">Non vengono archiviate altre informazioni sullo stato.</span><span class="sxs-lookup"><span data-stu-id="64c63-204">No other state information is stored.</span></span> <span data-ttu-id="64c63-205">In particolare, il controllo visualizzazione elenco non mantiene le immagini di stato o di sovrapposizione per ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-205">In particular, the list-view control does not maintain state or overlay images for each item.</span></span> <span data-ttu-id="64c63-206">Tuttavia, è possibile fare in modo che il controllo visualizzazione elenco eservi una query sull'applicazione per queste immagini inviando un [**messaggio LVM \_ SETCALLBACKMASK.**](lvm-setcallbackmask.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-206">However, you can have the list-view control query your application for these images by sending it an [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message.</span></span>

<span data-ttu-id="64c63-207">La maggior parte dei messaggi di controllo visualizzazione elenco e le macro associate sono completamente supportate.</span><span class="sxs-lookup"><span data-stu-id="64c63-207">Most list-view control messages and the associated macros are fully supported.</span></span> <span data-ttu-id="64c63-208">Tuttavia, alcuni messaggi presentano limitazioni o non sono supportati quando si usa lo stile [**LVS \_ OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-208">However, some messages have limitations or are unsupported when you use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="64c63-209">Nella tabella seguente vengono riepilogati i messaggi interessati.</span><span class="sxs-lookup"><span data-stu-id="64c63-209">The following table summarizes the affected messages.</span></span>



| <span data-ttu-id="64c63-210">Message</span><span class="sxs-lookup"><span data-stu-id="64c63-210">Message</span></span>                                             | <span data-ttu-id="64c63-211">Limitazione</span><span class="sxs-lookup"><span data-stu-id="64c63-211">Limitation</span></span>                                                                                                                                                                                                                                                      |
|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="64c63-212">**LVM \_ ARRANGE**</span><span class="sxs-lookup"><span data-stu-id="64c63-212">**LVM\_ARRANGE**</span></span>](lvm-arrange.md)                 | <span data-ttu-id="64c63-213">Non supporta lo stile **LVA \_ SNAPTOGRID.**</span><span class="sxs-lookup"><span data-stu-id="64c63-213">Does not support the **LVA\_SNAPTOGRID** style.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="64c63-214">**LVM \_ DELETEALLITEMS**</span><span class="sxs-lookup"><span data-stu-id="64c63-214">**LVM\_DELETEALLITEMS**</span></span>](lvm-deleteallitems.md)   | <span data-ttu-id="64c63-215">Imposta il conteggio degli elementi su zero e cancella tutte le variabili di selezione interne, ma non elimina effettivamente alcun elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-215">Sets the item count to zero and clears all internal selection variables, but it does not actually delete any items.</span></span> <span data-ttu-id="64c63-216">Esegue un callback di notifica.</span><span class="sxs-lookup"><span data-stu-id="64c63-216">It makes a notification callback.</span></span>                                                                                                           |
| [<span data-ttu-id="64c63-217">**LVM \_ DELETEITEM**</span><span class="sxs-lookup"><span data-stu-id="64c63-217">**LVM\_DELETEITEM**</span></span>](lvm-deleteitem.md)           | <span data-ttu-id="64c63-218">È supportato solo per l'integrità della selezione e non elimina effettivamente un elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-218">Is supported for selection integrity only and does not actually delete an item.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="64c63-219">**LVM \_ GETITEMSTATE**</span><span class="sxs-lookup"><span data-stu-id="64c63-219">**LVM\_GETITEMSTATE**</span></span>](lvm-getitemstate.md)       | <span data-ttu-id="64c63-220">Restituisce solo gli stati di stato attivo e di selezione, ovvero gli stati archiviati dal controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-220">Returns only focus and selection states (that is, those states stored by the list-view control).</span></span>                                                                                                                                                                |
| [<span data-ttu-id="64c63-221">**LVM \_ GETNEXTITEM**</span><span class="sxs-lookup"><span data-stu-id="64c63-221">**LVM\_GETNEXTITEM**</span></span>](lvm-getnextitem.md)         | <span data-ttu-id="64c63-222">Non supporta i criteri di ricerca di visualizzazione elenco **LVNI \_ CUT,** **LVNI \_ HIDDEN** o **LVNI \_ DROP PIÙ.**</span><span class="sxs-lookup"><span data-stu-id="64c63-222">Does not support the list-view search criteria **LVNI\_CUT**, **LVNI\_HIDDEN**, or **LVNI\_DROPHILITED**.</span></span> <span data-ttu-id="64c63-223">Tutti gli altri criteri sono supportati.</span><span class="sxs-lookup"><span data-stu-id="64c63-223">All other criteria are supported.</span></span>                                                                                                                     |
| [<span data-ttu-id="64c63-224">**LVM \_ GETWORKAREAS**</span><span class="sxs-lookup"><span data-stu-id="64c63-224">**LVM\_GETWORKAREAS**</span></span>](lvm-getworkareas.md)       | <span data-ttu-id="64c63-225">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="64c63-225">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="64c63-226">**LVM \_ INSERTITEM**</span><span class="sxs-lookup"><span data-stu-id="64c63-226">**LVM\_INSERTITEM**</span></span>](lvm-insertitem.md)           | <span data-ttu-id="64c63-227">È supportato solo per l'integrità della selezione.</span><span class="sxs-lookup"><span data-stu-id="64c63-227">Is supported for selection integrity only.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="64c63-228">**LVM \_ SETITEM**</span><span class="sxs-lookup"><span data-stu-id="64c63-228">**LVM\_SETITEM**</span></span>](lvm-setitem.md)                 | <span data-ttu-id="64c63-229">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="64c63-229">Is not supported.</span></span> <span data-ttu-id="64c63-230">Per impostare lo stato dell'elemento, usare il [**messaggio \_ ListView SetItemState.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate)</span><span class="sxs-lookup"><span data-stu-id="64c63-230">To set the item state, use the [**ListView\_SetItemState**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) message.</span></span>                                                                                                                                               |
| [<span data-ttu-id="64c63-231">**LVM \_ SETITEMCOUNT**</span><span class="sxs-lookup"><span data-stu-id="64c63-231">**LVM\_SETITEMCOUNT**</span></span>](lvm-setitemcount.md)       | <span data-ttu-id="64c63-232">Imposta il numero di elementi attualmente presenti nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-232">Sets the number of items currently in the list.</span></span> <span data-ttu-id="64c63-233">Se il controllo visualizzazione elenco invia una notifica che richiede dati per qualsiasi elemento fino al set massimo, il proprietario deve essere preparato a fornire i dati.</span><span class="sxs-lookup"><span data-stu-id="64c63-233">If the list-view control sends a notification that requests data for any item up to the maximum set, the owner must be prepared to supply that data.</span></span> <span data-ttu-id="64c63-234">I parametri del messaggio supportano i controlli visualizzazione elenco virtuali.</span><span class="sxs-lookup"><span data-stu-id="64c63-234">The message parameters support virtual list-view controls.</span></span> |
| [<span data-ttu-id="64c63-235">**LVM \_ SETITEMPOSITION**</span><span class="sxs-lookup"><span data-stu-id="64c63-235">**LVM\_SETITEMPOSITION**</span></span>](lvm-setitemposition.md) | <span data-ttu-id="64c63-236">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="64c63-236">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="64c63-237">**LVM \_ SETITEMSTATE**</span><span class="sxs-lookup"><span data-stu-id="64c63-237">**LVM\_SETITEMSTATE**</span></span>](lvm-setitemstate.md)       | <span data-ttu-id="64c63-238">Consente solo la modifica degli stati di selezione e stato attivo per l'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-238">Allows only the selection and focus states to be changed for the item.</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="64c63-239">**LVM \_ SETITEMTEXT**</span><span class="sxs-lookup"><span data-stu-id="64c63-239">**LVM\_SETITEMTEXT**</span></span>](lvm-setitemtext.md)         | <span data-ttu-id="64c63-240">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="64c63-240">Is not supported.</span></span> <span data-ttu-id="64c63-241">È responsabilità dell'applicazione mantenere i testi degli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-241">It is the application's responsibility to maintain the item texts.</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="64c63-242">**LVM \_ SETWORKAREAS**</span><span class="sxs-lookup"><span data-stu-id="64c63-242">**LVM\_SETWORKAREAS**</span></span>](lvm-setworkareas.md)       | <span data-ttu-id="64c63-243">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="64c63-243">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="64c63-244">**LVM \_ SORTITEMS**</span><span class="sxs-lookup"><span data-stu-id="64c63-244">**LVM\_SORTITEMS**</span></span>](lvm-sortitems.md)             | <span data-ttu-id="64c63-245">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="64c63-245">Is not supported.</span></span> <span data-ttu-id="64c63-246">È responsabilità dell'applicazione presentare gli elementi nell'ordine desiderato.</span><span class="sxs-lookup"><span data-stu-id="64c63-246">It is the application's responsibility to present the items in the desired order.</span></span>                                                                                                                                                             |



 

### <a name="handling-virtual-list-view-control-notification-codes"></a><span data-ttu-id="64c63-247">Gestione dei codici di notifica di List-View virtuali</span><span class="sxs-lookup"><span data-stu-id="64c63-247">Handling Virtual List-View Control Notification Codes</span></span>

<span data-ttu-id="64c63-248">I controlli visualizzazione elenco con lo stile [**LVS \_ OWNERDATA**](list-view-window-styles.md) inviano gli stessi codici di notifica degli altri controlli visualizzazione elenco e due controlli aggiuntivi: [LVN \_ ODCACHEHINT](lvn-odcachehint.md) e [LVN \_ ODFINDITEM.](lvn-odfinditem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-248">List-view controls with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style send the same notification codes as other list-view controls and two additional ones: [LVN\_ODCACHEHINT](lvn-odcachehint.md) and [LVN\_ODFINDITEM](lvn-odfinditem.md).</span></span> <span data-ttu-id="64c63-249">Di seguito sono riportate le notifiche più comuni inviate dal controllo visualizzazione elenco con lo stile **LVS \_ OWNERDATA.**</span><span class="sxs-lookup"><span data-stu-id="64c63-249">The following are the most common notifications that the list-view control with the **LVS\_OWNERDATA** style sends.</span></span>



|      <span data-ttu-id="64c63-250">Notifica</span><span class="sxs-lookup"><span data-stu-id="64c63-250">Notification</span></span>                    |     <span data-ttu-id="64c63-251">Descrizione</span><span class="sxs-lookup"><span data-stu-id="64c63-251">Description</span></span>                         |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="64c63-252">LVN \_ GETDISPINFO</span><span class="sxs-lookup"><span data-stu-id="64c63-252">LVN\_GETDISPINFO</span></span>](lvn-getdispinfo.md) | <span data-ttu-id="64c63-253">Un controllo visualizzazione elenco virtuale mantiene pochissime informazioni sugli elementi in modo specifico.</span><span class="sxs-lookup"><span data-stu-id="64c63-253">A virtual list-view control maintains very little item information on its own.</span></span> <span data-ttu-id="64c63-254">Di conseguenza, spesso invia il codice di notifica [ \_ LVN GETDISPINFO](lvn-getdispinfo.md) per richiedere informazioni sull'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-254">As a result, it often sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to request item information.</span></span> <span data-ttu-id="64c63-255">Questo messaggio viene gestito in modo molto identico agli elementi di callback in un controllo elenco standard.</span><span class="sxs-lookup"><span data-stu-id="64c63-255">This message is handled in much the same way as callback items in a standard list control.</span></span> <span data-ttu-id="64c63-256">Poiché il numero di elementi supportati dal controllo può essere molto elevato, la memorizzazione nella cache dei dati degli elementi migliora le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="64c63-256">Because the number of items supported by the control can be very large, caching item data improves performance.</span></span> <span data-ttu-id="64c63-257">Quando si gestisce LVN GETDISPINFO, il proprietario del controllo tenta prima di tutto di fornire le informazioni sugli elementi richieste dalla cache. Per altre informazioni, vedere \_ [Gestione della cache.](#cache-management)</span><span class="sxs-lookup"><span data-stu-id="64c63-257">When handling LVN\_GETDISPINFO, the owner of the control first attempts to supply requested item information from the cache (for more information, see [Cache Management](#cache-management)).</span></span> <span data-ttu-id="64c63-258">Se l'elemento richiesto non viene memorizzato nella cache, il proprietario deve essere preparato a fornire le informazioni con altri mezzi.</span><span class="sxs-lookup"><span data-stu-id="64c63-258">If the requested item is not cached, the owner must be prepared to supply the information by other means.</span></span> |
| [<span data-ttu-id="64c63-259">LVN \_ ODCACHEHINT</span><span class="sxs-lookup"><span data-stu-id="64c63-259">LVN\_ODCACHEHINT</span></span>](lvn-odcachehint.md) | <span data-ttu-id="64c63-260">Una visualizzazione elenco virtuale invia il codice di notifica [ \_ LVN ODCACHEHINT](lvn-odcachehint.md) per facilitare l'ottimizzazione della cache.</span><span class="sxs-lookup"><span data-stu-id="64c63-260">A virtual list view sends the [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code to assist in optimizing the cache.</span></span> <span data-ttu-id="64c63-261">Il codice di notifica fornisce valori di indice inclusivi per un intervallo di elementi che consiglia di memorizzare nella cache.</span><span class="sxs-lookup"><span data-stu-id="64c63-261">The notification code provides inclusive index values for a range of items that it recommends be cached.</span></span> <span data-ttu-id="64c63-262">Al momento della ricezione del codice di notifica, il proprietario deve essere preparato a caricare la cache con le informazioni sull'elemento per l'intervallo richiesto in modo che le informazioni siano immediatamente disponibili quando viene inviato un messaggio [ \_ LVN GETDISPINFO.](lvn-getdispinfo.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-262">Upon receiving the notification code, the owner must be prepared to load the cache with item information for the requested range so that the information will be readily available when an [LVN\_GETDISPINFO](lvn-getdispinfo.md) message is sent.</span></span>                                                                                                                                                                                                                                   |
| [<span data-ttu-id="64c63-263">LVN \_ ODFINDITEM</span><span class="sxs-lookup"><span data-stu-id="64c63-263">LVN\_ODFINDITEM</span></span>](lvn-odfinditem.md)   | <span data-ttu-id="64c63-264">Il [codice di notifica \_ ODFINDITEM LVN](lvn-odfinditem.md) viene inviato da un controllo di visualizzazione elenco virtuale quando il controllo richiede al proprietario di trovare un particolare elemento di callback.</span><span class="sxs-lookup"><span data-stu-id="64c63-264">The [LVN\_ODFINDITEM](lvn-odfinditem.md) notification code is sent by a virtual list-view control when the control needs the owner to find a particular callback item.</span></span> <span data-ttu-id="64c63-265">Il codice di notifica viene inviato quando il controllo visualizzazione elenco riceve l'accesso rapido al tasto o quando riceve un [**messaggio \_ LVM FINDITEM.**](lvm-finditem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-265">The notification code is sent when the list-view control receives quick key access or when it receives an [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="64c63-266">Le informazioni di ricerca vengono inviate sotto forma di struttura [**LVFINDINFO,**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) che è un membro della [**struttura NMLVFINDITEM.**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema)</span><span class="sxs-lookup"><span data-stu-id="64c63-266">Search information is sent in the form of an [**LVFINDINFO**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) structure, which is a member of the [**NMLVFINDITEM**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema) structure.</span></span> <span data-ttu-id="64c63-267">Il proprietario deve essere preparato a cercare un elemento che corrisponda alle informazioni fornite dal controllo di visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-267">The owner must be prepared to search for an item that matches the information given by the list-view control.</span></span> <span data-ttu-id="64c63-268">Il proprietario restituisce l'indice dell'elemento in caso di esito positivo oppure -1 se non viene trovato alcun elemento corrispondente.</span><span class="sxs-lookup"><span data-stu-id="64c63-268">The owner returns the index of the item if successful, or -1 if no matching item is found.</span></span>               |



 

### <a name="cache-management"></a><span data-ttu-id="64c63-269">Gestione cache</span><span class="sxs-lookup"><span data-stu-id="64c63-269">Cache Management</span></span>

<span data-ttu-id="64c63-270">Un controllo visualizzazione elenco con lo stile [**LVS \_ OWNERDATA**](list-view-window-styles.md) produce un numero elevato di codici di notifica [ \_ LVN GETDISPINFO](lvn-getdispinfo.md) e, per facilitare l'ottimizzazione della cache, un messaggio [ \_ ODCACHEHINT LVN.](lvn-odcachehint.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-270">A list-view control with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style produces a large number of [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes and, to assist in optimizing the cache, an [LVN\_ODCACHEHINT](lvn-odcachehint.md) message.</span></span> <span data-ttu-id="64c63-271">I messaggi ODCACHEHINT LVN forniscono \_ informazioni sugli elementi consigliati da includere nella cache.</span><span class="sxs-lookup"><span data-stu-id="64c63-271">LVN\_ODCACHEHINT messages provide information about the recommended items to include within the cache.</span></span> <span data-ttu-id="64c63-272">Questi messaggi vengono inviati come [**messaggi WM \_ NOTIFY,**](wm-notify.md) con il valore *lParam* che funge da indirizzo di [**una struttura NMLVCACHEHINT.**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint)</span><span class="sxs-lookup"><span data-stu-id="64c63-272">These messages are sent as [**WM\_NOTIFY**](wm-notify.md) messages, with the *lParam* value acting as the address of an [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure.</span></span>

<span data-ttu-id="64c63-273">La [**struttura NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) include due membri integer, **iFrom** e **iTo**, che rappresentano gli endpoint inclusivi di un intervallo di elementi che probabilmente saranno necessari.</span><span class="sxs-lookup"><span data-stu-id="64c63-273">The [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure includes two integer members, **iFrom** and **iTo**, that represent the inclusive endpoints of a range of items that most likely will be needed.</span></span> <span data-ttu-id="64c63-274">Il proprietario deve essere preparato a caricare la cache con le informazioni sull'elemento per ognuno degli elementi all'interno dell'intervallo consigliato.</span><span class="sxs-lookup"><span data-stu-id="64c63-274">The owner must be prepared to load the cache with the item information for each of the items within the recommended range.</span></span>

<span data-ttu-id="64c63-275">Il controllo elenco richiede spesso informazioni sull'elemento per il primo elemento (offset 0).</span><span class="sxs-lookup"><span data-stu-id="64c63-275">The list control often needs item information for the first item (offset 0).</span></span> <span data-ttu-id="64c63-276">Il [codice di notifica \_ ODCACHEHINT LVN](lvn-odcachehint.md) potrebbe non includere sempre l'elemento 0, ma deve essere sempre incluso nella cache.</span><span class="sxs-lookup"><span data-stu-id="64c63-276">The [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code might not always include item 0, but it must always be included in the cache.</span></span>

<span data-ttu-id="64c63-277">Si accede spesso agli ultimi elementi dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-277">The last items in the list are accessed often.</span></span> <span data-ttu-id="64c63-278">Di conseguenza, il proprietario potrebbe voler mantenere una seconda cache che include gli elementi alla fine dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-278">Therefore, the owner might want to keep a second cache that includes the items at the end of the list.</span></span> <span data-ttu-id="64c63-279">L'intervallo richiesto [da \_ ODCACHEHINT LVN](lvn-odcachehint.md) può essere controllato rispetto alla cache finale per renderlo disponibile automaticamente anziché ricaricare lo stesso intervallo finale ogni volta.</span><span class="sxs-lookup"><span data-stu-id="64c63-279">The requested range from [LVN\_ODCACHEHINT](lvn-odcachehint.md) can be checked against the end cache to make it available automatically instead of reloading the same end range each time.</span></span>

## <a name="list-view-working-areas"></a><span data-ttu-id="64c63-280">List-View di lavoro</span><span class="sxs-lookup"><span data-stu-id="64c63-280">List-View Working Areas</span></span>

<span data-ttu-id="64c63-281">I controlli visualizzazione elenco supportano le aree di lavoro, ovvero aree virtuali rettangolari utilizzate dal controllo visualizzazione elenco per disporre gli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-281">List-view controls support working areas, which are rectangular virtual areas that the list-view control uses to arrange its items.</span></span> <span data-ttu-id="64c63-282">Un'area di lavoro non è una finestra e non può avere un bordo visibile.</span><span class="sxs-lookup"><span data-stu-id="64c63-282">A working area is not a window and cannot have a visible border.</span></span> <span data-ttu-id="64c63-283">Per impostazione predefinita, il controllo visualizzazione elenco non ha aree di lavoro.</span><span class="sxs-lookup"><span data-stu-id="64c63-283">By default, the list-view control has no working areas.</span></span> <span data-ttu-id="64c63-284">Creando un'area di lavoro, è possibile creare un bordo vuoto a sinistra, in alto o a destra degli elementi oppure fare in modo che una barra di scorrimento orizzontale sia visualizzata quando normalmente non ne esiste uno.</span><span class="sxs-lookup"><span data-stu-id="64c63-284">By creating a working area, you can create an empty border on the left, top, or right of the items or cause a horizontal scroll bar to be displayed when there normally would not be one.</span></span>

<span data-ttu-id="64c63-285">Quando viene creata un'area di lavoro, gli elementi che si trovano all'interno dell'area di lavoro diventano membri dell'area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="64c63-285">When a working area is created, items that lie within the working area become members of the working area.</span></span> <span data-ttu-id="64c63-286">Analogamente, se un elemento viene spostato in un'area di lavoro, l'elemento diventa un membro di tale area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="64c63-286">Similarly, if an item is moved into a working area, the item becomes a member of that working area.</span></span> <span data-ttu-id="64c63-287">Se un elemento non si trova all'interno di alcuna area di lavoro, diventa automaticamente un membro della prima area di lavoro (indice 0).</span><span class="sxs-lookup"><span data-stu-id="64c63-287">If an item does not lie within any working area, it automatically becomes a member of the first (index 0) working area.</span></span> <span data-ttu-id="64c63-288">Per inserire un nuovo elemento all'interno di un'area di lavoro specifica, è necessario prima di tutto creare l'elemento e quindi usare [**LVM \_ SETITEMPOSITION**](lvm-setitemposition.md) o il messaggio [**LVM \_ SETITEMPOSITION32**](lvm-setitemposition32.md) per spostarlo nell'area di lavoro desiderata.</span><span class="sxs-lookup"><span data-stu-id="64c63-288">To place new item within a specific working area, you must first create the item and then use either the [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) or the [**LVM\_SETITEMPOSITION32**](lvm-setitemposition32.md) message to move it into the desired working area.</span></span>

<span data-ttu-id="64c63-289">La figura seguente è un esempio di controllo visualizzazione elenco che contiene quattro aree di lavoro, ognuna in un quadrante diverso dell'area client.</span><span class="sxs-lookup"><span data-stu-id="64c63-289">The following illustration is an example of a list-view control that contains four working areas, each in a different quadrant of the client area.</span></span>

![Screenshot di un controllo visualizzazione elenco con un'area di lavoro in ogni quadrante dell'area client](images/working.jpg)

<span data-ttu-id="64c63-291">È possibile usare più aree di lavoro per creare aree diverse all'interno di un'unica visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="64c63-291">Multiple working areas can be used for creating different areas within one view.</span></span> <span data-ttu-id="64c63-292">È possibile creare aree in un'unica visualizzazione con significati diversi.</span><span class="sxs-lookup"><span data-stu-id="64c63-292">You can create areas in a single view that have different meanings.</span></span> <span data-ttu-id="64c63-293">Ad esempio, una visualizzazione di un file system potrebbe avere un'area per i file di lettura/scrittura e un'altra area per i file di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="64c63-293">For example, a view of a file system might have an area for read/write files and another area for read-only files.</span></span> <span data-ttu-id="64c63-294">L'utente può classificare gli elementi inserendoli in aree di lavoro diverse.</span><span class="sxs-lookup"><span data-stu-id="64c63-294">The user can categorize items by placing them in different working areas.</span></span> <span data-ttu-id="64c63-295">Se un file viene spostato nell'area di sola lettura, diventerà automaticamente di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="64c63-295">If a file is moved into the read-only area, it will automatically become read-only.</span></span>

<span data-ttu-id="64c63-296">Più aree di lavoro possono intersecarsi, ma tutti gli elementi che si trovano all'interno dell'intersezione diventano membri dell'area con l'indice inferiore; Pertanto, è meglio evitare questa situazione.</span><span class="sxs-lookup"><span data-stu-id="64c63-296">Multiple working areas can intersect, but any items that lie within the intersection become members of the area with the lower index; therefore, it is best to avoid this situation.</span></span> <span data-ttu-id="64c63-297">Quando si ordinano più aree di lavoro, gli elementi vengono ordinati rispetto agli altri elementi nella stessa area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="64c63-297">When sorting multiple work areas, the items are sorted compared to the other items in the same working area.</span></span>

<span data-ttu-id="64c63-298">Il numero di aree di lavoro può essere recuperato con il messaggio [**LVM \_ GETNUMBEROFWORKAREAS.**](lvm-getnumberofworkareas.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-298">The number of working areas can be retrieved with the [**LVM\_GETNUMBEROFWORKAREAS**](lvm-getnumberofworkareas.md) message.</span></span> <span data-ttu-id="64c63-299">Le aree di lavoro vengono modificate con il messaggio [**LVM \_ SETWORKAREAS**](lvm-setworkareas.md) e possono essere recuperate con il messaggio [**LVM \_ GETWORKAREAS.**](lvm-getworkareas.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-299">The working areas are changed with the [**LVM\_SETWORKAREAS**](lvm-setworkareas.md) message and can be retrieved with the [**LVM\_GETWORKAREAS**](lvm-getworkareas.md) message.</span></span> <span data-ttu-id="64c63-300">Entrambi questi messaggi accettano l'indirizzo di una matrice di strutture [**RECT**](/previous-versions//dd162897(v=vs.85)) come *lParam* e il numero di strutture **RECT** come *wParam*.</span><span class="sxs-lookup"><span data-stu-id="64c63-300">Both of these messages take the address of an array of [**RECT**](/previous-versions//dd162897(v=vs.85)) structures as the *lParam* and the number of **RECT** structures as the *wParam*.</span></span> <span data-ttu-id="64c63-301">I **membri** sinistro e superiore di queste strutture specificano le coordinate dell'angolo superiore  sinistro  (origine) dell'area di lavoro e i membri destro e inferiore specificano l'angolo inferiore destro dell'area di lavoro. </span><span class="sxs-lookup"><span data-stu-id="64c63-301">The **left** and **top** members of these structures specify the coordinates of the upper-left corner (the origin) of the working area, and the **right** and **bottom** members specify the lower-right corner of the working area.</span></span> <span data-ttu-id="64c63-302">Tutte le coordinate sono in coordinate client della visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-302">All the coordinates are in client coordinates of the list view.</span></span> <span data-ttu-id="64c63-303">Il numero massimo di aree di lavoro consentite è definito dal **valore LV \_ MAX \_ WORKAREAS.**</span><span class="sxs-lookup"><span data-stu-id="64c63-303">The maximum number of working areas allowed is defined by the **LV\_MAX\_WORKAREAS** value.</span></span>

<span data-ttu-id="64c63-304">La modifica dell'area di lavoro non ha alcun effetto sui controlli visualizzazione elenco con la visualizzazione [**LVS \_ LIST**](list-view-window-styles.md) o [**LVS \_ REPORT,**](list-view-window-styles.md) ma le aree di lavoro verranno mantenute quando il tipo di visualizzazione viene modificato.</span><span class="sxs-lookup"><span data-stu-id="64c63-304">Changing the working area has no effect on list-view controls that have the [**LVS\_LIST**](list-view-window-styles.md) or [**LVS\_REPORT**](list-view-window-styles.md) view, but the working areas will be maintained when the view type is changed.</span></span> <span data-ttu-id="64c63-305">Con le [**visualizzazioni LVS \_ ICON**](list-view-window-styles.md) e [**LVS \_ SMALLICON,**](list-view-window-styles.md) l'area di lavoro può essere modificata per modificare la modalità di visualizzazione degli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-305">With the [**LVS\_ICON**](list-view-window-styles.md) and [**LVS\_SMALLICON**](list-view-window-styles.md) views, the working area can be modified to change the way the items are displayed.</span></span> <span data-ttu-id="64c63-306">Se la larghezza dell'area di lavoro (da destra a sinistra) è maggiore della larghezza client del controllo, viene eseguito il wrapping degli elementi a tale larghezza e viene visualizzata la barra di scorrimento orizzontale.</span><span class="sxs-lookup"><span data-stu-id="64c63-306">Making the width of the working area (right - left) greater than the client width of the control causes the items to be wrapped at that width and the horizontal scroll bar to be displayed.</span></span> <span data-ttu-id="64c63-307">Rendendo la larghezza dell'area di lavoro più stretta rispetto alla larghezza dell'area client del controllo, viene eseguito il wrapping degli elementi all'interno dell'area di lavoro e non dell'area client.</span><span class="sxs-lookup"><span data-stu-id="64c63-307">Making the width of the working area narrower than the width of the control's client area causes the items to be wrapped within the working area and not the client area.</span></span> <span data-ttu-id="64c63-308">Se si  **imposta** il membro sinistro o superiore su un valore positivo, gli elementi vengono visualizzati a partire dall'area di lavoro, creando uno spazio vuoto tra il bordo del controllo e gli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-308">Setting the **left** or **top** member to a positive value causes the items to be displayed starting at the working area, creating an empty space between the edge of the control and the items.</span></span> <span data-ttu-id="64c63-309">È anche possibile creare uno spazio vuoto tra il bordo destro del controllo e gli elementi rendendo la larghezza dell'area di lavoro inferiore alla larghezza client del controllo.</span><span class="sxs-lookup"><span data-stu-id="64c63-309">An empty space can also be created between the right edge of the control and the items by making the width of the working area less than the client width of the control.</span></span>

## <a name="list-view-image-lists"></a><span data-ttu-id="64c63-310">List-View di immagini</span><span class="sxs-lookup"><span data-stu-id="64c63-310">List-View Image Lists</span></span>

<span data-ttu-id="64c63-311">Per impostazione predefinita, un controllo visualizzazione elenco non visualizza le immagini degli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-311">By default, a list-view control does not display item images.</span></span> <span data-ttu-id="64c63-312">Per visualizzare le immagini degli elementi, è necessario creare elenchi di immagini e associarli al controllo .</span><span class="sxs-lookup"><span data-stu-id="64c63-312">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="64c63-313">Un controllo visualizzazione elenco può avere tre elenchi di immagini:</span><span class="sxs-lookup"><span data-stu-id="64c63-313">A list-view control can have three image lists:</span></span>

-   <span data-ttu-id="64c63-314">Elenco di immagini che contiene icone di dimensioni complete visualizzate quando il controllo è nella visualizzazione icone.</span><span class="sxs-lookup"><span data-stu-id="64c63-314">An image list that contains full-sized icons displayed when the control is in icon view.</span></span>
-   <span data-ttu-id="64c63-315">Elenco di immagini che contiene icone piccole visualizzate quando il controllo si trova nella visualizzazione icona piccola, nella visualizzazione elenco o nella visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="64c63-315">An image list that contains small icons displayed when the control is in small icon view, list view, or report view.</span></span>
-   <span data-ttu-id="64c63-316">Elenco di immagini che contiene immagini di stato, visualizzate a sinistra dell'icona a dimensione intera o piccola.</span><span class="sxs-lookup"><span data-stu-id="64c63-316">An image list that contains state images, which are displayed to the left of the full-sized or small icon.</span></span> <span data-ttu-id="64c63-317">È possibile usare immagini di stato, ad esempio caselle di controllo selezionate e deselezionate, per indicare gli stati degli elementi definiti dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="64c63-317">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span> <span data-ttu-id="64c63-318">Le immagini di stato vengono visualizzate nella visualizzazione icona, nella visualizzazione icona piccola, nella visualizzazione elenco e nella visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="64c63-318">State images are displayed in icon view, small icon view, list view, and report view.</span></span>

<span data-ttu-id="64c63-319">Gli elenchi di immagini di icone grandi e piccole possono contenere anche immagini sovrapposte, progettate per essere disegnate in modo trasparente sulle icone degli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-319">The full-sized and small icon image lists can also contain *overlay images*, which are designed to be drawn transparently over the item icons.</span></span>

<span data-ttu-id="64c63-320">Per usare immagini sovrapposte in un controllo visualizzazione elenco:</span><span class="sxs-lookup"><span data-stu-id="64c63-320">To use overlay images in a list-view control:</span></span>

1.  <span data-ttu-id="64c63-321">Chiamare la [**funzione ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) per assegnare un indice di immagine di sovrimpressione a un'immagine negli elenchi di immagini di icone di piccole e grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="64c63-321">Call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function to assign an overlay image index to an image in the full-sized and small icon image lists.</span></span> <span data-ttu-id="64c63-322">Un'immagine di sovrimpressione è identificata da un indice in base uno.</span><span class="sxs-lookup"><span data-stu-id="64c63-322">An overlay image is identified by a one-based index.</span></span>
2.  <span data-ttu-id="64c63-323">Puoi associare un indice di immagine sovrapposta a un elemento quando chiami la macro [**\_ ListView InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) o [**ListView \_ SetItem.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem)</span><span class="sxs-lookup"><span data-stu-id="64c63-323">You can associate an overlay image index with an item when you call the [**ListView\_InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) or [**ListView\_SetItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem) macro.</span></span> <span data-ttu-id="64c63-324">Usare la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) per specificare un indice di immagine di sovrimpressione nel membro **di** stato della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-324">Use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay image index in the **state** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="64c63-325">È inoltre necessario impostare i bit [**\_ LVIS OVERLAYMASK**](list-view-item-states.md) nel **membro stateMask.**</span><span class="sxs-lookup"><span data-stu-id="64c63-325">You must also set the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) bits in the **stateMask** member.</span></span>

<span data-ttu-id="64c63-326">Se viene specificato un elenco di immagini di stato, un controllo visualizzazione elenco riserva spazio a sinistra dell'icona di ogni elemento per un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="64c63-326">If a state image list is specified, a list-view control reserves space to the left of each item's icon for a state image.</span></span>

<span data-ttu-id="64c63-327">Per associare un'immagine di stato a un elemento, usare la macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) per specificare un indice dell'immagine di stato nel membro **di** stato della [**struttura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="64c63-327">To associate a state image with an item, use the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro to specify a state image index in the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="64c63-328">L'indice identifica un'immagine nell'elenco di immagini di stato del controllo.</span><span class="sxs-lookup"><span data-stu-id="64c63-328">The index identifies an image in the control's state image list.</span></span> <span data-ttu-id="64c63-329">Anche se gli indici dell'elenco immagini sono in base zero, il controllo usa indici in base uno per identificare le immagini di stato.</span><span class="sxs-lookup"><span data-stu-id="64c63-329">Although image list indexes are zero-based, the control uses one-based indexes to identify state images.</span></span> <span data-ttu-id="64c63-330">Un indice dell'immagine di stato pari a zero indica che un elemento non dispone di un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="64c63-330">A state image index of zero indicates that an item has no state image.</span></span>

<span data-ttu-id="64c63-331">Per impostazione predefinita, quando un controllo visualizzazione elenco viene eliminato, elimina gli elenchi di immagini assegnati.</span><span class="sxs-lookup"><span data-stu-id="64c63-331">By default, when a list-view control is destroyed, it destroys the image lists assigned to it.</span></span> <span data-ttu-id="64c63-332">Tuttavia, se un controllo visualizzazione elenco ha lo stile di finestra [**LVS \_ SHAREIMAGELISTS,**](list-view-window-styles.md) l'applicazione è responsabile dell'eliminazione degli elenchi di immagini quando non sono più in uso.</span><span class="sxs-lookup"><span data-stu-id="64c63-332">However, if a list-view control has the [**LVS\_SHAREIMAGELISTS**](list-view-window-styles.md) window style, the application is responsible for destroying the image lists when they are no longer in use.</span></span> <span data-ttu-id="64c63-333">È necessario specificare questo stile se si assegnano gli stessi elenchi di immagini a più controlli visualizzazione elenco. In caso contrario, più controlli potrebbero tentare di eliminare lo stesso elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="64c63-333">You should specify this style if you assign the same image lists to multiple list-view controls; otherwise, more than one control might try to destroy the same image list.</span></span>

## <a name="list-view-items-and-subitems"></a><span data-ttu-id="64c63-334">List-View elementi ed elementi secondari</span><span class="sxs-lookup"><span data-stu-id="64c63-334">List-View Items and Subitems</span></span>

<span data-ttu-id="64c63-335">Ogni elemento in un controllo visualizzazione elenco ha un'icona, un'etichetta, uno stato corrente e un valore definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="64c63-335">Each item in a list-view control has an icon, a label, a current state, and an application-defined value.</span></span> <span data-ttu-id="64c63-336">Usando i messaggi di visualizzazione elenco, è possibile aggiungere, modificare ed eliminare elementi, nonché recuperare informazioni sugli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-336">By using list-view messages, you can add, modify, and delete items as well as retrieve information about items.</span></span>

<span data-ttu-id="64c63-337">Ogni elemento può avere uno o più *elementi secondari.*</span><span class="sxs-lookup"><span data-stu-id="64c63-337">Each item can have one or more *subitems*.</span></span> <span data-ttu-id="64c63-338">Un elemento secondario è una stringa che, nella visualizzazione report, viene visualizzata in una colonna separata dall'icona e dall'etichetta dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-338">A subitem is a string that, in report view, is displayed in a column separate from the item's icon and label.</span></span> <span data-ttu-id="64c63-339">Per specificare il testo di un elemento secondario, usare il [**messaggio LVM \_ SETITEMTEXT**](lvm-setitemtext.md) o [**LVM \_ SETITEM.**](lvm-setitem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-339">To specify the text of a subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) or [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="64c63-340">Tutti gli elementi in un controllo visualizzazione elenco hanno lo stesso numero di elementi secondari.</span><span class="sxs-lookup"><span data-stu-id="64c63-340">All items in a list-view control have the same number of subitems.</span></span> <span data-ttu-id="64c63-341">Il numero di elementi secondari è determinato dal numero di colonne nel controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-341">The number of subitems is determined by the number of columns in the list-view control.</span></span> <span data-ttu-id="64c63-342">Quando si aggiunge una colonna a un controllo visualizzazione elenco, si specifica l'indice dell'elemento secondario associato.</span><span class="sxs-lookup"><span data-stu-id="64c63-342">When you add a column to a list-view control, you specify its associated subitem index.</span></span>

<span data-ttu-id="64c63-343">La [**struttura LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) definisce un elemento di visualizzazione elenco o un elemento secondario.</span><span class="sxs-lookup"><span data-stu-id="64c63-343">The [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure defines a list-view item or subitem.</span></span> <span data-ttu-id="64c63-344">Il **membro iItem** è l'indice in base zero dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-344">The **iItem** member is the zero-based index of the item.</span></span> <span data-ttu-id="64c63-345">Il **membro iSubItem** è l'indice in base uno di un elemento secondario o zero se la struttura contiene informazioni su un elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-345">The **iSubItem** member is the one-based index of a subitem or zero if the structure contains information about an item.</span></span> <span data-ttu-id="64c63-346">I membri aggiuntivi specificano il testo, l'icona, lo stato e i dati dell'elemento dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-346">Additional members specify the item's text, icon, state, and item data.</span></span> <span data-ttu-id="64c63-347">*I dati dell'elemento* sono un valore definito dall'applicazione associato a un elemento di visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-347">*Item data* is an application-defined value associated with a list-view item.</span></span>

<span data-ttu-id="64c63-348">Per aggiungere un elemento a un controllo di visualizzazione elenco, usare il messaggio [**LVM \_ INSERTITEM,**](lvm-insertitem.md) specificando l'indirizzo di una struttura [**LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="64c63-348">To add an item to a list-view control, use the [**LVM\_INSERTITEM**](lvm-insertitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="64c63-349">Prima di aggiungere più elementi, è possibile inviare al controllo un messaggio [**LVM \_ SETITEMCOUNT,**](lvm-setitemcount.md) specificando il numero di elementi che il controllo conterrà.</span><span class="sxs-lookup"><span data-stu-id="64c63-349">Before adding multiple items, you can send the control an [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, specifying the number of items the control will ultimately contain.</span></span> <span data-ttu-id="64c63-350">Questo messaggio consente al controllo visualizzazione elenco di riallocare le strutture di dati interne una sola volta anziché ogni volta che si aggiunge un elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-350">This message enables the list-view control to reallocate its internal data structures only once rather than every time you add an item.</span></span> <span data-ttu-id="64c63-351">È possibile determinare il numero di elementi in un controllo visualizzazione elenco usando il messaggio [**LVM \_ GETITEMCOUNT.**](lvm-getitemcount.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-351">You can determine the number of items in a list-view control by using the [**LVM\_GETITEMCOUNT**](lvm-getitemcount.md) message.</span></span> <span data-ttu-id="64c63-352">Se si aggiunge un numero elevato di elementi a un controllo visualizzazione elenco, è possibile velocizzare il processo disabilitando il ridisegno prima di aggiungere gli elementi, quindi abilitare il ridisegno dopo l'aggiunta degli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-352">If you are adding a large number of items to a list-view control, you can speed up the process by disabling redrawing before adding the items, then enable redrawing after the items are added.</span></span> <span data-ttu-id="64c63-353">Usare il [**messaggio WM \_ SETREDRAW**](/windows/desktop/gdi/wm-setredraw) per abilitare e disabilitare il ridisegno.</span><span class="sxs-lookup"><span data-stu-id="64c63-353">Use the [**WM\_SETREDRAW**](/windows/desktop/gdi/wm-setredraw) message to enable and disable redrawing.</span></span>

<span data-ttu-id="64c63-354">Per modificare gli attributi di un elemento di visualizzazione elenco, usare il messaggio [**\_ LVM SETITEM,**](lvm-setitem.md) specificando l'indirizzo di una [**struttura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="64c63-354">To change the attributes of a list-view item, use the [**LVM\_SETITEM**](lvm-setitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="64c63-355">Il **membro mask** di questa struttura specifica gli attributi dell'elemento da modificare.</span><span class="sxs-lookup"><span data-stu-id="64c63-355">The **mask** member of this structure specifies the item attributes you want to change.</span></span> <span data-ttu-id="64c63-356">Ad esempio, per modificare solo il testo di un elemento o di un elemento secondario, usare il [**messaggio \_ LVM SETITEMTEXT.**](lvm-setitemtext.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-356">For example, to change only the text of an item or subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) message.</span></span>

<span data-ttu-id="64c63-357">Per recuperare informazioni su un elemento di visualizzazione elenco, usare il messaggio [**\_ LVM GETITEM,**](lvm-getitem.md) specificando l'indirizzo della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) da compilare.</span><span class="sxs-lookup"><span data-stu-id="64c63-357">To retrieve information about a list-view item, use the [**LVM\_GETITEM**](lvm-getitem.md) message, specifying the address of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to fill in.</span></span> <span data-ttu-id="64c63-358">Il **membro mask** di questa struttura specifica gli attributi dell'elemento da recuperare.</span><span class="sxs-lookup"><span data-stu-id="64c63-358">The **mask** member of this structure specifies the item attributes to be retrieved.</span></span> <span data-ttu-id="64c63-359">Per recuperare solo il testo di un elemento o di un elemento secondario, usare il [**messaggio LVM \_ GETITEMTEXT.**](lvm-getitemtext.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-359">To retrieve only an item or subitem's text, use the [**LVM\_GETITEMTEXT**](lvm-getitemtext.md) message.</span></span>

<span data-ttu-id="64c63-360">Per eliminare un elemento di visualizzazione elenco, usare il [**messaggio LVM \_ DELETEITEM.**](lvm-deleteitem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-360">To delete a list-view item, use the [**LVM\_DELETEITEM**](lvm-deleteitem.md) message.</span></span> <span data-ttu-id="64c63-361">È possibile eliminare tutti gli elementi in un controllo visualizzazione elenco usando il [**messaggio LVM \_ DELETEALLITEMS.**](lvm-deleteallitems.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-361">You can delete all items in a list-view control by using the [**LVM\_DELETEALLITEMS**](lvm-deleteallitems.md) message.</span></span>

### <a name="list-view-item-states"></a><span data-ttu-id="64c63-362">List-View stati degli elementi</span><span class="sxs-lookup"><span data-stu-id="64c63-362">List-View Item States</span></span>

<span data-ttu-id="64c63-363">Lo stato di un elemento è un valore che specifica la disponibilità dell'elemento, indica le azioni dell'utente o riflette in altro modo lo stato dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-363">An item's state is a value that specifies the item's availability, indicates user actions, or otherwise reflects the item's status.</span></span> <span data-ttu-id="64c63-364">Un controllo visualizzazione elenco modifica alcuni bit di stato, ad esempio quando l'utente seleziona un elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-364">A list-view control changes some state bits, such as when the user selects an item.</span></span> <span data-ttu-id="64c63-365">Un'applicazione può modificare altri bit di stato per disabilitare o nascondere l'elemento o per specificare un'immagine di sovrimpressione o un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="64c63-365">An application might change other state bits to disable or hide the item or to specify an overlay image or state image.</span></span> <span data-ttu-id="64c63-366">Per altre informazioni sulle immagini sovrapposte e le immagini di stato, vedere [List-View Image Lists](#list-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="64c63-366">For more information about overlay images and state images, see [List-View Image Lists](#list-view-image-lists).</span></span>

<span data-ttu-id="64c63-367">Lo stato di un elemento viene specificato dal **membro di** stato della [**struttura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="64c63-367">An item's state is specified by the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="64c63-368">Quando si specifica o si modifica lo stato di un elemento, il **membro stateMask** specifica quali bit di stato è necessario modificare.</span><span class="sxs-lookup"><span data-stu-id="64c63-368">When you specify or change an item's state, the **stateMask** member specifies which state bits you need to change.</span></span> <span data-ttu-id="64c63-369">È possibile modificare lo stato di un elemento usando il [**messaggio \_ LVM SETITEMSTATE.**](lvm-setitemstate.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-369">You can change an item's state by using the [**LVM\_SETITEMSTATE**](lvm-setitemstate.md) message.</span></span> <span data-ttu-id="64c63-370">È possibile specificare lo stato di un elemento quando viene creato o quando si modificano gli attributi usando il messaggio [**\_ LVM SETITEM.**](lvm-setitem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-370">You can specify an item's state when you create it or when you change its attributes by using the [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="64c63-371">Per determinare lo stato corrente di un elemento, usare il [**messaggio LVM \_ GETITEMSTATE**](lvm-getitemstate.md) o [**LVM \_ GETITEM.**](lvm-getitem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-371">To determine an item's current state, use the [**LVM\_GETITEMSTATE**](lvm-getitemstate.md) or [**LVM\_GETITEM**](lvm-getitem.md) message.</span></span>

<span data-ttu-id="64c63-372">Per impostare l'immagine di sovrimpressione di un elemento, il membro **stateMask** della  struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) deve includere il valore [**LVIS \_ OVERLAYMASK**](list-view-item-states.md) e il membro di stato deve includere l'indice in base uno dell'immagine sovrapposta spostata a sinistra di 8 bit usando la macro [**INDEXTOOVERLAYMASK.**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask)</span><span class="sxs-lookup"><span data-stu-id="64c63-372">To set an item's overlay image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="64c63-373">L'indice può essere zero per non specificare alcuna immagine di sovrimpressione.</span><span class="sxs-lookup"><span data-stu-id="64c63-373">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="64c63-374">Per impostare l'immagine di stato di un elemento, il membro **stateMask** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) deve includere il valore [**LVIS \_ STATEIMAGEMASK**](list-view-item-states.md) e il membro di stato deve includere l'indice in base uno dell'immagine di stato spostata a sinistra di 12 bit usando la macro [**INDEXTOSTATEIMAGEMASK.**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) </span><span class="sxs-lookup"><span data-stu-id="64c63-374">To set an item's state image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_STATEIMAGEMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the state image shifted left 12 bits by using the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro.</span></span> <span data-ttu-id="64c63-375">L'indice può essere zero per non specificare alcuna immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="64c63-375">The index can be zero to specify no state image.</span></span>

### <a name="callback-items-and-the-callback-mask"></a><span data-ttu-id="64c63-376">Elementi di callback e maschera di callback</span><span class="sxs-lookup"><span data-stu-id="64c63-376">Callback Items and the Callback Mask</span></span>

<span data-ttu-id="64c63-377">Per ogni elemento, un controllo visualizzazione elenco archivia in genere il testo dell'etichetta, l'indice dell'elenco immagini delle icone dell'elemento e un set di flag di bit per lo stato dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-377">For each of its items, a list-view control typically stores the label text, the image list index of the item's icons, and a set of bit flags for the item's state.</span></span> <span data-ttu-id="64c63-378">È possibile definire elementi di callback o modificare la maschera di callback del controllo per indicare che l'applicazione, anziché il controllo, archivia alcune o tutte queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="64c63-378">You can define callback items or change the control's callback mask to indicate that the application, rather than the control, stores some or all of this information.</span></span> <span data-ttu-id="64c63-379">È possibile usare i callback se l'applicazione archivia alcune di queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="64c63-379">You might want to use callbacks if your application stores some of this information.</span></span>

<span data-ttu-id="64c63-380">Un *elemento di callback* in un controllo visualizzazione elenco è un elemento per il quale l'applicazione archivia l'indice di testo o icona o entrambi.</span><span class="sxs-lookup"><span data-stu-id="64c63-380">A *callback item* in a list-view control is an item for which the application stores the text or icon index, or both.</span></span> <span data-ttu-id="64c63-381">È possibile definire elementi di callback quando si invia il [**messaggio LVM \_ INSERTITEM**](lvm-insertitem.md) per aggiungere un elemento al controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-381">You can define callback items when you send the [**LVM\_INSERTITEM**](lvm-insertitem.md) message to add an item to the list-view control.</span></span> <span data-ttu-id="64c63-382">Se l'applicazione archivia il testo per l'elemento o l'elemento secondario, impostare il membro **pszText** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) dell'elemento su **LPSTR \_ TEXTCALLBACK**.</span><span class="sxs-lookup"><span data-stu-id="64c63-382">If the application stores the text for the item or subitem, set the **pszText** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to **LPSTR\_TEXTCALLBACK**.</span></span> <span data-ttu-id="64c63-383">Se l'applicazione archivia l'indice delle icone per un elemento, impostare il membro **iImage** della struttura **LVITEM** dell'elemento su **I \_ IMAGECALLBACK.**</span><span class="sxs-lookup"><span data-stu-id="64c63-383">If the application stores the icon index for an item, set the **iImage** member of the item's **LVITEM** structure to **I\_IMAGECALLBACK**.</span></span>

<span data-ttu-id="64c63-384">La *maschera di callback* di un controllo visualizzazione elenco è un set di flag di bit che specificano gli stati degli elementi per i quali l'applicazione, anziché il controllo, archivia i dati correnti.</span><span class="sxs-lookup"><span data-stu-id="64c63-384">The *callback mask* of a list-view control is a set of bit flags that specify the item states for which the application, rather than the control, stores the current data.</span></span> <span data-ttu-id="64c63-385">La maschera di callback si applica a tutti gli elementi del controllo, a differenza della designazione dell'elemento di callback, che si applica a un elemento specifico.</span><span class="sxs-lookup"><span data-stu-id="64c63-385">The callback mask applies to all of the control's items, unlike the callback item designation, which applies to a specific item.</span></span> <span data-ttu-id="64c63-386">La maschera di callback è zero per impostazione predefinita, vale a dire che il controllo visualizzazione elenco archivia tutte le informazioni sullo stato degli elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-386">The callback mask is zero by default, meaning that the list-view control stores all item state information.</span></span> <span data-ttu-id="64c63-387">Dopo aver creato un controllo visualizzazione elenco e aver inizializzato i relativi elementi, è possibile inviare il messaggio [**LVM \_ SETCALLBACKMASK**](lvm-setcallbackmask.md) per modificare la maschera di callback.</span><span class="sxs-lookup"><span data-stu-id="64c63-387">After creating a list-view control and initializing its items, you can send the [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message to change the callback mask.</span></span> <span data-ttu-id="64c63-388">Per recuperare la maschera di callback corrente, inviare il [**messaggio LVM \_ GETCALLBACKMASK.**](lvm-getcallbackmask.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-388">To retrieve the current callback mask, send the [**LVM\_GETCALLBACKMASK**](lvm-getcallbackmask.md) message.</span></span>

<span data-ttu-id="64c63-389">Quando un controllo visualizzazione elenco deve visualizzare o ordinare un elemento di visualizzazione elenco per il quale l'applicazione archivia informazioni di callback, il controllo invia il codice di notifica [ \_ LVN GETDISPINFO](lvn-getdispinfo.md) alla finestra padre del controllo.</span><span class="sxs-lookup"><span data-stu-id="64c63-389">When a list-view control must display or sort a list-view item for which the application stores callback information, the control sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to the control's parent window.</span></span> <span data-ttu-id="64c63-390">Questo messaggio specifica una struttura [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) che contiene il tipo di informazioni necessarie e identifica l'elemento o l'elemento secondario da recuperare.</span><span class="sxs-lookup"><span data-stu-id="64c63-390">This message specifies an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure that contains the type of information required and identifies the item or subitem to retrieve.</span></span> <span data-ttu-id="64c63-391">La finestra padre deve elaborare LVN \_ GETDISPINFO per fornire i dati richiesti.</span><span class="sxs-lookup"><span data-stu-id="64c63-391">The parent window must process LVN\_GETDISPINFO to provide the requested data.</span></span>

<span data-ttu-id="64c63-392">Se il controllo visualizzazione elenco rileva una modifica nelle informazioni di callback di un elemento, ad esempio una modifica nel testo, nell'icona o nelle informazioni sullo stato, il controllo invia un codice di notifica [ \_ LVN SETDISPINFO](lvn-setdispinfo.md) per notificare la modifica.</span><span class="sxs-lookup"><span data-stu-id="64c63-392">If the list-view control detects a change in an item's callback information, such as a change in the text, icon, or state information, the control sends an [LVN\_SETDISPINFO](lvn-setdispinfo.md) notification code to notify you of the change.</span></span>

<span data-ttu-id="64c63-393">Se si modificano gli attributi o i bit di stato di un elemento di callback, si usa il messaggio [**LVM \_ UPDATE**](lvm-update.md) per forzare il controllo a ridisegnare l'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-393">If you change a callback item's attributes or state bits, you use the [**LVM\_UPDATE**](lvm-update.md) message to force the control to repaint the item.</span></span> <span data-ttu-id="64c63-394">Questo messaggio fa sì che il controllo disporrà gli elementi se ha lo stile [**LVS \_ AUTOARRANGE.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-394">This message also causes the control to arrange its items if it has the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="64c63-395">È possibile usare [**il messaggio LVM \_ REDRAWITEMS**](lvm-redrawitems.md) per ridisegnare un intervallo di elementi invalidando le parti corrispondenti dell'area client del controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-395">You can use the [**LVM\_REDRAWITEMS**](lvm-redrawitems.md) message to redraw a range of items by invalidating the corresponding portions of the list-view control's client area.</span></span>

<span data-ttu-id="64c63-396">Usando in modo efficace gli elementi di callback e la maschera di callback, è possibile assicurarsi che ogni attributo dell'elemento sia mantenuto in un'unica posizione.</span><span class="sxs-lookup"><span data-stu-id="64c63-396">By effectively using callback items and the callback mask, you can ensure that each item attribute is maintained in only one place.</span></span> <span data-ttu-id="64c63-397">Questa operazione può semplificare l'applicazione, ma l'unico spazio salvato è la memoria che altrimenti sarebbe necessaria per archiviare le etichette degli elementi e il testo degli elementi secondari.</span><span class="sxs-lookup"><span data-stu-id="64c63-397">Doing this can simplify your application, but the only space saved is the memory that would otherwise be required to store item labels and subitem text.</span></span>

### <a name="list-view-item-position"></a><span data-ttu-id="64c63-398">List-View posizione dell'elemento</span><span class="sxs-lookup"><span data-stu-id="64c63-398">List-View Item Position</span></span>

<span data-ttu-id="64c63-399">Ogni elemento della visualizzazione elenco ha una posizione e una dimensione, che è possibile recuperare e impostare usando i messaggi.</span><span class="sxs-lookup"><span data-stu-id="64c63-399">Every list-view item has a position and size, which you can retrieve and set using messages.</span></span> <span data-ttu-id="64c63-400">È anche possibile determinare quale elemento, se presente, si trova in una posizione specificata.</span><span class="sxs-lookup"><span data-stu-id="64c63-400">You can also determine which item, if any, is at a specified position.</span></span> <span data-ttu-id="64c63-401">La posizione degli elementi della visualizzazione elenco viene specificata nelle coordinate *di* visualizzazione , che sono coordinate client offset dalla posizione di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="64c63-401">The position of list-view items is specified in *view coordinates*, which are client coordinates offset by the scroll position.</span></span>

<span data-ttu-id="64c63-402">Per recuperare e impostare la posizione di un elemento, usare i messaggi [**LVM \_ GETITEMPOSITION**](lvm-getitemposition.md) e [**LVM \_ SETITEMPOSITION.**](lvm-setitemposition.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-402">To retrieve and set an item's position, use the [**LVM\_GETITEMPOSITION**](lvm-getitemposition.md) and [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) messages.</span></span> <span data-ttu-id="64c63-403">**LVM \_ GETITEMPOSITION funziona** per tutte le viste, ma **LVM \_ SETITEMPOSITION** funziona solo per le visualizzazioni icona e icona piccola.</span><span class="sxs-lookup"><span data-stu-id="64c63-403">**LVM\_GETITEMPOSITION** works for all views, but **LVM\_SETITEMPOSITION** works only for icon and small icon views.</span></span>

<span data-ttu-id="64c63-404">È possibile determinare quale elemento, se presente, si trova in una posizione specifica usando il [**messaggio LVM \_ HITTEST.**](lvm-hittest.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-404">You can determine which item, if any, is at a particular location by using the [**LVM\_HITTEST**](lvm-hittest.md) message.</span></span>

<span data-ttu-id="64c63-405">Per recuperare il rettangolo di delimitazione per un elemento dell'elenco o solo per l'icona o l'etichetta, usare il messaggio [**LVM \_ GETITEMRECT.**](lvm-getitemrect.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-405">To retrieve the bounding rectangle for a list item or only for its icon or label, use the [**LVM\_GETITEMRECT**](lvm-getitemrect.md) message.</span></span>

### <a name="arranging-sorting-and-finding-items"></a><span data-ttu-id="64c63-406">Disposizione, ordinamento e ricerca di elementi</span><span class="sxs-lookup"><span data-stu-id="64c63-406">Arranging, Sorting, and Finding Items</span></span>

<span data-ttu-id="64c63-407">È possibile usare i messaggi di visualizzazione elenco per disporre e ordinare gli elementi e per trovare gli elementi in base ai relativi attributi o posizioni.</span><span class="sxs-lookup"><span data-stu-id="64c63-407">You can use list-view messages to arrange and sort items and to find items based on their attributes or positions.</span></span> <span data-ttu-id="64c63-408">La disposizione riposiziona gli elementi in modo che siano allineati in una griglia, ma gli indici degli elementi non cambiano.</span><span class="sxs-lookup"><span data-stu-id="64c63-408">Arranging repositions items to align on a grid, but the indexes of the items do not change.</span></span> <span data-ttu-id="64c63-409">L'ordinamento modifica la sequenza di elementi (e i relativi indici corrispondenti) e quindi li riposiziona di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="64c63-409">Sorting changes the sequence of items (and their corresponding indexes) and then repositions them accordingly.</span></span> <span data-ttu-id="64c63-410">È possibile disporre gli elementi solo nelle visualizzazioni icona e icona piccola, ma è possibile ordinare gli elementi in qualsiasi visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="64c63-410">You can arrange items only in icon and small icon views, but you can sort items in any view.</span></span> <span data-ttu-id="64c63-411">Per trovare gli elementi, inviare messaggi di visualizzazione elenco che specificano la posizione o la proprietà di un elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-411">To find items, you send list-view messages that specify an item location or property.</span></span>

<span data-ttu-id="64c63-412">Per disporre gli elementi, usare il [**messaggio LVM \_ ARRANGE.**](lvm-arrange.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-412">To arrange items, use the [**LVM\_ARRANGE**](lvm-arrange.md) message.</span></span> <span data-ttu-id="64c63-413">È possibile assicurarsi che gli elementi siano disposti in qualsiasi momento specificando lo stile della finestra [**LVS \_ AUTOARRANGE.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-413">You can ensure that items are arranged at all times by specifying the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="64c63-414">Per ordinare gli elementi, usare il [**messaggio \_ LVM SORTITEMS.**](lvm-sortitems.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-414">To sort items, use the [**LVM\_SORTITEMS**](lvm-sortitems.md) message.</span></span> <span data-ttu-id="64c63-415">Quando si esegue l'ordinamento usando questo messaggio, si specifica una funzione di callback definita dall'applicazione chiamata dal controllo visualizzazione elenco per confrontare l'ordine relativo di due elementi qualsiasi.</span><span class="sxs-lookup"><span data-stu-id="64c63-415">When you sort using this message, you specify an application-defined callback function that the list-view control calls to compare the relative order of any two items.</span></span> <span data-ttu-id="64c63-416">Il controllo passa alla funzione di confronto i dati dell'elemento associati a ognuno dei due elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-416">The control passes to the comparison function the item data associated with each of the two items.</span></span> <span data-ttu-id="64c63-417">I dati dell'elemento sono il valore specificato nel membro **lParam** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) dell'elemento quando è stato inserito nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-417">The item data is the value that was specified in the **lParam** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure when it was inserted into the list.</span></span> <span data-ttu-id="64c63-418">Specificando i dati degli elementi appropriati e fornendo una funzione di confronto appropriata, è possibile ordinare gli elementi in base all'etichetta, a qualsiasi elemento secondario o a qualsiasi altra proprietà.</span><span class="sxs-lookup"><span data-stu-id="64c63-418">By specifying the appropriate item data and supplying an appropriate comparison function, you can sort items by their label, by any subitem, or by any other property.</span></span> <span data-ttu-id="64c63-419">Si noti che l'ordinamento degli elementi non riordina gli elementi secondari corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="64c63-419">Note that sorting items does not reorder the corresponding subitems.</span></span> <span data-ttu-id="64c63-420">Quando gli elementi vengono riordinati, vengono trasportati gli elementi secondari corrispondenti; in altre informazioni, le righe intere vengono mantenute insieme.</span><span class="sxs-lookup"><span data-stu-id="64c63-420">When items are reordered, their corresponding subitems are carried with them; that is, whole rows are kept together.</span></span> <span data-ttu-id="64c63-421">Per ordinare le colonne separatamente l'una dall'altra, scollegando gli elementi secondari dai relativi elementi, è necessario rigenerare le colonne dopo l'ordinamento usando [**LVM \_ SETITEM**](lvm-setitem.md).</span><span class="sxs-lookup"><span data-stu-id="64c63-421">To order the columns separately from one another, detaching the subitems from their items, you must regenerate the columns after sorting using [**LVM\_SETITEM**](lvm-setitem.md).</span></span>

<span data-ttu-id="64c63-422">È possibile assicurarsi che un controllo visualizzazione elenco sia sempre ordinato specificando lo stile della finestra [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-422">You can ensure that a list-view control is always sorted by specifying the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) window style.</span></span> <span data-ttu-id="64c63-423">I controlli con questi stili usano il testo dell'etichetta degli elementi per ordinarli in ordine crescente o decrescente.</span><span class="sxs-lookup"><span data-stu-id="64c63-423">Controls with these styles use the label text of the items to sort them in ascending or descending order.</span></span> <span data-ttu-id="64c63-424">Non è possibile fornire una funzione di confronto quando si usano questi stili di finestra.</span><span class="sxs-lookup"><span data-stu-id="64c63-424">You cannot supply a comparison function when using these window styles.</span></span> <span data-ttu-id="64c63-425">Se un controllo visualizzazione elenco ha uno di questi stili, un messaggio [**LVM \_ INSERTITEM**](lvm-insertitem.md) avrà esito negativo se si tenta di inserire un elemento con **LPSTR \_ TEXTCALLBACK** come membro **pszText** della struttura [**LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="64c63-425">If a list-view control has either of these styles, an [**LVM\_INSERTITEM**](lvm-insertitem.md) message will fail if you try to insert an item that has **LPSTR\_TEXTCALLBACK** as the **pszText** member of its [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span>

<span data-ttu-id="64c63-426">È possibile trovare un elemento di visualizzazione elenco con proprietà specifiche usando il [**messaggio \_ LVM FINDITEM.**](lvm-finditem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-426">You can find a list-view item with specific properties by using the [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="64c63-427">È possibile trovare un elemento di visualizzazione elenco che si trova in uno stato specificato e ha una relazione specificata con un determinato elemento usando il [**messaggio LVM \_ GETNEXTITEM.**](lvm-getnextitem.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-427">You can find a list-view item that is in a specified state and has a specified relationship to a given item by using the [**LVM\_GETNEXTITEM**](lvm-getnextitem.md) message.</span></span> <span data-ttu-id="64c63-428">Ad esempio, è possibile recuperare l'elemento selezionato successivo a destra di un elemento specificato.</span><span class="sxs-lookup"><span data-stu-id="64c63-428">For example, you can retrieve the next selected item to the right of a specified item.</span></span>

## <a name="list-view-columns"></a><span data-ttu-id="64c63-429">List-View colonne</span><span class="sxs-lookup"><span data-stu-id="64c63-429">List-View Columns</span></span>

<span data-ttu-id="64c63-430">Le colonne controllano la modalità di visualizzazione degli elementi e dei relativi elementi secondari nella visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="64c63-430">Columns control the way items and their subitems are displayed in report view.</span></span> <span data-ttu-id="64c63-431">Ogni colonna ha un titolo e una larghezza ed è associata a un elemento secondario specifico. l'elemento secondario zero è l'icona e l'etichetta dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-431">Each column has a title and width and is associated with a specific subitem; subitem zero is the item's icon and label.</span></span> <span data-ttu-id="64c63-432">Gli attributi di una colonna sono definiti da una [**struttura LVCOLUMN.**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna)</span><span class="sxs-lookup"><span data-stu-id="64c63-432">The attributes of a column are defined by an [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="64c63-433">Per aggiungere una colonna a un controllo visualizzazione elenco, usare il [**messaggio LVM \_ INSERTCOLUMN.**](lvm-insertcolumn.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-433">To add a column to a list-view control, use the [**LVM\_INSERTCOLUMN**](lvm-insertcolumn.md) message.</span></span> <span data-ttu-id="64c63-434">Per eliminare una colonna, usare il [**messaggio LVM \_ DELETECOLUMN.**](lvm-deletecolumn.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-434">To delete a column, use the [**LVM\_DELETECOLUMN**](lvm-deletecolumn.md) message.</span></span>

> [!Note]  
> <span data-ttu-id="64c63-435">L'eliminazione della colonna zero di un controllo visualizzazione elenco è supportata solo ComCtl32.dll versione 6 e successive.</span><span class="sxs-lookup"><span data-stu-id="64c63-435">Deleting column zero of a list-view control is supported only in ComCtl32.dll version 6 and later.</span></span> <span data-ttu-id="64c63-436">La versione 5 supporta anche l'eliminazione della colonna zero, ma solo dopo aver utilizzato [**CCM \_ SETVERSION**](ccm-setversion.md) per impostare la versione su 5 o versione successiva.</span><span class="sxs-lookup"><span data-stu-id="64c63-436">Version 5 also supports deleting column zero, but only after you use [**CCM\_SETVERSION**](ccm-setversion.md) to set the version to 5 or later.</span></span> <span data-ttu-id="64c63-437">Le versioni precedenti alla versione 5 non supportano l'eliminazione della colonna zero.</span><span class="sxs-lookup"><span data-stu-id="64c63-437">Versions prior to version 5 do not support deleting column zero.</span></span>

 

<span data-ttu-id="64c63-438">È possibile recuperare e modificare le proprietà di una colonna esistente usando i messaggi [**LVM \_ GETCOLUMN**](lvm-getcolumn.md) e [**LVM \_ SETCOLUMN.**](lvm-setcolumn.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-438">You can retrieve and change the properties of an existing column by using the [**LVM\_GETCOLUMN**](lvm-getcolumn.md) and [**LVM\_SETCOLUMN**](lvm-setcolumn.md) messages.</span></span> <span data-ttu-id="64c63-439">Per recuperare o modificare la larghezza di una colonna, usare i messaggi [**LVM \_ GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) e [**LVM \_ SETCOLUMNWIDTH.**](lvm-setcolumnwidth.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-439">To retrieve or change a column's width, use the [**LVM\_GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) and [**LVM\_SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) messages.</span></span>

<span data-ttu-id="64c63-440">A meno che non venga specificato lo stile della finestra [**\_ LVS NOCOLUMNHEADER,**](list-view-window-styles.md) le intestazioni di colonna vengono visualizzate nella visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="64c63-440">Unless the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style is specified, column headers appear in report view.</span></span> <span data-ttu-id="64c63-441">L'utente può fare clic su un'intestazione di colonna, causando l'invio di un codice di notifica [**\_ LVN COLUMNCLICK**](lvn-columnclick.md) alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="64c63-441">The user can click a column header, causing an [**LVN\_COLUMNCLICK**](lvn-columnclick.md) notification code to be sent to the parent window.</span></span> <span data-ttu-id="64c63-442">In genere, la finestra padre ordina il controllo visualizzazione elenco in base alla colonna specificata quando si fa clic.</span><span class="sxs-lookup"><span data-stu-id="64c63-442">Typically, the parent window sorts the list-view control by the specified column when this clicking occurs.</span></span> <span data-ttu-id="64c63-443">L'utente può anche trascinare le guide di colonna tra le intestazioni per ridimensionare le colonne.</span><span class="sxs-lookup"><span data-stu-id="64c63-443">The user can also drag the column guides between the headers to size the columns.</span></span>

<span data-ttu-id="64c63-444">I controlli visualizzazione elenco possono visualizzare immagini accanto ai titoli delle colonne.</span><span class="sxs-lookup"><span data-stu-id="64c63-444">List-view controls can display images next to column titles.</span></span> <span data-ttu-id="64c63-445">Per implementare questa funzionalità, specificare il valore **LVCF \_ IMAGE** e assegnare l'indice dell'immagine al membro **iImage** nella [**struttura LVCOLUMN.**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna)</span><span class="sxs-lookup"><span data-stu-id="64c63-445">To implement this feature, specify the **LVCF\_IMAGE** value and assign the index of the image to the **iImage** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="64c63-446">I controlli visualizzazione elenco possono impostare l'ordine di visualizzazione delle colonne.</span><span class="sxs-lookup"><span data-stu-id="64c63-446">List-view controls can set the order in which columns are displayed.</span></span> <span data-ttu-id="64c63-447">Per implementare questa funzionalità, specificare il **valore LVCF \_ ORDER** e assegnare l'ordine delle colonne al membro **iOrder** nella struttura [**LVCOLUMN.**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna)</span><span class="sxs-lookup"><span data-stu-id="64c63-447">To implement this feature, specify the **LVCF\_ORDER** value and assign the column order to the **iOrder** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span> <span data-ttu-id="64c63-448">L'ordine delle colonne è in base zero ed è in ordine da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="64c63-448">The column order is zero-based and is in left-to-right order.</span></span> <span data-ttu-id="64c63-449">Ad esempio, zero indica la colonna più a sinistra.</span><span class="sxs-lookup"><span data-stu-id="64c63-449">For example, zero indicates the leftmost column.</span></span>

## <a name="list-view-scroll-position"></a><span data-ttu-id="64c63-450">List-View posizione di scorrimento</span><span class="sxs-lookup"><span data-stu-id="64c63-450">List-View Scroll Position</span></span>

<span data-ttu-id="64c63-451">A meno che non venga specificato lo stile della finestra [**\_ LVS NOSCROLL,**](list-view-window-styles.md) è possibile scorrere un controllo visualizzazione elenco per visualizzare più elementi di quelli che possono rientrare nell'area client del controllo.</span><span class="sxs-lookup"><span data-stu-id="64c63-451">Unless the [**LVS\_NOSCROLL**](list-view-window-styles.md) window style is specified, a list-view control can be scrolled to show more items than can fit in the client area of the control.</span></span> <span data-ttu-id="64c63-452">È possibile recuperare la posizione di scorrimento di un controllo visualizzazione elenco e le informazioni correlate, scorrere un controllo visualizzazione elenco in base a una quantità specificata o scorrere un controllo visualizzazione elenco in modo che un elemento di elenco specificato sia visibile.</span><span class="sxs-lookup"><span data-stu-id="64c63-452">You can retrieve a list-view control's scroll position and related information, scroll a list-view control by a specified amount, or scroll a list-view control so that a specified list item is visible.</span></span>

<span data-ttu-id="64c63-453">Nella visualizzazione icona o nella visualizzazione icona piccola, la posizione di scorrimento corrente è definita dall'origine *della visualizzazione.*</span><span class="sxs-lookup"><span data-stu-id="64c63-453">In icon view or small icon view, the current scroll position is defined by the *view origin*.</span></span> <span data-ttu-id="64c63-454">L'origine della visualizzazione è il set di coordinate, relative all'area visibile del controllo visualizzazione elenco, che corrispondono alle coordinate di visualizzazione (0, 0).</span><span class="sxs-lookup"><span data-stu-id="64c63-454">The view origin is the set of coordinates, relative to the visible area of the list-view control, that correspond to the view coordinates (0, 0).</span></span> <span data-ttu-id="64c63-455">Per recuperare l'origine della visualizzazione corrente, usare il [**messaggio LVM \_ GETORIGIN.**](lvm-getorigin.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-455">To retrieve the current view origin, use the [**LVM\_GETORIGIN**](lvm-getorigin.md) message.</span></span> <span data-ttu-id="64c63-456">Questo messaggio deve essere usato solo nella visualizzazione icona o icona piccola. restituisce un errore nella visualizzazione elenco o report.</span><span class="sxs-lookup"><span data-stu-id="64c63-456">This message should be used only in icon or small icon view; it returns an error in list or report view.</span></span>

<span data-ttu-id="64c63-457">Nella visualizzazione elenco o report la posizione di scorrimento corrente è definita *dall'indice superiore.*</span><span class="sxs-lookup"><span data-stu-id="64c63-457">In list or report view, the current scroll position is defined by the *top index*.</span></span> <span data-ttu-id="64c63-458">L'indice superiore è l'indice del primo elemento visibile nel controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-458">The top index is the index of the first visible item in the list-view control.</span></span> <span data-ttu-id="64c63-459">Per recuperare l'indice principale corrente, usare il [**messaggio LVM \_ GETTOPINDEX.**](lvm-gettopindex.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-459">To retrieve the current top index, use the [**LVM\_GETTOPINDEX**](lvm-gettopindex.md) message.</span></span> <span data-ttu-id="64c63-460">Questo messaggio restituisce un risultato valido solo nella visualizzazione elenco o report. restituisce zero nella visualizzazione icona o icona piccola.</span><span class="sxs-lookup"><span data-stu-id="64c63-460">This message returns a valid result only in list or report view; it returns zero in icon or small icon view.</span></span>

<span data-ttu-id="64c63-461">È possibile usare il messaggio [**LVM \_ GETVIEWRECT**](lvm-getviewrect.md) per recuperare il rettangolo di delimitazione di tutti gli elementi in un controllo visualizzazione elenco, rispetto all'area visibile del controllo.</span><span class="sxs-lookup"><span data-stu-id="64c63-461">You can use the [**LVM\_GETVIEWRECT**](lvm-getviewrect.md) message to retrieve the bounding rectangle of all items in a list-view control, relative to the visible area of the control.</span></span>

<span data-ttu-id="64c63-462">Il [**messaggio LVM \_ GETCOUNTPERPAGE**](lvm-getcountperpage.md) restituisce il numero di elementi che rientrano in una pagina del controllo di visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-462">The [**LVM\_GETCOUNTPERPAGE**](lvm-getcountperpage.md) message returns the number of items that fit in one page of the list-view control.</span></span> <span data-ttu-id="64c63-463">Questo messaggio restituisce un risultato valido solo nelle visualizzazioni elenco e report. nelle visualizzazioni icona e icona piccola, restituisce il numero totale di elementi.</span><span class="sxs-lookup"><span data-stu-id="64c63-463">This message returns a valid result only in list and report views; in icon and small icon views, it returns the total number of items.</span></span>

<span data-ttu-id="64c63-464">Per scorrere un controllo visualizzazione elenco di una quantità specifica, usare il [**messaggio LVM \_ SCROLL.**](lvm-scroll.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-464">To scroll a list-view control by a specific amount, use the [**LVM\_SCROLL**](lvm-scroll.md) message.</span></span> <span data-ttu-id="64c63-465">Usando il [**messaggio LVM \_ ENSUREVISIBLE,**](lvm-ensurevisible.md) è possibile scorrere il controllo di visualizzazione elenco, se necessario, per assicurarsi che un elemento specificato sia visibile.</span><span class="sxs-lookup"><span data-stu-id="64c63-465">Using the [**LVM\_ENSUREVISIBLE**](lvm-ensurevisible.md) message, you can scroll the list-view control, if necessary, to ensure that a specified item is visible.</span></span>

## <a name="list-view-label-editing"></a><span data-ttu-id="64c63-466">List-View di etichette</span><span class="sxs-lookup"><span data-stu-id="64c63-466">List-View Label Editing</span></span>

<span data-ttu-id="64c63-467">Un controllo visualizzazione elenco con lo stile della finestra [**\_ LVS EDITLABELS**](list-view-window-styles.md) consente a un utente di modificare le etichette degli elementi sul posto.</span><span class="sxs-lookup"><span data-stu-id="64c63-467">A list-view control that has the [**LVS\_EDITLABELS**](list-view-window-styles.md) window style enables a user to edit item labels in place.</span></span> <span data-ttu-id="64c63-468">L'utente inizia a modificare facendo clic sull'etichetta di un elemento con lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="64c63-468">The user begins editing by clicking the label of an item that has the focus.</span></span> <span data-ttu-id="64c63-469">In alternativa, un'applicazione può iniziare a modificare automaticamente usando il [**messaggio LVM \_ EDITLABEL.**](lvm-editlabel.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-469">Alternatively, an application can begin editing automatically by using the [**LVM\_EDITLABEL**](lvm-editlabel.md) message.</span></span> <span data-ttu-id="64c63-470">Il controllo visualizzazione elenco invia una notifica alla finestra padre quando inizia la modifica e quando viene annullata o completata.</span><span class="sxs-lookup"><span data-stu-id="64c63-470">The list-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="64c63-471">Al termine della modifica, la finestra padre è responsabile dell'aggiornamento dell'etichetta dell'elemento, se appropriato.</span><span class="sxs-lookup"><span data-stu-id="64c63-471">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="64c63-472">Quando inizia la modifica delle etichette, [viene](edit-controls.md) creato, posizionato e inizializzato un controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="64c63-472">When label editing begins, an [edit control](edit-controls.md) is created, positioned, and initialized.</span></span> <span data-ttu-id="64c63-473">Prima della visualizzazione, il controllo visualizzazione elenco invia alla finestra padre un codice di notifica [LVN \_ BEGINLABELEDIT.](lvn-beginlabeledit.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-473">Before it is displayed, the list-view control sends its parent window an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification code.</span></span> <span data-ttu-id="64c63-474">Se è necessario modificare il processo di modifica delle etichette, è possibile implementare un gestore per questa notifica.</span><span class="sxs-lookup"><span data-stu-id="64c63-474">If you need to modify the label editing process, you can implement a handler for this notification.</span></span>

<span data-ttu-id="64c63-475">Un uso per un gestore [di notifica LVN \_ BEGINLABELEDIT](lvn-beginlabeledit.md) è controllare le etichette che l'utente può modificare.</span><span class="sxs-lookup"><span data-stu-id="64c63-475">One use for an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification handler is to control which labels the user can edit.</span></span> <span data-ttu-id="64c63-476">Per impedire la modifica delle etichette, restituire un valore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="64c63-476">To prevent label editing, return a nonzero value.</span></span> <span data-ttu-id="64c63-477">Per personalizzare la modifica delle etichette, fare in modo che il gestore di notifica recuperi un handle per il controllo di modifica inviando un messaggio [**LVM \_ GETEDITCONTROL**](lvm-geteditcontrol.md) al controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-477">To customize label editing, have the notification handler retrieve a handle to the edit control by sending an [**LVM\_GETEDITCONTROL**](lvm-geteditcontrol.md) message to the list-view control.</span></span> <span data-ttu-id="64c63-478">Dopo aver creato tale handle, è possibile personalizzare il controllo di modifica inviando i soliti messaggi EM \_ XXX.</span><span class="sxs-lookup"><span data-stu-id="64c63-478">Once you have that handle, you can customize the edit control by sending the usual EM\_XXX messages.</span></span> <span data-ttu-id="64c63-479">Ad esempio, per limitare la quantità di testo che un utente può immettere, inviare al controllo di modifica un [**messaggio EM \_ LIMITTEXT.**](em-limittext.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-479">For instance, to limit the amount of text a user can enter, send the edit control an [**EM\_LIMITTEXT**](em-limittext.md) message.</span></span> <span data-ttu-id="64c63-480">È possibile modificare il testo predefinito del controllo di modifica con [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span><span class="sxs-lookup"><span data-stu-id="64c63-480">You can change the edit control's default text with [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span></span> <span data-ttu-id="64c63-481">È anche possibile sottoclassare il controllo di modifica per intercettare ed eliminare i caratteri non validi.</span><span class="sxs-lookup"><span data-stu-id="64c63-481">You can even subclass the edit control to intercept and discard invalid characters.</span></span>

<span data-ttu-id="64c63-482">Quando la modifica delle etichette viene annullata o completata, un controllo visualizzazione elenco invia alla finestra padre un codice di notifica [ \_ LVN ENDLABELEDIT.](lvn-endlabeledit.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-482">When label editing is canceled or completed, a list-view control sends its parent window an [LVN\_ENDLABELEDIT](lvn-endlabeledit.md) notification code.</span></span> <span data-ttu-id="64c63-483">Il *parametro lParam* è l'indirizzo di una [**struttura NMLVDISPINFO.**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa)</span><span class="sxs-lookup"><span data-stu-id="64c63-483">The *lParam* parameter is the address of an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure.</span></span> <span data-ttu-id="64c63-484">Il **membro dell'elemento** di questa struttura è una [**struttura LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) il cui **membro iItem** identifica l'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-484">The **item** member of this structure is an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure whose **iItem** member identifies the item.</span></span> <span data-ttu-id="64c63-485">Se la modifica viene annullata, il **membro pszText** della struttura **LVITEM** è **NULL.** in caso **contrario, pszText** è l'indirizzo del testo modificato.</span><span class="sxs-lookup"><span data-stu-id="64c63-485">If editing is canceled, the **pszText** member of the **LVITEM** structure is **NULL**; otherwise, **pszText** is the address of the edited text.</span></span> <span data-ttu-id="64c63-486">La finestra padre è responsabile dell'aggiornamento dell'etichetta dell'elemento se vuole mantenere la nuova etichetta.</span><span class="sxs-lookup"><span data-stu-id="64c63-486">The parent window is responsible for updating the item's label if it wants to keep the new label.</span></span>

## <a name="list-view-colors"></a><span data-ttu-id="64c63-487">List-View colori</span><span class="sxs-lookup"><span data-stu-id="64c63-487">List-View Colors</span></span>

<span data-ttu-id="64c63-488">Un'applicazione può recuperare e impostare tre colori per un controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-488">An application can retrieve and set three colors for a list-view control.</span></span>



| <span data-ttu-id="64c63-489">Color</span><span class="sxs-lookup"><span data-stu-id="64c63-489">Color</span></span>                   | <span data-ttu-id="64c63-490">Messaggi usati per recuperare e impostare i colori</span><span class="sxs-lookup"><span data-stu-id="64c63-490">Messages used to retrieve and set colors</span></span>                                                             |
|-------------------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="64c63-491">Colore del testo</span><span class="sxs-lookup"><span data-stu-id="64c63-491">Text color</span></span>              | <span data-ttu-id="64c63-492">[**LVM \_ GETTEXTCOLOR**](lvm-gettextcolor.md), [ **LVM \_ SETTEXTCOLOR**](lvm-settextcolor.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-492">[**LVM\_GETTEXTCOLOR**](lvm-gettextcolor.md), [**LVM\_SETTEXTCOLOR**](lvm-settextcolor.md)</span></span>         |
| <span data-ttu-id="64c63-493">Colore di sfondo del testo</span><span class="sxs-lookup"><span data-stu-id="64c63-493">Text background color</span></span>   | <span data-ttu-id="64c63-494">[**LVM \_ GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [ **LVM \_ SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-494">[**LVM\_GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [**LVM\_SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span></span> |
| <span data-ttu-id="64c63-495">Colore di sfondo della finestra</span><span class="sxs-lookup"><span data-stu-id="64c63-495">Window background color</span></span> | <span data-ttu-id="64c63-496">[**LVM \_ GETBKCOLOR**](lvm-getbkcolor.md), [ **LVM \_ SETBKCOLOR**](lvm-setbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-496">[**LVM\_GETBKCOLOR**](lvm-getbkcolor.md), [**LVM\_SETBKCOLOR**](lvm-setbkcolor.md)</span></span>                 |



 

<span data-ttu-id="64c63-497">Per personalizzare l'aspetto di un controllo visualizzazione elenco in modo più significativo, usare [NM \_ CUSTOMDRAW (visualizzazione elenco)](nm-customdraw-list-view.md) o gli stili di visualizzazione (vedere [Stili](themes-overview.md) di visualizzazione e Abilitazione [degli stili di visualizzazione).](cookbook-overview.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-497">To customize the appearance of a list-view control more significantly, use [NM\_CUSTOMDRAW (list view)](nm-customdraw-list-view.md) or use visual styles (see [Visual Styles](themes-overview.md) and [Enabling Visual Styles](cookbook-overview.md)).</span></span>

## <a name="arranging-list-items-by-group"></a><span data-ttu-id="64c63-498">Disposizione degli elementi dell'elenco per gruppo</span><span class="sxs-lookup"><span data-stu-id="64c63-498">Arranging List Items by Group</span></span>

<span data-ttu-id="64c63-499">Le funzionalità di raggruppamento del controllo visualizzazione elenco consentono di raggruppare visivamente set di elementi correlati logicamente.</span><span class="sxs-lookup"><span data-stu-id="64c63-499">The grouping features of the list-view control enable you to visually group logically related sets of items.</span></span> <span data-ttu-id="64c63-500">I gruppi possono essere creati in base alle proprietà degli elementi, agli attributi o ad altre caratteristiche.</span><span class="sxs-lookup"><span data-stu-id="64c63-500">Groups can be created based on item properties, attributes, or other characteristics.</span></span> <span data-ttu-id="64c63-501">Questi gruppi sono in genere separati sullo schermo da un'intestazione orizzontale che contiene il nome del gruppo.</span><span class="sxs-lookup"><span data-stu-id="64c63-501">These groups are typically separated on the screen by a horizontal header that contains the name of the group.</span></span> <span data-ttu-id="64c63-502">Lo screenshot seguente mostra gli elementi raggruppati.</span><span class="sxs-lookup"><span data-stu-id="64c63-502">The following screen shot shows grouped items.</span></span>

![screenshot di un controllo visualizzazione elenco, con cani in un gruppo e gatti in un altro gruppo](images/lv-groups.png)

<span data-ttu-id="64c63-504">La struttura [**LVGROUP viene**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) utilizzata per archiviare informazioni su un gruppo, ad esempio il testo dell'intestazione e del piè di pagina, lo stato corrente del gruppo e così via.</span><span class="sxs-lookup"><span data-stu-id="64c63-504">You use the [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) structure to store information about a group, such as the header and footer text, the current state of the group, and so on.</span></span> <span data-ttu-id="64c63-505">L'API di raggruppamento include messaggi che consentono di gestire i gruppi e gli elementi del gruppo aggiungendo elementi ai gruppi, aggiungendo gruppi alle visualizzazioni, ordinando gli elementi del gruppo ed eseguire query sui gruppi per le dimensioni degli elementi e altre informazioni.</span><span class="sxs-lookup"><span data-stu-id="64c63-505">The grouping API includes messages that enable you to manage groups and group elements by adding items to groups, adding groups to views, sorting group items, and querying groups for item size and other information.</span></span> <span data-ttu-id="64c63-506">Ad esempio, è possibile impostare e recuperare i parametri di visualizzazione per ogni gruppo usando le macro [**\_ ListView SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) e [**ListView \_ GetGroupMetrics.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics)</span><span class="sxs-lookup"><span data-stu-id="64c63-506">For example, you can set and retrieve display parameters for each group by using the [**ListView\_SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) and [**ListView\_GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) macros.</span></span>

<span data-ttu-id="64c63-507">Il raggruppamento è disponibile in tutte le visualizzazioni, ad eccezione della visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="64c63-507">Grouping is available in all views except list view.</span></span> <span data-ttu-id="64c63-508">Non è disponibile nei controlli con lo stile [**LVS \_ OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="64c63-508">It is not available on controls that have the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="64c63-509">Per altre informazioni, vedere [Using List-View Controls](using-list-view-controls.md).</span><span class="sxs-lookup"><span data-stu-id="64c63-509">For more information, see [Using List-View Controls](using-list-view-controls.md).</span></span>

## <a name="insertion-marks"></a><span data-ttu-id="64c63-510">Segni di inserimento</span><span class="sxs-lookup"><span data-stu-id="64c63-510">Insertion Marks</span></span>

<span data-ttu-id="64c63-511">I segni di inserimento mostrano agli utenti dove verranno posizionati gli elementi trascinati.</span><span class="sxs-lookup"><span data-stu-id="64c63-511">Insertion marks show users where dragged items will be placed.</span></span> <span data-ttu-id="64c63-512">I segni di inserimento vengono attualmente visualizzati quando l'utente trascina un elemento nel menu **Start** o Avvio veloce barra.</span><span class="sxs-lookup"><span data-stu-id="64c63-512">Insertion marks currently display when the user drags an item into the **Start** menu or Quick Launch bar.</span></span> <span data-ttu-id="64c63-513">Il segno di inserimento funziona anche per gli elenchi impostati su autoarrange.</span><span class="sxs-lookup"><span data-stu-id="64c63-513">The insertion mark also works for lists that are set to autoarrange.</span></span> <span data-ttu-id="64c63-514">Quando un utente trascina un elemento in un punto intermedio tra due elementi, il segno di inserimento indica la nuova posizione prevista dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="64c63-514">When a user drags an item to a point between two other items, the insertion mark shows the item's expected new location.</span></span> <span data-ttu-id="64c63-515">La schermata seguente mostra un segno di inserimento.</span><span class="sxs-lookup"><span data-stu-id="64c63-515">The following screen shot shows an insertion mark.</span></span>

![Screenshot che mostra un segno di inserimento quando si trascina un file tra due altri in un controllo visualizzazione elenco](images/insertmark.png)

<span data-ttu-id="64c63-517">Gli elementi API del segno di inserimento consentono il posizionamento dei segni di inserimento fornendo messaggi e flag che eseguono il rilevamento degli hit, che specificano la posizione e l'aspetto del segno di inserimento in base all'elemento e che eseguono una query per informazioni sulle dimensioni e sull'aspetto correnti del segno di inserimento.</span><span class="sxs-lookup"><span data-stu-id="64c63-517">The insertion mark API elements enable placement of insertion marks by providing messages and flags that perform hit detection, that specify the location and appearance of the insertion mark by item, and that query for information about the current size and appearance of the insertion mark.</span></span>

## <a name="see-also"></a><span data-ttu-id="64c63-518">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="64c63-518">See also</span></span>

* [<span data-ttu-id="64c63-519">Esempio di controllo ListView virtuale</span><span class="sxs-lookup"><span data-stu-id="64c63-519">Virtual listview control sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw)
