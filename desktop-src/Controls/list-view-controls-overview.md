---
title: Informazioni sui controlli List-View
description: Un controllo visualizzazione elenco è una finestra che consente di visualizzare una raccolta di elementi.
ms.assetid: 163f7778-690c-4166-b0c5-c7be1a03ae98
ms.topic: article
ms.date: 05/31/2018
ms.custom: project-verbatim
ms.openlocfilehash: fe1b953bf7d7204a3afffcfa0bc5aa5af9bf94fa
ms.sourcegitcommit: af120ad5c30da2fc5eb717ca2a1c4c45878efd71
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/20/2021
ms.locfileid: "106323893"
---
# <a name="about-list-view-controls"></a><span data-ttu-id="717d1-103">Informazioni sui controlli List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-103">About List-View Controls</span></span>

<span data-ttu-id="717d1-104">Vedere l' [esempio di controllo ListView virtuale](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span><span class="sxs-lookup"><span data-stu-id="717d1-104">See the [Virtual listview control sample](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span></span>

<span data-ttu-id="717d1-105">Un controllo visualizzazione elenco è una finestra che consente di visualizzare una raccolta di elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-105">A list-view control is a window that displays a collection of items.</span></span> <span data-ttu-id="717d1-106">I controlli elenco-visualizzazione forniscono diversi modi per disporre e visualizzare gli elementi e sono molto più flessibili rispetto alle semplici [caselle di riepilogo](list-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-106">List-view controls provide several ways to arrange and display items and are much more flexible than simple [List Boxes](list-boxes.md).</span></span> <span data-ttu-id="717d1-107">Ad esempio, è possibile visualizzare informazioni aggiuntive su ogni elemento in colonne a destra dell'icona e dell'etichetta.</span><span class="sxs-lookup"><span data-stu-id="717d1-107">For example, additional information about each item can be displayed in columns to the right of the icon and label.</span></span>

-   [<span data-ttu-id="717d1-108">Stili e visualizzazioni di visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-108">List-View Styles and Views</span></span>](#list-view-styles-and-views)
    -   [<span data-ttu-id="717d1-109">Stili List-View estesi</span><span class="sxs-lookup"><span data-stu-id="717d1-109">Extended List-View Styles</span></span>](#extended-list-view-styles)
-   [<span data-ttu-id="717d1-110">Stile List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="717d1-110">Virtual List-View Style</span></span>](#virtual-list-view-style)
    -   [<span data-ttu-id="717d1-111">Creazione di un controllo List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="717d1-111">Creating a Virtual List-View Control</span></span>](#creating-a-virtual-list-view-control)
    -   [<span data-ttu-id="717d1-112">Problemi di compatibilità</span><span class="sxs-lookup"><span data-stu-id="717d1-112">Compatibility Issues</span></span>](#compatibility-issues)
    -   [<span data-ttu-id="717d1-113">Gestione dei codici di notifica del controllo List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="717d1-113">Handling Virtual List-View Control Notification Codes</span></span>](#handling-virtual-list-view-control-notification-codes)
    -   [<span data-ttu-id="717d1-114">Gestione della cache</span><span class="sxs-lookup"><span data-stu-id="717d1-114">Cache Management</span></span>](#cache-management)
-   [<span data-ttu-id="717d1-115">Area di lavoro visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-115">List-View Working Areas</span></span>](#list-view-working-areas)
-   [<span data-ttu-id="717d1-116">Elenchi di immagini visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-116">List-View Image Lists</span></span>](#list-view-image-lists)
-   [<span data-ttu-id="717d1-117">Elementi e elementi secondari della visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-117">List-View Items and Subitems</span></span>](#list-view-items-and-subitems)
    -   [<span data-ttu-id="717d1-118">Stato degli elementi della visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-118">List-View Item States</span></span>](#list-view-item-states)
    -   [<span data-ttu-id="717d1-119">Elementi di callback e maschera di callback</span><span class="sxs-lookup"><span data-stu-id="717d1-119">Callback Items and the Callback Mask</span></span>](#callback-items-and-the-callback-mask)
    -   [<span data-ttu-id="717d1-120">Posizione elemento visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-120">List-View Item Position</span></span>](#list-view-item-position)
    -   [<span data-ttu-id="717d1-121">Disposizione, ordinamento e ricerca di elementi</span><span class="sxs-lookup"><span data-stu-id="717d1-121">Arranging, Sorting, and Finding Items</span></span>](#arranging-sorting-and-finding-items)
-   [<span data-ttu-id="717d1-122">Colonne visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-122">List-View Columns</span></span>](#list-view-columns)
-   [<span data-ttu-id="717d1-123">Posizione di scorrimento visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-123">List-View Scroll Position</span></span>](#list-view-scroll-position)
-   [<span data-ttu-id="717d1-124">Modifica dell'etichetta visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-124">List-View Label Editing</span></span>](#list-view-label-editing)
-   [<span data-ttu-id="717d1-125">Colori visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-125">List-View Colors</span></span>](#list-view-colors)
-   [<span data-ttu-id="717d1-126">Disposizione degli elementi dell'elenco per gruppo</span><span class="sxs-lookup"><span data-stu-id="717d1-126">Arranging List Items by Group</span></span>](#arranging-list-items-by-group)
-   [<span data-ttu-id="717d1-127">Segni di inserimento</span><span class="sxs-lookup"><span data-stu-id="717d1-127">Insertion Marks</span></span>](#insertion-marks)

## <a name="list-view-styles-and-views"></a><span data-ttu-id="717d1-128">Stili e visualizzazioni List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-128">List-View Styles and Views</span></span>

<span data-ttu-id="717d1-129">I controlli elenco-visualizzazione possono visualizzare elementi in cinque visualizzazioni diverse.</span><span class="sxs-lookup"><span data-stu-id="717d1-129">List-view controls can display items in five different views.</span></span> <span data-ttu-id="717d1-130">Lo stile della finestra del controllo specifica la visualizzazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="717d1-130">The control's window style specifies the default view.</span></span> <span data-ttu-id="717d1-131">Gli stili aggiuntivi della finestra specificano l'allineamento degli elementi e delle funzionalità specifiche del controllo.</span><span class="sxs-lookup"><span data-stu-id="717d1-131">Additional window styles specify the alignment of items and control-specific features.</span></span> <span data-ttu-id="717d1-132">Nella tabella seguente vengono descritte le visualizzazioni.</span><span class="sxs-lookup"><span data-stu-id="717d1-132">The following table describes the views.</span></span>



| <span data-ttu-id="717d1-133">Nome della visualizzazione</span><span class="sxs-lookup"><span data-stu-id="717d1-133">View Name</span></span>             | <span data-ttu-id="717d1-134">Descrizione</span><span class="sxs-lookup"><span data-stu-id="717d1-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="717d1-135">Visualizzazione icone</span><span class="sxs-lookup"><span data-stu-id="717d1-135">Icon view</span></span>             | <span data-ttu-id="717d1-136">Specificato dallo stile della finestra dell' [**\_ icona LVS**](list-view-window-styles.md) o passando **l' \_ \_ icona di visualizzazione LV** con il messaggio di [**\_ visualizzazione LVM**](lvm-setview.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-136">Specified by the [**LVS\_ICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_ICON** with the [**LVM\_SETVIEW**](lvm-setview.md) message.</span></span> <span data-ttu-id="717d1-137">Ogni elemento viene visualizzato come icona a dimensione intera con un'etichetta sotto di essa.</span><span class="sxs-lookup"><span data-stu-id="717d1-137">Each item appears as a full-sized icon with a label below it.</span></span> <span data-ttu-id="717d1-138">L'utente può trascinare gli elementi in qualsiasi posizione nella finestra elenco-visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-138">The user can drag the items to any location in the list-view window.</span></span>                                                                                                                                                                                                                                         |
| <span data-ttu-id="717d1-139">Visualizzazione icona piccola</span><span class="sxs-lookup"><span data-stu-id="717d1-139">Small icon view</span></span>       | <span data-ttu-id="717d1-140">Specificato dallo stile della finestra [**\_ SMALLICON di LVS**](list-view-window-styles.md) o passando **la \_ vista LV \_ SMALLICON** con la [**\_ vista LVM**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-140">Specified by the [**LVS\_SMALLICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_SMALLICON** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="717d1-141">Ogni elemento viene visualizzato come piccola icona con l'etichetta a destra.</span><span class="sxs-lookup"><span data-stu-id="717d1-141">Each item appears as a small icon with the label to the right of it.</span></span> <span data-ttu-id="717d1-142">L'utente può trascinare gli elementi in qualsiasi posizione.</span><span class="sxs-lookup"><span data-stu-id="717d1-142">The user can drag the items to any location.</span></span>                                                                                                                                                                                                                                                       |
| <span data-ttu-id="717d1-143">Visualizzazione elenco</span><span class="sxs-lookup"><span data-stu-id="717d1-143">List view</span></span>             | <span data-ttu-id="717d1-144">Specificata dallo stile della finestra [**\_ elenco LVS**](list-view-window-styles.md) o passando l' **\_ \_ elenco di visualizzazioni LV** con la [**\_ visualizzazione LVM**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-144">Specified by the [**LVS\_LIST**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_LIST** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="717d1-145">Ogni elemento viene visualizzato come icona piccola con un'etichetta a destra.</span><span class="sxs-lookup"><span data-stu-id="717d1-145">Each item appears as a small icon with a label to the right of it.</span></span> <span data-ttu-id="717d1-146">Gli elementi sono disposti in colonne e l'utente non può trascinarli in una posizione arbitraria.</span><span class="sxs-lookup"><span data-stu-id="717d1-146">Items are arranged in columns and the user cannot drag them to an arbitrary location.</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="717d1-147">Visualizzazione report (Dettagli)</span><span class="sxs-lookup"><span data-stu-id="717d1-147">Report (details) view</span></span> | <span data-ttu-id="717d1-148">Specificata dallo stile della finestra del [**\_ report LVS**](list-view-window-styles.md) o passando **\_ \_ i dettagli della visualizzazione LV** con la [**\_ visualizzazione LVM**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-148">Specified by the [**LVS\_REPORT**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_DETAILS** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="717d1-149">Ogni elemento viene visualizzato in una riga a se stante, con le informazioni disposte in colonne.</span><span class="sxs-lookup"><span data-stu-id="717d1-149">Each item appears on its own line, with information arranged in columns.</span></span> <span data-ttu-id="717d1-150">La colonna più a sinistra viene sempre giustificata e contiene l'icona e l'etichetta di piccole dimensioni.</span><span class="sxs-lookup"><span data-stu-id="717d1-150">The leftmost column is always left justified and contains the small icon and label.</span></span> <span data-ttu-id="717d1-151">Le colonne successive contengono elementi secondari specificati dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-151">Subsequent columns contain subitems as specified by the application.</span></span> <span data-ttu-id="717d1-152">Ogni colonna ha un'intestazione, a meno che non si specifichi anche lo stile della finestra [**\_ nocolumnheader LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-152">Each column has a header, unless you also specify the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style.</span></span> |
| <span data-ttu-id="717d1-153">Visualizzazione affiancata</span><span class="sxs-lookup"><span data-stu-id="717d1-153">Tile View</span></span>             | <span data-ttu-id="717d1-154">**Versione 6 e successive.**</span><span class="sxs-lookup"><span data-stu-id="717d1-154">**Version 6 and later.**</span></span> <span data-ttu-id="717d1-155">Specificata passando il **\_ \_ riquadro di visualizzazione LV** con la [**\_ visualizzazione LVM**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-155">Specified by passing **LV\_VIEW\_TILE** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="717d1-156">Ogni elemento viene visualizzato come icona a dimensione intera con un'etichetta di una o più righe accanto.</span><span class="sxs-lookup"><span data-stu-id="717d1-156">Each item appears as a full-sized icon with a label of one or more lines beside it.</span></span>                                                                                                                                                                                                                                                                                                                                                        |



 

<span data-ttu-id="717d1-157">Le schermate seguenti usano le visualizzazioni per visualizzare quantità diverse di informazioni su ognuno dei sette animali domestici.</span><span class="sxs-lookup"><span data-stu-id="717d1-157">The following screen shots use views to show different amounts of information about each of seven pets.</span></span> <span data-ttu-id="717d1-158">Le visualizzazioni dimostrano come potrebbero essere visualizzate le informazioni in Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="717d1-158">The views demonstrate how the information might appear on Windows Vista.</span></span> <span data-ttu-id="717d1-159">Gli stili di visualizzazione per il controllo sono stati impostati sul tema "Explorer" tramite [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span><span class="sxs-lookup"><span data-stu-id="717d1-159">The visual styles for the control have been set to the "Explorer" theme by using [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span></span>

<span data-ttu-id="717d1-160">Lo screenshot seguente mostra la visualizzazione dettagli.</span><span class="sxs-lookup"><span data-stu-id="717d1-160">The following screen shot shows the details view.</span></span>

![screenshot che mostra le informazioni in cinque colonne e sette righe](images/lv-detailsview.png)

<span data-ttu-id="717d1-162">Lo screenshot seguente mostra la visualizzazione icona.</span><span class="sxs-lookup"><span data-stu-id="717d1-162">The following screen shot shows the icon view.</span></span>

![screenshot che mostra solo il nome di ogni animale e un'icona che indica la specie](images/lv-iconview.png)

<span data-ttu-id="717d1-164">Lo screenshot seguente mostra la visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-164">The following screen shot shows the list view.</span></span>

![screenshot che mostra, per ogni animale domestico, un'icona grande accanto al testo del nome, della razza e del prezzo dell'animale.](images/lv-listview.png)

<span data-ttu-id="717d1-166">Lo screenshot seguente mostra la visualizzazione affiancata.</span><span class="sxs-lookup"><span data-stu-id="717d1-166">The following screen shot shows the tile view.</span></span>

![visualizzazione affiancata.](images/lv-tileview.png)

<span data-ttu-id="717d1-168">È possibile modificare il tipo di visualizzazione dopo aver creato un controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-168">You can change the view type after you create a list-view control.</span></span> <span data-ttu-id="717d1-169">Per recuperare e modificare lo stile della finestra, usare le funzioni [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) e [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="717d1-169">To retrieve and change the window style, use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span> <span data-ttu-id="717d1-170">Per determinare gli stili della finestra corrente, usare il valore [**\_ TYPEMASK di LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-170">To determine the window styles of the current view, use the [**LVS\_TYPEMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="717d1-171">È possibile controllare il modo in cui gli elementi sono disposti nell'icona o nella visualizzazione icona piccola specificando lo stile della finestra [**LVS \_ ALIGNTOP**](list-view-window-styles.md) (impostazione predefinita) o [**LVS \_ ALIGNLEFT**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-171">You can control the way items are arranged in icon or small icon view by specifying either the [**LVS\_ALIGNTOP**](list-view-window-styles.md) (default) or [**LVS\_ALIGNLEFT**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="717d1-172">È possibile modificare l'allineamento dopo aver creato un controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-172">You can change the alignment after you create a list-view control.</span></span> <span data-ttu-id="717d1-173">Per determinare l'allineamento corrente, usare il [**valore \_ ALIGNMASK di LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-173">To determine the current alignment, use the [**LVS\_ALIGNMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="717d1-174">Gli stili aggiuntivi della finestra forniscono altre opzioni, ad esempio se un utente può modificare le etichette o selezionare più di un elemento alla volta.</span><span class="sxs-lookup"><span data-stu-id="717d1-174">Additional window styles provide other options, such as whether a user can edit labels or select more than one item at a time.</span></span> <span data-ttu-id="717d1-175">Per un elenco completo, vedere [stili della finestra visualizzazione elenco](list-view-window-styles.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-175">For a complete list, see [List-View Window Styles](list-view-window-styles.md).</span></span>

### <a name="extended-list-view-styles"></a><span data-ttu-id="717d1-176">Stili List-View estesi</span><span class="sxs-lookup"><span data-stu-id="717d1-176">Extended List-View Styles</span></span>

<span data-ttu-id="717d1-177">Gli stili del controllo visualizzazione elenco esteso forniscono opzioni quali caselle di controllo, barre di scorrimento Flat, linee griglia e rilevamento a caldo.</span><span class="sxs-lookup"><span data-stu-id="717d1-177">The extended list-view control styles provide options such as check boxes, flat scroll bars, grid lines, and hot-tracking.</span></span> <span data-ttu-id="717d1-178">Per un elenco completo, vedere [stili di List-View estese](extended-list-view-styles.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-178">For a complete list, see [Extended List-View Styles](extended-list-view-styles.md).</span></span> <span data-ttu-id="717d1-179">Non è possibile accedere agli stili estesi di visualizzazione elenco nello stesso modo degli stili di finestra standard.</span><span class="sxs-lookup"><span data-stu-id="717d1-179">You do not access extended list-view styles in the same manner as standard window styles.</span></span> <span data-ttu-id="717d1-180">Non vengono utilizzate le funzioni [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) e [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) per apportare modifiche di stile estese.</span><span class="sxs-lookup"><span data-stu-id="717d1-180">You do not use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions to make extended style changes.</span></span>

<span data-ttu-id="717d1-181">Sono disponibili due messaggi che impostano e recuperano informazioni di stile estese, [**LVM \_ SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) e [**LVM \_ GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-181">There are two messages that set and retrieve extended style information, [**LVM\_SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) and [**LVM\_GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span></span> <span data-ttu-id="717d1-182">Anziché inviare i messaggi in modo esplicito, è possibile usare le macro corrispondenti seguenti: [**ListView \_ SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView \_ SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex)e [**ListView \_ GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span><span class="sxs-lookup"><span data-stu-id="717d1-182">Instead of sending the messages explicitly, you can use the following corresponding macros: [**ListView\_SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView\_SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex), and [**ListView\_GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span></span>

## <a name="virtual-list-view-style"></a><span data-ttu-id="717d1-183">Stile List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="717d1-183">Virtual List-View Style</span></span>

<span data-ttu-id="717d1-184">Una visualizzazione elenco virtuale è un controllo di visualizzazione elenco con lo stile [**\_ OWNERDATA di LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-184">A virtual list view is a list-view control that has the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="717d1-185">Questo stile consente al controllo di gestire milioni di elementi, perché il proprietario riceve il carico di gestione dei dati dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-185">This style enables the control to handle millions of items because the owner receives the burden of managing item data.</span></span> <span data-ttu-id="717d1-186">In questo modo è possibile usare il controllo elenco virtuale con database di grandi dimensioni, in cui sono già disponibili metodi specifici per l'accesso ai dati.</span><span class="sxs-lookup"><span data-stu-id="717d1-186">This allows you to use the virtual list-view control with large databases of information, where specific methods of data access are already in place.</span></span>

<span data-ttu-id="717d1-187">Un controllo di visualizzazione elenco virtuale mantiene le informazioni relative all'elemento stesso.</span><span class="sxs-lookup"><span data-stu-id="717d1-187">A virtual list-view control maintains very little item information itself.</span></span> <span data-ttu-id="717d1-188">Ad eccezione delle informazioni sulla selezione e lo stato attivo, il proprietario del controllo deve gestire tutte le informazioni sugli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-188">Except for the item selection and focus information, the owner of the control must manage all item information.</span></span> <span data-ttu-id="717d1-189">Altri elaborano le informazioni sull'elemento richiesta dal proprietario usando i codici di notifica di [LVN \_ GETDISPINFO](lvn-getdispinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-189">Other processes request item information from the owner by using [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes.</span></span>

<span data-ttu-id="717d1-190">Poiché questo tipo di controllo elenco è destinato a set di dati di grandi dimensioni, è consigliabile memorizzare nella cache i dati degli elementi richiesti per migliorare le prestazioni del recupero.</span><span class="sxs-lookup"><span data-stu-id="717d1-190">Because this type of list control is intended for large data sets, it is recommended that you cache requested item data to improve retrieval performance.</span></span> <span data-ttu-id="717d1-191">La visualizzazione elenco fornisce un meccanismo di hint per la cache che facilita l'ottimizzazione della cache.</span><span class="sxs-lookup"><span data-stu-id="717d1-191">The list view provides a cache-hinting mechanism to assist in optimizing the cache.</span></span> <span data-ttu-id="717d1-192">L'hint viene implementato sotto forma di codice di [notifica \_ ODCACHEHINT LVN](lvn-odcachehint.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-192">The hint is implemented in the form of an [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code.</span></span>

### <a name="creating-a-virtual-list-view-control"></a><span data-ttu-id="717d1-193">Creazione di un controllo List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="717d1-193">Creating a Virtual List-View Control</span></span>

<span data-ttu-id="717d1-194">È possibile creare controlli di visualizzazione elenco virtuali usando la funzione [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) o [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , specificando lo stile della finestra [**LVS \_ OWNERDATA**](list-view-window-styles.md) come parte del parametro della funzione *dwStyle* .</span><span class="sxs-lookup"><span data-stu-id="717d1-194">You create virtual list-view controls using the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**LVS\_OWNERDATA**](list-view-window-styles.md) window style as part of the *dwStyle* function parameter.</span></span> <span data-ttu-id="717d1-195">Il cambio dinamico da e verso lo **stile \_ OWNERDATA di LVS** non è supportato.</span><span class="sxs-lookup"><span data-stu-id="717d1-195">Dynamically switching to and from the **LVS\_OWNERDATA** style is not supported.</span></span>

<span data-ttu-id="717d1-196">È possibile usare lo [**stile \_ OWNERDATA di LVS**](list-view-window-styles.md) in combinazione con la maggior parte degli stili della finestra, ad eccezione dello stile [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-196">You can use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style in combination with most other window styles, except the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="717d1-197">Tutti i controlli elenco virtuale visualizzano per impostazione predefinita lo stile [**LVS \_ AutoArrange**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-197">All virtual list-view controls default to the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="717d1-198">Per consentire la visualizzazione degli elementi nell'elenco, è necessario prima inviare il messaggio [**LVM \_ SETITEMCOUNT**](lvm-setitemcount.md) , in modo esplicito o tramite la macro [**\_ SetItemCountEx di ListView**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) .</span><span class="sxs-lookup"><span data-stu-id="717d1-198">To enable items to be displayed in the list, you must first send the [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, either explicitly or by using the [**ListView\_SetItemCountEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) macro.</span></span>

<span data-ttu-id="717d1-199">I messaggi seguenti non sono supportati con lo [**stile \_ OWNERDATA di LVS**](list-view-window-styles.md) : [**LVM \_ ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM \_ GETITEMTEXT**](lvm-getitemtext.md), [**LVM \_ SETTILEINFO**](lvm-settileinfo.md)e [**LVM \_ MAPIDTOINDEX**](lvm-mapidtoindex.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-199">The following messages are not supported under the [**LVS\_OWNERDATA**](list-view-window-styles.md) style: [**LVM\_ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM\_GETITEMTEXT**](lvm-getitemtext.md), [**LVM\_SETTILEINFO**](lvm-settileinfo.md), and [**LVM\_MAPIDTOINDEX**](lvm-mapidtoindex.md).</span></span>

### <a name="compatibility-issues"></a><span data-ttu-id="717d1-200">Problemi di compatibilità</span><span class="sxs-lookup"><span data-stu-id="717d1-200">Compatibility Issues</span></span>

<span data-ttu-id="717d1-201">Tutti e quattro gli stili di visualizzazione elenco (icona, piccola icona, elenco e visualizzazione report) supportano lo stile [**\_ OWNERDATA LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-201">All four of the list-view styles—icon, small icon, list, and report view—support the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="717d1-202">I controlli di visualizzazione elenco con stile **\_ OWNERDATA LVS** non archiviano informazioni specifiche dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-202">List-view controls that have the **LVS\_OWNERDATA** style do not store any item-specific information.</span></span> <span data-ttu-id="717d1-203">Pertanto, gli unici flag di stato degli elementi validi che è possibile applicare a un elemento sono [**lvis \_ selezionati**](list-view-item-states.md) e [**lvis sono \_ incentrati**](list-view-item-states.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-203">Therefore, the only valid item state flags that you can apply to an item are [**LVIS\_SELECTED**](list-view-item-states.md) and [**LVIS\_FOCUSED**](list-view-item-states.md).</span></span> <span data-ttu-id="717d1-204">Nessun'altra informazione sullo stato è archiviata.</span><span class="sxs-lookup"><span data-stu-id="717d1-204">No other state information is stored.</span></span> <span data-ttu-id="717d1-205">In particolare, il controllo elenco-visualizzazione non mantiene le immagini di stato o sovrapposizione per ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-205">In particular, the list-view control does not maintain state or overlay images for each item.</span></span> <span data-ttu-id="717d1-206">Tuttavia, è possibile fare in modo che il controllo elenco-visualizzazione query l'applicazione per queste immagini inviando un messaggio [**LVM \_ SETCALLBACKMASK**](lvm-setcallbackmask.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-206">However, you can have the list-view control query your application for these images by sending it an [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message.</span></span>

<span data-ttu-id="717d1-207">La maggior parte dei messaggi di controllo visualizzazione elenco e le macro associate sono completamente supportati.</span><span class="sxs-lookup"><span data-stu-id="717d1-207">Most list-view control messages and the associated macros are fully supported.</span></span> <span data-ttu-id="717d1-208">Tuttavia, alcuni messaggi presentano limitazioni o non sono supportati quando si usa lo stile [**\_ OWNERDATA di LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-208">However, some messages have limitations or are unsupported when you use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="717d1-209">Nella tabella seguente vengono riepilogati i messaggi interessati.</span><span class="sxs-lookup"><span data-stu-id="717d1-209">The following table summarizes the affected messages.</span></span>



| <span data-ttu-id="717d1-210">Message</span><span class="sxs-lookup"><span data-stu-id="717d1-210">Message</span></span>                                             | <span data-ttu-id="717d1-211">Limitazione</span><span class="sxs-lookup"><span data-stu-id="717d1-211">Limitation</span></span>                                                                                                                                                                                                                                                      |
|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="717d1-212">**\_disposizione LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-212">**LVM\_ARRANGE**</span></span>](lvm-arrange.md)                 | <span data-ttu-id="717d1-213">Non supporta lo stile **\_ SNAPTOGRID LVA** .</span><span class="sxs-lookup"><span data-stu-id="717d1-213">Does not support the **LVA\_SNAPTOGRID** style.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="717d1-214">**\_DELETEALLITEMS LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-214">**LVM\_DELETEALLITEMS**</span></span>](lvm-deleteallitems.md)   | <span data-ttu-id="717d1-215">Imposta il numero di elementi su zero e cancella tutte le variabili di selezione interne, ma non elimina effettivamente alcun elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-215">Sets the item count to zero and clears all internal selection variables, but it does not actually delete any items.</span></span> <span data-ttu-id="717d1-216">Esegue un callback di notifica.</span><span class="sxs-lookup"><span data-stu-id="717d1-216">It makes a notification callback.</span></span>                                                                                                           |
| [<span data-ttu-id="717d1-217">**\_DeleteItem LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-217">**LVM\_DELETEITEM**</span></span>](lvm-deleteitem.md)           | <span data-ttu-id="717d1-218">È supportato solo per l'integrità della selezione e non elimina effettivamente un elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-218">Is supported for selection integrity only and does not actually delete an item.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="717d1-219">**\_GETITEMSTATE LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-219">**LVM\_GETITEMSTATE**</span></span>](lvm-getitemstate.md)       | <span data-ttu-id="717d1-220">Restituisce solo gli Stati di attivazione e selezione, ovvero gli stati archiviati dal controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-220">Returns only focus and selection states (that is, those states stored by the list-view control).</span></span>                                                                                                                                                                |
| [<span data-ttu-id="717d1-221">**\_GETNEXTITEM LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-221">**LVM\_GETNEXTITEM**</span></span>](lvm-getnextitem.md)         | <span data-ttu-id="717d1-222">Non supporta i criteri di ricerca di visualizzazione elenco **LVNI \_ Cut**, **LVNI \_ Hidden** o **LVNI \_ DROPHILITED**.</span><span class="sxs-lookup"><span data-stu-id="717d1-222">Does not support the list-view search criteria **LVNI\_CUT**, **LVNI\_HIDDEN**, or **LVNI\_DROPHILITED**.</span></span> <span data-ttu-id="717d1-223">Sono supportati tutti gli altri criteri.</span><span class="sxs-lookup"><span data-stu-id="717d1-223">All other criteria are supported.</span></span>                                                                                                                     |
| [<span data-ttu-id="717d1-224">**\_GETWORKAREAS LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-224">**LVM\_GETWORKAREAS**</span></span>](lvm-getworkareas.md)       | <span data-ttu-id="717d1-225">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="717d1-225">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="717d1-226">**INSERTITEM (LVM) \_**</span><span class="sxs-lookup"><span data-stu-id="717d1-226">**LVM\_INSERTITEM**</span></span>](lvm-insertitem.md)           | <span data-ttu-id="717d1-227">È supportato solo per l'integrità della selezione.</span><span class="sxs-lookup"><span data-stu-id="717d1-227">Is supported for selection integrity only.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="717d1-228">**ELEMENTO per LVM \_**</span><span class="sxs-lookup"><span data-stu-id="717d1-228">**LVM\_SETITEM**</span></span>](lvm-setitem.md)                 | <span data-ttu-id="717d1-229">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="717d1-229">Is not supported.</span></span> <span data-ttu-id="717d1-230">Per impostare lo stato dell'elemento, utilizzare il messaggio [**ListView \_ SetItemState**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) .</span><span class="sxs-lookup"><span data-stu-id="717d1-230">To set the item state, use the [**ListView\_SetItemState**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) message.</span></span>                                                                                                                                               |
| [<span data-ttu-id="717d1-231">**\_SETITEMCOUNT LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-231">**LVM\_SETITEMCOUNT**</span></span>](lvm-setitemcount.md)       | <span data-ttu-id="717d1-232">Imposta il numero di elementi attualmente presenti nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-232">Sets the number of items currently in the list.</span></span> <span data-ttu-id="717d1-233">Se il controllo elenco-visualizzazione Invia una notifica che richiede dati per qualsiasi elemento fino al set massimo, il proprietario deve essere pronto a fornire tali dati.</span><span class="sxs-lookup"><span data-stu-id="717d1-233">If the list-view control sends a notification that requests data for any item up to the maximum set, the owner must be prepared to supply that data.</span></span> <span data-ttu-id="717d1-234">I parametri del messaggio supportano i controlli visualizzazione elenco virtuale.</span><span class="sxs-lookup"><span data-stu-id="717d1-234">The message parameters support virtual list-view controls.</span></span> |
| [<span data-ttu-id="717d1-235">**\_SETITEMPOSITION LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-235">**LVM\_SETITEMPOSITION**</span></span>](lvm-setitemposition.md) | <span data-ttu-id="717d1-236">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="717d1-236">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="717d1-237">**\_SETITEMSTATE LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-237">**LVM\_SETITEMSTATE**</span></span>](lvm-setitemstate.md)       | <span data-ttu-id="717d1-238">Consente di modificare solo gli Stati di selezione e di stato attivo per l'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-238">Allows only the selection and focus states to be changed for the item.</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="717d1-239">**\_SETITEMTEXT LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-239">**LVM\_SETITEMTEXT**</span></span>](lvm-setitemtext.md)         | <span data-ttu-id="717d1-240">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="717d1-240">Is not supported.</span></span> <span data-ttu-id="717d1-241">È responsabilità dell'applicazione gestire i testi degli articoli.</span><span class="sxs-lookup"><span data-stu-id="717d1-241">It is the application's responsibility to maintain the item texts.</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="717d1-242">**\_SETWORKAREAS LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-242">**LVM\_SETWORKAREAS**</span></span>](lvm-setworkareas.md)       | <span data-ttu-id="717d1-243">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="717d1-243">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="717d1-244">**\_SORTITEMS LVM**</span><span class="sxs-lookup"><span data-stu-id="717d1-244">**LVM\_SORTITEMS**</span></span>](lvm-sortitems.md)             | <span data-ttu-id="717d1-245">Non è supportata.</span><span class="sxs-lookup"><span data-stu-id="717d1-245">Is not supported.</span></span> <span data-ttu-id="717d1-246">È responsabilità dell'applicazione presentare gli elementi nell'ordine desiderato.</span><span class="sxs-lookup"><span data-stu-id="717d1-246">It is the application's responsibility to present the items in the desired order.</span></span>                                                                                                                                                             |



 

### <a name="handling-virtual-list-view-control-notification-codes"></a><span data-ttu-id="717d1-247">Gestione dei codici di notifica del controllo List-View virtuale</span><span class="sxs-lookup"><span data-stu-id="717d1-247">Handling Virtual List-View Control Notification Codes</span></span>

<span data-ttu-id="717d1-248">I controlli List-View con lo stile [**LVS \_ OWNERDATA**](list-view-window-styles.md) inviano gli stessi codici di notifica degli altri controlli visualizzazione elenco e altri due: [LVN \_ ODCACHEHINT](lvn-odcachehint.md) e [LVN \_ ODFINDITEM](lvn-odfinditem.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-248">List-view controls with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style send the same notification codes as other list-view controls and two additional ones: [LVN\_ODCACHEHINT](lvn-odcachehint.md) and [LVN\_ODFINDITEM](lvn-odfinditem.md).</span></span> <span data-ttu-id="717d1-249">Di seguito sono riportate le notifiche più comuni inviate dal controllo elenco-visualizzazione con lo stile **\_ OWNERDATA di LVS** .</span><span class="sxs-lookup"><span data-stu-id="717d1-249">The following are the most common notifications that the list-view control with the **LVS\_OWNERDATA** style sends.</span></span>



|                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="717d1-250">\_GETDISPINFO LVN</span><span class="sxs-lookup"><span data-stu-id="717d1-250">LVN\_GETDISPINFO</span></span>](lvn-getdispinfo.md) | <span data-ttu-id="717d1-251">Un controllo di visualizzazione elenco virtuale mantiene autonomamente le informazioni sugli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-251">A virtual list-view control maintains very little item information on its own.</span></span> <span data-ttu-id="717d1-252">Di conseguenza, invia spesso il codice di notifica [LVN \_ GETDISPINFO](lvn-getdispinfo.md) per richiedere informazioni sugli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-252">As a result, it often sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to request item information.</span></span> <span data-ttu-id="717d1-253">Questo messaggio viene gestito in modo analogo agli elementi di callback in un controllo elenco standard.</span><span class="sxs-lookup"><span data-stu-id="717d1-253">This message is handled in much the same way as callback items in a standard list control.</span></span> <span data-ttu-id="717d1-254">Poiché il numero di elementi supportati dal controllo può essere molto elevato, la memorizzazione nella cache dei dati degli elementi migliora le prestazioni.</span><span class="sxs-lookup"><span data-stu-id="717d1-254">Because the number of items supported by the control can be very large, caching item data improves performance.</span></span> <span data-ttu-id="717d1-255">Quando si gestisce LVN \_ GETDISPINFO, il proprietario del controllo tenta innanzitutto di fornire le informazioni sull'elemento richieste dalla cache. per ulteriori informazioni, vedere la pagina relativa alla [gestione della cache](#cache-management).</span><span class="sxs-lookup"><span data-stu-id="717d1-255">When handling LVN\_GETDISPINFO, the owner of the control first attempts to supply requested item information from the cache (for more information, see [Cache Management](#cache-management)).</span></span> <span data-ttu-id="717d1-256">Se l'elemento richiesto non è memorizzato nella cache, il proprietario deve essere preparato per fornire le informazioni in altro modo.</span><span class="sxs-lookup"><span data-stu-id="717d1-256">If the requested item is not cached, the owner must be prepared to supply the information by other means.</span></span> |
| [<span data-ttu-id="717d1-257">\_ODCACHEHINT LVN</span><span class="sxs-lookup"><span data-stu-id="717d1-257">LVN\_ODCACHEHINT</span></span>](lvn-odcachehint.md) | <span data-ttu-id="717d1-258">Una visualizzazione elenco virtuale invia il codice di notifica [LVN \_ ODCACHEHINT](lvn-odcachehint.md) per semplificare l'ottimizzazione della cache.</span><span class="sxs-lookup"><span data-stu-id="717d1-258">A virtual list view sends the [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code to assist in optimizing the cache.</span></span> <span data-ttu-id="717d1-259">Il codice di notifica fornisce valori di indice inclusivi per un intervallo di elementi che è consigliabile memorizzare nella cache.</span><span class="sxs-lookup"><span data-stu-id="717d1-259">The notification code provides inclusive index values for a range of items that it recommends be cached.</span></span> <span data-ttu-id="717d1-260">Al momento della ricezione del codice di notifica, il proprietario deve essere pronto a caricare la cache con le informazioni sugli elementi per l'intervallo richiesto, in modo che le informazioni saranno immediatamente disponibili quando viene inviato un messaggio [LVN \_ GETDISPINFO](lvn-getdispinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-260">Upon receiving the notification code, the owner must be prepared to load the cache with item information for the requested range so that the information will be readily available when an [LVN\_GETDISPINFO](lvn-getdispinfo.md) message is sent.</span></span>                                                                                                                                                                                                                                   |
| [<span data-ttu-id="717d1-261">\_ODFINDITEM LVN</span><span class="sxs-lookup"><span data-stu-id="717d1-261">LVN\_ODFINDITEM</span></span>](lvn-odfinditem.md)   | <span data-ttu-id="717d1-262">Il codice di notifica [ \_ ODFINDITEM di LVN](lvn-odfinditem.md) viene inviato da un controllo di visualizzazione elenco virtuale quando il controllo richiede al proprietario di trovare un particolare elemento di callback.</span><span class="sxs-lookup"><span data-stu-id="717d1-262">The [LVN\_ODFINDITEM](lvn-odfinditem.md) notification code is sent by a virtual list-view control when the control needs the owner to find a particular callback item.</span></span> <span data-ttu-id="717d1-263">Il codice di notifica viene inviato quando il controllo elenco-visualizzazione riceve l'accesso rapido alla chiave o quando riceve un messaggio [**\_ FINDITEM LVM**](lvm-finditem.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-263">The notification code is sent when the list-view control receives quick key access or when it receives an [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="717d1-264">Le informazioni di ricerca vengono inviate sotto forma di una struttura [**LVFINDINFO**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) , che è un membro della struttura [**NMLVFINDITEM**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema) .</span><span class="sxs-lookup"><span data-stu-id="717d1-264">Search information is sent in the form of an [**LVFINDINFO**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) structure, which is a member of the [**NMLVFINDITEM**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema) structure.</span></span> <span data-ttu-id="717d1-265">Il proprietario deve essere pronto a cercare un elemento che corrisponda alle informazioni fornite dal controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-265">The owner must be prepared to search for an item that matches the information given by the list-view control.</span></span> <span data-ttu-id="717d1-266">Il proprietario restituisce l'indice dell'elemento in caso di esito positivo, oppure-1 se non viene trovato alcun elemento corrispondente.</span><span class="sxs-lookup"><span data-stu-id="717d1-266">The owner returns the index of the item if successful, or -1 if no matching item is found.</span></span>               |



 

### <a name="cache-management"></a><span data-ttu-id="717d1-267">Gestione della cache</span><span class="sxs-lookup"><span data-stu-id="717d1-267">Cache Management</span></span>

<span data-ttu-id="717d1-268">Un controllo di visualizzazione elenco con lo stile [**LVS \_ OWNERDATA**](list-view-window-styles.md) genera un numero elevato di codici di notifica [LVN \_ GETDISPINFO](lvn-getdispinfo.md) e, per semplificare l'ottimizzazione della cache, un messaggio [LVN \_ ODCACHEHINT](lvn-odcachehint.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-268">A list-view control with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style produces a large number of [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes and, to assist in optimizing the cache, an [LVN\_ODCACHEHINT](lvn-odcachehint.md) message.</span></span> <span data-ttu-id="717d1-269">\_I messaggi LVN ODCACHEHINT forniscono informazioni sugli elementi consigliati da includere nella cache.</span><span class="sxs-lookup"><span data-stu-id="717d1-269">LVN\_ODCACHEHINT messages provide information about the recommended items to include within the cache.</span></span> <span data-ttu-id="717d1-270">Questi messaggi vengono inviati come messaggi di [**\_ notifica WM**](wm-notify.md) , con il valore *lParam* che funge da indirizzo di una struttura [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) .</span><span class="sxs-lookup"><span data-stu-id="717d1-270">These messages are sent as [**WM\_NOTIFY**](wm-notify.md) messages, with the *lParam* value acting as the address of an [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure.</span></span>

<span data-ttu-id="717d1-271">La struttura [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) include due membri integer, **iFrom** e **Ito**, che rappresentano gli endpoint inclusivi di un intervallo di elementi che probabilmente saranno necessari.</span><span class="sxs-lookup"><span data-stu-id="717d1-271">The [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure includes two integer members, **iFrom** and **iTo**, that represent the inclusive endpoints of a range of items that most likely will be needed.</span></span> <span data-ttu-id="717d1-272">Il proprietario deve essere pronto a caricare la cache con le informazioni sull'elemento per ognuno degli elementi compresi nell'intervallo consigliato.</span><span class="sxs-lookup"><span data-stu-id="717d1-272">The owner must be prepared to load the cache with the item information for each of the items within the recommended range.</span></span>

<span data-ttu-id="717d1-273">Il controllo elenco spesso richiede informazioni sugli elementi per il primo elemento (offset 0).</span><span class="sxs-lookup"><span data-stu-id="717d1-273">The list control often needs item information for the first item (offset 0).</span></span> <span data-ttu-id="717d1-274">Il codice di notifica [ \_ ODCACHEHINT di LVN](lvn-odcachehint.md) potrebbe non sempre includere l'elemento 0, ma deve sempre essere incluso nella cache.</span><span class="sxs-lookup"><span data-stu-id="717d1-274">The [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code might not always include item 0, but it must always be included in the cache.</span></span>

<span data-ttu-id="717d1-275">Si accede spesso agli ultimi elementi dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-275">The last items in the list are accessed often.</span></span> <span data-ttu-id="717d1-276">Il proprietario potrebbe pertanto voler contenere una seconda cache che includa gli elementi alla fine dell'elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-276">Therefore, the owner might want to keep a second cache that includes the items at the end of the list.</span></span> <span data-ttu-id="717d1-277">L'intervallo richiesto da [LVN \_ ODCACHEHINT](lvn-odcachehint.md) può essere controllato rispetto alla cache finale per renderlo disponibile automaticamente anziché ricaricare ogni volta lo stesso intervallo di fine.</span><span class="sxs-lookup"><span data-stu-id="717d1-277">The requested range from [LVN\_ODCACHEHINT](lvn-odcachehint.md) can be checked against the end cache to make it available automatically instead of reloading the same end range each time.</span></span>

## <a name="list-view-working-areas"></a><span data-ttu-id="717d1-278">Aree di lavoro List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-278">List-View Working Areas</span></span>

<span data-ttu-id="717d1-279">I controlli elenco-visualizzazione supportano le aree di lavoro, che sono aree virtuali rettangolari utilizzate dal controllo elenco-visualizzazione per disporre gli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-279">List-view controls support working areas, which are rectangular virtual areas that the list-view control uses to arrange its items.</span></span> <span data-ttu-id="717d1-280">Un'area di lavoro non è una finestra e non può avere un bordo visibile.</span><span class="sxs-lookup"><span data-stu-id="717d1-280">A working area is not a window and cannot have a visible border.</span></span> <span data-ttu-id="717d1-281">Per impostazione predefinita, il controllo elenco-visualizzazione non contiene aree di lavoro.</span><span class="sxs-lookup"><span data-stu-id="717d1-281">By default, the list-view control has no working areas.</span></span> <span data-ttu-id="717d1-282">Creando un'area di lavoro, è possibile creare un bordo vuoto a sinistra, in alto o a destra degli elementi o causare la visualizzazione di una barra di scorrimento orizzontale quando normalmente non ne esiste una.</span><span class="sxs-lookup"><span data-stu-id="717d1-282">By creating a working area, you can create an empty border on the left, top, or right of the items or cause a horizontal scroll bar to be displayed when there normally would not be one.</span></span>

<span data-ttu-id="717d1-283">Quando viene creata un'area di lavoro, gli elementi che si trovano all'interno dell'area di lavoro diventano membri dell'area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="717d1-283">When a working area is created, items that lie within the working area become members of the working area.</span></span> <span data-ttu-id="717d1-284">Analogamente, se un elemento viene spostato in un'area di lavoro, l'elemento diventa un membro dell'area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="717d1-284">Similarly, if an item is moved into a working area, the item becomes a member of that working area.</span></span> <span data-ttu-id="717d1-285">Se un elemento non si trova all'interno di un'area di lavoro, diventa automaticamente membro della prima area di lavoro (indice 0).</span><span class="sxs-lookup"><span data-stu-id="717d1-285">If an item does not lie within any working area, it automatically becomes a member of the first (index 0) working area.</span></span> <span data-ttu-id="717d1-286">Per inserire un nuovo elemento in un'area di lavoro specifica, è innanzitutto necessario creare l'elemento e quindi usare il messaggio [**LVM \_ SETITEMPOSITION**](lvm-setitemposition.md) o [**LVM \_ SETITEMPOSITION32**](lvm-setitemposition32.md) per spostarlo nell'area di lavoro desiderata.</span><span class="sxs-lookup"><span data-stu-id="717d1-286">To place new item within a specific working area, you must first create the item and then use either the [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) or the [**LVM\_SETITEMPOSITION32**](lvm-setitemposition32.md) message to move it into the desired working area.</span></span>

<span data-ttu-id="717d1-287">L'illustrazione seguente è un esempio di controllo visualizzazione elenco che contiene quattro aree di lavoro, ognuna in un quadrante diverso dell'area client.</span><span class="sxs-lookup"><span data-stu-id="717d1-287">The following illustration is an example of a list-view control that contains four working areas, each in a different quadrant of the client area.</span></span>

![Screenshot di un controllo visualizzazione elenco con un'area di lavoro in ogni quadrante dell'area client](images/working.jpg)

<span data-ttu-id="717d1-289">È possibile usare più aree di lavoro per creare aree diverse all'interno di una sola visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-289">Multiple working areas can be used for creating different areas within one view.</span></span> <span data-ttu-id="717d1-290">È possibile creare aree in una singola visualizzazione con significati diversi.</span><span class="sxs-lookup"><span data-stu-id="717d1-290">You can create areas in a single view that have different meanings.</span></span> <span data-ttu-id="717d1-291">Ad esempio, una vista di un file system potrebbe avere un'area per i file di lettura/scrittura e un'altra area per i file di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="717d1-291">For example, a view of a file system might have an area for read/write files and another area for read-only files.</span></span> <span data-ttu-id="717d1-292">L'utente può categorizzare gli elementi inserendoli in aree di lavoro diverse.</span><span class="sxs-lookup"><span data-stu-id="717d1-292">The user can categorize items by placing them in different working areas.</span></span> <span data-ttu-id="717d1-293">Se un file viene spostato nell'area di sola lettura, verrà automaticamente reso di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="717d1-293">If a file is moved into the read-only area, it will automatically become read-only.</span></span>

<span data-ttu-id="717d1-294">È possibile intersecare più aree di lavoro, ma tutti gli elementi che si trovano all'interno dell'intersezione diventano membri dell'area con l'indice inferiore; Pertanto, è preferibile evitare questa situazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-294">Multiple working areas can intersect, but any items that lie within the intersection become members of the area with the lower index; therefore, it is best to avoid this situation.</span></span> <span data-ttu-id="717d1-295">Quando si ordinano più aree di lavoro, gli elementi vengono ordinati rispetto agli altri elementi nella stessa area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="717d1-295">When sorting multiple work areas, the items are sorted compared to the other items in the same working area.</span></span>

<span data-ttu-id="717d1-296">Il numero di aree di lavoro può essere recuperato con il messaggio [**LVM \_ GETNUMBEROFWORKAREAS**](lvm-getnumberofworkareas.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-296">The number of working areas can be retrieved with the [**LVM\_GETNUMBEROFWORKAREAS**](lvm-getnumberofworkareas.md) message.</span></span> <span data-ttu-id="717d1-297">Le aree di lavoro vengono modificate con il messaggio [**LVM \_ SETWORKAREAS**](lvm-setworkareas.md) e possono essere recuperate con il messaggio [**LVM \_ GETWORKAREAS**](lvm-getworkareas.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-297">The working areas are changed with the [**LVM\_SETWORKAREAS**](lvm-setworkareas.md) message and can be retrieved with the [**LVM\_GETWORKAREAS**](lvm-getworkareas.md) message.</span></span> <span data-ttu-id="717d1-298">Entrambi questi messaggi accettano l'indirizzo di una matrice di strutture [**Rect**](/previous-versions//dd162897(v=vs.85)) come *lParam* e il numero di strutture **Rect** come *wParam*.</span><span class="sxs-lookup"><span data-stu-id="717d1-298">Both of these messages take the address of an array of [**RECT**](/previous-versions//dd162897(v=vs.85)) structures as the *lParam* and the number of **RECT** structures as the *wParam*.</span></span> <span data-ttu-id="717d1-299">I membri **sinistro** e **superiore** di queste strutture specificano le coordinate dell'angolo superiore sinistro (l'origine) dell'area di lavoro e i membri **destro** e **inferiore** specificano l'angolo inferiore destro dell'area di lavoro.</span><span class="sxs-lookup"><span data-stu-id="717d1-299">The **left** and **top** members of these structures specify the coordinates of the upper-left corner (the origin) of the working area, and the **right** and **bottom** members specify the lower-right corner of the working area.</span></span> <span data-ttu-id="717d1-300">Tutte le coordinate si trovano nelle coordinate client della visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-300">All the coordinates are in client coordinates of the list view.</span></span> <span data-ttu-id="717d1-301">Il numero massimo di aree di lavoro consentito è definito dal valore **LV \_ Max \_ WORKAREAS** .</span><span class="sxs-lookup"><span data-stu-id="717d1-301">The maximum number of working areas allowed is defined by the **LV\_MAX\_WORKAREAS** value.</span></span>

<span data-ttu-id="717d1-302">La modifica dell'area di lavoro non ha alcun effetto sui controlli visualizzazione elenco che includono l' [**\_ elenco LVS**](list-view-window-styles.md) o la visualizzazione [**\_ report LVS**](list-view-window-styles.md) , ma le aree di lavoro verranno mantenute quando viene modificato il tipo di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-302">Changing the working area has no effect on list-view controls that have the [**LVS\_LIST**](list-view-window-styles.md) or [**LVS\_REPORT**](list-view-window-styles.md) view, but the working areas will be maintained when the view type is changed.</span></span> <span data-ttu-id="717d1-303">Con l' [**\_ icona LVS**](list-view-window-styles.md) e le visualizzazioni [**\_ SMALLICON di LVS**](list-view-window-styles.md) , l'area di lavoro può essere modificata per modificare la modalità di visualizzazione degli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-303">With the [**LVS\_ICON**](list-view-window-styles.md) and [**LVS\_SMALLICON**](list-view-window-styles.md) views, the working area can be modified to change the way the items are displayed.</span></span> <span data-ttu-id="717d1-304">Se si imposta la larghezza dell'area di lavoro (destra-sinistra) maggiore della larghezza del client del controllo, viene eseguito il wrapper degli elementi a tale larghezza e la barra di scorrimento orizzontale da visualizzare.</span><span class="sxs-lookup"><span data-stu-id="717d1-304">Making the width of the working area (right - left) greater than the client width of the control causes the items to be wrapped at that width and the horizontal scroll bar to be displayed.</span></span> <span data-ttu-id="717d1-305">Se la larghezza dell'area di lavoro è più stretta rispetto alla larghezza dell'area client del controllo, gli elementi vengono racchiusi nell'area di lavoro e non nell'area client.</span><span class="sxs-lookup"><span data-stu-id="717d1-305">Making the width of the working area narrower than the width of the control's client area causes the items to be wrapped within the working area and not the client area.</span></span> <span data-ttu-id="717d1-306">Impostando il membro **sinistro** o **superiore** su un valore positivo, gli elementi vengono visualizzati a partire dall'area di lavoro, creando uno spazio vuoto tra il bordo del controllo e gli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-306">Setting the **left** or **top** member to a positive value causes the items to be displayed starting at the working area, creating an empty space between the edge of the control and the items.</span></span> <span data-ttu-id="717d1-307">È anche possibile creare uno spazio vuoto tra il bordo destro del controllo e gli elementi, rendendo la larghezza dell'area di lavoro minore della larghezza del client del controllo.</span><span class="sxs-lookup"><span data-stu-id="717d1-307">An empty space can also be created between the right edge of the control and the items by making the width of the working area less than the client width of the control.</span></span>

## <a name="list-view-image-lists"></a><span data-ttu-id="717d1-308">Elenchi di immagini List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-308">List-View Image Lists</span></span>

<span data-ttu-id="717d1-309">Per impostazione predefinita, un controllo di visualizzazione elenco non Visualizza le immagini dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-309">By default, a list-view control does not display item images.</span></span> <span data-ttu-id="717d1-310">Per visualizzare le immagini degli elementi, è necessario creare elenchi di immagini e associarli al controllo.</span><span class="sxs-lookup"><span data-stu-id="717d1-310">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="717d1-311">Un controllo visualizzazione elenco può avere tre elenchi di immagini:</span><span class="sxs-lookup"><span data-stu-id="717d1-311">A list-view control can have three image lists:</span></span>

-   <span data-ttu-id="717d1-312">Elenco di immagini che contiene le icone a dimensione intera visualizzate quando il controllo è in visualizzazione icone.</span><span class="sxs-lookup"><span data-stu-id="717d1-312">An image list that contains full-sized icons displayed when the control is in icon view.</span></span>
-   <span data-ttu-id="717d1-313">Elenco di immagini che contiene icone piccole visualizzate quando il controllo è in visualizzazione icona piccola, visualizzazione elenco o visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="717d1-313">An image list that contains small icons displayed when the control is in small icon view, list view, or report view.</span></span>
-   <span data-ttu-id="717d1-314">Elenco di immagini che contiene le immagini di stato, che vengono visualizzate a sinistra dell'icona a dimensione intera o piccola.</span><span class="sxs-lookup"><span data-stu-id="717d1-314">An image list that contains state images, which are displayed to the left of the full-sized or small icon.</span></span> <span data-ttu-id="717d1-315">È possibile utilizzare immagini di stato, ad esempio caselle di controllo selezionate e deselezionate, per indicare gli Stati degli elementi definiti dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-315">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span> <span data-ttu-id="717d1-316">Le immagini di stato vengono visualizzate in visualizzazione icone, visualizzazione icone piccole, visualizzazione elenco e visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="717d1-316">State images are displayed in icon view, small icon view, list view, and report view.</span></span>

<span data-ttu-id="717d1-317">Gli elenchi di immagini icona di dimensioni ridotte e di dimensioni ridotte possono contenere anche *immagini sovrapposte*, progettate per essere disegnate in modo trasparente sulle icone degli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-317">The full-sized and small icon image lists can also contain *overlay images*, which are designed to be drawn transparently over the item icons.</span></span>

<span data-ttu-id="717d1-318">Per usare le immagini sovrapposte in un controllo visualizzazione elenco:</span><span class="sxs-lookup"><span data-stu-id="717d1-318">To use overlay images in a list-view control:</span></span>

1.  <span data-ttu-id="717d1-319">Chiamare la funzione [**ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) per assegnare un indice di immagine sovrapposta a un'immagine negli elenchi di immagini con dimensioni ridotte e di dimensioni ridotte.</span><span class="sxs-lookup"><span data-stu-id="717d1-319">Call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function to assign an overlay image index to an image in the full-sized and small icon image lists.</span></span> <span data-ttu-id="717d1-320">Un'immagine sovrapposta è identificata da un indice in base uno.</span><span class="sxs-lookup"><span data-stu-id="717d1-320">An overlay image is identified by a one-based index.</span></span>
2.  <span data-ttu-id="717d1-321">È possibile associare un indice di immagine sovrapposta a un elemento quando si chiama la macro [**ListView \_ InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) o [**ListView \_ SetItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem) .</span><span class="sxs-lookup"><span data-stu-id="717d1-321">You can associate an overlay image index with an item when you call the [**ListView\_InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) or [**ListView\_SetItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem) macro.</span></span> <span data-ttu-id="717d1-322">Usare la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) per specificare un indice di immagine sovrapposto nel membro di **stato** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-322">Use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay image index in the **state** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="717d1-323">È anche necessario impostare i bit [**lvis \_ OVERLAYMASK**](list-view-item-states.md) nel membro **stateMask** .</span><span class="sxs-lookup"><span data-stu-id="717d1-323">You must also set the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) bits in the **stateMask** member.</span></span>

<span data-ttu-id="717d1-324">Se viene specificato un elenco di immagini di stato, un controllo visualizzazione elenco riserva spazio a sinistra dell'icona di ogni elemento per un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="717d1-324">If a state image list is specified, a list-view control reserves space to the left of each item's icon for a state image.</span></span>

<span data-ttu-id="717d1-325">Per associare un'immagine di stato a un elemento, usare la macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) per specificare un indice dell'immagine di stato nel membro di **stato** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="717d1-325">To associate a state image with an item, use the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro to specify a state image index in the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="717d1-326">L'indice identifica un'immagine nell'elenco di immagini dello stato del controllo.</span><span class="sxs-lookup"><span data-stu-id="717d1-326">The index identifies an image in the control's state image list.</span></span> <span data-ttu-id="717d1-327">Anche se gli indici dell'elenco immagini sono in base zero, il controllo Usa indici basati su uno per identificare le immagini di stato.</span><span class="sxs-lookup"><span data-stu-id="717d1-327">Although image list indexes are zero-based, the control uses one-based indexes to identify state images.</span></span> <span data-ttu-id="717d1-328">Un indice immagine di stato zero indica che un elemento non ha un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="717d1-328">A state image index of zero indicates that an item has no state image.</span></span>

<span data-ttu-id="717d1-329">Per impostazione predefinita, quando un controllo visualizzazione elenco viene eliminato definitivamente, Elimina gli elenchi di immagini assegnati.</span><span class="sxs-lookup"><span data-stu-id="717d1-329">By default, when a list-view control is destroyed, it destroys the image lists assigned to it.</span></span> <span data-ttu-id="717d1-330">Tuttavia, se un controllo di visualizzazione elenco dispone dello stile della finestra [**LVS \_ SHAREIMAGELISTS**](list-view-window-styles.md) , l'applicazione è responsabile dell'eliminazione degli elenchi di immagini quando non sono più in uso.</span><span class="sxs-lookup"><span data-stu-id="717d1-330">However, if a list-view control has the [**LVS\_SHAREIMAGELISTS**](list-view-window-styles.md) window style, the application is responsible for destroying the image lists when they are no longer in use.</span></span> <span data-ttu-id="717d1-331">È necessario specificare questo stile se si assegnano gli stessi elenchi di immagini a più controlli visualizzazione elenco; in caso contrario, più controlli potrebbero tentare di eliminare definitivamente lo stesso elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="717d1-331">You should specify this style if you assign the same image lists to multiple list-view controls; otherwise, more than one control might try to destroy the same image list.</span></span>

## <a name="list-view-items-and-subitems"></a><span data-ttu-id="717d1-332">List-View elementi e elementi secondari</span><span class="sxs-lookup"><span data-stu-id="717d1-332">List-View Items and Subitems</span></span>

<span data-ttu-id="717d1-333">Ogni elemento in un controllo di visualizzazione elenco ha un'icona, un'etichetta, uno stato corrente e un valore definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-333">Each item in a list-view control has an icon, a label, a current state, and an application-defined value.</span></span> <span data-ttu-id="717d1-334">Utilizzando i messaggi di visualizzazione elenco, è possibile aggiungere, modificare ed eliminare elementi, nonché recuperare informazioni sugli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-334">By using list-view messages, you can add, modify, and delete items as well as retrieve information about items.</span></span>

<span data-ttu-id="717d1-335">Ogni elemento può avere uno o più *elementi secondari*.</span><span class="sxs-lookup"><span data-stu-id="717d1-335">Each item can have one or more *subitems*.</span></span> <span data-ttu-id="717d1-336">Un elemento secondario è una stringa che, in visualizzazione report, viene visualizzata in una colonna distinta dall'icona e dall'etichetta dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-336">A subitem is a string that, in report view, is displayed in a column separate from the item's icon and label.</span></span> <span data-ttu-id="717d1-337">Per specificare il testo di un elemento secondario, usare il messaggio [**LVM \_ SETITEMTEXT**](lvm-setitemtext.md) o [**LVM \_**](lvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-337">To specify the text of a subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) or [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="717d1-338">Tutti gli elementi di un controllo visualizzazione elenco presentano lo stesso numero di elementi secondari.</span><span class="sxs-lookup"><span data-stu-id="717d1-338">All items in a list-view control have the same number of subitems.</span></span> <span data-ttu-id="717d1-339">Il numero di elementi secondari è determinato dal numero di colonne nel controllo elenco-visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-339">The number of subitems is determined by the number of columns in the list-view control.</span></span> <span data-ttu-id="717d1-340">Quando si aggiunge una colonna a un controllo visualizzazione elenco, si specifica l'indice dell'elemento secondario associato.</span><span class="sxs-lookup"><span data-stu-id="717d1-340">When you add a column to a list-view control, you specify its associated subitem index.</span></span>

<span data-ttu-id="717d1-341">La struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) definisce un elemento di visualizzazione elenco o un elemento secondario.</span><span class="sxs-lookup"><span data-stu-id="717d1-341">The [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure defines a list-view item or subitem.</span></span> <span data-ttu-id="717d1-342">Il membro **iItem** è l'indice in base zero dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-342">The **iItem** member is the zero-based index of the item.</span></span> <span data-ttu-id="717d1-343">Il membro **iSubItem** è l'indice in base uno di un elemento secondario o zero se la struttura contiene informazioni su un elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-343">The **iSubItem** member is the one-based index of a subitem or zero if the structure contains information about an item.</span></span> <span data-ttu-id="717d1-344">I membri aggiuntivi specificano il testo, l'icona, lo stato e i dati dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-344">Additional members specify the item's text, icon, state, and item data.</span></span> <span data-ttu-id="717d1-345">*I dati dell'elemento* sono un valore definito dall'applicazione associato a un elemento della visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-345">*Item data* is an application-defined value associated with a list-view item.</span></span>

<span data-ttu-id="717d1-346">Per aggiungere un elemento a un controllo di visualizzazione elenco, usare il messaggio [**LVM \_ INSERTITEM**](lvm-insertitem.md) , specificando l'indirizzo di una struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="717d1-346">To add an item to a list-view control, use the [**LVM\_INSERTITEM**](lvm-insertitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="717d1-347">Prima di aggiungere più elementi, è possibile inviare al controllo un messaggio [**LVM \_ SETITEMCOUNT**](lvm-setitemcount.md) , specificando il numero di elementi che il controllo conterrà infine.</span><span class="sxs-lookup"><span data-stu-id="717d1-347">Before adding multiple items, you can send the control an [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, specifying the number of items the control will ultimately contain.</span></span> <span data-ttu-id="717d1-348">Questo messaggio consente al controllo di visualizzazione elenco di riallocare le strutture di dati interne solo una volta anziché ogni volta che si aggiunge un elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-348">This message enables the list-view control to reallocate its internal data structures only once rather than every time you add an item.</span></span> <span data-ttu-id="717d1-349">È possibile determinare il numero di elementi in un controllo visualizzazione elenco usando il messaggio [**LVM \_ GETITEMCOUNT**](lvm-getitemcount.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-349">You can determine the number of items in a list-view control by using the [**LVM\_GETITEMCOUNT**](lvm-getitemcount.md) message.</span></span> <span data-ttu-id="717d1-350">Se si aggiunge un numero elevato di elementi a un controllo visualizzazione elenco, è possibile velocizzare il processo disabilitando il ridisegno prima di aggiungere gli elementi, quindi abilitare il ridisegno dopo l'aggiunta degli elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-350">If you are adding a large number of items to a list-view control, you can speed up the process by disabling redrawing before adding the items, then enable redrawing after the items are added.</span></span> <span data-ttu-id="717d1-351">Usare il messaggio [**WM \_ SETREDRAW**](/windows/desktop/gdi/wm-setredraw) per abilitare e disabilitare il ridisegno.</span><span class="sxs-lookup"><span data-stu-id="717d1-351">Use the [**WM\_SETREDRAW**](/windows/desktop/gdi/wm-setredraw) message to enable and disable redrawing.</span></span>

<span data-ttu-id="717d1-352">Per modificare gli attributi di un elemento della visualizzazione elenco, usare il messaggio [**LVM \_ SetItem**](lvm-setitem.md) , specificando l'indirizzo di una struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="717d1-352">To change the attributes of a list-view item, use the [**LVM\_SETITEM**](lvm-setitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="717d1-353">Il membro **mask** della struttura specifica gli attributi dell'elemento che si desidera modificare.</span><span class="sxs-lookup"><span data-stu-id="717d1-353">The **mask** member of this structure specifies the item attributes you want to change.</span></span> <span data-ttu-id="717d1-354">Ad esempio, per modificare solo il testo di un elemento o di un elemento secondario, usare il messaggio [**LVM \_ SETITEMTEXT**](lvm-setitemtext.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-354">For example, to change only the text of an item or subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) message.</span></span>

<span data-ttu-id="717d1-355">Per recuperare informazioni su un elemento della visualizzazione elenco, usare il messaggio [**LVM \_ GetItem**](lvm-getitem.md) , specificando l'indirizzo della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) da compilare.</span><span class="sxs-lookup"><span data-stu-id="717d1-355">To retrieve information about a list-view item, use the [**LVM\_GETITEM**](lvm-getitem.md) message, specifying the address of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to fill in.</span></span> <span data-ttu-id="717d1-356">Il membro **mask** della struttura specifica gli attributi dell'elemento da recuperare.</span><span class="sxs-lookup"><span data-stu-id="717d1-356">The **mask** member of this structure specifies the item attributes to be retrieved.</span></span> <span data-ttu-id="717d1-357">Per recuperare solo il testo di un elemento o di un elemento secondario, usare il messaggio [**LVM \_ GETITEMTEXT**](lvm-getitemtext.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-357">To retrieve only an item or subitem's text, use the [**LVM\_GETITEMTEXT**](lvm-getitemtext.md) message.</span></span>

<span data-ttu-id="717d1-358">Per eliminare un elemento della visualizzazione elenco, usare il messaggio [**LVM \_ DeleteItem**](lvm-deleteitem.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-358">To delete a list-view item, use the [**LVM\_DELETEITEM**](lvm-deleteitem.md) message.</span></span> <span data-ttu-id="717d1-359">È possibile eliminare tutti gli elementi di un controllo di visualizzazione elenco usando il messaggio [**LVM \_ DELETEALLITEMS**](lvm-deleteallitems.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-359">You can delete all items in a list-view control by using the [**LVM\_DELETEALLITEMS**](lvm-deleteallitems.md) message.</span></span>

### <a name="list-view-item-states"></a><span data-ttu-id="717d1-360">Stati elemento List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-360">List-View Item States</span></span>

<span data-ttu-id="717d1-361">Lo stato di un elemento è un valore che specifica la disponibilità dell'elemento, indica le azioni dell'utente o in caso contrario riflette lo stato dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-361">An item's state is a value that specifies the item's availability, indicates user actions, or otherwise reflects the item's status.</span></span> <span data-ttu-id="717d1-362">Un controllo visualizzazione elenco modifica alcuni bit di stato, ad esempio quando l'utente seleziona un elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-362">A list-view control changes some state bits, such as when the user selects an item.</span></span> <span data-ttu-id="717d1-363">Un'applicazione potrebbe modificare altri bit di stato per disabilitare o nascondere l'elemento o per specificare un'immagine sovrapposta o un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="717d1-363">An application might change other state bits to disable or hide the item or to specify an overlay image or state image.</span></span> <span data-ttu-id="717d1-364">Per ulteriori informazioni sulle immagini sovrapposte e le immagini di stato, vedere elenchi di immagini di [visualizzazione elenco](#list-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="717d1-364">For more information about overlay images and state images, see [List-View Image Lists](#list-view-image-lists).</span></span>

<span data-ttu-id="717d1-365">Lo stato di un elemento è specificato dal membro di **stato** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="717d1-365">An item's state is specified by the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="717d1-366">Quando si specifica o si modifica lo stato di un elemento, il membro **stateMask** specifica quali bit di stato è necessario modificare.</span><span class="sxs-lookup"><span data-stu-id="717d1-366">When you specify or change an item's state, the **stateMask** member specifies which state bits you need to change.</span></span> <span data-ttu-id="717d1-367">È possibile modificare lo stato di un elemento usando il messaggio [**LVM \_ SETITEMSTATE**](lvm-setitemstate.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-367">You can change an item's state by using the [**LVM\_SETITEMSTATE**](lvm-setitemstate.md) message.</span></span> <span data-ttu-id="717d1-368">È possibile specificare lo stato di un elemento quando lo si crea o quando si modificano gli attributi usando [**il \_ messaggio LVM**](lvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-368">You can specify an item's state when you create it or when you change its attributes by using the [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="717d1-369">Per determinare lo stato corrente di un elemento, usare il messaggio [**LVM \_ GETITEMSTATE**](lvm-getitemstate.md) o [**LVM \_ GetItem**](lvm-getitem.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-369">To determine an item's current state, use the [**LVM\_GETITEMSTATE**](lvm-getitemstate.md) or [**LVM\_GETITEM**](lvm-getitem.md) message.</span></span>

<span data-ttu-id="717d1-370">Per impostare l'immagine sovrapposta di un elemento, il membro **stateMask** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) deve includere il valore [**\_ OVERLAYMASK di lvis**](list-view-item-states.md) e il membro **state** deve includere l'indice in base uno dell'immagine sovrapposta spostata a 8 bit a sinistra utilizzando la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="717d1-370">To set an item's overlay image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="717d1-371">L'indice può essere zero per specificare Nessuna immagine sovrapposta.</span><span class="sxs-lookup"><span data-stu-id="717d1-371">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="717d1-372">Per impostare l'immagine di stato di un elemento, il membro **stateMask** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) deve includere il valore [**\_ STATEIMAGEMASK di lvis**](list-view-item-states.md) e il membro di **stato** deve includere l'indice in base uno dell'immagine dello stato spostato a sinistra di 12 bit utilizzando la macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) .</span><span class="sxs-lookup"><span data-stu-id="717d1-372">To set an item's state image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_STATEIMAGEMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the state image shifted left 12 bits by using the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro.</span></span> <span data-ttu-id="717d1-373">L'indice può essere zero per specificare un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="717d1-373">The index can be zero to specify no state image.</span></span>

### <a name="callback-items-and-the-callback-mask"></a><span data-ttu-id="717d1-374">Elementi di callback e maschera di callback</span><span class="sxs-lookup"><span data-stu-id="717d1-374">Callback Items and the Callback Mask</span></span>

<span data-ttu-id="717d1-375">Per ogni elemento, un controllo visualizzazione elenco in genere archivia il testo dell'etichetta, l'indice dell'elenco di immagini delle icone dell'elemento e un set di flag di bit per lo stato dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-375">For each of its items, a list-view control typically stores the label text, the image list index of the item's icons, and a set of bit flags for the item's state.</span></span> <span data-ttu-id="717d1-376">È possibile definire elementi di callback o modificare la maschera di callback del controllo per indicare che l'applicazione, anziché il controllo, archivia alcune o tutte queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="717d1-376">You can define callback items or change the control's callback mask to indicate that the application, rather than the control, stores some or all of this information.</span></span> <span data-ttu-id="717d1-377">È possibile usare i callback se l'applicazione archivia alcune di queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="717d1-377">You might want to use callbacks if your application stores some of this information.</span></span>

<span data-ttu-id="717d1-378">Un *elemento di callback* in un controllo visualizzazione elenco è un elemento per il quale l'applicazione archivia il testo o l'indice dell'icona o entrambi.</span><span class="sxs-lookup"><span data-stu-id="717d1-378">A *callback item* in a list-view control is an item for which the application stores the text or icon index, or both.</span></span> <span data-ttu-id="717d1-379">È possibile definire gli elementi di callback quando si invia il messaggio [**\_ INSERTITEM INSERTITEM**](lvm-insertitem.md) per aggiungere un elemento al controllo List-View.</span><span class="sxs-lookup"><span data-stu-id="717d1-379">You can define callback items when you send the [**LVM\_INSERTITEM**](lvm-insertitem.md) message to add an item to the list-view control.</span></span> <span data-ttu-id="717d1-380">Se l'applicazione archivia il testo per l'elemento o l'elemento secondario, impostare il membro **pszText** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) dell'elemento su **LPSTR \_ TEXTCALLBACK**.</span><span class="sxs-lookup"><span data-stu-id="717d1-380">If the application stores the text for the item or subitem, set the **pszText** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to **LPSTR\_TEXTCALLBACK**.</span></span> <span data-ttu-id="717d1-381">Se l'applicazione archivia l'indice dell'icona per un elemento, impostare il membro **IImage** della struttura **LVITEM** dell'elemento su **\_ IMAGECALLBACK**.</span><span class="sxs-lookup"><span data-stu-id="717d1-381">If the application stores the icon index for an item, set the **iImage** member of the item's **LVITEM** structure to **I\_IMAGECALLBACK**.</span></span>

<span data-ttu-id="717d1-382">La *maschera di callback* di un controllo visualizzazione elenco è un set di flag di bit che specificano gli Stati degli elementi per i quali l'applicazione, anziché il controllo, archivia i dati correnti.</span><span class="sxs-lookup"><span data-stu-id="717d1-382">The *callback mask* of a list-view control is a set of bit flags that specify the item states for which the application, rather than the control, stores the current data.</span></span> <span data-ttu-id="717d1-383">La maschera di callback viene applicata a tutti gli elementi del controllo, a differenza della designazione dell'elemento di callback che si applica a un elemento specifico.</span><span class="sxs-lookup"><span data-stu-id="717d1-383">The callback mask applies to all of the control's items, unlike the callback item designation, which applies to a specific item.</span></span> <span data-ttu-id="717d1-384">Per impostazione predefinita, la maschera di callback è zero, il che significa che il controllo elenco-visualizzazione archivia tutte le informazioni sullo stato dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-384">The callback mask is zero by default, meaning that the list-view control stores all item state information.</span></span> <span data-ttu-id="717d1-385">Dopo aver creato un controllo visualizzazione elenco e aver inizializzato gli elementi, è possibile inviare il messaggio [**LVM \_ SETCALLBACKMASK**](lvm-setcallbackmask.md) per modificare la maschera di callback.</span><span class="sxs-lookup"><span data-stu-id="717d1-385">After creating a list-view control and initializing its items, you can send the [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message to change the callback mask.</span></span> <span data-ttu-id="717d1-386">Per recuperare la maschera di callback corrente, inviare il messaggio [**LVM \_ GETCALLBACKMASK**](lvm-getcallbackmask.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-386">To retrieve the current callback mask, send the [**LVM\_GETCALLBACKMASK**](lvm-getcallbackmask.md) message.</span></span>

<span data-ttu-id="717d1-387">Quando un controllo visualizzazione elenco deve visualizzare o ordinare un elemento della visualizzazione elenco per il quale l'applicazione archivia le informazioni di callback, il controllo Invia il codice di notifica [LVN \_ GETDISPINFO](lvn-getdispinfo.md) alla finestra padre del controllo.</span><span class="sxs-lookup"><span data-stu-id="717d1-387">When a list-view control must display or sort a list-view item for which the application stores callback information, the control sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to the control's parent window.</span></span> <span data-ttu-id="717d1-388">Questo messaggio specifica una struttura [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) che contiene il tipo di informazioni richieste e identifica l'elemento o l'elemento secondario da recuperare.</span><span class="sxs-lookup"><span data-stu-id="717d1-388">This message specifies an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure that contains the type of information required and identifies the item or subitem to retrieve.</span></span> <span data-ttu-id="717d1-389">La finestra padre deve elaborare LVN \_ GETDISPINFO per fornire i dati richiesti.</span><span class="sxs-lookup"><span data-stu-id="717d1-389">The parent window must process LVN\_GETDISPINFO to provide the requested data.</span></span>

<span data-ttu-id="717d1-390">Se il controllo elenco-visualizzazione rileva una modifica nelle informazioni di callback di un elemento, ad esempio una modifica delle informazioni sul testo, sull'icona o sullo stato, il controllo Invia un codice di notifica [LVN \_ SETDISPINFO](lvn-setdispinfo.md) per notificare la modifica.</span><span class="sxs-lookup"><span data-stu-id="717d1-390">If the list-view control detects a change in an item's callback information, such as a change in the text, icon, or state information, the control sends an [LVN\_SETDISPINFO](lvn-setdispinfo.md) notification code to notify you of the change.</span></span>

<span data-ttu-id="717d1-391">Se si modificano gli attributi o i bit di stato di un elemento di callback, si usa il messaggio di [**\_ aggiornamento LVM**](lvm-update.md) per forzare il controllo a ridisegnare l'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-391">If you change a callback item's attributes or state bits, you use the [**LVM\_UPDATE**](lvm-update.md) message to force the control to repaint the item.</span></span> <span data-ttu-id="717d1-392">Questo messaggio fa anche in modo che il controllo organizzi gli elementi se dispone dello stile di [**\_ disdisposizione LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-392">This message also causes the control to arrange its items if it has the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="717d1-393">È possibile usare il messaggio [**LVM \_ REDRAWITEMS**](lvm-redrawitems.md) per ricreare un intervallo di elementi invalidando le parti corrispondenti dell'area client del controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-393">You can use the [**LVM\_REDRAWITEMS**](lvm-redrawitems.md) message to redraw a range of items by invalidating the corresponding portions of the list-view control's client area.</span></span>

<span data-ttu-id="717d1-394">Utilizzando in modo efficace gli elementi di callback e la maschera di callback, è possibile assicurarsi che ogni attributo dell'elemento venga mantenuto in una sola posizione.</span><span class="sxs-lookup"><span data-stu-id="717d1-394">By effectively using callback items and the callback mask, you can ensure that each item attribute is maintained in only one place.</span></span> <span data-ttu-id="717d1-395">Questa operazione può semplificare l'applicazione, ma l'unico spazio salvato è la memoria che altrimenti sarebbe necessaria per archiviare le etichette degli elementi e il testo dell'elemento secondario.</span><span class="sxs-lookup"><span data-stu-id="717d1-395">Doing this can simplify your application, but the only space saved is the memory that would otherwise be required to store item labels and subitem text.</span></span>

### <a name="list-view-item-position"></a><span data-ttu-id="717d1-396">Posizione dell'elemento List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-396">List-View Item Position</span></span>

<span data-ttu-id="717d1-397">Ogni elemento della visualizzazione elenco ha una posizione e una dimensione che è possibile recuperare e impostare usando i messaggi.</span><span class="sxs-lookup"><span data-stu-id="717d1-397">Every list-view item has a position and size, which you can retrieve and set using messages.</span></span> <span data-ttu-id="717d1-398">È anche possibile determinare quale elemento, se presente, si trova in una posizione specificata.</span><span class="sxs-lookup"><span data-stu-id="717d1-398">You can also determine which item, if any, is at a specified position.</span></span> <span data-ttu-id="717d1-399">La posizione degli elementi della visualizzazione elenco è specificata nelle *coordinate della visualizzazione*, ovvero le coordinate client vengono sfalsate in base alla posizione di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="717d1-399">The position of list-view items is specified in *view coordinates*, which are client coordinates offset by the scroll position.</span></span>

<span data-ttu-id="717d1-400">Per recuperare e impostare la posizione di un elemento, usare i messaggi [**LVM \_ GETITEMPOSITION**](lvm-getitemposition.md) e [**LVM \_ SETITEMPOSITION**](lvm-setitemposition.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-400">To retrieve and set an item's position, use the [**LVM\_GETITEMPOSITION**](lvm-getitemposition.md) and [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) messages.</span></span> <span data-ttu-id="717d1-401">**LVM \_ GETITEMPOSITION** funziona per tutte le visualizzazioni, ma **LVM \_ SETITEMPOSITION** funziona solo per icone e icone piccole.</span><span class="sxs-lookup"><span data-stu-id="717d1-401">**LVM\_GETITEMPOSITION** works for all views, but **LVM\_SETITEMPOSITION** works only for icon and small icon views.</span></span>

<span data-ttu-id="717d1-402">È possibile determinare quale elemento, se presente, si trova in una determinata posizione usando il messaggio di [**LVM \_ HITTEST**](lvm-hittest.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-402">You can determine which item, if any, is at a particular location by using the [**LVM\_HITTEST**](lvm-hittest.md) message.</span></span>

<span data-ttu-id="717d1-403">Per recuperare il rettangolo di delimitazione per una voce di elenco o solo per la relativa icona o etichetta, usare il messaggio [**LVM \_ GETITEMRECT**](lvm-getitemrect.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-403">To retrieve the bounding rectangle for a list item or only for its icon or label, use the [**LVM\_GETITEMRECT**](lvm-getitemrect.md) message.</span></span>

### <a name="arranging-sorting-and-finding-items"></a><span data-ttu-id="717d1-404">Disposizione, ordinamento e ricerca di elementi</span><span class="sxs-lookup"><span data-stu-id="717d1-404">Arranging, Sorting, and Finding Items</span></span>

<span data-ttu-id="717d1-405">È possibile usare i messaggi di visualizzazione elenco per disporre e ordinare gli elementi e per trovare gli elementi in base ai relativi attributi o posizioni.</span><span class="sxs-lookup"><span data-stu-id="717d1-405">You can use list-view messages to arrange and sort items and to find items based on their attributes or positions.</span></span> <span data-ttu-id="717d1-406">Disposizione degli elementi di riposizionamento da allineare in una griglia, ma gli indici degli elementi non cambiano.</span><span class="sxs-lookup"><span data-stu-id="717d1-406">Arranging repositions items to align on a grid, but the indexes of the items do not change.</span></span> <span data-ttu-id="717d1-407">L'ordinamento modifica la sequenza di elementi (e gli indici corrispondenti), quindi li riposiziona di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="717d1-407">Sorting changes the sequence of items (and their corresponding indexes) and then repositions them accordingly.</span></span> <span data-ttu-id="717d1-408">È possibile disporre gli elementi solo nelle visualizzazioni icona e icone piccole, ma è possibile ordinare gli elementi in qualsiasi visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="717d1-408">You can arrange items only in icon and small icon views, but you can sort items in any view.</span></span> <span data-ttu-id="717d1-409">Per trovare gli elementi, è possibile inviare messaggi di visualizzazione elenco che specificano una proprietà o un percorso di elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-409">To find items, you send list-view messages that specify an item location or property.</span></span>

<span data-ttu-id="717d1-410">Per disporre gli elementi, usare il messaggio di [**\_ disposizione LVM**](lvm-arrange.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-410">To arrange items, use the [**LVM\_ARRANGE**](lvm-arrange.md) message.</span></span> <span data-ttu-id="717d1-411">È possibile verificare che gli elementi siano disposti sempre specificando lo stile della finestra [**LVS \_ AutoArrange**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-411">You can ensure that items are arranged at all times by specifying the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="717d1-412">Per ordinare gli elementi, usare il messaggio [**LVM \_ SORTITEMS**](lvm-sortitems.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-412">To sort items, use the [**LVM\_SORTITEMS**](lvm-sortitems.md) message.</span></span> <span data-ttu-id="717d1-413">Quando si esegue l'ordinamento usando questo messaggio, si specifica una funzione di callback definita dall'applicazione che il controllo di visualizzazione elenco chiama per confrontare l'ordine relativo di due elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-413">When you sort using this message, you specify an application-defined callback function that the list-view control calls to compare the relative order of any two items.</span></span> <span data-ttu-id="717d1-414">Il controllo passa alla funzione di confronto i dati dell'elemento associati a ognuno dei due elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-414">The control passes to the comparison function the item data associated with each of the two items.</span></span> <span data-ttu-id="717d1-415">I dati dell'elemento corrispondono al valore specificato nel membro **lParam** della struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) dell'elemento quando è stato inserito nell'elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-415">The item data is the value that was specified in the **lParam** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure when it was inserted into the list.</span></span> <span data-ttu-id="717d1-416">Specificando i dati dell'elemento appropriati e fornendo una funzione di confronto appropriata, è possibile ordinare gli elementi in base all'etichetta, a qualsiasi elemento secondario o a qualsiasi altra proprietà.</span><span class="sxs-lookup"><span data-stu-id="717d1-416">By specifying the appropriate item data and supplying an appropriate comparison function, you can sort items by their label, by any subitem, or by any other property.</span></span> <span data-ttu-id="717d1-417">Si noti che gli elementi di ordinamento non riordinano gli elementi secondari corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="717d1-417">Note that sorting items does not reorder the corresponding subitems.</span></span> <span data-ttu-id="717d1-418">Quando gli elementi vengono riordinati, gli elementi secondari corrispondenti vengono trasportati con loro. ovvero intere righe vengono mantenute insieme.</span><span class="sxs-lookup"><span data-stu-id="717d1-418">When items are reordered, their corresponding subitems are carried with them; that is, whole rows are kept together.</span></span> <span data-ttu-id="717d1-419">Per ordinare separatamente le colonne, scollegando gli elementi secondari dagli elementi, è necessario rigenerare le colonne dopo aver eseguito l'ordinamento utilizzando l' [**\_ elemento LVM**](lvm-setitem.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-419">To order the columns separately from one another, detaching the subitems from their items, you must regenerate the columns after sorting using [**LVM\_SETITEM**](lvm-setitem.md).</span></span>

<span data-ttu-id="717d1-420">È possibile assicurarsi che un controllo visualizzazione elenco venga sempre ordinato specificando lo stile della finestra [**LVS \_ SORTASCENDING**](list-view-window-styles.md) o [**LVS \_ SORTDESCENDING**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-420">You can ensure that a list-view control is always sorted by specifying the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) window style.</span></span> <span data-ttu-id="717d1-421">I controlli con questi stili utilizzano il testo dell'etichetta degli elementi per ordinarli in ordine crescente o decrescente.</span><span class="sxs-lookup"><span data-stu-id="717d1-421">Controls with these styles use the label text of the items to sort them in ascending or descending order.</span></span> <span data-ttu-id="717d1-422">Non è possibile fornire una funzione di confronto quando si usano questi stili di finestra.</span><span class="sxs-lookup"><span data-stu-id="717d1-422">You cannot supply a comparison function when using these window styles.</span></span> <span data-ttu-id="717d1-423">Se un controllo visualizzazione elenco ha uno di questi stili, un messaggio [**\_ INSERTITEM INSERTITEM**](lvm-insertitem.md) non riuscirà se si tenta di inserire un elemento con **LPSTR \_ TEXTCALLBACK** come membro **pszText** della relativa struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="717d1-423">If a list-view control has either of these styles, an [**LVM\_INSERTITEM**](lvm-insertitem.md) message will fail if you try to insert an item that has **LPSTR\_TEXTCALLBACK** as the **pszText** member of its [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span>

<span data-ttu-id="717d1-424">È possibile trovare un elemento della visualizzazione elenco con proprietà specifiche usando il messaggio [**LVM \_ FINDITEM**](lvm-finditem.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-424">You can find a list-view item with specific properties by using the [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="717d1-425">È possibile trovare un elemento della visualizzazione elenco che si trova in uno stato specificato e ha una relazione specificata con un determinato elemento usando il messaggio [**LVM \_ GETNEXTITEM**](lvm-getnextitem.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-425">You can find a list-view item that is in a specified state and has a specified relationship to a given item by using the [**LVM\_GETNEXTITEM**](lvm-getnextitem.md) message.</span></span> <span data-ttu-id="717d1-426">Ad esempio, è possibile recuperare il successivo elemento selezionato a destra di un elemento specificato.</span><span class="sxs-lookup"><span data-stu-id="717d1-426">For example, you can retrieve the next selected item to the right of a specified item.</span></span>

## <a name="list-view-columns"></a><span data-ttu-id="717d1-427">Colonne List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-427">List-View Columns</span></span>

<span data-ttu-id="717d1-428">Le colonne controllano il modo in cui gli elementi e i relativi elementi secondari vengono visualizzati in visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="717d1-428">Columns control the way items and their subitems are displayed in report view.</span></span> <span data-ttu-id="717d1-429">Ogni colonna ha un titolo e una larghezza ed è associata a un elemento secondario specifico; l'elemento secondario zero è l'icona e l'etichetta dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-429">Each column has a title and width and is associated with a specific subitem; subitem zero is the item's icon and label.</span></span> <span data-ttu-id="717d1-430">Gli attributi di una colonna sono definiti da una struttura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="717d1-430">The attributes of a column are defined by an [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="717d1-431">Per aggiungere una colonna a un controllo visualizzazione elenco, usare il messaggio [**LVM \_ INSERTCOLUMN**](lvm-insertcolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-431">To add a column to a list-view control, use the [**LVM\_INSERTCOLUMN**](lvm-insertcolumn.md) message.</span></span> <span data-ttu-id="717d1-432">Per eliminare una colonna, usare il messaggio [**LVM \_ DELETECOLUMN**](lvm-deletecolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-432">To delete a column, use the [**LVM\_DELETECOLUMN**](lvm-deletecolumn.md) message.</span></span>

> [!Note]  
> <span data-ttu-id="717d1-433">L'eliminazione della colonna zero di un controllo visualizzazione elenco è supportata solo in ComCtl32.dll versione 6 e successive.</span><span class="sxs-lookup"><span data-stu-id="717d1-433">Deleting column zero of a list-view control is supported only in ComCtl32.dll version 6 and later.</span></span> <span data-ttu-id="717d1-434">La versione 5 supporta anche l'eliminazione della colonna zero, ma solo dopo l'uso di [**CCM \_ Subversion**](ccm-setversion.md) per impostare la versione su 5 o versioni successive.</span><span class="sxs-lookup"><span data-stu-id="717d1-434">Version 5 also supports deleting column zero, but only after you use [**CCM\_SETVERSION**](ccm-setversion.md) to set the version to 5 or later.</span></span> <span data-ttu-id="717d1-435">Le versioni precedenti alla 5 non supportano l'eliminazione della colonna zero.</span><span class="sxs-lookup"><span data-stu-id="717d1-435">Versions prior to version 5 do not support deleting column zero.</span></span>

 

<span data-ttu-id="717d1-436">È possibile recuperare e modificare le proprietà di una colonna esistente usando i messaggi [**LVM \_ GetColumn**](lvm-getcolumn.md) e [**LVM \_ secolumn**](lvm-setcolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-436">You can retrieve and change the properties of an existing column by using the [**LVM\_GETCOLUMN**](lvm-getcolumn.md) and [**LVM\_SETCOLUMN**](lvm-setcolumn.md) messages.</span></span> <span data-ttu-id="717d1-437">Per recuperare o modificare la larghezza di una colonna, usare i messaggi [**LVM \_ GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) e [**LVM \_ SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-437">To retrieve or change a column's width, use the [**LVM\_GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) and [**LVM\_SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) messages.</span></span>

<span data-ttu-id="717d1-438">A meno che non venga specificato lo stile della finestra [**\_ nocolumnheader LVS**](list-view-window-styles.md) , le intestazioni di colonna vengono visualizzate in visualizzazione report.</span><span class="sxs-lookup"><span data-stu-id="717d1-438">Unless the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style is specified, column headers appear in report view.</span></span> <span data-ttu-id="717d1-439">L'utente può fare clic su un'intestazione di colonna, causando l'invio di un codice di notifica [**LVN \_ COLUMNCLICK**](lvn-columnclick.md) alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="717d1-439">The user can click a column header, causing an [**LVN\_COLUMNCLICK**](lvn-columnclick.md) notification code to be sent to the parent window.</span></span> <span data-ttu-id="717d1-440">In genere, la finestra padre Ordina il controllo di visualizzazione elenco in base alla colonna specificata quando si verifica questo clic.</span><span class="sxs-lookup"><span data-stu-id="717d1-440">Typically, the parent window sorts the list-view control by the specified column when this clicking occurs.</span></span> <span data-ttu-id="717d1-441">L'utente può inoltre trascinare le guide delle colonne tra le intestazioni per ridimensionarle.</span><span class="sxs-lookup"><span data-stu-id="717d1-441">The user can also drag the column guides between the headers to size the columns.</span></span>

<span data-ttu-id="717d1-442">I controlli elenco-visualizzazione possono visualizzare immagini accanto ai titoli delle colonne.</span><span class="sxs-lookup"><span data-stu-id="717d1-442">List-view controls can display images next to column titles.</span></span> <span data-ttu-id="717d1-443">Per implementare questa funzionalità, specificare il valore dell' **\_ immagine LVCF** e assegnare l'indice dell'immagine al membro **IImage** nella struttura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="717d1-443">To implement this feature, specify the **LVCF\_IMAGE** value and assign the index of the image to the **iImage** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="717d1-444">I controlli elenco-visualizzazione possono impostare l'ordine in cui vengono visualizzate le colonne.</span><span class="sxs-lookup"><span data-stu-id="717d1-444">List-view controls can set the order in which columns are displayed.</span></span> <span data-ttu-id="717d1-445">Per implementare questa funzionalità, specificare il valore dell' **\_ ordine LVCF** e assegnare l'ordine delle colonne al membro **iOrder** nella struttura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="717d1-445">To implement this feature, specify the **LVCF\_ORDER** value and assign the column order to the **iOrder** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span> <span data-ttu-id="717d1-446">L'ordine delle colonne è in base zero ed è in ordine da sinistra a destra.</span><span class="sxs-lookup"><span data-stu-id="717d1-446">The column order is zero-based and is in left-to-right order.</span></span> <span data-ttu-id="717d1-447">Ad esempio, zero indica la colonna più a sinistra.</span><span class="sxs-lookup"><span data-stu-id="717d1-447">For example, zero indicates the leftmost column.</span></span>

## <a name="list-view-scroll-position"></a><span data-ttu-id="717d1-448">Posizione di scorrimento List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-448">List-View Scroll Position</span></span>

<span data-ttu-id="717d1-449">A meno che non sia specificato lo stile della finestra [**\_ NoScroll LVS**](list-view-window-styles.md) , è possibile scorrere un controllo elenco-visualizzazione per visualizzare più elementi rispetto a quelli che possono essere inseriti nell'area client del controllo.</span><span class="sxs-lookup"><span data-stu-id="717d1-449">Unless the [**LVS\_NOSCROLL**](list-view-window-styles.md) window style is specified, a list-view control can be scrolled to show more items than can fit in the client area of the control.</span></span> <span data-ttu-id="717d1-450">È possibile recuperare la posizione di scorrimento di un controllo di visualizzazione elenco e le informazioni correlate, scorrere un controllo visualizzazione elenco in base a una quantità specificata o scorrere un controllo elenco-visualizzazione in modo che un elemento elenco specificato sia visibile.</span><span class="sxs-lookup"><span data-stu-id="717d1-450">You can retrieve a list-view control's scroll position and related information, scroll a list-view control by a specified amount, or scroll a list-view control so that a specified list item is visible.</span></span>

<span data-ttu-id="717d1-451">Nella visualizzazione icone o nella visualizzazione icone piccole, la posizione di scorrimento corrente è definita dall' *origine della visualizzazione*.</span><span class="sxs-lookup"><span data-stu-id="717d1-451">In icon view or small icon view, the current scroll position is defined by the *view origin*.</span></span> <span data-ttu-id="717d1-452">L'origine della vista è il set di coordinate, relativo all'area visibile del controllo di visualizzazione elenco, che corrisponde alle coordinate della vista (0,0).</span><span class="sxs-lookup"><span data-stu-id="717d1-452">The view origin is the set of coordinates, relative to the visible area of the list-view control, that correspond to the view coordinates (0, 0).</span></span> <span data-ttu-id="717d1-453">Per recuperare l'origine della visualizzazione corrente, usare il messaggio [**LVM \_ getOrigin**](lvm-getorigin.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-453">To retrieve the current view origin, use the [**LVM\_GETORIGIN**](lvm-getorigin.md) message.</span></span> <span data-ttu-id="717d1-454">Questo messaggio deve essere usato solo nell'icona o nella visualizzazione icona piccola; viene restituito un errore nella visualizzazione elenco o report.</span><span class="sxs-lookup"><span data-stu-id="717d1-454">This message should be used only in icon or small icon view; it returns an error in list or report view.</span></span>

<span data-ttu-id="717d1-455">Nella visualizzazione elenco o report la posizione di scorrimento corrente è definita dall' *indice superiore*.</span><span class="sxs-lookup"><span data-stu-id="717d1-455">In list or report view, the current scroll position is defined by the *top index*.</span></span> <span data-ttu-id="717d1-456">L'indice superiore è l'indice del primo elemento visibile nel controllo di visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-456">The top index is the index of the first visible item in the list-view control.</span></span> <span data-ttu-id="717d1-457">Per recuperare l'indice principale corrente, usare il messaggio [**LVM \_ GETTOPINDEX**](lvm-gettopindex.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-457">To retrieve the current top index, use the [**LVM\_GETTOPINDEX**](lvm-gettopindex.md) message.</span></span> <span data-ttu-id="717d1-458">Questo messaggio restituisce un risultato valido solo nella visualizzazione elenco o report; restituisce zero nell'icona o nella visualizzazione icona piccola.</span><span class="sxs-lookup"><span data-stu-id="717d1-458">This message returns a valid result only in list or report view; it returns zero in icon or small icon view.</span></span>

<span data-ttu-id="717d1-459">È possibile usare il messaggio [**LVM \_ GETVIEWRECT**](lvm-getviewrect.md) per recuperare il rettangolo di delimitazione di tutti gli elementi in un controllo visualizzazione elenco, rispetto all'area visibile del controllo.</span><span class="sxs-lookup"><span data-stu-id="717d1-459">You can use the [**LVM\_GETVIEWRECT**](lvm-getviewrect.md) message to retrieve the bounding rectangle of all items in a list-view control, relative to the visible area of the control.</span></span>

<span data-ttu-id="717d1-460">Il [**messaggio \_ GETCOUNTPERPAGE di LVM**](lvm-getcountperpage.md) restituisce il numero di elementi che rientrano in una pagina del controllo di visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-460">The [**LVM\_GETCOUNTPERPAGE**](lvm-getcountperpage.md) message returns the number of items that fit in one page of the list-view control.</span></span> <span data-ttu-id="717d1-461">Questo messaggio restituisce un risultato valido solo nelle visualizzazioni elenco e report; nelle visualizzazioni icona e icone piccole restituisce il numero totale di elementi.</span><span class="sxs-lookup"><span data-stu-id="717d1-461">This message returns a valid result only in list and report views; in icon and small icon views, it returns the total number of items.</span></span>

<span data-ttu-id="717d1-462">Per scorrere un controllo di visualizzazione elenco in base a un importo specifico, usare il messaggio di [**\_ scorrimento LVM**](lvm-scroll.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-462">To scroll a list-view control by a specific amount, use the [**LVM\_SCROLL**](lvm-scroll.md) message.</span></span> <span data-ttu-id="717d1-463">Usando il messaggio [**LVM \_ ENSUREVISIBLE**](lvm-ensurevisible.md) , è possibile scorrere il controllo visualizzazione elenco, se necessario, per assicurarsi che un elemento specificato sia visibile.</span><span class="sxs-lookup"><span data-stu-id="717d1-463">Using the [**LVM\_ENSUREVISIBLE**](lvm-ensurevisible.md) message, you can scroll the list-view control, if necessary, to ensure that a specified item is visible.</span></span>

## <a name="list-view-label-editing"></a><span data-ttu-id="717d1-464">Modifica dell'etichetta List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-464">List-View Label Editing</span></span>

<span data-ttu-id="717d1-465">Un controllo di visualizzazione elenco con lo stile della finestra [**\_ EDITLABELS LVS**](list-view-window-styles.md) consente all'utente di modificare le etichette degli elementi sul posto.</span><span class="sxs-lookup"><span data-stu-id="717d1-465">A list-view control that has the [**LVS\_EDITLABELS**](list-view-window-styles.md) window style enables a user to edit item labels in place.</span></span> <span data-ttu-id="717d1-466">L'utente inizia la modifica facendo clic sull'etichetta di un elemento con lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="717d1-466">The user begins editing by clicking the label of an item that has the focus.</span></span> <span data-ttu-id="717d1-467">In alternativa, un'applicazione può iniziare a modificare automaticamente usando il messaggio [**LVM \_ EDITLABEL**](lvm-editlabel.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-467">Alternatively, an application can begin editing automatically by using the [**LVM\_EDITLABEL**](lvm-editlabel.md) message.</span></span> <span data-ttu-id="717d1-468">Il controllo elenco-visualizzazione notifica alla finestra padre quando ha inizio la modifica e quando viene annullata o completata.</span><span class="sxs-lookup"><span data-stu-id="717d1-468">The list-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="717d1-469">Al termine della modifica, la finestra padre è responsabile dell'aggiornamento dell'etichetta dell'elemento, se appropriato.</span><span class="sxs-lookup"><span data-stu-id="717d1-469">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="717d1-470">Quando viene avviata la modifica dell'etichetta, viene creato, posizionato e inizializzato un [controllo di modifica](edit-controls.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-470">When label editing begins, an [edit control](edit-controls.md) is created, positioned, and initialized.</span></span> <span data-ttu-id="717d1-471">Prima che venga visualizzato, il controllo elenco-visualizzazione Invia la finestra padre di un codice di notifica [ \_ BEGINLABELEDIT LVN](lvn-beginlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-471">Before it is displayed, the list-view control sends its parent window an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification code.</span></span> <span data-ttu-id="717d1-472">Se è necessario modificare il processo di modifica delle etichette, è possibile implementare un gestore per la notifica.</span><span class="sxs-lookup"><span data-stu-id="717d1-472">If you need to modify the label editing process, you can implement a handler for this notification.</span></span>

<span data-ttu-id="717d1-473">Un gestore di notifiche [ \_ BEGINLABELEDIT LVN](lvn-beginlabeledit.md) consente di controllare le etichette che possono essere modificate dall'utente.</span><span class="sxs-lookup"><span data-stu-id="717d1-473">One use for an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification handler is to control which labels the user can edit.</span></span> <span data-ttu-id="717d1-474">Per evitare la modifica dell'etichetta, restituire un valore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="717d1-474">To prevent label editing, return a nonzero value.</span></span> <span data-ttu-id="717d1-475">Per personalizzare la modifica delle etichette, fare in modo che il gestore di notifiche recuperi un handle per il controllo di modifica inviando un messaggio [**\_ GETEDITCONTROL LVM**](lvm-geteditcontrol.md) al controllo List-View.</span><span class="sxs-lookup"><span data-stu-id="717d1-475">To customize label editing, have the notification handler retrieve a handle to the edit control by sending an [**LVM\_GETEDITCONTROL**](lvm-geteditcontrol.md) message to the list-view control.</span></span> <span data-ttu-id="717d1-476">Una volta ottenuto tale handle, è possibile personalizzare il controllo di modifica inviando i normali \_ messaggi em xxx.</span><span class="sxs-lookup"><span data-stu-id="717d1-476">Once you have that handle, you can customize the edit control by sending the usual EM\_XXX messages.</span></span> <span data-ttu-id="717d1-477">Ad esempio, per limitare la quantità di testo che un utente può immettere, inviare il controllo di modifica un messaggio [**\_ LIMITTEXT em**](em-limittext.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-477">For instance, to limit the amount of text a user can enter, send the edit control an [**EM\_LIMITTEXT**](em-limittext.md) message.</span></span> <span data-ttu-id="717d1-478">È possibile modificare il testo predefinito del controllo di modifica con [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span><span class="sxs-lookup"><span data-stu-id="717d1-478">You can change the edit control's default text with [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span></span> <span data-ttu-id="717d1-479">È anche possibile sottoclassare il controllo Edit per intercettare e rimuovere i caratteri non validi.</span><span class="sxs-lookup"><span data-stu-id="717d1-479">You can even subclass the edit control to intercept and discard invalid characters.</span></span>

<span data-ttu-id="717d1-480">Quando la modifica delle etichette viene annullata o completata, un controllo elenco-visualizzazione Invia la finestra padre a un codice di notifica [ \_ ENDLABELEDIT LVN](lvn-endlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-480">When label editing is canceled or completed, a list-view control sends its parent window an [LVN\_ENDLABELEDIT](lvn-endlabeledit.md) notification code.</span></span> <span data-ttu-id="717d1-481">Il parametro *lParam* è l'indirizzo di una struttura [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) .</span><span class="sxs-lookup"><span data-stu-id="717d1-481">The *lParam* parameter is the address of an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure.</span></span> <span data-ttu-id="717d1-482">Il membro dell' **elemento** di questa struttura è una struttura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) il cui membro **iItem** identifica l'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-482">The **item** member of this structure is an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure whose **iItem** member identifies the item.</span></span> <span data-ttu-id="717d1-483">Se la modifica viene annullata, il membro **pszText** della struttura **LVITEM** è **null**. in caso contrario, **pszText** è l'indirizzo del testo modificato.</span><span class="sxs-lookup"><span data-stu-id="717d1-483">If editing is canceled, the **pszText** member of the **LVITEM** structure is **NULL**; otherwise, **pszText** is the address of the edited text.</span></span> <span data-ttu-id="717d1-484">La finestra padre è responsabile dell'aggiornamento dell'etichetta dell'elemento se desidera che la nuova etichetta venga mantenuta.</span><span class="sxs-lookup"><span data-stu-id="717d1-484">The parent window is responsible for updating the item's label if it wants to keep the new label.</span></span>

## <a name="list-view-colors"></a><span data-ttu-id="717d1-485">Colori List-View</span><span class="sxs-lookup"><span data-stu-id="717d1-485">List-View Colors</span></span>

<span data-ttu-id="717d1-486">Un'applicazione può recuperare e impostare tre colori per un controllo visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-486">An application can retrieve and set three colors for a list-view control.</span></span>



| <span data-ttu-id="717d1-487">Colore</span><span class="sxs-lookup"><span data-stu-id="717d1-487">Color</span></span>                   | <span data-ttu-id="717d1-488">Messaggi utilizzati per recuperare e impostare i colori</span><span class="sxs-lookup"><span data-stu-id="717d1-488">Messages used to retrieve and set colors</span></span>                                                             |
|-------------------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="717d1-489">Colore del testo</span><span class="sxs-lookup"><span data-stu-id="717d1-489">Text color</span></span>              | <span data-ttu-id="717d1-490">[**LVM \_ GETTEXTCOLOR**](lvm-gettextcolor.md), [ **LVM \_ SETTEXTCOLOR**](lvm-settextcolor.md)</span><span class="sxs-lookup"><span data-stu-id="717d1-490">[**LVM\_GETTEXTCOLOR**](lvm-gettextcolor.md), [**LVM\_SETTEXTCOLOR**](lvm-settextcolor.md)</span></span>         |
| <span data-ttu-id="717d1-491">Colore di sfondo del testo</span><span class="sxs-lookup"><span data-stu-id="717d1-491">Text background color</span></span>   | <span data-ttu-id="717d1-492">[**LVM \_ GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [ **LVM \_ SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="717d1-492">[**LVM\_GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [**LVM\_SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span></span> |
| <span data-ttu-id="717d1-493">Colore di sfondo della finestra</span><span class="sxs-lookup"><span data-stu-id="717d1-493">Window background color</span></span> | <span data-ttu-id="717d1-494">[**LVM \_ GETBKCOLOR**](lvm-getbkcolor.md), [ **LVM \_ SETBKCOLOR**](lvm-setbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="717d1-494">[**LVM\_GETBKCOLOR**](lvm-getbkcolor.md), [**LVM\_SETBKCOLOR**](lvm-setbkcolor.md)</span></span>                 |



 

<span data-ttu-id="717d1-495">Per personalizzare l'aspetto di un controllo di visualizzazione elenco in modo più significativo, usare [nm \_ CUSTOMDRAW (visualizzazione elenco)](nm-customdraw-list-view.md) o usare gli stili di visualizzazione (vedere [stili visivi](themes-overview.md) e [Abilitazione degli stili di visualizzazione](cookbook-overview.md)).</span><span class="sxs-lookup"><span data-stu-id="717d1-495">To customize the appearance of a list-view control more significantly, use [NM\_CUSTOMDRAW (list view)](nm-customdraw-list-view.md) or use visual styles (see [Visual Styles](themes-overview.md) and [Enabling Visual Styles](cookbook-overview.md)).</span></span>

## <a name="arranging-list-items-by-group"></a><span data-ttu-id="717d1-496">Disposizione degli elementi dell'elenco per gruppo</span><span class="sxs-lookup"><span data-stu-id="717d1-496">Arranging List Items by Group</span></span>

<span data-ttu-id="717d1-497">Le funzionalità di raggruppamento del controllo visualizzazione elenco consentono di raggruppare visivamente i set di elementi correlati logicamente.</span><span class="sxs-lookup"><span data-stu-id="717d1-497">The grouping features of the list-view control enable you to visually group logically related sets of items.</span></span> <span data-ttu-id="717d1-498">I gruppi possono essere creati in base alle proprietà degli elementi, agli attributi o ad altre caratteristiche.</span><span class="sxs-lookup"><span data-stu-id="717d1-498">Groups can be created based on item properties, attributes, or other characteristics.</span></span> <span data-ttu-id="717d1-499">Questi gruppi vengono in genere separati sullo schermo da un'intestazione orizzontale che contiene il nome del gruppo.</span><span class="sxs-lookup"><span data-stu-id="717d1-499">These groups are typically separated on the screen by a horizontal header that contains the name of the group.</span></span> <span data-ttu-id="717d1-500">Lo screenshot seguente Mostra gli elementi raggruppati.</span><span class="sxs-lookup"><span data-stu-id="717d1-500">The following screen shot shows grouped items.</span></span>

![Screenshot di un controllo visualizzazione elenco, con cani in un gruppo e gatti in un altro gruppo](images/lv-groups.png)

<span data-ttu-id="717d1-502">Utilizzare la struttura [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) per archiviare le informazioni su un gruppo, ad esempio il testo dell'intestazione e del piè di pagina, lo stato corrente del gruppo e così via.</span><span class="sxs-lookup"><span data-stu-id="717d1-502">You use the [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) structure to store information about a group, such as the header and footer text, the current state of the group, and so on.</span></span> <span data-ttu-id="717d1-503">L'API di raggruppamento include messaggi che consentono di gestire gruppi ed elementi di gruppo aggiungendo elementi ai gruppi, aggiungendo gruppi alle visualizzazioni, ordinando gli elementi del gruppo ed eseguendo query sui gruppi per le dimensioni degli elementi e altre informazioni.</span><span class="sxs-lookup"><span data-stu-id="717d1-503">The grouping API includes messages that enable you to manage groups and group elements by adding items to groups, adding groups to views, sorting group items, and querying groups for item size and other information.</span></span> <span data-ttu-id="717d1-504">Ad esempio, è possibile impostare e recuperare i parametri di visualizzazione per ogni gruppo usando le macro [**ListView \_ SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) e [**ListView \_ GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) .</span><span class="sxs-lookup"><span data-stu-id="717d1-504">For example, you can set and retrieve display parameters for each group by using the [**ListView\_SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) and [**ListView\_GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) macros.</span></span>

<span data-ttu-id="717d1-505">Il raggruppamento è disponibile in tutte le visualizzazioni ad eccezione della visualizzazione elenco.</span><span class="sxs-lookup"><span data-stu-id="717d1-505">Grouping is available in all views except list view.</span></span> <span data-ttu-id="717d1-506">Non è disponibile nei controlli con lo stile [**\_ OWNERDATA di LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="717d1-506">It is not available on controls that have the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="717d1-507">Per ulteriori informazioni, vedere [utilizzo dei controlli List-View](using-list-view-controls.md).</span><span class="sxs-lookup"><span data-stu-id="717d1-507">For more information, see [Using List-View Controls](using-list-view-controls.md).</span></span>

## <a name="insertion-marks"></a><span data-ttu-id="717d1-508">Segni di inserimento</span><span class="sxs-lookup"><span data-stu-id="717d1-508">Insertion Marks</span></span>

<span data-ttu-id="717d1-509">I contrassegni di inserimento mostrano gli utenti in cui verranno inseriti gli elementi trascinati.</span><span class="sxs-lookup"><span data-stu-id="717d1-509">Insertion marks show users where dragged items will be placed.</span></span> <span data-ttu-id="717d1-510">Segni di inserimento attualmente visualizzati quando l'utente trascina un elemento nel menu **Start** o nella barra avvio veloce.</span><span class="sxs-lookup"><span data-stu-id="717d1-510">Insertion marks currently display when the user drags an item into the **Start** menu or Quick Launch bar.</span></span> <span data-ttu-id="717d1-511">Il segno di inserimento funziona anche per gli elenchi impostati per la disposizione.</span><span class="sxs-lookup"><span data-stu-id="717d1-511">The insertion mark also works for lists that are set to autoarrange.</span></span> <span data-ttu-id="717d1-512">Quando un utente trascina un elemento in un punto intermedio tra due elementi, il segno di inserimento indica la nuova posizione prevista dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="717d1-512">When a user drags an item to a point between two other items, the insertion mark shows the item's expected new location.</span></span> <span data-ttu-id="717d1-513">Lo screenshot seguente mostra un segno di inserimento.</span><span class="sxs-lookup"><span data-stu-id="717d1-513">The following screen shot shows an insertion mark.</span></span>

![screenshot che mostra un segno di inserimento durante il trascinamento di un file tra altri due in un controllo visualizzazione elenco](images/insertmark.png)

<span data-ttu-id="717d1-515">Gli elementi dell'API del contrassegno di inserimento consentono di posizionare i segni di inserimento fornendo messaggi e flag che eseguono il rilevamento dei passaggi, che specificano la posizione e l'aspetto del contrassegno di inserimento per elemento e la query per ottenere informazioni sulle dimensioni e sull'aspetto correnti del segno di inserimento.</span><span class="sxs-lookup"><span data-stu-id="717d1-515">The insertion mark API elements enable placement of insertion marks by providing messages and flags that perform hit detection, that specify the location and appearance of the insertion mark by item, and that query for information about the current size and appearance of the insertion mark.</span></span>

## <a name="see-also"></a><span data-ttu-id="717d1-516">Vedi anche</span><span class="sxs-lookup"><span data-stu-id="717d1-516">See also</span></span>

* [<span data-ttu-id="717d1-517">Esempio di controllo ListView virtuale</span><span class="sxs-lookup"><span data-stu-id="717d1-517">Virtual listview control sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw)
