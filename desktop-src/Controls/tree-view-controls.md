---
title: Informazioni sui controlli Tree-View
description: Un controllo di visualizzazione albero è una finestra che visualizza un elenco gerarchico di elementi, ad esempio le intestazioni in un documento, le voci in un indice o i file e le directory su un disco.
ms.assetid: 10cc7949-dd77-412d-bad1-db8d8a049582
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df70a2d3c2f841b022930a07ee2f140ee5bfc8e3
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "103963515"
---
# <a name="about-tree-view-controls"></a><span data-ttu-id="b6ecf-103">Informazioni sui controlli Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-103">About Tree-View Controls</span></span>

<span data-ttu-id="b6ecf-104">Un controllo di visualizzazione albero è una finestra che visualizza un elenco gerarchico di elementi, ad esempio le intestazioni in un documento, le voci in un indice o i file e le directory su un disco.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-104">A tree-view control is a window that displays a hierarchical list of items, such as the headings in a document, the entries in an index, or the files and directories on a disk.</span></span> <span data-ttu-id="b6ecf-105">Ogni elemento è costituito da un'etichetta e da un'immagine bitmap facoltativa e a ogni elemento può essere associato un elenco di elementi secondari.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-105">Each item consists of a label and an optional bitmapped image, and each item can have a list of subitems associated with it.</span></span> <span data-ttu-id="b6ecf-106">Facendo clic su un elemento, l'utente può espandere o comprimere l'elenco associato di elementi secondari.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-106">By clicking an item, the user can expand or collapse the associated list of subitems.</span></span>

<span data-ttu-id="b6ecf-107">Nella figura seguente viene illustrato un semplice controllo di visualizzazione albero con un nodo radice, un nodo espanso e un nodo compresso.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-107">The following illustration shows a simple tree-view control with a root node, an expanded node, and a collapsed node.</span></span> <span data-ttu-id="b6ecf-108">Il controllo utilizza una bitmap per l'elemento selezionato e un'altra bitmap per altri elementi.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-108">The control uses one bitmap for the selected item and another bitmap for other items.</span></span>

![screenshot che mostra cinque nodi in una gerarchia. il testo di un nodo è selezionato, ma i nodi non sono collegati tra loro da linee](images/tv-simple.png)

<span data-ttu-id="b6ecf-110">Dopo la creazione di un controllo di visualizzazione albero, è possibile aggiungere, rimuovere, disporre o modificare in altro modo gli elementi inviando messaggi al controllo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-110">After creating a tree-view control, you add, remove, arrange, or otherwise manipulate items by sending messages to the control.</span></span> <span data-ttu-id="b6ecf-111">Ogni messaggio ha una o più macro corrispondenti che è possibile usare anziché inviare il messaggio in modo esplicito.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-111">Each message has one or more corresponding macros that you can use instead of sending the message explicitly.</span></span>

<span data-ttu-id="b6ecf-112">In questa sezione vengono descritti gli argomenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-112">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="b6ecf-113">Stili di visualizzazione albero</span><span class="sxs-lookup"><span data-stu-id="b6ecf-113">Tree-View Styles</span></span>](#tree-view-styles)
-   [<span data-ttu-id="b6ecf-114">Elementi padre e figlio</span><span class="sxs-lookup"><span data-stu-id="b6ecf-114">Parent and Child Items</span></span>](#parent-and-child-items)
-   [<span data-ttu-id="b6ecf-115">Etichette elementi</span><span class="sxs-lookup"><span data-stu-id="b6ecf-115">Item Labels</span></span>](#item-labels)
-   [<span data-ttu-id="b6ecf-116">Modifica dell'etichetta della visualizzazione albero</span><span class="sxs-lookup"><span data-stu-id="b6ecf-116">Tree-View Label Editing</span></span>](#tree-view-label-editing)
-   [<span data-ttu-id="b6ecf-117">Posizione elemento visualizzazione albero</span><span class="sxs-lookup"><span data-stu-id="b6ecf-117">Tree-View Item Position</span></span>](#tree-view-item-position)
-   [<span data-ttu-id="b6ecf-118">Panoramica degli Stati degli elementi della visualizzazione albero</span><span class="sxs-lookup"><span data-stu-id="b6ecf-118">Tree-View Item States Overview</span></span>](#tree-view-item-states-overview)
-   [<span data-ttu-id="b6ecf-119">Selezione elemento</span><span class="sxs-lookup"><span data-stu-id="b6ecf-119">Item Selection</span></span>](#item-selection)
-   [<span data-ttu-id="b6ecf-120">Informazioni sugli elementi</span><span class="sxs-lookup"><span data-stu-id="b6ecf-120">Item Information</span></span>](#item-information)
-   [<span data-ttu-id="b6ecf-121">Elenchi di immagini della visualizzazione albero</span><span class="sxs-lookup"><span data-stu-id="b6ecf-121">Tree-View Image Lists</span></span>](#tree-view-image-lists)
-   [<span data-ttu-id="b6ecf-122">Operazioni di trascinamento della selezione</span><span class="sxs-lookup"><span data-stu-id="b6ecf-122">Drag-and-Drop Operations</span></span>](#drag-and-drop-operations)
-   [<span data-ttu-id="b6ecf-123">Messaggi di notifica del controllo visualizzazione albero</span><span class="sxs-lookup"><span data-stu-id="b6ecf-123">Tree-View Control Notification Messages</span></span>](#tree-view-control-notification-messages)
-   [<span data-ttu-id="b6ecf-124">Elaborazione predefinita dei messaggi di controllo Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-124">Default Tree-View Control Message Processing</span></span>](#default-tree-view-control-message-processing)
-   [<span data-ttu-id="b6ecf-125">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="b6ecf-125">Related topics</span></span>](#related-topics)

## <a name="tree-view-styles"></a><span data-ttu-id="b6ecf-126">Stili di Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-126">Tree-View Styles</span></span>

<span data-ttu-id="b6ecf-127">Gli stili di visualizzazione albero regolano gli aspetti dell'aspetto di un controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-127">Tree-view styles govern aspects of a tree-view control's appearance.</span></span> <span data-ttu-id="b6ecf-128">È possibile impostare gli stili iniziali durante la creazione del controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-128">You set the initial styles when you create the tree-view control.</span></span> <span data-ttu-id="b6ecf-129">È possibile recuperare e modificare gli stili dopo aver creato il controllo di visualizzazione albero usando le funzioni [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) e [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-129">You can retrieve and change the styles after creating the tree-view control by using the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span>

<span data-ttu-id="b6ecf-130">Lo stile [**TVS \_ HASLINES**](tree-view-control-window-styles.md) migliora la rappresentazione grafica della gerarchia di un controllo di visualizzazione albero disegnando linee che collegano elementi figlio al rispettivo elemento padre, come illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-130">The [**TVS\_HASLINES**](tree-view-control-window-styles.md) style enhances the graphic representation of a tree-view control's hierarchy by drawing lines that link child items to their parent item, as shown in the following illustration.</span></span>

![screenshot che mostra la disposizione precedente, ma con linee che uniscono i nodi; la prima riga discende dal nodo radice](images/tv-haslines.png)

<span data-ttu-id="b6ecf-132">Di per sé, questo stile non disegna linee alla radice della gerarchia.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-132">By itself, this style does not draw lines at the root of the hierarchy.</span></span> <span data-ttu-id="b6ecf-133">A tale scopo, è necessario combinare gli stili [**TV \_ HASLINES**](tree-view-control-window-styles.md) e [**TVS \_ LINESATROOT**](tree-view-control-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-133">To do so, you need to combine the [**TVS\_HASLINES**](tree-view-control-window-styles.md) and [**TVS\_LINESATROOT**](tree-view-control-window-styles.md) styles.</span></span> <span data-ttu-id="b6ecf-134">Il risultato è illustrato nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-134">The result is shown in the following illustration.</span></span>

![screenshot che mostra la disposizione precedente, ma con una linea orizzontale aggiuntiva che conduce al nodo radice](images/tv-rootlines.png)

<span data-ttu-id="b6ecf-136">L'utente può espandere o comprimere l'elenco di elementi figlio di un elemento padre facendo doppio clic sull'elemento padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-136">The user can expand or collapse a parent item's list of child items by double-clicking the parent item.</span></span> <span data-ttu-id="b6ecf-137">Un controllo di visualizzazione albero con lo stile [**\_ HASBUTTONS TV**](tree-view-control-window-styles.md) aggiunge un pulsante al lato sinistro di ogni elemento padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-137">A tree-view control that has the [**TVS\_HASBUTTONS**](tree-view-control-window-styles.md) style adds a button to the left side of each parent item.</span></span> <span data-ttu-id="b6ecf-138">L'utente può fare clic sul pulsante una volta anziché fare doppio clic sull'elemento padre per espandere o comprimere l'elemento figlio.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-138">The user can click the button once instead of double-clicking the parent item to expand or collapse the child.</span></span> <span data-ttu-id="b6ecf-139">**TV \_ HASBUTTONS** non aggiunge pulsanti agli elementi alla radice della gerarchia.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-139">**TVS\_HASBUTTONS** does not add buttons to items at the root of the hierarchy.</span></span> <span data-ttu-id="b6ecf-140">A tale scopo, è necessario combinare [**TVS \_ HASLINES**](tree-view-control-window-styles.md), [**TV \_ LINESATROOT**](tree-view-control-window-styles.md)e **TV \_ HASBUTTONS**.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-140">To do so, you must combine [**TVS\_HASLINES**](tree-view-control-window-styles.md), [**TVS\_LINESATROOT**](tree-view-control-window-styles.md), and **TVS\_HASBUTTONS**.</span></span> <span data-ttu-id="b6ecf-141">Questa combinazione di stili è illustrata nella figura seguente.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-141">This combination of styles is shown in the following illustration.</span></span>

![screenshot che mostra la disposizione precedente, ma con pulsanti di espansione/compressione in ogni vertice di due righe](images/tv-hasbuttons.png)

<span data-ttu-id="b6ecf-143">Lo stile della [**\_ casella**](tree-view-control-window-styles.md) di controllo TV crea le caselle di controllo accanto a ogni elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-143">The [**TVS\_CHECKBOXES**](tree-view-control-window-styles.md) style creates checkboxes next to each item.</span></span> <span data-ttu-id="b6ecf-144">Se si desidera utilizzare lo stile della casella di controllo, è necessario impostare lo stile delle **\_ caselle** di controllo TV (con [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)) dopo aver creato il controllo di visualizzazione albero e prima di popolare l'albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-144">If you want to use the checkbox style, you must set the **TVS\_CHECKBOXES** style (with [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)) after you create the tree-view control and before you populate the tree.</span></span> <span data-ttu-id="b6ecf-145">In caso contrario, le caselle di controllo potrebbero apparire deselezionate, a seconda dei problemi di temporizzazione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-145">Otherwise, the checkboxes might appear unchecked, depending on timing issues.</span></span> <span data-ttu-id="b6ecf-146">Nella figura seguente viene illustrato lo stile della casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-146">The following illustration shows the checkbox style.</span></span>

![screenshot che mostra la disposizione precedente, ma con una casella di controllo accanto a ogni nodo; sono selezionate due caselle di controllo](images/tv-haschecks.png)

<span data-ttu-id="b6ecf-148">Lo stile [**TV \_ FULLROWSELECT**](tree-view-control-window-styles.md) fa sì che l'evidenziazione della selezione si estenda sulla larghezza intera del controllo, non solo sull'elemento stesso.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-148">The [**TVS\_FULLROWSELECT**](tree-view-control-window-styles.md) style causes the selection highlight to extend over the full width of the control, not just over the item itself.</span></span> <span data-ttu-id="b6ecf-149">Nella figura seguente viene illustrato questo stile.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-149">The following illustration shows this style.</span></span>

![screenshot che mostra la disposizione originale di cinque nodi senza righe, ma l'evidenziazione della selezione estende l'intera larghezza del controllo](images/tv-fullrow.png)

<span data-ttu-id="b6ecf-151">Lo stile [**TV \_ EDITLABELS**](tree-view-control-window-styles.md) consente all'utente di modificare le etichette degli elementi della visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-151">The [**TVS\_EDITLABELS**](tree-view-control-window-styles.md) style makes it possible for the user to edit the labels of tree-view items.</span></span> <span data-ttu-id="b6ecf-152">Per ulteriori informazioni sulla modifica delle etichette, vedere la pagina relativa alla [modifica dell'etichetta della visualizzazione albero](#tree-view-label-editing).</span><span class="sxs-lookup"><span data-stu-id="b6ecf-152">For more information about editing labels, see [Tree-View Label Editing](#tree-view-label-editing).</span></span>

<span data-ttu-id="b6ecf-153">Per altre informazioni su questi e altri stili, vedere [stili della finestra di controllo di visualizzazione albero](tree-view-control-window-styles.md).</span><span class="sxs-lookup"><span data-stu-id="b6ecf-153">For more information on these and other styles, see [Tree-View Control Window Styles](tree-view-control-window-styles.md).</span></span>

## <a name="parent-and-child-items"></a><span data-ttu-id="b6ecf-154">Elementi padre e figlio</span><span class="sxs-lookup"><span data-stu-id="b6ecf-154">Parent and Child Items</span></span>

<span data-ttu-id="b6ecf-155">Qualsiasi elemento in un controllo di visualizzazione albero può avere un elenco di elementi secondari, denominati *elementi figlio*, associati.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-155">Any item in a tree-view control can have a list of subitems—called *child items*—associated with it.</span></span> <span data-ttu-id="b6ecf-156">Un elemento che contiene uno o più elementi figlio è denominato *elemento padre*.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-156">An item that has one or more child items is called a *parent item*.</span></span> <span data-ttu-id="b6ecf-157">Un elemento figlio viene visualizzato sotto il relativo elemento padre e viene rientrato per indicare che è subordinato al padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-157">A child item is displayed below its parent item and is indented to indicate that it is subordinate to the parent.</span></span> <span data-ttu-id="b6ecf-158">Un elemento privo di padre viene visualizzato all'inizio della gerarchia e viene chiamato *elemento radice*.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-158">An item that has no parent appears at the top of the hierarchy and is called a *root item*.</span></span>

<span data-ttu-id="b6ecf-159">Per aggiungere un elemento a un controllo di visualizzazione albero, inviare il messaggio di [**\_ INSERTITEM INSERTITEM**](tvm-insertitem.md) al controllo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-159">To add an item to a tree-view control, send the [**TVM\_INSERTITEM**](tvm-insertitem.md) message to the control.</span></span> <span data-ttu-id="b6ecf-160">Il messaggio restituisce un handle per il tipo HTREEITEM, che identifica in modo univoco l'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-160">The message returns a handle to the HTREEITEM type, which uniquely identifies the item.</span></span> <span data-ttu-id="b6ecf-161">Quando si aggiunge un elemento, è necessario specificare l'handle per l'elemento padre del nuovo elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-161">When adding an item, you must specify the handle to the new item's parent item.</span></span> <span data-ttu-id="b6ecf-162">Se si specifica **null** o il \_ valore radice TVI anziché un handle di elemento padre nella struttura [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) , l'elemento viene aggiunto come elemento radice.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-162">If you specify **NULL** or the TVI\_ROOT value instead of a parent item handle in the [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure, the item is added as a root item.</span></span>

<span data-ttu-id="b6ecf-163">In un determinato momento, lo stato dell'elenco di elementi figlio di un elemento padre può essere espanso o compresso.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-163">At any given time, the state of a parent item's list of child items can be either expanded or collapsed.</span></span> <span data-ttu-id="b6ecf-164">Quando lo stato è espanso, gli elementi figlio vengono visualizzati sotto l'elemento padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-164">When the state is expanded, the child items are displayed below the parent item.</span></span> <span data-ttu-id="b6ecf-165">Quando viene compresso, gli elementi figlio non vengono visualizzati.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-165">When it is collapsed, the child items are not displayed.</span></span> <span data-ttu-id="b6ecf-166">L'elenco passa automaticamente tra gli Stati espanso e compresso quando l'utente fa doppio clic sull'elemento padre o, se il padre ha lo stile [**\_ HASBUTTONS TV**](tree-view-control-window-styles.md) , quando l'utente fa clic sul pulsante associato all'elemento padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-166">The list automatically toggles between the expanded and collapsed states when the user double-clicks the parent item or, if the parent has the [**TVS\_HASBUTTONS**](tree-view-control-window-styles.md) style, when the user clicks the button associated with the parent item.</span></span> <span data-ttu-id="b6ecf-167">Un'applicazione può espandere o comprimere gli elementi figlio utilizzando il messaggio di [**\_ espansione TVM**](tvm-expand.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-167">An application can expand or collapse the child items by using the [**TVM\_EXPAND**](tvm-expand.md) message.</span></span>

<span data-ttu-id="b6ecf-168">Un controllo di visualizzazione albero invia alla finestra padre un messaggio di notifica di [TVN \_ ITEMEXPANDING](tvn-itemexpanding.md) quando l'elenco di elementi figlio di un elemento padre sta per essere espanso o compresso.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-168">A tree-view control sends the parent window a [TVN\_ITEMEXPANDING](tvn-itemexpanding.md) notification message when a parent item's list of child items is about to be expanded or collapsed.</span></span> <span data-ttu-id="b6ecf-169">La notifica fornisce a un'applicazione la possibilità di impedire la modifica o di impostare gli attributi dell'elemento padre che dipendono dallo stato dell'elenco di elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-169">The notification gives an application the opportunity to prevent the change or to set any attributes of the parent item that depend on the state of the list of child items.</span></span> <span data-ttu-id="b6ecf-170">Dopo aver modificato lo stato dell'elenco, il controllo di visualizzazione albero invia alla finestra padre un messaggio di notifica [ \_ ITEMEXPANDED di TVN](tvn-itemexpanded.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-170">After changing the state of the list, the tree-view control sends the parent window a [TVN\_ITEMEXPANDED](tvn-itemexpanded.md) notification message.</span></span>

<span data-ttu-id="b6ecf-171">Quando un elenco di elementi figlio viene espanso, viene rientrato rispetto all'elemento padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-171">When a list of child items is expanded, it is indented relative to the parent item.</span></span> <span data-ttu-id="b6ecf-172">È possibile impostare la quantità di rientri usando il messaggio [**di \_ sedentazione TVM**](tvm-setindent.md) o recuperare l'importo corrente usando il messaggio [**TVM \_ GetIndent**](tvm-getindent.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-172">You can set the amount of indentation by using the [**TVM\_SETINDENT**](tvm-setindent.md) message or retrieve the current amount by using the [**TVM\_GETINDENT**](tvm-getindent.md) message.</span></span>

<span data-ttu-id="b6ecf-173">Un controllo di visualizzazione albero utilizza la memoria allocata dall'heap del processo che crea il controllo di visualizzazione ad albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-173">A tree-view control uses memory allocated from the heap of the process that creates the tree-view control.</span></span> <span data-ttu-id="b6ecf-174">Il numero massimo di elementi in una visualizzazione albero è basato sulla quantità di memoria disponibile nell'heap.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-174">The maximum number of items in a tree view is based on the amount of memory available in the heap.</span></span>

## <a name="item-labels"></a><span data-ttu-id="b6ecf-175">Etichette elementi</span><span class="sxs-lookup"><span data-stu-id="b6ecf-175">Item Labels</span></span>

<span data-ttu-id="b6ecf-176">In genere si specifica il testo dell'etichetta di un elemento quando si aggiunge l'elemento al controllo di visualizzazione ad albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-176">You typically specify the text of an item's label when adding the item to the tree-view control.</span></span> <span data-ttu-id="b6ecf-177">Il [**messaggio \_ INSERTITEM INSERTITEM**](tvm-insertitem.md) include una struttura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) che definisce le proprietà dell'elemento, inclusa una stringa contenente il testo dell'etichetta.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-177">The [**TVM\_INSERTITEM**](tvm-insertitem.md) message includes a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that defines the item's properties, including a string containing the text of the label.</span></span>

<span data-ttu-id="b6ecf-178">Un controllo di visualizzazione albero alloca memoria per archiviare ogni elemento. il testo delle etichette degli elementi occupa una parte significativa della memoria.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-178">A tree-view control allocates memory for storing each item; the text of the item labels takes up a significant portion of this memory.</span></span> <span data-ttu-id="b6ecf-179">Se l'applicazione gestisce una copia delle stringhe nel controllo di visualizzazione albero, è possibile ridurre i requisiti di memoria del controllo specificando il \_ valore LPSTR TEXTCALLBACK nel membro **PszText** di [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) anziché passare le stringhe effettive alla visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-179">If your application maintains a copy of the strings in the tree-view control, you can decrease the memory requirements of the control by specifying the LPSTR\_TEXTCALLBACK value in the **pszText** member of [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) instead of passing actual strings to the tree view.</span></span> <span data-ttu-id="b6ecf-180">L'uso di LPSTR \_ TEXTCALLBACK fa sì che il controllo di visualizzazione albero recuperi il testo dell'etichetta di un elemento dalla finestra padre ogni volta che l'elemento deve essere ridisegnato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-180">Using LPSTR\_TEXTCALLBACK causes the tree-view control to retrieve the text of an item's label from the parent window whenever the item needs to be redrawn.</span></span> <span data-ttu-id="b6ecf-181">Per recuperare il testo, il controllo di visualizzazione albero invia un messaggio di notifica [ \_ GETDISPINFO di TVN](tvn-getdispinfo.md) , che include l'indirizzo di una struttura [**struttura NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-181">To retrieve the text, the tree-view control sends a [TVN\_GETDISPINFO](tvn-getdispinfo.md) notification message, which includes the address of an [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) structure.</span></span> <span data-ttu-id="b6ecf-182">La finestra padre deve compilare i membri appropriati della struttura inclusa.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-182">The parent window must fill the appropriate members of the included structure.</span></span>

## <a name="tree-view-label-editing"></a><span data-ttu-id="b6ecf-183">Modifica dell'etichetta Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-183">Tree-View Label Editing</span></span>

<span data-ttu-id="b6ecf-184">L'utente può modificare direttamente le etichette degli elementi in un controllo di visualizzazione albero con lo stile [**\_ EDITLABELS TV**](tree-view-control-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-184">The user can directly edit the labels of items in a tree-view control that has the [**TVS\_EDITLABELS**](tree-view-control-window-styles.md) style.</span></span> <span data-ttu-id="b6ecf-185">L'utente inizia la modifica facendo clic sull'etichetta dell'elemento con lo stato attivo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-185">The user begins editing by clicking the label of the item that has the focus.</span></span> <span data-ttu-id="b6ecf-186">Un'applicazione inizia la modifica usando il [**messaggio \_ EDITLABEL TVM**](tvm-editlabel.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-186">An application begins editing by using the [**TVM\_EDITLABEL**](tvm-editlabel.md) message.</span></span> <span data-ttu-id="b6ecf-187">Il controllo di visualizzazione albero invia una notifica alla finestra padre quando inizia la modifica e quando viene annullata o completata.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-187">The tree-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="b6ecf-188">Al termine della modifica, la finestra padre è responsabile dell'aggiornamento dell'etichetta dell'elemento, se appropriato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-188">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="b6ecf-189">Quando viene avviata la modifica dell'etichetta, un controllo di visualizzazione albero invia alla finestra padre un messaggio di notifica [ \_ BEGINLABELEDIT di TVN](tvn-beginlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-189">When label editing begins, a tree-view control sends its parent window a [TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md) notification message.</span></span> <span data-ttu-id="b6ecf-190">Elaborando questa notifica, un'applicazione può consentire la modifica di alcune etichette e impedire la modifica di altre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-190">By processing this notification, an application can allow editing of some labels and prevent editing of others.</span></span> <span data-ttu-id="b6ecf-191">Con la restituzione di zero è possibile modificare e restituire un valore diverso da zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-191">Returning zero allows editing, and returning nonzero prevents it.</span></span>

<span data-ttu-id="b6ecf-192">Quando la modifica delle etichette viene annullata o completata, un controllo di visualizzazione albero invia alla finestra padre un messaggio di notifica [ \_ ENDLABELEDIT di TVN](tvn-endlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-192">When label editing is canceled or completed, a tree-view control sends its parent window a [TVN\_ENDLABELEDIT](tvn-endlabeledit.md) notification message.</span></span> <span data-ttu-id="b6ecf-193">Il parametro *lParam* è l'indirizzo di una struttura [**struttura NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-193">The *lParam* parameter is the address of an [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) structure.</span></span> <span data-ttu-id="b6ecf-194">Il parametro *Item* è una struttura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) che identifica l'elemento e include il testo modificato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-194">The *item* parameter is a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that identifies the item and includes the edited text.</span></span> <span data-ttu-id="b6ecf-195">La finestra padre è responsabile dell'aggiornamento dell'etichetta dell'elemento se desidera che la nuova etichetta venga mantenuta.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-195">The parent window is responsible for updating the item's label if it wishes to keep the new label.</span></span> <span data-ttu-id="b6ecf-196">Il membro **pszText** di **TVITEM** è zero se la modifica viene annullata.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-196">The **pszText** member of **TVITEM** is zero if editing is canceled.</span></span>

<span data-ttu-id="b6ecf-197">Durante la modifica delle etichette, in genere in risposta al messaggio di notifica [ \_ BEGINLABELEDIT di TVN](tvn-beginlabeledit.md) , è possibile recuperare l'handle per il controllo di modifica usato per la modifica dell'etichetta usando il messaggio [**TVM \_ GETEDITCONTROL**](tvm-geteditcontrol.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-197">During label editing, typically in response to the [TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md) notification message, you can retrieve the handle to the edit control used for label editing by using the [**TVM\_GETEDITCONTROL**](tvm-geteditcontrol.md) message.</span></span> <span data-ttu-id="b6ecf-198">È possibile inviare il controllo di modifica un messaggio [**\_ SETLIMITTEXT em**](em-setlimittext.md) per limitare la quantità di testo che un utente può immettere o sottoporre a una sottoclasse del controllo di modifica per intercettare e rimuovere i caratteri non validi.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-198">You can send the edit control an [**EM\_SETLIMITTEXT**](em-setlimittext.md) message to limit the amount of text a user can enter or subclass the edit control to intercept and discard invalid characters.</span></span> <span data-ttu-id="b6ecf-199">Si noti, tuttavia, che il controllo di modifica viene visualizzato solo *dopo* l'   invio di TVN \_ BEGINLABELEDIT.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-199">Note, however, that the edit control is displayed only *after* TVN\_BEGINLABELEDIT is sent.</span></span>

## <a name="tree-view-item-position"></a><span data-ttu-id="b6ecf-200">Posizione dell'elemento Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-200">Tree-View Item Position</span></span>

<span data-ttu-id="b6ecf-201">La posizione iniziale di un elemento viene impostata quando l'elemento viene aggiunto al controllo di visualizzazione ad albero tramite il [**messaggio \_ INSERTITEM INSERTITEM**](tvm-insertitem.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-201">An item's initial position is set when the item is added to the tree-view control by using the [**TVM\_INSERTITEM**](tvm-insertitem.md) message.</span></span> <span data-ttu-id="b6ecf-202">Il messaggio include una struttura [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) che specifica l'handle per l'elemento padre e l'handle per l'elemento dopo il quale deve essere inserito il nuovo elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-202">The message includes a [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure that specifies the handle to the parent item and the handle to the item after which the new item is to be inserted.</span></span> <span data-ttu-id="b6ecf-203">Il secondo handle deve identificare un elemento figlio dell'elemento padre specificato o uno dei valori seguenti: TVI \_ First, TVI \_ Last o TVI \_ Sort.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-203">The second handle must identify either a child item of the given parent or one of these values: TVI\_FIRST, TVI\_LAST, or TVI\_SORT.</span></span>

<span data-ttu-id="b6ecf-204">Quando \_ si specifica TVI First o TVI \_ Last, il controllo di visualizzazione albero inserisce il nuovo elemento all'inizio o alla fine dell'elenco di elementi figlio dell'elemento padre specificato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-204">When TVI\_FIRST or TVI\_LAST is specified, the tree-view control places the new item at the beginning or end of the given parent item's list of child items.</span></span> <span data-ttu-id="b6ecf-205">Quando \_ si specifica l'ordinamento TVI, il controllo di visualizzazione albero inserisce il nuovo elemento nell'elenco di elementi figlio in ordine alfabetico in base al testo delle etichette dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-205">When TVI\_SORT is specified, the tree-view control inserts the new item into the list of child items in alphabetical order based on the text of the item labels.</span></span>

<span data-ttu-id="b6ecf-206">È possibile inserire l'elenco di elementi figlio di un elemento padre in ordine alfabetico usando il messaggio [**TVM \_ SORTCHILDREN**](tvm-sortchildren.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-206">You can put a parent item's list of child items in alphabetical order by using the [**TVM\_SORTCHILDREN**](tvm-sortchildren.md) message.</span></span> <span data-ttu-id="b6ecf-207">Il messaggio include un parametro che specifica se tutti i livelli degli elementi figlio discendenti dall'elemento padre specificato vengono ordinati in ordine alfabetico.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-207">The message includes a parameter that specifies whether all levels of child items descending from the given parent item are also sorted in alphabetical order.</span></span>

<span data-ttu-id="b6ecf-208">Il messaggio [**TVM \_ SORTCHILDRENCB**](tvm-sortchildrencb.md) consente di ordinare gli elementi figlio in base ai criteri definiti.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-208">The [**TVM\_SORTCHILDRENCB**](tvm-sortchildrencb.md) message allows you to sort child items based on criteria that you define.</span></span> <span data-ttu-id="b6ecf-209">Quando si usa questo messaggio, si specifica una funzione di callback definita dall'applicazione che può essere chiamata dal controllo di visualizzazione albero ogni volta che deve essere deciso l'ordine relativo di due elementi figlio.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-209">When you use this message, you specify an application-defined callback function that the tree-view control can call whenever the relative order of two child items needs to be decided.</span></span> <span data-ttu-id="b6ecf-210">La funzione di callback riceve i valori definiti dall'applicazione a 2 32 bit per gli elementi confrontati e un terzo valore a 32 bit specificato durante l'invio di **\_ SORTCHILDRENCB TVM**.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-210">The callback function receives two 32-bit application-defined values for the items being compared and a third 32-bit value that you specify when sending **TVM\_SORTCHILDRENCB**.</span></span>

## <a name="tree-view-item-states-overview"></a><span data-ttu-id="b6ecf-211">Panoramica degli Stati degli elementi di Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-211">Tree-View Item States Overview</span></span>

<span data-ttu-id="b6ecf-212">Ogni elemento in un controllo di visualizzazione albero ha uno stato corrente.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-212">Each item in a tree-view control has a current state.</span></span> <span data-ttu-id="b6ecf-213">Le informazioni sullo stato per ogni elemento includono un set di flag di bit, nonché gli indici dell'elenco di immagini che indicano l'immagine di stato e l'immagine sovrapposta dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-213">The state information for each item includes a set of bit flags as well as image list indexes that indicate the item's state image and overlay image.</span></span> <span data-ttu-id="b6ecf-214">I flag di bit indicano se l'elemento è selezionato, disabilitato, espanso e così via.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-214">The bit flags indicate whether the item is selected, disabled, expanded, and so on.</span></span> <span data-ttu-id="b6ecf-215">Nella maggior parte dei casi, un controllo di visualizzazione albero imposta automaticamente lo stato di un elemento in modo da riflettere le azioni dell'utente, ad esempio la selezione di un elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-215">For the most part, a tree-view control automatically sets an item's state to reflect user actions, such as selection of an item.</span></span> <span data-ttu-id="b6ecf-216">Tuttavia, è anche possibile impostare lo stato di un elemento utilizzando il messaggio macchina virtuale TVM ed è possibile recuperare lo stato corrente di un elemento utilizzando il messaggio [**TVM \_ GetItem**](tvm-getitem.md) . [**\_**](tvm-setitem.md)</span><span class="sxs-lookup"><span data-stu-id="b6ecf-216">However, you can also set an item's state by using the [**TVM\_SETITEM**](tvm-setitem.md) message, and you can retrieve the current state of an item by using the [**TVM\_GETITEM**](tvm-getitem.md) message.</span></span> <span data-ttu-id="b6ecf-217">Per un elenco completo degli Stati degli elementi, vedere [gli Stati degli elementi di controllo di visualizzazione albero](tree-view-control-item-states.md).</span><span class="sxs-lookup"><span data-stu-id="b6ecf-217">For a complete list of item states, see [Tree-View Control Item States](tree-view-control-item-states.md).</span></span>

<span data-ttu-id="b6ecf-218">Lo stato corrente di un elemento è specificato dal membro di **stato** della struttura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-218">An item's current state is specified by the **state** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="b6ecf-219">Un controllo di visualizzazione albero potrebbe modificare lo stato di un elemento per riflettere un'azione dell'utente, ad esempio la selezione dell'elemento o l'impostazione dello stato attivo sull'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-219">A tree-view control might change an item's state to reflect a user action, such as selecting the item or setting the focus to the item.</span></span> <span data-ttu-id="b6ecf-220">Inoltre, un'applicazione può modificare lo stato di un elemento per disabilitare o nascondere l'elemento o per specificare un'immagine sovrapposta o un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-220">In addition, an application might change an item's state to disable or hide the item or to specify an overlay image or state image.</span></span>

<span data-ttu-id="b6ecf-221">Quando si specifica o si modifica lo stato di un elemento, il membro **stateMask** di [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) specifica i bit di stato da impostare e il membro di **stato** contiene i nuovi valori per tali bit.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-221">When you specify or change an item's state, the **statemask** member of [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) specifies which state bits to set, and the **state** member contains the new values for those bits.</span></span>

<span data-ttu-id="b6ecf-222">Per impostare l'immagine sovrapposta di un elemento, **stateMask** deve includere il valore [**\_ OVERLAYMASK di TVIS**](tree-view-control-item-states.md) e lo **stato** deve includere l'indice in base uno dell'immagine sovrapposta spostata a 8 bit a sinistra utilizzando la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-222">To set an item's overlay image, **statemask** must include the [**TVIS\_OVERLAYMASK**](tree-view-control-item-states.md) value, and **state** must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="b6ecf-223">L'indice può essere zero per specificare Nessuna immagine sovrapposta.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-223">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="b6ecf-224">Viene visualizzata un'immagine di stato accanto all'icona di un elemento per indicare uno stato definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-224">A state image is displayed next to an item's icon to indicate an application-defined state.</span></span> <span data-ttu-id="b6ecf-225">Le immagini di stato sono contenute in un *elenco di immagini di stato* specificato tramite l'invio di un messaggio di [**\_ seimagine TVM**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-225">State images are contained in a *state image list* that is specified by sending a [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="b6ecf-226">Per impostare l'immagine di stato di un elemento, includere il valore [**TVIS \_ STATEIMAGEMASK**](tree-view-control-item-states.md) nel membro **stateMask** della struttura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-226">To set an item's state image, include the [**TVIS\_STATEIMAGEMASK**](tree-view-control-item-states.md) value in the **statemask** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="b6ecf-227">I bit da 12 a 15 del membro di **stato** della struttura specificano l'indice nell'elenco di immagini dello stato dell'immagine da disegnare.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-227">Bits 12 through 15 of the structure's **state** member specify the index in the state image list of the image to be drawn.</span></span>

<span data-ttu-id="b6ecf-228">Per impostare l'indice dell'immagine di stato, utilizzare [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask).</span><span class="sxs-lookup"><span data-stu-id="b6ecf-228">To set the state image index, use [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask).</span></span> <span data-ttu-id="b6ecf-229">Questa macro accetta un indice e imposta i bit da 12 a 15 in modo appropriato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-229">This macro takes an index, and sets bits 12 through 15 appropriately.</span></span> <span data-ttu-id="b6ecf-230">Per indicare che l'elemento non dispone di un'immagine di stato, impostare l'indice su zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-230">To indicate that the item has no state image, set the index to zero.</span></span> <span data-ttu-id="b6ecf-231">Questa convenzione indica che l'immagine zero nell'elenco di immagini dello stato non può essere usata come immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-231">This convention means that image zero in the state image list cannot be used as a state image.</span></span> <span data-ttu-id="b6ecf-232">Per isolare i bit da 12 a 15 del membro di **stato** , usare la maschera [**TVIS \_ STATEIMAGEMASK**](tree-view-control-item-states.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-232">To isolate bits 12 through 15 of the **state** member, use the [**TVIS\_STATEIMAGEMASK**](tree-view-control-item-states.md) mask.</span></span> <span data-ttu-id="b6ecf-233">Per altre informazioni sulle immagini sovrapposte e di stato, vedere [elenchi di immagini di visualizzazione ad albero](#tree-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="b6ecf-233">For more information about overlay and state images, see [Tree-View Image Lists](#tree-view-image-lists).</span></span>

## <a name="item-selection"></a><span data-ttu-id="b6ecf-234">Selezione elemento</span><span class="sxs-lookup"><span data-stu-id="b6ecf-234">Item Selection</span></span>

<span data-ttu-id="b6ecf-235">Un controllo di visualizzazione albero notifica alla finestra padre quando la selezione viene modificata da un elemento a un altro inviando i messaggi di notifica di [TVN \_ SELCHANGING](tvn-selchanging.md) e [TVN \_ SELCHANGED](tvn-selchanged.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-235">A tree-view control notifies the parent window when the selection changes from one item to another by sending the [TVN\_SELCHANGING](tvn-selchanging.md) and [TVN\_SELCHANGED](tvn-selchanged.md) notification messages.</span></span> <span data-ttu-id="b6ecf-236">Entrambe le notifiche includono un valore che specifica se la modifica è il risultato di un clic del mouse o di una sequenza di tasti.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-236">Both notifications include a value that specifies whether the change is the result of a mouse click or a keystroke.</span></span> <span data-ttu-id="b6ecf-237">Le notifiche includono inoltre informazioni sull'elemento che sta ottenendo la selezione e sull'elemento che sta perdendo la selezione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-237">The notifications also include information about the item that is gaining the selection and the item that is losing the selection.</span></span> <span data-ttu-id="b6ecf-238">È possibile usare queste informazioni per impostare gli attributi degli elementi che dipendono dallo stato di selezione dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-238">You can use this information to set item attributes that depend on the selection state of the item.</span></span> <span data-ttu-id="b6ecf-239">Restituisce **true** in risposta a TVN \_ SELCHANGING impedisce la modifica della selezione e la restituzione di **false** consente la modifica.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-239">Returning **TRUE** in response to TVN\_SELCHANGING prevents the selection from changing, and returning **FALSE** allows the change.</span></span>

<span data-ttu-id="b6ecf-240">Un'applicazione può modificare la selezione inviando il [**messaggio \_ SELECTITEM TVM**](tvm-selectitem.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-240">An application can change the selection by sending the [**TVM\_SELECTITEM**](tvm-selectitem.md) message.</span></span>

## <a name="item-information"></a><span data-ttu-id="b6ecf-241">Informazioni sugli elementi</span><span class="sxs-lookup"><span data-stu-id="b6ecf-241">Item Information</span></span>

<span data-ttu-id="b6ecf-242">I controlli di visualizzazione albero supportano una serie di messaggi che recuperano informazioni sugli elementi nel controllo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-242">Tree-view controls support a number of messages that retrieve information about items in the control.</span></span>

<span data-ttu-id="b6ecf-243">Il messaggio [**TVM \_ GetItem**](tvm-getitem.md) può recuperare l'handle e gli attributi di un elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-243">The [**TVM\_GETITEM**](tvm-getitem.md) message can retrieve an item's handle and attributes.</span></span> <span data-ttu-id="b6ecf-244">Gli attributi di un elemento includono lo stato corrente, gli indici nell'elenco di immagini del controllo delle immagini bitmap selezionate e non selezionate dell'elemento, un flag che indica se l'elemento contiene elementi figlio, l'indirizzo della stringa di etichetta dell'elemento e il valore a 32 bit definito dall'applicazione dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-244">An item's attributes include its current state, the indexes in the control's image list of the item's selected and nonselected bitmapped images, a flag that indicates whether the item has child items, the address of the item's label string, and the item's application-defined 32-bit value.</span></span>

<span data-ttu-id="b6ecf-245">Il messaggio [**TVM \_ GETNEXTITEM**](tvm-getnextitem.md) recupera l'elemento della visualizzazione struttura ad albero che presenta la relazione specificata con l'elemento corrente.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-245">The [**TVM\_GETNEXTITEM**](tvm-getnextitem.md) message retrieves the tree-view item that bears the specified relationship to the current item.</span></span> <span data-ttu-id="b6ecf-246">Il messaggio può recuperare l'elemento padre di un elemento, l'elemento visibile successivo o precedente, il primo elemento figlio e così via.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-246">The message can retrieve an item's parent, the next or previous visible item, the first child item, and so on.</span></span>

<span data-ttu-id="b6ecf-247">Il messaggio [**TVM \_ GETITEMRECT**](tvm-getitemrect.md) Recupera il rettangolo di delimitazione per un elemento della visualizzazione struttura ad albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-247">The [**TVM\_GETITEMRECT**](tvm-getitemrect.md) message retrieves the bounding rectangle for a tree-view item.</span></span> <span data-ttu-id="b6ecf-248">I messaggi [**TVM \_ GetCount**](tvm-getcount.md) e [**TVM \_ GETVISIBLECOUNT**](tvm-getvisiblecount.md) recuperano un conteggio degli elementi in un controllo di visualizzazione albero e un conteggio degli elementi che possono essere completamente visibili nella finestra del controllo di visualizzazione ad albero, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-248">The [**TVM\_GETCOUNT**](tvm-getcount.md) and [**TVM\_GETVISIBLECOUNT**](tvm-getvisiblecount.md) messages retrieve a count of the items in a tree-view control and a count of the items that can be fully visible in the tree-view control's window, respectively.</span></span> <span data-ttu-id="b6ecf-249">È possibile verificare che un particolare elemento sia visibile tramite il messaggio [**\_ ENSUREVISIBLE di TVM**](tvm-ensurevisible.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-249">You can ensure that a particular item is visible by using the [**TVM\_ENSUREVISIBLE**](tvm-ensurevisible.md) message.</span></span>

## <a name="tree-view-image-lists"></a><span data-ttu-id="b6ecf-250">Elenchi di immagini Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-250">Tree-View Image Lists</span></span>

<span data-ttu-id="b6ecf-251">A ogni elemento di un controllo di visualizzazione albero possono essere associate quattro immagini bitmap.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-251">Each item in a tree-view control can have four bitmapped images associated with it.</span></span>

-   <span data-ttu-id="b6ecf-252">Immagine, ad esempio una cartella aperta, visualizzata quando si seleziona l'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-252">An image, such as an open folder, displayed when the item is selected.</span></span>
-   <span data-ttu-id="b6ecf-253">Un'immagine, ad esempio una cartella chiusa, visualizzata quando l'elemento non è selezionato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-253">An image, such as a closed folder, displayed when the item is not selected.</span></span>
-   <span data-ttu-id="b6ecf-254">Immagine sovrapposta disegnata in modo trasparente sull'immagine selezionata o non selezionata.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-254">An overlay image that is drawn transparently over the selected or nonselected image.</span></span>
-   <span data-ttu-id="b6ecf-255">Un'immagine di stato, ovvero un'immagine aggiuntiva a sinistra dell'immagine selezionata o non selezionata.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-255">A state image, which is an additional image displayed to the left of the selected or nonselected image.</span></span> <span data-ttu-id="b6ecf-256">È possibile utilizzare immagini di stato, ad esempio caselle di controllo selezionate e deselezionate, per indicare gli Stati degli elementi definiti dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-256">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span>

<span data-ttu-id="b6ecf-257">Per impostazione predefinita, un controllo di visualizzazione albero non Visualizza le immagini dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-257">By default, a tree-view control does not display item images.</span></span> <span data-ttu-id="b6ecf-258">Per visualizzare le immagini degli elementi, è necessario creare elenchi di immagini e associarli al controllo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-258">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="b6ecf-259">Per ulteriori informazioni sugli elenchi di immagini, vedere la pagina relativa agli [elenchi di immagini](image-lists.md).</span><span class="sxs-lookup"><span data-stu-id="b6ecf-259">For more information about image lists, see [Image Lists](image-lists.md).</span></span>

<span data-ttu-id="b6ecf-260">Un controllo di visualizzazione albero può includere due elenchi di immagini: un elenco di immagini normale e un elenco di immagini di stato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-260">A tree-view control can have two image lists: a normal image list and a state image list.</span></span> <span data-ttu-id="b6ecf-261">Un elenco di immagini normale archivia le immagini selezionate, non selezionate e sovrapposte.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-261">A normal image list stores the selected, nonselected, and overlay images.</span></span> <span data-ttu-id="b6ecf-262">Un elenco di immagini di stato archivia le immagini di stato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-262">A state image list stores state images.</span></span> <span data-ttu-id="b6ecf-263">Utilizzare la funzione [**ImageList \_ create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) per creare un elenco di immagini e utilizzare altre funzioni dell'elenco immagini per aggiungere bitmap all'elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-263">Use the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function to create an image list, and use other image list functions to add bitmaps to the image list.</span></span> <span data-ttu-id="b6ecf-264">Quindi, per associare l'elenco di immagini al controllo di visualizzazione ad albero, usare il messaggio macchina virtuale [**TVM \_**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-264">Then, to associate the image list with the tree-view control, use the [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="b6ecf-265">Il messaggio [**TVM \_ getimagine**](tvm-getimagelist.md) recupera un handle per uno degli elenchi di immagini di un controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-265">The [**TVM\_GETIMAGELIST**](tvm-getimagelist.md) message retrieves a handle to one of a tree-view control's image lists.</span></span> <span data-ttu-id="b6ecf-266">Questo messaggio è utile se è necessario aggiungere altre immagini all'elenco.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-266">This message is useful if you need to add more images to the list.</span></span>

<span data-ttu-id="b6ecf-267">Oltre alle immagini selezionate e non selezionate, un elenco di immagini normale di un controllo di visualizzazione albero può contenere fino a quattro immagini sovrapposte.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-267">In addition to the selected and nonselected images, a tree-view control's normal image list can contain up to four overlay images.</span></span> <span data-ttu-id="b6ecf-268">Le immagini sovrapposte sono identificate da un indice in base uno e sono progettate per essere disegnate in modo trasparente sulle immagini selezionate e non selezionate.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-268">Overlay images are identified by a one-based index and are designed to be drawn transparently over the selected and nonselected images.</span></span> <span data-ttu-id="b6ecf-269">Per assegnare un indice della maschera di sovrapposizione a un'immagine nell'elenco di immagini normale, chiamare la funzione [**\_ SetOverlayImage di ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-269">To assign an overlay mask index to an image in the normal image list, call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function.</span></span>

<span data-ttu-id="b6ecf-270">Per impostazione predefinita, tutti gli elementi visualizzano la prima immagine nell'elenco di immagini normale per gli stati selezionati e non selezionati.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-270">By default, all items display the first image in the normal image list for both the selected and nonselected states.</span></span> <span data-ttu-id="b6ecf-271">Inoltre, per impostazione predefinita, gli elementi non visualizzano immagini sovrapposte o immagini di stato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-271">Also, by default, items do not display overlay images or state images.</span></span> <span data-ttu-id="b6ecf-272">È possibile modificare questi comportamenti predefiniti per un elemento inviando il messaggio [**TVM \_ INSERTITEM**](tvm-insertitem.md) o [**TVM \_ SetItem**](tvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-272">You can change these default behaviors for an item by sending the [**TVM\_INSERTITEM**](tvm-insertitem.md) or [**TVM\_SETITEM**](tvm-setitem.md) message.</span></span> <span data-ttu-id="b6ecf-273">Questi messaggi usano la struttura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) per specificare gli indici dell'elenco immagini per un elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-273">These messages use the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure to specify image list indexes for an item.</span></span>

<span data-ttu-id="b6ecf-274">Per specificare le immagini selezionate e non selezionate di un elemento, impostare i \_ bit dell'immagine TVIF SELECTEDIMAGE e TVIF \_ nel membro **mask** della struttura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) e specificare gli indici dall'elenco di immagini normali del controllo nei membri **iSelectImage** e **IImage** .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-274">To specify an item's selected and nonselected images, set the TVIF\_SELECTEDIMAGE and TVIF\_IMAGE bits in the **mask** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure and specify indexes from the control's normal image list in the **iSelectImage** and **iImage** members.</span></span> <span data-ttu-id="b6ecf-275">In alternativa, è possibile specificare il \_ valore i IMAGECALLBACK in **ISelectImage** e **IImage** anziché specificare gli indici.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-275">Alternatively, you can specify the I\_IMAGECALLBACK value in **iSelectImage** and **iImage** instead of specifying indexes.</span></span> <span data-ttu-id="b6ecf-276">In questo modo, il controllo esegue una query sulla finestra padre per un indice dell'elenco immagini ogni volta che l'elemento sta per essere ridisegnato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-276">This causes the control to query its parent window for an image list index each time the item is about to be redrawn.</span></span> <span data-ttu-id="b6ecf-277">Il controllo Invia il messaggio di notifica [ \_ GETDISPINFO di TVN](tvn-getdispinfo.md) per recuperare l'indice.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-277">The control sends the [TVN\_GETDISPINFO](tvn-getdispinfo.md) notification message to retrieve the index.</span></span>

<span data-ttu-id="b6ecf-278">Per associare un'immagine sovrapposta a un elemento, usare la macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) per specificare un indice della maschera di sovrapposizione nel membro di **stato** della struttura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-278">To associate an overlay image with an item, use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay mask index in the **state** member of the item's [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="b6ecf-279">È anche necessario impostare i bit [**TVIS \_ OVERLAYMASK**](tree-view-control-item-states.md) nel membro **stateMask** .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-279">You must also set the [**TVIS\_OVERLAYMASK**](tree-view-control-item-states.md) bits in the **stateMask** member.</span></span> <span data-ttu-id="b6ecf-280">Gli indici della maschera di sovrapposizione sono basati su uno. un indice pari a zero indica che non è stata specificata alcuna immagine sovrapposta.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-280">Overlay mask indexes are one-based; an index of zero indicates that no overlay image was specified.</span></span>

<span data-ttu-id="b6ecf-281">Le immagini di stato vengono archiviate in un elenco di immagini di stato separato e identificate in base al relativo indice.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-281">State images are stored in a separate state image list and identified by their index.</span></span> <span data-ttu-id="b6ecf-282">Per specificare l'elenco di immagini di stato, inviare un messaggio della macchina virtuale [**TVM \_**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-282">To specify the state image list, send a [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="b6ecf-283">A differenza del controllo di visualizzazione elenco, che usa un indice in base uno per identificare le immagini di stato, le immagini dello stato del controllo di visualizzazione albero sono identificate da un indice in base zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-283">Unlike the list-view control, which uses a one-based index to identify state images, tree-view control state images are identified by a zero-based index.</span></span> <span data-ttu-id="b6ecf-284">Tuttavia, un indice pari a zero indica che l'elemento non dispone di un'immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-284">However, an index of zero indicates that the item does not have a state image.</span></span> <span data-ttu-id="b6ecf-285">Di conseguenza, non è possibile usare l'immagine zero come immagine di stato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-285">Consequently, image zero cannot be used as a state image.</span></span> <span data-ttu-id="b6ecf-286">Per ulteriori informazioni sugli Stati e le immagini di stato degli elementi, vedere [Cenni preliminari sugli stati degli elementi della visualizzazione albero](#tree-view-item-states-overview).</span><span class="sxs-lookup"><span data-stu-id="b6ecf-286">For further discussion of item states and state images, see [Tree-View Item States Overview](#tree-view-item-states-overview).</span></span>

## <a name="drag-and-drop-operations"></a><span data-ttu-id="b6ecf-287">Operazioni di trascinamento della selezione</span><span class="sxs-lookup"><span data-stu-id="b6ecf-287">Drag-and-Drop Operations</span></span>

<span data-ttu-id="b6ecf-288">Un controllo di visualizzazione albero invia una notifica alla finestra padre quando l'utente inizia a trascinare un elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-288">A tree-view control notifies the parent window when the user starts to drag an item.</span></span> <span data-ttu-id="b6ecf-289">La finestra padre riceve un messaggio di notifica [ \_ BEGINDRAG di TVN](tvn-begindrag.md) quando l'utente inizia a trascinare un elemento con il pulsante sinistro del mouse e un messaggio di notifica di [TVN \_ BEGINRDRAG](tvn-beginrdrag.md) quando l'utente inizia il trascinamento con il pulsante destro.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-289">The parent window receives a [TVN\_BEGINDRAG](tvn-begindrag.md) notification message when the user begins dragging an item with the left mouse button and a [TVN\_BEGINRDRAG](tvn-beginrdrag.md) notification message when the user begins dragging with the right button.</span></span> <span data-ttu-id="b6ecf-290">È possibile impedire a un controllo di visualizzazione albero di inviare queste notifiche assegnando al controllo di visualizzazione albero lo stile [**\_ DISABLEDRAGDROP TV**](tree-view-control-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-290">You can prevent a tree-view control from sending these notifications by giving the tree-view control the [**TVS\_DISABLEDRAGDROP**](tree-view-control-window-styles.md) style.</span></span>

<span data-ttu-id="b6ecf-291">Per ottenere un'immagine da visualizzare durante un'operazione di trascinamento, usare il messaggio [**TVM \_ CREATEDRAGIMAGE**](tvm-createdragimage.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-291">You obtain an image to display during a drag operation by using the [**TVM\_CREATEDRAGIMAGE**](tvm-createdragimage.md) message.</span></span> <span data-ttu-id="b6ecf-292">Il controllo di visualizzazione albero crea una bitmap di trascinamento in base all'etichetta dell'elemento trascinato.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-292">The tree-view control creates a dragging bitmap based on the label of the item being dragged.</span></span> <span data-ttu-id="b6ecf-293">Il controllo di visualizzazione albero crea quindi un elenco di immagini, la aggiunge alla bitmap e restituisce l'handle all'elenco di immagini.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-293">Then the tree-view control creates an image list, adds the bitmap to it, and returns the handle to the image list.</span></span>

<span data-ttu-id="b6ecf-294">È necessario fornire il codice che trascina effettivamente l'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-294">You must provide the code that actually drags the item.</span></span> <span data-ttu-id="b6ecf-295">Ciò comporta in genere l'uso delle funzionalità di trascinamento delle funzioni dell'elenco immagini e l'elaborazione dei messaggi [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) e [**WM \_ LBUTTONUP**](/windows/desktop/inputdev/wm-lbuttonup) (o [**WM \_ RBUTTONUP**](/windows/desktop/inputdev/wm-rbuttonup)) inviati alla finestra padre dopo l'inizio dell'operazione di trascinamento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-295">This typically involves using the dragging capabilities of the image list functions and processing the [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) and [**WM\_LBUTTONUP**](/windows/desktop/inputdev/wm-lbuttonup) (or [**WM\_RBUTTONUP**](/windows/desktop/inputdev/wm-rbuttonup)) messages sent to the parent window after the drag operation has begun.</span></span>

<span data-ttu-id="b6ecf-296">Se gli elementi di un controllo di visualizzazione albero sono le destinazioni delle operazioni di trascinamento della selezione, è necessario stabilire quando il puntatore del mouse si trova su un elemento di destinazione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-296">If items in a tree-view control are to be the targets of drag-and-drop operations, you need to know when the mouse pointer is on a target item.</span></span> <span data-ttu-id="b6ecf-297">Per informazioni, vedere la pagina relativa all'uso del messaggio [**TVM \_ HITTEST**](tvm-hittest.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-297">You can find out by using the [**TVM\_HITTEST**](tvm-hittest.md) message.</span></span> <span data-ttu-id="b6ecf-298">È possibile specificare l'indirizzo di una struttura [**TVHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) che contiene le coordinate correnti del puntatore del mouse.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-298">You specify the address of a [**TVHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) structure that contains the current coordinates of the mouse pointer.</span></span> <span data-ttu-id="b6ecf-299">Quando la funzione [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) restituisce, la struttura contiene un flag che indica la posizione del puntatore del mouse rispetto al controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-299">When the [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) function returns, the structure contains a flag indicating the location of the mouse pointer relative to the tree-view control.</span></span> <span data-ttu-id="b6ecf-300">Se il puntatore è posizionato su un elemento nel controllo di visualizzazione albero, la struttura contiene anche l'handle per l'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-300">If the pointer is over an item in the tree-view control, the structure contains the handle to the item as well.</span></span>

<span data-ttu-id="b6ecf-301">È possibile indicare che un elemento è la destinazione di un'operazione di trascinamento della selezione usando il messaggio di impostazione della [**\_ Proprietà TVM**](tvm-setitem.md) per impostare lo stato sul valore [**\_ DROPHILITED di TVIS**](tree-view-control-item-states.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-301">You can indicate that an item is the target of a drag-and-drop operation by using the [**TVM\_SETITEM**](tvm-setitem.md) message to set the state to the [**TVIS\_DROPHILITED**](tree-view-control-item-states.md) value.</span></span> <span data-ttu-id="b6ecf-302">Un elemento con questo stato viene disegnato nello stile usato per indicare una destinazione di trascinamento della selezione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-302">An item that has this state is drawn in the style used to indicate a drag-and-drop target.</span></span>

## <a name="tree-view-control-notification-messages"></a><span data-ttu-id="b6ecf-303">Messaggi di notifica del controllo Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-303">Tree-View Control Notification Messages</span></span>

<span data-ttu-id="b6ecf-304">Un controllo di visualizzazione albero invia i messaggi di notifica seguenti alla finestra padre sotto forma di messaggi [**di \_ notifica WM**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-304">A tree-view control sends the following notification messages to its parent window in the form of [**WM\_NOTIFY**](wm-notify.md) messages.</span></span>



| <span data-ttu-id="b6ecf-305">Notifica</span><span class="sxs-lookup"><span data-stu-id="b6ecf-305">Notification</span></span>                                    | <span data-ttu-id="b6ecf-306">Descrizione</span><span class="sxs-lookup"><span data-stu-id="b6ecf-306">Description</span></span>                                                                            |
|-------------------------------------------------|----------------------------------------------------------------------------------------|
| [<span data-ttu-id="b6ecf-307">\_BEGINDRAG TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-307">TVN\_BEGINDRAG</span></span>](tvn-begindrag.md)             | <span data-ttu-id="b6ecf-308">Segnala l'inizio di un'operazione di trascinamento della selezione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-308">Signals the start of a drag-and-drop operation.</span></span>                                        |
| <span data-ttu-id="b6ecf-309">[\_BEGINLABELEDIT TVN](tvn-beginlabeledit.md)  </span><span class="sxs-lookup"><span data-stu-id="b6ecf-309">[TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md)  </span></span> | <span data-ttu-id="b6ecf-310">Segnala l'inizio della modifica dell'etichetta sul posto.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-310">Signals the start of in-place label editing.</span></span>                                           |
| [<span data-ttu-id="b6ecf-311">\_BEGINRDRAG TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-311">TVN\_BEGINRDRAG</span></span>](tvn-beginrdrag.md)           | <span data-ttu-id="b6ecf-312">Segnala che il pulsante destro del mouse ha avviato un'operazione di trascinamento della selezione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-312">Signals that the right mouse button has started a drag-and-drop operation.</span></span>             |
| [<span data-ttu-id="b6ecf-313">\_DeleteItem TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-313">TVN\_DELETEITEM</span></span>](tvn-deleteitem.md)           | <span data-ttu-id="b6ecf-314">Segnala l'eliminazione di un elemento specifico.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-314">Signals the deletion of a specific item.</span></span>                                               |
| [<span data-ttu-id="b6ecf-315">\_ENDLABELEDIT TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-315">TVN\_ENDLABELEDIT</span></span>](tvn-endlabeledit.md)       | <span data-ttu-id="b6ecf-316">Segnala la fine della modifica dell'etichetta.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-316">Signals the end of label editing.</span></span>                                                      |
| [<span data-ttu-id="b6ecf-317">\_GETDISPINFO TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-317">TVN\_GETDISPINFO</span></span>](tvn-getdispinfo.md)         | <span data-ttu-id="b6ecf-318">Richiede le informazioni richieste dal controllo di visualizzazione albero per visualizzare un elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-318">Requests information that the tree-view control requires to display an item.</span></span>           |
| [<span data-ttu-id="b6ecf-319">\_ITEMEXPANDED TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-319">TVN\_ITEMEXPANDED</span></span>](tvn-itemexpanded.md)       | <span data-ttu-id="b6ecf-320">Segnala che l'elenco di elementi figlio di un elemento padre è stato espanso o compresso.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-320">Signals that a parent item's list of child items was expanded or collapsed.</span></span>            |
| [<span data-ttu-id="b6ecf-321">\_ITEMEXPANDING TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-321">TVN\_ITEMEXPANDING</span></span>](tvn-itemexpanding.md)     | <span data-ttu-id="b6ecf-322">Segnala che l'elenco di elementi figlio di un elemento padre sta per essere espanso o compresso.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-322">Signals that a parent item's list of child items is about to be expanded or collapsed.</span></span> |
| [<span data-ttu-id="b6ecf-323">KeyDown di TVN \_</span><span class="sxs-lookup"><span data-stu-id="b6ecf-323">TVN\_KEYDOWN</span></span>](tvn-keydown.md)                 | <span data-ttu-id="b6ecf-324">Segnala un evento di tastiera.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-324">Signals a keyboard event.</span></span>                                                              |
| [<span data-ttu-id="b6ecf-325">\_SELCHANGED TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-325">TVN\_SELCHANGED</span></span>](tvn-selchanged.md)           | <span data-ttu-id="b6ecf-326">Segnala che la selezione è cambiata da un elemento a un altro.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-326">Signals that the selection has changed from one item to another.</span></span>                       |
| [<span data-ttu-id="b6ecf-327">\_SELCHANGING TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-327">TVN\_SELCHANGING</span></span>](tvn-selchanging.md)         | <span data-ttu-id="b6ecf-328">Segnala che la selezione sta per essere modificata da un elemento a un altro.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-328">Signals that the selection is about to be changed from one item to another.</span></span>            |
| [<span data-ttu-id="b6ecf-329">\_SETDISPINFO TVN</span><span class="sxs-lookup"><span data-stu-id="b6ecf-329">TVN\_SETDISPINFO</span></span>](tvn-setdispinfo.md)         | <span data-ttu-id="b6ecf-330">Notifica a una finestra padre che deve aggiornare le informazioni che gestisce per un elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-330">Notifies a parent window that it must update the information it maintains for an item.</span></span> |



 

## <a name="default-tree-view-control-message-processing"></a><span data-ttu-id="b6ecf-331">Elaborazione predefinita dei messaggi di controllo Tree-View</span><span class="sxs-lookup"><span data-stu-id="b6ecf-331">Default Tree-View Control Message Processing</span></span>

<span data-ttu-id="b6ecf-332">In questa sezione viene descritta l'elaborazione dei messaggi della finestra eseguita da un controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-332">This section describes the window message processing performed by a tree-view control.</span></span> <span data-ttu-id="b6ecf-333">I messaggi specifici dei controlli di visualizzazione albero sono descritti in altre sezioni di questo documento, quindi non sono inclusi qui.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-333">Messages specific to tree-view controls are discussed in other sections of this document, so they are not included here.</span></span>



| <span data-ttu-id="b6ecf-334">Message</span><span class="sxs-lookup"><span data-stu-id="b6ecf-334">Message</span></span>                                            | <span data-ttu-id="b6ecf-335">Elaborazione eseguita</span><span class="sxs-lookup"><span data-stu-id="b6ecf-335">Processing performed</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="b6ecf-336">**\_comando WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-336">**WM\_COMMAND**</span></span>](/windows/desktop/menurc/wm-command)               | <span data-ttu-id="b6ecf-337">Elabora i messaggi di notifica del controllo di modifica [en \_ Update](en-update.md) e [en \_ KILLFOCUS](en-killfocus.md) e trasmette tutte le altre notifiche di controllo di modifica alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-337">Processes the [EN\_UPDATE](en-update.md) and [EN\_KILLFOCUS](en-killfocus.md) edit control notification messages and forwards all other edit control notifications to the parent window.</span></span> <span data-ttu-id="b6ecf-338">Nessun valore restituito.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-338">There is no return value.</span></span>                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="b6ecf-339">**creazione di WM \_**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-339">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="b6ecf-340">Alloca memoria e inizializza le strutture di dati interne.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-340">Allocates memory and initializes internal data structures.</span></span> <span data-ttu-id="b6ecf-341">Restituisce zero se ha esito positivo oppure-1 in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-341">It returns zero if successful, or -1 otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="b6ecf-342">**eliminazione di WM \_**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-342">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="b6ecf-343">Libera tutte le risorse di sistema associate al controllo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-343">Frees all system resources associated with the control.</span></span> <span data-ttu-id="b6ecf-344">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-344">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="b6ecf-345">**\_Abilitazione WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-345">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)                 | <span data-ttu-id="b6ecf-346">Abilita o Disabilita il controllo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-346">Enables or disables the control.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="b6ecf-347">**\_ERASEBKGND WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-347">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="b6ecf-348">Cancella lo sfondo della finestra usando il colore di sfondo corrente per il controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-348">Erases the window background using the current background color for the tree-view control.</span></span> <span data-ttu-id="b6ecf-349">Restituisce **true**.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-349">It returns **TRUE**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="b6ecf-350">**\_GETDLGCODE WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-350">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="b6ecf-351">Restituisce una combinazione dei valori DLGC \_ WANTARROWS e DLGC \_ WANTCHARS.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-351">Returns a combination of the DLGC\_WANTARROWS and DLGC\_WANTCHARS values.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="b6ecf-352">**\_tipo di carattere WM GetFont**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-352">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="b6ecf-353">Restituisce l'handle per il tipo di carattere dell'etichetta corrente.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-353">Returns the handle to the current label font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="b6ecf-354">**\_HSCROLL WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-354">**WM\_HSCROLL**</span></span>](wm-hscroll.md)                  | <span data-ttu-id="b6ecf-355">Scorre il controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-355">Scrolls the tree-view control.</span></span> <span data-ttu-id="b6ecf-356">Restituisce **true** se lo scorrimento si verifica oppure **false** in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-356">It returns **TRUE** if scrolling occurs, or **FALSE** otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="b6ecf-357">**KeyDown di WM \_**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-357">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)             | <span data-ttu-id="b6ecf-358">Invia il messaggio di notifica di [TVN \_ KeyDown](tvn-keydown.md) alla finestra padre per tutte le chiavi.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-358">Sends the [TVN\_KEYDOWN](tvn-keydown.md) notification message to the parent window for all keys.</span></span> <span data-ttu-id="b6ecf-359">Invia il messaggio di notifica di [ritorno a Nm \_ (visualizzazione albero)](nm-return-tree-view-.md) quando l'utente preme il tasto INVIO.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-359">Sends the [NM\_RETURN (tree view)](nm-return-tree-view-.md) notification message when the user presses the ENTER key.</span></span> <span data-ttu-id="b6ecf-360">Sposta il punto di inserimento quando l'utente preme i tasti di direzione o la pagina su, PGGIÙ, HOME, fine o BACKSPACE.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-360">It moves the caret when the user presses the direction keys or the PAGE UP, PAGE DOWN, HOME, END, or BACKSPACE key.</span></span> <span data-ttu-id="b6ecf-361">Scorre il controllo di visualizzazione ad albero quando l'utente preme il tasto CTRL in combinazione con tali chiavi.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-361">It scrolls the tree-view control when the user presses the CTRL key in combination with those keys.</span></span> <span data-ttu-id="b6ecf-362">Restituisce **true** se una chiave viene elaborata; in caso contrario, **false** .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-362">It returns **TRUE** if a key is processed, or **FALSE** otherwise.</span></span> |
| [<span data-ttu-id="b6ecf-363">**\_KILLFOCUS WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-363">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)         | <span data-ttu-id="b6ecf-364">Ridisegna l'elemento con lo stato attivo, se presente, e invia un messaggio di notifica [ \_ KILLFOCUS (visualizzazione albero) Nm](nm-killfocus-tree-view.md) alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-364">Repaints the focused item, if any, and sends an [NM\_KILLFOCUS (tree view)](nm-killfocus-tree-view.md) notification message to the parent window.</span></span>                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="b6ecf-365">**\_LBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-365">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="b6ecf-366">Annulla la modifica delle etichette e, se è stato fatto doppio clic su un elemento, invia il messaggio di notifica [DBLCLK di Nm \_ (visualizzazione albero)](nm-dblclk-tree-view.md) alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-366">Cancels label editing and, if an item was double-clicked, sends the [NM\_DBLCLK (tree view)](nm-dblclk-tree-view.md) notification message to the parent window.</span></span> <span data-ttu-id="b6ecf-367">Se la finestra padre restituisce 0, il controllo di visualizzazione albero consente di impostare lo stato espanso dell'elemento, inviando la finestra padre ai messaggi di notifica di [TVN \_ ITEMEXPANDING](tvn-itemexpanding.md) e [TVN \_ ITEMEXPANDED](tvn-itemexpanded.md) .</span><span class="sxs-lookup"><span data-stu-id="b6ecf-367">If the parent window returns 0, the tree-view control toggles the expanded state of the item, sending the parent window the [TVN\_ITEMEXPANDING](tvn-itemexpanding.md) and [TVN\_ITEMEXPANDED](tvn-itemexpanded.md) notification messages.</span></span> <span data-ttu-id="b6ecf-368">Nessun valore restituito.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-368">There is no return value.</span></span>                                                                             |
| [<span data-ttu-id="b6ecf-369">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-369">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="b6ecf-370">Consente di impostare lo stato espanso se l'utente ha fatto clic sul pulsante associato a un elemento padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-370">Toggles the expanded state if the user clicked the button associated with a parent item.</span></span> <span data-ttu-id="b6ecf-371">Se l'utente ha fatto clic sull'etichetta di un elemento, il controllo di visualizzazione albero seleziona e imposta lo stato attivo sull'elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-371">If the user clicked an item label, the tree-view control selects and sets the focus to the item.</span></span> <span data-ttu-id="b6ecf-372">Se l'utente sposta il mouse prima di rilasciare il pulsante del mouse, il controllo di visualizzazione albero inizia un'operazione di trascinamento della selezione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-372">If the user moves the mouse before releasing the mouse button, the tree-view control begins a drag-and-drop operation.</span></span> <span data-ttu-id="b6ecf-373">Nessun valore restituito.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-373">There is no return value.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="b6ecf-374">**\_disegno WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-374">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="b6ecf-375">Disegna l'area non valida del controllo di visualizzazione ad albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-375">Paints the invalid region of the tree-view control.</span></span> <span data-ttu-id="b6ecf-376">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-376">It returns zero.</span></span> <span data-ttu-id="b6ecf-377">Se il parametro *wParam* è diverso da **null**, il controllo presuppone che il valore sia un handle per un contesto di dispositivo (HDC) e disegni che usano tale contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-377">If the *wParam* parameter is non-**NULL**, the control assumes that the value is a handle to a device context (HDC) and paints using that device context.</span></span>                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="b6ecf-378">**\_RBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-378">**WM\_RBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-rbuttondown)     | <span data-ttu-id="b6ecf-379">Verifica se è stato fatto clic su un elemento ed è stata avviata un'operazione di trascinamento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-379">Checks to see if an item was clicked and a drag operation was begun.</span></span> <span data-ttu-id="b6ecf-380">Se l'operazione è iniziata, invia un messaggio di notifica [ \_ BEGINRDRAG di TVN](tvn-beginrdrag.md) alla finestra padre ed evidenzia l'obiettivo di rilascio.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-380">If the operation has begun, it sends a [TVN\_BEGINRDRAG](tvn-beginrdrag.md) notification message to the parent window and highlights the drop target.</span></span> <span data-ttu-id="b6ecf-381">In caso contrario, viene inviato un messaggio di notifica [ \_ RCLICK (visualizzazione albero)](nm-rclick-tree-view.md) per la finestra padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-381">Otherwise, it sends an [NM\_RCLICK (tree view)](nm-rclick-tree-view.md) notification message to the parent window.</span></span> <span data-ttu-id="b6ecf-382">Nessun valore restituito.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-382">There is no return value.</span></span>                                                                                                                                           |
| [<span data-ttu-id="b6ecf-383">**\_stato attivo WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-383">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)           | <span data-ttu-id="b6ecf-384">Ridisegna l'elemento con lo stato attivo, se presente, e invia un messaggio di notifica con lo [ \_ stato attivo di Nm](nm-setfocus.md) alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-384">Repaints the focused item, if any, and sends an [NM\_SETFOCUS](nm-setfocus.md) notification message to the parent window.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="b6ecf-385">**\_tipo di carattere WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-385">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="b6ecf-386">Salva l'handle del tipo di carattere specificato e ridisegna il controllo di visualizzazione albero usando il nuovo tipo di carattere.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-386">Saves the specified font handle and repaints the tree-view control using the new font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="b6ecf-387">**\_SETREDRAW WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-387">**WM\_SETREDRAW**</span></span>](/windows/desktop/gdi/wm-setredraw)              | <span data-ttu-id="b6ecf-388">Imposta o cancella il flag di ritraccia.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-388">Sets or clears the redraw flag.</span></span> <span data-ttu-id="b6ecf-389">Il controllo di visualizzazione albero viene ridisegnato dopo l'impostazione del flag di ritraccia.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-389">The tree-view control is redrawn after the redraw flag is set.</span></span> <span data-ttu-id="b6ecf-390">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-390">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="b6ecf-391">**\_dimensioni WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-391">**WM\_SIZE**</span></span>](/windows/desktop/winmsg/wm-size)                     | <span data-ttu-id="b6ecf-392">Ricalcola le variabili interne che dipendono dalle dimensioni dell'area client del controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-392">Recomputes internal variables that depend on the size of the tree-view control's client area.</span></span> <span data-ttu-id="b6ecf-393">Restituisce **true**.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-393">It returns **TRUE**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="b6ecf-394">**\_STYLECHANGED WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-394">**WM\_STYLECHANGED**</span></span>](/windows/desktop/winmsg/wm-stylechanged)     | <span data-ttu-id="b6ecf-395">Annulla la modifica dell'etichetta e ridisegnato il controllo di visualizzazione ad albero usando i nuovi stili.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-395">Cancels label editing and redraws the tree-view control using the new styles.</span></span> <span data-ttu-id="b6ecf-396">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-396">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="b6ecf-397">**\_SYSCOLORCHANGE WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-397">**WM\_SYSCOLORCHANGE**</span></span>](/windows/desktop/gdi/wm-syscolorchange)    | <span data-ttu-id="b6ecf-398">Ridisegnato il controllo di visualizzazione ad albero usando il nuovo colore se è impostato il flag di ricreazione.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-398">Redraws the tree-view control using the new color if the redraw flag is set.</span></span> <span data-ttu-id="b6ecf-399">Nessun valore restituito.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-399">There is no return value.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="b6ecf-400">**\_timer WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-400">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)                   | <span data-ttu-id="b6ecf-401">Inizia a modificare l'etichetta di un elemento.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-401">Begins editing an item label.</span></span> <span data-ttu-id="b6ecf-402">Se l'utente fa clic sull'etichetta dell'elemento con lo stato attivo, il controllo di visualizzazione albero imposta un timer anziché immettere immediatamente la modalità di modifica.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-402">If the user clicks the label of the focused item, the tree-view control sets a timer instead of entering edit mode immediately.</span></span> <span data-ttu-id="b6ecf-403">Il timer consente alla visualizzazione albero di evitare di accedere alla modalità di modifica se l'utente fa doppio clic sull'etichetta.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-403">The timer makes it possible for the tree view to avoid entering edit mode if the user double-clicks the label.</span></span> <span data-ttu-id="b6ecf-404">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-404">It returns zero.</span></span>                                                                                                                                                                                                                       |
| [<span data-ttu-id="b6ecf-405">**\_VSCROLL WM**</span><span class="sxs-lookup"><span data-stu-id="b6ecf-405">**WM\_VSCROLL**</span></span>](wm-vscroll.md)                  | <span data-ttu-id="b6ecf-406">Scorre il controllo di visualizzazione albero.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-406">Scrolls the tree-view control.</span></span> <span data-ttu-id="b6ecf-407">Restituisce **true** se lo scorrimento si verifica oppure **false** in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="b6ecf-407">It returns **TRUE** if scrolling occurs, or **FALSE** otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                     |



 

## <a name="related-topics"></a><span data-ttu-id="b6ecf-408">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="b6ecf-408">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b6ecf-409">ESEMPIO: CustDTv illustra il progetto personalizzato in un oggetto TreeView (Q248496)</span><span class="sxs-lookup"><span data-stu-id="b6ecf-409">SAMPLE: CustDTv Illustrates Custom Draw in a TreeView (Q248496)</span></span>](https://support.microsoft.com/default.aspx?scid=kb;EN-US;q248496)
</dt> </dl>

 

 