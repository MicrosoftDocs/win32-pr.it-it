---
title: Informazioni sui controlli intestazione
description: Un controllo intestazione è una finestra che in genere è posizionata sopra le colonne di testo o numeri. Contiene un titolo per ogni colonna, che può essere divisa in parti.
ms.assetid: b464fb9a-e342-4209-ba6f-15b5388f3914
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6d9beaa9dc3bd8eb94d749ec271902a480b853e
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/21/2020
ms.locfileid: "103730402"
---
# <a name="about-header-controls"></a><span data-ttu-id="002a7-104">Informazioni sui controlli intestazione</span><span class="sxs-lookup"><span data-stu-id="002a7-104">About Header Controls</span></span>

<span data-ttu-id="002a7-105">Un controllo intestazione è una finestra che in genere è posizionata sopra le colonne di testo o numeri.</span><span class="sxs-lookup"><span data-stu-id="002a7-105">A header control is a window that is usually positioned above columns of text or numbers.</span></span> <span data-ttu-id="002a7-106">Contiene un titolo per ogni colonna, che può essere divisa in parti.</span><span class="sxs-lookup"><span data-stu-id="002a7-106">It contains a title for each column, and it can be divided into parts.</span></span> <span data-ttu-id="002a7-107">L'utente può trascinare i divisori che separano le parti per impostare la larghezza di ogni colonna.</span><span class="sxs-lookup"><span data-stu-id="002a7-107">The user can drag the dividers that separate the parts to set the width of each column.</span></span> <span data-ttu-id="002a7-108">Nella figura seguente viene illustrato un controllo intestazione con colonne con etichetta che forniscono informazioni dettagliate sui file in una directory.</span><span class="sxs-lookup"><span data-stu-id="002a7-108">The following illustration shows a header control that has labeled columns that give detailed information about files in a directory.</span></span>

![Screenshot di una finestra di dialogo con un controllo intestazione a tre colonne](images/header.png)

<span data-ttu-id="002a7-110">È possibile creare un controllo Header usando la funzione [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , specificando la classe della finestra di [**\_ intestazione WC**](common-control-window-classes.md) e gli stili appropriati del [controllo intestazione](header-control-styles.md).</span><span class="sxs-lookup"><span data-stu-id="002a7-110">You can create a header control by using the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_HEADER**](common-control-window-classes.md) window class and the appropriate [Header Control Styles](header-control-styles.md).</span></span> <span data-ttu-id="002a7-111">Questa classe della finestra viene registrata quando viene caricata la DLL del controllo comune.</span><span class="sxs-lookup"><span data-stu-id="002a7-111">This window class is registered when the common control DLL is loaded.</span></span> <span data-ttu-id="002a7-112">Per assicurarsi che questa DLL venga caricata, utilizzare la funzione [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) .</span><span class="sxs-lookup"><span data-stu-id="002a7-112">To ensure that this DLL is loaded, use the [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function.</span></span> <span data-ttu-id="002a7-113">Dopo aver creato un controllo intestazione, è possibile suddividerlo in parti, impostare il testo in ogni parte e controllare l'aspetto della finestra usando i messaggi della finestra di intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-113">After you create a header control, you can divide it into parts, set the text in each part, and control the appearance of the window by using header window messages.</span></span>

<span data-ttu-id="002a7-114">È possibile creare un controllo intestazione come finestra figlio di un altro controllo, ad esempio una casella di riepilogo.</span><span class="sxs-lookup"><span data-stu-id="002a7-114">A header control can be created as a child window of another control, such as a list box.</span></span> <span data-ttu-id="002a7-115">Tuttavia, il controllo padre non è a conoscenza del controllo intestazione e non consente lo spazio occupato dall'intestazione, con il risultato che gli elementi dell'elenco verranno visualizzati dietro l'intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-115">However, the parent control is not aware of the header control and does not allow for the space taken up by the header, with the result that list items will appear behind the header.</span></span> <span data-ttu-id="002a7-116">Se si desidera utilizzare un controllo intestazione in una casella di riepilogo o un altro controllo, il controllo padre deve essere creato dal proprietario in modo che tutti gli elementi vengano visualizzati nella posizione corretta.</span><span class="sxs-lookup"><span data-stu-id="002a7-116">If you wish to use a header control in a list box or other control, the parent control must be owner-drawn so that all items are displayed in the correct position.</span></span>

<span data-ttu-id="002a7-117">I controlli di visualizzazione elenco dispongono già di controlli intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-117">List-view controls already have header controls.</span></span> <span data-ttu-id="002a7-118">Anziché creare un controllo intestazione per un controllo visualizzazione elenco, è possibile usare [**LVM \_ GetHeader**](lvm-getheader.md) o [**ListView \_ GetHeader**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) per recuperare il controllo esistente.</span><span class="sxs-lookup"><span data-stu-id="002a7-118">Instead of creating a header control for a list-view control, you use [**LVM\_GETHEADER**](lvm-getheader.md) or [**ListView\_GetHeader**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) to retrieve the existing control.</span></span>

-   [<span data-ttu-id="002a7-119">Dimensioni e posizione del controllo intestazione</span><span class="sxs-lookup"><span data-stu-id="002a7-119">Header Control Size and Position</span></span>](#header-control-size-and-position)
-   [<span data-ttu-id="002a7-120">Elementi</span><span class="sxs-lookup"><span data-stu-id="002a7-120">Items</span></span>](#items)
-   [<span data-ttu-id="002a7-121">Controlli intestazione creati dal proprietario</span><span class="sxs-lookup"><span data-stu-id="002a7-121">Owner-Drawn Header Controls</span></span>](#owner-drawn-header-controls)
-   [<span data-ttu-id="002a7-122">Filtri di controllo intestazione</span><span class="sxs-lookup"><span data-stu-id="002a7-122">Header Control Filters</span></span>](#header-control-filters)
-   [<span data-ttu-id="002a7-123">Elaborazione del messaggio di controllo intestazione predefinita</span><span class="sxs-lookup"><span data-stu-id="002a7-123">Default Header Control Message Processing</span></span>](#default-header-control-message-processing)

## <a name="header-control-size-and-position"></a><span data-ttu-id="002a7-124">Dimensioni e posizione del controllo intestazione</span><span class="sxs-lookup"><span data-stu-id="002a7-124">Header Control Size and Position</span></span>

<span data-ttu-id="002a7-125">In genere, è necessario impostare le dimensioni e la posizione di un controllo intestazione in modo che rientrino nei limiti di un determinato rettangolo, ad esempio l'area client di una finestra.</span><span class="sxs-lookup"><span data-stu-id="002a7-125">Typically, you must set the size and position of a header control to fit within the boundaries of a particular rectangle, such as the client area of a window.</span></span> <span data-ttu-id="002a7-126">Utilizzando il messaggio [**di \_ layout HDM**](hdm-layout.md) , è possibile recuperare i valori di dimensioni e posizioni appropriati dal controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-126">By using the [**HDM\_LAYOUT**](hdm-layout.md) message, you can retrieve the appropriate size and position values from the header control.</span></span>

<span data-ttu-id="002a7-127">Quando si invia il [**\_ layout HDM**](hdm-layout.md), viene specificato l'indirizzo di una struttura [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) che contiene le coordinate del rettangolo che il controllo intestazione deve occupare e fornisce un puntatore a una struttura [**WINDOWPOS**](/windows/win32/api/winuser/ns-winuser-windowpos) .</span><span class="sxs-lookup"><span data-stu-id="002a7-127">When sending [**HDM\_LAYOUT**](hdm-layout.md), you specify the address of an [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) structure that contains the coordinates of the rectangle that the header control is to occupy and provides a pointer to a [**WINDOWPOS**](/windows/win32/api/winuser/ns-winuser-windowpos) structure.</span></span> <span data-ttu-id="002a7-128">Il controllo Compila la struttura **WINDOWPOS** con i valori di posizione e dimensioni appropriati per posizionare il controllo lungo la parte superiore del rettangolo specificato.</span><span class="sxs-lookup"><span data-stu-id="002a7-128">The control fills the **WINDOWPOS** structure with size and position values appropriate for positioning the control along the top of the specified rectangle.</span></span> <span data-ttu-id="002a7-129">Il valore altezza è la somma delle altezze dei bordi orizzontali del controllo e l'altezza media dei caratteri nel tipo di carattere attualmente selezionato nel contesto di dispositivo del controllo.</span><span class="sxs-lookup"><span data-stu-id="002a7-129">The height value is the sum of the heights of the control's horizontal borders and the average height of characters in the font currently selected into the control's device context.</span></span>

<span data-ttu-id="002a7-130">Se si vuole usare il [**\_ layout HDM**](hdm-layout.md) per impostare le dimensioni iniziali e la posizione di un controllo intestazione, impostare lo stato di visibilità iniziale del controllo in modo che sia nascosto.</span><span class="sxs-lookup"><span data-stu-id="002a7-130">If you want to use [**HDM\_LAYOUT**](hdm-layout.md) to set the initial size and position of a header control, set the initial visibility state of the control so that it is hidden.</span></span> <span data-ttu-id="002a7-131">Dopo aver inviato il **\_ layout HDM** per recuperare i valori di dimensioni e posizione, è possibile usare la funzione [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) per impostare le nuove dimensioni, la posizione e lo stato di visibilità.</span><span class="sxs-lookup"><span data-stu-id="002a7-131">After sending **HDM\_LAYOUT** to retrieve the size and position values, you can use the [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) function to set the new size, position, and visibility state.</span></span>

## <a name="items"></a><span data-ttu-id="002a7-132">Elementi</span><span class="sxs-lookup"><span data-stu-id="002a7-132">Items</span></span>

<span data-ttu-id="002a7-133">Un controllo intestazione contiene in genere diversi elementi di intestazione che definiscono le colonne del controllo.</span><span class="sxs-lookup"><span data-stu-id="002a7-133">A header control typically has several header items that define the columns of the control.</span></span> <span data-ttu-id="002a7-134">Per aggiungere un elemento a un controllo intestazione, inviare il messaggio [**HDM \_ INSERTITEM**](hdm-insertitem.md) al controllo.</span><span class="sxs-lookup"><span data-stu-id="002a7-134">You add an item to a header control by sending the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to the control.</span></span> <span data-ttu-id="002a7-135">Il messaggio include l'indirizzo di una struttura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) .</span><span class="sxs-lookup"><span data-stu-id="002a7-135">The message includes the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure.</span></span> <span data-ttu-id="002a7-136">Questa struttura definisce le proprietà dell'elemento di intestazione, che può includere una stringa, un'immagine bitmap, una dimensione iniziale e un valore **lParam** definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-136">This structure defines the properties of the header item, which can include a string, a bitmapped image, an initial size, and an application-defined **LPARAM** value.</span></span>

<span data-ttu-id="002a7-137">Il membro **FMT** della struttura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) di un elemento può includere il flag **HDF \_ String** o **HDF \_ bitmap** per indicare se il controllo Visualizza la stringa o la bitmap dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="002a7-137">The **fmt** member of an item's [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure can include either the **HDF\_STRING** or **HDF\_BITMAP** flag to indicate whether the control displays the item's string or bitmap.</span></span> <span data-ttu-id="002a7-138">Se si desidera visualizzare sia una stringa che una bitmap, creare un elemento creato dal proprietario impostando il membro **FMT** in modo da includere il flag **HDF \_ OWNERDRAW** .</span><span class="sxs-lookup"><span data-stu-id="002a7-138">If you want to display both a string and a bitmap, create an owner-drawn item by setting the **fmt** member to include the **HDF\_OWNERDRAW** flag.</span></span> <span data-ttu-id="002a7-139">La struttura **HDITEM** specifica anche i flag di formattazione che indicano al controllo se allineare al centro, a sinistra o a destra la stringa o la bitmap nel rettangolo dell'elemento.</span><span class="sxs-lookup"><span data-stu-id="002a7-139">The **HDITEM** structure also specifies formatting flags that tell the control whether to center, left-align, or right-align the string or bitmap in the item's rectangle.</span></span>

<span data-ttu-id="002a7-140">[**HDM \_ INSERTITEM**](hdm-insertitem.md) restituisce l'indice dell'elemento appena aggiunto.</span><span class="sxs-lookup"><span data-stu-id="002a7-140">[**HDM\_INSERTITEM**](hdm-insertitem.md) returns the index of the newly added item.</span></span> <span data-ttu-id="002a7-141">È possibile utilizzare l'indice in altri messaggi per impostare le proprietà o recuperare le informazioni sull'elemento.</span><span class="sxs-lookup"><span data-stu-id="002a7-141">You can use the index in other messages to set properties or retrieve information about the item.</span></span> <span data-ttu-id="002a7-142">È possibile eliminare un elemento usando il messaggio [**HDM \_ DeleteItem**](hdm-deleteitem.md) , specificando l'indice dell'elemento da eliminare.</span><span class="sxs-lookup"><span data-stu-id="002a7-142">You can delete an item by using the [**HDM\_DELETEITEM**](hdm-deleteitem.md) message, specifying the index of the item to delete.</span></span>

<span data-ttu-id="002a7-143">Per impostare le proprietà di un elemento di intestazione esistente e il messaggio [**\_ GetItem di HDM**](hdm-getitem.md) per recuperare le proprietà correnti di un elemento, è possibile utilizzare il messaggio [**HDM \_**](hdm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="002a7-143">You can use the [**HDM\_SETITEM**](hdm-setitem.md) message to set the properties of an existing header item and the [**HDM\_GETITEM**](hdm-getitem.md) message to retrieve the current properties of an item.</span></span> <span data-ttu-id="002a7-144">Per recuperare un conteggio degli elementi in un controllo Header, usare il messaggio [**HDM \_ GETITEMCOUNT**](hdm-getitemcount.md) .</span><span class="sxs-lookup"><span data-stu-id="002a7-144">To retrieve a count of the items in a header control, use the [**HDM\_GETITEMCOUNT**](hdm-getitemcount.md) message.</span></span>

## <a name="owner-drawn-header-controls"></a><span data-ttu-id="002a7-145">Controlli intestazione Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="002a7-145">Owner-Drawn Header Controls</span></span>

<span data-ttu-id="002a7-146">È possibile definire singoli elementi di un controllo intestazione come elementi creati dal proprietario.</span><span class="sxs-lookup"><span data-stu-id="002a7-146">You can define individual items of a header control to be owner-drawn items.</span></span> <span data-ttu-id="002a7-147">L'uso di questa tecnica offre un maggiore controllo rispetto all'aspetto di un elemento di intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-147">Using this technique gives you more control than you would otherwise have over the appearance of a header item.</span></span>

<span data-ttu-id="002a7-148">È possibile utilizzare il messaggio [**HDM \_ INSERTITEM**](hdm-insertitem.md) per inserire un nuovo elemento creato dal proprietario in un controllo intestazione o il messaggio [**HDM \_ elemento**](hdm-setitem.md) per modificare un elemento esistente in un elemento creato dal proprietario.</span><span class="sxs-lookup"><span data-stu-id="002a7-148">You can use the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to insert a new owner-drawn item into a header control or the [**HDM\_SETITEM**](hdm-setitem.md) message to change an existing item to an owner-drawn item.</span></span> <span data-ttu-id="002a7-149">Entrambi i messaggi includono l'indirizzo di una struttura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) , che deve avere il membro **FMT** impostato sul **valore \_ OWNERDRAW di HDF** .</span><span class="sxs-lookup"><span data-stu-id="002a7-149">Both messages include the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure, which should have the **fmt** member set to the **HDF\_OWNERDRAW** value.</span></span>

<span data-ttu-id="002a7-150">Quando un controllo intestazione deve disegnare un elemento creato dal proprietario, invia il messaggio [**WM \_ DrawItem**](wm-drawitem.md) alla finestra padre.</span><span class="sxs-lookup"><span data-stu-id="002a7-150">When a header control must draw an owner-drawn item, it sends the [**WM\_DRAWITEM**](wm-drawitem.md) message to the parent window.</span></span> <span data-ttu-id="002a7-151">Il parametro *wParam* del messaggio è l'identificatore della finestra figlio del controllo intestazione e il parametro *lParam* è un indirizzo di una struttura [**DRAWITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) .</span><span class="sxs-lookup"><span data-stu-id="002a7-151">The *wParam* parameter of the message is the child window identifier of the header control, and the *lParam* parameter is an address of a [**DRAWITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) structure.</span></span> <span data-ttu-id="002a7-152">La finestra padre utilizza le informazioni della struttura per tracciare l'elemento.</span><span class="sxs-lookup"><span data-stu-id="002a7-152">The parent window uses the information in the structure to draw the item.</span></span> <span data-ttu-id="002a7-153">Per un elemento creato dal proprietario in un controllo Header, la struttura **DRAWITEMSTRUCT** contiene le informazioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="002a7-153">For an owner-drawn item in a header control, the **DRAWITEMSTRUCT** structure contains the following information.</span></span>



| <span data-ttu-id="002a7-154">Membro</span><span class="sxs-lookup"><span data-stu-id="002a7-154">Member</span></span>         | <span data-ttu-id="002a7-155">Descrizione</span><span class="sxs-lookup"><span data-stu-id="002a7-155">Description</span></span>                                                                                                                                            |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="002a7-156">**CtlType**</span><span class="sxs-lookup"><span data-stu-id="002a7-156">**CtlType**</span></span>    | <span data-ttu-id="002a7-157">[**ODT \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Tipo di controllo creato dal proprietario dell'intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-157">[**ODT\_HEADER**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) owner-drawn control type.</span></span>                                                                                        |
| <span data-ttu-id="002a7-158">**CtlID**</span><span class="sxs-lookup"><span data-stu-id="002a7-158">**CtlID**</span></span>      | <span data-ttu-id="002a7-159">Identificatore della finestra figlio del controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-159">Child-window identifier of the header control.</span></span>                                                                                                         |
| <span data-ttu-id="002a7-160">**ID elemento**</span><span class="sxs-lookup"><span data-stu-id="002a7-160">**itemID**</span></span>     | <span data-ttu-id="002a7-161">Indice dell'elemento da disegnare.</span><span class="sxs-lookup"><span data-stu-id="002a7-161">Index of the item to be drawn.</span></span>                                                                                                                         |
| <span data-ttu-id="002a7-162">**itemAction**</span><span class="sxs-lookup"><span data-stu-id="002a7-162">**itemAction**</span></span> | <span data-ttu-id="002a7-163">[**Oda \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Flag di disegno-azione DRAWENTIRE.</span><span class="sxs-lookup"><span data-stu-id="002a7-163">[**ODA\_DRAWENTIRE**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag.</span></span>                                                                                         |
| <span data-ttu-id="002a7-164">**itemState**</span><span class="sxs-lookup"><span data-stu-id="002a7-164">**itemState**</span></span>  | <span data-ttu-id="002a7-165">[**ODS \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Flag di disegno-azione selezionato se il cursore si trova sull'elemento e il pulsante del mouse è inattivo.</span><span class="sxs-lookup"><span data-stu-id="002a7-165">[**ODS\_SELECTED**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag if the cursor is on the item and the mouse button is down.</span></span> <span data-ttu-id="002a7-166">In caso contrario, questo membro è zero.</span><span class="sxs-lookup"><span data-stu-id="002a7-166">Otherwise, this member is zero.</span></span> |
| <span data-ttu-id="002a7-167">**hwndItem**</span><span class="sxs-lookup"><span data-stu-id="002a7-167">**hwndItem**</span></span>   | <span data-ttu-id="002a7-168">Handle per il controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-168">Handle to the header control.</span></span>                                                                                                                          |
| <span data-ttu-id="002a7-169">**hDC**</span><span class="sxs-lookup"><span data-stu-id="002a7-169">**hDC**</span></span>        | <span data-ttu-id="002a7-170">Handle per il contesto di dispositivo del controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-170">Handle to the device context of the header control.</span></span>                                                                                                    |
| <span data-ttu-id="002a7-171">**rcItem**</span><span class="sxs-lookup"><span data-stu-id="002a7-171">**rcItem**</span></span>     | <span data-ttu-id="002a7-172">Coordinate dell'elemento dell'intestazione da disegnare.</span><span class="sxs-lookup"><span data-stu-id="002a7-172">Coordinates of the header item to be drawn.</span></span> <span data-ttu-id="002a7-173">Le coordinate sono relative all'angolo superiore sinistro del controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-173">The coordinates are relative to the upper-left corner of the header control.</span></span>                               |
| <span data-ttu-id="002a7-174">**itemData**</span><span class="sxs-lookup"><span data-stu-id="002a7-174">**itemData**</span></span>   | <span data-ttu-id="002a7-175">Valore a 32 bit definito dall'applicazione associato all'elemento.</span><span class="sxs-lookup"><span data-stu-id="002a7-175">Application-defined 32-bit value associated with the item.</span></span>                                                                                             |



 

## <a name="header-control-filters"></a><span data-ttu-id="002a7-176">Filtri di controllo intestazione</span><span class="sxs-lookup"><span data-stu-id="002a7-176">Header Control Filters</span></span>

<span data-ttu-id="002a7-177">Specificando lo stile della finestra [**HDS \_ FILTERBAR**](header-control-styles.md) per un controllo Header, è possibile abilitare il posizionamento delle caselle di modifica del filtro sotto le intestazioni di colonna.</span><span class="sxs-lookup"><span data-stu-id="002a7-177">By specifying the [**HDS\_FILTERBAR**](header-control-styles.md) window style for a header control, you can enable the placement of filter edit boxes underneath the column headings.</span></span> <span data-ttu-id="002a7-178">Accanto alla casella di modifica viene visualizzato un pulsante filtro.</span><span class="sxs-lookup"><span data-stu-id="002a7-178">A filter button appears beside the edit box.</span></span> <span data-ttu-id="002a7-179">È possibile implementare il filtro rispondendo ai codici di notifica [HDN \_ BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN \_ ENDFILTEREDIT](hdn-endfilteredit.md), [HDN \_ ](hdn-filterbtnclick.md)FILTERBTNCLICK o [HDN \_ FILTERCHANGE](hdn-filterchange.md) .</span><span class="sxs-lookup"><span data-stu-id="002a7-179">You can implement filtering by responding to [HDN\_BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN\_ENDFILTEREDIT](hdn-endfilteredit.md), [HDN\_FILTERBTNCLICK](hdn-filterbtnclick.md), or [HDN\_FILTERCHANGE](hdn-filterchange.md) notification codes.</span></span>

<span data-ttu-id="002a7-180">Per impostazione predefinita, la casella di modifica contiene una richiesta di immissione del testo da parte dell'utente.</span><span class="sxs-lookup"><span data-stu-id="002a7-180">By default, the edit box contains a prompt for the user to enter text.</span></span> <span data-ttu-id="002a7-181">È possibile ripristinare lo stato predefinito della casella di modifica usando l' [**intestazione \_ ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) o [**\_ ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span><span class="sxs-lookup"><span data-stu-id="002a7-181">You can restore the edit box to this default state by using [**Header\_ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) or [**Header\_ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span></span>

<span data-ttu-id="002a7-182">Nell'esempio di codice seguente viene illustrato come recuperare il controllo Header da un controllo visualizzazione elenco e aggiungere una barra dei filtri.</span><span class="sxs-lookup"><span data-stu-id="002a7-182">The following code example shows how to retrieve the header control from a list-view control and add a filter bar.</span></span>


```
// hList is the HWND of the list-view control.
HWND hHeader = ListView_GetHeader(hList);
LONG_PTR styles = GetWindowLongPtr(hHeader, GWL_STYLE);
SetWindowLongPtr(g_hHeader, GWL_STYLE, styles | HDS_FILTERBAR);
```



## <a name="default-header-control-message-processing"></a><span data-ttu-id="002a7-183">Elaborazione del messaggio di controllo intestazione predefinita</span><span class="sxs-lookup"><span data-stu-id="002a7-183">Default Header Control Message Processing</span></span>

<span data-ttu-id="002a7-184">In questa sezione vengono descritti i messaggi della finestra gestiti dalla routine della finestra per la classe della finestra di [**\_ intestazione WC**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="002a7-184">This section describes the window messages handled by the window procedure for the [**WC\_HEADER**](common-control-window-classes.md) window class.</span></span>



| <span data-ttu-id="002a7-185">Message</span><span class="sxs-lookup"><span data-stu-id="002a7-185">Message</span></span>                                            | <span data-ttu-id="002a7-186">Elaborazione eseguita</span><span class="sxs-lookup"><span data-stu-id="002a7-186">Processing performed</span></span>                                                                                                                                                                                                                                                                                          |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="002a7-187">**creazione di WM \_**</span><span class="sxs-lookup"><span data-stu-id="002a7-187">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="002a7-188">Inizializza il controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-188">Initializes the header control.</span></span>                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="002a7-189">**eliminazione di WM \_**</span><span class="sxs-lookup"><span data-stu-id="002a7-189">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="002a7-190">Inizializza il controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-190">Uninitializes the header control.</span></span>                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="002a7-191">**\_ERASEBKGND WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-191">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="002a7-192">Riempie lo sfondo del controllo intestazione utilizzando il colore di sfondo corrente del controllo.</span><span class="sxs-lookup"><span data-stu-id="002a7-192">Fills the background of the header control using the control's current background color.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="002a7-193">**\_GETDLGCODE WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-193">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="002a7-194">Restituisce una combinazione dei valori [**DLGC \_ WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) e [**DLGC \_ WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) .</span><span class="sxs-lookup"><span data-stu-id="002a7-194">Returns a combination of the [**DLGC\_WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) and [**DLGC\_WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) values.</span></span>                                                                                                                     |
| [<span data-ttu-id="002a7-195">**\_tipo di carattere WM GetFont**</span><span class="sxs-lookup"><span data-stu-id="002a7-195">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="002a7-196">Restituisce l'handle per il tipo di carattere corrente, utilizzato dal controllo intestazione per creare il relativo testo.</span><span class="sxs-lookup"><span data-stu-id="002a7-196">Returns the handle to the current font, which is used by the header control to draw its text.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="002a7-197">**\_LBUTTONDBLCLK WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-197">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="002a7-198">Acquisisce l'input del mouse.</span><span class="sxs-lookup"><span data-stu-id="002a7-198">Captures mouse input.</span></span> <span data-ttu-id="002a7-199">Se il cursore del mouse si trova su un divisore, il controllo Invia il codice di notifica [ \_ BEGINTRACK di HDN](hdn-begintrack.md) e inizia a trascinare il divisore.</span><span class="sxs-lookup"><span data-stu-id="002a7-199">If the mouse cursor is on a divider, the control sends the [HDN\_BEGINTRACK](hdn-begintrack.md) notification code and begins dragging the divider.</span></span> <span data-ttu-id="002a7-200">Se il cursore si trova su un elemento, l'elemento viene visualizzato nello stato premuto.</span><span class="sxs-lookup"><span data-stu-id="002a7-200">If the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                            |
| [<span data-ttu-id="002a7-201">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-201">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="002a7-202">Uguale al messaggio [**WM \_ LBUTTONDBLCLK**](/windows/desktop/inputdev/wm-lbuttondblclk) .</span><span class="sxs-lookup"><span data-stu-id="002a7-202">Same as the [**WM\_LBUTTONDBLCLK**](/windows/desktop/inputdev/wm-lbuttondblclk) message.</span></span>                                                                                                                                                                                                                                       |
| [<span data-ttu-id="002a7-203">**\_LBUTTONUP WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-203">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)         | <span data-ttu-id="002a7-204">Rilascia l'acquisizione del mouse.</span><span class="sxs-lookup"><span data-stu-id="002a7-204">Releases the mouse capture.</span></span> <span data-ttu-id="002a7-205">Se il controllo tiene traccia del movimento del mouse, invia il codice di notifica [ \_ ENDTRACK HDN](hdn-endtrack.md) e ridisegnato il controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-205">If the control was tracking mouse movement, it sends the [HDN\_ENDTRACK](hdn-endtrack.md) notification code and redraws the header control.</span></span> <span data-ttu-id="002a7-206">In caso contrario, il controllo Invia il codice di notifica [ \_ ITEMCLICK di HDN](hdn-itemclick.md) e ritraccia l'elemento dell'intestazione su cui è stato fatto clic.</span><span class="sxs-lookup"><span data-stu-id="002a7-206">Otherwise, the control sends the [HDN\_ITEMCLICK](hdn-itemclick.md) notification code and redraws the header item that was clicked.</span></span> |
| [<span data-ttu-id="002a7-207">**MOUSEMOVE di WM \_**</span><span class="sxs-lookup"><span data-stu-id="002a7-207">**WM\_MOUSEMOVE**</span></span>](/windows/desktop/inputdev/wm-mousemove)         | <span data-ttu-id="002a7-208">Se un divisore viene trascinato, il controllo Invia il codice di notifica di [ \_ rilevamento HDN](hdn-track.md) e visualizza l'elemento nella nuova posizione.</span><span class="sxs-lookup"><span data-stu-id="002a7-208">If a divider is being dragged, the control sends the [HDN\_TRACK](hdn-track.md) notification code and displays the item at the new position.</span></span> <span data-ttu-id="002a7-209">Se il pulsante sinistro del mouse è premuto e il cursore si trova su un elemento, l'elemento viene visualizzato nello stato premuto.</span><span class="sxs-lookup"><span data-stu-id="002a7-209">If the left mouse button is down and the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                      |
| [<span data-ttu-id="002a7-210">**\_NCCREATE WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-210">**WM\_NCCREATE**</span></span>](/windows/desktop/winmsg/wm-nccreate)             | <span data-ttu-id="002a7-211">Alloca e Inizializza una struttura di dati interna.</span><span class="sxs-lookup"><span data-stu-id="002a7-211">Allocates and initializes an internal data structure.</span></span>                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="002a7-212">**\_NCDESTROY WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-212">**WM\_NCDESTROY**</span></span>](/windows/desktop/winmsg/wm-ncdestroy)           | <span data-ttu-id="002a7-213">Libera le risorse allocate dal controllo intestazione dopo che il controllo intestazione non è stato inizializzato.</span><span class="sxs-lookup"><span data-stu-id="002a7-213">Frees the resources allocated by the header control after the header control is uninitialized.</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="002a7-214">**\_disegno WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-214">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="002a7-215">Disegna l'area non valida del controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-215">Paints the invalid region of the header control.</span></span> <span data-ttu-id="002a7-216">Se il parametro *wParam* è diverso da null, il controllo presuppone che il valore sia un HDC e i colori che usano tale contesto di dispositivo.</span><span class="sxs-lookup"><span data-stu-id="002a7-216">If the *wParam* parameter is non-NULL, the control assumes that the value is an HDC and paints using that device context.</span></span>                                                                                                                                    |
| [<span data-ttu-id="002a7-217">**\_cursore WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-217">**WM\_SETCURSOR**</span></span>](/windows/desktop/menurc/wm-setcursor)           | <span data-ttu-id="002a7-218">Imposta la forma del cursore, a seconda che il cursore si trovi in un divisore o in un elemento di intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-218">Sets the cursor shape, depending on whether the cursor is on a divider or in a header item.</span></span>                                                                                                                                                                                                                   |
| [<span data-ttu-id="002a7-219">**\_tipo di carattere WM**</span><span class="sxs-lookup"><span data-stu-id="002a7-219">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="002a7-220">Seleziona un nuovo handle del tipo di carattere nel contesto di dispositivo per il controllo intestazione.</span><span class="sxs-lookup"><span data-stu-id="002a7-220">Selects a new font handle into the device context for the header control.</span></span>                                                                                                                                                                                                                                     |



 

 

 