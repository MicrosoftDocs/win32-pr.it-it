---
title: Operazione asincrona
description: In modalità asincrona, un'applicazione può eseguire qualsiasi funzione che include un valore di contesto come uno dei relativi parametri e può continuare a eseguire altri comandi o funzioni mentre l'applicazione attende che la funzione completi la relativa attività.
ms.assetid: 4b8ade00-deb3-4d9f-9ceb-5ba3296c8c68
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9a7e1d0cf84aa92691e1d926d771ea809d31a171
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "103728930"
---
# <a name="asynchronous-operation"></a><span data-ttu-id="f8550-103">Operazione asincrona</span><span class="sxs-lookup"><span data-stu-id="f8550-103">Asynchronous Operation</span></span>

<span data-ttu-id="f8550-104">Il tempo impiegato da un'applicazione per accedere a una risorsa Internet dipende da diversi fattori, ad esempio la connessione utilizzata, il server in cui si trova la risorsa e il numero di utenti che tentano di accedere alla risorsa.</span><span class="sxs-lookup"><span data-stu-id="f8550-104">The amount of time it takes an application to access an Internet resource depends on a number of factors, such as the connection being used, the server on which the resource is located, and the number of users trying to access the resource.</span></span> <span data-ttu-id="f8550-105">Per le applicazioni che scaricano più risorse o gestiscono più attività (inclusi uno o più download), attendere il completamento di ogni download prima di procedere all'attività successiva può risultare estremamente inefficiente.</span><span class="sxs-lookup"><span data-stu-id="f8550-105">For applications that download multiple resources or handle multiple tasks (including one or more downloads), waiting for each download to complete before moving on to the next task can be extremely inefficient.</span></span> <span data-ttu-id="f8550-106">Per ridurre la quantità di tempo di attesa di un'applicazione, molte delle funzioni WinINet possono funzionare in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="f8550-106">To decrease the amount of time an application has to wait, many of the WinINet functions can operate asynchronously.</span></span>

<span data-ttu-id="f8550-107">In modalità asincrona, un'applicazione può eseguire qualsiasi funzione che include un valore di contesto come uno dei relativi parametri e può continuare a eseguire altri comandi o funzioni mentre l'applicazione attende che la funzione completi la relativa attività.</span><span class="sxs-lookup"><span data-stu-id="f8550-107">In asynchronous mode, an application can execute any function that includes a context value as one of its parameters and can continue to execute other commands or functions while the application waits for the function to complete its task.</span></span> <span data-ttu-id="f8550-108">Durante il completamento dell'attività, una funzione di callback dello stato fornita dall'applicazione riceve una notifica sullo stato di avanzamento dell'attività e al suo completamento.</span><span class="sxs-lookup"><span data-stu-id="f8550-108">While the task is completing, a status callback function provided by the application is notified about the progress of the task and when it has completed.</span></span> <span data-ttu-id="f8550-109">A questo punto, la funzione di callback dello stato può chiamare altre funzioni o eseguire altre attività necessarie che dipendono dal completamento dell'attività.</span><span class="sxs-lookup"><span data-stu-id="f8550-109">At this time, the status callback function can call other functions or perform any other required tasks that were dependent on the task's completion.</span></span>

<span data-ttu-id="f8550-110">Non esiste alcun thread di callback Afinity quando si chiama WinINet in modo asincrono: una chiamata può iniziare da un thread, ma qualsiasi altro thread può ricevere il callback.</span><span class="sxs-lookup"><span data-stu-id="f8550-110">There is no callback thread afinity when you call WinINet asynchronously: a call might start from one thread, but any other thread can receive the callback.</span></span>

-   [<span data-ttu-id="f8550-111">Vantaggi</span><span class="sxs-lookup"><span data-stu-id="f8550-111">Benefits</span></span>](#benefits)
-   [<span data-ttu-id="f8550-112">Scenari</span><span class="sxs-lookup"><span data-stu-id="f8550-112">Scenarios</span></span>](#scenarios)
-   [<span data-ttu-id="f8550-113">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="f8550-113">Related Topics</span></span>](#related-topics)

## <a name="benefits"></a><span data-ttu-id="f8550-114">Vantaggi</span><span class="sxs-lookup"><span data-stu-id="f8550-114">Benefits</span></span>

<span data-ttu-id="f8550-115">Il funzionamento asincrono presenta diversi vantaggi.</span><span class="sxs-lookup"><span data-stu-id="f8550-115">There are several benefits to operating asynchronously.</span></span> <span data-ttu-id="f8550-116">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="f8550-116">For example:</span></span>

-   <span data-ttu-id="f8550-117">Download simultaneo di più risorse Internet.</span><span class="sxs-lookup"><span data-stu-id="f8550-117">Downloading multiple Internet resources simultaneously.</span></span>

    <span data-ttu-id="f8550-118">È possibile connettersi a più risorse Internet contemporaneamente e scaricarle non appena diventano disponibili.</span><span class="sxs-lookup"><span data-stu-id="f8550-118">You can connect to multiple Internet resources at the same time and download them as they become available.</span></span>

-   <span data-ttu-id="f8550-119">Miglioramento delle prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f8550-119">Increasing performance of your application.</span></span>

    <span data-ttu-id="f8550-120">Un'applicazione che usa le funzioni WinINet in modo asincrono non deve attendere il completamento della richiesta, pertanto l'applicazione è gratuita per eseguire altre attività che non dipendono dalla richiesta, migliorando così le prestazioni complessive dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f8550-120">An application using the WinINet functions asynchronously does not have to wait until the request is completed, so the application is free to do other tasks that are not dependent on the request, thus improving the application's overall performance.</span></span>

-   <span data-ttu-id="f8550-121">Monitorare lo stato del download.</span><span class="sxs-lookup"><span data-stu-id="f8550-121">Monitor the progress of the download.</span></span>

    <span data-ttu-id="f8550-122">La funzione di callback di stato riceve notifiche durante l'elaborazione di una richiesta.</span><span class="sxs-lookup"><span data-stu-id="f8550-122">The status callback function receives notifications while it is processing a request.</span></span> <span data-ttu-id="f8550-123">Se necessario, l'applicazione può utilizzare le informazioni fornite da tale funzione di callback dello stato per informare l'utente sullo stato di avanzamento dell'operazione o per interrompere le richieste che richiedono troppo tempo per essere completate.</span><span class="sxs-lookup"><span data-stu-id="f8550-123">If needed, your application can use the information provided by that status callback function to keep the user informed about the progress of the operation or to interrupt requests that are taking too long to complete.</span></span>

## <a name="scenarios"></a><span data-ttu-id="f8550-124">Scenari</span><span class="sxs-lookup"><span data-stu-id="f8550-124">Scenarios</span></span>

<span data-ttu-id="f8550-125">Supponiamo che l'applicazione debba scaricare i prezzi dei caffè dal caffè rovinato & tè e i siti Fourth Coffee e confrontare i prezzi.</span><span class="sxs-lookup"><span data-stu-id="f8550-125">Let's say your application needs to download coffee prices from the Downfall Coffee & Tea and the Fourth Coffee sites and compare prices.</span></span> <span data-ttu-id="f8550-126">Il sito Fourth Coffee è in genere caratterizzato da un tempo di risposta più lento, quindi l'applicazione dovrebbe scaricare prima di tutto le informazioni dalla rovina del caffè & tè.</span><span class="sxs-lookup"><span data-stu-id="f8550-126">The Fourth Coffee site usually has a slower response time, so your application should download the information from Downfall Coffee & Tea first.</span></span>

<span data-ttu-id="f8550-127">Sono state sviluppate due versioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f8550-127">Two versions of the application are developed.</span></span> <span data-ttu-id="f8550-128">Uno funziona in modo sincrono, scaricando prima di tutto i prezzi dal sito Coffee Down & Tea, quindi i prezzi del sito Fourth Coffee.</span><span class="sxs-lookup"><span data-stu-id="f8550-128">One works synchronously, first downloading the prices from the Downfall Coffee & Tea site and then the prices from the Fourth Coffee site.</span></span> <span data-ttu-id="f8550-129">Il secondo funziona in modo asincrono, inviando richieste a entrambi i siti e scaricando i prezzi quando diventano disponibili.</span><span class="sxs-lookup"><span data-stu-id="f8550-129">The second works asynchronously, sending requests to both sites and downloading the prices when they become available.</span></span>

<span data-ttu-id="f8550-130">Nella tabella seguente viene illustrato cosa accadrebbe se il sito Fourth Coffee fosse più veloce in un determinato giorno.</span><span class="sxs-lookup"><span data-stu-id="f8550-130">The following table illustrates what would happen if the Fourth Coffee site was faster on a particular day.</span></span>



| <span data-ttu-id="f8550-131">Evento</span><span class="sxs-lookup"><span data-stu-id="f8550-131">Event</span></span>                                                            | <span data-ttu-id="f8550-132">Versione sincrona</span><span class="sxs-lookup"><span data-stu-id="f8550-132">Synchronous version</span></span>                        | <span data-ttu-id="f8550-133">Versione asincrona</span><span class="sxs-lookup"><span data-stu-id="f8550-133">Asynchronous version</span></span>                                     |
|------------------------------------------------------------------|--------------------------------------------|----------------------------------------------------------|
| <span data-ttu-id="f8550-134">Avvio</span><span class="sxs-lookup"><span data-stu-id="f8550-134">Start</span></span>                                                            | <span data-ttu-id="f8550-135">Inviare la richiesta a una rovina caffè & tè</span><span class="sxs-lookup"><span data-stu-id="f8550-135">Send request to Downfall Coffee & Tea</span></span>      | <span data-ttu-id="f8550-136">Inviare richieste a un caffè rovinato & tè e Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="f8550-136">Send requests to Downfall Coffee & Tea and Fourth Coffee</span></span> |
| <span data-ttu-id="f8550-137">Richiesta dalla versione asincrona al quarto caffè completata</span><span class="sxs-lookup"><span data-stu-id="f8550-137">Request from the asynchronous version to Fourth Coffee completed</span></span> | <span data-ttu-id="f8550-138">Attesa</span><span class="sxs-lookup"><span data-stu-id="f8550-138">Waiting</span></span>                                    | <span data-ttu-id="f8550-139">Scarica i prezzi da Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="f8550-139">Download prices from Fourth Coffee</span></span>                       |
| <span data-ttu-id="f8550-140">Richiesta di caduta del caffè & tè completata</span><span class="sxs-lookup"><span data-stu-id="f8550-140">Request to Downfall Coffee & Tea completed</span></span>                       | <span data-ttu-id="f8550-141">Scarica i prezzi da un caffè rovinato & tè</span><span class="sxs-lookup"><span data-stu-id="f8550-141">Download prices from Downfall Coffee & Tea</span></span> | <span data-ttu-id="f8550-142">Scarica i prezzi da un caffè rovinato & tè</span><span class="sxs-lookup"><span data-stu-id="f8550-142">Download prices from Downfall Coffee & Tea</span></span>               |
| <span data-ttu-id="f8550-143">Dopo il download dei prezzi del caffè & tè</span><span class="sxs-lookup"><span data-stu-id="f8550-143">After Downfall Coffee & Tea's prices are downloaded</span></span>              | <span data-ttu-id="f8550-144">Invia richiesta a Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="f8550-144">Send request to Fourth Coffee</span></span>              | <span data-ttu-id="f8550-145">Confrontare i prezzi</span><span class="sxs-lookup"><span data-stu-id="f8550-145">Compare prices</span></span>                                           |
| <span data-ttu-id="f8550-146">Confronto della versione asincrona completata</span><span class="sxs-lookup"><span data-stu-id="f8550-146">Asynchronous version's comparison completed</span></span>                      | <span data-ttu-id="f8550-147">Attesa</span><span class="sxs-lookup"><span data-stu-id="f8550-147">Waiting</span></span>                                    | <span data-ttu-id="f8550-148">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="f8550-148">Operation complete</span></span>                                       |
| <span data-ttu-id="f8550-149">Richiesta dalla versione sincrona a Fourth Coffee completata</span><span class="sxs-lookup"><span data-stu-id="f8550-149">Request from the synchronous version to Fourth Coffee completed</span></span>  | <span data-ttu-id="f8550-150">Scarica i prezzi da Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="f8550-150">Download prices from Fourth Coffee</span></span>         | <span data-ttu-id="f8550-151">n/d</span><span class="sxs-lookup"><span data-stu-id="f8550-151">n/a</span></span>                                                      |
| <span data-ttu-id="f8550-152">Dopo aver scaricato i prezzi di Fourth Coffee</span><span class="sxs-lookup"><span data-stu-id="f8550-152">After Fourth Coffee's prices are downloaded</span></span>                      | <span data-ttu-id="f8550-153">Confrontare i prezzi</span><span class="sxs-lookup"><span data-stu-id="f8550-153">Compare prices</span></span>                             | <span data-ttu-id="f8550-154">n/d</span><span class="sxs-lookup"><span data-stu-id="f8550-154">n/a</span></span>                                                      |
| <span data-ttu-id="f8550-155">Confronto della versione sincrona completata</span><span class="sxs-lookup"><span data-stu-id="f8550-155">Synchronous version's comparison completed</span></span>                       | <span data-ttu-id="f8550-156">Operazione completata</span><span class="sxs-lookup"><span data-stu-id="f8550-156">Operation complete</span></span>                         | <span data-ttu-id="f8550-157">n/d</span><span class="sxs-lookup"><span data-stu-id="f8550-157">n/a</span></span>                                                      |



 

<span data-ttu-id="f8550-158">Un altro esempio è costituito da un Web browser, ad esempio Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="f8550-158">Another example would be a web browser such as Microsoft Internet Explorer.</span></span> <span data-ttu-id="f8550-159">Quando il browser Scarica una pagina, è spesso necessario scaricare altre risorse, ad esempio immagini e file audio.</span><span class="sxs-lookup"><span data-stu-id="f8550-159">When the browser downloads a page, it often needs to download other resources, such as images and sound files.</span></span> <span data-ttu-id="f8550-160">In modalità asincrona, la pagina e le risorse associate possono essere richieste simultaneamente e scaricate quando diventano disponibili, anziché richiedere e scaricare la pagina e ogni risorsa una alla volta.</span><span class="sxs-lookup"><span data-stu-id="f8550-160">In asynchronous mode, the page and its associated resources can be requested simultaneously and downloaded as they become available, instead of requesting and downloading the page and each resource one at a time.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f8550-161">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="f8550-161">Related Topics</span></span>

<span data-ttu-id="f8550-162">Di seguito sono riportati i collegamenti correlati.</span><span class="sxs-lookup"><span data-stu-id="f8550-162">The following are related links.</span></span>

<span data-ttu-id="f8550-163">Esercitazioni</span><span class="sxs-lookup"><span data-stu-id="f8550-163">Tutorials</span></span>

-   [<span data-ttu-id="f8550-164">Creazione di funzioni di callback di stato</span><span class="sxs-lookup"><span data-stu-id="f8550-164">Creating Status Callback Functions</span></span>](creating-status-callback-functions.md)

<span data-ttu-id="f8550-165">Funzioni necessarie per configurare l'operazione asincrona</span><span class="sxs-lookup"><span data-stu-id="f8550-165">Functions needed to set up asynchronous operation</span></span>

-   [<span data-ttu-id="f8550-166">**InternetOpen**</span><span class="sxs-lookup"><span data-stu-id="f8550-166">**InternetOpen**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetopena)
-   [<span data-ttu-id="f8550-167">**InternetSetStatusCallback**</span><span class="sxs-lookup"><span data-stu-id="f8550-167">**InternetSetStatusCallback**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetsetstatuscallback)

<span data-ttu-id="f8550-168">Funzioni che possono essere usate in modo asincrono</span><span class="sxs-lookup"><span data-stu-id="f8550-168">Functions that can be used asynchronously</span></span>

-   [<span data-ttu-id="f8550-169">**FtpCreateDirectory**</span><span class="sxs-lookup"><span data-stu-id="f8550-169">**FtpCreateDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya)
-   [<span data-ttu-id="f8550-170">**FtpDeleteFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-170">**FtpDeleteFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea)
-   [<span data-ttu-id="f8550-171">**FtpFindFirstFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-171">**FtpFindFirstFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpfindfirstfilea)
-   [<span data-ttu-id="f8550-172">**FtpGetCurrentDirectory**</span><span class="sxs-lookup"><span data-stu-id="f8550-172">**FtpGetCurrentDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya)
-   [<span data-ttu-id="f8550-173">**FtpGetFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-173">**FtpGetFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpgetfilea)
-   [<span data-ttu-id="f8550-174">**FtpOpenFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-174">**FtpOpenFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpopenfilea)
-   [<span data-ttu-id="f8550-175">**FtpPutFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-175">**FtpPutFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpputfilea)
-   [<span data-ttu-id="f8550-176">**FtpRemoveDirectory**</span><span class="sxs-lookup"><span data-stu-id="f8550-176">**FtpRemoveDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya)
-   [<span data-ttu-id="f8550-177">**FtpRenameFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-177">**FtpRenameFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea)
-   [<span data-ttu-id="f8550-178">**FtpSetCurrentDirectory**</span><span class="sxs-lookup"><span data-stu-id="f8550-178">**FtpSetCurrentDirectory**</span></span>](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya)
-   [<span data-ttu-id="f8550-179">**GopherFindFirstFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-179">**GopherFindFirstFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-gopherfindfirstfilea)
-   [<span data-ttu-id="f8550-180">**GopherOpenFile**</span><span class="sxs-lookup"><span data-stu-id="f8550-180">**GopherOpenFile**</span></span>](/windows/desktop/api/Wininet/nf-wininet-gopheropenfilea)
-   [<span data-ttu-id="f8550-181">**HttpEndRequest**</span><span class="sxs-lookup"><span data-stu-id="f8550-181">**HttpEndRequest**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpendrequesta)
-   [<span data-ttu-id="f8550-182">**HttpOpenRequest**</span><span class="sxs-lookup"><span data-stu-id="f8550-182">**HttpOpenRequest**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpopenrequesta)
-   [<span data-ttu-id="f8550-183">**HttpSendRequestEx**</span><span class="sxs-lookup"><span data-stu-id="f8550-183">**HttpSendRequestEx**</span></span>](/windows/desktop/api/Wininet/nf-wininet-httpsendrequestexa)
-   [<span data-ttu-id="f8550-184">**InternetConnect**</span><span class="sxs-lookup"><span data-stu-id="f8550-184">**InternetConnect**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetconnecta)
-   [<span data-ttu-id="f8550-185">**InternetOpenUrl**</span><span class="sxs-lookup"><span data-stu-id="f8550-185">**InternetOpenUrl**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetopenurla)
-   [<span data-ttu-id="f8550-186">**InternetReadFileEx**</span><span class="sxs-lookup"><span data-stu-id="f8550-186">**InternetReadFileEx**</span></span>](/windows/desktop/api/Wininet/nf-wininet-internetreadfileexa)

> [!Note]  
> <span data-ttu-id="f8550-187">Le funzioni [**FtpCreateDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya), [**FtpRemoveDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya), [**FtpSetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya), [**FtpGetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya), [**FtpDeleteFile**](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea)e [**FtpRenameFile**](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea) usano il valore di contesto fornito nella chiamata alla funzione [**InternetConnect**](/windows/desktop/api/Wininet/nf-wininet-internetconnecta) .</span><span class="sxs-lookup"><span data-stu-id="f8550-187">The [**FtpCreateDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpcreatedirectorya), [**FtpRemoveDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpremovedirectorya), [**FtpSetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpsetcurrentdirectorya), [**FtpGetCurrentDirectory**](/windows/desktop/api/Wininet/nf-wininet-ftpgetcurrentdirectorya), [**FtpDeleteFile**](/windows/desktop/api/Wininet/nf-wininet-ftpdeletefilea), and [**FtpRenameFile**](/windows/desktop/api/Wininet/nf-wininet-ftprenamefilea) functions use the context value provided in the call to the [**InternetConnect**](/windows/desktop/api/Wininet/nf-wininet-internetconnecta) function.</span></span>

 

> [!Note]  
> <span data-ttu-id="f8550-188">WinINet non supporta le implementazioni del server.</span><span class="sxs-lookup"><span data-stu-id="f8550-188">WinINet does not support server implementations.</span></span> <span data-ttu-id="f8550-189">Inoltre, non deve essere utilizzato da un servizio.</span><span class="sxs-lookup"><span data-stu-id="f8550-189">In addition, it should not be used from a service.</span></span> <span data-ttu-id="f8550-190">Per le implementazioni o i servizi del server, usare i [Servizi http di Microsoft Windows (WinHTTP)](/windows/desktop/WinHttp/winhttp-start-page).</span><span class="sxs-lookup"><span data-stu-id="f8550-190">For server implementations or services use [Microsoft Windows HTTP Services (WinHTTP)](/windows/desktop/WinHttp/winhttp-start-page).</span></span>

 

 

 