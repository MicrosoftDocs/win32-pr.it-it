---
title: Distribuzione di Direct3D 11 per sviluppatori di giochi
description: Questo articolo descrive come distribuire i componenti di Direct3D 11 in un sistema, se necessario.
ms.assetid: 1fd43638-0d67-4a94-3be6-8789095f491e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd935aedee23ba731bc74e52c0773e6f02e5b5fc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104223988"
---
# <a name="direct3d-11-deployment-for-game-developers"></a><span data-ttu-id="297db-103">Distribuzione di Direct3D 11 per sviluppatori di giochi</span><span class="sxs-lookup"><span data-stu-id="297db-103">Direct3D 11 deployment for game developers</span></span>

<span data-ttu-id="297db-104">Questo articolo descrive come distribuire i componenti di Direct3D 11 in un sistema, se necessario.</span><span class="sxs-lookup"><span data-stu-id="297db-104">This article describes how to deploy the Direct3D 11 components on a system if necessary.</span></span>

-   [<span data-ttu-id="297db-105">Overview</span><span class="sxs-lookup"><span data-stu-id="297db-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="297db-106">Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="297db-106">Direct3D 11.3</span></span>](#direct3d-113)
-   [<span data-ttu-id="297db-107">Direct3D 11,2</span><span class="sxs-lookup"><span data-stu-id="297db-107">Direct3D 11.2</span></span>](#direct3d-112)
-   [<span data-ttu-id="297db-108">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="297db-108">Direct3D 11.1</span></span>](#direct3d-111)
-   [<span data-ttu-id="297db-109">D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="297db-109">D3D11InstallHelper.dll</span></span>](#d3d11installhelperdll)
-   [<span data-ttu-id="297db-110">D3D11Install.exe</span><span class="sxs-lookup"><span data-stu-id="297db-110">D3D11Install.exe</span></span>](#d3d11installexe)
-   [<span data-ttu-id="297db-111">Integrazione nei programmi di installazione</span><span class="sxs-lookup"><span data-stu-id="297db-111">Integrating into Installation Programs</span></span>](#integrating-into-installation-programs)
    -   [<span data-ttu-id="297db-112">Integrazione in InstallShield</span><span class="sxs-lookup"><span data-stu-id="297db-112">Integrating into InstallShield</span></span>](#integrating-into-installshield)
    -   [<span data-ttu-id="297db-113">Integrazione in un pacchetto MSI</span><span class="sxs-lookup"><span data-stu-id="297db-113">Integrating into an MSI Package</span></span>](#integrating-into-an-msi-package)
-   [<span data-ttu-id="297db-114">Suggerimenti per il debug</span><span class="sxs-lookup"><span data-stu-id="297db-114">Debugging Tips</span></span>](#debugging-tips)
-   [<span data-ttu-id="297db-115">Impostazioni aziendali</span><span class="sxs-lookup"><span data-stu-id="297db-115">Corporate Settings</span></span>](#corporate-settings)
-   [<span data-ttu-id="297db-116">Articoli correlati</span><span class="sxs-lookup"><span data-stu-id="297db-116">Related Articles</span></span>](#related-articles)

## <a name="overview"></a><span data-ttu-id="297db-117">Panoramica</span><span class="sxs-lookup"><span data-stu-id="297db-117">Overview</span></span>

<span data-ttu-id="297db-118">L'API Direct3D 11 estende l'API Direct3D 10,1 esistente con supporto per il rendering multithreading e la creazione di risorse, compute shader, schema a mosaico hardware, compressione della trama BC6H/BC7 e HLSL Shader Model 5,0 con collegamento dinamico dello shader.</span><span class="sxs-lookup"><span data-stu-id="297db-118">The Direct3D 11 API extends the existing Direct3D 10.1 API with support for multithreaded rendering and resource creation, Compute Shader, hardware tessellation, BC6H/BC7 texture compression, and HLSL Shader Model 5.0 with Dynamic Shader Linkage.</span></span> <span data-ttu-id="297db-119">Oltre al componente Direct3D 11, nel runtime di DirectX 11 sono inclusi numerosi componenti grafici aggiuntivi: Direct3D 11, DXGI 1,1, livelli di funzionalità 10level9, WARP10 software rendering device, Direct2D, DirectWrite e una versione aggiornata di Direct3D 10,1 con supporto per 10level9 e WARP10.</span><span class="sxs-lookup"><span data-stu-id="297db-119">In addition to the Direct3D 11 component, a number of additional graphics components are included in the DirectX 11 runtime: Direct3D 11, DXGI 1.1, 10level9 feature levels, WARP10 software rendering device, Direct2D, DirectWrite, and an updated Direct3D 10.1 with support for 10level9 and WARP10.</span></span> <span data-ttu-id="297db-120">Per informazioni su questi e altri componenti grafici di Windows, vedere [API grafiche in Windows](graphics-apis-in-windows-vista.md).</span><span class="sxs-lookup"><span data-stu-id="297db-120">For information on these and other Windows graphics components, see [Graphics APIs in Windows](graphics-apis-in-windows-vista.md).</span></span>

<span data-ttu-id="297db-121">Tutti questi nuovi componenti grafici sono incorporati nei sistemi operativi Windows 7 e Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="297db-121">All of these new graphics components are built into the Windows 7 and Windows Server 2008 R2 operating systems.</span></span> <span data-ttu-id="297db-122">L'API Direct3D 11 e i componenti correlati possono anche essere installati in Windows Vista tramite un aggiornamento del sistema da Windows Update; vedere l'articolo della Knowledge base [KB 971644](https://support.microsoft.com/kb/971644).</span><span class="sxs-lookup"><span data-stu-id="297db-122">The Direct3D 11 API and related components can also be installed on Windows Vista by using a system update from Windows Update; see Knowledge Base article [KB 971644](https://support.microsoft.com/kb/971644).</span></span> <span data-ttu-id="297db-123">Questo aggiornamento richiede Windows Vista e Service Pack 2.</span><span class="sxs-lookup"><span data-stu-id="297db-123">This update requires Windows Vista and Service Pack 2.</span></span> <span data-ttu-id="297db-124">Gli utenti finali con aggiornamenti automatici abilitati avranno probabilmente già installato i componenti di Direct3D 11, così come tutti gli utenti di Windows 7.</span><span class="sxs-lookup"><span data-stu-id="297db-124">End-users with automatic updates enabled will, therefore, likely already have the Direct3D 11 components installed, as will all Windows 7 users.</span></span>

<span data-ttu-id="297db-125">L'esempio D3D11InstallHelper è progettato per semplificare il rilevamento dell'API Direct3D 11, installare automaticamente l'aggiornamento del sistema, se applicabile a un computer dell'utente finale, e fornire messaggi appropriati all'utente finale nella procedura manuale se è necessario un Service Pack più recente.</span><span class="sxs-lookup"><span data-stu-id="297db-125">The D3D11InstallHelper sample is designed to simplify detection of the Direct3D 11 API, automatically install the system update if applicable to an end-user's computer, and to provide appropriate messages to the end-user on manual procedure if a newer Service Pack is required.</span></span>

> [!Note]  
> <span data-ttu-id="297db-126">Il compilatore HLSL (D3DCompile \* . dll) e la libreria di utilità D3DX per Direct3D 11 (D3DX11 \* . dll) non sono incorporati in alcuna versione del sistema operativo Windows, ma possono essere distribuiti come parte del programma di installazione di un'applicazione utilizzando la tecnologia DirectSetup esistente. per ulteriori informazioni sull'utilizzo di DirectSetup, vedere [installazione di DirectX per sviluppatori di giochi](/windows/desktop/DxTechArts/directx-setup-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="297db-126">The HLSL compiler (D3DCompile\*.dll) and the D3DX utility library for Direct3D 11 (D3DX11\*.dll) are not built into any version of the Windows operating system, but they can be deployed as part of an application's installer by using the existing DirectSetup technology; for more information about using DirectSetup, see [DirectX Installation for Game Developers](/windows/desktop/DxTechArts/directx-setup-for-game-developers).</span></span> <span data-ttu-id="297db-127">"Effects 11" è disponibile come libreria di supporto per le origini condivise a [effetti per l'aggiornamento di Direct3D 11](https://github.com/Microsoft/FX11)ed è possibile includerla direttamente in un'app, molto simile alla libreria di utilità DXUT.</span><span class="sxs-lookup"><span data-stu-id="297db-127">"Effects 11" is available as a shared source support library at [Effects for Direct3D 11 Update](https://github.com/Microsoft/FX11), and you can include it directly into an app (much like the DXUT utility library).</span></span> <span data-ttu-id="297db-128">Non dispone quindi di requisiti aggiuntivi per la ridistribuzione in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="297db-128">Thus, it doesn't have any additional run-time redistribution requirements.</span></span>

## <a name="direct3d-113"></a><span data-ttu-id="297db-129">Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="297db-129">Direct3D 11.3</span></span>

<span data-ttu-id="297db-130">Windows 10 viene fornito con l'API Direct3D 11,3 incorporata.</span><span class="sxs-lookup"><span data-stu-id="297db-130">Windows 10 ships with the Direct3D 11.3 API built in.</span></span> <span data-ttu-id="297db-131">Vedere le [funzionalità di direct3d 11,3](/windows/desktop/direct3d11/direct3d-11-3-features) per un elenco delle nuove funzionalità nell'API Direct3D 11,3.</span><span class="sxs-lookup"><span data-stu-id="297db-131">See [Direct3D 11.3 Features](/windows/desktop/direct3d11/direct3d-11-3-features) for a list of new features in the Direct3D 11.3 API.</span></span>

## <a name="direct3d-112"></a><span data-ttu-id="297db-132">Direct3D 11,2</span><span class="sxs-lookup"><span data-stu-id="297db-132">Direct3D 11.2</span></span>

<span data-ttu-id="297db-133">Windows 8.1 e Windows Server 2012 R2 vengono forniti con l'API Direct3D 11,2 incorporata.</span><span class="sxs-lookup"><span data-stu-id="297db-133">Windows 8.1 and Windows Server 2012 R2 ship with the Direct3D 11.2 API built in.</span></span> <span data-ttu-id="297db-134">Vedere le [funzionalità di direct3d 11,2](/windows/desktop/direct3d11/direct3d-11-2-features) per un elenco delle nuove funzionalità nell'API Direct3D 11,2.</span><span class="sxs-lookup"><span data-stu-id="297db-134">See [Direct3D 11.2 Features](/windows/desktop/direct3d11/direct3d-11-2-features) for a list of new features in the Direct3D 11.2 API.</span></span>

## <a name="direct3d-111"></a><span data-ttu-id="297db-135">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="297db-135">Direct3D 11.1</span></span>

<span data-ttu-id="297db-136">Windows 8 e Windows Server 2012 vengono forniti con l' [API Direct3D 11,1](/windows/desktop/direct3d11/direct3d-11-1-features) incorporata.</span><span class="sxs-lookup"><span data-stu-id="297db-136">Windows 8 and Windows Server 2012 ship with the [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features) built in.</span></span> <span data-ttu-id="297db-137">Il supporto parziale per l'API Direct3D 11,1 è disponibile in Windows 7 o Windows Server 2008 R2 con l' [aggiornamento della piattaforma per Windows 7](https://support.microsoft.com/kb/2670838) installato.</span><span class="sxs-lookup"><span data-stu-id="297db-137">Partial support for the Direct3D 11.1 API is available on Windows 7 or Windows Server 2008 R2 with the [Platform Update for Windows 7](https://support.microsoft.com/kb/2670838) installed.</span></span> <span data-ttu-id="297db-138">Per ulteriori informazioni sull'aggiornamento della piattaforma per Windows 7, vedere [aggiornamento della piattaforma per Windows 7](platform-update-for-windows-7.md).</span><span class="sxs-lookup"><span data-stu-id="297db-138">For more info about the Platform Update for Windows 7, see [Platform Update for Windows 7](platform-update-for-windows-7.md).</span></span>

## <a name="d3d11installhelperdll"></a><span data-ttu-id="297db-139">D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="297db-139">D3D11InstallHelper.dll</span></span>

<span data-ttu-id="297db-140">D3D11InstallHelper.dll ospita le funzionalità di base per il rilevamento dei componenti di Direct3D 11 ed esegue l'aggiornamento del sistema tramite il servizio di Windows Update, se applicabile.</span><span class="sxs-lookup"><span data-stu-id="297db-140">D3D11InstallHelper.dll hosts the core functionality for detecting Direct3D 11 components, and performing the system update through the Windows Update service if applicable.</span></span> <span data-ttu-id="297db-141">Nella DLL non vengono visualizzati direttamente messaggi o finestre di dialogo.</span><span class="sxs-lookup"><span data-stu-id="297db-141">The DLL displays no messages or dialog boxes directly.</span></span>

<span data-ttu-id="297db-142">La DLL è costituita dai punti di ingresso seguenti:</span><span class="sxs-lookup"><span data-stu-id="297db-142">The DLL consists of the following entry points:</span></span>

<dl> <dt>

<span data-ttu-id="297db-143"><span id="CheckDirect3D11Status"></span><span id="checkdirect3d11status"></span><span id="CHECKDIRECT3D11STATUS"></span>CheckDirect3D11Status</span><span class="sxs-lookup"><span data-stu-id="297db-143"><span id="CheckDirect3D11Status"></span><span id="checkdirect3d11status"></span><span id="CHECKDIRECT3D11STATUS"></span>CheckDirect3D11Status</span></span>
</dt> <dd>

<span data-ttu-id="297db-144">Questa funzione esegue i controlli necessari e restituisce lo stato di Direct3D 11 nel computer.</span><span class="sxs-lookup"><span data-stu-id="297db-144">This function performs the necessary checks and returns the status of Direct3D 11 on this computer.</span></span> <span data-ttu-id="297db-145">Questa funzione non richiede diritti di amministratore.</span><span class="sxs-lookup"><span data-stu-id="297db-145">This function does not require administrator rights.</span></span>

-   <span data-ttu-id="297db-146">Lo stato D3D11IH \_ \_ installato indica che Direct3D 11 è già installato nel computer ed è pronto per l'utilizzo.</span><span class="sxs-lookup"><span data-stu-id="297db-146">A status of D3D11IH\_STATUS\_INSTALLED indicates that Direct3D 11 is already installed on the computer and is ready for use.</span></span>
-   <span data-ttu-id="297db-147">\_Lo stato D3D11IH \_ non \_ supportato indica che questa versione di Windows non supporta Direct3D 11 o tecnologie correlate.</span><span class="sxs-lookup"><span data-stu-id="297db-147">D3D11IH\_STATUS\_NOT\_SUPPORTED indicates that this version of Windows does not support Direct3D 11 or related technologies.</span></span>
-   <span data-ttu-id="297db-148">Lo stato D3D11IH \_ \_ richiede \_ la versione più recente di \_ SP indica che l'utente deve installare il Service Pack più recente di Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="297db-148">A status of D3D11IH\_STATUS\_NEED\_LATEST\_SP indicates that the latest Windows Vista Service Pack should be installed by the user.</span></span>
-   <span data-ttu-id="297db-149">Infine, lo stato di D3D11IH \_ \_ richiede \_ Update indica che nel sistema non è installato Direct3D 11, ma che l'aggiornamento del sistema è applicabile a questa versione di Windows.</span><span class="sxs-lookup"><span data-stu-id="297db-149">Finally, a status of D3D11IH\_STATUS\_REQUIRES\_UPDATE indicates that the system does not have Direct3D 11 installed, but that the system update does apply to this version of Windows.</span></span>

</dd> <dt>

<span data-ttu-id="297db-150"><span id="DoUpdateForDirect3D11"></span><span id="doupdatefordirect3d11"></span><span id="DOUPDATEFORDIRECT3D11"></span>DoUpdateForDirect3D11</span><span class="sxs-lookup"><span data-stu-id="297db-150"><span id="DoUpdateForDirect3D11"></span><span id="doupdatefordirect3d11"></span><span id="DOUPDATEFORDIRECT3D11"></span>DoUpdateForDirect3D11</span></span>
</dt> <dd>

<span data-ttu-id="297db-151">Questa funzione usa l'API Windows Update per eseguire l'aggiornamento del sistema per l'installazione di Direct3D 11 in questo sistema, se applicabile.</span><span class="sxs-lookup"><span data-stu-id="297db-151">This function uses the Windows Update API to perform the system update for installing Direct3D 11 on this system, if applicable.</span></span> <span data-ttu-id="297db-152">Si noti che questa funzione richiede la connettività di rete a Windows Update per avere esito positivo, oltre ai diritti amministrativi.</span><span class="sxs-lookup"><span data-stu-id="297db-152">Note that this function requires network connectivity to Windows Update to succeed, as well as administrative rights.</span></span> <span data-ttu-id="297db-153">Accetta una funzione di callback dello stato di avanzamento facoltativa e un puntatore al contesto dell'utente e restituisce un codice di risultato finale al termine dell'operazione.</span><span class="sxs-lookup"><span data-stu-id="297db-153">It takes an optional progress callback function and user-context pointer, and returns a final result code when complete.</span></span>

-   <span data-ttu-id="297db-154">Il risultato \_ dell' \_ esito positivo del D3D11IH indica che l'aggiornamento del sistema è stato applicato ed è pronto per l'uso, mentre il \_ riavvio D3D11IH risultati \_ riusciti \_ indica che l'aggiornamento del sistema richiede che il computer venga riavviato prima del completamento.</span><span class="sxs-lookup"><span data-stu-id="297db-154">The D3D11IH\_RESULT\_SUCCESS result indicates that the system update was applied and is ready for use, while D3D11IH\_RESULT\_SUCCESS\_REBOOT indicates that the system update requires the computer is restarted before it is complete.</span></span> <span data-ttu-id="297db-155">Si noti che questa funzione non pianifica un riavvio del sistema.</span><span class="sxs-lookup"><span data-stu-id="297db-155">Note that this function does not schedule a system restart.</span></span>
-   <span data-ttu-id="297db-156">\_Il risultato di D3D11IH \_ non \_ è supportato indica che l'aggiornamento del sistema non si applica a questa versione di Windows.</span><span class="sxs-lookup"><span data-stu-id="297db-156">D3D11IH\_RESULT\_NOT\_SUPPORTED indicates that the system update does not apply to this version of Windows.</span></span> <span data-ttu-id="297db-157">Questo risultato non deve verificarsi se questa funzione viene chiamata solo dopo che il recupero \_ dello stato di D3D11IH \_ richiede \_ lo stato di aggiornamento da CheckDirect3D11Status.</span><span class="sxs-lookup"><span data-stu-id="297db-157">This result should not occur if this function is only called after getting a D3D11IH\_STATUS\_REQUIRES\_UPDATE status from CheckDirect3D11Status.</span></span>
-   <span data-ttu-id="297db-158">Il risultato dell'aggiornamento dei risultati di D3D11IH \_ \_ \_ non \_ è stato trovato indica che il pacchetto di aggiornamento del sistema non è stato trovato nei server Windows Update.</span><span class="sxs-lookup"><span data-stu-id="297db-158">A result of D3D11IH\_RESULT\_UPDATE\_NOT\_FOUND indicates that the system update package was not found on the Windows Update servers.</span></span>
-   <span data-ttu-id="297db-159">Se il download o l'installazione del Windows Update non riesce, il \_ download dell'aggiornamento dei risultati \_ di D3D11IH \_ \_ non è riuscito o l'installazione dell'aggiornamento dei risultati di D3D11IH non è \_ \_ \_ \_ riuscita.</span><span class="sxs-lookup"><span data-stu-id="297db-159">If the Windows Update download or installation fails, then D3D11IH\_RESULT\_UPDATE\_DOWNLOAD\_FAILED or D3D11IH\_RESULT\_UPDATE\_INSTALL\_FAILED will be returned as the result.</span></span>
-   <span data-ttu-id="297db-160">Se viene restituito un errore di connettività di rete dall'API di Windows Update, viene restituito il risultato dell' \_ errore del servizio D3D11IH \_ , che \_ \_ indica che il problema potrebbe essere intermittente o correlato alla configurazione di rete o alle impostazioni del firewall.</span><span class="sxs-lookup"><span data-stu-id="297db-160">If a network connectivity error is returned from the Windows Update API, then the D3D11IH\_RESULT\_WU\_SERVICE\_ERROR result is returned, indicating that the problem might be intermittent or related to network configuration or firewall settings.</span></span> <span data-ttu-id="297db-161">Il tentativo di eseguire nuovamente la funzione Update potrebbe avere esito positivo.</span><span class="sxs-lookup"><span data-stu-id="297db-161">Trying the update function again may succeed.</span></span>

</dd> </dl>

<span data-ttu-id="297db-162">Per altre informazioni sull'API Windows Update, vedere [api Windows Update Agent](/windows/desktop/Wua_Sdk/portal-client).</span><span class="sxs-lookup"><span data-stu-id="297db-162">For more information on the Windows Update API, see [Windows Update Agent API](/windows/desktop/Wua_Sdk/portal-client).</span></span>

## <a name="d3d11installexe"></a><span data-ttu-id="297db-163">D3D11Install.exe</span><span class="sxs-lookup"><span data-stu-id="297db-163">D3D11Install.exe</span></span>

> [!Note]  
> <span data-ttu-id="297db-164">D3D11Install.exe richiede l'esecuzione di D3D11InstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="297db-164">D3D11Install.exe requires D3D11InstallHelper.dll to execute.</span></span>

<span data-ttu-id="297db-165">D3D11Install.exe è uno strumento per l'uso di D3D11InstallHelper.dll come programma di installazione autonomo completo con i messaggi dell'interfaccia utente e dell'utente finale, oltre a fungere da esempio per l'uso corretto della DLL.</span><span class="sxs-lookup"><span data-stu-id="297db-165">D3D11Install.exe is a tool for using D3D11InstallHelper.dll as a stand-alone installer complete with UI and end-user messages, as well as acting as an example for proper use of the DLL.</span></span> <span data-ttu-id="297db-166">Il processo viene chiuso con 0 se Direct3D 11 è già installato, se l'aggiornamento del sistema viene applicato correttamente senza richiedere un riavvio del sistema, se è necessaria un'installazione del Service Pack o se Direct3D 11 non è supportato da questo computer.</span><span class="sxs-lookup"><span data-stu-id="297db-166">The process exits with a 0 if Direct3D 11 is already installed, if the system update applies successfully without requiring a system restart, if a Service Pack installation is required, or if Direct3D 11 is not supported by this computer.</span></span> <span data-ttu-id="297db-167">Viene restituito 1 se l'aggiornamento del sistema viene applicato correttamente e richiede il completamento di un riavvio del sistema.</span><span class="sxs-lookup"><span data-stu-id="297db-167">A 1 is returned if the system update is applied successfully and requires a system restart to complete.</span></span> <span data-ttu-id="297db-168">Viene restituito un valore 2 per altre condizioni di errore.</span><span class="sxs-lookup"><span data-stu-id="297db-168">A 2 is returned for other error conditions.</span></span> <span data-ttu-id="297db-169">Si noti che questo file eseguibile richiede i diritti di amministratore per l'esecuzione e dispone di un manifesto che richiede l'elevazione quando viene eseguito in Windows Vista o Windows 7 con UAC abilitato.</span><span class="sxs-lookup"><span data-stu-id="297db-169">Note that this executable file requires administrator rights to run, and it has a manifest that requests elevation when run on Windows Vista or Windows 7 with UAC enabled.</span></span> <span data-ttu-id="297db-170">D3D11Install.exe può essere usato come strumento autonomo per la distribuzione dell'aggiornamento di Direct3D 11 oppure può essere usato direttamente dai programmi di installazione.</span><span class="sxs-lookup"><span data-stu-id="297db-170">D3D11Install.exe can be used as a stand-alone tool for deploying the Direct3D 11 update, or it can be used directly by installers.</span></span>

<span data-ttu-id="297db-171">Supporta le opzioni della riga di comando seguenti:</span><span class="sxs-lookup"><span data-stu-id="297db-171">It supports the following command-line switches:</span></span>

<dl> <dt>

<span data-ttu-id="297db-172"><span id="_quiet__"></span><span id="_QUIET__"></span>/quiet</span><span class="sxs-lookup"><span data-stu-id="297db-172"><span id="_quiet__"></span><span id="_QUIET__"></span>/quiet</span></span> 
</dt> <dd>

<span data-ttu-id="297db-173">Non Visualizza messaggi, prompt, finestre di dialogo di stato o messaggi di errore.</span><span class="sxs-lookup"><span data-stu-id="297db-173">Displays no messages, prompts, progress dialog boxes, or error messages.</span></span>

</dd> <dt>

<span data-ttu-id="297db-174"><span id="_passive__"></span><span id="_PASSIVE__"></span>/passive</span><span class="sxs-lookup"><span data-stu-id="297db-174"><span id="_passive__"></span><span id="_PASSIVE__"></span>/passive</span></span> 
</dt> <dd>

<span data-ttu-id="297db-175">Non vengono visualizzati messaggi, richieste o messaggi di errore, ma verrà visualizzata la finestra di dialogo stato.</span><span class="sxs-lookup"><span data-stu-id="297db-175">Displays no messages, prompts, or error messages, but will show the progress dialog box.</span></span>

</dd> <dt>

<span data-ttu-id="297db-176"><span id="_minimal__"></span><span id="_MINIMAL__"></span>/minimal</span><span class="sxs-lookup"><span data-stu-id="297db-176"><span id="_minimal__"></span><span id="_MINIMAL__"></span>/minimal</span></span> 
</dt> <dd>

<span data-ttu-id="297db-177">Mostra solo le richieste minime.</span><span class="sxs-lookup"><span data-stu-id="297db-177">Shows only minimal prompts.</span></span>

</dd> <dt>

<span data-ttu-id="297db-178"><span id="_y__"></span><span id="_Y__"></span>/y</span><span class="sxs-lookup"><span data-stu-id="297db-178"><span id="_y__"></span><span id="_Y__"></span>/y</span></span> 
</dt> <dd>

<span data-ttu-id="297db-179">Evita la richiesta di conferma dell'installazione dell'aggiornamento, se necessario e applicabile, per un'installazione standard e minima.</span><span class="sxs-lookup"><span data-stu-id="297db-179">Suppresses prompting to confirm installing the update, if needed and applicable, for a standard and minimal installation.</span></span>

</dd> <dt>

<span data-ttu-id="297db-180"><span id="_langid_decimal__"></span><span id="_LANGID_DECIMAL__"></span>/langid Decimal</span><span class="sxs-lookup"><span data-stu-id="297db-180"><span id="_langid_decimal__"></span><span id="_LANGID_DECIMAL__"></span>/langid decimal</span></span> 
</dt> <dd>

<span data-ttu-id="297db-181">Impone il codice dell'identificatore di lingua da usare per la visualizzazione di messaggi dell'utente finale e risorse della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="297db-181">Forces which language identifier code to use when displaying end-user messages and dialog box resources.</span></span> <span data-ttu-id="297db-182">Il valore predefinito è 1024, che usa l'impostazione della lingua predefinita del sistema.</span><span class="sxs-lookup"><span data-stu-id="297db-182">The default value is 1024, which uses the system default language setting.</span></span>

</dd> <dt>

<span data-ttu-id="297db-183"><span id="_wu__"></span><span id="_WU__"></span>/wu</span><span class="sxs-lookup"><span data-stu-id="297db-183"><span id="_wu__"></span><span id="_WU__"></span>/wu</span></span> 
</dt> <dd>

<span data-ttu-id="297db-184">Impone l'utilizzo di Windows Update anziché l'impostazione predefinita di sistema, che può essere Windows Server Update Services (WSUS) in esecuzione in un server gestito o in un'altra configurazione non standard.</span><span class="sxs-lookup"><span data-stu-id="297db-184">Forces use of Windows Update rather than the system default, which may be Windows Server Update Services (WSUS) running on a managed server or some other non-standard configuration.</span></span>

</dd> </dl>

## <a name="integrating-into-installation-programs"></a><span data-ttu-id="297db-185">Integrazione nei programmi di installazione</span><span class="sxs-lookup"><span data-stu-id="297db-185">Integrating into installation programs</span></span>

<span data-ttu-id="297db-186">Per garantire la conformità con il supporto di installazione semplice, [requisito tecnico 3,1 per i giochi per Windows](/windows/desktop/DxTechArts/games-for-windows-technical-requirements-1-1-0006), è necessario prestare attenzione affinché eventuali richieste dell'utente finale vengano presentate all'inizio del processo di installazione e per assicurarsi che non siano presenti più richieste di elevazione dei privilegi relative a UAC.</span><span class="sxs-lookup"><span data-stu-id="297db-186">To comply with Support Easy Installation, [Technical Requirement 3.1 for Games for Windows](/windows/desktop/DxTechArts/games-for-windows-technical-requirements-1-1-0006), care needs to be taken so that any end-user prompts are presented early in the installation process, and to ensure that there are not multiple UAC-related elevation prompts.</span></span> <span data-ttu-id="297db-187">Per raggiungere questo obiettivo sono disponibili tre opzioni di base:</span><span class="sxs-lookup"><span data-stu-id="297db-187">There are three basic choices for achieving this goal:</span></span>

1.  <span data-ttu-id="297db-188">Il metodo più semplice consiste nell'eseguire il D3D11Install.exe con l'opzione della riga di comando **/minimal**.</span><span class="sxs-lookup"><span data-stu-id="297db-188">The most basic method is to execute the D3D11Install.exe with the command-line switch **/minimal**.</span></span> <span data-ttu-id="297db-189">Questa operazione deve essere eseguita all'inizio del programma di installazione Q&A e l'installazione deve usare il valore restituito 1 per indicare che è necessario pianificare un riavvio al termine dell'installazione.</span><span class="sxs-lookup"><span data-stu-id="297db-189">This should be done early in the installer Q&A, and the installation should use the return value of 1 to indicate that a restart should be scheduled at the end of the installation.</span></span> <span data-ttu-id="297db-190">L'esecuzione del programma richiede diritti amministrativi.</span><span class="sxs-lookup"><span data-stu-id="297db-190">Executing the program requires administrative rights.</span></span>
2.  <span data-ttu-id="297db-191">Usare direttamente D3D11InstallHelper.dll per rilevare la necessità dell'aggiornamento, fornendo tutti i messaggi degli utenti finali necessari per lo stato D3D11IH di stato \_ \_ necessario \_ più recente \_ SP, in cui la risoluzione richiede operazioni manuali dell'utente.</span><span class="sxs-lookup"><span data-stu-id="297db-191">Use D3D11InstallHelper.dll directly to detect the need for the update, providing any end-user messages necessary for the status D3D11IH\_STATUS\_NEED\_LATEST\_SP, where the resolution requires manual user operations.</span></span> <span data-ttu-id="297db-192">Il risultato dello stato dello \_ stato D3D11IH \_ non \_ supportato potrebbe essere usato per controllare l'installazione di asset correlati a Direct3D 11 o come condizione di errore per le applicazioni Direct3D 11, ma non è necessariamente un messaggio utile dell'utente finale.</span><span class="sxs-lookup"><span data-stu-id="297db-192">The status result of D3D11IH\_STATUS\_NOT\_SUPPORTED could be used to control installation of Direct3D 11–related assets, or as an error condition for Direct3D 11–only applications, but it is otherwise not necessarily a useful end-user message.</span></span> <span data-ttu-id="297db-193">Per lo stato D3D11IH \_ è \_ necessario \_ aggiornare, il programma di installazione può utilizzare direttamente il punto di ingresso della dll DoUpdateForDirect3D11 per eseguire l'aggiornamento e gestire i vari messaggi dell'utente finale risultante.</span><span class="sxs-lookup"><span data-stu-id="297db-193">For the status D3D11IH\_STATUS\_REQUIRES\_UPDATE, the installer can directly use the DLL entry point DoUpdateForDirect3D11 to perform the update and handle the various resulting end-user messages.</span></span> <span data-ttu-id="297db-194">È possibile trovare esempi di messaggi standard esaminando la finestra di dialogo D3D11Install.exe e le risorse della tabella di stringhe.</span><span class="sxs-lookup"><span data-stu-id="297db-194">Examples of standard messages can be found by examining the D3D11Install.exe dialog box and string table resources.</span></span> <span data-ttu-id="297db-195">Il punto di ingresso dell'aggiornamento richiede i diritti di amministratore.</span><span class="sxs-lookup"><span data-stu-id="297db-195">The update entry point requires administrator rights.</span></span>
3.  <span data-ttu-id="297db-196">Un approccio ibrido consiste nel controllare lo stato con D3D11InstallHelper.dll e, nel caso del codice di stato D3D11IH, è \_ \_ necessario \_ aggiornare lo \_ stato SP o D3D11IH più recente \_ . è possibile eseguire \_ \_ D3D11Install.exe con le opzioni **/minimal** e **/y** per visualizzare la finestra di dialogo o per eseguire l'aggiornamento, in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="297db-196">A hybrid approach is to check status with D3D11InstallHelper.dll, and in the case of the status code D3D11IH\_STATUS\_NEED\_LATEST\_SP or D3D11IH\_STATUS\_REQUIRES\_UPDATE, D3D11Install.exe can be executed with the switches **/minimal** and **/y** to display the dialog box or to perform the update, as needed.</span></span> <span data-ttu-id="297db-197">Questi passaggi devono essere eseguiti all'inizio del processo di installazione, in genere immediatamente dopo Q&A e l'esecuzione del file eseguibile richiede diritti amministrativi.</span><span class="sxs-lookup"><span data-stu-id="297db-197">These steps should be performed early in the installation process, usually immediately after the Q&A, and running the executable requires administrative rights.</span></span>

### <a name="integrating-into-installshield"></a><span data-ttu-id="297db-198">Integrazione in InstallShield</span><span class="sxs-lookup"><span data-stu-id="297db-198">Integrating into InstallShield</span></span>

<span data-ttu-id="297db-199">La gestione della distribuzione di Direct3D 11 da InstallScript di InstallShield viene eseguita facilmente usando l'esempio D3D11InstallHelper.</span><span class="sxs-lookup"><span data-stu-id="297db-199">Handling the Direct3D 11 deployment from InstallShield's InstallScript is easily done using the D3D11InstallHelper sample.</span></span> <span data-ttu-id="297db-200">I passaggi necessari per l'integrazione con InstallShield usando InstallScript sono i seguenti (usando il metodo 3, descritto nella sezione precedente):</span><span class="sxs-lookup"><span data-stu-id="297db-200">The steps required to integrate with InstallShield using InstallScript are as follows (using method 3, described in the previous section):</span></span>

1.  <span data-ttu-id="297db-201">Aprire un progetto InstallScript nell'editor InstallShield.</span><span class="sxs-lookup"><span data-stu-id="297db-201">Open an InstallScript project in the InstallShield editor.</span></span>
2.  <span data-ttu-id="297db-202">Aggiungere D3D11InstallHelper.dll e D3D11Install.exe al progetto nei **file di supporto**.</span><span class="sxs-lookup"><span data-stu-id="297db-202">Add D3D11InstallHelper.dll and D3D11Install.exe to the project in **Support Files**.</span></span>

    <span data-ttu-id="297db-203">**Per aggiungere i file al progetto InstallShield**</span><span class="sxs-lookup"><span data-stu-id="297db-203">**To add the files to the InstallShield Project**</span></span>

    1.  <span data-ttu-id="297db-204">Nella scheda **progettazione installazione** fare clic su **file di supporto/affissioni** in **comportamento e logica** nel riquadro di spostamento a sinistra.</span><span class="sxs-lookup"><span data-stu-id="297db-204">On the **Installation Designer** tab, click **Support Files/Billboards** under **Behavior and Logic** in the navigation pane on the left.</span></span>
    2.  <span data-ttu-id="297db-205">Fare clic su **indipendente dalla lingua**, quindi fare clic con il pulsante destro del mouse nella finestra **file** e scegliere **Inserisci file**.</span><span class="sxs-lookup"><span data-stu-id="297db-205">Click **Language Independent**, then right-click in the **Files** window and select **Insert Files**.</span></span> <span data-ttu-id="297db-206">Sfogliare per aggiungere D3D11InstallHelper.dll e D3D11Install.exe.</span><span class="sxs-lookup"><span data-stu-id="297db-206">Browse to add D3D11InstallHelper.dll and D3D11Install.exe.</span></span> <span data-ttu-id="297db-207">Il percorso predefinito per questi file è: esempi radice \\ SDK \\ C++ \\ varie \\ bin \\ x86</span><span class="sxs-lookup"><span data-stu-id="297db-207">The default location for these files is: SDK root\\Samples\\C++\\Misc\\Bin\\x86</span></span>

3.  <span data-ttu-id="297db-208">In InstallScript Explorer fare clic sul file InstallScript (in genere Setup. rul) che chiamerà la DLL o l'eseguibile, situato in **comportamento e logica** nel riquadro di spostamento a sinistra.</span><span class="sxs-lookup"><span data-stu-id="297db-208">In the InstallScript explorer, click the InstallScript file (usually Setup.rul) that will call the DLL or executable, located under **Behavior and Logic** in the navigation pane on the left.</span></span>
4.  <span data-ttu-id="297db-209">Incollare il InstallScript seguente nel file vicino alla parte superiore:</span><span class="sxs-lookup"><span data-stu-id="297db-209">Paste the following InstallScript into the file near the top:</span></span>

    ``` syntax
#define D3D11IH_STATUS_INSTALLED       0
#define D3D11IH_STATUS_NOT_SUPPORTED   1
#define D3D11IH_STATUS_REQUIRES_UPDATE 2
#define D3D11IH_STATUS_NEED_LATEST_SP  3
#define D3D11IH_STATUS_ERROR           -1
    prototype NUMBER D3D11InstallHelper.CheckDirect3D11StatusIS();

#define D3D11IH_RESULT_SUCCESS                0
#define D3D11IH_RESULT_SUCCESS_REBOOT         1
#define D3D11IH_RESULT_NOT_SUPPORTED          2
#define D3D11IH_RESULT_UPDATE_NOT_FOUND       3
#define D3D11IH_RESULT_UPDATE_DOWNLOAD_FAILED 4
#define D3D11IH_RESULT_UPDATE_INSTALL_FAILED  5
#define D3D11IH_RESULT_WU_SERVICE_ERROR       6
#define D3D11IH_RESULT_ERROR                  -1
    prototype NUMBER D3D11InstallHelper.DoUpdateForDirect3D11IS(BOOL);
    ```

5.  <span data-ttu-id="297db-210">Incollare il InstallScript seguente nel file nella funzione **OnFirstUIBefore** , immediatamente prima del risultato 0:</span><span class="sxs-lookup"><span data-stu-id="297db-210">Paste the following InstallScript into the file in the **OnFirstUIBefore** function, just before the return 0:</span></span>

    ``` syntax
    Dlg_D3D11:
        UseDLL( SUPPORTDIR ^ "D3D11InstallHelper.DLL" );
        nResult = D3D11InstallHelper.CheckDirect3D11StatusIS();   
        UnUseDLL( SUPPORTDIR ^ "D3D11InstallHelper.DLL" );
        
        if ( nResult = D3D11IH_STATUS_REQUIRES_UPDATE
             || nResult = D3D11IH_STATUS_NEED_LATEST_SP) then
            nResult = LaunchAppAndWait(
    SUPPORTDIR^"D3D11Install.exe",
    "/minimal /y", WAIT);
            if ( nResult < 0 ) then
                MessageBox("Unable to launch D3D11Install.exe",
     SEVERE);
            elseif ( nResult == 1 ) then
                BATCH_INSTALL = 1;
            endif;          
        endif;
    ```

### <a name="integrating-into-an-msi-package"></a><span data-ttu-id="297db-211">Integrazione in un pacchetto MSI</span><span class="sxs-lookup"><span data-stu-id="297db-211">Integrating into an MSI package</span></span>

<span data-ttu-id="297db-212">Di seguito è riportata una descrizione di alto livello dei passaggi necessari per integrare la distribuzione di Direct3D 11 usando le azioni personalizzate MSI (usando il metodo 3, descritto in precedenza in questo argomento):</span><span class="sxs-lookup"><span data-stu-id="297db-212">The following is a high-level description of the steps required to integrate Direct3D 11 deployment using MSI custom actions (using method 3, described earlier in this topic):</span></span>

1.  <span data-ttu-id="297db-213">Aggiungere una proprietà alla tabella delle proprietà MSI denominata **RelativePathToD3D11IH** contenente il percorso relativo a D3D11Install.exe e D3D11InstallHelper.dll durante l'installazione. si tratta in genere dell'immagine multimediale.</span><span class="sxs-lookup"><span data-stu-id="297db-213">Add a property to the MSI Property table called **RelativePathToD3D11IH** that contains the relative path to D3D11Install.exe and D3D11InstallHelper.dll during installation (this is typically in the media image).</span></span> <span data-ttu-id="297db-214">Imposta anche lo stato D3D11IH della proprietà MSI sullo \_ stato restituito da CheckDirect3D11Status (una proprietà di stringa uguale al simbolo di enumerazione o "Error").</span><span class="sxs-lookup"><span data-stu-id="297db-214">This also sets an MSI property D3D11IH\_STATUS to the status returned by CheckDirect3D11Status (a string property equal to the enumeration symbol or "ERROR").</span></span>
2.  <span data-ttu-id="297db-215">Dopo l'azione CostFinalize secondo, chiamare la funzione D3D11InstallHelper.dll **SetD3D11InstallMSIProperties** come azione personalizzata immediata per impostare le proprietà MSI appropriate per le altre azioni personalizzate.</span><span class="sxs-lookup"><span data-stu-id="297db-215">After the CostFinalize action, call the D3D11InstallHelper.dll function **SetD3D11InstallMSIProperties** as an immediate custom action to set the appropriate MSI properties for the other custom actions.</span></span>
3.  <span data-ttu-id="297db-216">Al momento dell'installazione, attivare un'azione personalizzata posticipata dopo l'azione InstallFiles che chiama la funzione D3D11InstallHelper.dll **DoD3D11InstallUsingMSI**.</span><span class="sxs-lookup"><span data-stu-id="297db-216">Upon installation, trigger a deferred custom action after the InstallFiles action that calls the D3D11InstallHelper.dll function **DoD3D11InstallUsingMSI**.</span></span> <span data-ttu-id="297db-217">L'azione personalizzata deve impostare il flag msidbCustomActionTypeNoImpersonate per l'esecuzione in un contesto con privilegi elevati.</span><span class="sxs-lookup"><span data-stu-id="297db-217">The custom action must set the flag msidbCustomActionTypeNoImpersonate to run in an elevated context.</span></span>
4.  <span data-ttu-id="297db-218">Dopo l'azione InstallFinalize, chiamare la funzione D3D11InstallHelper.dll **FinishD3D11InstallUsingMSI** come azione personalizzata immediata per gestire il codice risultato della richiesta di riavvio, se necessario.</span><span class="sxs-lookup"><span data-stu-id="297db-218">After the InstallFinalize action, call the D3D11InstallHelper.dll function **FinishD3D11InstallUsingMSI** as an immediate custom action to handle the successful reboot request result code, if needed.</span></span>

<span data-ttu-id="297db-219">Questa procedura è descritta in dettaglio nelle istruzioni seguenti, che descrivono un processo che può essere eseguito usando un editor MSI, ad esempio l' [editor ORCA](/windows/desktop/Msi/orca-exe).</span><span class="sxs-lookup"><span data-stu-id="297db-219">This procedure is described in detail in the following instructions, which describe a process that can be done using an MSI editor, such as the [Orca editor](/windows/desktop/Msi/orca-exe).</span></span> <span data-ttu-id="297db-220">Alcuni editor MSI hanno procedure guidate che semplificano alcuni di questi passaggi di configurazione.</span><span class="sxs-lookup"><span data-stu-id="297db-220">Some MSI editors have wizards that simplify some of these configuration steps.</span></span>

<span data-ttu-id="297db-221">**Per configurare un pacchetto MSI per l'integrazione con D3D11InstallHelper.dll**</span><span class="sxs-lookup"><span data-stu-id="297db-221">**To configure an MSI package for integration with D3D11InstallHelper.dll**</span></span>

1.  <span data-ttu-id="297db-222">Aprire il pacchetto MSI in Orca.</span><span class="sxs-lookup"><span data-stu-id="297db-222">Open the MSI package in Orca.</span></span>
2.  <span data-ttu-id="297db-223">Aggiungere la riga illustrata nella tabella seguente alla tabella binaria nel pacchetto MSI.</span><span class="sxs-lookup"><span data-stu-id="297db-223">Add the row shown in the following table to the Binary table in the MSI package.</span></span>

    | <span data-ttu-id="297db-224">Nome</span><span class="sxs-lookup"><span data-stu-id="297db-224">Name</span></span>    | <span data-ttu-id="297db-225">Data</span><span class="sxs-lookup"><span data-stu-id="297db-225">Data</span></span>                                         |
    |---------|----------------------------------------------|
    | <span data-ttu-id="297db-226">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="297db-226">D3D11IH</span></span> | <span data-ttu-id="297db-227">Percorso del file della DLL \\D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="297db-227">File path to the DLL\\D3D11InstallHelper.dll</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="297db-228">Questo file verrà incorporato nel pacchetto MSI, quindi è necessario eseguire questo passaggio ogni volta che si ricompila D3D11InstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="297db-228">This file will be embedded in the MSI package, so you must do this step every time that you recompile D3D11InstallHelper.dll.</span></span>

     

3.  <span data-ttu-id="297db-229">Aggiungere le righe mostrate nella tabella seguente alla tabella CustomAction del pacchetto MSI.</span><span class="sxs-lookup"><span data-stu-id="297db-229">Add the rows shown in the following table to the CustomAction table in the MSI package.</span></span> 

    | <span data-ttu-id="297db-230">Azione</span><span class="sxs-lookup"><span data-stu-id="297db-230">Action</span></span>              | <span data-ttu-id="297db-231">Tipo</span><span class="sxs-lookup"><span data-stu-id="297db-231">Type</span></span>                                                                                                                                                                   | <span data-ttu-id="297db-232">Source (Sorgente)</span><span class="sxs-lookup"><span data-stu-id="297db-232">Source</span></span>  | <span data-ttu-id="297db-233">Destinazione</span><span class="sxs-lookup"><span data-stu-id="297db-233">Target</span></span>                       |
    |---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|------------------------------|
    | <span data-ttu-id="297db-234">Direct3D11SetProps</span><span class="sxs-lookup"><span data-stu-id="297db-234">Direct3D11SetProps</span></span>  | <span data-ttu-id="297db-235">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span><span class="sxs-lookup"><span data-stu-id="297db-235">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                        | <span data-ttu-id="297db-236">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="297db-236">D3D11IH</span></span> | <span data-ttu-id="297db-237">SetD3D11InstallMSIProperties</span><span class="sxs-lookup"><span data-stu-id="297db-237">SetD3D11InstallMSIProperties</span></span> |
    | <span data-ttu-id="297db-238">Direct3D11DoInstall</span><span class="sxs-lookup"><span data-stu-id="297db-238">Direct3D11DoInstall</span></span> | <span data-ttu-id="297db-239">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="297db-239">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span> | <span data-ttu-id="297db-240">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="297db-240">D3D11IH</span></span> | <span data-ttu-id="297db-241">DoD3D11InstallUsingMSI</span><span class="sxs-lookup"><span data-stu-id="297db-241">DoD3D11InstallUsingMSI</span></span>       |
    | <span data-ttu-id="297db-242">Direct3D11Finish</span><span class="sxs-lookup"><span data-stu-id="297db-242">Direct3D11Finish</span></span>    | <span data-ttu-id="297db-243">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span><span class="sxs-lookup"><span data-stu-id="297db-243">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                        | <span data-ttu-id="297db-244">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="297db-244">D3D11IH</span></span> | <span data-ttu-id="297db-245">FinishD3D11InstallUsingMSI</span><span class="sxs-lookup"><span data-stu-id="297db-245">FinishD3D11InstallUsingMSI</span></span>   |

    

     

4.  <span data-ttu-id="297db-246">Aggiungere i valori visualizzati per Action, Condition e Sequence nella tabella seguente alla tabella InstallExecuteSequence del pacchetto MSI.</span><span class="sxs-lookup"><span data-stu-id="297db-246">Add the values shown for Action, Condition, and Sequence in the following table to the InstallExecuteSequence table in the MSI package.</span></span> 

    | <span data-ttu-id="297db-247">Azione</span><span class="sxs-lookup"><span data-stu-id="297db-247">Action</span></span>              | <span data-ttu-id="297db-248">Condizione</span><span class="sxs-lookup"><span data-stu-id="297db-248">Condition</span></span>     | <span data-ttu-id="297db-249">Sequenza</span><span class="sxs-lookup"><span data-stu-id="297db-249">Sequence</span></span> | <span data-ttu-id="297db-250">Note</span><span class="sxs-lookup"><span data-stu-id="297db-250">Notes</span></span>                                                                                                                                                          |
    |---------------------|---------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="297db-251">Direct3D11SetProps</span><span class="sxs-lookup"><span data-stu-id="297db-251">Direct3D11SetProps</span></span>  |               | <span data-ttu-id="297db-252">1016</span><span class="sxs-lookup"><span data-stu-id="297db-252">1016</span></span>     | <span data-ttu-id="297db-253">Il numero di sequenza inserisce l'azione subito dopo CostFinalize secondo.</span><span class="sxs-lookup"><span data-stu-id="297db-253">The sequence number places the action soon after CostFinalize.</span></span>                                                                                                 |
    | <span data-ttu-id="297db-254">Direct3D11DoInstall</span><span class="sxs-lookup"><span data-stu-id="297db-254">Direct3D11DoInstall</span></span> | <span data-ttu-id="297db-255">NON installato</span><span class="sxs-lookup"><span data-stu-id="297db-255">NOT Installed</span></span> | <span data-ttu-id="297db-256">4004</span><span class="sxs-lookup"><span data-stu-id="297db-256">4004</span></span>     | <span data-ttu-id="297db-257">Questa azione personalizzata verrà eseguita solo durante una nuova installazione per tutti gli utenti.</span><span class="sxs-lookup"><span data-stu-id="297db-257">This custom action will only happen during a new installation for all users.</span></span> <span data-ttu-id="297db-258">Il numero di sequenza inserisce l'azione dopo InstallFiles e dopo il rollback.</span><span class="sxs-lookup"><span data-stu-id="297db-258">The sequence number places the action after InstallFiles and after the rollbacks.</span></span> |
    | <span data-ttu-id="297db-259">Direct3D11Finish</span><span class="sxs-lookup"><span data-stu-id="297db-259">Direct3D11Finish</span></span>    |               | <span data-ttu-id="297db-260">6615</span><span class="sxs-lookup"><span data-stu-id="297db-260">6615</span></span>     | <span data-ttu-id="297db-261">Il numero di sequenza inserisce l'azione subito dopo InstallFinalize.</span><span class="sxs-lookup"><span data-stu-id="297db-261">The sequence number places the action soon after InstallFinalize.</span></span>                                                                                              |

    

     

5.  <span data-ttu-id="297db-262">Aggiungere la riga illustrata nella tabella seguente alla tabella delle **Proprietà** nel pacchetto MSI.</span><span class="sxs-lookup"><span data-stu-id="297db-262">Add the row shown in the following table to the **Property** table in the MSI package.</span></span> 

    | <span data-ttu-id="297db-263">Proprietà</span><span class="sxs-lookup"><span data-stu-id="297db-263">Property</span></span>              | <span data-ttu-id="297db-264">Valore</span><span class="sxs-lookup"><span data-stu-id="297db-264">Value</span></span>                                                                        |
    |-----------------------|------------------------------------------------------------------------------|
    | <span data-ttu-id="297db-265">RelativePathToD3D11IH</span><span class="sxs-lookup"><span data-stu-id="297db-265">RelativePathToD3D11IH</span></span> | <span data-ttu-id="297db-266">percorso relativo del file che contiene D3D11Install.exe e D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="297db-266">relative file path that contains D3D11Install.exe and D3D11InstallHelper.dll</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="297db-267">Il percorso specificato dal percorso è relativo alla posizione specificata dal percorso di installazione, ad esempio "Redist \\ ".</span><span class="sxs-lookup"><span data-stu-id="297db-267">The location specified by the path is relative to the location specified by the installation path—for example, "redist\\".</span></span>

     

6.  <span data-ttu-id="297db-268">Salvare il pacchetto MSI.</span><span class="sxs-lookup"><span data-stu-id="297db-268">Save the MSI package.</span></span> <span data-ttu-id="297db-269">Per informazioni più dettagliate sui pacchetti MSI e Windows Installer, vedere [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="297db-269">For more detailed information about MSI packages and Windows Installer, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="debugging-tips"></a><span data-ttu-id="297db-270">Suggerimenti per il debug</span><span class="sxs-lookup"><span data-stu-id="297db-270">Debugging tips</span></span>

<span data-ttu-id="297db-271">Sia D3D11InstallHelper.dll che D3D11Install.exe possono essere compilati con la configurazione di debug in Visual Studio e queste versioni stampano i messaggi nel meccanismo di output di debug standard di Windows.</span><span class="sxs-lookup"><span data-stu-id="297db-271">Both D3D11InstallHelper.dll and D3D11Install.exe can be built with the Debug configuration in Visual Studio, and these versions will print messages to the standard Windows debug output mechanism.</span></span>

## <a name="corporate-settings"></a><span data-ttu-id="297db-272">Impostazioni aziendali</span><span class="sxs-lookup"><span data-stu-id="297db-272">Corporate settings</span></span>

<span data-ttu-id="297db-273">L'esempio D3D11InstallHelper è progettato per la distribuzione standard tramite Windows Update, che è lo scenario più comune per l'installazione di un gioco da parte dei consumer.</span><span class="sxs-lookup"><span data-stu-id="297db-273">The D3D11InstallHelper sample is designed for standard deployment through Windows Update, which is the most common scenario for installation of a game by consumers.</span></span> <span data-ttu-id="297db-274">Tuttavia, molti sviluppatori di giochi, che lavorano per gli editori e negli studi di sviluppo, eseguono questa operazione nelle impostazioni aziendali che dispongono di un server gestito localmente che fornisce aggiornamenti software tramite la tecnologia Windows Server Update Services (WSUS).</span><span class="sxs-lookup"><span data-stu-id="297db-274">However, Many game developers, working for publishers and in development studios, do so in enterprise settings that have a locally managed server providing software updates by using Windows Server Update Services (WSUS) technology.</span></span> <span data-ttu-id="297db-275">In questo tipo di ambiente, l'amministratore IT locale ha il controllo di approvazione degli aggiornamenti resi disponibili per i computer all'interno della rete aziendale e la versione consumer standard dell'aggiornamento KB 971644 non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="297db-275">In this type of environment, the local IT administrator has approval control over which updates are made available to computers within the corporate network, and the standard consumer version of update KB 971644 is not available.</span></span>

<span data-ttu-id="297db-276">Sono disponibili tre soluzioni di base per la distribuzione di DirectX 11 in impostazioni aziendali/aziendali:</span><span class="sxs-lookup"><span data-stu-id="297db-276">There are three basic solutions for deploying DirectX 11 in corporate/enterprise settings:</span></span>

-   <span data-ttu-id="297db-277">In alcune configurazioni è possibile controllare direttamente Windows Update anziché utilizzare il server WSUS gestito localmente.</span><span class="sxs-lookup"><span data-stu-id="297db-277">In some configurations, it is possible to directly check Windows Update rather than use the locally managed WSUS server.</span></span> <span data-ttu-id="297db-278">Per questo motivo, D3D11InstallHelper supporta l'opzione della riga di comando **/Wu** .</span><span class="sxs-lookup"><span data-stu-id="297db-278">For this reason, D3D11InstallHelper supports the **/wu** command-line switch.</span></span> <span data-ttu-id="297db-279">Tuttavia, non tutte le reti aziendali consentono le connessioni ai server Microsoft pubblici.</span><span class="sxs-lookup"><span data-stu-id="297db-279">However, not all corporate networks allow connections to the public Microsoft servers.</span></span>
-   <span data-ttu-id="297db-280">L'amministratore IT locale può approvare KB 971512, un aggiornamento supportato dall'organizzazione distribuito da WSUS, che include l'API Direct3D 11.</span><span class="sxs-lookup"><span data-stu-id="297db-280">The local IT administrator can approve KB 971512, an enterprise-supported update deployed from WSUS, that includes the Direct3D 11 API.</span></span> <span data-ttu-id="297db-281">Questa è l'unica opzione che consente a un utente standard di ottenere l'aggiornamento di Direct3D 11 in un ambiente completamente bloccato.</span><span class="sxs-lookup"><span data-stu-id="297db-281">This is the only option for a Standard User to obtain the Direct3D 11 update in an environment that is fully locked down.</span></span>
-   <span data-ttu-id="297db-282">In alternativa, è possibile installare manualmente [KB 971512](https://support.microsoft.com/kb/971512/) .</span><span class="sxs-lookup"><span data-stu-id="297db-282">Alternatively, [KB 971512](https://support.microsoft.com/kb/971512/) can be manually installed.</span></span>

<span data-ttu-id="297db-283">È molto raro che il computer di un giocatore possa ottenere gli aggiornamenti solo da un server WSUS gestito localmente ed è solo per gli sviluppatori di organizzazioni di grandi dimensioni che probabilmente si trovano in tali ambienti.</span><span class="sxs-lookup"><span data-stu-id="297db-283">It is very rare that a gamer's computer can only get updates from a locally managed WSUS server, and it is only developers in large organizations who are likely to be in such environments.</span></span>

## <a name="related-articles"></a><span data-ttu-id="297db-284">Articoli correlati</span><span class="sxs-lookup"><span data-stu-id="297db-284">Related articles</span></span>

[<span data-ttu-id="297db-285">Windows Firewall per sviluppatori di giochi</span><span class="sxs-lookup"><span data-stu-id="297db-285">Windows Firewall for Game Developers</span></span>](/windows/desktop/DxTechArts/games-and-firewalls)

[<span data-ttu-id="297db-286">Esplora giochi di Windows per sviluppatori di giochi</span><span class="sxs-lookup"><span data-stu-id="297db-286">Windows Games Explorer for Game Developers</span></span>](/windows/desktop/DxTechArts/windows-game-explorer-integration)