---
title: Come risolvere gli errori di firma del pacchetto dell'app
description: Un errore di distribuzione dell'app può essere causato da un errore di convalida della firma digitale del pacchetto dell'app. Informazioni su come riconoscere questi errori e su come eseguirli.
ms.assetid: CE868296-87F6-4BD5-8AC5-914E429EDEBC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0b6f50dc5ff428e74f4928fc20775b13de7c3be9
ms.sourcegitcommit: 784b5954a1646e2406cd4ee27a9e4f50e28ee9b7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/05/2021
ms.locfileid: "106374832"
---
# <a name="how-to-troubleshoot-app-package-signature-errors"></a><span data-ttu-id="cfe7f-104">Come risolvere gli errori di firma del pacchetto dell'app</span><span class="sxs-lookup"><span data-stu-id="cfe7f-104">How to troubleshoot app package signature errors</span></span>

<span data-ttu-id="cfe7f-105">Un errore di distribuzione dell'app può essere causato da un errore di convalida della firma digitale del pacchetto dell'app.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-105">An app deployment failure can be caused by a failure to validate the digital signature of the app package.</span></span> <span data-ttu-id="cfe7f-106">Informazioni su come riconoscere questi errori e su come eseguirli.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-106">Learn how to recognize these failures, and what to do about them.</span></span>

<span data-ttu-id="cfe7f-107">Quando si distribuisce un'app di Windows in pacchetto, Windows tenta sempre di convalidare la firma digitale nel pacchetto dell'app.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-107">When you deploy a packaged Windows app, Windows always attempts to validate the digital signature on the app package.</span></span> <span data-ttu-id="cfe7f-108">Errori durante la convalida della firma del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-108">Failures during signature validation block deployment of the package.</span></span> <span data-ttu-id="cfe7f-109">Ma perché il pacchetto non è stato convalidato potrebbe non essere ovvio.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-109">But why the package didn't validate might not be obvious.</span></span> <span data-ttu-id="cfe7f-110">In particolare, se si firmano i pacchetti con certificati privati per i test locali, è spesso necessario gestire anche il trust per tali certificati.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-110">In particular, if you sign your packages with private certificates for local testing, you often must manage the trust for those certificates as well.</span></span> <span data-ttu-id="cfe7f-111">Una configurazione di attendibilità del certificato non corretta può causare errori di convalida della firma.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-111">An incorrect certificate trust configuration can lead to signature validation failures.</span></span>

## <a name="what-you-need-to-know"></a><span data-ttu-id="cfe7f-112">Informazioni importanti</span><span class="sxs-lookup"><span data-stu-id="cfe7f-112">What you need to know</span></span>

### <a name="technologies"></a><span data-ttu-id="cfe7f-113">Tecnologie</span><span class="sxs-lookup"><span data-stu-id="cfe7f-113">Technologies</span></span>

-   [<span data-ttu-id="cfe7f-114">Creazione di pacchetti, distribuzione e query delle app di Windows</span><span class="sxs-lookup"><span data-stu-id="cfe7f-114">Packaging, deployment, and query of Windows apps</span></span>](appx-portal.md)
-   [<span data-ttu-id="cfe7f-115">Verifica dell'attendibilità del certificato</span><span class="sxs-lookup"><span data-stu-id="cfe7f-115">Certificate Trust Verification</span></span>](/windows/desktop/SecCrypto/certificate-trust-verification)

### <a name="prerequisites"></a><span data-ttu-id="cfe7f-116">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="cfe7f-116">Prerequisites</span></span>

-   <span data-ttu-id="cfe7f-117">[Registro eventi di Windows](/windows/desktop/WES/windows-event-log) per diagnosticare gli errori di installazione.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-117">[Windows Event Log](/windows/desktop/WES/windows-event-log) to diagnose installation failures.</span></span>
-   <span data-ttu-id="cfe7f-118">[Attività certutil per la gestione di certificati](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) per la manipolazione dell'archivio certificati durante la risoluzione dei problemi</span><span class="sxs-lookup"><span data-stu-id="cfe7f-118">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) for certificate store manipulation during troubleshooting</span></span>

## <a name="instructions"></a><span data-ttu-id="cfe7f-119">Istruzioni</span><span class="sxs-lookup"><span data-stu-id="cfe7f-119">Instructions</span></span>

### <a name="step-1-examine-event-logs-for-diagnostic-information"></a><span data-ttu-id="cfe7f-120">Passaggio 1: esaminare i registri eventi per informazioni di diagnostica</span><span class="sxs-lookup"><span data-stu-id="cfe7f-120">Step 1: Examine event logs for diagnostic information</span></span>

<span data-ttu-id="cfe7f-121">A seconda di come si è tentato di distribuire l'app, è possibile che non sia stato ricevuto un codice di errore significativo per l'errore di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-121">Depending on how you attempted to deploy your app, you might not have received a meaningful error code for the deployment failure.</span></span> <span data-ttu-id="cfe7f-122">In questo caso, in genere è possibile ottenere il codice di errore direttamente dai registri eventi.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-122">In this case, you can usually get the error code directly from the event logs.</span></span>

<span data-ttu-id="cfe7f-123">**Per ottenere il codice di errore dai registri eventi**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-123">**To get the error code from the event logs**</span></span>

1.  <span data-ttu-id="cfe7f-124">Eseguire **eventvwr. msc**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-124">Run **eventvwr.msc**.</span></span>
2.  <span data-ttu-id="cfe7f-125">Passare a **Visualizzatore eventi (local)**  >  **registri applicazioni e servizi**  >  **Microsoft**  >  **Windows**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-125">Go to **Event Viewer (Local)** > **Applications and Services Logs** > **Microsoft** > **Windows**.</span></span>
3.  <span data-ttu-id="cfe7f-126">Il primo log da controllare è **AppxPackagingOM**  >  **Microsoft-Windows-AppxPackaging/Operational**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-126">The first log to check is **AppxPackagingOM** > **Microsoft-Windows-AppxPackaging/Operational**.</span></span>
4.  <span data-ttu-id="cfe7f-127">Gli errori relativi alla distribuzione vengono registrati in **AppXDeployment-Server**  >  **Microsoft-Windows-AppXDeploymentServer/Operational**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-127">Deployment-related errors are recorded in **AppXDeployment-Server** > **Microsoft-Windows-AppXDeploymentServer/Operational**.</span></span>

    <span data-ttu-id="cfe7f-128">Per gli errori di distribuzione, cercare l'evento di errore più recente 404.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-128">For deployment errors, search for the most recent error event 404.</span></span> <span data-ttu-id="cfe7f-129">Questo evento di errore fornisce il codice di errore e una descrizione del motivo per cui la distribuzione non è riuscita.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-129">This error event provides you with the error code and a description of why the deployment failed.</span></span> <span data-ttu-id="cfe7f-130">Se un evento di errore 465 precede l'evento 404, si è verificato un problema durante l'apertura del pacchetto.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-130">If an error event 465 preceded the 404 event, there was a problem opening the package.</span></span>

<span data-ttu-id="cfe7f-131">Se non si è verificato l'errore 465, vedere la sezione relativa alla [risoluzione dei problemi generali di creazione di pacchetti, distribuzione e query delle app di Windows](troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="cfe7f-131">If the 465 error didn't occur, see general [Troubleshooting packaging, deployment, and query of Windows apps](troubleshooting.md).</span></span> <span data-ttu-id="cfe7f-132">In caso contrario, fare riferimento a questa tabella per i codici di errore comuni che possono essere visualizzati nella stringa di errore per l'evento di errore 465:</span><span class="sxs-lookup"><span data-stu-id="cfe7f-132">Otherwise, refer to this table for common error codes that can show up in the error string for error event 465:</span></span>

| <span data-ttu-id="cfe7f-133">Codice di errore</span><span class="sxs-lookup"><span data-stu-id="cfe7f-133">Error code</span></span> | <span data-ttu-id="cfe7f-134">Errore</span><span class="sxs-lookup"><span data-stu-id="cfe7f-134">Error</span></span>                                 | <span data-ttu-id="cfe7f-135">Descrizione</span><span class="sxs-lookup"><span data-stu-id="cfe7f-135">Description</span></span>                                                                                                          | <span data-ttu-id="cfe7f-136">Suggerimento</span><span class="sxs-lookup"><span data-stu-id="cfe7f-136">Suggestion</span></span>                                                                                                                                                                                                 |
|------------|---------------------------------------|----------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cfe7f-137">0x80073CF0</span><span class="sxs-lookup"><span data-stu-id="cfe7f-137">0x80073CF0</span></span> | <span data-ttu-id="cfe7f-138">ERRORE di \_ installazione del \_ \_ pacchetto aperto \_ non riuscito</span><span class="sxs-lookup"><span data-stu-id="cfe7f-138">ERROR\_INSTALL\_OPEN\_PACKAGE\_FAILED</span></span> | <span data-ttu-id="cfe7f-139">Non è stato possibile aprire il pacchetto dell'app.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-139">The app package could not be opened.</span></span>                                                                                 | <span data-ttu-id="cfe7f-140">Questo errore indica in genere un problema con il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-140">This error typically indicates a problem with the package.</span></span> <span data-ttu-id="cfe7f-141">È necessario compilare e firmare nuovamente il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-141">You need to build and sign the package again.</span></span> <span data-ttu-id="cfe7f-142">Per altre informazioni, vedere [uso del pacchetto di app](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="cfe7f-142">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span> |
| <span data-ttu-id="cfe7f-143">0x80080205</span><span class="sxs-lookup"><span data-stu-id="cfe7f-143">0x80080205</span></span> | <span data-ttu-id="cfe7f-144">APPX \_ E \_ BLOCKMAP non validi \_</span><span class="sxs-lookup"><span data-stu-id="cfe7f-144">APPX\_E\_INVALID\_BLOCKMAP</span></span>            | <span data-ttu-id="cfe7f-145">Il pacchetto dell'app è stato alterato o contiene una mappa di blocco non valida.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-145">The app package has been tampered with or has an invalid block map.</span></span>                                                  | <span data-ttu-id="cfe7f-146">Il pacchetto è danneggiato.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-146">The package is corrupted.</span></span> <span data-ttu-id="cfe7f-147">È necessario compilare e firmare nuovamente il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-147">You need to build and sign the package again.</span></span> <span data-ttu-id="cfe7f-148">Per altre informazioni, vedere [uso del pacchetto di app](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="cfe7f-148">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span>                                  |
| <span data-ttu-id="cfe7f-149">0x800B0004</span><span class="sxs-lookup"><span data-stu-id="cfe7f-149">0x800B0004</span></span> | <span data-ttu-id="cfe7f-150">ATTENDIBILità \_ E \_ oggetto \_ non \_ attendibile</span><span class="sxs-lookup"><span data-stu-id="cfe7f-150">TRUST\_E\_SUBJECT\_NOT\_TRUSTED</span></span>       | <span data-ttu-id="cfe7f-151">Il pacchetto dell'app è stato manomesso.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-151">The app package has been tampered with.</span></span>                                                                              | <span data-ttu-id="cfe7f-152">Il contenuto del pacchetto non corrisponde più alla firma digitale.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-152">The package contents no longer match its digital signature.</span></span> <span data-ttu-id="cfe7f-153">È necessario firmare nuovamente il pacchetto.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-153">You need to sign the package again.</span></span> <span data-ttu-id="cfe7f-154">Per altre informazioni, vedere [come firmare un pacchetto dell'app usando SignTool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="cfe7f-154">For more info, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>  |
| <span data-ttu-id="cfe7f-155">0x800B0100</span><span class="sxs-lookup"><span data-stu-id="cfe7f-155">0x800B0100</span></span> | <span data-ttu-id="cfe7f-156">TRUST \_ E \_ NoSignature</span><span class="sxs-lookup"><span data-stu-id="cfe7f-156">TRUST\_E\_NOSIGNATURE</span></span>                 | <span data-ttu-id="cfe7f-157">Il pacchetto dell'app non è firmato.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-157">The app package is unsigned.</span></span>                                                                                         | <span data-ttu-id="cfe7f-158">È possibile distribuire solo i pacchetti dell'app Windows firmati.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-158">Only signed Windows app packages can be deployed.</span></span> <span data-ttu-id="cfe7f-159">Per informazioni sulla firma di un pacchetto dell'app, vedere [come firmare un pacchetto dell'app con SignTool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="cfe7f-159">For info about signing an app package, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>                  |
| <span data-ttu-id="cfe7f-160">0x800B0109</span><span class="sxs-lookup"><span data-stu-id="cfe7f-160">0x800B0109</span></span> | <span data-ttu-id="cfe7f-161">CERTIFICATO \_ E \_ radice non attendibile \_</span><span class="sxs-lookup"><span data-stu-id="cfe7f-161">CERT\_E\_UNTRUSTED\_ROOT</span></span>              | <span data-ttu-id="cfe7f-162">La catena di certificati usata per firmare il pacchetto dell'applicazione termina con un certificato radice non attendibile.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-162">The certificate chain that was used to sign the app package ends in a root certificate that isn't trusted.</span></span>           | <span data-ttu-id="cfe7f-163">Continuare con il passaggio 2 per risolvere i problemi relativi all'attendibilità del certificato.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-163">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |
| <span data-ttu-id="cfe7f-164">0x800B010A</span><span class="sxs-lookup"><span data-stu-id="cfe7f-164">0x800B010A</span></span> | <span data-ttu-id="cfe7f-165">concatenamento di CERT \_ E \_</span><span class="sxs-lookup"><span data-stu-id="cfe7f-165">CERT\_E\_CHAINING</span></span>                     | <span data-ttu-id="cfe7f-166">Non è stato possibile creare una catena di certificati per un'autorità radice attendibile dal certificato usato per firmare il pacchetto dell'app.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-166">No certificate chain could be built to a trusted root authority from the cert that was used to sign the app package.</span></span> | <span data-ttu-id="cfe7f-167">Continuare con il passaggio 2 per risolvere i problemi relativi all'attendibilità del certificato.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-167">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |



 

### <a name="step-2-determine-the-certificate-chain-used-to-sign-the-app-package"></a><span data-ttu-id="cfe7f-168">Passaggio 2: determinare la catena di certificati usata per firmare il pacchetto dell'app</span><span class="sxs-lookup"><span data-stu-id="cfe7f-168">Step 2: Determine the certificate chain used to sign the app package</span></span>

<span data-ttu-id="cfe7f-169">Per individuare i certificati che il computer locale deve considerare attendibile, è possibile esaminare la catena di certificati per la firma digitale nel pacchetto dell'app.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-169">To figure out the certificates that the local computer must trust, you can examine the certificate chain for the digital signature on the app package.</span></span>

<span data-ttu-id="cfe7f-170">**Per determinare la catena di certificati**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-170">**To determine the certificate chain**</span></span>

1.  <span data-ttu-id="cfe7f-171">In Esplora file fare clic con il pulsante destro del mouse sul pacchetto dell'app e scegliere **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-171">In File Explorer, right-click on the app package and select **Properties**.</span></span>
2.  <span data-ttu-id="cfe7f-172">Nella finestra di dialogo **Proprietà** selezionare la scheda **firme digitali** , che indica anche se la firma può essere convalidata.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-172">In the **Properties** dialog, select the **Digital Signatures** tab, which also displays whether the signature can be validated.</span></span>
3.  <span data-ttu-id="cfe7f-173">Nell'elenco firma selezionare la firma e quindi fare clic sul pulsante **Dettagli** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-173">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="cfe7f-174">Nella finestra di dialogo **Dettagli firma digitale** fare clic sul pulsante **Visualizza certificato** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-174">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="cfe7f-175">Nella finestra di dialogo **certificato** selezionare la scheda **percorso certificazione** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-175">In the **Certificate** dialog, select the **Certification Path** tab.</span></span>

<span data-ttu-id="cfe7f-176">Il certificato superiore nella catena è il certificato radice e il certificato inferiore è il certificato di firma.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-176">The top certificate in the chain is the root certificate and the bottom certificate is the signing certificate.</span></span> <span data-ttu-id="cfe7f-177">Se nella catena è presente un solo certificato, il certificato di firma è anche il proprio certificato radice.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-177">If only a single certificate is in the chain, the signing certificate is also its own root certificate.</span></span> <span data-ttu-id="cfe7f-178">È possibile determinare il numero di serie per ogni certificato usato successivamente con [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span><span class="sxs-lookup"><span data-stu-id="cfe7f-178">You can determine the serial number for each certificate that you then use with [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span></span>

<span data-ttu-id="cfe7f-179">**Per determinare il numero di serie per ogni certificato**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-179">**To determine the serial number for each certificate**</span></span>

1.  <span data-ttu-id="cfe7f-180">Nel riquadro Percorso certificazione selezionare il certificato e quindi fare clic su **Visualizza certificato**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-180">In the Certification path pane, select the certificate and then click **View Certificate**.</span></span>
2.  <span data-ttu-id="cfe7f-181">Nella finestra di dialogo certificato selezionare la scheda **Dettagli** , che consente di visualizzare il numero di serie e altre proprietà utili del certificato.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-181">In the Certificate dialog, select the **Details** tab, which displays the serial number and other useful properties of the certificate.</span></span>

### <a name="step-3-determine-the-certificates-trusted-by-the-local-machine"></a><span data-ttu-id="cfe7f-182">Passaggio 3: determinare i certificati considerati attendibili dal computer locale</span><span class="sxs-lookup"><span data-stu-id="cfe7f-182">Step 3: Determine the certificates trusted by the local machine</span></span>

<span data-ttu-id="cfe7f-183">Per poter distribuire un pacchetto dell'app, questo non deve essere considerato attendibile solo nel contesto dell'utente, ma anche nel contesto del computer locale.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-183">To be able to deploy an app package, it must not only be trusted in the user’s context but also the local computer context.</span></span> <span data-ttu-id="cfe7f-184">Di conseguenza, la firma digitale può apparire valida quando viene visualizzata nella scheda firme digitali del passaggio precedente, ma non viene ancora eseguita la convalida durante la distribuzione del pacchetto dell'app.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-184">As a result, the digital signature can appear valid when viewed in the Digital Signatures tab from the previous step but still fail validation during deployment of the app package.</span></span>

<span data-ttu-id="cfe7f-185">**Per determinare se la catena di certificati usata per firmare il pacchetto dell'app è ritenuta attendibile in modo specifico dal computer locale**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-185">**To determine if the certificate chain used to sign the app package is specifically trusted by the local computer**</span></span>

1.  <span data-ttu-id="cfe7f-186">Eseguire questo comando:</span><span class="sxs-lookup"><span data-stu-id="cfe7f-186">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store Root rootCertSerialNumber
    ```

2.  <span data-ttu-id="cfe7f-187">Eseguire questo comando:</span><span class="sxs-lookup"><span data-stu-id="cfe7f-187">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store TrustedPeople signingCertSerialNumber
    ```

<span data-ttu-id="cfe7f-188">Se non si specifica il numero di serie del certificato, [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) elenca tutti i certificati considerati attendibili dal computer locale per tale archivio.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-188">If you don't specify the certificate serial number, [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) lists all certificates that are trusted by the local computer for that store.</span></span>

<span data-ttu-id="cfe7f-189">Potrebbe non essere possibile installare il pacchetto a causa di errori di concatenamento del certificato, anche se il certificato di firma non è autofirmato e il certificato radice si trova nell'archivio radice del computer locale.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-189">The package may fail to install due to certificate chaining errors, even if the signing certificate is not self-signed and the root certificate is in the root store of the local computer.</span></span> <span data-ttu-id="cfe7f-190">In questo caso, è possibile che si verifichi un problema di attendibilità per le autorità di certificazione intermedie.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-190">In this case, there might be an issue with trust for the intermediate certificate authorities.</span></span> <span data-ttu-id="cfe7f-191">Per ulteriori informazioni su questo problema, vedere [utilizzo dei certificati](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="cfe7f-191">For more info about this issue, see [Working with Certificates](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span></span>

## <a name="remarks"></a><span data-ttu-id="cfe7f-192">Commenti</span><span class="sxs-lookup"><span data-stu-id="cfe7f-192">Remarks</span></span>

<span data-ttu-id="cfe7f-193">Se è stato determinato che non è stato possibile distribuire il pacchetto perché il certificato di firma non è attendibile, non installare il pacchetto a meno che non si sappia dove è stato originato e lo si considera attendibile.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-193">If you determined that the package couldn't be deployed because the signing certificate isn't trusted, don't install the package unless you know where it originated and you trust it.</span></span>

<span data-ttu-id="cfe7f-194">Per considerare attendibile manualmente l'app per l'installazione, ad esempio per installare il pacchetto dell'app firmato da test personalizzato, è possibile aggiungere manualmente il certificato all'attendibilità del certificato del computer locale dal pacchetto dell'app.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-194">If you want to manually trust the app for install (for example, to install your own test-signed app package), you can manually add the certificate to the local computer certificate trust from the app package.</span></span>

<span data-ttu-id="cfe7f-195">**Per aggiungere manualmente il certificato all'attendibilità del certificato del computer locale**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-195">**To manually add the certificate to the local computer certificate trust**</span></span>

1.  <span data-ttu-id="cfe7f-196">In Esplora file fare clic con il pulsante destro del mouse sul pacchetto dell'app e nel menu di scelta rapida popup selezionare **Proprietà**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-196">In File Explorer, right-click on the app package, and in the pop-up context menu select **Properties**.</span></span>
2.  <span data-ttu-id="cfe7f-197">Nella finestra di dialogo **Proprietà** selezionare la scheda **firme digitali** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-197">In the **Properties** dialog, select the **Digital Signatures** tab.</span></span>
3.  <span data-ttu-id="cfe7f-198">Nell'elenco firma selezionare la firma e quindi fare clic sul pulsante **Dettagli** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-198">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="cfe7f-199">Nella finestra di dialogo **Dettagli firma digitale** fare clic sul pulsante **Visualizza certificato** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-199">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="cfe7f-200">Nella finestra di dialogo **certificato** fare clic su **Installa certificato...**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-200">In the **Certificate** dialog, click the **Install Certificate…**</span></span> <span data-ttu-id="cfe7f-201">.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-201">button.</span></span>
6.  <span data-ttu-id="cfe7f-202">Nell'importazione guidata certificati selezionare **computer locale** e quindi fare clic su **Avanti**.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-202">In the Certificate Import Wizard, select **Local Machine** and then click **Next**.</span></span> <span data-ttu-id="cfe7f-203">È necessario concedere i privilegi di amministratore per continuare.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-203">You will need to grant administrator privileges to continue.</span></span>
7.  <span data-ttu-id="cfe7f-204">Selezionare **colloca tutti i certificati nel seguente archivio** e passare all'archivio **persone attendibili** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-204">Select **Place all certificates in the following store** and browse to the **Trusted People** store.</span></span>
8.  <span data-ttu-id="cfe7f-205">Fare clic su **Avanti**, quindi su **fine** per completare la procedura guidata.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-205">Click **Next**, then click **Finish** to complete the wizard.</span></span>

<span data-ttu-id="cfe7f-206">Dopo questa aggiunta manuale, è possibile osservare che il certificato è ora attendibile nella finestra di dialogo **certificato** .</span><span class="sxs-lookup"><span data-stu-id="cfe7f-206">After this manual addition, you can see that the certificate is now trusted in the **Certificate** dialog.</span></span>

<span data-ttu-id="cfe7f-207">È possibile rimuovere il certificato dopo che non è più necessario.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-207">You can remove the certificate after you no longer need it.</span></span>

<span data-ttu-id="cfe7f-208">**Per rimuovere il certificato**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-208">**To remove the certificate**</span></span>

1.  <span data-ttu-id="cfe7f-209">Eseguire **Cmd.exe** come amministratore.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-209">Run **Cmd.exe** as administrator.</span></span>
2.  <span data-ttu-id="cfe7f-210">Al prompt dei comandi dell'amministratore eseguire questo comando:</span><span class="sxs-lookup"><span data-stu-id="cfe7f-210">In the administrator command prompt, run this command:</span></span>

    ``` syntax
    Certutil -store TrustedPeople
    ```

3.  <span data-ttu-id="cfe7f-211">Cercare il numero di serie del certificato installato.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-211">Look for the serial number of the certificate that you installed.</span></span> <span data-ttu-id="cfe7f-212">Questo numero è *certID*.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-212">This number is the *certID*.</span></span>
4.  <span data-ttu-id="cfe7f-213">Eseguire questo comando:</span><span class="sxs-lookup"><span data-stu-id="cfe7f-213">Run this command:</span></span>

    ``` syntax
    Certutil -delStore TrustedPeople certID
    ```

<span data-ttu-id="cfe7f-214">Si consiglia di evitare di aggiungere manualmente i certificati radice all' [archivio certificati delle autorità di certificazione radice attendibili](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store)del computer locale.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-214">We recommend that you avoid manually adding root certificates to the local machine [Trusted Root Certification Authorities Certificate Store](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store).</span></span> <span data-ttu-id="cfe7f-215">La presenza di più applicazioni firmate con certificati concatenati allo stesso certificato radice, ad esempio le applicazioni line-of-business, può essere più efficiente rispetto all'installazione dei singoli certificati nell'archivio persone attendibili.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-215">Having several applications that are signed with certificates that chain to the same root certificate, such as line of business applications, can be more efficient than installing individual certificates to the Trusted People store.</span></span> <span data-ttu-id="cfe7f-216">L'archivio persone attendibili contiene certificati considerati attendibili per impostazione predefinita, pertanto non vengono verificati da autorità o elenchi di attendibilità o catene di certificati.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-216">The Trusted People store contains certificates that are considered trusted by default and so aren't verified by higher authorities or certificate trust lists or chains.</span></span> <span data-ttu-id="cfe7f-217">Per considerazioni sull'aggiunta di certificati all'archivio certificati delle autorità di certificazione radice attendibili, vedere [procedure consigliate](/previous-versions/windows/hardware/design/dn653556(v=vs.85))per la firma del codice.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-217">For considerations around adding certificates to the Trusted Root Certification Authorities certificate store, see [Code-Signing Best Practices](/previous-versions/windows/hardware/design/dn653556(v=vs.85)).</span></span>

## <a name="security-considerations"></a><span data-ttu-id="cfe7f-218">Considerazioni relative alla sicurezza</span><span class="sxs-lookup"><span data-stu-id="cfe7f-218">Security Considerations</span></span>

<span data-ttu-id="cfe7f-219">Aggiungendo un certificato agli [archivi certificati del computer locale](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), si influisce sull'attendibilità del certificato di tutti gli utenti del computer.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-219">By adding a certificate to [local machine certificate stores](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), you affect the certificate trust of all users on the computer.</span></span> <span data-ttu-id="cfe7f-220">Si consiglia di installare i certificati di firma del codice desiderati per testare i pacchetti dell'applicazione nell'archivio certificati persone attendibili.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-220">We recommend that you install any code signing certificates that you want for testing app packages to the Trusted People certificate store.</span></span> <span data-ttu-id="cfe7f-221">Rimuovere tempestivamente questi certificati quando non sono più necessari, per impedire che vengano usati per compromettere l'attendibilità del sistema.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-221">Promptly remove those certificates when they are no longer necessary, to prevent them from being used to compromise system trust.</span></span> <span data-ttu-id="cfe7f-222">Se si creano certificati di test personalizzati per la firma dei pacchetti dell'app, è anche consigliabile limitare i privilegi associati al certificato di test.</span><span class="sxs-lookup"><span data-stu-id="cfe7f-222">If you create your own test certificates for signing app packages, we also recommend that you restrict the privileges that are associated with the test certificate.</span></span> <span data-ttu-id="cfe7f-223">Per informazioni sulla creazione di certificati di test per la firma dei pacchetti dell'app, vedere [come creare un certificato di firma del pacchetto dell'app](how-to-create-a-package-signing-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="cfe7f-223">For info about creating test certificates for signing app packages, see [How to create an app package signing certificate](how-to-create-a-package-signing-certificate.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="cfe7f-224">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="cfe7f-224">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="cfe7f-225">**Esempi**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-225">**Samples**</span></span>
</dt> <dt>

[<span data-ttu-id="cfe7f-226">Esempio di creare un pacchetto dell'app</span><span class="sxs-lookup"><span data-stu-id="cfe7f-226">Create app package sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/AppxPackingCreateAppx)
</dt> <dt>

<span data-ttu-id="cfe7f-227">**Concetti**</span><span class="sxs-lookup"><span data-stu-id="cfe7f-227">**Concepts**</span></span>
</dt> <dt>

[<span data-ttu-id="cfe7f-228">Risoluzione dei problemi di creazione pacchetti, distribuzione e query delle app Windows</span><span class="sxs-lookup"><span data-stu-id="cfe7f-228">Troubleshooting packaging, deployment, and query of Windows apps</span></span>](troubleshooting.md)
</dt> <dt>

<span data-ttu-id="cfe7f-229">[Attività certutil per la gestione dei certificati](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="cfe7f-229">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span></span>
</dt> </dl>

 

 
