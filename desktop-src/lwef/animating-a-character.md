---
title: Animazione di un carattere
description: Animazione di un carattere
ms.assetid: ed42de30-acac-41e8-bacb-4caaff254724
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ed47b30a9bcfcdb5e305b87ced5f02526ae0056
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/19/2020
ms.locfileid: "104046621"
---
# <a name="animating-a-character"></a><span data-ttu-id="c5a8f-103">Animazione di un carattere</span><span class="sxs-lookup"><span data-stu-id="c5a8f-103">Animating a Character</span></span>

<span data-ttu-id="c5a8f-104">\[Microsoft Agent è stato deprecato a partire da Windows 7 e potrebbe non essere disponibile nelle versioni successive di Windows.\]</span><span class="sxs-lookup"><span data-stu-id="c5a8f-104">\[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.\]</span></span>

<span data-ttu-id="c5a8f-105">Una volta caricato un carattere, è possibile usare diversi metodi di Microsoft Agent per animare il carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-105">Once a character is loaded, you can use several of Microsoft Agent's methods for animating the character.</span></span> <span data-ttu-id="c5a8f-106">Il primo da usare è in genere il metodo [**show**](show-method.md) .</span><span class="sxs-lookup"><span data-stu-id="c5a8f-106">The first one you use is typically the [**Show**](show-method.md) method.</span></span> <span data-ttu-id="c5a8f-107">**Mostra** rende visibile il frame del carattere e riproduce l'animazione assegnata allo stato di **visualizzazione** del carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-107">**Show** makes the character's frame visible and plays the animation assigned to the character's **Showing** state.</span></span>

<span data-ttu-id="c5a8f-108">Quando il frame del carattere è visibile, è possibile usare il metodo [**Play**](play-method.md) , specificando il nome di un'animazione, per riprodurre tale animazione.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-108">Once the character's frame is visible, you can use the [**Play**](play-method.md) method, specifying the name of an animation, to play that animation.</span></span> <span data-ttu-id="c5a8f-109">I nomi di animazione sono specifici della definizione di un carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-109">Animation names are specific to a character definition.</span></span> <span data-ttu-id="c5a8f-110">Quando un'animazione viene riprodotta, la forma della finestra viene modificata in modo che corrisponda all'immagine nel frame.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-110">As an animation plays, the shape of its window changes to match the image in the frame.</span></span> <span data-ttu-id="c5a8f-111">Si ottiene quindi un'immagine grafica mobile, o *sprite*, visualizzata sopra il desktop e tutte le finestre o l' *ordine z*.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-111">This results in a movable graphic image, or *sprite*, displayed on top of the desktop and all windows, or *z-order*.</span></span>

<span data-ttu-id="c5a8f-112">Se il file del carattere viene archiviato localmente, è possibile chiamare semplicemente il metodo [**Play**](play-method.md) .</span><span class="sxs-lookup"><span data-stu-id="c5a8f-112">If the character's file is stored locally, you can simply call the [**Play**](play-method.md) method.</span></span> <span data-ttu-id="c5a8f-113">In altri casi, ad esempio quando è stato caricato un. Il carattere ACF da un server HTTP è necessario usare il metodo [**Get**](get-method.md) (o [**preparate**](/windows/desktop/lwef/iagentcharacter--prepare)) per recuperare prima i dati dell'animazione.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-113">In other cases, such as when you have loaded an .ACF character from an HTTP server, you must use the [**Get**](get-method.md) (or [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare)) method to first retrieve the animation data.</span></span> <span data-ttu-id="c5a8f-114">In questo modo, Agent richiede il file di animazione dal server e lo archivia nel buffer del browser nel computer locale.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-114">This will cause Agent to request the animation file from the server and store it in the browser's buffer on the local machine.</span></span>

<span data-ttu-id="c5a8f-115">Il metodo [**Speak**](speak-method.md) consente di programmare il carattere da pronunciare, sincronizzando automaticamente il labiale dell'output.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-115">The [**Speak**](speak-method.md) method enables you to program the character to speak, automatically lip-syncing the output.</span></span> <span data-ttu-id="c5a8f-116">Ulteriori dettagli sono trattati nella sezione output di questo documento.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-116">Further details are covered in the Output section of this document.</span></span>

<span data-ttu-id="c5a8f-117">È possibile usare il metodo [**MoveTo**](moveto-method.md) per posizionare il carattere in una nuova posizione.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-117">You can use the [**MoveTo**](moveto-method.md) method to position the character at a new location.</span></span> <span data-ttu-id="c5a8f-118">Quando si chiama il metodo **MoveTo** , Microsoft Agent esegue automaticamente l'animazione appropriata in base alla posizione corrente del carattere, quindi sposta il frame del carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-118">When you call the **MoveTo** method, Microsoft Agent automatically plays the appropriate animation based on the character's current location, then moves the character's frame.</span></span> <span data-ttu-id="c5a8f-119">Analogamente, quando si chiama [**GestureAt**](gestureat-method.md), Microsoft Agent riproduce l'animazione gestuale appropriata in base alla posizione del carattere e alla posizione specificata nella chiamata.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-119">Similarly, when you call [**GestureAt**](gestureat-method.md), Microsoft Agent plays the appropriate gesturing animation based on the character's location and the location specified in the call.</span></span>

<span data-ttu-id="c5a8f-120">Per nascondere il carattere, chiamare il metodo [Hide](hide-method.md) .</span><span class="sxs-lookup"><span data-stu-id="c5a8f-120">To hide the character, call the [Hide](hide-method.md) method.</span></span> <span data-ttu-id="c5a8f-121">In questo modo viene automaticamente riprodotto il carattere associato allo stato **nascosto** del carattere, quindi il frame del carattere viene nascosto.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-121">This automatically plays the character associated with the character's **Hiding** state, then hides the character's frame.</span></span> <span data-ttu-id="c5a8f-122">Tuttavia, è anche possibile nascondere o visualizzare un carattere impostando la proprietà [**Visible**](visible-property.md) del carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-122">However, you can also hide or show a character by setting the character's [**Visible**](visible-property.md) property.</span></span>

<span data-ttu-id="c5a8f-123">Microsoft Agent elabora in modo asincrono tutte le chiamate di animazione o *richieste*.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-123">Microsoft Agent processes all animation calls, or *requests*, asynchronously.</span></span> <span data-ttu-id="c5a8f-124">Ciò consente al codice dell'applicazione di continuare a gestire altri eventi durante l'elaborazione della richiesta.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-124">This enables your application's code to continue handling other events while the request is being processed.</span></span> <span data-ttu-id="c5a8f-125">Ad esempio, le chiamate al metodo [**Play**](play-method.md) inseriscono l'animazione in una coda per il carattere, in modo che le animazioni possano essere riprodotte in sequenza.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-125">For example, calls to the [**Play**](play-method.md) method place the animation in a queue for the character so that the animations can be played sequentially.</span></span> <span data-ttu-id="c5a8f-126">Ciò significa tuttavia che non è possibile presupporre che una chiamata ad altre funzioni venga eseguita necessariamente dopo un'animazione che segue nel codice.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-126">However, this means you cannot assume that a call to other functions will necessarily execute after an animation it follows in your code.</span></span> <span data-ttu-id="c5a8f-127">Ad esempio, in genere, un'istruzione che segue una chiamata a **Play** o [**MoveTo**](moveto-method.md) verrà eseguita prima del completamento dell'animazione.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-127">For example, typically, a statement following a call to **Play** or [**MoveTo**](moveto-method.md) will execute before the animation finishes.</span></span>

<span data-ttu-id="c5a8f-128">È possibile sincronizzare il codice con animazioni nella coda di un carattere creando un riferimento a un oggetto alla richiesta di animazione e, quando l'animazione viene avviata o completata, monitorando gli eventi di [richiesta](the-request-object.md) che il server usa per notificare ai client il carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-128">You can synchronize your code with animations in a character's queue by creating an object reference to the animation request, and, when the animation starts or completes, monitoring the [Request](the-request-object.md) events that the server uses to notify clients of the character.</span></span> <span data-ttu-id="c5a8f-129">Se, ad esempio, si desidera visualizzare una finestra di messaggio quando il carattere termina un'animazione, è possibile inserire la chiamata della finestra di messaggio nella subroutine di gestione degli eventi di [**RequestComplete**](requestcomplete-event.md) , verificando la presenza di un ID richiesta specifico.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-129">For example, if you want a message box to appear when the character finishes an animation, you can put the message box call in your [**RequestComplete**](requestcomplete-event.md) event handling subroutine, checking for the particular request ID.</span></span>

<span data-ttu-id="c5a8f-130">Quando un carattere è nascosto, il server non riproduce le animazioni; Tuttavia, resta in coda ed elabora la richiesta di animazione (riproduce l'animazione) e passa di nuovo lo stato della richiesta al client.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-130">When a character is hidden, the server does not play animations; however, it still queues and processes the animation request (plays the animation) and passes a request status back to the client.</span></span> <span data-ttu-id="c5a8f-131">Nello stato hidden, il carattere non può diventare input-Active.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-131">In the hidden state, the character cannot become input-active.</span></span> <span data-ttu-id="c5a8f-132">Tuttavia, se l'utente pronuncia il nome del carattere (quando l'input vocale è abilitato), il server Visualizza automaticamente il carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-132">However, if the user speaks the name of the character (when speech input is enabled), the server automatically shows the character.</span></span>

<span data-ttu-id="c5a8f-133">Quando l'applicazione client carica più caratteri contemporaneamente, i servizi animazione di Microsoft Agent consentono di animare i caratteri in modo indipendente o di usare i metodi [**wait**](wait-method.md), [**interrupt**](interrupt-method.md)o [**Stop**](stop-method.md) per sincronizzare l'animazione tra loro.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-133">When your client application loads multiple characters at the same time, Microsoft Agent's animation services enable you to animate characters independently or use the [**Wait**](wait-method.md), [**Interrupt**](interrupt-method.md), or [**Stop**](stop-method.md) methods to synchronize their animation with each other.</span></span>

<span data-ttu-id="c5a8f-134">Microsoft Agent inoltre riproduce automaticamente altre animazioni.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-134">Microsoft Agent also plays other animations automatically for you.</span></span> <span data-ttu-id="c5a8f-135">Se, ad esempio, lo stato del carattere non è stato modificato per diversi secondi, Agent inizia a riprodurre animazioni assegnate alle animazioni al **minimo** del carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-135">For example, if the character's state has not changed for several seconds, Agent begins playing animations assigned to the character's **Idling** animations.</span></span> <span data-ttu-id="c5a8f-136">Analogamente, quando l'input vocale è abilitato, Agent riproduce le animazioni di **ascolto** del carattere e quindi **Ascolta** le animazioni quando viene rilevata un'espressione.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-136">Similarly, when speech input is enabled, Agent plays the character's **Listening** animations and then **Hearing** animations when an utterance is detected.</span></span> <span data-ttu-id="c5a8f-137">Queste animazioni gestite dal server sono denominate *Stati* e vengono definite quando viene creato un carattere.</span><span class="sxs-lookup"><span data-stu-id="c5a8f-137">These server-managed animations are called *states*, and are defined when a character is created.</span></span> <span data-ttu-id="c5a8f-138">Per ulteriori informazioni, vedere [progettazione di caratteri per Microsoft Agent](agent-states.md).</span><span class="sxs-lookup"><span data-stu-id="c5a8f-138">For more information, see [Designing Characters for Microsoft Agent](agent-states.md).</span></span>

 

 