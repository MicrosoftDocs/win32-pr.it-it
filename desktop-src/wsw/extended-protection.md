---
title: protezione estesa
description: La protezione estesa è un meccanismo che consente di associare un canale protetto esterno, ad esempio SSL ai protocolli di autenticazione del canale interno, ad esempio Kerberos-APREQ e l'autenticazione dell'intestazione HTTP.
ms.assetid: 35e48846-05e5-4db9-a3b5-098b62815b66
keywords:
- Protezione estesa nativa-servizi Web
- WWSAPI
- WWS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 895bdfecf994f6673c2ed7e7367bc3a7b5bd70c9
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "106298457"
---
# <a name="extended-protection"></a><span data-ttu-id="66021-106">protezione estesa</span><span class="sxs-lookup"><span data-stu-id="66021-106">Extended Protection</span></span>

<span data-ttu-id="66021-107">La protezione estesa è un meccanismo che consente di associare un canale protetto esterno, ad esempio SSL ai protocolli di autenticazione del canale interno, ad esempio Kerberos-APREQ e l'autenticazione dell'intestazione HTTP.</span><span class="sxs-lookup"><span data-stu-id="66021-107">Extended protection is a mechanism to bind an outer secure channel such as SSL to inner channel authentication protocols such as Kerberos-APREQ and HTTP header authentication.</span></span>

<span data-ttu-id="66021-108">Il concetto di protezione estesa è definito in RFC2743.</span><span class="sxs-lookup"><span data-stu-id="66021-108">The concept of extended protection is defined in RFC2743.</span></span>

<span data-ttu-id="66021-109">La protezione estesa, se disponibile, viene configurata automaticamente nel client, ma potrebbe richiedere la configurazione nel server per scenari non predefiniti.</span><span class="sxs-lookup"><span data-stu-id="66021-109">Extended protection, when available, is configured automatically on the client but may require configuration on the server for non-default scenarios.</span></span>

## <a name="supported-configurations"></a><span data-ttu-id="66021-110">Configurazioni supportate</span><span class="sxs-lookup"><span data-stu-id="66021-110">Supported Configurations</span></span>

<span data-ttu-id="66021-111">La protezione estesa è supportata quando si utilizza l' [**\_ associazione di \_ canale \_ WS http**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_binding) con le associazioni di sicurezza utilizzando protocolli di autenticazione integrata di Windows, ad esempio [**WS \_ http \_ header \_ auth \_ Security \_ Binding**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) e [**WS \_ Kerberos \_ APREQ \_ message \_ Security \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding)binding.</span><span class="sxs-lookup"><span data-stu-id="66021-111">Extended protection is supported when using [**WS\_HTTP\_CHANNEL\_BINDING**](/windows/desktop/api/WebServices/ne-webservices-ws_channel_binding) with security bindings using Windows Integrated Authentication protocols such as [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) and [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding).</span></span> <span data-ttu-id="66021-112">Viene configurato tramite le proprietà di [**sicurezza**](/windows/desktop/api/WebServices/ns-webservices-ws_security_property)seguenti:</span><span class="sxs-lookup"><span data-stu-id="66021-112">It is configured via the following [**security properties**](/windows/desktop/api/WebServices/ns-webservices-ws_security_property):</span></span>

-   [<span data-ttu-id="66021-113">**\_criteri di \_ \_ protezione estesa \_ della proprietà di sicurezza WS \_**</span><span class="sxs-lookup"><span data-stu-id="66021-113">**WS\_SECURITY\_PROPERTY\_EXTENDED\_PROTECTION\_POLICY**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id)
-   [<span data-ttu-id="66021-114">**\_scenario di \_ \_ protezione estesa \_ della proprietà WS Security \_**</span><span class="sxs-lookup"><span data-stu-id="66021-114">**WS\_SECURITY\_PROPERTY\_EXTENDED\_PROTECTION\_SCENARIO**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id)
-   [<span data-ttu-id="66021-115">**\_identità del \_ \_ servizio proprietà di sicurezza \_ WS**</span><span class="sxs-lookup"><span data-stu-id="66021-115">**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id)

<span data-ttu-id="66021-116">Sono possibili le seguenti configurazioni che coinvolgono la protezione estesa:</span><span class="sxs-lookup"><span data-stu-id="66021-116">The following configurations involving extended protection are possible:</span></span>

<span data-ttu-id="66021-117">Client</span><span class="sxs-lookup"><span data-stu-id="66021-117">Client</span></span>

-   <span data-ttu-id="66021-118">[**WS \_ L'associazione di \_ sicurezza del trasporto \_ \_ SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) viene utilizzata con il binding di sicurezza del [**\_ messaggio WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) o [**WS \_ http \_ header \_ auth \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span><span class="sxs-lookup"><span data-stu-id="66021-118">[**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) is used with [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) or [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span></span> <span data-ttu-id="66021-119">In questa configurazione l'associazione di autenticazione è associata alla connessione SSL tramite un token di protezione esteso che viene estratto automaticamente dalla connessione SSL.</span><span class="sxs-lookup"><span data-stu-id="66021-119">In this configuration the authentication binding is bound to the SSL connection via an extended protection token that is automatically extracted from the SSL connection.</span></span>
-   <span data-ttu-id="66021-120">Non viene utilizzato SSL e viene impostata l'associazione di sicurezza per l' [**\_ \_ autenticazione dell'intestazione \_ \_ \_ http ws**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) .</span><span class="sxs-lookup"><span data-stu-id="66021-120">No SSL is used and [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) is set.</span></span> <span data-ttu-id="66021-121">Il binding di autenticazione viene associato tramite il nome dell'entità server (SPN), che è autonatically determinato [**dall' \_ \_ Indirizzo WS endpoint**](/windows/desktop/api/WebServices/ns-webservices-ws_endpoint_address).</span><span class="sxs-lookup"><span data-stu-id="66021-121">The authentication binding is bound via the Server Principal Name (SPN), which is autonatically determined from the [**WS\_ENDPOINT\_ADDRESS**](/windows/desktop/api/WebServices/ns-webservices-ws_endpoint_address).</span></span>

<span data-ttu-id="66021-122">Server</span><span class="sxs-lookup"><span data-stu-id="66021-122">Server</span></span>

-   <span data-ttu-id="66021-123">[**WS \_ L'associazione di \_ sicurezza del trasporto \_ \_ SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) viene utilizzata con il binding di sicurezza del [**\_ messaggio WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) o [**WS \_ http \_ header \_ auth \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span><span class="sxs-lookup"><span data-stu-id="66021-123">[**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) is used with [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) or [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding).</span></span> <span data-ttu-id="66021-124">In questa configurazione l'associazione di autenticazione è associata alla connessione SSL tramite un token di protezione esteso che viene estratto dalla connessione SSL e convalidato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="66021-124">In this configuration the authentication binding is bound to the SSL connection via an extended protection token that is extracted from the SSL connection and validated automatically.</span></span>
-   <span data-ttu-id="66021-125">Non viene utilizzato SSL e viene impostata l'associazione di sicurezza per l' [**\_ \_ autenticazione dell'intestazione \_ \_ \_ http ws**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) .</span><span class="sxs-lookup"><span data-stu-id="66021-125">No SSL is used and [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) is set.</span></span> <span data-ttu-id="66021-126">Il binding di autenticazione è associato tramite il nome dell'entità server (SPN), che deve essere fornito tramite le [**identità del servizio di \_ proprietà di sicurezza \_ \_ \_ WS**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id).</span><span class="sxs-lookup"><span data-stu-id="66021-126">The authentication binding is bound via the Server Principal Name (SPN), which must be provided via [**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id).</span></span> <span data-ttu-id="66021-127">Quando viene ricevuto un messaggio, il nome SPN viene estratto e convalidato per una corrispondenza esatta con i nomi di servizio forniti.</span><span class="sxs-lookup"><span data-stu-id="66021-127">When a message is received, the SPN is extracted and validated for an exact match with the provided service names.</span></span> <span data-ttu-id="66021-128">La mancata fornitura di SPN equivale a [**impostare \_ \_ mai i \_ criteri \_ di protezione estesa di WS**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy).</span><span class="sxs-lookup"><span data-stu-id="66021-128">Not providing SPNs is the equivalent of setting [**WS\_EXTENDED\_PROTECTION\_POLICY\_NEVER**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy).</span></span>
-   <span data-ttu-id="66021-129">Non viene utilizzato SSL, viene specificato il [**\_ \_ \_ \_ \_ server associato dello scenario di protezione estesa WS**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) e viene utilizzata l' [**\_ \_ \_ \_ \_ associazione di sicurezza del messaggio WS Kerberos APREQ**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) .</span><span class="sxs-lookup"><span data-stu-id="66021-129">No SSL is used, [**WS\_EXTENDED\_PROTECTION\_SCENARIO\_BOUND\_SERVER**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) is specified and [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) is used.</span></span> <span data-ttu-id="66021-130">In questa configurazione, [**le \_ \_ identità del \_ servizio \_ proprietà di sicurezza WS**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) non devono essere impostate.</span><span class="sxs-lookup"><span data-stu-id="66021-130">In this configuration, [**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) must not be set.</span></span> <span data-ttu-id="66021-131">Non viene eseguito alcun controllo SPN oltre a ciò che viene eseguito come parte del protocollo Kerberos.</span><span class="sxs-lookup"><span data-stu-id="66021-131">No SPN check is performed beyond what is done as part of the Kerberos protocol.</span></span>
-   <span data-ttu-id="66021-132">[**WS \_ Viene specificato lo \_ scenario di protezione estesa \_ \_ \_ SSL**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) e viene utilizzato il binding di sicurezza del [**\_ messaggio WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) o l' [**associazione di sicurezza di autenticazione di WS \_ http \_ header \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) .</span><span class="sxs-lookup"><span data-stu-id="66021-132">[**WS\_EXTENDED\_PROTECTION\_SCENARIO\_TERMINATED\_SSL**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario) is specified and either [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) or [**WS\_HTTP\_HEADER\_AUTH\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_http_header_auth_security_binding) is used.</span></span> <span data-ttu-id="66021-133">[**WS \_ È necessario impostare le \_ \_ \_ identità del servizio proprietà di sicurezza**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) .</span><span class="sxs-lookup"><span data-stu-id="66021-133">[**WS\_SECURITY\_PROPERTY\_SERVICE\_IDENTITIES**](/windows/desktop/api/WebServices/ne-webservices-ws_security_property_id) must be set.</span></span>

## <a name="supported-platforms"></a><span data-ttu-id="66021-134">Piattaforme supportate</span><span class="sxs-lookup"><span data-stu-id="66021-134">Supported Platforms</span></span>

<span data-ttu-id="66021-135">La protezione estesa è supportata sulle piattaforme con supporto nel sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="66021-135">Extended protection is supported on platforms with support for it in the operating system.</span></span> <span data-ttu-id="66021-136">Windows 7 e Windows Server 2008 R2 offrono supporto incorporato.</span><span class="sxs-lookup"><span data-stu-id="66021-136">Windows 7 and Windows Server 2008 R2 provide built-in support.</span></span> <span data-ttu-id="66021-137">Altre piattaforme possono richiedere un aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="66021-137">Other platforms may require an update.</span></span>

<span data-ttu-id="66021-138">Se il sistema operativo del server non fornisce tale supporto, le informazioni di protezione estese inviate dal client verranno ignorate.</span><span class="sxs-lookup"><span data-stu-id="66021-138">If the server's operating system does not provide such support, any extended protection information sent by the client is ignored.</span></span> <span data-ttu-id="66021-139">Di conseguenza, i client che usano la protezione estesa possono comunicare con un server di questo tipo, ma il vantaggio di sicurezza va perso.</span><span class="sxs-lookup"><span data-stu-id="66021-139">As a result, clients using extended protection can communicate with such a server, but the security benefit is lost.</span></span> <span data-ttu-id="66021-140">Nel client, l' [**\_ associazione di \_ \_ sicurezza del \_ \_ messaggio WS Kerberos APREQ**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) combinata con il binding di sicurezza del [**\_ \_ trasporto \_ \_ WS SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) supporta solo la protezione estesa in vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="66021-140">On the client, [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) combined with [**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding) only supports extended protection on Vista and above.</span></span>

<span data-ttu-id="66021-141">Nota: la protezione estesa non disponibile non impedisce l'uso di una particolare configurazione.</span><span class="sxs-lookup"><span data-stu-id="66021-141">NOTE: Extended protection being unavailable does not prevent any particular configuration from being used.</span></span>

## <a name="interoperability"></a><span data-ttu-id="66021-142">Interoperabilità</span><span class="sxs-lookup"><span data-stu-id="66021-142">Interoperability</span></span>

<span data-ttu-id="66021-143">Un server configurato in modo predefinito può comunicare con client SOAP, indipendentemente dal fatto che usino o meno la protezione estesa.</span><span class="sxs-lookup"><span data-stu-id="66021-143">A default-configured server can communicate with SOAP clients regardless of whether they use extended protection or not.</span></span> <span data-ttu-id="66021-144">L'unica eccezione è data dai client Windows XP e Windows Server 2003 WWSAPI che sono stati aggiornati per supportare la protezione estesa e utilizzano sia l' [**associazione di sicurezza del \_ messaggio WS Kerberos \_ APREQ \_ \_ \_**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) che l' [**\_ \_ \_ \_ associazione di sicurezza del trasporto WS SSL**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding).</span><span class="sxs-lookup"><span data-stu-id="66021-144">The one exception being Windows XP and Windows Server 2003 WWSAPI clients that have been updated to support extended protection and use both [**WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_kerberos_apreq_message_security_binding) and [**WS\_SSL\_TRANSPORT\_SECURITY\_BINDING**](/windows/desktop/api/WebServices/ns-webservices-ws_ssl_transport_security_binding).</span></span> <span data-ttu-id="66021-145">Per supportare tali client, i [**\_ criteri di protezione estesa WS non devono \_ \_ \_ mai**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy) essere specificati dal server.</span><span class="sxs-lookup"><span data-stu-id="66021-145">To support such clients [**WS\_EXTENDED\_PROTECTION\_POLICY\_NEVER**](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy) must be specified by the server.</span></span> <span data-ttu-id="66021-146">I server configurati con i **criteri di protezione estesa WS rifiuteranno \_ \_ \_ \_ sempre** la comunicazione da client che non utilizzano la protezione estesa.</span><span class="sxs-lookup"><span data-stu-id="66021-146">Servers configured with **WS\_EXTENDED\_PROTECTION\_POLICY\_ALWAYS** will reject communication from clients that do not use extended protection.</span></span> <span data-ttu-id="66021-147">Nel client, l' **\_ associazione di \_ \_ sicurezza del \_ \_ messaggio WS Kerberos APREQ** combinata con il binding di sicurezza del **\_ \_ trasporto \_ \_ WS SSL** comporterà l'invio del messaggio tramite la codifica di trasferimento Chunked HTTP in vista e versioni successive.</span><span class="sxs-lookup"><span data-stu-id="66021-147">On the client, **WS\_KERBEROS\_APREQ\_MESSAGE\_SECURITY\_BINDING** combined with **WS\_SSL\_TRANSPORT\_SECURITY\_BINDING** will result in the message being sent using the HTTP chunked transfer encoding on Vista and above.</span></span> <span data-ttu-id="66021-148">Ciò può causare problemi di interoperabilità con i server che non supportano il trasferimento Chunked.</span><span class="sxs-lookup"><span data-stu-id="66021-148">This may cause interop issues with servers that do not support chunked transfer.</span></span>

<span data-ttu-id="66021-149">Le seguenti enumerazioni/costanti fanno parte della protezione estesa:</span><span class="sxs-lookup"><span data-stu-id="66021-149">The following Enums/Constants are part of extended protection:</span></span>

-   [<span data-ttu-id="66021-150">**\_criteri di \_ protezione \_ estesa WS**</span><span class="sxs-lookup"><span data-stu-id="66021-150">**WS\_EXTENDED\_PROTECTION\_POLICY**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_policy)
-   [<span data-ttu-id="66021-151">**\_scenario di \_ protezione \_ estesa WS**</span><span class="sxs-lookup"><span data-stu-id="66021-151">**WS\_EXTENDED\_PROTECTION\_SCENARIO**</span></span>](/windows/desktop/api/WebServices/ne-webservices-ws_extended_protection_scenario)

<span data-ttu-id="66021-152">I strutture seguenti fanno parte della protezione estesa:</span><span class="sxs-lookup"><span data-stu-id="66021-152">The following stuctures are part of extended protection:</span></span>

-   [<span data-ttu-id="66021-153">**\_identità di \_ sicurezza del servizio WS \_**</span><span class="sxs-lookup"><span data-stu-id="66021-153">**WS\_SERVICE\_SECURITY\_IDENTITIES**</span></span>](/windows/desktop/api/WebServices/ns-webservices-ws_service_security_identities)

 

 




