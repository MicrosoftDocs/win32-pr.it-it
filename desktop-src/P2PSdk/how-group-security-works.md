---
description: Per i gruppi peer è necessario che ogni membro disponga di un certificato specifico, denominato gruppo di certificati del membro del gruppo (GMC).
ms.assetid: 3966d4eb-4504-4b1e-9c9f-6eab7751d7ed
title: Funzionamento della sicurezza del gruppo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d272e9a0567c6edc300a52cfa206305253ec5a2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103881798"
---
# <a name="how-group-security-works"></a><span data-ttu-id="ad4df-103">Funzionamento della sicurezza del gruppo</span><span class="sxs-lookup"><span data-stu-id="ad4df-103">How Group Security Works</span></span>

<span data-ttu-id="ad4df-104">Per i gruppi peer è necessario che ogni membro disponga di un certificato specifico, denominato gruppo di certificati del membro del gruppo (GMC).</span><span class="sxs-lookup"><span data-stu-id="ad4df-104">Peer groups require that each member have a specific certificate, which is called a Group Member Certificate (GMC).</span></span> <span data-ttu-id="ad4df-105">Il certificato GMC garantisce che tutti i record scambiati tra i peer siano firmati digitalmente.</span><span class="sxs-lookup"><span data-stu-id="ad4df-105">The GMC certificate ensures that all records exchanged between peers are digitally signed.</span></span> <span data-ttu-id="ad4df-106">La chiave pubblica di un peer è contenuta nelle strutture passate come parte della comunicazione tra peer, incluse le [**\_ \_ informazioni sulle credenziali peer**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).</span><span class="sxs-lookup"><span data-stu-id="ad4df-106">The public key of a peer is contained in the structures that are passed as part of the communication between peers—including [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).</span></span>

<span data-ttu-id="ad4df-107">È possibile emettere un GMC in una catena.</span><span class="sxs-lookup"><span data-stu-id="ad4df-107">A GMC can be issued in a chain.</span></span> <span data-ttu-id="ad4df-108">Un autore può ad esempio emettere un GMC per l'amministratore A, che può emettere un GMC all'amministratore B, che può emettere un GMC al membro M. La catena di GMC risultante è: Creator->A->B->M, che ha una lunghezza pari a 4.</span><span class="sxs-lookup"><span data-stu-id="ad4df-108">For example, a creator can issue a GMC to administrator A, who can issue a GMC to administrator B, who can issue a GMC to member M. The resulting GMC chain is: creator->A->B->M, which has a length of 4.</span></span> <span data-ttu-id="ad4df-109">La lunghezza della catena è importante, perché non può essere maggiore di 24.</span><span class="sxs-lookup"><span data-stu-id="ad4df-109">The chain length is important, because it cannot be longer than 24.</span></span> <span data-ttu-id="ad4df-110">Se il 24 ° amministratore di una catena tenta di emettere una GMC per un membro, [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) o [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) restituisce una catena di peer \_ E \_ \_ troppo \_ lungo.</span><span class="sxs-lookup"><span data-stu-id="ad4df-110">If the 24th administrator in a chain attempts to issue a GMC to a member, [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) or [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) returns PEER\_E\_CHAIN\_TOO\_LONG.</span></span>

<span data-ttu-id="ad4df-111">È anche possibile emettere un GMC chiamando [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials).</span><span class="sxs-lookup"><span data-stu-id="ad4df-111">A GMC can also be issued by calling [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials).</span></span> <span data-ttu-id="ad4df-112">Un GMC implica l'appartenenza dell'utente al gruppo per cui è stato emesso il GMC e può avere una durata finita o infinita.</span><span class="sxs-lookup"><span data-stu-id="ad4df-112">A GMC implies user membership in the group that the GMC is issued for, and can have a finite or infinite lifetime.</span></span> <span data-ttu-id="ad4df-113">L'attività membro del gruppo non può essere più lunga della durata specificata in GMC.</span><span class="sxs-lookup"><span data-stu-id="ad4df-113">Group member activity cannot be longer than the lifetime specified in the GMC.</span></span>

> [!Note]  
> <span data-ttu-id="ad4df-114">La durata della GMC infinita è attualmente impostata su 1000 anni.</span><span class="sxs-lookup"><span data-stu-id="ad4df-114">Infinite GMC lifetime is currently set at 1000 years.</span></span>

 

<span data-ttu-id="ad4df-115">L'attività membro del gruppo è limitata dalla durata di GMC e include quanto segue:</span><span class="sxs-lookup"><span data-stu-id="ad4df-115">Group member activity is limited by the GMC lifetime and includes the following:</span></span>

-   <span data-ttu-id="ad4df-116">**Operazioni di registrazione** : un peer non è in grado di pubblicare informazioni in un gruppo dopo la scadenza dell'appartenenza al gruppo o di pubblicare record con una durata superiore alla durata dell'appartenenza al gruppo del peer.</span><span class="sxs-lookup"><span data-stu-id="ad4df-116">**Record operations** - A peer cannot publish information in a group after the group membership expires, or publish records that have a lifetime longer than the peer's group membership lifetime.</span></span>
-   <span data-ttu-id="ad4df-117">**Operazioni di appartenenza** : un amministratore di gruppo non può emettere un'appartenenza con una durata superiore alla data specificata nell'appartenenza dell'amministratore del gruppo.</span><span class="sxs-lookup"><span data-stu-id="ad4df-117">**Membership operations** - A group administrator cannot issue a membership that has a lifetime beyond the date specified in the group administrator membership.</span></span> <span data-ttu-id="ad4df-118">Se, ad esempio, un amministratore ha 500 ore rimanenti per la durata di GMC, tutte le appartenenze emesse devono essere inferiori a 500 ore.</span><span class="sxs-lookup"><span data-stu-id="ad4df-118">For example, if an administrator has 500 hours remaining on its GMC lifetime, all memberships issued must be less than 500 hours.</span></span>

<span data-ttu-id="ad4df-119">Poiché un membro del gruppo non può avere una durata superiore a quella dell'amministratore che invita il membro del gruppo, è consigliabile impostare la durata di GMC di un amministratore come infinita o per una durata molto lunga.</span><span class="sxs-lookup"><span data-stu-id="ad4df-119">Because a group member cannot have a lifetime longer than the administrator who invites that group member, it is recommended that you set the GMC lifetime of an administrator as infinite, or for a very long lifetime.</span></span> <span data-ttu-id="ad4df-120">Per impostazione predefinita, l'autore del gruppo ha una durata infinita.</span><span class="sxs-lookup"><span data-stu-id="ad4df-120">The group creator has an infinite lifetime by default.</span></span>

## <a name="renewing-group-membership"></a><span data-ttu-id="ad4df-121">Rinnovo dell'appartenenza al gruppo</span><span class="sxs-lookup"><span data-stu-id="ad4df-121">Renewing Group Membership</span></span>

<span data-ttu-id="ad4df-122">Per rinnovare le credenziali di un amministratore o di un membro la cui durata di GMC è pronta per scadere, sono disponibili le due opzioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="ad4df-122">To renew the credentials of an administrator or member whose GMC lifetime is ready to expire, you have the following two options:</span></span>

-   <span data-ttu-id="ad4df-123">Chiamare [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) e passare l'identità del membro la cui durata è pronta per scadere.</span><span class="sxs-lookup"><span data-stu-id="ad4df-123">Call [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) and pass the identity of the member whose lifetime is ready to expire.</span></span> <span data-ttu-id="ad4df-124">Se le credenziali vengono specificate come **null** e le informazioni sull'appartenenza del peer sono disponibili per il gruppo, il tempo di rinnovo viene impostato sulla stessa durata specificata nelle credenziali membro pubblicate in precedenza.</span><span class="sxs-lookup"><span data-stu-id="ad4df-124">If the credentials are specified as **NULL** and the peer's membership information is available to the group, the renewal time is set to the same duration that is specified in the previously published member credentials.</span></span> <span data-ttu-id="ad4df-125">Se è necessario specificare un periodo di durata diverso, è necessario fornire una nuova struttura di [**\_ \_ informazioni sulle credenziali peer**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) che contenga la nuova durata della durata, quindi viene pubblicata una nuova GMC per il membro.</span><span class="sxs-lookup"><span data-stu-id="ad4df-125">If a different duration period must be specified, a new [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) structure must be provided that contains the new lifetime duration, and then a new GMC is published for the member.</span></span>

    <span data-ttu-id="ad4df-126">La funzione [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) accetta facoltativamente il \_ flag di credenziali dell'archivio del gruppo peer \_ \_ , che pubblica automaticamente le nuove credenziali del membro nel database del gruppo.</span><span class="sxs-lookup"><span data-stu-id="ad4df-126">The [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) function optionally takes the PEER\_GROUP\_STORE\_CREDENTIALS flag, which automatically publishes the new credentials of the member in the group database.</span></span> <span data-ttu-id="ad4df-127">Quando il membro si connette al gruppo la volta successiva, per la prima volta o dopo il passaggio offline, il membro ottiene il GMC aggiornato dal database.</span><span class="sxs-lookup"><span data-stu-id="ad4df-127">When the member connects to the group the next time, for either the first time or after going offline, the member obtains the updated GMC from the database.</span></span>

-   <span data-ttu-id="ad4df-128">Chiamare [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) per passare l'identità del membro la cui durata di GMC è pronta per scadere.</span><span class="sxs-lookup"><span data-stu-id="ad4df-128">Call [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) to pass the identity of the member whose GMC lifetime is ready to expire.</span></span> <span data-ttu-id="ad4df-129">Se la scadenza specificata nell'invito è **null**, il periodo di validità della GMC è uguale a quello dell'amministratore GMC che rilascia l'appartenenza.</span><span class="sxs-lookup"><span data-stu-id="ad4df-129">If the expiration specified in the invitation is **NULL**, the lifetime duration of the GMC is the same as the administrator GMC who issues membership.</span></span> <span data-ttu-id="ad4df-130">Se il creatore specifica la scadenza come **null**, viene emesso un GMC con una durata infinita.</span><span class="sxs-lookup"><span data-stu-id="ad4df-130">If the creator specifies the expiration as **NULL**, a GMC with an infinite lifetime is issued.</span></span>

    <span data-ttu-id="ad4df-131">Se un peer viene emesso un GMC che scade prima del valore della durata della presenza, gli indirizzi del peer non sono disponibili nelle strutture [**del \_ membro peer**](/windows/desktop/api/P2P/ns-p2p-peer_member) restituite nell'enumerazione iniziata da una chiamata a [**PeerGroupEnumMembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers).</span><span class="sxs-lookup"><span data-stu-id="ad4df-131">If a peer is issued a GMC that expires before the presence lifetime value, the addresses of the peer are not available in the [**PEER\_MEMBER**](/windows/desktop/api/P2P/ns-p2p-peer_member) structures returned in the enumeration initiated by a call to [**PeerGroupEnumMembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers).</span></span> <span data-ttu-id="ad4df-132">Questo problema si verifica perché le informazioni sulla presenza non vengono pubblicate in questo caso, anche se il flag di presenza del PEER \_ Disable \_ non è impostato.</span><span class="sxs-lookup"><span data-stu-id="ad4df-132">This happens because presence information is not published in this case, even if the PEER\_DISABLE\_PRESENCE flag is not set.</span></span>

 

 



