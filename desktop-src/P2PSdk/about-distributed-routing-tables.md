---
description: Una tabella di routing distribuita (DRT) esiste come una mesh di nodi cooperanti, in cui ogni nodo è un'istanza di un'applicazione che usa l'API DRT.
ms.assetid: 257ad7ea-636b-45f2-b514-4a213939d107
title: Informazioni sulle tabelle di routing distribuite
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2dfca9f81cc609d97584ef5a11f999722c696858
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103881826"
---
# <a name="about-distributed-routing-tables"></a><span data-ttu-id="9e8d7-103">Informazioni sulle tabelle di routing distribuite</span><span class="sxs-lookup"><span data-stu-id="9e8d7-103">About Distributed Routing Tables</span></span>

<span data-ttu-id="9e8d7-104">Una tabella di routing distribuita (DRT) esiste come una mesh di nodi cooperanti, in cui ogni nodo è un'istanza di un'applicazione che usa l'API DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-104">A Distributed Routing Table (DRT) exists as a mesh of cooperating nodes, where each node is an instance of an application using the DRT API.</span></span> <span data-ttu-id="9e8d7-105">I nodi che pubblicano le chiavi sono responsabili dell'assistenza di altri nodi per la pubblicazione e la risoluzione delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-105">Nodes that publish keys are responsible for assisting other nodes publish and resolve keys.</span></span> <span data-ttu-id="9e8d7-106">I nodi possono anche partecipare a una modalità di "risoluzione solo", che non richiede l'assistenza dei peer.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-106">Nodes can also participate in a "resolve only" fashion, which does not require them to assist peers.</span></span> <span data-ttu-id="9e8d7-107">Il protocollo DRT viene eseguito su un trasporto UDP/IPv6.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-107">The DRT protocol executes over a UDP/IPv6 transport.</span></span>

<span data-ttu-id="9e8d7-108">Un nodo che pubblica una chiave compila e gestisce una tabella di routing locale di altri nodi nella rete.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-108">A node that publishes a key builds and maintains a local routing table of other nodes in the mesh.</span></span> <span data-ttu-id="9e8d7-109">Questa tabella di routing è ottimizzata in modo tale che il nodo possa individuare rapidamente una chiave specifica nella mesh trovando la chiave direttamente nella tabella di routing locale oppure chiedendo ad altri nodi di pubblicare chiavi numericamente vicine alla destinazione.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-109">This routing table is optimized so that the node can quickly locate a specific key in the mesh by finding the key directly in the local routing table, or by asking other nodes publishing keys numerically close to the target.</span></span> <span data-ttu-id="9e8d7-110">Questa azione viene ripetuta fino a quando non viene trovata la chiave richiesta o il nodo determina che non esiste alcuna chiave di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-110">This action is repeated until the required key is found or the node determines that no such key exists.</span></span>

<span data-ttu-id="9e8d7-111">Le chiavi DRT sono interi senza segno a 256 bit.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-111">DRT keys are 256-bit unsigned integers.</span></span> <span data-ttu-id="9e8d7-112">La chiusura tra le chiavi è definita dalla differenza numerica tra di esse.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-112">Closeness between keys is defined by the numerical difference between them.</span></span> <span data-ttu-id="9e8d7-113">Lo spazio di DRT viene considerato circolare.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-113">The DRT keyspace is considered circular.</span></span> <span data-ttu-id="9e8d7-114">Ad esempio, il primo valore di chiave possibile e l'ultimo valore di chiave possibile sono considerati adiacenti.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-114">For example, the first possible key value, and the last possible key value are considered neighbors.</span></span>

<span data-ttu-id="9e8d7-115">In un DRT protetto, i nodi sono necessari per autenticare le chiavi pubblicate.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-115">In a secure DRT, nodes are required to authenticate the keys they publish.</span></span> <span data-ttu-id="9e8d7-116">Il meccanismo mediante il quale i nodi autenticano le chiavi deve essere impostato tramite l'API DRT quando viene inizializzato il DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-116">The mechanism by which nodes authenticate keys must be set using the DRT API when the DRT is initialized.</span></span> <span data-ttu-id="9e8d7-117">Questa operazione viene eseguita scegliendo un provider di sicurezza per DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-117">This is done by choosing a security provider for the DRT.</span></span> <span data-ttu-id="9e8d7-118">Un provider di sicurezza è un modulo che può produrre token usati per autenticare le chiavi e verificare i token generati da altri nodi.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-118">A security provider is a module that can produce tokens used to authenticate keys, and verify tokens produced by other nodes.</span></span> <span data-ttu-id="9e8d7-119">Deve implementare l'interfaccia del provider di sicurezza definita in questa documentazione.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-119">It must implement the security provider interface that is defined in this documentation.</span></span> <span data-ttu-id="9e8d7-120">Windows 7 DRT viene fornito con due provider di sicurezza completamente implementati che possono essere utilizzati per creare applicazioni Windows.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-120">The Windows 7 DRT ships with two fully implemented security providers that can be used to build Windows applications.</span></span>

<span data-ttu-id="9e8d7-121">Durante l'inizializzazione, un'applicazione deve fornire anche DRT con un provider bootstrap.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-121">During initialization, an application must also supply the DRT with a bootstrap provider.</span></span> <span data-ttu-id="9e8d7-122">Il provider bootstrap è un modulo in grado di recuperare gli endpoint di rete dei nodi già presenti nella rete DRT e viene chiamato da DRT quando viene stabilito un nuovo nodo.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-122">The bootstrap provider is a module that can retrieve the network endpoints of nodes already present in the DRT mesh, and is called upon by the DRT when a new node is established.</span></span> <span data-ttu-id="9e8d7-123">Analogamente al modulo provider di sicurezza, il provider bootstrap deve implementare un'interfaccia ben definita.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-123">Like the security provider module, the bootstrap provider must implement a well defined interface.</span></span> <span data-ttu-id="9e8d7-124">Windows 7 DRT viene fornito con due provider bootstrap completamente implementati.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-124">The Windows 7 DRT ships with two fully implemented bootstrap providers.</span></span>

<span data-ttu-id="9e8d7-125">Il DRT considera i vicini immediati di una chiave speciale.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-125">The DRT considers the immediate neighbors of a key special.</span></span> <span data-ttu-id="9e8d7-126">Le cinque chiavi più vicine numericamente più piccole e le cinque chiavi più vicine numericamente maggiori rispetto a una chiave pubblicata formano un set foglia.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-126">The five closest keys numerically smaller and the five closest keys numerically larger than a published key form what is called a leaf set.</span></span> <span data-ttu-id="9e8d7-127">DRT segnala le modifiche apportate al set foglia di una chiave tramite l'API DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-127">The DRT reports changes to the leaf set of a key through the DRT API.</span></span>

## <a name="drt-life-cycle-and-state-transitions"></a><span data-ttu-id="9e8d7-128">DRT ciclo di vita e transizioni di stato</span><span class="sxs-lookup"><span data-stu-id="9e8d7-128">DRT Life Cycle and State Transitions</span></span>

<span data-ttu-id="9e8d7-129">Un'applicazione può inizializzare un'istanza di DRT locale usando la funzione [**DrtOpen**](/windows/desktop/api/drt/nf-drt-drtopen) .</span><span class="sxs-lookup"><span data-stu-id="9e8d7-129">An application can initialize a local DRT instance using the [**DrtOpen**](/windows/desktop/api/drt/nf-drt-drtopen) function.</span></span> <span data-ttu-id="9e8d7-130">Questa funzione attiva il processo di bootstrap, in cui l'API DRT chiama il provider bootstrap per apprendere le chiavi e gli endpoint di rete di altri nodi che fanno già parte di DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-130">This function triggers the bootstrapping process, where the DRT API calls upon the bootstrap provider to learn the keys and network endpoints of other nodes already participating in the DRT.</span></span> <span data-ttu-id="9e8d7-131">Se il provider di bootstrap individua correttamente almeno un altro nodo, DRT entra nello \_ stato attivo DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-131">If the bootstrap provider successfully locates at least one other node, the DRT enters the DRT\_ACTIVE state.</span></span> <span data-ttu-id="9e8d7-132">In questo stato, l'applicazione può cercare le chiavi pubblicate da altri nodi e può pubblicare le chiavi che possono essere risolte.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-132">In this state, the application can search for keys published by other nodes, and can publish keys that can be resolved.</span></span> <span data-ttu-id="9e8d7-133">Se il provider bootstrap non riesce a individuare gli altri nodi, DRT entra nello \_ stato DRT alone.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-133">If the bootstrap provider cannot successfully locate other nodes, the DRT enters the DRT\_ALONE state.</span></span> <span data-ttu-id="9e8d7-134">Il DRT resterà nello stato DRT \_ alone e tenterà di eseguire periodicamente il bootstrap per individuare i peer e passare allo \_ stato attivo DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-134">The DRT will stay in the DRT\_ALONE state and will attempt to bootstrap periodically in order to locate peers and move to the DRT\_ACTIVE state.</span></span>

<span data-ttu-id="9e8d7-135">Un nodo può passare a questi stati da DRT \_ attivo.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-135">A node can transition to these states from DRT\_ACTIVE.</span></span>

| <span data-ttu-id="9e8d7-136">Stato ciclo di vita</span><span class="sxs-lookup"><span data-stu-id="9e8d7-136">Life Cycle State</span></span> | <span data-ttu-id="9e8d7-137">Condizioni</span><span class="sxs-lookup"><span data-stu-id="9e8d7-137">Conditions</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9e8d7-138">DRT \_ da solo</span><span class="sxs-lookup"><span data-stu-id="9e8d7-138">DRT\_ALONE</span></span>       | <span data-ttu-id="9e8d7-139">Il nodo locale non ha individuato altri nodi in DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-139">The local node has not discovered other nodes in the DRT.</span></span> <span data-ttu-id="9e8d7-140">In questo stato, il nodo continua ad ascoltare gli altri nodi all'interno del DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-140">While in this state, the node continues to listen for other nodes within the DRT.</span></span><br/> <span data-ttu-id="9e8d7-141">Se un altro nodo viene aggiunto a DRT, il nodo locale passerà allo \_ stato attivo DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-141">If another node joins the DRT, the local node will transition to the DRT\_ACTIVE state.</span></span> <span data-ttu-id="9e8d7-142">Se la rete è inattiva, verrà effettuata la transizione a DRT \_ No \_ Network.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-142">If the network is down, it will transition to DRT\_NO\_NETWORK.</span></span> <span data-ttu-id="9e8d7-143">In caso di errore grave con DRT, il nodo passerà allo \_ stato DRT Faulted.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-143">In the event of a serious error with the DRT the node will transition to the DRT\_FAULTED state.</span></span><br/> |
| <span data-ttu-id="9e8d7-144">DRT \_ Nessuna \_ rete</span><span class="sxs-lookup"><span data-stu-id="9e8d7-144">DRT\_NO\_NETWORK</span></span> | <span data-ttu-id="9e8d7-145">Quando un nodo perde la connettività di rete, passa a DRT \_ senza \_ stato della rete.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-145">When a node loses network connectivity, it transitions to the DRT\_NO\_NETWORK state.</span></span> <span data-ttu-id="9e8d7-146">A questo punto l'applicazione può attendere il ripristino della connettività di rete e può chiudere la DRT.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-146">At this point the application can wait for network connectivity to be restored, and can close the DRT.</span></span><br/>                                                                                                                                                                                                                    |
| <span data-ttu-id="9e8d7-147">DRT con \_ errori</span><span class="sxs-lookup"><span data-stu-id="9e8d7-147">DRT\_FAULTED</span></span>     | <span data-ttu-id="9e8d7-148">Si è verificato un errore grave nel nodo locale.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-148">A serious error has occurred within the local node.</span></span> <span data-ttu-id="9e8d7-149">Ad esempio, se il computer locale esaurisce la memoria fisica.</span><span class="sxs-lookup"><span data-stu-id="9e8d7-149">For example, if the local machine runs out of physical memory.</span></span><br/> <span data-ttu-id="9e8d7-150">Mentre un nodo entra in questo stato, l'applicazione deve chiamare l'API [**DrtClose**](/windows/desktop/api/drt/nf-drt-drtclose) , correggere il problema e inizializzare nuovamente il DRT con [**DrtOpen**](/windows/desktop/api/drt/nf-drt-drtopen).</span><span class="sxs-lookup"><span data-stu-id="9e8d7-150">While a node enters this state, the application must call the [**DrtClose**](/windows/desktop/api/drt/nf-drt-drtclose) API, correct the problem, and re-initialize the DRT with [**DrtOpen**](/windows/desktop/api/drt/nf-drt-drtopen).</span></span><br/>                                                                                                   |



 

## <a name="related-topics"></a><span data-ttu-id="9e8d7-151">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="9e8d7-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9e8d7-152">Uso del API Tabella di routing distribuito</span><span class="sxs-lookup"><span data-stu-id="9e8d7-152">Using the Distributed Routing Table API</span></span>](using-the-distributed-routing-table-api.md)
</dt> <dt>

[<span data-ttu-id="9e8d7-153">Riferimento API Tabella routing distribuito</span><span class="sxs-lookup"><span data-stu-id="9e8d7-153">Distributed Routing Table API Reference</span></span>](distributed-routing-table-api-reference.md)
</dt> </dl>

 

 




