---
description: La maggior parte dei contatori richiede due valori di esempio per calcolare un valore visualizzabile.
ms.assetid: 75e45baf-51c5-400c-a31f-92bdab4ee492
title: Visualizzazione dei dati sulle prestazioni
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 22d913474b794585dd557fae2b1fc232336b637d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106312173"
---
# <a name="displaying-performance-data"></a><span data-ttu-id="b85de-103">Visualizzazione dei dati sulle prestazioni</span><span class="sxs-lookup"><span data-stu-id="b85de-103">Displaying Performance Data</span></span>

<span data-ttu-id="b85de-104">La maggior parte dei contatori richiede due valori di esempio per calcolare un valore visualizzabile.</span><span class="sxs-lookup"><span data-stu-id="b85de-104">Most counters require two sample values in order to compute a displayable value.</span></span> <span data-ttu-id="b85de-105">La formula per ogni contatore determina se il contatore richiede due esempi.</span><span class="sxs-lookup"><span data-stu-id="b85de-105">The formula for each counter determines if the counter requires two samples.</span></span> <span data-ttu-id="b85de-106">Per un elenco dei contatori e delle relative formule, vedere la sezione relativa ai tipi di contatore del [Kit di distribuzione di Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="b85de-106">For a list of counters and their formulas, see the Counter Types section of the [Windows Server 2003 Deployment Kit](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span></span>

<span data-ttu-id="b85de-107">[Raccolta dei dati sulle prestazioni](collecting-performance-data.md) Mostra come recuperare dati di esempio.</span><span class="sxs-lookup"><span data-stu-id="b85de-107">[Collecting Performance Data](collecting-performance-data.md) shows how to retrieve sample data.</span></span> <span data-ttu-id="b85de-108">Una volta disponibili gli esempi, in genere si chiama [**PdhGetFormattedCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue) per calcolare un valore visualizzabile.</span><span class="sxs-lookup"><span data-stu-id="b85de-108">Once you have the samples, you typically call [**PdhGetFormattedCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue) to calculate a displayable value.</span></span>

<span data-ttu-id="b85de-109">Se è necessario ridimensionare il valore del contatore verso l'alto o verso il basso per visualizzare il valore, chiamare la funzione [**PdhSetCounterScaleFactor**](/windows/desktop/api/Pdh/nf-pdh-pdhsetcounterscalefactor) prima di chiamare [**PdhGetFormattedCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue).</span><span class="sxs-lookup"><span data-stu-id="b85de-109">If you need to scale the counter value up or down in order to display the value, call the [**PdhSetCounterScaleFactor**](/windows/desktop/api/Pdh/nf-pdh-pdhsetcounterscalefactor) function before calling [**PdhGetFormattedCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue).</span></span> <span data-ttu-id="b85de-110">I valori dei contatori possono essere ridimensionati in base a una potenza di dieci da un fattore compreso tra-7 e 7.</span><span class="sxs-lookup"><span data-stu-id="b85de-110">Counter values can be scaled by a power of ten from a factor of -7 to 7.</span></span>

<span data-ttu-id="b85de-111">Se il percorso del contatore contiene un carattere jolly per il nome dell'istanza, chiamare [**PdhGetFormattedCounterArray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcounterarraya) per recuperare una matrice di valori dei contatori formattati per ogni istanza raccolta.</span><span class="sxs-lookup"><span data-stu-id="b85de-111">If the counter path contains a wildcard character for the instance name, call [**PdhGetFormattedCounterArray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcounterarraya) to retrieve an array of formatted counter values for each instance collected.</span></span>

<span data-ttu-id="b85de-112">È anche possibile usare le funzioni [**PdhCalculateCounterFromRawValue**](/windows/desktop/api/Pdh/nf-pdh-pdhcalculatecounterfromrawvalue) e [**PdhFormatFromRawValue**](/windows/desktop/api/Pdh/nf-pdh-pdhformatfromrawvalue) per calcolare un valore visualizzabile.</span><span class="sxs-lookup"><span data-stu-id="b85de-112">You can also use the [**PdhCalculateCounterFromRawValue**](/windows/desktop/api/Pdh/nf-pdh-pdhcalculatecounterfromrawvalue) and [**PdhFormatFromRawValue**](/windows/desktop/api/Pdh/nf-pdh-pdhformatfromrawvalue) functions to compute a displayable value.</span></span> <span data-ttu-id="b85de-113">Per usare queste funzioni, è necessario recuperare l'esempio raccolto dopo ogni chiamata a [**PdhCollectQueryData**](/windows/desktop/api/Pdh/nf-pdh-pdhcollectquerydata) e archiviare l'esempio manualmente.</span><span class="sxs-lookup"><span data-stu-id="b85de-113">To use these functions, you must retrieve the collected sample after each [**PdhCollectQueryData**](/windows/desktop/api/Pdh/nf-pdh-pdhcollectquerydata) call and store the sample yourself.</span></span> <span data-ttu-id="b85de-114">Per recuperare l'esempio, chiamare la funzione [**PdhGetRawCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcountervalue) o [**PdhGetRawCounterArray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcounterarraya) .</span><span class="sxs-lookup"><span data-stu-id="b85de-114">To retrieve the sample, call the [**PdhGetRawCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcountervalue) or [**PdhGetRawCounterArray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcounterarraya) function.</span></span> <span data-ttu-id="b85de-115">Per i valori dei contatori basati sul tempo, chiamare [**PdhGetCounterTimeBase**](/windows/desktop/api/Pdh/nf-pdh-pdhgetcountertimebase) prima di **PdhFormatFromRawValue** per recuperare la base temporale del contatore.</span><span class="sxs-lookup"><span data-stu-id="b85de-115">For time-based counter values, call [**PdhGetCounterTimeBase**](/windows/desktop/api/Pdh/nf-pdh-pdhgetcountertimebase) before **PdhFormatFromRawValue** to retrieve the counter's time base.</span></span>

<span data-ttu-id="b85de-116">Se si eseguono calcoli utilizzando i dati non elaborati, verificare sempre il membro **CStatus** della struttura del [**\_ \_ contatore RAW PDH**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) prima di utilizzare l'esempio.</span><span class="sxs-lookup"><span data-stu-id="b85de-116">If you perform calculations using the raw data, always check the **CStatus** member of the [**PDH\_RAW\_COUNTER**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) structure before using the sample.</span></span> <span data-ttu-id="b85de-117">L'esempio non è valido se il valore di **CStatus** non è PDH \_ CStatus \_ New \_ data o PDH \_ CStatus \_ valid \_ Data.</span><span class="sxs-lookup"><span data-stu-id="b85de-117">The sample is not valid if the value of **CStatus** is not PDH\_CSTATUS\_NEW\_DATA or PDH\_CSTATUS\_VALID\_DATA.</span></span>

## <a name="displaying-statistics-for-a-counter"></a><span data-ttu-id="b85de-118">Visualizzazione di statistiche per un contatore</span><span class="sxs-lookup"><span data-stu-id="b85de-118">Displaying statistics for a counter</span></span>

<span data-ttu-id="b85de-119">Se si desidera calcolare i valori minimo, massimo e medio di un contatore, chiamare la funzione [**PdhComputeCounterStatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) .</span><span class="sxs-lookup"><span data-stu-id="b85de-119">If you want to compute the minimum, maximum, and mean values of a counter, call the [**PdhComputeCounterStatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) function.</span></span> <span data-ttu-id="b85de-120">Quando si raccolgono esempi, archiviare le strutture dei [**\_ \_ contatori raw PDH**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) in una matrice passata a **PdhComputeCounterStatistics**.</span><span class="sxs-lookup"><span data-stu-id="b85de-120">When you collect samples, store the [**PDH\_RAW\_COUNTER**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) structures in an array that you pass to **PdhComputeCounterStatistics**.</span></span> <span data-ttu-id="b85de-121">La funzione restituisce i valori statistici in una struttura [**PDH \_ Statistics**](/windows/desktop/api/Pdh/ns-pdh-pdh_statistics) .</span><span class="sxs-lookup"><span data-stu-id="b85de-121">The function returns the statistical values in a [**PDH\_STATISTICS**](/windows/desktop/api/Pdh/ns-pdh-pdh_statistics) structure.</span></span>

<span data-ttu-id="b85de-122">È anche possibile usare questa funzione per comprimere un file di log.</span><span class="sxs-lookup"><span data-stu-id="b85de-122">You can also use this function to compress a log file.</span></span> <span data-ttu-id="b85de-123">Ad esempio, leggere dieci record da un file di log, chiamare [**PdhComputeCounterStatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) per calcolare il valore medio e quindi scrivere il valore medio in un file di log di output.</span><span class="sxs-lookup"><span data-stu-id="b85de-123">For example, read ten records from a log file, call [**PdhComputeCounterStatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) to compute the mean value and then write the mean value to an output log file.</span></span>

 

 
