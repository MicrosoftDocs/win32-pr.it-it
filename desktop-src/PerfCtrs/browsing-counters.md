---
description: Per visualizzare una finestra di dialogo in cui sono elencati gli oggetti e i contatori delle prestazioni definiti nel computer, chiamare la funzione PdhBrowseCounters.
ms.assetid: f2fac1d3-f643-43c9-a445-112015baecdd
title: Esplorazione dei contatori
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd4bae5ce5ae7a21ae247cf66515f7386b8d0265
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "106312189"
---
# <a name="browsing-counters"></a><span data-ttu-id="240e0-103">Esplorazione dei contatori</span><span class="sxs-lookup"><span data-stu-id="240e0-103">Browsing Counters</span></span>

<span data-ttu-id="240e0-104">Per visualizzare una finestra di dialogo in cui sono elencati gli oggetti e i contatori delle prestazioni definiti nel computer, chiamare la funzione [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) .</span><span class="sxs-lookup"><span data-stu-id="240e0-104">To display a dialog box that lists the performance objects and counters defined on the computer, call the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function.</span></span> <span data-ttu-id="240e0-105">La finestra di dialogo consente all'utente di esplorare e selezionare i contatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="240e0-105">The dialog box lets the user browse and select performance counters.</span></span> <span data-ttu-id="240e0-106">Usare la struttura [**di \_ \_ \_ configurazione PDH browse DLG**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) per specificare la configurazione della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="240e0-106">You use the [**PDH\_BROWSE\_DLG\_CONFIG**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) structure to specify the configuration of the dialog box.</span></span> <span data-ttu-id="240e0-107">Ad esempio, è possibile configurare la finestra di dialogo per restituire una selezione o più selezioni.</span><span class="sxs-lookup"><span data-stu-id="240e0-107">For example, you can configure the dialog to return one selection or multiple selections.</span></span>

<span data-ttu-id="240e0-108">In input il membro **szReturnPathBuffer** contiene l'oggetto prestazioni predefinito e il contatore selezionato nella finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="240e0-108">On input, the **szReturnPathBuffer** member contains the default performance object and counter that is selected in the dialog box.</span></span> <span data-ttu-id="240e0-109">Nell'output, il buffer contiene l'oggetto prestazioni e il contatore selezionato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="240e0-109">On output, the buffer contains the performance object and counter that the user selected.</span></span> <span data-ttu-id="240e0-110">È anche possibile usare il membro **pCallback** per specificare una funzione di callback per elaborare i nomi dei contatori restituiti dalla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="240e0-110">You can also use the **pCallBack** member to specify a callback function to process the counter names returned by the dialog box.</span></span>

<span data-ttu-id="240e0-111">Si noti che questa finestra di dialogo può restituire la \_ finestra di dialogo PDH \_ annullata se **bSingleCounterPerDialog** è **false** e l'utente fa clic sul pulsante Chiudi, quindi la gestione degli errori avrebbe dovuto tenere conto di questa situazione.</span><span class="sxs-lookup"><span data-stu-id="240e0-111">Note that this dialog box can return PDH\_DIALOG\_CANCELLED if **bSingleCounterPerDialog** is **FALSE** and the user clicks the Close button, so your error handling would have to account for this.</span></span>

<span data-ttu-id="240e0-112">Per un esempio in cui viene usata la funzione [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) , vedere [esplorazione dei contatori delle prestazioni](browsing-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="240e0-112">For an example that uses the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function, see [Browsing Performance Counters](browsing-performance-counters.md).</span></span>

<span data-ttu-id="240e0-113">Per recuperare un elenco di oggetti prestazioni nel computer, è anche possibile chiamare la funzione [**PdhEnumObjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) .</span><span class="sxs-lookup"><span data-stu-id="240e0-113">To retrieve a list of performance objects on the computer, you can also call the [**PdhEnumObjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) function.</span></span> <span data-ttu-id="240e0-114">Per recuperare un elenco di contatori e istanze per un oggetto prestazione, chiamare la funzione [**PdhEnumObjectItems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) .</span><span class="sxs-lookup"><span data-stu-id="240e0-114">To retrieve a list of counters and instances for a performance object, call the [**PdhEnumObjectItems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) function.</span></span> <span data-ttu-id="240e0-115">È inoltre possibile utilizzare queste funzioni per identificare gli oggetti e i contatori delle prestazioni contenuti in un file di log.</span><span class="sxs-lookup"><span data-stu-id="240e0-115">You can also use these functions to identify the performance objects and counters contained in a log file.</span></span> <span data-ttu-id="240e0-116">Le chiamate ripetute a **PdhEnumObjectItems** restituiranno lo stesso elenco di contatori e istanze fino a quando non si chiama **PdhEnumObjects** per aggiornare prima l'elenco di oggetti prestazione.</span><span class="sxs-lookup"><span data-stu-id="240e0-116">Repeated calls to **PdhEnumObjectItems** will return the same list of counters and instances until you call **PdhEnumObjects** to refresh the list of performance objects first.</span></span> <span data-ttu-id="240e0-117">Per un esempio in cui vengono enumerati gli oggetti e i contatori, vedere [enumerazione di oggetti processo](enumerating-process-objects.md).</span><span class="sxs-lookup"><span data-stu-id="240e0-117">For an example that enumerates objects and counters, see [Enumerating Process Objects](enumerating-process-objects.md).</span></span>

## <a name="selecting-the-data-source"></a><span data-ttu-id="240e0-118">Selezione dell'origine dati</span><span class="sxs-lookup"><span data-stu-id="240e0-118">Selecting the data source</span></span>

<span data-ttu-id="240e0-119">È possibile utilizzare [**PdhSelectDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) insieme a [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) per richiedere all'utente di specificare se l'origine dati è in tempo reale o da un file di log e, se si tratta di un file di log, il relativo nome.</span><span class="sxs-lookup"><span data-stu-id="240e0-119">You can use [**PdhSelectDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) in conjunction with [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) to prompt the user to select whether the data source is in real-time or from a log file, and, if it is a log file, its name.</span></span> <span data-ttu-id="240e0-120">Se non si desidera che venga visualizzata la finestra di dialogo dell'origine dati, è possibile chiamare **PdhSelectDataSource** per visualizzare solo il catalogo di file browser.</span><span class="sxs-lookup"><span data-stu-id="240e0-120">If you do not want the data source dialog to be displayed, you can call **PdhSelectDataSource** to display only the file browser catalog.</span></span> <span data-ttu-id="240e0-121">A tale scopo, specificare PDH \_ flags \_ file \_ browser \_ solo come secondo parametro della chiamata a **PdhSelectDataSource**.</span><span class="sxs-lookup"><span data-stu-id="240e0-121">To do this, specify PDH\_FLAGS\_FILE\_BROWSER\_ONLY as the second parameter of the call to **PdhSelectDataSource**.</span></span>

 

 



