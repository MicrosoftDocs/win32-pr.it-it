---
description: Un oggetto prestazione è un'entità per la quale sono disponibili i dati sulle prestazioni.
ms.assetid: 97b9c9ec-e758-4928-b3fa-90d220bca5fb
title: Progettazione di oggetti e contatori
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9556882f5dd6c323697d9d41fa80727895550a5d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/07/2021
ms.locfileid: "103967514"
---
# <a name="object-and-counter-design"></a><span data-ttu-id="d3f5d-103">Progettazione di oggetti e contatori</span><span class="sxs-lookup"><span data-stu-id="d3f5d-103">Object and Counter Design</span></span>

<span data-ttu-id="d3f5d-104">Un oggetto prestazione è un'entità per la quale sono disponibili i dati sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-104">A performance object is an entity for which performance data is available.</span></span> <span data-ttu-id="d3f5d-105">I contatori delle prestazioni definiscono il tipo di dati disponibili per un oggetto prestazioni.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-105">Performance counters define the type of data that is available for a performance object.</span></span> <span data-ttu-id="d3f5d-106">Un'applicazione può fornire informazioni per più oggetti prestazione.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-106">An application can provide information for multiple performance objects.</span></span> <span data-ttu-id="d3f5d-107">Gli oggetti prestazioni possono contenere contatori a istanza singola o più contatori di istanza.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-107">Performance objects can contain either single instance counters or multiple instance counters.</span></span> <span data-ttu-id="d3f5d-108">Un singolo oggetto istanza restituisce un singolo set di valori del contatore.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-108">A single instance object returns a single set of counter values.</span></span>

<span data-ttu-id="d3f5d-109">Un oggetto a più istanze restituisce un'istanza dell'oggetto per ogni occorrenza dell'oggetto controllato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-109">A multiple instance object returns an instance of the object for each occurrence of the object that the application controls.</span></span> <span data-ttu-id="d3f5d-110">Ad esempio, un'applicazione SCSI può definire un oggetto unità con due contatori, ad esempio byte letti e byte scritti.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-110">For example, a SCSI application could define a drive object with two counters, such as Bytes Read and Bytes Written.</span></span> <span data-ttu-id="d3f5d-111">Quando il consumer esegue una query sull'oggetto, la DLL di prestazioni restituisce un'istanza dell'oggetto per ogni unità controllata dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-111">When the consumer queries the object, the performance DLL returns an instance of the object for each drive that the application controls.</span></span>

<span data-ttu-id="d3f5d-112">Dopo aver deciso se l'oggetto supporta una sola istanza o più istanze, è necessario stabilire il tipo di contatori che si desidera venga fornito dall'oggetto.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-112">After deciding if your object supports a single instance or multiple instances, you need to decide on the type of counters that you want the object to provide.</span></span> <span data-ttu-id="d3f5d-113">È ad esempio possibile specificare i valori dei contatori visualizzati come valori non elaborati, come frequenze o come percentuali.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-113">For example, you can provide counter values that are displayed as raw values, as rates, or as percentages.</span></span>

<span data-ttu-id="d3f5d-114">Per un elenco dei tipi di contatori predefiniti da scegliere, vedere la sezione relativa ai tipi di contatore del [Kit di distribuzione di Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="d3f5d-114">For a list of predefined counter types that you should choose from, see the Counter Types section of the [Windows Server 2003 Deployment Kit](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span></span> <span data-ttu-id="d3f5d-115">A seconda del tipo di contatore, è possibile fornire semplicemente i dati non elaborati oppure è anche necessario fornire informazioni su tempo e frequenza e dati del contatore aggiuntivi utilizzati dal consumer per calcolare un valore visualizzabile.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-115">Depending on the counter type, you may simply provide the raw data, or you may also have to provide time and frequency information and additional counter data used by the consumer to calculate a displayable value.</span></span>

<span data-ttu-id="d3f5d-116">Il metodo utilizzato per raccogliere i dati può essere semplice come incrementare un contatore ogni volta che viene chiamata una determinata routine nell'applicazione oppure può includere calcoli che richiedono molto tempo.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-116">The method you use to collect the data can be as simple as incrementing a counter each time a particular routine in the application is called, or it can involve time-consuming calculations.</span></span> <span data-ttu-id="d3f5d-117">I contatori e i timer devono essere incrementati e non devono mai essere cancellati.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-117">Counters and timers should increment and never be cleared.</span></span> <span data-ttu-id="d3f5d-118">È possibile eseguire il wrapping dei contatori, purché non vengano inclusi due volte tra campionati dal consumer.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-118">Counters can wrap, as long as they do not wrap twice between being sampled by the consumer.</span></span> <span data-ttu-id="d3f5d-119">L'applicazione può raccogliere e archiviare i dati durante la normale esecuzione, purché non influisca sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-119">Your application can collect and store data during its normal execution, as long as it does not affect its performance.</span></span>

<span data-ttu-id="d3f5d-120">Per alcuni tipi di dati, può essere più efficiente o appropriato raccogliere i dati su richiesta.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-120">For some types of data, it may be more efficient or appropriate to collect the data on demand.</span></span> <span data-ttu-id="d3f5d-121">In questa situazione, la DLL di prestazioni deve comunicare con l'applicazione che i dati sono stati richiesti.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-121">In this situation, the performance DLL must communicate to the application that the data has been requested.</span></span> <span data-ttu-id="d3f5d-122">Per i dati che sono costosi da raccogliere (in termini di tempo del processore o utilizzo della memoria), è consigliabile raccogliere i dati solo quando il consumer richiede i dati **costosi** .</span><span class="sxs-lookup"><span data-stu-id="d3f5d-122">For data that is expensive to collect (in terms of processor time or memory usage), consider collecting data only when the consumer requests **Costly** data.</span></span> <span data-ttu-id="d3f5d-123">Questo consente a un consumer di richiedere periodicamente i dati per tutti i contatori che non sono costosi.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-123">This allows a consumer to routinely request data for all counters that are not costly.</span></span> <span data-ttu-id="d3f5d-124">I dati possono essere richiesti solo quando necessario.</span><span class="sxs-lookup"><span data-stu-id="d3f5d-124">The data can be requested only when needed.</span></span> <span data-ttu-id="d3f5d-125">Lo strumento prestazioni non raccoglie i dati **costosi** .</span><span class="sxs-lookup"><span data-stu-id="d3f5d-125">The Performance tool does not collect **Costly** data.</span></span>

 

 
