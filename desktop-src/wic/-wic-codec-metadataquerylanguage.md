---
description: In questo argomento viene presentato il linguaggio di query dei metadati per Windows Imaging Component (WIC).
ms.assetid: 5ffa0a69-b53d-4be3-b802-deaaa743e6bd
title: Cenni preliminari sul linguaggio di query dei metadati
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ee4b55bdc7079565f98411e28977d3d8c41e191f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104555199"
---
# <a name="metadata-query-language-overview"></a><span data-ttu-id="22761-103">Cenni preliminari sul linguaggio di query dei metadati</span><span class="sxs-lookup"><span data-stu-id="22761-103">Metadata Query Language Overview</span></span>

<span data-ttu-id="22761-104">In questo argomento viene presentato il linguaggio di query dei metadati per Windows Imaging Component (WIC).</span><span class="sxs-lookup"><span data-stu-id="22761-104">This topic introduces the metadata query language for Windows Imaging Component (WIC).</span></span> <span data-ttu-id="22761-105">Il linguaggio di query dei metadati viene utilizzato per creare espressioni che consentono di individuare dati specifici (elementi di metadati) e percorsi (blocchi di metadati) all'interno dei metadati di un'immagine.</span><span class="sxs-lookup"><span data-stu-id="22761-105">You use the metadata query language to create expressions that find specific data (metadata items) and locations (metadata blocks) within the metadata of an image.</span></span>

<span data-ttu-id="22761-106">In questo argomento sono contenute le sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="22761-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="22761-107">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="22761-107">Prerequisites</span></span>](#prerequisites)
-   [<span data-ttu-id="22761-108">Introduzione</span><span class="sxs-lookup"><span data-stu-id="22761-108">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="22761-109">Anatomia di un'espressione di percorso</span><span class="sxs-lookup"><span data-stu-id="22761-109">Anatomy of a Path Expression</span></span>](#anatomy-of-a-path-expression)
    -   [<span data-ttu-id="22761-110">Selezione blocco</span><span class="sxs-lookup"><span data-stu-id="22761-110">Block Selection</span></span>](#block-selection)
    -   [<span data-ttu-id="22761-111">Selezione elemento</span><span class="sxs-lookup"><span data-stu-id="22761-111">Item Selection</span></span>](#item-selection)
    -   [<span data-ttu-id="22761-112">Carattere di escape</span><span class="sxs-lookup"><span data-stu-id="22761-112">Escape Character</span></span>](#escape-character)
    -   [<span data-ttu-id="22761-113">Espressioni di esempio</span><span class="sxs-lookup"><span data-stu-id="22761-113">Sample Expressions</span></span>](#sample-expressions)
-   [<span data-ttu-id="22761-114">Espressioni di criteri dei metadati foto</span><span class="sxs-lookup"><span data-stu-id="22761-114">Photo Metadata Policy Expressions</span></span>](#photo-metadata-policy-expressions)
-   [<span data-ttu-id="22761-115">Riepilogo del linguaggio di query dei metadati</span><span class="sxs-lookup"><span data-stu-id="22761-115">Metadata Query Language Summary</span></span>](#metadata-query-language-summary)
-   [<span data-ttu-id="22761-116">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="22761-116">Related topics</span></span>](#related-topics)

## <a name="prerequisites"></a><span data-ttu-id="22761-117">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="22761-117">Prerequisites</span></span>

<span data-ttu-id="22761-118">Per comprendere questo argomento, è necessario avere familiarità con il sistema di metadati WIC, come descritto in [Panoramica dei metadati di WIC](-wic-about-metadata.md) e accesso ai metadati, come descritto nella [Panoramica della lettura e della scrittura dei metadati delle immagini](-wic-codec-readingwritingmetadata.md).</span><span class="sxs-lookup"><span data-stu-id="22761-118">To understand this topic, you should be familiar with the WIC metadata system as described in the [WIC Metadata Overview](-wic-about-metadata.md) and accessing metadata, as described in the [Overview of Reading and Writing Image Metadata](-wic-codec-readingwritingmetadata.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="22761-119">Introduzione</span><span class="sxs-lookup"><span data-stu-id="22761-119">Introduction</span></span>

<span data-ttu-id="22761-120">Si interagisce con la piattaforma di metadati principalmente tramite due componenti Component Object Model (COM): un lettore di query, rappresentato dall'interfaccia [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) , e un writer di query, rappresentato dall'interfaccia [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) .</span><span class="sxs-lookup"><span data-stu-id="22761-120">You interact with the metadata platform primarily through two Component Object Model (COM) components: a query reader, represented by the [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) interface, and a query writer, represented by the [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) interface.</span></span> <span data-ttu-id="22761-121">Questi componenti consentono di leggere o scrivere metadati utilizzando il linguaggio di query dei metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-121">These components enable you to read or write metadata using the metadata query language.</span></span> <span data-ttu-id="22761-122">Il linguaggio di query descrive la sintassi di un'espressione di percorso e i componenti della query utilizzano questa espressione di percorso per accedere ai metadati desiderati.</span><span class="sxs-lookup"><span data-stu-id="22761-122">The query language describes the syntax of a path expression and the query components use this path expression to access the desired metadata.</span></span> <span data-ttu-id="22761-123">Questa espressione di percorso descrive la posizione di un blocco o di un elemento di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-123">This path expression describes the location of a metadata block or item.</span></span>

<span data-ttu-id="22761-124">Un blocco di metadati è un gruppo denominato di metadati in un formato specifico.</span><span class="sxs-lookup"><span data-stu-id="22761-124">A metadata block is a named group of metadata in a specific format.</span></span> <span data-ttu-id="22761-125">Un blocco di metadati può contenere singoli elementi di metadati, ad esempio un autore o un'ora di creazione e blocchi di metadati aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="22761-125">A metadata block can contain individual metadata items such as an author or creation time and additional metadata blocks.</span></span> <span data-ttu-id="22761-126">Il nome di un blocco di metadati è determinato dal formato.</span><span class="sxs-lookup"><span data-stu-id="22761-126">A metadata block's name is determined by its format.</span></span> <span data-ttu-id="22761-127">Un blocco di metadati che contiene i metadati App1, ad esempio, verrebbe denominato "app1".</span><span class="sxs-lookup"><span data-stu-id="22761-127">For example, a metadata block containing App1 metadata would be named "app1".</span></span> <span data-ttu-id="22761-128">I formati di metadati comuni includono App1, EXIF, IFD e XMP.</span><span class="sxs-lookup"><span data-stu-id="22761-128">Common metadata formats include App1, Exif, IFD, and XMP.</span></span>

<span data-ttu-id="22761-129">Un elemento dei metadati è una coppia nome/valore che descrive caratteristiche quali autore, titolo e classificazione.</span><span class="sxs-lookup"><span data-stu-id="22761-129">A metadata item is a name/value pair that describes characteristics like author, title, and rating.</span></span>

<span data-ttu-id="22761-130">Un'espressione di percorso contiene uno o più nomi di blocchi di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-130">A path expression contains one or more metadata block names.</span></span> <span data-ttu-id="22761-131">Può inoltre specificare un elemento di metadati all'interno di un blocco di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-131">It can also specify a metadata item within a metadata block.</span></span> <span data-ttu-id="22761-132">L'espressione di percorso seguente rappresenta un blocco App1 che contiene un blocco IFD che contiene l'elemento dei metadati:</span><span class="sxs-lookup"><span data-stu-id="22761-132">The following path expression represents an App1 block which contains an IFD block which contains the metadata item:</span></span>

-   <span data-ttu-id="22761-133">/App1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="22761-133">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="22761-134">Il diagramma seguente illustra il trucco di un'immagine JPEG di esempio con quattro blocchi di metadati radice: APP0, App1, XMP e un blocco sconosciuto.</span><span class="sxs-lookup"><span data-stu-id="22761-134">The following diagram illustrates the makeup of an example JPEG image with four root metadata blocks: App0, App1, XMP, and an unknown block.</span></span> <span data-ttu-id="22761-135">Ogni elemento evidenziato rileva il tipo di metadati (blocco o elemento) e l'espressione di query utilizzata per recuperare i dati.</span><span class="sxs-lookup"><span data-stu-id="22761-135">Each highlighted item notes the type of metadata (block or item) and the query expression used to retrieve the data.</span></span>

![immagine JPEG con callout di metadati](graphics/jpegwithcallouts.png)

> [!Note]  
> <span data-ttu-id="22761-137">In questo documento viene fatto riferimento al contenuto di questo diagramma e vengono utilizzati in molti degli esempi.</span><span class="sxs-lookup"><span data-stu-id="22761-137">The contents of this diagram are referenced throughout this document and are used in many of the examples.</span></span>

 

## <a name="anatomy-of-a-path-expression"></a><span data-ttu-id="22761-138">Anatomia di un'espressione di percorso</span><span class="sxs-lookup"><span data-stu-id="22761-138">Anatomy of a Path Expression</span></span>

<span data-ttu-id="22761-139">Per accedere ai metadati usando le API WIC, nella maggior parte dei casi è necessario usare un'espressione di query completa.</span><span class="sxs-lookup"><span data-stu-id="22761-139">To access metadata using the WIC APIs, a fully qualified query expression must be used in most cases.</span></span> <span data-ttu-id="22761-140">In questo argomento vengono illustrate le espressioni complete per l'accesso ai metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-140">This topic discusses fully qualified expressions for accessing metadata.</span></span> <span data-ttu-id="22761-141">Per informazioni sui casi in cui vengono usate espressioni non complete, vedere la sezione espressione di criteri di metadati foto più avanti in questo documento.</span><span class="sxs-lookup"><span data-stu-id="22761-141">If you need information about the cases in which non-fully qualified expressions are used, refer to the Photo Metadata Policy Expression section later in this document.</span></span>

<span data-ttu-id="22761-142">Che cos'è un'espressione di query completa?</span><span class="sxs-lookup"><span data-stu-id="22761-142">What is a fully qualified query expression?</span></span> <span data-ttu-id="22761-143">In WIC un'espressione completa è una stringa che inizia con la barra (/) del carattere del percorso, seguita da un percorso di navigazione a un blocco di metadati o a un elemento di metadati specifico.</span><span class="sxs-lookup"><span data-stu-id="22761-143">In WIC, a fully qualified expression is a string that begins with the path character slash (/), followed by a navigation path to a metadata block or a specific metadata item.</span></span> <span data-ttu-id="22761-144">Ogni passaggio all'interno del percorso di navigazione è separato da una barra, formando un'espressione per l'accesso a un blocco di metadati o a un elemento di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-144">Each step within the navigation path is separated by a slash, forming an expression for accessing a metadata block or a metadata item.</span></span> <span data-ttu-id="22761-145">Ad esempio, di seguito è riportata un'espressione di query completa che accede a Microsoft Photo rating in un blocco IFD annidato in un blocco App1:</span><span class="sxs-lookup"><span data-stu-id="22761-145">For example, the following is a fully qualified query expression that accesses the Microsoft Photo Rating in an IFD block that is nested in an App1 block:</span></span>

-   <span data-ttu-id="22761-146">/App1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="22761-146">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="22761-147">Quando WIC analizza questa espressione, cerca innanzitutto il blocco di metadati App1 nei metadati dell'immagine.</span><span class="sxs-lookup"><span data-stu-id="22761-147">When WIC parses this expression, it first searches for the App1 metadata block within the image's metadata.</span></span> <span data-ttu-id="22761-148">Se il blocco App1 viene trovato, la ricerca continua la ricerca del blocco di metadati annidati di IFD.</span><span class="sxs-lookup"><span data-stu-id="22761-148">If the App1 block is found, it continues its search looking for the nested IFD metadata block.</span></span> <span data-ttu-id="22761-149">Se il blocco IFD viene trovato, Cerca l'elemento di metadati specifico, in questo caso la classificazione MicrosoftPhoto sotto il tag 18249, all'interno del blocco di metadati IFD.</span><span class="sxs-lookup"><span data-stu-id="22761-149">If the IFD block is found, it then looks for the specific metadata item, in this case the MicrosoftPhoto rating under the tag 18249, within the IFD metadata block.</span></span> <span data-ttu-id="22761-150">Se in qualsiasi momento WIC non trova un blocco o un elemento di metadati, la query viene interrotta.</span><span class="sxs-lookup"><span data-stu-id="22761-150">If at any time WIC does not find a metadata block or item, it aborts the query.</span></span>

### <a name="block-selection"></a><span data-ttu-id="22761-151">Selezione blocco</span><span class="sxs-lookup"><span data-stu-id="22761-151">Block Selection</span></span>

<span data-ttu-id="22761-152">L'espressione di query dei metadati WIC più semplice è un'espressione per ottenere un Reader o un writer di query per un blocco di metadati specifico.</span><span class="sxs-lookup"><span data-stu-id="22761-152">The simplest WIC metadata query expression is an expression to obtain a query reader/writer for a specific metadata block.</span></span> <span data-ttu-id="22761-153">Il recupero di un reader/writer di query consente di indirizzare le query successive direttamente a un blocco di metadati annidati senza gestire il relativo blocco padre.</span><span class="sxs-lookup"><span data-stu-id="22761-153">Obtaining a query reader/writer enables you to direct subsequent queries directly to a nested metadata block without dealing with its parent block.</span></span> <span data-ttu-id="22761-154">Un'espressione di query di selezione blocco è un percorso di navigazione al blocco di metadati desiderato.</span><span class="sxs-lookup"><span data-stu-id="22761-154">A block selection query expression is a navigation path to the desired metadata block.</span></span> <span data-ttu-id="22761-155">Nell'illustrazione precedente, ad esempio, sono presenti cinque blocchi di metadati, due dei quali sono annidati in altri blocchi di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-155">For example, in the previous illustration there are five metadata blocks, two of which are nested in other metadata blocks.</span></span> <span data-ttu-id="22761-156">Di seguito sono riportate le espressioni di percorso per ogni blocco di metadati nell'esempio JPEG:</span><span class="sxs-lookup"><span data-stu-id="22761-156">The following are the path expressions to each metadata block in the JPEG example:</span></span>

-   <span data-ttu-id="22761-157">/app0</span><span class="sxs-lookup"><span data-stu-id="22761-157">/app0</span></span>
-   <span data-ttu-id="22761-158">/App1</span><span class="sxs-lookup"><span data-stu-id="22761-158">/app1</span></span>
-   <span data-ttu-id="22761-159">/app1/ifd</span><span class="sxs-lookup"><span data-stu-id="22761-159">/app1/ifd</span></span>
-   <span data-ttu-id="22761-160">/app1/ifd/exif</span><span class="sxs-lookup"><span data-stu-id="22761-160">/app1/ifd/exif</span></span>
-   <span data-ttu-id="22761-161">/xmp</span><span class="sxs-lookup"><span data-stu-id="22761-161">/xmp</span></span>

<span data-ttu-id="22761-162">Quando si utilizza un Reader o un writer di query per eseguire una query, viene restituito un nuovo reader/writer di query che esegue le query nell'ambito del blocco di metadati specificato.</span><span class="sxs-lookup"><span data-stu-id="22761-162">When you use a query reader/writer to execute a query, it returns a new query reader/writer that services queries within the scope of the specified metadata block.</span></span> <span data-ttu-id="22761-163">Se ad esempio si esegue la query "/app1", viene ottenuto un nuovo Reader di query e le query al nuovo Reader sono relative al blocco App1.</span><span class="sxs-lookup"><span data-stu-id="22761-163">For instance, if you execute the query "/app1" , a new query reader is obtained and queries to the new reader are relative to the App1 block.</span></span> <span data-ttu-id="22761-164">Ciò significa che la query "/IFD" è valida per il nuovo Reader perché il blocco App1 contiene un blocco IFD.</span><span class="sxs-lookup"><span data-stu-id="22761-164">This means that the query "/ifd" is valid for the new reader because the App1 block contains an IFD block.</span></span> <span data-ttu-id="22761-165">Tuttavia, "/XMP" non funziona perché questo blocco App1 non contiene un blocco di metadati XMP.</span><span class="sxs-lookup"><span data-stu-id="22761-165">However, "/xmp" would not work because this App1 block does not contain an XMP metadata block.</span></span>

<span data-ttu-id="22761-166">Il linguaggio di query supporta inoltre la notazione di un indice.</span><span class="sxs-lookup"><span data-stu-id="22761-166">The query language also supports an index notation.</span></span> <span data-ttu-id="22761-167">La notazione dell'indice fornisce l'accesso a un blocco di metadati specifico quando esistono più blocchi dello stesso tipo.</span><span class="sxs-lookup"><span data-stu-id="22761-167">Index notation provides access to a specific metadata block when multiple blocks of the same type exist.</span></span> <span data-ttu-id="22761-168">Per l'esempio JPEG, è possibile usare l'espressione di percorso indicizzata seguente:</span><span class="sxs-lookup"><span data-stu-id="22761-168">For the JPEG example, the following indexed path expression can be used:</span></span>

-   <span data-ttu-id="22761-169">/\[0 \] App1/ \[ 0 \] IFD</span><span class="sxs-lookup"><span data-stu-id="22761-169">/\[0\]app1/\[0\]ifd</span></span>

<span data-ttu-id="22761-170">Nel linguaggio di query tutti gli indici iniziano da zero.</span><span class="sxs-lookup"><span data-stu-id="22761-170">In the query language, all indexes start at zero.</span></span> <span data-ttu-id="22761-171">Nell'espressione precedente, la prima query zero per il primo blocco App1 e il secondo zero esegue una query sul primo blocco IFD annidato.</span><span class="sxs-lookup"><span data-stu-id="22761-171">In the previous expression, the first zero queries for the first App1 block and the second zero queries the first nested IFD block.</span></span> <span data-ttu-id="22761-172">La notazione dell'indice può comunque essere utilizzata anche quando non esistono più blocchi dello stesso tipo.</span><span class="sxs-lookup"><span data-stu-id="22761-172">Index notation can still be used even when multiple blocks of the same type do not exist.</span></span> <span data-ttu-id="22761-173">Se nel file JPEG di esempio è incluso un secondo blocco App1 con un blocco IFD incorporato, \[ \] per accedere al secondo blocco App1 verrà utilizzata l'espressione "/1 App1/IFD".</span><span class="sxs-lookup"><span data-stu-id="22761-173">If the example JPEG included a second App1 block with an embedded IFD block, the expression "/\[1\]app1/ifd" would be used to access the second App1 block.</span></span>

<span data-ttu-id="22761-174">La notazione dell'indice diventa più comune quando si gestiscono i blocchi di testo PNG perché è probabile che l'immagine PNG disponga di più di un blocco di testo.</span><span class="sxs-lookup"><span data-stu-id="22761-174">Index notation becomes more common when dealing with PNG tEXt chunks because it is likely that the PNG image will have more than one tEXt chunk.</span></span>

> [!Note]  
> <span data-ttu-id="22761-175">Gli indici di matrici multidimensionali non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="22761-175">Multidimensional array indexes are not supported.</span></span>

 

### <a name="item-selection"></a><span data-ttu-id="22761-176">Selezione elemento</span><span class="sxs-lookup"><span data-stu-id="22761-176">Item Selection</span></span>

<span data-ttu-id="22761-177">È possibile accedere agli elementi di metadati in un blocco di metadati compilando le espressioni di selezione dei blocchi.</span><span class="sxs-lookup"><span data-stu-id="22761-177">You can access the metadata items in a metadata block by building on the block selection expressions.</span></span> <span data-ttu-id="22761-178">Prendere in considerazione le proprietà XMP e classificazione foto Microsoft nell'esempio JPEG.</span><span class="sxs-lookup"><span data-stu-id="22761-178">Consider the XMP and Microsoft Photo rating properties in the JPEG example.</span></span> <span data-ttu-id="22761-179">Questi metadati sono presenti in due blocchi di metadati, ovvero i blocchi App1/IFD e XMP.</span><span class="sxs-lookup"><span data-stu-id="22761-179">This metadata exists in two metadata blocks: the App1/IFD and XMP blocks.</span></span> <span data-ttu-id="22761-180">È pertanto possibile utilizzare più di un'espressione per accedere agli stessi dati.</span><span class="sxs-lookup"><span data-stu-id="22761-180">Therefore, more than one expression can be used to access the same data.</span></span> <span data-ttu-id="22761-181">L'espressione seguente accede alla classificazione MicrosoftPhoto nel blocco XMP:</span><span class="sxs-lookup"><span data-stu-id="22761-181">The following expression accesses the MicrosoftPhoto rating in the XMP block:</span></span>

-   <span data-ttu-id="22761-182">/XMP/XMP: valutazione</span><span class="sxs-lookup"><span data-stu-id="22761-182">/xmp/xmp:Rating</span></span>

<span data-ttu-id="22761-183">La parte "XMP:" dell'espressione è un identificatore descrittivo dello schema.</span><span class="sxs-lookup"><span data-stu-id="22761-183">The "xmp:" part of the expression is a schema friendly identifier.</span></span> <span data-ttu-id="22761-184">XMP è uno standard estendibile e consente a entità di terze parti di pubblicare schemi propri che definiscono come archiviare determinati elementi di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-184">XMP is an extensible standard and allows third party entities to publish their own schemas which define how to store certain metadata items.</span></span> <span data-ttu-id="22761-185">Uno schema XMP è completamente identificato da un URL, ma WIC fornisce un set di identificatori descrittivi per gli schemi noti.</span><span class="sxs-lookup"><span data-stu-id="22761-185">An XMP schema is fully identified by a URL, but WIC provides a set of friendly identifiers for well-known schemas.</span></span> <span data-ttu-id="22761-186">Per ulteriori informazioni, vedere l'argomento relativo alle [query di metadati in formato immagine nativo](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="22761-186">For more information, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

<span data-ttu-id="22761-187">Per le immagini JPEG, le informazioni sulle classificazioni possono essere archiviate anche all'interno del blocco IFD annidato App1.</span><span class="sxs-lookup"><span data-stu-id="22761-187">For JPEG images, rating information can also be stored within the App1 nested IFD block.</span></span> <span data-ttu-id="22761-188">Tuttavia, a differenza dell'esempio di classificazione XMP, il blocco IFD non usa un nome di schema per accedere alle informazioni di valutazione.</span><span class="sxs-lookup"><span data-stu-id="22761-188">However, unlike the XMP rating example, the IFD block does not use a schema name to access the rating information.</span></span> <span data-ttu-id="22761-189">Viene invece utilizzata un'espressione di dati.</span><span class="sxs-lookup"><span data-stu-id="22761-189">You use a data expression instead.</span></span> <span data-ttu-id="22761-190">L'espressione seguente viene utilizzata per accedere alla classificazione MicrosoftPhoto nel blocco IFD annidato App1:</span><span class="sxs-lookup"><span data-stu-id="22761-190">The following expression is used to access the MicrosoftPhoto rating in the App1 nested IFD block:</span></span>

-   <span data-ttu-id="22761-191">/App1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="22761-191">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="22761-192">In questa espressione, la parte "/app1/IFD" dell'espressione è il percorso di navigazione del blocco IFD (come illustrato in precedenza nella sezione di selezione dei blocchi).</span><span class="sxs-lookup"><span data-stu-id="22761-192">In this expression, the "/app1/ifd" part of the expression is the navigation path to the IFD block (as discussed previously in the Block Selection section).</span></span> <span data-ttu-id="22761-193">La seconda parte dell'espressione "/{ushort = 18249}" accede ai dati.</span><span class="sxs-lookup"><span data-stu-id="22761-193">The second part of the expression "/{ushort=18249}" accesses the data.</span></span> <span data-ttu-id="22761-194">Questa parte dell'espressione indica al parser di query di trovare i dati incorporati nel tag short senza segno con l'identificatore di tag 18249.</span><span class="sxs-lookup"><span data-stu-id="22761-194">This part of the expression instructs the query parser to find the data embedded in the unsigned short tag that has the tag identifier 18249.</span></span>

> [!Note]  
> <span data-ttu-id="22761-195">Per un elenco dei formati di metadati comuni supportati da ogni formato di immagine in, vedere l'argomento relativo alle [query di metadati in formato immagine nativo](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="22761-195">For a list of common metadata formats supported by each image format at, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

 

<span data-ttu-id="22761-196">{Ushort = 18249} è un'espressione di dati e può assumere diverse forme.</span><span class="sxs-lookup"><span data-stu-id="22761-196">The {ushort=18249} is a data expression and can take several forms.</span></span> <span data-ttu-id="22761-197">Un'espressione di dati è un'espressione a due parti contenente la chiave o il tag di metadati richiesto, in questo caso "18249", e il tipo di dati della chiave, in questo caso "ushort".</span><span class="sxs-lookup"><span data-stu-id="22761-197">A data expression is a two part expression containing the requested metadata tag or key, in this case "18249", and the data type of the key, in this case "ushort".</span></span> <span data-ttu-id="22761-198">Le due parti sono separate da un segno di uguale (=).</span><span class="sxs-lookup"><span data-stu-id="22761-198">The two parts are separated by an equal sign (=).</span></span> <span data-ttu-id="22761-199">WICsupports la maggior parte dei tipi di dati comuni di C/C++.</span><span class="sxs-lookup"><span data-stu-id="22761-199">WICsupports a majority of the common C/C++ data types.</span></span> <span data-ttu-id="22761-200">I tipi di dati seguenti sono accettati dal linguaggio di query:</span><span class="sxs-lookup"><span data-stu-id="22761-200">The following data types are accepted by the query language:</span></span>

-   <span data-ttu-id="22761-201">char</span><span class="sxs-lookup"><span data-stu-id="22761-201">char</span></span>
-   <span data-ttu-id="22761-202">UCHAR</span><span class="sxs-lookup"><span data-stu-id="22761-202">uchar</span></span>
-   <span data-ttu-id="22761-203">short</span><span class="sxs-lookup"><span data-stu-id="22761-203">short</span></span>
-   <span data-ttu-id="22761-204">ushort</span><span class="sxs-lookup"><span data-stu-id="22761-204">ushort</span></span>
-   <span data-ttu-id="22761-205">long</span><span class="sxs-lookup"><span data-stu-id="22761-205">long</span></span>
-   <span data-ttu-id="22761-206">ulong</span><span class="sxs-lookup"><span data-stu-id="22761-206">ulong</span></span>
-   <span data-ttu-id="22761-207">INT</span><span class="sxs-lookup"><span data-stu-id="22761-207">int</span></span>
-   <span data-ttu-id="22761-208">uint</span><span class="sxs-lookup"><span data-stu-id="22761-208">uint</span></span>
-   <span data-ttu-id="22761-209">longlong</span><span class="sxs-lookup"><span data-stu-id="22761-209">longlong</span></span>
-   <span data-ttu-id="22761-210">float</span><span class="sxs-lookup"><span data-stu-id="22761-210">float</span></span>
-   <span data-ttu-id="22761-211">double</span><span class="sxs-lookup"><span data-stu-id="22761-211">double</span></span>
-   <span data-ttu-id="22761-212">str</span><span class="sxs-lookup"><span data-stu-id="22761-212">str</span></span>
-   <span data-ttu-id="22761-213">WSTR</span><span class="sxs-lookup"><span data-stu-id="22761-213">wstr</span></span>
-   <span data-ttu-id="22761-214">guid</span><span class="sxs-lookup"><span data-stu-id="22761-214">guid</span></span>
-   <span data-ttu-id="22761-215">bool</span><span class="sxs-lookup"><span data-stu-id="22761-215">bool</span></span>

> [!Note]  
> <span data-ttu-id="22761-216">Questo elenco specifica solo i tipi di dati supportati dal linguaggio di query dei metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-216">This list only specifies the data types supported by the metadata query language.</span></span> <span data-ttu-id="22761-217">Usare questi tipi di dati quando si crea un'espressione di dati di query dei metadati, ad esempio {ushort = 18249}.</span><span class="sxs-lookup"><span data-stu-id="22761-217">Use these data types when creating a metadata query data expression such as {ushort=18249}.</span></span> <span data-ttu-id="22761-218">WIC restituisce il valore dell'elemento dei metadati sotto forma di PROPVARIANT, che definisce il proprio sistema di tipi.</span><span class="sxs-lookup"><span data-stu-id="22761-218">The WIC returns the metadata item's value in the form of PROPVARIANT, which defines its own type system.</span></span>

 

<span data-ttu-id="22761-219">"18249" nell'esempio è il tag di dati.</span><span class="sxs-lookup"><span data-stu-id="22761-219">The "18249" in the example is the data tag.</span></span> <span data-ttu-id="22761-220">Questo numero specifico è definito da Microsoft per contenere la classificazione MicrosoftPhoto.</span><span class="sxs-lookup"><span data-stu-id="22761-220">This particular number is defined by Microsoft to contain the MicrosoftPhoto rating.</span></span> <span data-ttu-id="22761-221">Il tag dati può essere qualsiasi numero, stringa o GUID a seconda dell'elemento dati che si sta cercando</span><span class="sxs-lookup"><span data-stu-id="22761-221">The data tag can be any number, string, or GUID depending on the data item you are looking for</span></span>

<span data-ttu-id="22761-222">A differenza dell'esempio di classificazione XMP, non esiste alcun conflitto di nomi per il valore della classificazione nel blocco App1/IFD.</span><span class="sxs-lookup"><span data-stu-id="22761-222">Unlike the XMP Rating example, there is no name collision for the rating value in the App1/IFD block.</span></span> <span data-ttu-id="22761-223">Questo è dovuto al fatto che il valore della classificazione XMP viene effettivamente archiviato in un altro tag ushort, 18246.</span><span class="sxs-lookup"><span data-stu-id="22761-223">This is because the XMP rating value is actually stored under a different ushort tag, 18246.</span></span> <span data-ttu-id="22761-224">L'espressione per accedere alla classificazione XMP nel blocco App1/IFD è quindi:</span><span class="sxs-lookup"><span data-stu-id="22761-224">Thus, the expression to access the XMP rating in the App1/IFD block is:</span></span>

-   <span data-ttu-id="22761-225">/App1/IFD/{ushort = 18246}</span><span class="sxs-lookup"><span data-stu-id="22761-225">/app1/ifd/{ushort=18246}</span></span>

> [!Note]  
> <span data-ttu-id="22761-226">Per una descrizione formale del linguaggio di query dei metadati, vedere la sezione Riepilogo del linguaggio di query dei metadati più avanti in questo documento.</span><span class="sxs-lookup"><span data-stu-id="22761-226">For a formal description of the metadata query language, see the Metadata Query Language Summary section later in this document.</span></span>

 

### <a name="escape-character"></a><span data-ttu-id="22761-227">Carattere escape</span><span class="sxs-lookup"><span data-stu-id="22761-227">Escape Character</span></span>

<span data-ttu-id="22761-228">Il linguaggio di query non fa distinzione tra maiuscole e minuscole e considera tutti i caratteri come minuscoli.</span><span class="sxs-lookup"><span data-stu-id="22761-228">The query language is not case sensitive and treats all characters as lowercase.</span></span> <span data-ttu-id="22761-229">Tuttavia, alcuni formati di metadati, ad esempio XMP, fanno distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="22761-229">However, some metadata formats (such as XMP) are case sensitive.</span></span> <span data-ttu-id="22761-230">Quando si utilizza un formato di metadati con distinzione tra maiuscole e minuscole, utilizzare il carattere barra rovesciata ( \\ ) quando si desidera specificare un carattere maiuscolo.</span><span class="sxs-lookup"><span data-stu-id="22761-230">When working with a case-sensitive metadata format, use the backslash (\\) character when you want to specify an uppercase character.</span></span>

<span data-ttu-id="22761-231">Il carattere di escape viene utilizzato dal parser del linguaggio e il carattere seguente che lo segue viene interpretato direttamente.</span><span class="sxs-lookup"><span data-stu-id="22761-231">The escape character is consumed by the language parser and the following character that follows it is interpreted directly.</span></span> <span data-ttu-id="22761-232">Ad esempio, l'espressione {char = \\ \\ } viene risolta come ' \\ ' e {char = \\ C} viene risolta come una c maiuscola. Senza il carattere di escape, {char = \\ } potrebbe essere un'espressione non valida e {char = C} verrebbe interpretato come un C minuscolo.</span><span class="sxs-lookup"><span data-stu-id="22761-232">For example, the expression {char=\\\\} is resolved as '\\'and {char=\\C} is resolved as an uppercase C. Without the escape character, {char=\\} would be an invalid expression and {char=C} would be interpreted as a lowercase c.</span></span> <span data-ttu-id="22761-233">Assicurarsi di usare il carattere di escape barra rovesciata prima di tutte le lettere maiuscole nei formati di metadati con distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="22761-233">Be sure to use the backslash escape character before all uppercase letters in metadata formats that are case sensitive.</span></span>

### <a name="sample-expressions"></a><span data-ttu-id="22761-234">Espressioni di esempio</span><span class="sxs-lookup"><span data-stu-id="22761-234">Sample Expressions</span></span>

<span data-ttu-id="22761-235">Nella tabella seguente sono riportate alcune espressioni di esempio e descrizioni delle relative interpretazioni da parte del parser del linguaggio di query.</span><span class="sxs-lookup"><span data-stu-id="22761-235">The following table provides some example expressions and descriptions of their interpretations by the query language parser.</span></span> 

| <span data-ttu-id="22761-236">Expression</span><span class="sxs-lookup"><span data-stu-id="22761-236">Expression</span></span>                     | <span data-ttu-id="22761-237">Descrizione</span><span class="sxs-lookup"><span data-stu-id="22761-237">Description</span></span>                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="22761-238">IFD/XMP/EXIF: autore</span><span class="sxs-lookup"><span data-stu-id="22761-238">ifd/xmp/exif:Author</span></span>            | <span data-ttu-id="22761-239">Corrisponde al percorso di navigazione seguente: IFD Block-> XMP Block-> proprietà "Author" nello schema "Exif".</span><span class="sxs-lookup"><span data-stu-id="22761-239">Corresponds to the following navigation path: IFD block -> XMP block -> "Author" property in the "Exif" schema.</span></span>                                                                                                                                                                                                                                            |
| <span data-ttu-id="22761-240">/\[1 \] IFD/ \[ 0 \] XMP/EXIF: Author</span><span class="sxs-lookup"><span data-stu-id="22761-240">/\[1\]ifd/\[0\]xmp/exif:Author</span></span> | <span data-ttu-id="22761-241">Uguale al primo elemento in questa tabella, ad eccezione del fatto che il \[ \# \] prefisso descrive l'elemento da esplorare in caso di conflitto di nomi.</span><span class="sxs-lookup"><span data-stu-id="22761-241">Same as the first item in this table except that the \[\#\] prefix describes which item to navigate in event of a name collision.</span></span>                                                                                                                                                                                                                                |
| <span data-ttu-id="22761-242">/IFD/{ushort = 700}/Author</span><span class="sxs-lookup"><span data-stu-id="22761-242">/ifd/{ushort=700}/Author</span></span>       | <span data-ttu-id="22761-243">Uguale al primo elemento in questa tabella, ad eccezione del fatto che usa un'espressione di dati per fare riferimento al blocco XMP anziché al nome del blocco "XMP" (il blocco XMP è incorporato nell'identificatore di tag breve senza segno 700).</span><span class="sxs-lookup"><span data-stu-id="22761-243">Same as the first item in this table except that it uses a data expression to reference the XMP block instead of the block name "xmp" (XMP block is embedded under the unsigned short tag identifier 700).</span></span> <span data-ttu-id="22761-244">Inoltre, la proprietà "Author" non specifica uno schema.</span><span class="sxs-lookup"><span data-stu-id="22761-244">Also, the "Author" property does not specify a schema.</span></span> <span data-ttu-id="22761-245">Il parser di query tenterà di trovare una corrispondenza tra la proprietà di tutti gli schemi e restituirà la prima corrispondenza.</span><span class="sxs-lookup"><span data-stu-id="22761-245">The query parser will try to match the property across all schemas and return the first match.</span></span> |
| <span data-ttu-id="22761-246">/ifd/xmp</span><span class="sxs-lookup"><span data-stu-id="22761-246">/ifd/xmp</span></span>                       | <span data-ttu-id="22761-247">Fornisce un percorso di navigazione a un blocco di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-247">Provides a navigation path to a metadata block.</span></span> <span data-ttu-id="22761-248">Se il blocco viene trovato, viene restituito un nuovo reader/writer di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-248">If the block is found, a new metadata reader/writer is returned.</span></span>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="22761-249">/\[\*\]Testo/parola chiave</span><span class="sxs-lookup"><span data-stu-id="22761-249">/\[\*\]tEXt/Keyword</span></span>            | <span data-ttu-id="22761-250">Ottiene o imposta la proprietà keyword per un blocco PNG.</span><span class="sxs-lookup"><span data-stu-id="22761-250">Gets or sets the Keyword property for a PNG chunk.</span></span> <span data-ttu-id="22761-251">Poiché la specifica dei metadati PNG consente più blocchi di un determinato tipo, la \[ \* \] notazione Ottiene o imposta il blocco png dei dati con la proprietà appropriata.</span><span class="sxs-lookup"><span data-stu-id="22761-251">Because the PNG metadata specification allows for multiple chunks of a particular type, the \[\*\] notation gets/sets the data PNG chunk with the appropriate property.</span></span> <span data-ttu-id="22761-252">Per la specifica PNG, due blocchi non possono avere le stesse proprietà.</span><span class="sxs-lookup"><span data-stu-id="22761-252">Per the PNG specification, no two chunks can have the same properties.</span></span>                                                                |



 

<span data-ttu-id="22761-253">Ogni blocco di metadati viene inoltre identificato in modo univoco dal GUID dei metadati che può essere utilizzato al posto del nome descrittivo del blocco.</span><span class="sxs-lookup"><span data-stu-id="22761-253">Each metadata block is also uniquely identified by the metadata GUID which can be used in place of the friendly block name.</span></span> <span data-ttu-id="22761-254">Per fornire nomi di blocco, è possibile usare la sintassi seguente: "/{GUID = GUID}/ \[ n \] {GUID = Guid}/schema: tagidentifier"</span><span class="sxs-lookup"><span data-stu-id="22761-254">The following syntax can be used in place of providing block names: "/{guid=GUID}/\[n\]{guid=GUID}/schema:tagidentifier"</span></span>

<span data-ttu-id="22761-255">Nella tabella seguente vengono forniti alcuni esempi non validi e i motivi per cui verranno rifiutati.</span><span class="sxs-lookup"><span data-stu-id="22761-255">The following table provides some invalid examples and the reasons they would be rejected.</span></span> 

| <span data-ttu-id="22761-256">Espressione non valida</span><span class="sxs-lookup"><span data-stu-id="22761-256">Invalid Expression</span></span>         | <span data-ttu-id="22761-257">Descrizione rifiuto</span><span class="sxs-lookup"><span data-stu-id="22761-257">Rejection description</span></span>                                                                                                                                                  |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="22761-258">/IFD/ \[ 0 \] \[ 2 \] EXIF/</span><span class="sxs-lookup"><span data-stu-id="22761-258">/ifd/\[0\]\[2\]exif/</span></span>       | <span data-ttu-id="22761-259">Rifiutato perché gli indici di matrici multidimensionali non sono supportati.</span><span class="sxs-lookup"><span data-stu-id="22761-259">Rejected because multi dimensional array indexes are not supported.</span></span>                                                                                                    |
| <span data-ttu-id="22761-260">/IFD/{ushort = 1}/{ushort = 2}</span><span class="sxs-lookup"><span data-stu-id="22761-260">/ifd/{ushort=1}/{ushort=2}</span></span> | <span data-ttu-id="22761-261">Rifiutato a meno che IFD non abbia tagID = 1, ovvero un gestore di metadati che contiene un elemento di metadati con tagID = 2.</span><span class="sxs-lookup"><span data-stu-id="22761-261">Rejected unless the IFD has a tagID=1 which is a metadata handler that contains a metadata item with a tagID=2.</span></span>                                                        |
| <span data-ttu-id="22761-262">/{ushort = 1}</span><span class="sxs-lookup"><span data-stu-id="22761-262">/{ushort=1}</span></span>                | <span data-ttu-id="22761-263">Rifiutato se l'elaborazione della query è relativa a un livello superiore della gerarchia dei metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-263">Rejected if the query processing is relative to a top level of the metadata hierarchy.</span></span> <span data-ttu-id="22761-264">Questo perché il livello principale contiene solo blocchi di metadati e non elementi di dati.</span><span class="sxs-lookup"><span data-stu-id="22761-264">This is because the top level contains only metadata blocks and not data items.</span></span> |



 

## <a name="photo-metadata-policy-expressions"></a><span data-ttu-id="22761-265">Espressioni di criteri dei metadati foto</span><span class="sxs-lookup"><span data-stu-id="22761-265">Photo Metadata Policy Expressions</span></span>

<span data-ttu-id="22761-266">Come indicato in precedenza, un'espressione di query completa inizia con una barra (/).</span><span class="sxs-lookup"><span data-stu-id="22761-266">As noted previously, a fully qualified query expression starts with a slash (/).</span></span> <span data-ttu-id="22761-267">Le espressioni che non iniziano con la barra vengono valutate come espressioni di criteri.</span><span class="sxs-lookup"><span data-stu-id="22761-267">Expressions that do not begin with the slash are evaluated as policy expressions.</span></span> <span data-ttu-id="22761-268">Un'espressione di criteri consente di eseguire una query sui metadati della foto per le [proprietà della shell](https://msdn.microsoft.com/library/ms788673(VS.85).aspx)di Windows correlate all'immagine.</span><span class="sxs-lookup"><span data-stu-id="22761-268">A policy expression enables you to query the photo metadata for image-related Windows [Shell Properties](https://msdn.microsoft.com/library/ms788673(VS.85).aspx).</span></span> <span data-ttu-id="22761-269">Nella sezione relativa alla selezione dei dati riportata in precedenza in questo documento è stata usata l'espressione "/XMP/XMP: rating" per accedere alla proprietà rating XMP.</span><span class="sxs-lookup"><span data-stu-id="22761-269">In the Data Selection section earlier in this document, the expression "/xmp/xmp:Rating" was used to access the XMP rating property.</span></span> <span data-ttu-id="22761-270">È anche possibile eseguire query su questa proprietà usando l'espressione di criteri seguente:</span><span class="sxs-lookup"><span data-stu-id="22761-270">This property can also be queried using the following policy expression:</span></span>

-   <span data-ttu-id="22761-271">System. SimpleRating</span><span class="sxs-lookup"><span data-stu-id="22761-271">System.SimpleRating</span></span>

<span data-ttu-id="22761-272">Per accedere alla proprietà rating dallo schema MicrosoftPhoto, è possibile usare l'espressione di query seguente:</span><span class="sxs-lookup"><span data-stu-id="22761-272">To access the rating property from the MicrosoftPhoto schema, the following query expression can be used:</span></span>

-   <span data-ttu-id="22761-273">System. rating</span><span class="sxs-lookup"><span data-stu-id="22761-273">System.Rating</span></span>

<span data-ttu-id="22761-274">Le espressioni di criteri dei metadati delle foto si comportano in modo diverso rispetto alle query di metadati complete in pochi modi.</span><span class="sxs-lookup"><span data-stu-id="22761-274">Photo metadata policy expressions behave differently from fully qualified metadata queries in a few notable ways.</span></span>

<span data-ttu-id="22761-275">Per prima cosa, quando si accede ai metadati mediante un'espressione di criteri, WIC esegue l'arbitraggio e la risoluzione dei conflitti nel caso in cui la stessa proprietà sia disponibile in più blocchi di metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-275">First, when accessing metadata using a policy expression, WIC performs arbitration and conflict resolution in the case that the same property is available in multiple metadata blocks.</span></span> <span data-ttu-id="22761-276">Ad esempio, i valori di MicrosoftPhoto e di classificazione XMP vengono archiviati sia nel blocco App1/IFD che nel blocco XMP.</span><span class="sxs-lookup"><span data-stu-id="22761-276">For instance, both the MicrosoftPhoto and the XMP rating values are stored in both the App1/IFD block and the XMP block.</span></span> <span data-ttu-id="22761-277">Il criterio dei metadati della foto determina la precedenza per cui viene restituito il valore di blocco durante la lettura dei metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-277">The photo metadata policy determines the precedence for which block value is returned when reading metadata.</span></span> <span data-ttu-id="22761-278">Quando si scrivono i metadati, i criteri dei metadati delle foto garantiscono che le stesse proprietà in blocchi diversi siano coerenti.</span><span class="sxs-lookup"><span data-stu-id="22761-278">When you are writing metadata, the photo metadata policy ensures that the same properties in different blocks are consistent.</span></span> <span data-ttu-id="22761-279">Se si utilizza una query di metadati, ad esempio "/XMP/XMP: rating", si è responsabili di arbitrali tra le varie posizioni dei metadati.</span><span class="sxs-lookup"><span data-stu-id="22761-279">If you use a metadata query such as "/xmp/xmp:Rating", you are responsible for arbitrating between the various metadata locations.</span></span>

> [!Note]  
> <span data-ttu-id="22761-280">Per un elenco delle espressioni di criteri supportate e dei relativi criteri di mapping, vedere l'argomento relativo ai [criteri di metadati della foto](photo-metadata-policies.md) .</span><span class="sxs-lookup"><span data-stu-id="22761-280">For a list of the supported policy expressions and their mapping policies, see the [Photo Metadata Policies](photo-metadata-policies.md) topic.</span></span>

 

<span data-ttu-id="22761-281">In secondo luogo, le espressioni di criteri dei metadati delle foto sono indipendenti dal formato di immagine, mentre le query di metadati complete non lo sono.</span><span class="sxs-lookup"><span data-stu-id="22761-281">Second, photo metadata policy expressions are independent of the image format, while fully qualified metadata queries are not.</span></span> <span data-ttu-id="22761-282">Ad esempio, la query "/XMP/XMP: rating" è specifica del formato JPEG.</span><span class="sxs-lookup"><span data-stu-id="22761-282">For example, the "/xmp/xmp:Rating" query is specific to the JPEG format.</span></span> <span data-ttu-id="22761-283">Le immagini TIFF supportano anche i metadati XMP, ma vengono archiviati in modo diverso rispetto a JPEG, quindi la query TIFF sarà "/IFD/XMP/XMP: rating".</span><span class="sxs-lookup"><span data-stu-id="22761-283">TIFF images also support XMP metadata, but it is stored differently compared to JPEG, so the TIFF query would be “/ifd/xmp/xmp:Rating”.</span></span> <span data-ttu-id="22761-284">In entrambi i casi, tuttavia, l'espressione di criteri è "System. SimpleRating".</span><span class="sxs-lookup"><span data-stu-id="22761-284">However, in both cases the policy expression would be “System.SimpleRating”.</span></span>

<span data-ttu-id="22761-285">Le espressioni di criteri dei metadati delle foto forniscono un livello di astrazione e semplicità più elevato rispetto alle query di metadati complete e pertanto dovrebbero essere preferite nei casi in cui l'accesso ai metadati di basso livello non è necessario.</span><span class="sxs-lookup"><span data-stu-id="22761-285">Photo metadata policy expressions provide a higher level of abstraction and simplicity when compared to fully qualified metadata queries, and so should be preferred in cases where low-level metadata access is not needed.</span></span> <span data-ttu-id="22761-286">Tuttavia, le espressioni di criteri forniscono solo l'accesso a un set limitato di metadati dell'immagine, mentre il linguaggio di query dei metadati consente di accedere a quasi tutti i metadati archiviati in un file di immagine.</span><span class="sxs-lookup"><span data-stu-id="22761-286">However, policy expressions only provide access to a limited set of image metadata, whereas the metadata query language provides access to nearly all of the metadata stored within an image file.</span></span>

## <a name="metadata-query-language-summary"></a><span data-ttu-id="22761-287">Riepilogo del linguaggio di query dei metadati</span><span class="sxs-lookup"><span data-stu-id="22761-287">Metadata Query Language Summary</span></span>

<span data-ttu-id="22761-288">La tabella seguente è una definizione formale del linguaggio di query dei metadati WIC.</span><span class="sxs-lookup"><span data-stu-id="22761-288">The following table is a formal definition of the WIC metadata query language.</span></span> <span data-ttu-id="22761-289">Ogni simbolo di grammatica rappresenta un'espressione costituita da altri simboli.</span><span class="sxs-lookup"><span data-stu-id="22761-289">Each grammar symbol represents an expression made up of other symbols.</span></span> <span data-ttu-id="22761-290">L'espressione può essere un altro simbolo o una sequenza di altri simboli separati dalla barra verticale ( \| ), che indica una scelta "or".</span><span class="sxs-lookup"><span data-stu-id="22761-290">The expression can be another symbol or a sequence of other symbols separated by the vertical bar (\|), indicating an "or" choice.</span></span> <span data-ttu-id="22761-291">L'intera espressione a destra è una possibile sostituzione per il simbolo specificato a sinistra.</span><span class="sxs-lookup"><span data-stu-id="22761-291">The whole expression on the right is a possible substitution for the specified symbol on the left.</span></span> 

| <span data-ttu-id="22761-292">Simbolo</span><span class="sxs-lookup"><span data-stu-id="22761-292">Symbol</span></span>                   | <span data-ttu-id="22761-293">Expression</span><span class="sxs-lookup"><span data-stu-id="22761-293">Expression</span></span>                                                                                                                                                                  |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \<path>             | <span data-ttu-id="22761-294">\<name> \| '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="22761-294">\<name> \| '/' \<property path></span></span>                                                                                                                                   |
| \<property path>    | <span data-ttu-id="22761-295">\<metadata item> \| \<property path> '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="22761-295">\<metadata item> \| \<property path> '/' \<property path></span></span>                                                                                                    |
| \<metadata item>    | <span data-ttu-id="22761-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span><span class="sxs-lookup"><span data-stu-id="22761-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span></span>                                                                                        |
| \<schema name>      | \<item name>                                                                                                                                                           |
| \<item name>        | <span data-ttu-id="22761-297">\<metadata item> \| <indexed item><index></span><span class="sxs-lookup"><span data-stu-id="22761-297">\<metadata item> \| <indexed item><index></span></span>                                                                                                                  |
| \<indexed item>     | <span data-ttu-id="22761-298">\<item> \| \<implied metadata>\<item></span><span class="sxs-lookup"><span data-stu-id="22761-298">\<item> \| \<implied metadata>\<item></span></span>                                                                                                                        |
| \<implied metadata> | <span data-ttu-id="22761-299">' <' \<name> ' >'</span><span class="sxs-lookup"><span data-stu-id="22761-299">'<'\<name>'>'</span></span>                                                                                                                                                    |
| \<item>             | <span data-ttu-id="22761-300">\<name> \| \<index> \<data> \| \<data></span><span class="sxs-lookup"><span data-stu-id="22761-300">\<name> \| \<index> \<data> \| \<data></span></span>                                                                                                                  |
| \<data>             | <span data-ttu-id="22761-301">'{' \<data type> '=' \<value> '}'</span><span class="sxs-lookup"><span data-stu-id="22761-301">'{' \<data type> '=' \<value> '}'</span></span>                                                                                                                                 |
| \<index>            | <span data-ttu-id="22761-302">'\[' \<number> \| \<star> '\]'</span><span class="sxs-lookup"><span data-stu-id="22761-302">'\[' \<number> \| \<star> '\]'</span></span>                                                                                                                                    |
| \<data type>        | <span data-ttu-id="22761-303">' Char ' \| ' UCHAR '' \| Short ' \| ' ushort ' \| ' Long ' \| ' ulong ' \| ' int ' \| ' uint ' \| ' LONGLONG '' \| ULONGLONG '' \| float ' \| ' Double ' \| ' Str ' \| ' WSTR ' \| ' GUID ' \| ' bool '</span><span class="sxs-lookup"><span data-stu-id="22761-303">'char' \| 'uchar' \| 'short' \| 'ushort' \| 'long' \| 'ulong' \| 'int' \| 'uint' \| 'longlong' \| 'ulonglong' \| 'float' \| 'double' \| 'str' \| 'wstr' \| 'guid' \| 'bool'</span></span> |
| \<data value>       | <span data-ttu-id="22761-304">\<number> \| \<name> \| \<guid></span><span class="sxs-lookup"><span data-stu-id="22761-304">\<number> \| \<name> \| \<guid></span></span>                                                                                                                              |
| \<star>             | <span data-ttu-id="22761-305">'\*'</span><span class="sxs-lookup"><span data-stu-id="22761-305">'\*'</span></span>                                                                                                                                                                        |
| \<number>           | <span data-ttu-id="22761-306">d'acquisto</span><span class="sxs-lookup"><span data-stu-id="22761-306">number</span></span>                                                                                                                                                                      |
| \<name>             | <span data-ttu-id="22761-307">string</span><span class="sxs-lookup"><span data-stu-id="22761-307">string</span></span>                                                                                                                                                                      |
| \<guid>             | <span data-ttu-id="22761-308">guid</span><span class="sxs-lookup"><span data-stu-id="22761-308">guid</span></span>                                                                                                                                                                        |



 

## <a name="related-topics"></a><span data-ttu-id="22761-309">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="22761-309">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="22761-310">**Informazioni concettuali**</span><span class="sxs-lookup"><span data-stu-id="22761-310">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="22761-311">Panoramica del componente imaging Windows</span><span class="sxs-lookup"><span data-stu-id="22761-311">Windows Imaging Component Overview</span></span>](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[<span data-ttu-id="22761-312">Cenni preliminari sui metadati WIC</span><span class="sxs-lookup"><span data-stu-id="22761-312">WIC Metadata Overview</span></span>](-wic-about-metadata.md)
</dt> <dt>

[<span data-ttu-id="22761-313">Panoramica della lettura e della scrittura dei metadati delle immagini</span><span class="sxs-lookup"><span data-stu-id="22761-313">Overview of Reading and Writing Image Metadata</span></span>](-wic-codec-readingwritingmetadata.md)
</dt> <dt>

[<span data-ttu-id="22761-314">Panoramica dell'estendibilità dei metadati</span><span class="sxs-lookup"><span data-stu-id="22761-314">Metadata Extensibility Overview</span></span>](-wic-codec-metadatahandlers.md)
</dt> <dt>

[<span data-ttu-id="22761-315">Procedura: ricodificare un'immagine JPEG con i metadati</span><span class="sxs-lookup"><span data-stu-id="22761-315">How-to: Re-encode a JPEG Image with Metadata</span></span>](-wic-codec-jpegmetadataencoding.md)
</dt> </dl>

 

 



