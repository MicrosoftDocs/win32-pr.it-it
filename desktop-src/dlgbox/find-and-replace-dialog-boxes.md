---
title: Finestre di dialogo Trova e Sostituisci
description: Visualizza una finestra di dialogo non modale che consente all'utente di specificare una stringa da ricercare, nonché le opzioni da utilizzare per la ricerca di testo in un documento.
ms.assetid: c8c035bf-795d-42a7-abc6-168dea43e6e9
keywords:
- Interfaccia utente di Windows, input utente
- Interfaccia utente di Windows, libreria finestra di dialogo comune
- input utente, libreria finestra di dialogo comune
- acquisizione dell'input dell'utente, libreria finestra di dialogo comune
- Libreria finestra di dialogo comune
- finestre di dialogo comuni
- Trova - finestra di dialogo
- Sostituisci (finestra di dialogo)
- personalizzazione della finestra di dialogo Trova
- personalizzazione della finestra di dialogo Sostituisci
- finestre di dialogo predefinite
- finestre di dialogo, trova
- finestre di dialogo, Sostituisci
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5e3cf2c5217d586c0a5ada74fb7dd72aaca5f804
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/20/2020
ms.locfileid: "104555361"
---
# <a name="find-and-replace-dialog-boxes"></a><span data-ttu-id="63f69-116">Finestre di dialogo Trova e Sostituisci</span><span class="sxs-lookup"><span data-stu-id="63f69-116">Find and Replace Dialog Boxes</span></span>

<span data-ttu-id="63f69-117">Visualizza una finestra di dialogo non modale che consente all'utente di specificare una stringa da ricercare, nonché le opzioni da utilizzare per la ricerca di testo in un documento.</span><span class="sxs-lookup"><span data-stu-id="63f69-117">Displays a modeless dialog box that allows the user to specify a string to search for, as well as options to use when searching for text in a document.</span></span> <span data-ttu-id="63f69-118">La finestra di dialogo **Sostituisci** consente all'utente di specificare una stringa da cercare e una stringa di sostituzione, nonché le opzioni per controllare l'operazione.</span><span class="sxs-lookup"><span data-stu-id="63f69-118">The **Replace** dialog box lets the user specify a string to search for and a replacement string, as well as options to control the operation.</span></span>

<span data-ttu-id="63f69-119">Per creare e visualizzare una finestra di dialogo **trova** , inizializzare una struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) e passare la struttura alla funzione [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) .</span><span class="sxs-lookup"><span data-stu-id="63f69-119">You create and display a **Find** dialog box by initializing a [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure and passing the structure to the [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) function.</span></span> <span data-ttu-id="63f69-120">Nella figura seguente viene illustrata una tipica finestra di dialogo **trova** .</span><span class="sxs-lookup"><span data-stu-id="63f69-120">The following illustration shows a typical **Find** dialog box.</span></span>

![Trova-finestra di dialogo](images/finddialogboxxp.png)

<span data-ttu-id="63f69-122">Per creare e visualizzare una finestra di dialogo **Sostituisci** , inizializzare una struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) e passare la struttura alla funzione [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) .</span><span class="sxs-lookup"><span data-stu-id="63f69-122">You create and display a **Replace** dialog box by initializing a [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure and passing the structure to the [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) function.</span></span> <span data-ttu-id="63f69-123">Nella figura seguente viene illustrata una tipica finestra di dialogo **Sostituisci** .</span><span class="sxs-lookup"><span data-stu-id="63f69-123">The following illustration shows a typical **Replace** dialog box.</span></span>

![Sostituisci finestra di dialogo](images/replacedialogboxxp.png)

<span data-ttu-id="63f69-125">Diversamente dalle altre finestre di dialogo comuni, le finestre di dialogo **trova** e **Sostituisci** non sono modali.</span><span class="sxs-lookup"><span data-stu-id="63f69-125">Unlike other common dialog boxes, the **Find** and **Replace** dialog boxes are modeless.</span></span> <span data-ttu-id="63f69-126">Una finestra di dialogo non modale consente all'utente di passare dalla finestra di dialogo alla finestra che la ha creata.</span><span class="sxs-lookup"><span data-stu-id="63f69-126">A modeless dialog box allows the user to switch between the dialog box and the window that created it.</span></span> <span data-ttu-id="63f69-127">Questa opzione è utile per consentire all'utente di cercare una stringa, passare alla finestra dell'applicazione per lavorare sulla stringa e tornare alla finestra di dialogo per cercare un'altra stringa senza ripetere il comando necessario per aprire la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="63f69-127">This is useful for letting the user search for a string, switch to the application window to work on the string, and switch back to the dialog box to search for another string without repeating the command needed to open the dialog box.</span></span>

<span data-ttu-id="63f69-128">Se la funzione [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) o [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) crea correttamente la finestra di dialogo, viene restituito un handle per la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="63f69-128">If the [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) or [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) function successfully creates the dialog box, it returns a handle to the dialog box.</span></span> <span data-ttu-id="63f69-129">È possibile utilizzare questo handle per lo spostamento e la comunicazione con la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="63f69-129">You can use this handle to move and communicate with the dialog box.</span></span> <span data-ttu-id="63f69-130">Se la funzione non è in grado di creare la finestra di dialogo, restituisce **null**.</span><span class="sxs-lookup"><span data-stu-id="63f69-130">If the function cannot create the dialog box, it returns **NULL**.</span></span> <span data-ttu-id="63f69-131">È possibile determinare la provocazione di un errore chiamando la funzione [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) per recuperare il valore di errore esteso.</span><span class="sxs-lookup"><span data-stu-id="63f69-131">You can determine the cause of an error by calling the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="63f69-132">In questa sezione vengono illustrati gli argomenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="63f69-132">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="63f69-133">Messaggio registrato FINDMSGSTRING</span><span class="sxs-lookup"><span data-stu-id="63f69-133">The FINDMSGSTRING Registered Message</span></span>](#the-findmsgstring-registered-message)
-   [<span data-ttu-id="63f69-134">Personalizzazione della finestra di dialogo Trova o Sostituisci</span><span class="sxs-lookup"><span data-stu-id="63f69-134">Customizing the Find or Replace Dialog Box</span></span>](#customizing-the-find-or-replace-dialog-box)

## <a name="the-findmsgstring-registered-message"></a><span data-ttu-id="63f69-135">Messaggio registrato FINDMSGSTRING</span><span class="sxs-lookup"><span data-stu-id="63f69-135">The FINDMSGSTRING Registered Message</span></span>

<span data-ttu-id="63f69-136">Prima di creare una finestra di dialogo **trova** o **Sostituisci** , è necessario chiamare la funzione [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) per ottenere un identificatore di messaggio per il messaggio [**FINDMSGSTRING**](findmsgstring.md) registrato.</span><span class="sxs-lookup"><span data-stu-id="63f69-136">Before creating a **Find** or **Replace** dialog box, you must call the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function to get a message identifier for the [**FINDMSGSTRING**](findmsgstring.md) registered message.</span></span> <span data-ttu-id="63f69-137">È quindi possibile utilizzare l'identificatore per rilevare ed elaborare i messaggi inviati dalla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="63f69-137">You can then use the identifier to detect and process messages sent from the dialog box.</span></span> <span data-ttu-id="63f69-138">Quando l'utente fa clic sul pulsante **Trova successivo**, **Sostituisci** o **Sostituisci tutto** in una finestra di dialogo, la routine della finestra di dialogo Invia un messaggio **FINDMSGSTRING** alla routine della finestra proprietaria.</span><span class="sxs-lookup"><span data-stu-id="63f69-138">When the user clicks the **Find Next**, **Replace**, or **Replace All** button in a dialog box, the dialog box procedure sends a **FINDMSGSTRING** message to the window procedure of the owner window.</span></span> <span data-ttu-id="63f69-139">Quando si crea la finestra di dialogo, il membro **hwndOwner** della struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) identifica la finestra proprietaria.</span><span class="sxs-lookup"><span data-stu-id="63f69-139">When you create the dialog box, the **hwndOwner** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure identifies the owner window.</span></span>

<span data-ttu-id="63f69-140">Il parametro *lParam* di un messaggio [**FINDMSGSTRING**](findmsgstring.md) è un puntatore alla struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) specificata al momento della creazione della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="63f69-140">The *lParam* parameter of a [**FINDMSGSTRING**](findmsgstring.md) message is a pointer to the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure that you specified when you created the dialog box.</span></span> <span data-ttu-id="63f69-141">Prima di inviare il messaggio, la finestra di dialogo Imposta i membri di questa struttura con l'input dell'utente più recente, inclusa la stringa da cercare, la stringa di sostituzione (se presente) e le opzioni per l'operazione di ricerca e sostituzione.</span><span class="sxs-lookup"><span data-stu-id="63f69-141">Before sending the message, the dialog box sets the members of this structure with the latest user input, including the string to search for, the replacement string (if any), and options for the find-and-replace operation.</span></span>

<span data-ttu-id="63f69-142">In un messaggio [**FINDMSGSTRING**](findmsgstring.md) , il membro **Flags** della struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) include uno dei flag seguenti per indicare l'evento che ha causato il messaggio.</span><span class="sxs-lookup"><span data-stu-id="63f69-142">In a [**FINDMSGSTRING**](findmsgstring.md) message, the **Flags** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure includes one of the following flags to indicate the event that caused the message.</span></span>



| <span data-ttu-id="63f69-143">Contrassegno</span><span class="sxs-lookup"><span data-stu-id="63f69-143">Flag</span></span>               | <span data-ttu-id="63f69-144">Significato</span><span class="sxs-lookup"><span data-stu-id="63f69-144">Meaning</span></span>                                                                                                                                                                                                     |
|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="63f69-145">**FR \_ DIALOGTERM**</span><span class="sxs-lookup"><span data-stu-id="63f69-145">**FR\_DIALOGTERM**</span></span> | <span data-ttu-id="63f69-146">La finestra di dialogo sta per essere chiusa.</span><span class="sxs-lookup"><span data-stu-id="63f69-146">The dialog box is closing.</span></span> <span data-ttu-id="63f69-147">Quando la finestra proprietaria elabora questo messaggio, un handle per la finestra di dialogo non è più valido.</span><span class="sxs-lookup"><span data-stu-id="63f69-147">After the owner window processes this message, a handle to the dialog box is no longer valid.</span></span>                                                                                    |
| <span data-ttu-id="63f69-148">**FR \_ TrovaSuccessivo**</span><span class="sxs-lookup"><span data-stu-id="63f69-148">**FR\_FINDNEXT**</span></span>   | <span data-ttu-id="63f69-149">L'utente ha fatto clic sul pulsante **Trova successivo** in una finestra di dialogo **trova** o **Sostituisci** .</span><span class="sxs-lookup"><span data-stu-id="63f69-149">The user clicked the **Find Next** button in a **Find** or **Replace** dialog box.</span></span> <span data-ttu-id="63f69-150">Il membro **lpstrFindWhat** specifica la stringa da cercare.</span><span class="sxs-lookup"><span data-stu-id="63f69-150">The **lpstrFindWhat** member specifies the string to search for.</span></span>                                                         |
| <span data-ttu-id="63f69-151">**FR \_ Sostituisci**</span><span class="sxs-lookup"><span data-stu-id="63f69-151">**FR\_REPLACE**</span></span>    | <span data-ttu-id="63f69-152">L'utente ha fatto clic sul pulsante **Sostituisci** in una finestra di dialogo **Sostituisci** .</span><span class="sxs-lookup"><span data-stu-id="63f69-152">The user clicked the **Replace** button in a **Replace** dialog box.</span></span> <span data-ttu-id="63f69-153">Il membro **lpstrFindWhat** specifica la stringa da sostituire e il membro **lpstrReplaceWith** specifica la stringa di sostituzione.</span><span class="sxs-lookup"><span data-stu-id="63f69-153">The **lpstrFindWhat** member specifies the string to replace and the **lpstrReplaceWith** member specifies the replacement string.</span></span>     |
| <span data-ttu-id="63f69-154">**FR \_ REPLACEALL**</span><span class="sxs-lookup"><span data-stu-id="63f69-154">**FR\_REPLACEALL**</span></span> | <span data-ttu-id="63f69-155">L'utente ha fatto clic sul pulsante **Sostituisci tutto** in una finestra di dialogo **Sostituisci** .</span><span class="sxs-lookup"><span data-stu-id="63f69-155">The user clicked the **Replace All** button in a **Replace** dialog box.</span></span> <span data-ttu-id="63f69-156">Il membro **lpstrFindWhat** specifica la stringa da sostituire e il membro **lpstrReplaceWith** specifica la stringa di sostituzione.</span><span class="sxs-lookup"><span data-stu-id="63f69-156">The **lpstrFindWhat** member specifies the string to replace and the **lpstrReplaceWith** member specifies the replacement string.</span></span> |



 

<span data-ttu-id="63f69-157">Per un messaggio **Trova successivo** o **Sostituisci tutto** , il membro **Flags** può includere qualsiasi combinazione dei flag seguenti per indicare le opzioni di ricerca.</span><span class="sxs-lookup"><span data-stu-id="63f69-157">For a **Find Next** or **Replace All** message, the **Flags** member can include any combination of the following flags to indicate the search options.</span></span>



| <span data-ttu-id="63f69-158">Contrassegno</span><span class="sxs-lookup"><span data-stu-id="63f69-158">Flag</span></span>              | <span data-ttu-id="63f69-159">Significato</span><span class="sxs-lookup"><span data-stu-id="63f69-159">Meaning</span></span>                                                                                                                                                                                                                                                                                          |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="63f69-160">**FR \_ giù**</span><span class="sxs-lookup"><span data-stu-id="63f69-160">**FR\_DOWN**</span></span>      | <span data-ttu-id="63f69-161">Se impostato, viene selezionato il pulsante **giù** dei pulsanti di opzione direzione, che indica che l'utente desidera eseguire la ricerca dalla posizione corrente fino alla fine del documento.</span><span class="sxs-lookup"><span data-stu-id="63f69-161">If set, the **Down** button of the direction radio buttons is selected, indicating that user wants to search from the current location to the end of the document.</span></span> <span data-ttu-id="63f69-162">Se **fr \_ Down** non è impostato, viene selezionato il pulsante **su** in modo che l'utente desideri eseguire la ricerca all'inizio del documento.</span><span class="sxs-lookup"><span data-stu-id="63f69-162">If **FR\_DOWN** is not set, the **Up** button is selected so the user wants to search to the beginning of the document.</span></span>       |
| <span data-ttu-id="63f69-163">**FR \_ MATCHCASE**</span><span class="sxs-lookup"><span data-stu-id="63f69-163">**FR\_MATCHCASE**</span></span> | <span data-ttu-id="63f69-164">Se impostata, viene selezionata la casella di controllo **maiuscole/minuscole** , che indica che l'utente desidera che la ricerca venga fatta distinzione tra maiuscole e minuscole</span><span class="sxs-lookup"><span data-stu-id="63f69-164">If set, the **Match Case** check box is selected, indicating that the user wants the search to be case sensitive.</span></span> <span data-ttu-id="63f69-165">Se **fr \_ MATCHCASE** non è impostato, la casella di controllo viene deselezionata, in modo che la ricerca non possa fare distinzione tra maiuscole e minuscole.</span><span class="sxs-lookup"><span data-stu-id="63f69-165">If **FR\_MATCHCASE** is not set, the check box is unselected so that the search can be case insensitive.</span></span>                                                                       |
| <span data-ttu-id="63f69-166">**FR \_ WHOLEWORD**</span><span class="sxs-lookup"><span data-stu-id="63f69-166">**FR\_WHOLEWORD**</span></span> | <span data-ttu-id="63f69-167">Se impostata, la casella di controllo trova **solo parola intera** è selezionata, a indicare che l'utente desidera eseguire la ricerca solo di parole intere che corrispondono alla stringa di ricerca.</span><span class="sxs-lookup"><span data-stu-id="63f69-167">If set, the **Match Whole Word Only** check box is selected, indicating that the user wants to search only for whole words that match the search string.</span></span> <span data-ttu-id="63f69-168">Se **fr \_ WHOLEWORD** non è impostato, la casella di controllo è deselezionata, quindi è necessario cercare anche frammenti di parola che corrispondono alla stringa di ricerca.</span><span class="sxs-lookup"><span data-stu-id="63f69-168">If **FR\_WHOLEWORD** is not set, the check box is unselected so you should also search for word fragments that match the search string.</span></span> |



 

## <a name="customizing-the-find-or-replace-dialog-box"></a><span data-ttu-id="63f69-169">Personalizzazione della finestra di dialogo Trova o Sostituisci</span><span class="sxs-lookup"><span data-stu-id="63f69-169">Customizing the Find or Replace Dialog Box</span></span>

<span data-ttu-id="63f69-170">Per personalizzare una finestra di dialogo **trova** o **Sostituisci** , è possibile utilizzare uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="63f69-170">To customize a **Find** or **Replace** dialog box, you can use any of the following methods:</span></span>

-   <span data-ttu-id="63f69-171">Specificare i valori nella struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) quando si crea la finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="63f69-171">Specify values in the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure when you create the dialog box</span></span>
-   <span data-ttu-id="63f69-172">Fornire un modello personalizzato</span><span class="sxs-lookup"><span data-stu-id="63f69-172">Provide a custom template</span></span>
-   <span data-ttu-id="63f69-173">Fornire una routine hook</span><span class="sxs-lookup"><span data-stu-id="63f69-173">Provide a hook procedure</span></span>

<span data-ttu-id="63f69-174">Quando si crea una finestra di dialogo **trova** o **Sostituisci** , è possibile impostare i flag nel membro **Flags** della struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) per nascondere o disabilitare i controlli delle opzioni di ricerca.</span><span class="sxs-lookup"><span data-stu-id="63f69-174">When you create a **Find** or **Replace** dialog box, you can set flags in the **Flags** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure to hide or disable any of the search option controls.</span></span> <span data-ttu-id="63f69-175">Ad esempio, è possibile impostare il \_ flag fr NOMATCHCASE per disabilitare la casella di controllo **maiuscole/minuscole** o impostare il \_ flag fr HIDEMATCHCASE per nasconderlo.</span><span class="sxs-lookup"><span data-stu-id="63f69-175">For example, you can set the FR\_NOMATCHCASE flag to disable the **Match Case** check box or set the FR\_HIDEMATCHCASE flag to hide it.</span></span>

<span data-ttu-id="63f69-176">È possibile specificare un modello personalizzato per una finestra di dialogo **trova** o **Sostituisci** , ad esempio se si desidera includere controlli aggiuntivi che siano univoci per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="63f69-176">You can provide a custom template for a **Find** or **Replace** dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="63f69-177">Le funzioni [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) e [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) usano il modello personalizzato al posto del modello predefinito.</span><span class="sxs-lookup"><span data-stu-id="63f69-177">The [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) and [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) functions use your custom template in place of the default template.</span></span>

<span data-ttu-id="63f69-178">**Per fornire un modello personalizzato per una finestra di dialogo Trova o Sostituisci**</span><span class="sxs-lookup"><span data-stu-id="63f69-178">**To provide a custom template for a Find or Replace dialog box**</span></span>

1.  <span data-ttu-id="63f69-179">Creare il modello personalizzato modificando il modello predefinito specificato nel file FindText. dlg.</span><span class="sxs-lookup"><span data-stu-id="63f69-179">Create the custom template by modifying the default template specified in the Findtext.dlg file.</span></span> <span data-ttu-id="63f69-180">Gli identificatori di controllo utilizzati nel modello di finestra di dialogo **trova** o **Sostituisci** predefinito vengono definiti nel file Dlgs. h.</span><span class="sxs-lookup"><span data-stu-id="63f69-180">The control identifiers used in the default **Find** or **Replace** dialog template are defined in the Dlgs.h file.</span></span>
2.  <span data-ttu-id="63f69-181">Utilizzare la struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) per abilitare il modello nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="63f69-181">Use the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure to enable the template as follows:</span></span>
    -   -   <span data-ttu-id="63f69-182">Se il modello personalizzato è una risorsa in un'applicazione o in una libreria a collegamento dinamico, impostare il \_ flag fr ENABLETEMPLATE nel membro **Flags** .</span><span class="sxs-lookup"><span data-stu-id="63f69-182">If your custom template is a resource in an application or dynamic-link library, set the FR\_ENABLETEMPLATE flag in the **Flags** member.</span></span> <span data-ttu-id="63f69-183">Usare i membri **HINSTANCE** e **lpTemplateName** della struttura per identificare il modulo e il nome della risorsa.</span><span class="sxs-lookup"><span data-stu-id="63f69-183">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>

            <span data-ttu-id="63f69-184">oppure</span><span class="sxs-lookup"><span data-stu-id="63f69-184">-Or-</span></span>

        -   <span data-ttu-id="63f69-185">Se il modello personalizzato è già in memoria, impostare il \_ flag fr ENABLETEMPLATEHANDLE.</span><span class="sxs-lookup"><span data-stu-id="63f69-185">If your custom template is already in memory, set the FR\_ENABLETEMPLATEHANDLE flag.</span></span> <span data-ttu-id="63f69-186">Usare il membro **HINSTANCE** per identificare l'oggetto memoria che contiene il modello.</span><span class="sxs-lookup"><span data-stu-id="63f69-186">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="63f69-187">È possibile specificare una procedura di hook [**FRHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpfrhookproc) per una finestra di dialogo **trova** o **Sostituisci** .</span><span class="sxs-lookup"><span data-stu-id="63f69-187">You can provide an [**FRHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpfrhookproc) hook procedure for a **Find** or **Replace** dialog box.</span></span> <span data-ttu-id="63f69-188">La procedura hook può elaborare i messaggi inviati alla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="63f69-188">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="63f69-189">Se si usa un modello personalizzato per definire controlli aggiuntivi, è necessario fornire una procedura di hook per elaborare l'input per i controlli.</span><span class="sxs-lookup"><span data-stu-id="63f69-189">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

<span data-ttu-id="63f69-190">**Per abilitare una procedura di hook per una finestra di dialogo Trova o Sostituisci**</span><span class="sxs-lookup"><span data-stu-id="63f69-190">**To enable a hook procedure for a Find or Replace dialog box**</span></span>

1.  <span data-ttu-id="63f69-191">Impostare il \_ flag fr ENABLEHOOK nel membro **Flags** della struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) .</span><span class="sxs-lookup"><span data-stu-id="63f69-191">Set the FR\_ENABLEHOOK flag in the **Flags** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure.</span></span>
2.  <span data-ttu-id="63f69-192">Specificare l'indirizzo della routine hook nel membro **lpfnHook** .</span><span class="sxs-lookup"><span data-stu-id="63f69-192">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="63f69-193">Dopo l'elaborazione del messaggio [**WM \_ INITDIALOG**](wm-initdialog.md) , la routine della finestra di dialogo Invia un messaggio **WM \_ INITDIALOG** alla routine hook.</span><span class="sxs-lookup"><span data-stu-id="63f69-193">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="63f69-194">Il parametro *lParam* di questo messaggio è un puntatore alla struttura [**FindReplace**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) utilizzata per inizializzare la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="63f69-194">The *lParam* parameter of this message is a pointer to the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure used to initialize the dialog box.</span></span>

<span data-ttu-id="63f69-195">Se la routine hook restituisce **false** in risposta al messaggio [**WM \_ INITDIALOG**](wm-initdialog.md) , la finestra di dialogo non verrà visualizzata a meno che non venga visualizzata dalla procedura hook.</span><span class="sxs-lookup"><span data-stu-id="63f69-195">If the hook procedure returns **FALSE** in response to the [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box will not be shown unless the hook procedure displays it.</span></span> <span data-ttu-id="63f69-196">A tale scopo, eseguire prima qualsiasi altra operazione di disegno, quindi chiamare le funzioni [**ShowWindow**](/windows/desktop/api/winuser/nf-winuser-showwindow) e [**UpdateWindow**](/windows/desktop/api/winuser/nf-winuser-updatewindow) .</span><span class="sxs-lookup"><span data-stu-id="63f69-196">To do this, first perform any other paint operations, and then call the [**ShowWindow**](/windows/desktop/api/winuser/nf-winuser-showwindow) and [**UpdateWindow**](/windows/desktop/api/winuser/nf-winuser-updatewindow) functions.</span></span> <span data-ttu-id="63f69-197">Nel codice seguente ne viene illustrato un esempio:</span><span class="sxs-lookup"><span data-stu-id="63f69-197">The following code provides an example:</span></span>


```
// We've returned FALSE in response to WM_INITDIALOG. 
// We've performed any other paint operations. 
// Now we display the dialog box. 
ShowWindow(hDlg, SW_SHOWNORMAL); 
UpdateWindow(hDlg); 
```



 

 