---
title: Considerazioni sulla programmazione delle finestre di dialogo
description: In questa panoramica vengono illustrate alcune considerazioni sulla programmazione relative alle finestre di dialogo.
ms.assetid: 49024a0f-ea92-4d56-b063-8e5fcdbd884a
keywords:
- Interfaccia utente di Windows, Windowing
- Interfaccia utente di Windows, finestre di dialogo
- finestre, finestre di dialogo
- finestre di dialogo, informazioni
- routine della finestra di dialogo
- finestre di dialogo, procedure
- Messaggio WM_INITDIALOG
- Messaggio WM_COMMAND
- Messaggio WM_PARENTNOTIFY
- messaggi di colore controllo
- finestre di dialogo, elaborazione dei messaggi
- finestre di dialogo, interfaccia della tastiera
- finestre di dialogo, tasti di scelta
- finestre di dialogo, personalizzate
- finestre di dialogo personalizzate
- finestre di dialogo, impostazioni
ms.topic: article
ms.date: 08/25/2020
ms.openlocfilehash: 790abe7c76cdb99f86b2a90a133b15faae721e0e
ms.sourcegitcommit: f7cf41ffc79d1ffead9de2fc61677201f94b423a
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/26/2020
ms.locfileid: "106300560"
---
# <a name="dialog-box-programming-considerations"></a><span data-ttu-id="1da95-119">Considerazioni sulla programmazione delle finestre di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-119">Dialog Box Programming Considerations</span></span>

<span data-ttu-id="1da95-120">In questa panoramica vengono illustrate alcune considerazioni sulla programmazione relative alle finestre di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-120">This overview discusses some programming considerations concerning dialog boxes.</span></span>

<span data-ttu-id="1da95-121">La panoramica include gli argomenti seguenti.</span><span class="sxs-lookup"><span data-stu-id="1da95-121">The overview includes the following topics.</span></span>

-   [<span data-ttu-id="1da95-122">Routine della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-122">Dialog Box Procedures</span></span>](#dialog-box-procedures)
    -   [<span data-ttu-id="1da95-123">Messaggio WM \_ INITDIALOG</span><span class="sxs-lookup"><span data-stu-id="1da95-123">The WM\_INITDIALOG Message</span></span>](wm-initdialog.md)
    -   [<span data-ttu-id="1da95-124">Messaggio del \_ comando WM</span><span class="sxs-lookup"><span data-stu-id="1da95-124">The WM\_COMMAND Message</span></span>](/windows/desktop/menurc/wm-command)
    -   [<span data-ttu-id="1da95-125">Messaggio WM \_ PARENTNOTIFY</span><span class="sxs-lookup"><span data-stu-id="1da95-125">The WM\_PARENTNOTIFY Message</span></span>](/previous-versions/windows/desktop/inputmsg/wm-parentnotify)
    -   [<span data-ttu-id="1da95-126">Messaggi di colore controllo</span><span class="sxs-lookup"><span data-stu-id="1da95-126">Control-Color Messages</span></span>](#control-color-messages)
    -   [<span data-ttu-id="1da95-127">Elaborazione dei messaggi predefiniti della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-127">Dialog Box Default Message Processing</span></span>](#dialog-box-default-message-processing)
-   [<span data-ttu-id="1da95-128">Interfaccia della tastiera della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-128">Dialog Box Keyboard Interface</span></span>](#dialog-box-keyboard-interface)
    -   [<span data-ttu-id="1da95-129">Stile di WS \_ TABSTOP</span><span class="sxs-lookup"><span data-stu-id="1da95-129">The WS\_TABSTOP Style</span></span>](/windows/desktop/winmsg/window-styles)
    -   [<span data-ttu-id="1da95-130">Stile del \_ gruppo WS</span><span class="sxs-lookup"><span data-stu-id="1da95-130">The WS\_GROUP Style</span></span>](/windows/desktop/winmsg/window-styles)
    -   [<span data-ttu-id="1da95-131">Tasti</span><span class="sxs-lookup"><span data-stu-id="1da95-131">Mnemonics</span></span>](#mnemonics)
-   [<span data-ttu-id="1da95-132">Impostazioni della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-132">Dialog Box Settings</span></span>](#dialog-box-settings)
    -   [<span data-ttu-id="1da95-133">Pulsanti di opzione e caselle di controllo</span><span class="sxs-lookup"><span data-stu-id="1da95-133">Radio Buttons and Check Boxes</span></span>](#radio-buttons-and-check-boxes)
    -   [<span data-ttu-id="1da95-134">Controlli di modifica della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-134">Dialog Box Edit Controls</span></span>](#dialog-box-edit-controls)
    -   [<span data-ttu-id="1da95-135">Caselle di riepilogo, caselle combinate e elenchi di directory</span><span class="sxs-lookup"><span data-stu-id="1da95-135">List Boxes, Combo Boxes, and Directory Listings</span></span>](#list-boxes-combo-boxes-and-directory-listings)
    -   [<span data-ttu-id="1da95-136">Messaggi di controllo della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-136">Dialog Box Control Messages</span></span>](#dialog-box-control-messages)
-   [<span data-ttu-id="1da95-137">Finestre di dialogo personalizzate</span><span class="sxs-lookup"><span data-stu-id="1da95-137">Custom Dialog Boxes</span></span>](#custom-dialog-boxes)

## <a name="dialog-box-procedures"></a><span data-ttu-id="1da95-138">Routine della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-138">Dialog Box Procedures</span></span>

<span data-ttu-id="1da95-139">Una procedura della finestra di dialogo è simile a una procedura della finestra in quanto il sistema invia messaggi alla procedura quando dispone di informazioni da assegnare o attività da eseguire. A differenza di una routine di finestra, una routine della finestra di dialogo non chiama mai la funzione [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="1da95-139">A dialog box procedure is similar to a window procedure in that the system sends messages to the procedure when it has information to give or tasks to carry out. Unlike a window procedure, a dialog box procedure never calls the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="1da95-140">Restituisce invece **true** se elabora un messaggio o **false** in caso contrario.</span><span class="sxs-lookup"><span data-stu-id="1da95-140">Instead, it returns **TRUE** if it processes a message or **FALSE** if it does not.</span></span>

<span data-ttu-id="1da95-141">Ogni routine della finestra di dialogo ha il formato seguente:</span><span class="sxs-lookup"><span data-stu-id="1da95-141">Every dialog box procedure has the following form:</span></span>

```cpp
BOOL CALLBACK DlgProc(HWND hwndDlg, UINT message, WPARAM wParam, LPARAM lParam) 
{ 
    switch (message) 
    { 
 
        // Place message cases here. 
 
        default: 
            return FALSE; 
    } 
}
```

<span data-ttu-id="1da95-142">I parametri della procedura hanno lo stesso scopo di una routine di finestra, con il parametro *hwndDlg* che riceve l'handle della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-142">The procedure parameters serve the same purpose as in a window procedure, with the *hwndDlg* parameter receiving the window handle of the dialog box.</span></span>

<span data-ttu-id="1da95-143">La maggior parte delle routine della finestra di dialogo elabora il messaggio [**WM \_ INITDIALOG**](wm-initdialog.md) e i messaggi di [**\_ comando WM**](/windows/desktop/menurc/wm-command) inviati dai controlli, ma elabora pochi se sono presenti altri messaggi.</span><span class="sxs-lookup"><span data-stu-id="1da95-143">Most dialog box procedures process the [**WM\_INITDIALOG**](wm-initdialog.md) message and the [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages sent by the controls, but process few if any other messages.</span></span> <span data-ttu-id="1da95-144">Se una routine della finestra di dialogo non elabora un messaggio, deve restituire **false** per indicare al sistema di elaborare internamente i messaggi.</span><span class="sxs-lookup"><span data-stu-id="1da95-144">If a dialog box procedure does not process a message, it must return **FALSE** to direct the system to process the messages internally.</span></span> <span data-ttu-id="1da95-145">L'unica eccezione a questa regola è il messaggio **WM \_ INITDIALOG** .</span><span class="sxs-lookup"><span data-stu-id="1da95-145">The only exception to this rule is the **WM\_INITDIALOG** message.</span></span> <span data-ttu-id="1da95-146">La routine della finestra di dialogo deve restituire **true** per indicare al sistema di elaborare ulteriormente il messaggio **WM \_ INITDIALOG** .</span><span class="sxs-lookup"><span data-stu-id="1da95-146">The dialog box procedure must return **TRUE** to direct the system to further process the **WM\_INITDIALOG** message.</span></span> <span data-ttu-id="1da95-147">In ogni caso, la stored procedure non deve chiamare [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="1da95-147">In any case, the procedure must not call [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span>

- [<span data-ttu-id="1da95-148">Messaggio WM \_ INITDIALOG</span><span class="sxs-lookup"><span data-stu-id="1da95-148">The WM\_INITDIALOG Message</span></span>](#the-wm_initdialog-message)
- [<span data-ttu-id="1da95-149">Messaggio del \_ comando WM</span><span class="sxs-lookup"><span data-stu-id="1da95-149">The WM\_COMMAND Message</span></span>](#the-wm_command-message)
- [<span data-ttu-id="1da95-150">Messaggio WM \_ PARENTNOTIFY</span><span class="sxs-lookup"><span data-stu-id="1da95-150">The WM\_PARENTNOTIFY Message</span></span>](#the-wm_parentnotify-message)
- [<span data-ttu-id="1da95-151">Messaggi di colore controllo</span><span class="sxs-lookup"><span data-stu-id="1da95-151">Control-Color Messages</span></span>](#control-color-messages)
- [<span data-ttu-id="1da95-152">Elaborazione dei messaggi predefiniti della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-152">Dialog Box Default Message Processing</span></span>](#dialog-box-default-message-processing)

### <a name="the-wm_initdialog-message"></a><span data-ttu-id="1da95-153">Messaggio WM \_ INITDIALOG</span><span class="sxs-lookup"><span data-stu-id="1da95-153">The WM\_INITDIALOG Message</span></span>

<span data-ttu-id="1da95-154">Il sistema non invia un messaggio [**WM \_ create**](/windows/desktop/winmsg/wm-create) alla routine della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-154">The system does not send a [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) message to the dialog box procedure.</span></span> <span data-ttu-id="1da95-155">Invia invece un messaggio [**WM \_ INITDIALOG**](wm-initdialog.md) quando crea la finestra di dialogo e tutti i relativi controlli, ma prima di visualizzare la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-155">Instead, it sends a [**WM\_INITDIALOG**](wm-initdialog.md) message when it creates the dialog box and all its controls but before it displays the dialog box.</span></span> <span data-ttu-id="1da95-156">La procedura deve eseguire tutte le inizializzazioni necessarie per assicurarsi che nella finestra di dialogo vengano visualizzate le impostazioni correnti associate all'attività.</span><span class="sxs-lookup"><span data-stu-id="1da95-156">The procedure should carry out any initialization required to ensure that the dialog box displays the current settings associated with the task.</span></span> <span data-ttu-id="1da95-157">Ad esempio, quando una finestra di dialogo contiene un controllo per visualizzare l'unità e la directory correnti, la procedura deve determinare l'unità e la directory correnti e impostare il controllo su tale valore.</span><span class="sxs-lookup"><span data-stu-id="1da95-157">For example, when a dialog box contains a control to show the current drive and directory, the procedure must determine the current drive and directory and set the control to that value.</span></span>

<span data-ttu-id="1da95-158">La procedura può inizializzare i controlli usando funzioni quali [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) e [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx).</span><span class="sxs-lookup"><span data-stu-id="1da95-158">The procedure can initialize controls by using functions such as [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) and [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx).</span></span> <span data-ttu-id="1da95-159">Poiché i controlli sono Windows, la procedura può anche manipolarli usando funzioni di gestione della finestra, ad esempio [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) e [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus).</span><span class="sxs-lookup"><span data-stu-id="1da95-159">Because controls are windows, the procedure can also manipulate them by using window-management functions such as [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) and [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus).</span></span> <span data-ttu-id="1da95-160">La procedura può recuperare l'handle della finestra per un controllo tramite la funzione [**GetDlgItem**](/windows/desktop/api/Winuser/nf-winuser-getdlgitem) .</span><span class="sxs-lookup"><span data-stu-id="1da95-160">The procedure can retrieve the window handle to a control by using the [**GetDlgItem**](/windows/desktop/api/Winuser/nf-winuser-getdlgitem) function.</span></span>

<span data-ttu-id="1da95-161">La routine della finestra di dialogo può modificare il contenuto, lo stato e la posizione di qualsiasi controllo in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="1da95-161">The dialog box procedure can change the contents, state, and position of any control as needed.</span></span> <span data-ttu-id="1da95-162">Ad esempio, in una finestra di dialogo che contiene una casella di riepilogo di nomi file e un pulsante **Apri** , la procedura può disabilitare il pulsante **Apri** fino a quando l'utente non seleziona un file dall'elenco.</span><span class="sxs-lookup"><span data-stu-id="1da95-162">For example, in a dialog box that contains a list box of filenames and an **Open** button, the procedure can disable the **Open** button until the user selects a file from the list.</span></span> <span data-ttu-id="1da95-163">In questo esempio, il modello di finestra di dialogo Specifica lo stile [**WS \_ disabled**](/windows/desktop/winmsg/window-styles) per il pulsante **Apri** e il sistema Disabilita automaticamente il pulsante al momento della creazione.</span><span class="sxs-lookup"><span data-stu-id="1da95-163">In this example, the dialog box template specifies the [**WS\_DISABLED**](/windows/desktop/winmsg/window-styles) style for the **Open** button and the system automatically disables the button when creating it.</span></span> <span data-ttu-id="1da95-164">Quando la routine della finestra di dialogo riceve un messaggio di notifica dalla casella di riepilogo che indica che l'utente ha selezionato un file, la procedura chiama la funzione [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) per abilitare il pulsante **Apri** .</span><span class="sxs-lookup"><span data-stu-id="1da95-164">When the dialog box procedure receives a notification message from the list box indicating that the user has selected a file, the procedure calls the [**EnableWindow**](/windows/desktop/api/winuser/nf-winuser-enablewindow) function to enable the **Open** button.</span></span>

<span data-ttu-id="1da95-165">Per visualizzare un'icona personalizzata sulla barra del titolo della finestra di dialogo, il gestore [**WM \_ INITDIALOG**](wm-initdialog.md) può inviare il messaggio di [**\_ icona WM**](/windows/desktop/winmsg/wm-seticon) alla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-165">To display a custom icon on the caption bar of the dialog box, your [**WM\_INITDIALOG**](wm-initdialog.md) handler can send the [**WM\_SETICON**](/windows/desktop/winmsg/wm-seticon) message to the dialog box.</span></span>

<span data-ttu-id="1da95-166">Se l'applicazione crea la finestra di dialogo utilizzando una delle funzioni [**DialogBoxParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxparama), [**DialogBoxIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama), [**CreateDialogParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogparama)o [**CreateDialogIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama), il parametro *lParam* per il messaggio [**WM \_ INITDIALOG**](wm-initdialog.md) contiene il parametro aggiuntivo passato alla funzione.</span><span class="sxs-lookup"><span data-stu-id="1da95-166">If the application creates the dialog box by using one of the functions [**DialogBoxParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxparama), [**DialogBoxIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-dialogboxindirectparama), [**CreateDialogParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogparama), or [**CreateDialogIndirectParam**](/windows/desktop/api/Winuser/nf-winuser-createdialogindirectparama), the *lParam* parameter for the [**WM\_INITDIALOG**](wm-initdialog.md) message contains the extra parameter passed to the function.</span></span> <span data-ttu-id="1da95-167">Le applicazioni utilizzano in genere questo parametro aggiuntivo per passare un puntatore a informazioni di inizializzazione aggiuntive alla routine della finestra di dialogo, ma la routine della finestra di dialogo deve determinare il significato del parametro.</span><span class="sxs-lookup"><span data-stu-id="1da95-167">Applications typically use this extra parameter to pass a pointer to additional initialization information to the dialog box procedure, but the dialog box procedure must determine the meaning of the parameter.</span></span> <span data-ttu-id="1da95-168">Se l'applicazione utilizza un'altra funzione per creare la finestra di dialogo, il parametro *lParam* viene impostato su **null**.</span><span class="sxs-lookup"><span data-stu-id="1da95-168">If the application uses another function to create the dialog box, the system sets the *lParam* parameter to **NULL**.</span></span>

<span data-ttu-id="1da95-169">Prima di restituire il messaggio [**WM \_ INITDIALOG**](wm-initdialog.md) , la procedura deve determinare se è necessario impostare lo stato attivo per l'input su un controllo specificato.</span><span class="sxs-lookup"><span data-stu-id="1da95-169">Before returning from the [**WM\_INITDIALOG**](wm-initdialog.md) message, the procedure should determine whether it should set the input focus to a specified control.</span></span> <span data-ttu-id="1da95-170">Se la routine della finestra di dialogo restituisce **true**, il sistema imposta automaticamente lo stato attivo per l'input sul controllo il cui handle di finestra si trova nel parametro *wParam* .</span><span class="sxs-lookup"><span data-stu-id="1da95-170">If the dialog box procedure returns **TRUE**, the system automatically sets the input focus to the control whose window handle is in the *wParam* parameter.</span></span> <span data-ttu-id="1da95-171">Se il controllo che riceve lo stato attivo predefinito non è appropriato, può impostare lo stato attivo sul controllo appropriato utilizzando la funzione [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus) .</span><span class="sxs-lookup"><span data-stu-id="1da95-171">If the control receiving the default focus is not appropriate, it can set the focus to the appropriate control by using the [**SetFocus**](/windows/desktop/api/winuser/nf-winuser-setfocus) function.</span></span> <span data-ttu-id="1da95-172">Se la procedura imposta lo stato attivo per l'input, deve restituire **false** per impedire che il sistema imposti lo stato attivo predefinito.</span><span class="sxs-lookup"><span data-stu-id="1da95-172">If the procedure sets the input focus, it must return **FALSE** to prevent the system from setting the default focus.</span></span> <span data-ttu-id="1da95-173">Il controllo che riceve lo stato attivo per l'input predefinito è sempre il primo controllo specificato nel modello visibile, non disabilitato e con lo stile [WS \_ TABSTOP](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-173">The control receiving the default input focus is always the first control specified in the template that is visible, not disabled, and has the [WS\_TABSTOP](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="1da95-174">Se non esiste alcun controllo di questo tipo, il sistema imposta lo stato attivo per l'input predefinito sul primo controllo del modello.</span><span class="sxs-lookup"><span data-stu-id="1da95-174">If no such control exists, the system sets the default input focus to the first control in the template.</span></span>

### <a name="the-wm_command-message"></a><span data-ttu-id="1da95-175">Messaggio del \_ comando WM</span><span class="sxs-lookup"><span data-stu-id="1da95-175">The WM\_COMMAND Message</span></span>

<span data-ttu-id="1da95-176">Un controllo può inviare un messaggio di [**\_ comando WM**](/windows/desktop/menurc/wm-command) alla routine della finestra di dialogo quando l'utente esegue un'azione nel controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-176">A control can send a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message to the dialog box procedure when the user carries out an action in the control.</span></span> <span data-ttu-id="1da95-177">Questi messaggi, detti messaggi di notifica, informano la procedura di input dell'utente e consentono di eseguire le risposte appropriate.</span><span class="sxs-lookup"><span data-stu-id="1da95-177">These messages, called notification messages, inform the procedure of user input and permit it to carry out appropriate responses.</span></span>

<span data-ttu-id="1da95-178">Tutti i controlli predefiniti, eccetto i controlli statici, inviano messaggi di notifica per le azioni utente selezionate.</span><span class="sxs-lookup"><span data-stu-id="1da95-178">All predefined controls, except static controls, send notification messages for selected user actions.</span></span> <span data-ttu-id="1da95-179">Ad esempio, un pulsante di push invia il messaggio di notifica [**\_ fatto clic su BN**](../controls/bn-clicked.md) ogni volta che l'utente fa clic sul pulsante.</span><span class="sxs-lookup"><span data-stu-id="1da95-179">For example, a push button sends the [**BN\_CLICKED**](../controls/bn-clicked.md) notification message whenever the user clicks the button.</span></span> <span data-ttu-id="1da95-180">In tutti i casi, la parola più bassa del parametro *wParam* contiene l'identificatore di controllo, la parola più significativa di *wParam* contiene il codice di notifica e il parametro *lParam* contiene l'handle della finestra di controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-180">In all cases, the low-order word of the *wParam* parameter contains the control identifier, the high-order word of *wParam* contains the notification code, and the *lParam* parameter contains the control window handle.</span></span>

<span data-ttu-id="1da95-181">La routine della finestra di dialogo deve monitorare ed elaborare i messaggi di notifica.</span><span class="sxs-lookup"><span data-stu-id="1da95-181">The dialog box procedure should monitor and process notification messages.</span></span> <span data-ttu-id="1da95-182">In particolare, la procedura deve elaborare i messaggi con gli identificatori IDOK o IDCANCEL. questi messaggi rappresentano una richiesta da parte dell'utente di chiudere la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-182">In particular, the procedure must process messages having the IDOK or IDCANCEL identifiers; these messages represent a request by the user to close the dialog box.</span></span> <span data-ttu-id="1da95-183">La procedura deve chiudere la finestra di dialogo utilizzando la funzione [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) per le finestre di dialogo modali e la funzione [**DestroyWindow**](/windows/desktop/api/winuser/nf-winuser-destroywindow) per le finestre di dialogo non modali.</span><span class="sxs-lookup"><span data-stu-id="1da95-183">The procedure should close the dialog box by using the [**EndDialog**](/windows/desktop/api/Winuser/nf-winuser-enddialog) function for modal dialog boxes and the [**DestroyWindow**](/windows/desktop/api/winuser/nf-winuser-destroywindow) function for modeless dialog boxes.</span></span>

<span data-ttu-id="1da95-184">Il sistema invia anche i messaggi di [**\_ comando WM**](/windows/desktop/menurc/wm-command) alla routine della finestra di dialogo se nella finestra di dialogo è presente un menu, ad esempio il menu **finestra** , e l'utente fa clic su una voce di menu.</span><span class="sxs-lookup"><span data-stu-id="1da95-184">The system also sends [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages to the dialog box procedure if the dialog box has a menu, such as the **window** menu, and the user clicks a menu item.</span></span> <span data-ttu-id="1da95-185">In particolare, il sistema invia un messaggio di **\_ comando WM** con il parametro *wParam* impostato su **IDCANCEL** ogni volta che l'utente fa clic su **Chiudi** nel menu finestra della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-185">In particular, the system sends a **WM\_COMMAND** message with the *wParam* parameter set to **IDCANCEL** whenever the user clicks **Close** in the dialog box's window menu.</span></span> <span data-ttu-id="1da95-186">Il messaggio è quasi identico al messaggio di notifica inviato dal pulsante **Annulla** e deve essere elaborato esattamente allo stesso modo.</span><span class="sxs-lookup"><span data-stu-id="1da95-186">The message is nearly identical to the notification message sent by the **Cancel** button and should be processed in exactly the same way.</span></span>

### <a name="the-wm_parentnotify-message"></a><span data-ttu-id="1da95-187">Messaggio WM \_ PARENTNOTIFY</span><span class="sxs-lookup"><span data-stu-id="1da95-187">The WM\_PARENTNOTIFY Message</span></span>

<span data-ttu-id="1da95-188">Un controllo Invia un messaggio [**WM \_ PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) ogni volta che l'utente preme un pulsante del mouse puntando al controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-188">A control sends a [**WM\_PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) message whenever the user presses a mouse button while pointing to the control.</span></span> <span data-ttu-id="1da95-189">Alcune applicazioni interpretano questo messaggio come un segnale per eseguire un'azione correlata al controllo, ad esempio la visualizzazione di una riga di testo che descrive lo scopo del controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-189">Some applications interpret this message as a signal to carry out an action related to the control, such as displaying a line of text describing the purpose of the control.</span></span>

<span data-ttu-id="1da95-190">Il sistema invia anche messaggi [**WM \_ PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) quando crea ed Elimina definitivamente una finestra, ma non per i controlli creati da un modello di finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-190">The system also sends [**WM\_PARENTNOTIFY**](/previous-versions/windows/desktop/inputmsg/wm-parentnotify) messages when it creates and destroys a window, but not for controls created from a dialog box template.</span></span> <span data-ttu-id="1da95-191">Il sistema impedisce questi messaggi specificando lo stile **WS \_ ex \_ NOPARENTNOTIFY** durante la creazione dei controlli.</span><span class="sxs-lookup"><span data-stu-id="1da95-191">The system prevents these messages by specifying the **WS\_EX\_NOPARENTNOTIFY** style when creating the controls.</span></span> <span data-ttu-id="1da95-192">Un'applicazione non può eseguire l'override di questo comportamento predefinito a meno che non crei controlli personalizzati per la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-192">An application cannot override this default behavior unless it creates its own controls for the dialog box.</span></span>

### <a name="control-color-messages"></a><span data-ttu-id="1da95-193">Messaggi di Control-Color</span><span class="sxs-lookup"><span data-stu-id="1da95-193">Control-Color Messages</span></span>

<span data-ttu-id="1da95-194">I controlli e il sistema possono inviare messaggi con colore di controllo quando desiderano che la routine della finestra di dialogo disegni lo sfondo di un controllo o di un'altra finestra utilizzando un pennello e colori specifici.</span><span class="sxs-lookup"><span data-stu-id="1da95-194">Controls and the system can send control-color messages when they want the dialog box procedure to paint the background of a control or other window by using a specific brush and colors.</span></span> <span data-ttu-id="1da95-195">Questa operazione può essere utile quando le applicazioni eseguono l'override dei colori predefiniti utilizzati nelle finestre di dialogo e nei relativi controlli.</span><span class="sxs-lookup"><span data-stu-id="1da95-195">This can be useful when applications override the default colors used in dialog boxes and their controls.</span></span> <span data-ttu-id="1da95-196">Di seguito sono riportati i messaggi a colori del controllo, che hanno sostituito il messaggio **WM \_ CTLCOLOR** .</span><span class="sxs-lookup"><span data-stu-id="1da95-196">Following are the control-color messages, which have replaced the **WM\_CTLCOLOR** message.</span></span>

-   [<span data-ttu-id="1da95-197">**\_CTLCOLORBTN WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-197">**WM\_CTLCOLORBTN**</span></span>](../controls/wm-ctlcolorbtn.md)
-   [<span data-ttu-id="1da95-198">**\_CTLCOLORDLG WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-198">**WM\_CTLCOLORDLG**</span></span>](wm-ctlcolordlg.md)
-   [<span data-ttu-id="1da95-199">**\_CTLCOLOREDIT WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-199">**WM\_CTLCOLOREDIT**</span></span>](../controls/wm-ctlcoloredit.md)
-   [<span data-ttu-id="1da95-200">**\_CTLCOLORLISTBOX WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-200">**WM\_CTLCOLORLISTBOX**</span></span>](../controls/wm-ctlcolorlistbox.md)
-   [<span data-ttu-id="1da95-201">**\_CTLCOLORSCROLLBAR WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-201">**WM\_CTLCOLORSCROLLBAR**</span></span>](../controls/wm-ctlcolorscrollbar.md)
-   [<span data-ttu-id="1da95-202">**\_CTLCOLORSTATIC WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-202">**WM\_CTLCOLORSTATIC**</span></span>](../controls/wm-ctlcolorstatic.md)

<span data-ttu-id="1da95-203">Un controllo Invia un messaggio di colore del controllo alla routine della finestra di dialogo immediatamente prima di disegnare il proprio sfondo.</span><span class="sxs-lookup"><span data-stu-id="1da95-203">A control sends a control-color message to the dialog box procedure just before it paints its own background.</span></span> <span data-ttu-id="1da95-204">Il messaggio consente alla procedura di specificare il pennello da utilizzare e di impostare i colori di sfondo e di primo piano.</span><span class="sxs-lookup"><span data-stu-id="1da95-204">The message allows the procedure to specify which brush to use and to set the background and foreground colors.</span></span> <span data-ttu-id="1da95-205">La stored procedure specifica un pennello restituendo l'handle del pennello.</span><span class="sxs-lookup"><span data-stu-id="1da95-205">The procedure specifies a brush by returning the brush handle.</span></span> <span data-ttu-id="1da95-206">Per impostare i colori di sfondo e di primo piano, la procedura usa le funzioni [**SetBkColor**](/windows/desktop/api/wingdi/nf-wingdi-setbkcolor) e [**SetTextColor**](/windows/desktop/api/wingdi/nf-wingdi-settextcolor) con il contesto del dispositivo di visualizzazione del controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-206">To set the background and foreground colors, the procedure uses the [**SetBkColor**](/windows/desktop/api/wingdi/nf-wingdi-setbkcolor) and [**SetTextColor**](/windows/desktop/api/wingdi/nf-wingdi-settextcolor) functions with the control's display device context.</span></span> <span data-ttu-id="1da95-207">Il messaggio del colore di controllo passa un handle al contesto del dispositivo di visualizzazione alla procedura nel parametro *wParam* del messaggio.</span><span class="sxs-lookup"><span data-stu-id="1da95-207">The control-color message passes a handle to the display device context to the procedure in the message's *wParam* parameter.</span></span>

<span data-ttu-id="1da95-208">Il sistema invia un messaggio [**WM \_ CTLCOLORDLG**](wm-ctlcolordlg.md) alla routine della finestra di dialogo se la procedura non elabora il messaggio [**WM \_ ERASEBKGND**](/windows/desktop/winmsg/wm-erasebkgnd) .</span><span class="sxs-lookup"><span data-stu-id="1da95-208">The system sends a [**WM\_CTLCOLORDLG**](wm-ctlcolordlg.md) message to the dialog box procedure if the procedure does not process the [**WM\_ERASEBKGND**](/windows/desktop/winmsg/wm-erasebkgnd) message.</span></span> <span data-ttu-id="1da95-209">La classe della finestra di dialogo predefinita non dispone di un pennello per lo sfondo della classe, pertanto questo messaggio consente alla routine di definire il proprio sfondo senza dover includere il codice per eseguire il lavoro.</span><span class="sxs-lookup"><span data-stu-id="1da95-209">The predefined dialog box class does not have a class background brush, so this message lets the procedure define its own background without having to include the code to carry out the work.</span></span>

<span data-ttu-id="1da95-210">In ogni caso, quando una routine della finestra di dialogo non elabora un messaggio di colore di controllo, il sistema utilizza un pennello con il colore predefinito della finestra per disegnare lo sfondo per tutti i controlli e le finestre eccetto le barre di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="1da95-210">In any case, when a dialog box procedure does not process a control-color message, the system uses a brush with the default window color to paint the background for all controls and windows except scroll bars.</span></span> <span data-ttu-id="1da95-211">Un'applicazione può recuperare il colore predefinito della finestra passando il valore della **\_ finestra dei colori** alla funzione [**GetSysColor**](/windows/desktop/api/winuser/nf-winuser-getsyscolor) .</span><span class="sxs-lookup"><span data-stu-id="1da95-211">An application can retrieve the default window color by passing the **COLOR\_WINDOW** value to the [**GetSysColor**](/windows/desktop/api/winuser/nf-winuser-getsyscolor) function.</span></span> <span data-ttu-id="1da95-212">Mentre lo sfondo viene disegnato, il colore di primo piano per il contesto del dispositivo di visualizzazione è impostato sul colore del testo predefinito (**colore \_ WINDOWTEXT**).</span><span class="sxs-lookup"><span data-stu-id="1da95-212">While the background is painted, the foreground color for the display device context is set to the default text color (**COLOR\_WINDOWTEXT**).</span></span> <span data-ttu-id="1da95-213">Per le barre di scorrimento, il sistema utilizza un pennello con il colore della barra di scorrimento predefinito (barra di scorrimento dei **colori \_**).</span><span class="sxs-lookup"><span data-stu-id="1da95-213">For scroll bars, the system uses a brush having the default scroll bar color (**COLOR\_SCROLLBAR**).</span></span> <span data-ttu-id="1da95-214">In questo caso, i colori di sfondo e di primo piano per il contesto del dispositivo di visualizzazione sono impostati rispettivamente su bianco e nero.</span><span class="sxs-lookup"><span data-stu-id="1da95-214">In this case, the background and foreground colors for the display device context are set to white and black, respectively.</span></span>

### <a name="dialog-box-default-message-processing"></a><span data-ttu-id="1da95-215">Elaborazione dei messaggi predefiniti della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-215">Dialog Box Default Message Processing</span></span>

<span data-ttu-id="1da95-216">La routine della finestra per la classe della finestra di dialogo predefinita esegue l'elaborazione predefinita per tutti i messaggi che la routine della finestra di dialogo non elabora.</span><span class="sxs-lookup"><span data-stu-id="1da95-216">The window procedure for the predefined dialog box class carries out default processing for all messages that the dialog box procedure does not process.</span></span> <span data-ttu-id="1da95-217">Quando la routine della finestra di dialogo restituisce **false** per qualsiasi messaggio, la routine della finestra predefinita controlla i messaggi ed esegue le azioni predefinite seguenti:</span><span class="sxs-lookup"><span data-stu-id="1da95-217">When the dialog box procedure returns **FALSE** for any message, the predefined window procedure checks the messages and carries out the following default actions:</span></span>



| <span data-ttu-id="1da95-218">Message</span><span class="sxs-lookup"><span data-stu-id="1da95-218">Message</span></span>                                            | <span data-ttu-id="1da95-219">Azione predefinita</span><span class="sxs-lookup"><span data-stu-id="1da95-219">Default action</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
|----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1da95-220">**\_GETDEFID DM**</span><span class="sxs-lookup"><span data-stu-id="1da95-220">**DM\_GETDEFID**</span></span>](dm-getdefid.md)                | <span data-ttu-id="1da95-221">È possibile inviare questo messaggio a una finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-221">You can send this message to a dialog box.</span></span> <span data-ttu-id="1da95-222">La finestra di dialogo restituisce l'identificatore del controllo del pulsante di push predefinito, se la finestra di dialogo ne contiene uno. in caso contrario, restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="1da95-222">The dialog box returns the control identifier of the default push button, if the dialog box has one; otherwise, it returns zero.</span></span>                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="1da95-223">**riposizionamento DM \_**</span><span class="sxs-lookup"><span data-stu-id="1da95-223">**DM\_REPOSITION**</span></span>](dm-reposition.md)            | <span data-ttu-id="1da95-224">È possibile inviare questo messaggio a una finestra di dialogo di primo livello.</span><span class="sxs-lookup"><span data-stu-id="1da95-224">You can send this message to a top-level dialog box.</span></span> <span data-ttu-id="1da95-225">La finestra di dialogo viene riposizionata in modo da rientrare nell'area del desktop.</span><span class="sxs-lookup"><span data-stu-id="1da95-225">The dialog box repositions itself so it fits within the desktop area.</span></span>                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="1da95-226">**\_SETDEFID DM**</span><span class="sxs-lookup"><span data-stu-id="1da95-226">**DM\_SETDEFID**</span></span>](dm-setdefid.md)                | <span data-ttu-id="1da95-227">È possibile inviare questo messaggio a una finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-227">You can send this message to a dialog box.</span></span> <span data-ttu-id="1da95-228">La finestra di dialogo Imposta il pulsante di push predefinito sul controllo specificato dall'identificatore del controllo nel parametro *wParam* .</span><span class="sxs-lookup"><span data-stu-id="1da95-228">The dialog box sets the default push button to the control specified by the control identifier in the *wParam* parameter.</span></span>                                                                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="1da95-229">**\_attivazione WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-229">**WM\_ACTIVATE**</span></span>](/windows/desktop/inputdev/wm-activate)           | <span data-ttu-id="1da95-230">Ripristina lo stato attivo per l'input del controllo identificato dall'handle salvato in precedenza se la finestra di dialogo è attivata.</span><span class="sxs-lookup"><span data-stu-id="1da95-230">Restores the input focus to the control identified by the previously saved handle if the dialog box is activated.</span></span> <span data-ttu-id="1da95-231">In caso contrario, la stored procedure Salva l'handle per il controllo con lo stato attivo per l'input.</span><span class="sxs-lookup"><span data-stu-id="1da95-231">Otherwise, the procedure saves the handle to the control having the input focus.</span></span>                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="1da95-232">**\_CHARTOITEM WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-232">**WM\_CHARTOITEM**</span></span>](../controls/wm-chartoitem.md)         | <span data-ttu-id="1da95-233">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="1da95-233">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="1da95-234">**\_chiusura WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-234">**WM\_CLOSE**</span></span>](/windows/desktop/winmsg/wm-close)                   | <span data-ttu-id="1da95-235">Invia il messaggio di notifica [**\_ fatto clic su BN**](../controls/bn-clicked.md) alla finestra di dialogo, specificando **IDCANCEL** come identificatore del controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-235">Posts the [**BN\_CLICKED**](../controls/bn-clicked.md) notification message to the dialog box, specifying **IDCANCEL** as the control identifier.</span></span> <span data-ttu-id="1da95-236">Se la finestra di dialogo contiene un identificatore di controllo IDCANCEL e il controllo è attualmente disabilitato, la procedura emette un avviso e non invia il messaggio.</span><span class="sxs-lookup"><span data-stu-id="1da95-236">If the dialog box has an IDCANCEL control identifier and the control is currently disabled, the procedure sounds a warning and does not post the message.</span></span>                                                                                                                                                                                              |
| [<span data-ttu-id="1da95-237">**\_COMPAREITEM WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-237">**WM\_COMPAREITEM**</span></span>](../controls/wm-compareitem.md)       | <span data-ttu-id="1da95-238">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="1da95-238">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="1da95-239">**\_ERASEBKGND WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-239">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="1da95-240">Riempie l'area client della finestra di dialogo utilizzando il pennello restituito dal messaggio [**WM \_ CTLCOLORDLG**](wm-ctlcolordlg.md) o con il colore predefinito della finestra.</span><span class="sxs-lookup"><span data-stu-id="1da95-240">Fills the dialog box client area by using either the brush returned from the [**WM\_CTLCOLORDLG**](wm-ctlcolordlg.md) message or with the default window color.</span></span>                                                                                                                                                                                                                                                                                                                                 |
| [<span data-ttu-id="1da95-241">**\_tipo di carattere WM GetFont**</span><span class="sxs-lookup"><span data-stu-id="1da95-241">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="1da95-242">Restituisce un handle per il tipo di carattere della finestra di dialogo definito dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1da95-242">Returns a handle to the application-defined dialog box font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="1da95-243">**\_INITDIALOG WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-243">**WM\_INITDIALOG**</span></span>](wm-initdialog.md)            | <span data-ttu-id="1da95-244">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="1da95-244">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="1da95-245">**\_LBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-245">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="1da95-246">Invia un [**messaggio \_ SHOWDROPDOWN CB**](../controls/cb-showdropdown.md) alla casella combinata con lo stato attivo per l'input, indirizzando il controllo per nascondere la relativa casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="1da95-246">Sends a [**CB\_SHOWDROPDOWN**](../controls/cb-showdropdown.md) message to the combo box having the input focus, directing the control to hide its drop-down list box.</span></span> <span data-ttu-id="1da95-247">La procedura chiama [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per completare l'azione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-247">The procedure calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                      |
| [<span data-ttu-id="1da95-248">**\_NCDESTROY WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-248">**WM\_NCDESTROY**</span></span>](/windows/desktop/winmsg/wm-ncdestroy)           | <span data-ttu-id="1da95-249">Rilascia la memoria globale allocata per i controlli di modifica nella finestra di dialogo (si applica alle finestre di dialogo che specificano lo stile [**DS \_ LOCALEDIT**](dialog-box-styles.md) ) e libera qualsiasi tipo di carattere definito dall'applicazione (si applica alle finestre di dialogo che specificano lo stile DS [**\_ sefont**](dialog-box-styles.md) o [**DS \_ SHELLFONT**](dialog-box-styles.md) ).</span><span class="sxs-lookup"><span data-stu-id="1da95-249">Releases global memory allocated for edit controls in the dialog box (applies to dialog boxes that specify the [**DS\_LOCALEDIT**](dialog-box-styles.md) style) and frees any application-defined font (applies to dialog boxes that specify the [**DS\_SETFONT**](dialog-box-styles.md) or [**DS\_SHELLFONT**](dialog-box-styles.md) style).</span></span> <span data-ttu-id="1da95-250">La procedura chiama la funzione [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per completare l'azione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-250">The procedure calls the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function to complete the default action.</span></span> |
| [<span data-ttu-id="1da95-251">**\_NCLBUTTONDOWN WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-251">**WM\_NCLBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-nclbuttondown) | <span data-ttu-id="1da95-252">Invia un [**messaggio \_ SHOWDROPDOWN CB**](../controls/cb-showdropdown.md) alla casella combinata con lo stato attivo per l'input, indirizzando il controllo per nascondere la relativa casella di riepilogo a discesa.</span><span class="sxs-lookup"><span data-stu-id="1da95-252">Sends a [**CB\_SHOWDROPDOWN**](../controls/cb-showdropdown.md) message to the combo box having the input focus, directing the control to hide its drop-down list box.</span></span> <span data-ttu-id="1da95-253">La procedura chiama [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per completare l'azione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-253">The procedure calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                      |
| [<span data-ttu-id="1da95-254">**\_NEXTDLGCTL WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-254">**WM\_NEXTDLGCTL**</span></span>](wm-nextdlgctl.md)            | <span data-ttu-id="1da95-255">Imposta lo stato attivo per l'input sul controllo successivo o precedente nella finestra di dialogo, sul controllo identificato dall'handle nel parametro *wParam* oppure sul primo controllo nella finestra di dialogo visibile, non disabilitato e con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-255">Sets the input focus to the next or previous control in the dialog box, to the control identified by the handle in the *wParam* parameter, or to the first control in the dialog box that is visible, not disabled, and has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="1da95-256">La procedura ignora questo messaggio se la finestra corrente con lo stato attivo per l'input non è un controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-256">The procedure ignores this message if the current window with the input focus is not a control.</span></span>                                                                                                                  |
| [<span data-ttu-id="1da95-257">**\_stato attivo WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-257">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)           | <span data-ttu-id="1da95-258">Imposta lo stato attivo per l'input sul controllo identificato da un handle della finestra di controllo salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="1da95-258">Sets the input focus to the control identified by a previously saved control window handle.</span></span> <span data-ttu-id="1da95-259">Se non esiste alcun handle di questo tipo, la procedura imposta lo stato attivo per l'input sul primo controllo nel modello di finestra di dialogo visibile, non disabilitato e con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-259">If no such handle exists, the procedure sets the input focus to the first control in the dialog box template that is visible, not disabled, and has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="1da95-260">Se non esiste alcun controllo di questo tipo, la procedura imposta lo stato attivo per l'input sul primo controllo del modello.</span><span class="sxs-lookup"><span data-stu-id="1da95-260">If no such control exists, the procedure sets the input focus to the first control in the template.</span></span>                                                                                          |
| [<span data-ttu-id="1da95-261">**\_ShowWindow WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-261">**WM\_SHOWWINDOW**</span></span>](/windows/desktop/winmsg/wm-showwindow)         | <span data-ttu-id="1da95-262">Salva un handle per il controllo con lo stato attivo per l'input se la finestra di dialogo viene nascosta, quindi chiama [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per completare l'azione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-262">Saves a handle to the control having the input focus if the dialog box is being hidden, then calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="1da95-263">**\_SYSCOMMAND WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-263">**WM\_SYSCOMMAND**</span></span>](/windows/desktop/menurc/wm-syscommand)         | <span data-ttu-id="1da95-264">Salva un handle per il controllo con lo stato attivo per l'input se la finestra di dialogo viene ridotta a icona, quindi chiama [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per completare l'azione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-264">Saves a handle to the control having the input focus if the dialog box is being minimized, then calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) to complete the default action.</span></span>                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="1da95-265">**\_VKEYTOITEM WM**</span><span class="sxs-lookup"><span data-stu-id="1da95-265">**WM\_VKEYTOITEM**</span></span>](../controls/wm-vkeytoitem.md)         | <span data-ttu-id="1da95-266">Restituisce zero.</span><span class="sxs-lookup"><span data-stu-id="1da95-266">Returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |

<span data-ttu-id="1da95-267">La routine della finestra predefinita passa tutti gli altri messaggi a [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per l'elaborazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-267">The predefined window procedure passes all other messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

## <a name="dialog-box-keyboard-interface"></a><span data-ttu-id="1da95-268">Interfaccia della tastiera della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-268">Dialog Box Keyboard Interface</span></span>

<span data-ttu-id="1da95-269">Il sistema fornisce un'interfaccia di tastiera speciale per le finestre di dialogo che esegue un'elaborazione speciale per diverse chiavi.</span><span class="sxs-lookup"><span data-stu-id="1da95-269">The system provides a special keyboard interface for dialog boxes that carries out special processing for several keys.</span></span> <span data-ttu-id="1da95-270">L'interfaccia genera messaggi che corrispondono a determinati pulsanti nella finestra di dialogo o modifica lo stato attivo per l'input da un controllo a un altro.</span><span class="sxs-lookup"><span data-stu-id="1da95-270">The interface generates messages that correspond to certain buttons in the dialog box or changes the input focus from one control to another.</span></span> <span data-ttu-id="1da95-271">Di seguito sono riportate le chiavi usate in questa interfaccia e le rispettive azioni.</span><span class="sxs-lookup"><span data-stu-id="1da95-271">Following are the keys used in this interface and their respective actions.</span></span>


| <span data-ttu-id="1da95-272">Chiave</span><span class="sxs-lookup"><span data-stu-id="1da95-272">Key</span></span>            | <span data-ttu-id="1da95-273">Azione</span><span class="sxs-lookup"><span data-stu-id="1da95-273">Action</span></span>                                                                                                                                                                    |
|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="1da95-274">ALT +*tasto* di scelta</span><span class="sxs-lookup"><span data-stu-id="1da95-274">ALT+*mnemonic*</span></span> | <span data-ttu-id="1da95-275">Sposta lo stato attivo per l'input sul primo controllo (con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) ) dopo il controllo statico contenente il tasto di scelta specificato.</span><span class="sxs-lookup"><span data-stu-id="1da95-275">Moves the input focus to the first control (having the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style) after the static control containing the specified mnemonic.</span></span>        |
| <span data-ttu-id="1da95-276">DOWN</span><span class="sxs-lookup"><span data-stu-id="1da95-276">DOWN</span></span>           | <span data-ttu-id="1da95-277">Sposta lo stato attivo per l'input sul controllo successivo nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-277">Moves the input focus to the next control in the group.</span></span>                                                                                                                   |
| <span data-ttu-id="1da95-278">INVIO</span><span class="sxs-lookup"><span data-stu-id="1da95-278">ENTER</span></span>          | <span data-ttu-id="1da95-279">Invia un messaggio di [**\_ comando WM**](/windows/desktop/menurc/wm-command) alla routine della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-279">Sends a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message to the dialog box procedure.</span></span> <span data-ttu-id="1da95-280">Il parametro *wParam* è impostato su IDOK o sull'identificatore del controllo del pulsante di push predefinito.</span><span class="sxs-lookup"><span data-stu-id="1da95-280">The *wParam* parameter is set to IDOK or control identifier of the default push button.</span></span> |
| <span data-ttu-id="1da95-281">ESC</span><span class="sxs-lookup"><span data-stu-id="1da95-281">ESC</span></span>            | <span data-ttu-id="1da95-282">Invia un messaggio di [**\_ comando WM**](/windows/desktop/menurc/wm-command) alla routine della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-282">Sends a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message to the dialog box procedure.</span></span> <span data-ttu-id="1da95-283">Il parametro *wParam* è impostato su IDCANCEL.</span><span class="sxs-lookup"><span data-stu-id="1da95-283">The *wParam* parameter is set to IDCANCEL.</span></span>                                              |
| <span data-ttu-id="1da95-284">LEFT</span><span class="sxs-lookup"><span data-stu-id="1da95-284">LEFT</span></span>           | <span data-ttu-id="1da95-285">Sposta lo stato attivo per l'input sul controllo precedente nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-285">Moves the input focus to the previous control in the group.</span></span>                                                                                                               |
| <span data-ttu-id="1da95-286">*mnemonico*</span><span class="sxs-lookup"><span data-stu-id="1da95-286">*mnemonic*</span></span>     | <span data-ttu-id="1da95-287">Sposta lo stato attivo per l'input sul primo controllo (con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) ) dopo il controllo statico contenente il tasto di scelta specificato.</span><span class="sxs-lookup"><span data-stu-id="1da95-287">Moves the input focus to the first control (having the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style) after the static control containing the specified mnemonic.</span></span>        |
| <span data-ttu-id="1da95-288">RIGHT</span><span class="sxs-lookup"><span data-stu-id="1da95-288">RIGHT</span></span>          | <span data-ttu-id="1da95-289">Sposta lo stato attivo per l'input sul controllo successivo nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-289">Moves the input focus to the next control in the group.</span></span>                                                                                                                   |
| <span data-ttu-id="1da95-290">MAIUSC+TAB</span><span class="sxs-lookup"><span data-stu-id="1da95-290">SHIFT+TAB</span></span>      | <span data-ttu-id="1da95-291">Sposta lo stato attivo per l'input sul controllo precedente con stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-291">Moves the input focus to the previous control that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span>                                                                |
| <span data-ttu-id="1da95-292">TAB</span><span class="sxs-lookup"><span data-stu-id="1da95-292">TAB</span></span>            | <span data-ttu-id="1da95-293">Sposta lo stato attivo per l'input sul controllo successivo con stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-293">Moves the input focus to the next control that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span>                                                                    |
| <span data-ttu-id="1da95-294">UP</span><span class="sxs-lookup"><span data-stu-id="1da95-294">UP</span></span>             | <span data-ttu-id="1da95-295">Sposta lo stato attivo per l'input sul controllo precedente nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-295">Moves the input focus to the previous control in the group.</span></span>                                                                                                               |

<span data-ttu-id="1da95-296">Il sistema fornisce automaticamente l'interfaccia della tastiera per tutte le finestre di dialogo modali.</span><span class="sxs-lookup"><span data-stu-id="1da95-296">The system automatically provides the keyboard interface for all modal dialog boxes.</span></span> <span data-ttu-id="1da95-297">Non fornisce l'interfaccia per le finestre di dialogo non modali, a meno che l'applicazione non chiami la funzione [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) per filtrare i messaggi nel relativo ciclo di messaggi principale.</span><span class="sxs-lookup"><span data-stu-id="1da95-297">It does not provide the interface for modeless dialog boxes unless the application calls the [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) function to filter messages in its main message loop.</span></span> <span data-ttu-id="1da95-298">Ciò significa che l'applicazione deve passare il messaggio a **IsDialogMessage** subito dopo il recupero del messaggio dalla coda di messaggi.</span><span class="sxs-lookup"><span data-stu-id="1da95-298">This means that the application must pass the message to **IsDialogMessage** immediately after retrieving the message from the message queue.</span></span> <span data-ttu-id="1da95-299">La funzione elabora i messaggi se è per la finestra di dialogo e restituisce un valore diverso da zero per indicare che il messaggio è stato elaborato e non deve essere passato alla funzione [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) o [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) .</span><span class="sxs-lookup"><span data-stu-id="1da95-299">The function processes the messages if it is for the dialog box and returns a nonzero value to indicate that the message has been processed and must not be passed to the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) or [**DispatchMessage**](/windows/desktop/api/winuser/nf-winuser-dispatchmessage) function.</span></span>

<span data-ttu-id="1da95-300">Poiché l'interfaccia della tastiera della finestra di dialogo USA i tasti di direzione per spostarsi tra i controlli in una finestra di dialogo, un'applicazione non può usare queste chiavi per scorrere il contenuto di una finestra di dialogo modale o di qualsiasi finestra di dialogo non modale per cui viene chiamato [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) .</span><span class="sxs-lookup"><span data-stu-id="1da95-300">Because the dialog box keyboard interface uses direction keys to move between controls in a dialog box, an application cannot use these keys to scroll the contents of any modal dialog box or any modeless dialog box for which [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) is called.</span></span> <span data-ttu-id="1da95-301">Quando una finestra di dialogo include barre di scorrimento, l'applicazione deve fornire un'interfaccia di tastiera alternativa per le barre di scorrimento.</span><span class="sxs-lookup"><span data-stu-id="1da95-301">When a dialog box has scroll bars, the application must provide an alternate keyboard interface for the scroll bars.</span></span> <span data-ttu-id="1da95-302">Si noti che l'interfaccia del mouse per lo scorrimento è disponibile quando il sistema include un mouse.</span><span class="sxs-lookup"><span data-stu-id="1da95-302">Note that the mouse interface for scrolling is available when the system includes a mouse.</span></span>

### <a name="the-ws_tabstop-style"></a><span data-ttu-id="1da95-303">Stile di WS \_ TABSTOP</span><span class="sxs-lookup"><span data-stu-id="1da95-303">The WS\_TABSTOP Style</span></span>

<span data-ttu-id="1da95-304">Lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) specifica i controlli che possono essere spostati dall'utente premendo TAB o MAIUSC + TAB.</span><span class="sxs-lookup"><span data-stu-id="1da95-304">The [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style specifies the controls to which the user can move by pressing the TAB key or SHIFT+TAB keys.</span></span>

<span data-ttu-id="1da95-305">Quando l'utente preme TAB o MAIUSC + TAB, il sistema determina innanzitutto se queste chiavi vengono elaborate dal controllo che ha attualmente lo stato attivo per l'input.</span><span class="sxs-lookup"><span data-stu-id="1da95-305">When the user presses TAB or SHIFT+TAB, the system first determines whether these keys are processed by the control that currently has the input focus.</span></span> <span data-ttu-id="1da95-306">Invia il controllo a un messaggio [**WM \_ GETDLGCODE**](wm-getdlgcode.md) e se il controllo restituisce DLGC \_ WANTTAB, il sistema passa le chiavi al controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-306">It sends the control a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message, and if the control returns DLGC\_WANTTAB, the system passes the keys to the control.</span></span> <span data-ttu-id="1da95-307">In caso contrario, il sistema utilizza la funzione [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) per individuare il controllo successivo visibile, non disabilitato e con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-307">Otherwise, the system uses the [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) function to locate the next control that is visible, not disabled, and that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="1da95-308">La ricerca inizia con il controllo che ha attualmente lo stato attivo per l'input e procede nell'ordine in cui sono stati creati i controlli, ovvero l'ordine in cui sono definiti nel modello della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-308">The search starts with the control currently having the input focus and proceeds in the order in which the controls were created—that is, the order in which they are defined in the dialog box template.</span></span> <span data-ttu-id="1da95-309">Quando il sistema individua un controllo con le caratteristiche richieste, il sistema sposta lo stato attivo per l'input.</span><span class="sxs-lookup"><span data-stu-id="1da95-309">When the system locates a control having the required characteristics, the system moves the input focus to it.</span></span>

<span data-ttu-id="1da95-310">Se la ricerca del controllo successivo con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) rileva una finestra con lo stile **WS \_ ex \_ CONTROLPARENT** , il sistema esegue una ricerca ricorsiva negli elementi figlio della finestra.</span><span class="sxs-lookup"><span data-stu-id="1da95-310">If the search for the next control with the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style encounters a window with the **WS\_EX\_CONTROLPARENT** style, the system recursively searches the window's children.</span></span>

<span data-ttu-id="1da95-311">Un'applicazione può anche usare [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) per individuare i controlli con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-311">An application can also use [**GetNextDlgTabItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlgtabitem) to locate controls having the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="1da95-312">La funzione recupera l'handle della finestra del controllo successivo o precedente con lo stile **WS \_ TABSTOP** senza spostare lo stato attivo per l'input.</span><span class="sxs-lookup"><span data-stu-id="1da95-312">The function retrieves the window handle of the next or previous control having the **WS\_TABSTOP** style without moving the input focus.</span></span>

### <a name="the-ws_group-style"></a><span data-ttu-id="1da95-313">Stile del \_ gruppo WS</span><span class="sxs-lookup"><span data-stu-id="1da95-313">The WS\_GROUP Style</span></span>

<span data-ttu-id="1da95-314">Per impostazione predefinita, il sistema sposta lo stato attivo per l'input sul controllo successivo o precedente ogni volta che l'utente preme un tasto di direzione.</span><span class="sxs-lookup"><span data-stu-id="1da95-314">By default, the system moves the input focus to the next or previous control whenever the user presses a direction key.</span></span> <span data-ttu-id="1da95-315">Fino a quando il controllo corrente con lo stato attivo per l'input non elabora queste chiavi e il controllo successivo o precedente non è un controllo statico, il sistema continua a spostare lo stato attivo per l'input attraverso tutti i controlli della finestra di dialogo quando l'utente continua a premere i tasti di direzione.</span><span class="sxs-lookup"><span data-stu-id="1da95-315">As long as the current control with the input focus does not process these keys and the next or previous control is not a static control, the system continues to move the input focus through all controls in the dialog box as the user continues to press the direction keys.</span></span>

<span data-ttu-id="1da95-316">Un'applicazione può utilizzare lo stile del [**\_ gruppo WS**](/windows/desktop/winmsg/window-styles) per modificare questo comportamento predefinito.</span><span class="sxs-lookup"><span data-stu-id="1da95-316">An application can use the [**WS\_GROUP**](/windows/desktop/winmsg/window-styles) style to modify this default behavior.</span></span> <span data-ttu-id="1da95-317">Lo stile contrassegna l'inizio di un gruppo di controlli.</span><span class="sxs-lookup"><span data-stu-id="1da95-317">The style marks the beginning of a group of controls.</span></span> <span data-ttu-id="1da95-318">Se un controllo del gruppo dispone dello stato attivo per l'input quando l'utente inizia a premere i tasti di direzione, lo stato attivo rimane nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-318">If a control in the group has the input focus when the user begins pressing direction keys, the focus remains in the group.</span></span> <span data-ttu-id="1da95-319">In generale, il primo controllo in un gruppo deve avere lo stile del **\_ gruppo WS** e tutti gli altri controlli nel gruppo non devono avere questo stile.</span><span class="sxs-lookup"><span data-stu-id="1da95-319">In general, the first control in a group must have the **WS\_GROUP** style and all other controls in the group must not have this style.</span></span> <span data-ttu-id="1da95-320">Tutti i controlli del gruppo devono essere contigui, ovvero devono essere stati creati consecutivamente senza alcun controllo corrispondente.</span><span class="sxs-lookup"><span data-stu-id="1da95-320">All controls in the group must be contiguous—that is, they must have been created consecutively with no intervening controls.</span></span>

<span data-ttu-id="1da95-321">Quando l'utente preme un tasto di direzione, il sistema determina innanzitutto se il controllo corrente con lo stato attivo per l'input elabora i tasti di direzione.</span><span class="sxs-lookup"><span data-stu-id="1da95-321">When the user presses a direction key, the system first determines whether the current control having the input focus processes the direction keys.</span></span> <span data-ttu-id="1da95-322">Il sistema invia un messaggio [**WM \_ GETDLGCODE**](wm-getdlgcode.md) al controllo e se il controllo restituisce il valore **\_ WANTARROWS di DLGC** , passa la chiave al controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-322">The system sends a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message to the control and if the control returns the **DLGC\_WANTARROWS** value, passes the key to the control.</span></span> <span data-ttu-id="1da95-323">In caso contrario, il sistema utilizza la funzione [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) per determinare il controllo successivo nel gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-323">Otherwise, the system uses the [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) function to determine the next control in the group.</span></span>

<span data-ttu-id="1da95-324">[**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) Cerca i controlli nell'ordine (o nell'ordine inverso) in cui sono stati creati.</span><span class="sxs-lookup"><span data-stu-id="1da95-324">[**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) searches controls in the order (or reverse order) they were created.</span></span> <span data-ttu-id="1da95-325">Se l'utente preme il tasto destro o giù, **GetNextDlgGroupItem** restituisce il controllo successivo se il controllo non ha lo stile del [**\_ gruppo WS**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-325">If the user presses the RIGHT or DOWN key, **GetNextDlgGroupItem** returns the next control if that control does not have the [**WS\_GROUP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="1da95-326">In caso contrario, la funzione inverte l'ordine della ricerca e restituisce il primo controllo con lo stile **del \_ gruppo WS** .</span><span class="sxs-lookup"><span data-stu-id="1da95-326">Otherwise, the function reverses the order of the search and returns the first control that has the **WS\_GROUP** style.</span></span> <span data-ttu-id="1da95-327">Se l'utente preme il tasto sinistro o alto, la funzione restituisce il controllo precedente, a meno che il controllo corrente non disponga già dello stile del **\_ gruppo WS** .</span><span class="sxs-lookup"><span data-stu-id="1da95-327">If the user presses the LEFT or UP key, the function returns the previous control unless the current control already has the **WS\_GROUP** style.</span></span> <span data-ttu-id="1da95-328">Se il controllo corrente presenta questo stile, la funzione inverte l'ordine della ricerca, individua il primo controllo con lo stile del **\_ gruppo WS** e restituisce il controllo che precede immediatamente il controllo individuato.</span><span class="sxs-lookup"><span data-stu-id="1da95-328">If the current control has this style, the function reverses the order of the search, locates the first control having the **WS\_GROUP** style, and returns the control that immediately precedes the located control.</span></span>

<span data-ttu-id="1da95-329">Se la ricerca del controllo successivo nel gruppo rileva una finestra con lo stile **WS \_ ex \_ CONTROLPARENT** , il sistema cerca in modo ricorsivo gli elementi figlio della finestra.</span><span class="sxs-lookup"><span data-stu-id="1da95-329">If the search for the next control in the group encounters a window with the **WS\_EX\_CONTROLPARENT** style, the system recursively searches the window's children.</span></span>

<span data-ttu-id="1da95-330">Quando il sistema dispone del controllo successivo o precedente, invia un messaggio [**WM \_ GETDLGCODE**](wm-getdlgcode.md) al controllo per determinare il tipo di controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-330">After the system has the next or previous control, it sends a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message to the control to determine the control type.</span></span> <span data-ttu-id="1da95-331">Il sistema sposta lo stato attivo per l'input in modo da controllare se non è un controllo statico.</span><span class="sxs-lookup"><span data-stu-id="1da95-331">The system then moves the input focus to control if it is not a static control.</span></span> <span data-ttu-id="1da95-332">Se il controllo è un pulsante di opzione automatico, il sistema invia un messaggio di [**\_ clic BM**](../controls/bm-click.md) .</span><span class="sxs-lookup"><span data-stu-id="1da95-332">If the control is an automatic radio button, the system sends a [**BM\_CLICK**](../controls/bm-click.md) message to it.</span></span> <span data-ttu-id="1da95-333">Un'applicazione può anche usare [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) per individuare i controlli in un gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-333">An application can also use [**GetNextDlgGroupItem**](/windows/desktop/api/Winuser/nf-winuser-getnextdlggroupitem) to locate controls in a group.</span></span>

<span data-ttu-id="1da95-334">In genere, il primo controllo del gruppo combina gli stili [**WS \_ Group**](/windows/desktop/winmsg/window-styles) e [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) in modo che l'utente possa spostarsi da un gruppo a un gruppo utilizzando il tasto TAB.</span><span class="sxs-lookup"><span data-stu-id="1da95-334">Generally, the first control in the group combines the [**WS\_GROUP**](/windows/desktop/winmsg/window-styles) and [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) styles so that the user can move from group to group by using the TAB key.</span></span> <span data-ttu-id="1da95-335">Se il gruppo contiene pulsanti di opzione, l'applicazione deve applicare lo stile **WS \_ TABSTOP** solo al primo controllo del gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-335">If the group contains radio buttons, the application should apply the **WS\_TABSTOP** style only to the first control in the group.</span></span> <span data-ttu-id="1da95-336">Il sistema sposta automaticamente lo stile quando l'utente si sposta tra i controlli del gruppo.</span><span class="sxs-lookup"><span data-stu-id="1da95-336">The system automatically moves the style when the user moves between controls in the group.</span></span> <span data-ttu-id="1da95-337">In questo modo si garantisce che lo stato attivo per l'input sia sempre sul controllo selezionato più di recente quando l'utente passa al gruppo utilizzando il tasto TAB.</span><span class="sxs-lookup"><span data-stu-id="1da95-337">This ensures that the input focus will always be on the most recently selected control when the user moves to the group using the TAB key.</span></span>

### <a name="mnemonics"></a><span data-ttu-id="1da95-338">Tasti</span><span class="sxs-lookup"><span data-stu-id="1da95-338">Mnemonics</span></span>

<span data-ttu-id="1da95-339">Un tasto di scelta è una lettera o una cifra selezionata nell'etichetta di un pulsante o nel testo di un controllo statico.</span><span class="sxs-lookup"><span data-stu-id="1da95-339">A mnemonic is a selected letter or digit in the label of a button or in the text of a static control.</span></span> <span data-ttu-id="1da95-340">Il sistema sposta lo stato attivo per l'input sul controllo associato al tasto di scelta ogni volta che l'utente preme il tasto che corrisponde al tasto di scelta o preme questo tasto e il tasto ALT in combinazione.</span><span class="sxs-lookup"><span data-stu-id="1da95-340">The system moves the input focus to the control associated with the mnemonic whenever the user either presses the key that corresponds to the mnemonic or presses this key and the ALT key in combination.</span></span> <span data-ttu-id="1da95-341">I tasti di scelta consentono all'utente di passare rapidamente a un controllo specificato utilizzando la tastiera.</span><span class="sxs-lookup"><span data-stu-id="1da95-341">Mnemonics provide a quick way for the user to move to a specified control by using the keyboard.</span></span>

<span data-ttu-id="1da95-342">Un'applicazione crea un tasto di scelta per un controllo inserendo la e commerciale (&) immediatamente prima della lettera o della cifra selezionata nell'etichetta o nel testo del controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-342">An application creates a mnemonic for a control by inserting the ampersand (&) immediately before the selected letter or digit in the label or text for the control.</span></span> <span data-ttu-id="1da95-343">Nella maggior parte dei casi, la stringa con terminazione null fornita con il controllo nel modello di finestra di dialogo contiene la e commerciale.</span><span class="sxs-lookup"><span data-stu-id="1da95-343">In most cases, the null-terminated string provided with the control in the dialog box template contains the ampersand.</span></span> <span data-ttu-id="1da95-344">Tuttavia, un'applicazione può creare un tasto di scelta in qualsiasi momento sostituendo l'etichetta o il testo esistente di un controllo tramite la funzione [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) .</span><span class="sxs-lookup"><span data-stu-id="1da95-344">However, an application can create a mnemonic at any time by replacing a control's existing label or text by using the [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) function.</span></span> <span data-ttu-id="1da95-345">Per ogni controllo è possibile specificare solo un tasto di scelta.</span><span class="sxs-lookup"><span data-stu-id="1da95-345">Only one mnemonic can be specified for each control.</span></span> <span data-ttu-id="1da95-346">Sebbene sia consigliabile, i tasti di scelta in una finestra di dialogo non devono essere univoci.</span><span class="sxs-lookup"><span data-stu-id="1da95-346">Although it is recommended, mnemonics in a dialog box need not be unique.</span></span>

<span data-ttu-id="1da95-347">Quando l'utente preme una lettera o un tasto numerico, il sistema determina innanzitutto se il controllo corrente con lo stato attivo per l'input elabora la chiave.</span><span class="sxs-lookup"><span data-stu-id="1da95-347">When the user presses a letter or digit key, the system first determines whether the current control having the input focus processes the key.</span></span> <span data-ttu-id="1da95-348">Il sistema invia un messaggio [**WM \_ GETDLGCODE**](wm-getdlgcode.md) al controllo e, se il controllo restituisce il valore **DLGC \_ WANTALLKEYS** o **DLG \_ WANTMESSAGE** , il sistema passa la chiave al controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-348">The system sends a [**WM\_GETDLGCODE**](wm-getdlgcode.md) message to the control, and if the control returns the **DLGC\_WANTALLKEYS** or **DLG\_WANTMESSAGE** value, the system passes the key to the control.</span></span> <span data-ttu-id="1da95-349">In caso contrario, Cerca un controllo il cui tasto di scelta corrisponde alla lettera o alla cifra specificata.</span><span class="sxs-lookup"><span data-stu-id="1da95-349">Otherwise, it searches for a control whose mnemonic matches the specified letter or digit.</span></span> <span data-ttu-id="1da95-350">Continua la ricerca fino a quando non individua un controllo o ha esaminato tutti i controlli.</span><span class="sxs-lookup"><span data-stu-id="1da95-350">It continues to search until it locates a control or has examined all controls.</span></span> <span data-ttu-id="1da95-351">Durante la ricerca, ignora tutti i controlli statici con stile [**\_ NoPrefix SS**](../controls/static-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="1da95-351">During the search, it skips any static controls that have the [**SS\_NOPREFIX**](../controls/static-control-styles.md) style.</span></span>

<span data-ttu-id="1da95-352">Se la ricerca di un controllo con un tasto di scelta corrispondente rileva una finestra con lo stile **WS \_ ex \_ CONTROLPARENT** , il sistema cerca in modo ricorsivo gli elementi figlio della finestra.</span><span class="sxs-lookup"><span data-stu-id="1da95-352">If the search for a control with a matching mnemonic encounters a window with the **WS\_EX\_CONTROLPARENT** style, the system recursively searches the window's children.</span></span>

<span data-ttu-id="1da95-353">Se il sistema individua un controllo statico e il controllo non è disabilitato, il sistema sposta lo stato attivo per l'input sul primo controllo dopo che il controllo statico è visibile, non disabilitato e con lo stile [**WS \_ TABSTOP**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="1da95-353">If the system locates a static control and the control is not disabled, the system moves the input focus to the first control after the static control that is visible, not disabled, and that has the [**WS\_TABSTOP**](/windows/desktop/winmsg/window-styles) style.</span></span> <span data-ttu-id="1da95-354">Se il sistema individua un altro controllo con un tasto di scelta corrispondente, sposta lo stato attivo per l'input su tale controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-354">If the system locates some other control that has a matching mnemonic, it moves the input focus to that control.</span></span> <span data-ttu-id="1da95-355">Se il controllo è un pulsante di push predefinito, il sistema invia un messaggio di notifica [**\_ fatto clic su BN**](../controls/bn-clicked.md) alla routine della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-355">If the control is a default push button, the system sends a [**BN\_CLICKED**](../controls/bn-clicked.md) notification message to the dialog box procedure.</span></span> <span data-ttu-id="1da95-356">Se il controllo è un altro stile di pulsante e nessun altro controllo nella finestra di dialogo ha lo stesso tasto di scelta, il sistema invia il messaggio di [**\_ clic BM**](../controls/bm-click.md) al controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-356">If the control is another style of button and there is no other control in the dialog box having the same mnemonic, the system sends the [**BM\_CLICK**](../controls/bm-click.md) message to the control.</span></span>

## <a name="dialog-box-settings"></a><span data-ttu-id="1da95-357">Impostazioni della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-357">Dialog Box Settings</span></span>

<span data-ttu-id="1da95-358">Le impostazioni della finestra di dialogo sono le selezioni correnti e i valori per i controlli nella finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-358">The dialog box settings are the current selections and values for the controls in the dialog box.</span></span> <span data-ttu-id="1da95-359">La procedura della finestra di dialogo è responsabile dell'inizializzazione dei controlli per queste impostazioni durante la creazione della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-359">The dialog box procedure is responsible for initializing the controls to these settings when creating the dialog box.</span></span> <span data-ttu-id="1da95-360">È inoltre responsabile del recupero delle impostazioni correnti dai controlli prima dell'eliminazione della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-360">It is also responsible for retrieving the current settings from the controls before destroying the dialog box.</span></span> <span data-ttu-id="1da95-361">I metodi utilizzati per inizializzare e recuperare le impostazioni dipendono dal tipo di controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-361">The methods used to initialize and retrieve settings depend on the type of control.</span></span>

<span data-ttu-id="1da95-362">Per altre informazioni, vedere i seguenti argomenti:</span><span class="sxs-lookup"><span data-stu-id="1da95-362">For more information, see the following topics:</span></span>

-   [<span data-ttu-id="1da95-363">Pulsanti di opzione e caselle di controllo</span><span class="sxs-lookup"><span data-stu-id="1da95-363">Radio Buttons and Check Boxes</span></span>](#radio-buttons-and-check-boxes)
-   [<span data-ttu-id="1da95-364">Controlli di modifica della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-364">Dialog Box Edit Controls</span></span>](#dialog-box-edit-controls)
-   [<span data-ttu-id="1da95-365">Caselle di riepilogo, caselle combinate e elenchi di directory</span><span class="sxs-lookup"><span data-stu-id="1da95-365">List Boxes, Combo Boxes, and Directory Listings</span></span>](#list-boxes-combo-boxes-and-directory-listings)
-   [<span data-ttu-id="1da95-366">Messaggi di controllo della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-366">Dialog Box Control Messages</span></span>](#dialog-box-control-messages)

### <a name="radio-buttons-and-check-boxes"></a><span data-ttu-id="1da95-367">Pulsanti di opzione e caselle di controllo</span><span class="sxs-lookup"><span data-stu-id="1da95-367">Radio Buttons and Check Boxes</span></span>

<span data-ttu-id="1da95-368">Le finestre di dialogo utilizzano pulsanti di opzione e caselle di controllo per consentire all'utente di scegliere da un elenco di opzioni.</span><span class="sxs-lookup"><span data-stu-id="1da95-368">Dialog boxes use radio buttons and check boxes to let the user choose from a list of options.</span></span> <span data-ttu-id="1da95-369">I pulsanti di opzione consentono all'utente di scegliere tra opzioni che si escludono a vicenda. le caselle di controllo consentono all'utente di scegliere una combinazione di opzioni.</span><span class="sxs-lookup"><span data-stu-id="1da95-369">Radio buttons let the user choose from mutually exclusive options; check boxes let the user pick a combination of options.</span></span>

<span data-ttu-id="1da95-370">La routine della finestra di dialogo può impostare lo stato iniziale di una casella di controllo utilizzando la funzione [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx) , che consente di impostare o deselezionare la casella di controllo.</span><span class="sxs-lookup"><span data-stu-id="1da95-370">The dialog box procedure can set the initial state of a check box by using the [**CheckDlgButton**](https://msdn.microsoft.com/library/Cc410649(v=MSDN.10).aspx) function, which sets or clears the check box.</span></span> <span data-ttu-id="1da95-371">Per i pulsanti di opzione in un gruppo di pulsanti di opzione che si escludono a vicenda, la routine della finestra di dialogo può utilizzare la funzione [**CheckRadioButton**](https://msdn.microsoft.com/library/Cc410654(v=MSDN.10).aspx) per impostare il pulsante di opzione appropriato e deselezionare automaticamente qualsiasi altro pulsante di opzione.</span><span class="sxs-lookup"><span data-stu-id="1da95-371">For radio buttons in a group of mutually exclusive radio buttons, the dialog box procedure can use the [**CheckRadioButton**](https://msdn.microsoft.com/library/Cc410654(v=MSDN.10).aspx) function to set the appropriate radio button and automatically clear any other radio button.</span></span>

<span data-ttu-id="1da95-372">Prima che venga terminata una finestra di dialogo, la routine della finestra di dialogo può controllare lo stato di ogni pulsante di opzione e casella di controllo utilizzando la funzione [**IsDlgButtonChecked**](https://msdn.microsoft.com/library/Cc364806(v=MSDN.10).aspx) , che restituisce lo stato corrente del pulsante.</span><span class="sxs-lookup"><span data-stu-id="1da95-372">Before a dialog box terminates, the dialog box procedure can check the state of each radio button and check box by using the [**IsDlgButtonChecked**](https://msdn.microsoft.com/library/Cc364806(v=MSDN.10).aspx) function, which returns the current state of the button.</span></span> <span data-ttu-id="1da95-373">In genere, una finestra di dialogo Salva queste informazioni per inizializzare i pulsanti alla successiva creazione della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-373">A dialog box typically saves this information to initialize the buttons the next time it creates the dialog box.</span></span>

### <a name="dialog-box-edit-controls"></a><span data-ttu-id="1da95-374">Controlli di modifica della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-374">Dialog Box Edit Controls</span></span>

<span data-ttu-id="1da95-375">In molte finestre di dialogo sono presenti controlli di modifica che consentono all'utente di specificare testo come input.</span><span class="sxs-lookup"><span data-stu-id="1da95-375">Many dialog boxes have edit controls that let the user supply text as input.</span></span> <span data-ttu-id="1da95-376">La maggior parte delle routine della finestra di dialogo Inizializza un controllo di modifica all'avvio della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-376">Most dialog box procedures initialize an edit control when the dialog box first starts.</span></span> <span data-ttu-id="1da95-377">Ad esempio, la routine della finestra di dialogo può inserire un nome file proposto nel controllo che l'utente può selezionare, modificare o sostituire.</span><span class="sxs-lookup"><span data-stu-id="1da95-377">For example, the dialog box procedure may place a proposed filename in the control that the user can then select, modify, or replace.</span></span> <span data-ttu-id="1da95-378">La routine della finestra di dialogo può impostare il testo in un controllo di modifica tramite la funzione [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) , che copia il testo da un buffer specificato al controllo di modifica.</span><span class="sxs-lookup"><span data-stu-id="1da95-378">The dialog box procedure can set the text in an edit control by using the [**SetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemtexta) function, which copies text from a specified buffer to the edit control.</span></span> <span data-ttu-id="1da95-379">Quando il controllo di modifica riceve lo stato attivo per l'input, seleziona automaticamente il testo completo per la modifica.</span><span class="sxs-lookup"><span data-stu-id="1da95-379">When the edit control receives the input focus, it automatically selects the complete text for editing.</span></span>

<span data-ttu-id="1da95-380">Poiché i controlli di modifica non restituiscono automaticamente il testo alla finestra di dialogo, la routine della finestra di dialogo deve recuperare il testo prima di terminare.</span><span class="sxs-lookup"><span data-stu-id="1da95-380">Because edit controls do not automatically return their text to the dialog box, the dialog box procedure must retrieve the text before it terminates.</span></span> <span data-ttu-id="1da95-381">Può recuperare il testo usando la funzione [**GetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemtexta) , che copia il testo del controllo di modifica in un buffer.</span><span class="sxs-lookup"><span data-stu-id="1da95-381">It can retrieve the text by using the [**GetDlgItemText**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemtexta) function, which copies the edit control text to a buffer.</span></span> <span data-ttu-id="1da95-382">La routine della finestra di dialogo Salva in genere il testo per inizializzare il controllo di modifica in un secondo momento o lo passa alla finestra padre per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="1da95-382">The dialog box procedure typically saves this text to initialize the edit control later or passes it on to the parent window for processing.</span></span>

<span data-ttu-id="1da95-383">Alcune finestre di dialogo utilizzano i controlli di modifica che consentono all'utente di immettere numeri.</span><span class="sxs-lookup"><span data-stu-id="1da95-383">Some dialog boxes use edit controls that let the user enter numbers.</span></span> <span data-ttu-id="1da95-384">La routine della finestra di dialogo può recuperare un numero da un controllo di modifica usando la funzione [**GetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemint) , che recupera il testo dal controllo di modifica e lo converte in un valore decimale.</span><span class="sxs-lookup"><span data-stu-id="1da95-384">The dialog box procedure can retrieve a number from an edit control by using the [**GetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-getdlgitemint) function, which retrieves the text from the edit control and converts the text to a decimal value.</span></span> <span data-ttu-id="1da95-385">L'utente digita il numero in cifre decimali.</span><span class="sxs-lookup"><span data-stu-id="1da95-385">The user types the number in decimal digits.</span></span> <span data-ttu-id="1da95-386">Può essere con segno o senza segno.</span><span class="sxs-lookup"><span data-stu-id="1da95-386">It can be either signed or unsigned.</span></span> <span data-ttu-id="1da95-387">La routine della finestra di dialogo può visualizzare un numero intero tramite la funzione [**SetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemint) .</span><span class="sxs-lookup"><span data-stu-id="1da95-387">The dialog box procedure can display an integer by using the [**SetDlgItemInt**](/windows/desktop/api/Winuser/nf-winuser-setdlgitemint) function.</span></span> <span data-ttu-id="1da95-388">**SetDlgItemInt** converte un oggetto firmato o Unsigned Integer in una stringa di cifre decimali.</span><span class="sxs-lookup"><span data-stu-id="1da95-388">**SetDlgItemInt** converts a signed or unsigned integer to a string of decimal digits.</span></span>

### <a name="list-boxes-combo-boxes-and-directory-listings"></a><span data-ttu-id="1da95-389">Caselle di riepilogo, caselle combinate e elenchi di directory</span><span class="sxs-lookup"><span data-stu-id="1da95-389">List Boxes, Combo Boxes, and Directory Listings</span></span>

<span data-ttu-id="1da95-390">In alcune finestre di dialogo vengono visualizzati elenchi di nomi da cui l'utente può selezionare uno o più nomi.</span><span class="sxs-lookup"><span data-stu-id="1da95-390">Some dialog boxes display lists of names from which the user can select one or more names.</span></span> <span data-ttu-id="1da95-391">Per visualizzare un elenco di nomi di file, ad esempio, in una finestra di dialogo vengono in genere utilizzate una casella di riepilogo e le funzioni [**DlgDirList**](https://msdn.microsoft.com/library/Cc410788(v=MSDN.10).aspx) e [**DlgDirSelectEx**](https://msdn.microsoft.com/library/Cc410769(v=MSDN.10).aspx) .</span><span class="sxs-lookup"><span data-stu-id="1da95-391">To display a list of filenames, for example, a dialog box typically uses a list box and the [**DlgDirList**](https://msdn.microsoft.com/library/Cc410788(v=MSDN.10).aspx) and [**DlgDirSelectEx**](https://msdn.microsoft.com/library/Cc410769(v=MSDN.10).aspx) functions.</span></span> <span data-ttu-id="1da95-392">La funzione **DlgDirList** riempie automaticamente una casella di riepilogo con i nomi dei file nella directory corrente.</span><span class="sxs-lookup"><span data-stu-id="1da95-392">The **DlgDirList** function automatically fills a list box with the filenames in the current directory.</span></span> <span data-ttu-id="1da95-393">La funzione **DlgDirSelect** Recupera il nome file selezionato dalla casella di riepilogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-393">The **DlgDirSelect** function retrieves the selected filename from the list box.</span></span> <span data-ttu-id="1da95-394">Insieme, queste due funzioni consentono a una finestra di dialogo di visualizzare un elenco di directory, in modo che l'utente possa selezionare un file senza che sia necessario digitarne il nome e il percorso.</span><span class="sxs-lookup"><span data-stu-id="1da95-394">Together, these two functions provide a convenient way for a dialog box to display a directory listing so the user can select a file without having to type its name and location.</span></span>

<span data-ttu-id="1da95-395">Una finestra di dialogo può inoltre utilizzare una casella combinata per visualizzare un elenco di nomi file.</span><span class="sxs-lookup"><span data-stu-id="1da95-395">A dialog box can also use a combo box to display a list of filenames.</span></span> <span data-ttu-id="1da95-396">La funzione [**DlgDirListComboBox**](https://msdn.microsoft.com/library/Cc410798(v=MSDN.10).aspx) riempie automaticamente una parte di casella di riepilogo della casella combinata con i nomi di file nella directory corrente.</span><span class="sxs-lookup"><span data-stu-id="1da95-396">The [**DlgDirListComboBox**](https://msdn.microsoft.com/library/Cc410798(v=MSDN.10).aspx) function automatically fills a list box portion of the combo box with the filenames in the current directory.</span></span> <span data-ttu-id="1da95-397">La funzione [**DlgDirSelectComboBoxEx**](https://msdn.microsoft.com/library/Cc410768(v=MSDN.10).aspx) recupera un nome di file selezionato dalla parte della casella di riepilogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-397">The [**DlgDirSelectComboBoxEx**](https://msdn.microsoft.com/library/Cc410768(v=MSDN.10).aspx) function retrieves a selected filename from the list box portion.</span></span>

### <a name="dialog-box-control-messages"></a><span data-ttu-id="1da95-398">Messaggi di controllo della finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="1da95-398">Dialog Box Control Messages</span></span>

<span data-ttu-id="1da95-399">Molti controlli riconoscono i messaggi predefiniti che, quando ricevuti dai controlli, causano l'esecuzione di un'azione.</span><span class="sxs-lookup"><span data-stu-id="1da95-399">Many controls recognize predefined messages that, when received by controls, cause them to carry out some action.</span></span> <span data-ttu-id="1da95-400">Ad esempio, il [**messaggio \_ di controllo BM**](../controls/bm-setcheck.md) imposta il segno di spunta in una casella di controllo e il messaggio [**\_ GETSEL em**](../controls/em-getsel.md) recupera la parte del testo del controllo attualmente selezionato.</span><span class="sxs-lookup"><span data-stu-id="1da95-400">For example, the [**BM\_SETCHECK**](../controls/bm-setcheck.md) message sets the check in a check box and the [**EM\_GETSEL**](../controls/em-getsel.md) message retrieves the portion of the control's text that is currently selected.</span></span> <span data-ttu-id="1da95-401">I messaggi di controllo consentono a una routine di dialogo di accedere in modo più flessibile ai controlli rispetto alle funzioni standard, quindi vengono spesso utilizzati quando la finestra di dialogo richiede interazioni complesse con l'utente.</span><span class="sxs-lookup"><span data-stu-id="1da95-401">The control messages give a dialog procedure greater and more flexible access to the controls than the standard functions, so they are often used when the dialog box requires complex interactions with the user.</span></span>

<span data-ttu-id="1da95-402">Una routine della finestra di dialogo può inviare un messaggio a un controllo fornendo l'identificatore del controllo e utilizzando la funzione [**SendDlgItemMessage**](/windows/desktop/api/Winuser/nf-winuser-senddlgitemmessagea) , che è identica alla funzione [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) , ad eccezione del fatto che usa un identificatore di controllo anziché un handle di finestra per identificare il controllo che riceverà il messaggio.</span><span class="sxs-lookup"><span data-stu-id="1da95-402">A dialog box procedure can send a message to a control by supplying the control identifier and using the [**SendDlgItemMessage**](/windows/desktop/api/Winuser/nf-winuser-senddlgitemmessagea) function, which is identical to the [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) function, except that it uses a control identifier instead of a window handle to identify the control that is to receive the message.</span></span> <span data-ttu-id="1da95-403">Un messaggio specificato potrebbe richiedere che la routine della finestra di dialogo invii parametri con il messaggio e che il messaggio contenga valori restituiti corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="1da95-403">A specified message may require that the dialog procedure send parameters with the message, and the message may have corresponding return values.</span></span> <span data-ttu-id="1da95-404">L'operazione e i requisiti di ogni messaggio di controllo dipendono dallo scopo del messaggio e dal controllo che lo elabora.</span><span class="sxs-lookup"><span data-stu-id="1da95-404">The operation and requirements of each control message depends on the purpose of the message and the control that processes it.</span></span>

<span data-ttu-id="1da95-405">Per ulteriori informazioni sui messaggi di controllo, vedere [controlli Windows](../controls/window-controls.md).</span><span class="sxs-lookup"><span data-stu-id="1da95-405">For more information about the control messages, see [Windows Controls](../controls/window-controls.md).</span></span>

## <a name="custom-dialog-boxes"></a><span data-ttu-id="1da95-406">Finestre di dialogo personalizzate</span><span class="sxs-lookup"><span data-stu-id="1da95-406">Custom Dialog Boxes</span></span>

<span data-ttu-id="1da95-407">Un'applicazione può creare finestre di dialogo personalizzate utilizzando una classe di finestra definita dall'applicazione per le finestre di dialogo anziché utilizzare la classe della finestra di dialogo predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-407">An application can create custom dialog boxes by using an application-defined window class for the dialog boxes instead of using the predefined dialog box class.</span></span> <span data-ttu-id="1da95-408">Le applicazioni in genere usano questo metodo quando una finestra di dialogo è la finestra principale, ma è utile anche per creare finestre di dialogo modali e non modali per le applicazioni con finestre sovrapposte standard.</span><span class="sxs-lookup"><span data-stu-id="1da95-408">Applications typically use this method when a dialog box is their main window, but it is also useful for creating modal and modeless dialog boxes for applications that have standard overlapping windows.</span></span>

<span data-ttu-id="1da95-409">La classe della finestra definita dall'applicazione consente all'applicazione di definire una procedura di finestra per la finestra di dialogo ed elaborare i messaggi prima di inviarli alla routine della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-409">The application-defined window class allows the application to define a window procedure for the dialog box and process messages before sending them to the dialog box procedure.</span></span> <span data-ttu-id="1da95-410">Consente inoltre all'applicazione di definire un'icona di classe, un pennello per lo sfondo della classe e un menu di classe per la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-410">It also lets the application define a class icon, a class background brush, and a class menu for the dialog box.</span></span> <span data-ttu-id="1da95-411">L'applicazione deve registrare la classe della finestra prima di provare a creare una finestra di dialogo e deve fornire il modello di finestra di dialogo con il valore Atom o il nome della classe di finestra.</span><span class="sxs-lookup"><span data-stu-id="1da95-411">The application must register the window class before attempting to create a dialog box and must provide the dialog box template with the atom value or name of the window class.</span></span>

<span data-ttu-id="1da95-412">Molte applicazioni creano una nuova classe di finestre di dialogo recuperando prima le informazioni sulla classe per la classe della finestra di dialogo predefinita e passandola alla funzione [**GetClassInfo**](/windows/desktop/api/winuser/nf-winuser-getclassinfoa) , che compila una struttura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) con le informazioni.</span><span class="sxs-lookup"><span data-stu-id="1da95-412">Many applications create a new dialog box class by first retrieving the class information for the predefined dialog box class, and passing it to the [**GetClassInfo**](/windows/desktop/api/winuser/nf-winuser-getclassinfoa) function, which fills a [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure with the information.</span></span> <span data-ttu-id="1da95-413">L'applicazione modifica i singoli membri della struttura, ad esempio il nome della classe, il pennello e l'icona, quindi registra la nuova classe tramite la funzione [**registerClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) .</span><span class="sxs-lookup"><span data-stu-id="1da95-413">The application modifies individual members of the structure, such as the class name, brush, and icon, then registers the new class by using the [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="1da95-414">Se un'applicazione compila autonomamente la struttura **WNDCLASS** , deve impostare il membro **cbWndExtra** su **DLGWINDOWEXTRA**, ovvero il numero di byte aggiuntivi richiesti dal sistema per ogni finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-414">If an application fills the **WNDCLASS** structure on its own, it must set the **cbWndExtra** member to the **DLGWINDOWEXTRA**, which is the number of extra bytes the system requires for each dialog box.</span></span> <span data-ttu-id="1da95-415">Se un'applicazione usa anche byte aggiuntivi per ogni finestra di dialogo, questi devono essere oltre i byte aggiuntivi richiesti dal sistema.</span><span class="sxs-lookup"><span data-stu-id="1da95-415">If an application also uses extra bytes for each dialog box, they must be beyond the extra bytes required by the system.</span></span>

<span data-ttu-id="1da95-416">La procedura della finestra per la finestra di dialogo personalizzata presenta gli stessi parametri e requisiti di qualsiasi altra routine della finestra.</span><span class="sxs-lookup"><span data-stu-id="1da95-416">The window procedure for the custom dialog box has the same parameters and requirements as any other window procedure.</span></span> <span data-ttu-id="1da95-417">Diversamente da altre routine della finestra, tuttavia, la routine della finestra per questa finestra di dialogo deve chiamare la funzione [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw) anziché la funzione [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) per tutti i messaggi non elaborati.</span><span class="sxs-lookup"><span data-stu-id="1da95-417">Unlike other window procedures, however, the window procedure for this dialog box should call the [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw) function instead of the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for any messages it does not process.</span></span> <span data-ttu-id="1da95-418">**DefDlgProc** esegue la stessa elaborazione predefinita del messaggio come procedura della finestra di dialogo predefinita, che include la chiamata della routine della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-418">**DefDlgProc** carries out the same default message processing as the window procedure for the predefined dialog box, which includes calling the dialog box procedure.</span></span>

<span data-ttu-id="1da95-419">Un'applicazione può inoltre creare finestre di dialogo personalizzate mediante la creazione di una sottoclasse della routine della finestra di dialogo predefinita.</span><span class="sxs-lookup"><span data-stu-id="1da95-419">An application can also create custom dialog boxes by subclassing the window procedure of the predefined dialog box.</span></span> <span data-ttu-id="1da95-420">La funzione [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) consente a un'applicazione di specificare la routine della finestra per una finestra specificata.</span><span class="sxs-lookup"><span data-stu-id="1da95-420">The [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) function lets an application specify the window procedure for a specified window.</span></span> <span data-ttu-id="1da95-421">L'applicazione può anche tentare di eseguire una sottoclasse usando la funzione [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) , ma questa operazione influisca su tutte le finestre di dialogo del sistema, non solo quelle che appartengono all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="1da95-421">The application may also attempt to subclass by using the [**SetClassLong**](/windows/desktop/api/winuser/nf-winuser-setclasslonga) function, but doing so affects all dialog boxes in the system, not just those belonging to the application.</span></span>

<span data-ttu-id="1da95-422">Le applicazioni che creano finestre di dialogo personalizzate talvolta forniscono un'interfaccia di tastiera alternativa per le finestre di dialogo.</span><span class="sxs-lookup"><span data-stu-id="1da95-422">Applications that create custom dialog boxes sometimes provide an alternate keyboard interface for the dialog boxes.</span></span> <span data-ttu-id="1da95-423">Per le finestre di dialogo non modali, questo può significare che l'applicazione non chiama la funzione [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) e elabora invece tutti gli input da tastiera nella routine della finestra personalizzata.</span><span class="sxs-lookup"><span data-stu-id="1da95-423">For modeless dialog boxes, this may mean the application does not call the [**IsDialogMessage**](/windows/desktop/api/Winuser/nf-winuser-isdialogmessagea) function and instead processes all keyboard input in the custom window procedure.</span></span> <span data-ttu-id="1da95-424">In questi casi, l'applicazione può usare il messaggio [**WM \_ NEXTDLGCTL**](wm-nextdlgctl.md) per ridurre al minimo il codice necessario per spostare lo stato attivo di input da un controllo a un altro.</span><span class="sxs-lookup"><span data-stu-id="1da95-424">In such cases, the application can use the [**WM\_NEXTDLGCTL**](wm-nextdlgctl.md) message to minimize the code needed to move the input focus from one control to another.</span></span> <span data-ttu-id="1da95-425">Questo messaggio, quando viene passato a [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw), sposta lo stato attivo per l'input su un controllo specificato e aggiorna l'aspetto dei controlli, ad esempio spostando il bordo predefinito del pulsante di push o impostando un pulsante di opzione automatico.</span><span class="sxs-lookup"><span data-stu-id="1da95-425">This message, when passed to [**DefDlgProc**](/windows/desktop/api/Winuser/nf-winuser-defdlgprocw), moves the input focus to a specified control and updates the appearance of the controls, such as moving the default push button border or setting an automatic radio button.</span></span>
