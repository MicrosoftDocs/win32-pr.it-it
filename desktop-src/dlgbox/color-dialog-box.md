---
title: Finestra di dialogo Colore
description: Visualizza una finestra di dialogo modale che consente all'utente di scegliere un valore di colore specifico.
ms.assetid: 248586b5-5068-4021-8407-56eb79243789
keywords:
- input utente, libreria finestra di dialogo comune
- acquisizione dell'input dell'utente, libreria finestra di dialogo comune
- Libreria finestra di dialogo comune
- finestre di dialogo comuni
- Finestra di dialogo Colore
- finestra di dialogo colore parziale
- finestra di dialogo colori completi
- personalizzazione della finestra di dialogo colore
- Modello colori RGB
- Modello di colore HSL
- HSL (Hue Saturation luminosità)
- HSL (Hue Saturation luminosità)
- RGB (rosso verde blu)
- blu verde rosso (RGB)
- Hook, finestra di dialogo colore
- finestre di dialogo predefinite
- finestre di dialogo, colore
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4bb90150f49ea7bed4edac53af40ba89e0459946
ms.sourcegitcommit: 56f8e4d5119e5018363fa2dc3472cdff203c6913
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/19/2020
ms.locfileid: "104552351"
---
# <a name="color-dialog-box"></a><span data-ttu-id="daa6a-120">Finestra di dialogo Colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-120">Color Dialog Box</span></span>

<span data-ttu-id="daa6a-121">Visualizza una finestra di dialogo modale che consente all'utente di scegliere un valore di colore specifico.</span><span class="sxs-lookup"><span data-stu-id="daa6a-121">Displays a modal dialog box that allows the user to choose a specific color value.</span></span> <span data-ttu-id="daa6a-122">L'utente può scegliere un colore da un set di tavolozze dei colori di base o personalizzato.</span><span class="sxs-lookup"><span data-stu-id="daa6a-122">The user can choose a color from either a set of basic or custom color palettes.</span></span> <span data-ttu-id="daa6a-123">In alternativa, l'utente può generare un valore di colore modificando i valori di colore RGB o Hue, Saturation, luminosità (HSL) dell'interfaccia utente della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="daa6a-123">Alternatively, the user can generate a color value by modifying the RGB or hue, saturation, luminosity (HSL) color values of the dialog box user interface.</span></span> <span data-ttu-id="daa6a-124">La finestra di dialogo **colore** restituisce il valore RGB del colore selezionato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="daa6a-124">The **Color** dialog box returns the RGB value of the color selected by the user.</span></span>

<span data-ttu-id="daa6a-125">Per creare e visualizzare una finestra di dialogo **colore** , inizializzare una struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) e passare la struttura alla funzione [**le CHOOSECOLOR.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="daa6a-125">You create and display a **Color** dialog box by initializing a [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure and passing the structure to the [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function.</span></span> <span data-ttu-id="daa6a-126">Impostando valori di parametro diversi per la struttura **le CHOOSECOLOR.** , è possibile influire sul modo in cui viene visualizzata la finestra di dialogo colore.</span><span class="sxs-lookup"><span data-stu-id="daa6a-126">By setting different parameter values for the **CHOOSECOLOR** structure, you can affect how the Color dialog box appears.</span></span> <span data-ttu-id="daa6a-127">Ad esempio, è possibile visualizzare una versione completa o parziale dell'interfaccia utente della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="daa6a-127">For example, you can display either a full or partial user interface version of the dialog box.</span></span> <span data-ttu-id="daa6a-128">Nella figura seguente viene illustrata la versione dell'interfaccia utente completa della finestra di dialogo **colore** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-128">The following illustration shows the full user interface version of the **Color** dialog box.</span></span>

![finestra di dialogo dei colori](images/colordialogboxxp.png)

<span data-ttu-id="daa6a-130">Se l'utente fa clic sul pulsante **OK** , [**le CHOOSECOLOR.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) restituisce **true**.</span><span class="sxs-lookup"><span data-stu-id="daa6a-130">If the user clicks the **OK** button, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **TRUE**.</span></span> <span data-ttu-id="daa6a-131">Il membro **rgbResult** della struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) contiene il valore di colore RGB del colore selezionato dall'utente.</span><span class="sxs-lookup"><span data-stu-id="daa6a-131">The **rgbResult** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure contains the RGB color value of the color selected by the user.</span></span> <span data-ttu-id="daa6a-132">Il valore di colore RGB specifica le intensità dei singoli colori rosso, verde e blu che compongono il colore selezionato.</span><span class="sxs-lookup"><span data-stu-id="daa6a-132">The RGB color value specifies the intensities of the individual red, green, and blue colors that make up the selected color.</span></span> <span data-ttu-id="daa6a-133">I singoli valori sono compresi tra 0 e 255.</span><span class="sxs-lookup"><span data-stu-id="daa6a-133">The individual values range from 0 through 255.</span></span> <span data-ttu-id="daa6a-134">Usare le macro [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue)e [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) per estrarre i singoli colori da un valore di colore RGB.</span><span class="sxs-lookup"><span data-stu-id="daa6a-134">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue), and [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) macros to extract individual colors from an RGB color value.</span></span>

<span data-ttu-id="daa6a-135">Se l'utente annulla la finestra di dialogo **colore** o si verifica un errore, [**le CHOOSECOLOR.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) restituisce **false** e il membro **rgbResult** non è definito.</span><span class="sxs-lookup"><span data-stu-id="daa6a-135">If the user cancels the **Color** dialog box or an error occurs, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **FALSE** and the **rgbResult** member is not defined.</span></span> <span data-ttu-id="daa6a-136">Per determinare la cause dell'errore, chiamare la funzione [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) per recuperare il valore di errore esteso.</span><span class="sxs-lookup"><span data-stu-id="daa6a-136">To determine the cause of the error, call the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="daa6a-137">In questa sezione vengono trattati gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="daa6a-137">The following subjects are covered in this section</span></span>

-   [<span data-ttu-id="daa6a-138">Finestre di dialogo colori completi e parziali</span><span class="sxs-lookup"><span data-stu-id="daa6a-138">Full and Partial Color Dialog Boxes</span></span>](#full-and-partial-color-dialog-boxes)
-   [<span data-ttu-id="daa6a-139">Personalizzazione della finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-139">Customizing the Color Dialog Box</span></span>](#customizing-the-color-dialog-box)
    -   [<span data-ttu-id="daa6a-140">Per fornire un modello personalizzato per la finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-140">To provide a custom template for the Color dialog box</span></span>](#to-provide-a-custom-template-for-the-color-dialog-box)
    -   [<span data-ttu-id="daa6a-141">Per abilitare una routine hook per la finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-141">To enable a hook procedure for the Color dialog box</span></span>](#to-enable-a-hook-procedure-for-the-color-dialog-box)
-   [<span data-ttu-id="daa6a-142">Modelli di colore utilizzati dalla finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-142">Color Models Used by the Color Dialog Box</span></span>](#color-models-used-by-the-color-dialog-box)
    -   [<span data-ttu-id="daa6a-143">Modello colori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-143">RGB Color Model</span></span>](#rgb-color-model)
    -   [<span data-ttu-id="daa6a-144">Modello di colore HSL</span><span class="sxs-lookup"><span data-stu-id="daa6a-144">HSL Color Model</span></span>](#hsl-color-model)
    -   [<span data-ttu-id="daa6a-145">Conversione dei valori HSL in valori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-145">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

## <a name="full-and-partial-color-dialog-boxes"></a><span data-ttu-id="daa6a-146">Finestre di dialogo colori completi e parziali</span><span class="sxs-lookup"><span data-stu-id="daa6a-146">Full and Partial Color Dialog Boxes</span></span>

<span data-ttu-id="daa6a-147">Nella finestra di dialogo colore sono presenti una versione completa e una versione parziale dell'interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="daa6a-147">The Color dialog box has a full version and a partial version of the user interface.</span></span> <span data-ttu-id="daa6a-148">La versione completa include i controlli di base e dispone di controlli aggiuntivi che consentono all'utente di creare colori personalizzati.</span><span class="sxs-lookup"><span data-stu-id="daa6a-148">The full version includes the basic controls and has additional controls that allow the user to create custom colors.</span></span> <span data-ttu-id="daa6a-149">La versione parziale include controlli che visualizzano le tavolozze dei colori di base e personalizzate da cui l'utente può selezionare un valore di colore.</span><span class="sxs-lookup"><span data-stu-id="daa6a-149">The partial version has controls that display the basic and custom color palettes from which the user can select a color value.</span></span>

<span data-ttu-id="daa6a-150">La versione parziale della finestra di dialogo colore include un pulsante **Definisci colori personalizzati** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-150">The partial version of the Color dialog box includes a **Define Custom Colors** button.</span></span> <span data-ttu-id="daa6a-151">L'utente può fare clic su questo pulsante per visualizzare la versione completa.</span><span class="sxs-lookup"><span data-stu-id="daa6a-151">The user can click this button to display the full version.</span></span> <span data-ttu-id="daa6a-152">È possibile indicare alla finestra di dialogo colore di visualizzare sempre la versione completa impostando il flag **\_ FULLOPEN CC** nel membro **Flags** della struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="daa6a-152">You can direct the Color dialog box to always display the full version by setting the **CC\_FULLOPEN** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="daa6a-153">Per impedire all'utente di creare colori personalizzati, è possibile impostare il **flag \_ PREVENTFULLOPEN di CC** per disabilitare il pulsante **Definisci colori personalizzati** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-153">To prevent the user from creating custom colors, you can set the **CC\_PREVENTFULLOPEN** flag to disable the **Define Custom Colors** button.</span></span>

<span data-ttu-id="daa6a-154">I colori di base rappresentano una selezione dei colori disponibili nel dispositivo specificato.</span><span class="sxs-lookup"><span data-stu-id="daa6a-154">The basic colors represent a selection of the colors available on the specified device.</span></span> <span data-ttu-id="daa6a-155">Il numero effettivo di colori visualizzato è determinato dal driver di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="daa6a-155">The actual number of colors displayed is determined by the display driver.</span></span> <span data-ttu-id="daa6a-156">Ad esempio, un driver VGA Visualizza 48 colori e un driver di visualizzazione monocromatico Visualizza solo 16.</span><span class="sxs-lookup"><span data-stu-id="daa6a-156">For example, a VGA driver displays 48 colors, and a monochrome display driver displays only 16.</span></span>

<span data-ttu-id="daa6a-157">I colori personalizzati sono quelli specificati dall'utente o creati dall'utente.</span><span class="sxs-lookup"><span data-stu-id="daa6a-157">The custom colors are those that you specify or that the user creates.</span></span> <span data-ttu-id="daa6a-158">Quando si crea una finestra di dialogo colore, è necessario usare il membro **lpCustColors** della struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) per specificare i valori iniziali per i 16 colori personalizzati.</span><span class="sxs-lookup"><span data-stu-id="daa6a-158">When you create a Color dialog box, you must use the **lpCustColors** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to specify the initial values for the 16 custom colors.</span></span> <span data-ttu-id="daa6a-159">Se la versione completa della finestra di dialogo colore è aperta, l'utente può creare un colore personalizzato per uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="daa6a-159">If the full version of the Color dialog box is open, the user can create a custom color by one the following methods:</span></span>

-   <span data-ttu-id="daa6a-160">Spostare il cursore nel controllo dello spettro dei colori e nel controllo della diapositiva di luminosità</span><span class="sxs-lookup"><span data-stu-id="daa6a-160">Moving the cursor in the color spectrum control and the luminosity slide control</span></span>
-   <span data-ttu-id="daa6a-161">Digitazione di valori RGB nei controlli di modifica **rosso**, **verde** e **blu**</span><span class="sxs-lookup"><span data-stu-id="daa6a-161">Typing RGB values in the **Red**, **Green**, and **Blue** edit controls</span></span>
-   <span data-ttu-id="daa6a-162">Digitazione di valori HSL nei controlli di modifica **Hue**, **Sat** e **Lum**</span><span class="sxs-lookup"><span data-stu-id="daa6a-162">Typing HSL values in the **Hue**, **Sat**, and **Lum** edit controls</span></span>

<span data-ttu-id="daa6a-163">Per aggiungere un nuovo colore personalizzato alla visualizzazione colori personalizzati, l'utente può fare clic sul pulsante **Aggiungi a colori personalizzati** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-163">To add a new custom color to the custom colors display, the user can click the **Add to Custom Colors** button.</span></span> <span data-ttu-id="daa6a-164">In questo modo, la finestra di dialogo Copia il valore RGB del nuovo colore nell'elemento corrispondente nella matrice a cui punta il membro **lpCustColors** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-164">This also causes the dialog box to copy the RGB value of the new color to the corresponding element in the array pointed to by the **lpCustColors** member.</span></span> <span data-ttu-id="daa6a-165">Per mantenere i nuovi colori personalizzati tra le chiamate a [**le CHOOSECOLOR.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)), è necessario allocare memoria statica per la matrice.</span><span class="sxs-lookup"><span data-stu-id="daa6a-165">To preserve new custom colors between calls to [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)), you should allocate static memory for the array.</span></span> <span data-ttu-id="daa6a-166">Per ulteriori informazioni sui modelli di colore RGB e HSL, vedere [modelli di colore utilizzati dalla finestra di dialogo colore](#color-models-used-by-the-color-dialog-box).</span><span class="sxs-lookup"><span data-stu-id="daa6a-166">For more information about the RGB and HSL color models, see [Color Models Used by the Color Dialog Box](#color-models-used-by-the-color-dialog-box).</span></span>

## <a name="customizing-the-color-dialog-box"></a><span data-ttu-id="daa6a-167">Personalizzazione della finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-167">Customizing the Color Dialog Box</span></span>

<span data-ttu-id="daa6a-168">Per personalizzare una finestra di dialogo colore, è possibile utilizzare uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="daa6a-168">To customize a Color dialog box, you can use any of the following methods:</span></span>

-   <span data-ttu-id="daa6a-169">Specificare i valori nella struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) quando si crea la finestra di dialogo</span><span class="sxs-lookup"><span data-stu-id="daa6a-169">Specify values in the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure when you create the dialog box</span></span>
-   <span data-ttu-id="daa6a-170">Fornire un modello personalizzato</span><span class="sxs-lookup"><span data-stu-id="daa6a-170">Provide a custom template</span></span>
-   <span data-ttu-id="daa6a-171">Fornire una routine hook</span><span class="sxs-lookup"><span data-stu-id="daa6a-171">Provide a hook procedure</span></span>

<span data-ttu-id="daa6a-172">È possibile modificare l'aspetto e il comportamento della finestra di dialogo colore impostando i flag nel membro **Flags** della struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="daa6a-172">You can modify the appearance and behavior of the Color dialog box by setting flags in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="daa6a-173">Ad esempio, è possibile impostare il flag **CC \_ SolidColor** per indicare alla finestra di dialogo di visualizzare solo i colori a tinta unita.</span><span class="sxs-lookup"><span data-stu-id="daa6a-173">For example, you can set the **CC\_SOLIDCOLOR** flag to direct the dialog box to display only solid colors.</span></span> <span data-ttu-id="daa6a-174">Per fare in modo che la finestra di dialogo selezioni inizialmente un colore diverso da nero, impostare il flag **\_ RGBINIT CC** e specificare un colore nel membro **rgbResult** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-174">To cause the dialog box to initially select a color other than black, set the **CC\_RGBINIT** flag and specify a color in the **rgbResult** member.</span></span>

<span data-ttu-id="daa6a-175">È possibile specificare un modello personalizzato per la finestra di dialogo colore, ad esempio se si desidera includere controlli aggiuntivi che siano univoci per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="daa6a-175">You can provide a custom template for the Color dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="daa6a-176">La funzione [**le CHOOSECOLOR.**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) usa il modello personalizzato al posto del modello predefinito.</span><span class="sxs-lookup"><span data-stu-id="daa6a-176">The [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function uses your custom template in place of the default template.</span></span>

### <a name="to-provide-a-custom-template-for-the-color-dialog-box"></a><span data-ttu-id="daa6a-177">Per fornire un modello personalizzato per la finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-177">To provide a custom template for the Color dialog box</span></span>

1.  <span data-ttu-id="daa6a-178">Creare il modello personalizzato modificando il modello predefinito specificato nel file color. dlg.</span><span class="sxs-lookup"><span data-stu-id="daa6a-178">Create the custom template by modifying the default template specified in the Color.dlg file.</span></span> <span data-ttu-id="daa6a-179">Gli identificatori di controllo utilizzati nel modello di finestra di dialogo colore predefinito vengono definiti nel file color. dlg.</span><span class="sxs-lookup"><span data-stu-id="daa6a-179">The control identifiers used in the default Color dialog template are defined in the Color.dlg file.</span></span>
2.  <span data-ttu-id="daa6a-180">Utilizzare la struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) per abilitare il modello nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="daa6a-180">Use the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="daa6a-181">Se il modello personalizzato è una risorsa in un'applicazione o in una libreria a collegamento dinamico, impostare il flag **\_ ENABLETEMPLATE CC** nel membro **Flags** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-181">If your custom template is a resource in an application or dynamic link library, set the **CC\_ENABLETEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="daa6a-182">Usare i membri **HINSTANCE** e **lpTemplateName** della struttura per identificare il modulo e il nome della risorsa.</span><span class="sxs-lookup"><span data-stu-id="daa6a-182">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>

        <span data-ttu-id="daa6a-183">oppure</span><span class="sxs-lookup"><span data-stu-id="daa6a-183">-Or-</span></span>

    -   <span data-ttu-id="daa6a-184">Se il modello personalizzato è già in memoria, impostare il flag **CC \_ ENABLETEMPLATEHANDLE** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-184">If your custom template is already in memory, set the **CC\_ENABLETEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="daa6a-185">Usare il membro **HINSTANCE** per identificare l'oggetto memoria che contiene il modello.</span><span class="sxs-lookup"><span data-stu-id="daa6a-185">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="daa6a-186">È possibile specificare una procedura di hook [**CCHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) per la finestra di dialogo colore.</span><span class="sxs-lookup"><span data-stu-id="daa6a-186">You can provide a [**CCHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) hook procedure for the Color dialog box.</span></span> <span data-ttu-id="daa6a-187">La procedura hook può elaborare i messaggi inviati alla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="daa6a-187">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="daa6a-188">Può inoltre utilizzare i messaggi registrati per controllare il comportamento della finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="daa6a-188">It can also use registered messages to control the behavior of the dialog box.</span></span> <span data-ttu-id="daa6a-189">Se si usa un modello personalizzato per definire controlli aggiuntivi, è necessario fornire una procedura di hook per elaborare l'input per i controlli.</span><span class="sxs-lookup"><span data-stu-id="daa6a-189">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

### <a name="to-enable-a-hook-procedure-for-the-color-dialog-box"></a><span data-ttu-id="daa6a-190">Per abilitare una routine hook per la finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-190">To enable a hook procedure for the Color dialog box</span></span>

1.  <span data-ttu-id="daa6a-191">Impostare il **flag \_ ENABLEHOOK CC** nel membro **Flags** della struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="daa6a-191">Set the **CC\_ENABLEHOOK** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span>
2.  <span data-ttu-id="daa6a-192">Specificare l'indirizzo della routine hook nel membro **lpfnHook** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-192">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="daa6a-193">Dopo l'elaborazione del messaggio [**WM \_ INITDIALOG**](wm-initdialog.md) , la routine della finestra di dialogo Invia un messaggio **WM \_ INITDIALOG** alla routine hook.</span><span class="sxs-lookup"><span data-stu-id="daa6a-193">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="daa6a-194">Il parametro *lParam* di questo messaggio è un puntatore alla struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) utilizzata per inizializzare la finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="daa6a-194">The *lParam* parameter of this message is a pointer to the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure used to initialize the dialog box.</span></span>

<span data-ttu-id="daa6a-195">La finestra di dialogo Invia il messaggio registrato [**COLOROKSTRING**](colorokstring.md) alla procedura hook quando l'utente fa clic sul pulsante **OK** .</span><span class="sxs-lookup"><span data-stu-id="daa6a-195">The dialog box sends the [**COLOROKSTRING**](colorokstring.md) registered message to the hook procedure when the user clicks the **OK** button.</span></span> <span data-ttu-id="daa6a-196">La routine hook può rifiutare il colore selezionato e forzare la finestra di dialogo in modo che rimanga aperta restituendo zero quando riceve il messaggio.</span><span class="sxs-lookup"><span data-stu-id="daa6a-196">The hook procedure can reject the selected color and force the dialog box to remain open by returning zero when it receives this message.</span></span> <span data-ttu-id="daa6a-197">La procedura hook consente di forzare la finestra di dialogo per selezionare un colore specifico inviando il messaggio registrato [**SETRGBSTRING**](setrgbstring.md) alla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="daa6a-197">The hook procedure can force the dialog box to select a particular color by sending the [**SETRGBSTRING**](setrgbstring.md) registered message to the dialog box.</span></span> <span data-ttu-id="daa6a-198">Per usare questi messaggi registrati, è necessario passare le costanti **COLOROKSTRING** e **SETRGBSTRING** alla funzione [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) per ottenere un identificatore di messaggio.</span><span class="sxs-lookup"><span data-stu-id="daa6a-198">To use these registered messages, you must pass the **COLOROKSTRING** and **SETRGBSTRING** constants to the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function to get a message identifier.</span></span> <span data-ttu-id="daa6a-199">È quindi possibile utilizzare l'identificatore per rilevare ed elaborare i messaggi inviati dalla finestra di dialogo o per inviare messaggi alla finestra di dialogo.</span><span class="sxs-lookup"><span data-stu-id="daa6a-199">You can then use the identifier to detect and process messages sent from the dialog box, or to send messages to the dialog box.</span></span>

## <a name="color-models-used-by-the-color-dialog-box"></a><span data-ttu-id="daa6a-200">Modelli di colore utilizzati dalla finestra di dialogo colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-200">Color Models Used by the Color Dialog Box</span></span>

<span data-ttu-id="daa6a-201">L'estensione colori personalizzati della finestra di dialogo colore consente all'utente di specificare un colore utilizzando i valori RGB o HSL.</span><span class="sxs-lookup"><span data-stu-id="daa6a-201">The custom colors extension of the Color dialog box allows the user to specify a color using RGB or HSL values.</span></span> <span data-ttu-id="daa6a-202">Tuttavia, la struttura [**le CHOOSECOLOR.**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) utilizza solo valori RGB per segnalare i colori creati o selezionati dall'utente.</span><span class="sxs-lookup"><span data-stu-id="daa6a-202">However, the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure uses only RGB values to report the colors created or selected by the user.</span></span>

-   [<span data-ttu-id="daa6a-203">Modello colori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-203">RGB Color Model</span></span>](#rgb-color-model)
-   [<span data-ttu-id="daa6a-204">Modello di colore HSL</span><span class="sxs-lookup"><span data-stu-id="daa6a-204">HSL Color Model</span></span>](#hsl-color-model)
-   [<span data-ttu-id="daa6a-205">Conversione dei valori HSL in valori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-205">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

### <a name="rgb-color-model"></a><span data-ttu-id="daa6a-206">Modello colori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-206">RGB Color Model</span></span>

<span data-ttu-id="daa6a-207">Il modello RGB viene usato per definire i colori per le visualizzazioni e altri dispositivi che emettono luce.</span><span class="sxs-lookup"><span data-stu-id="daa6a-207">The RGB model is used to designate colors for displays and other devices that emit light.</span></span> <span data-ttu-id="daa6a-208">I valori di rosso, verde e blu validi sono compresi tra 0 e 255, con 0 indicante l'intensità minima e 255 che indicano l'intensità massima.</span><span class="sxs-lookup"><span data-stu-id="daa6a-208">Valid red, green, and blue values range from 0 through 255, with 0 indicating minimum intensity and 255 indicating maximum intensity.</span></span> <span data-ttu-id="daa6a-209">Nella figura seguente viene illustrato il modo in cui i colori primari rosso, verde e blu possono essere combinati per produrre quattro colori aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="daa6a-209">The following illustration shows how the primary colors red, green, and blue can be combined to produce four additional colors.</span></span> <span data-ttu-id="daa6a-210">(Per i dispositivi di visualizzazione, il colore nero risulta quando i valori rosso, verde e blu sono impostati su 0.</span><span class="sxs-lookup"><span data-stu-id="daa6a-210">(For display devices, the color black results when the red, green, and blue values are set to 0.</span></span> <span data-ttu-id="daa6a-211">Nella tecnologia di visualizzazione, il nero è l'assenza di tutti i colori.</span><span class="sxs-lookup"><span data-stu-id="daa6a-211">In display technology, black is the absence of all colors.)</span></span>

![cerchi sovrapposti rosso, verde e blu](images/rgbcolormodel.png)

<span data-ttu-id="daa6a-213">La tabella seguente elenca otto colori del modello RGB e i valori RGB associati.</span><span class="sxs-lookup"><span data-stu-id="daa6a-213">The following table lists eight colors of the RGB model and their associated RGB values.</span></span>



| <span data-ttu-id="daa6a-214">Colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-214">Color</span></span>   | <span data-ttu-id="daa6a-215">Valori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-215">RGB values</span></span>    |
|---------|---------------|
| <span data-ttu-id="daa6a-216">Red</span><span class="sxs-lookup"><span data-stu-id="daa6a-216">Red</span></span>     | <span data-ttu-id="daa6a-217">255, 0,0</span><span class="sxs-lookup"><span data-stu-id="daa6a-217">255, 0, 0</span></span>     |
| <span data-ttu-id="daa6a-218">Green</span><span class="sxs-lookup"><span data-stu-id="daa6a-218">Green</span></span>   | <span data-ttu-id="daa6a-219">0, 255, 0</span><span class="sxs-lookup"><span data-stu-id="daa6a-219">0, 255, 0</span></span>     |
| <span data-ttu-id="daa6a-220">Blu</span><span class="sxs-lookup"><span data-stu-id="daa6a-220">Blue</span></span>    | <span data-ttu-id="daa6a-221">0, 0, 255</span><span class="sxs-lookup"><span data-stu-id="daa6a-221">0, 0, 255</span></span>     |
| <span data-ttu-id="daa6a-222">azzurro</span><span class="sxs-lookup"><span data-stu-id="daa6a-222">Cyan</span></span>    | <span data-ttu-id="daa6a-223">0, 255, 255</span><span class="sxs-lookup"><span data-stu-id="daa6a-223">0, 255, 255</span></span>   |
| <span data-ttu-id="daa6a-224">Fucsia</span><span class="sxs-lookup"><span data-stu-id="daa6a-224">Magenta</span></span> | <span data-ttu-id="daa6a-225">255, 0, 255</span><span class="sxs-lookup"><span data-stu-id="daa6a-225">255, 0, 255</span></span>   |
| <span data-ttu-id="daa6a-226">Giallo</span><span class="sxs-lookup"><span data-stu-id="daa6a-226">Yellow</span></span>  | <span data-ttu-id="daa6a-227">255, 255, 0</span><span class="sxs-lookup"><span data-stu-id="daa6a-227">255, 255, 0</span></span>   |
| <span data-ttu-id="daa6a-228">White</span><span class="sxs-lookup"><span data-stu-id="daa6a-228">White</span></span>   | <span data-ttu-id="daa6a-229">255, 255, 255</span><span class="sxs-lookup"><span data-stu-id="daa6a-229">255, 255, 255</span></span> |
| <span data-ttu-id="daa6a-230">Nero</span><span class="sxs-lookup"><span data-stu-id="daa6a-230">Black</span></span>   | <span data-ttu-id="daa6a-231">0, 0, 0</span><span class="sxs-lookup"><span data-stu-id="daa6a-231">0, 0, 0</span></span>       |



 

<span data-ttu-id="daa6a-232">Il sistema archivia i colori interni come valori RGB a 32 bit il cui formato esadecimale è il seguente: 0x00bbggrr.</span><span class="sxs-lookup"><span data-stu-id="daa6a-232">The system stores internal colors as 32-bit RGB values that have the following hexadecimal form: 0x00bbggrr.</span></span>

<span data-ttu-id="daa6a-233">Il byte di ordine inferiore contiene un valore per l'intensità relativa del rosso; il secondo byte contiene un valore per il verde; e il terzo byte contiene un valore per il blu.</span><span class="sxs-lookup"><span data-stu-id="daa6a-233">The low-order byte contains a value for the relative intensity of red; the second byte contains a value for green; and the third byte contains a value for blue.</span></span> <span data-ttu-id="daa6a-234">Il byte di ordine superiore deve essere zero.</span><span class="sxs-lookup"><span data-stu-id="daa6a-234">The high-order byte must be zero.</span></span>

<span data-ttu-id="daa6a-235">È possibile usare la macro [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) per ottenere un valore RGB basato sulle intensità specificate per i componenti rosso, verde e blu.</span><span class="sxs-lookup"><span data-stu-id="daa6a-235">You can use the [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) macro to get an RGB value based on specified intensities for the red, green, and blue components.</span></span> <span data-ttu-id="daa6a-236">Usare le macro [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue)e [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) per estrarre i singoli colori da un valore di colore RGB.</span><span class="sxs-lookup"><span data-stu-id="daa6a-236">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue), and [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) macros to extract individual colors from an RGB color value.</span></span>

### <a name="hsl-color-model"></a><span data-ttu-id="daa6a-237">Modello di colore HSL</span><span class="sxs-lookup"><span data-stu-id="daa6a-237">HSL Color Model</span></span>

<span data-ttu-id="daa6a-238">Nella finestra di dialogo colore sono disponibili controlli per specificare i valori HSL.</span><span class="sxs-lookup"><span data-stu-id="daa6a-238">The Color dialog box provides controls for specifying HSL values.</span></span> <span data-ttu-id="daa6a-239">Nella figura seguente vengono mostrati il controllo dello spettro dei colori e il controllo della diapositiva di luminosità visualizzati nella finestra di dialogo colore.</span><span class="sxs-lookup"><span data-stu-id="daa6a-239">The following illustration shows the color spectrum control and the luminosity slide control that appear in the Color dialog box.</span></span> <span data-ttu-id="daa6a-240">L'illustrazione mostra anche gli intervalli di valori che l'utente può specificare con questi controlli.</span><span class="sxs-lookup"><span data-stu-id="daa6a-240">The illustration also shows the ranges of values the user can specify with these controls.</span></span>

![spettro di colore e scala della luminosità](images/colordialogranges.png)

<span data-ttu-id="daa6a-242">Nella finestra di dialogo colore i valori di saturazione e luminosità devono essere compresi tra 0 e 240 e il valore di tonalità deve essere compreso tra 0 e 239.</span><span class="sxs-lookup"><span data-stu-id="daa6a-242">In the Color dialog box, the saturation and luminosity values must be in the range 0 through 240, and the hue value must be in the range 0 through 239.</span></span>

### <a name="converting-hsl-values-to-rgb-values"></a><span data-ttu-id="daa6a-243">Conversione dei valori HSL in valori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-243">Converting HSL Values to RGB Values</span></span>

<span data-ttu-id="daa6a-244">La procedura della finestra di dialogo disponibile in Comdlg32.dll per la finestra di dialogo colore contiene codice che converte i valori HSL nei valori RGB corrispondenti.</span><span class="sxs-lookup"><span data-stu-id="daa6a-244">The dialog box procedure provided in Comdlg32.dll for the Color dialog box contains code that converts HSL values to the corresponding RGB values.</span></span> <span data-ttu-id="daa6a-245">La tabella seguente elenca otto colori del modello RGB e i relativi valori HSL e RGB associati.</span><span class="sxs-lookup"><span data-stu-id="daa6a-245">The following table lists eight colors of the RGB model and their associated HSL and RGB values.</span></span>



| <span data-ttu-id="daa6a-246">Colore</span><span class="sxs-lookup"><span data-stu-id="daa6a-246">Color</span></span>   | <span data-ttu-id="daa6a-247">HSL (valori)</span><span class="sxs-lookup"><span data-stu-id="daa6a-247">HSL values</span></span>      | <span data-ttu-id="daa6a-248">Valori RGB</span><span class="sxs-lookup"><span data-stu-id="daa6a-248">RGB values</span></span>      |
|---------|-----------------|-----------------|
| <span data-ttu-id="daa6a-249">Red</span><span class="sxs-lookup"><span data-stu-id="daa6a-249">Red</span></span>     | <span data-ttu-id="daa6a-250">(0, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="daa6a-250">(0, 240, 120)</span></span>   | <span data-ttu-id="daa6a-251">(255, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="daa6a-251">(255, 0, 0)</span></span>     |
| <span data-ttu-id="daa6a-252">Giallo</span><span class="sxs-lookup"><span data-stu-id="daa6a-252">Yellow</span></span>  | <span data-ttu-id="daa6a-253">(40, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="daa6a-253">(40, 240, 120)</span></span>  | <span data-ttu-id="daa6a-254">(255, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="daa6a-254">(255, 255, 0)</span></span>   |
| <span data-ttu-id="daa6a-255">Green</span><span class="sxs-lookup"><span data-stu-id="daa6a-255">Green</span></span>   | <span data-ttu-id="daa6a-256">(80, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="daa6a-256">(80, 240, 120)</span></span>  | <span data-ttu-id="daa6a-257">(0, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="daa6a-257">(0, 255, 0)</span></span>     |
| <span data-ttu-id="daa6a-258">azzurro</span><span class="sxs-lookup"><span data-stu-id="daa6a-258">Cyan</span></span>    | <span data-ttu-id="daa6a-259">(120, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="daa6a-259">(120, 240, 120)</span></span> | <span data-ttu-id="daa6a-260">(0, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="daa6a-260">(0, 255, 255)</span></span>   |
| <span data-ttu-id="daa6a-261">Blu</span><span class="sxs-lookup"><span data-stu-id="daa6a-261">Blue</span></span>    | <span data-ttu-id="daa6a-262">(160, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="daa6a-262">(160, 240, 120)</span></span> | <span data-ttu-id="daa6a-263">(0, 0, 255)</span><span class="sxs-lookup"><span data-stu-id="daa6a-263">(0, 0, 255)</span></span>     |
| <span data-ttu-id="daa6a-264">Fucsia</span><span class="sxs-lookup"><span data-stu-id="daa6a-264">Magenta</span></span> | <span data-ttu-id="daa6a-265">(200, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="daa6a-265">(200, 240, 120)</span></span> | <span data-ttu-id="daa6a-266">(255, 0, 255)</span><span class="sxs-lookup"><span data-stu-id="daa6a-266">(255, 0, 255)</span></span>   |
| <span data-ttu-id="daa6a-267">White</span><span class="sxs-lookup"><span data-stu-id="daa6a-267">White</span></span>   | <span data-ttu-id="daa6a-268">(0, 0, 240)</span><span class="sxs-lookup"><span data-stu-id="daa6a-268">(0, 0, 240)</span></span>     | <span data-ttu-id="daa6a-269">(255, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="daa6a-269">(255, 255, 255)</span></span> |
| <span data-ttu-id="daa6a-270">Nero</span><span class="sxs-lookup"><span data-stu-id="daa6a-270">Black</span></span>   | <span data-ttu-id="daa6a-271">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="daa6a-271">(0, 0, 0)</span></span>       | <span data-ttu-id="daa6a-272">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="daa6a-272">(0, 0, 0)</span></span>       |



 

 

 
