---
title: Informazioni sul working set
description: La working set di un processo è la quantità di memoria fisicamente mappata al relativo contesto di processo. PSAPI consente di creare snapshot del working set o di monitorare il working set.
ms.assetid: 33c42f79-cc77-4d44-84c3-8bf0a4a60019
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b56e1e4dc0a68a9d4507a94ad1f5356432f8488a
ms.sourcegitcommit: b01ad017c152c6756f3638623fe335877644d414
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 06/06/2021
ms.locfileid: "111549863"
---
# <a name="working-set-information"></a><span data-ttu-id="64f69-104">Informazioni sul working set</span><span class="sxs-lookup"><span data-stu-id="64f69-104">Working Set Information</span></span>

<span data-ttu-id="64f69-105">La working set di un processo è la quantità di memoria fisicamente mappata al relativo contesto di processo.</span><span class="sxs-lookup"><span data-stu-id="64f69-105">The working set of a process is the amount of memory physically mapped to its process context.</span></span> <span data-ttu-id="64f69-106">PSAPI consente di creare snapshot del working set o di monitorare il working set.</span><span class="sxs-lookup"><span data-stu-id="64f69-106">PSAPI enables you to take snapshots of the working set or to monitor the working set.</span></span>

<span data-ttu-id="64f69-107">La [**funzione QueryWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) o [**QueryWorkingSetEx**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) riempie un buffer con uno snapshot delle informazioni per ogni pagina nel working set corrente del processo specificato.</span><span class="sxs-lookup"><span data-stu-id="64f69-107">The [**QueryWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) or [**QueryWorkingSetEx**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) function fills a buffer with a snapshot of the information for every page in the current working set of the specified process.</span></span> <span data-ttu-id="64f69-108">La funzione segnala solo le pagine fisicamente presenti nel momento esatto in cui viene chiamata.</span><span class="sxs-lookup"><span data-stu-id="64f69-108">The function reports only those pages that are physically present at the exact moment it is called.</span></span>

<span data-ttu-id="64f69-109">È possibile usare working set monitoraggio per scoprire la quantità di RAM aggiuntiva richiesta da una determinata operazione, ad esempio il salvataggio di un file.</span><span class="sxs-lookup"><span data-stu-id="64f69-109">You can use working set monitoring to find out how much additional RAM a particular operation takes (for example, saving a file).</span></span> <span data-ttu-id="64f69-110">Per iniziare a monitorare il working set, chiamare la [**funzione InitializeProcessForWsWatch.**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch)</span><span class="sxs-lookup"><span data-stu-id="64f69-110">To begin monitoring the working set, call the [**InitializeProcessForWsWatch**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch) function.</span></span> <span data-ttu-id="64f69-111">Non tutti i processi consentono di leggere le working set, quindi assicurarsi che la funzione restituisca un valore diverso da zero prima di continuare.</span><span class="sxs-lookup"><span data-stu-id="64f69-111">Not all processes let you read their working set information, so be sure that the function returns a nonzero value before you continue.</span></span> <span data-ttu-id="64f69-112">Chiamare quindi la [**funzione GetWsChanges.**](/windows/desktop/api/Psapi/nf-psapi-getwschanges)</span><span class="sxs-lookup"><span data-stu-id="64f69-112">Next, call the [**GetWsChanges**](/windows/desktop/api/Psapi/nf-psapi-getwschanges) function.</span></span> <span data-ttu-id="64f69-113">Questa funzione segnala solo le pagine caricate in memoria dall'inizio del monitoraggio working set.</span><span class="sxs-lookup"><span data-stu-id="64f69-113">This function reports only the pages that have been loaded in memory since you began monitoring the working set.</span></span> <span data-ttu-id="64f69-114">La funzione restituisce i dati in una matrice di strutture [**PSAPI \_ WS \_ WATCH \_ INFORMATION,**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) una struttura per ogni nuova pagina aggiunta al working set del processo.</span><span class="sxs-lookup"><span data-stu-id="64f69-114">The function returns data in an array of [**PSAPI\_WS\_WATCH\_INFORMATION**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) structures, one structure for each new page added to the working set of the process.</span></span> <span data-ttu-id="64f69-115">La struttura indica quali pagine sono in memoria e cosa le ha causate dal sistema.</span><span class="sxs-lookup"><span data-stu-id="64f69-115">The structure tells you which pages are in memory, and what caused the system to page them in.</span></span>

<span data-ttu-id="64f69-116">La [**funzione EmptyWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) accetta un handle di processo.</span><span class="sxs-lookup"><span data-stu-id="64f69-116">The [**EmptyWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) function takes a process handle.</span></span> <span data-ttu-id="64f69-117">Rimuove il maggior numero possibile di pagine dal processo working set.</span><span class="sxs-lookup"><span data-stu-id="64f69-117">It removes as many pages as possible from the process working set.</span></span> <span data-ttu-id="64f69-118">Questa operazione è utile principalmente per il test e l'ottimizzazione.</span><span class="sxs-lookup"><span data-stu-id="64f69-118">This operation is useful primarily for testing and tuning.</span></span> <span data-ttu-id="64f69-119">Si noti che [**la funzione SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize) esegue la stessa cosa se si passa -1 per le dimensioni minime e massime.</span><span class="sxs-lookup"><span data-stu-id="64f69-119">Note that the [**SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize) function does the same thing if you pass it -1 for the minimum and maximum sizes.</span></span>

## <a name="related-topics"></a><span data-ttu-id="64f69-120">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="64f69-120">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="64f69-121">Working Set</span><span class="sxs-lookup"><span data-stu-id="64f69-121">Working Set</span></span>](/windows/desktop/Memory/working-set)
</dt> </dl>

 

 