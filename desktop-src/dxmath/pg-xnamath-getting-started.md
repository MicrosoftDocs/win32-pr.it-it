---
title: Introduzione (DirectXMath)
description: La libreria DirectXMath implementa un'interfaccia ottimale e portatile per operazioni aritmetiche e di algebra lineare su vettori a virgola mobile a precisione singola (2D, 3D e 4D) o matrici (3 × 3 e 4 × 4).
ms.assetid: 9972e382-7a0f-88a7-ad44-18521af3520d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 05e599acfc498e28b33acfc5bbbba2bea5669d2a
ms.sourcegitcommit: 3bdf30edb314e0fcd17dc4ddbc70e4ec7d3596e6
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/10/2021
ms.locfileid: "104351021"
---
# <a name="getting-started-directxmath"></a><span data-ttu-id="47615-103">Introduzione (DirectXMath)</span><span class="sxs-lookup"><span data-stu-id="47615-103">Getting started (DirectXMath)</span></span>

<span data-ttu-id="47615-104">La libreria DirectXMath implementa un'interfaccia ottimale e portatile per operazioni aritmetiche e di algebra lineare su vettori a virgola mobile a precisione singola (2D, 3D e 4D) o matrici (3 × 3 e 4 × 4).</span><span class="sxs-lookup"><span data-stu-id="47615-104">The DirectXMath Library implements an optimal and portable interface for arithmetic and linear algebra operations on single-precision floating-point vectors (2D, 3D, and 4D) or matrices (3×3 and 4×4).</span></span> <span data-ttu-id="47615-105">La libreria ha un supporto limitato per le operazioni di vettori di tipo Integer.</span><span class="sxs-lookup"><span data-stu-id="47615-105">The library has some limited support for integer vector operations.</span></span> <span data-ttu-id="47615-106">Queste operazioni vengono ampiamente utilizzate nel rendering e nell'animazione da programmi di grafica.</span><span class="sxs-lookup"><span data-stu-id="47615-106">These operations are used extensively in rendering and animation by graphics programs.</span></span> <span data-ttu-id="47615-107">Non è disponibile alcun supporto per i vettori a precisione doppia (compresi Long, short o byte) e solo le operazioni di vettori di tipo Integer limitate.</span><span class="sxs-lookup"><span data-stu-id="47615-107">There is no support for double-precision vectors (including longs, shorts, or bytes), and only limited integer vector operations.</span></span>

<span data-ttu-id="47615-108">La libreria è disponibile in un'ampia gamma di piattaforme Windows.</span><span class="sxs-lookup"><span data-stu-id="47615-108">The library is available on a variety of Windows platforms.</span></span> <span data-ttu-id="47615-109">Poiché la libreria fornisce funzionalità non disponibili in precedenza, questa versione sostituisce le librerie seguenti:</span><span class="sxs-lookup"><span data-stu-id="47615-109">Because the library provides functionality not available previously, this version supersedes the following libraries:</span></span>

-   <span data-ttu-id="47615-110">Xbox Math Library fornita dall'intestazione Xboxmath. h</span><span class="sxs-lookup"><span data-stu-id="47615-110">Xbox Math library provided by the Xboxmath.h header</span></span>
-   <span data-ttu-id="47615-111">Libreria D3DX 9 fornita dalle DLL D3DX 9</span><span class="sxs-lookup"><span data-stu-id="47615-111">D3DX 9 library provided by the D3DX 9 DLLs</span></span>
-   <span data-ttu-id="47615-112">Libreria matematica D3DX 10 fornita tramite le dll D3DX 10</span><span class="sxs-lookup"><span data-stu-id="47615-112">D3DX 10 math library provided through the D3DX 10 DLLs</span></span>
-   <span data-ttu-id="47615-113">XNA Math Library fornita dall'intestazione XNAMath. h in DirectX SDK e Xbox 360 XDK</span><span class="sxs-lookup"><span data-stu-id="47615-113">XNA Math library provided by the xnamath.h header in the DirectX SDK and Xbox 360 XDK</span></span>

<span data-ttu-id="47615-114">In queste sezioni vengono illustrate le nozioni di base per iniziare.</span><span class="sxs-lookup"><span data-stu-id="47615-114">These sections outline the basics of getting started.</span></span>

-   [<span data-ttu-id="47615-115">Scaricare</span><span class="sxs-lookup"><span data-stu-id="47615-115">Download</span></span>](#download)
-   [<span data-ttu-id="47615-116">Requisiti di sistema in fase di esecuzione</span><span class="sxs-lookup"><span data-stu-id="47615-116">Run-Time System Requirements</span></span>](#run-time-system-requirements)
-   [<span data-ttu-id="47615-117">Panoramica sulla progettazione</span><span class="sxs-lookup"><span data-stu-id="47615-117">Design Overview</span></span>](#design-overview)
-   [<span data-ttu-id="47615-118">Convenzione matrice</span><span class="sxs-lookup"><span data-stu-id="47615-118">Matrix convention</span></span>](#matrix-convention)
-   [<span data-ttu-id="47615-119">Utilizzo di base</span><span class="sxs-lookup"><span data-stu-id="47615-119">Basic Usage</span></span>](#basic-usage)
-   [<span data-ttu-id="47615-120">Linee guida sull'utilizzo del tipo</span><span class="sxs-lookup"><span data-stu-id="47615-120">Type Usage Guidelines</span></span>](#type-usage-guidelines)
-   [<span data-ttu-id="47615-121">Creazione di vettori</span><span class="sxs-lookup"><span data-stu-id="47615-121">Creating Vectors</span></span>](#creating-vectors)
    -   [<span data-ttu-id="47615-122">VETTORI COSTANTI</span><span class="sxs-lookup"><span data-stu-id="47615-122">CONSTANT VECTORS</span></span>](#constant-vectors)
    -   [<span data-ttu-id="47615-123">VETTORI DA VARIABILI</span><span class="sxs-lookup"><span data-stu-id="47615-123">VECTORS FROM VARIABLES</span></span>](#vectors-from-variables)
    -   [<span data-ttu-id="47615-124">VETTORI DA VETTORI</span><span class="sxs-lookup"><span data-stu-id="47615-124">VECTORS FROM VECTORS</span></span>](#vectors-from-vectors)
    -   [<span data-ttu-id="47615-125">VETTORI DALLA MEMORIA</span><span class="sxs-lookup"><span data-stu-id="47615-125">VECTORS FROM MEMORY</span></span>](#vectors-from-memory)
-   [<span data-ttu-id="47615-126">Estrazione di componenti da vettori</span><span class="sxs-lookup"><span data-stu-id="47615-126">Extracting Components from Vectors</span></span>](#extracting-components-from-vectors)
-   [<span data-ttu-id="47615-127">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="47615-127">Related topics</span></span>](#related-topics)

## <a name="download"></a><span data-ttu-id="47615-128">Scarica</span><span class="sxs-lookup"><span data-stu-id="47615-128">Download</span></span>

<span data-ttu-id="47615-129">La libreria DirectXMath è inclusa nella Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="47615-129">The DirectXMath library is included in the Windows SDK.</span></span> <span data-ttu-id="47615-130">In alternativa, è possibile scaricarlo da [GitHub/Microsoft/DirectXMath](https://github.com/Microsoft/DirectXMath).</span><span class="sxs-lookup"><span data-stu-id="47615-130">Alternatively you can download it from [GitHub/Microsoft/DirectXMath](https://github.com/Microsoft/DirectXMath).</span></span> <span data-ttu-id="47615-131">Questo sito contiene anche progetti di esempio correlati.</span><span class="sxs-lookup"><span data-stu-id="47615-131">This site also contains related sample projects.</span></span>

## <a name="run-time-system-requirements"></a><span data-ttu-id="47615-132">Requisiti di sistema Run-Time</span><span class="sxs-lookup"><span data-stu-id="47615-132">Run-Time System Requirements</span></span>

<span data-ttu-id="47615-133">La libreria DirectXMath usa istruzioni del processore specializzate per le operazioni vettoriali quando sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="47615-133">The DirectXMath Library uses specialized processor instructions for vector operations when they are available.</span></span> <span data-ttu-id="47615-134">Per evitare che un programma generi errori di "eccezione di istruzione sconosciuta", controllare il supporto del processore chiamando [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport) prima di usare la libreria DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="47615-134">To avoid having a program generate "unknown instruction exception" faults, check for processor support by calling [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport) before using the DirectXMath Library.</span></span>

<span data-ttu-id="47615-135">Questi sono i requisiti di base per il supporto di run-time della libreria DirectXMath:</span><span class="sxs-lookup"><span data-stu-id="47615-135">These are the basic DirectXMath Library run-time support requirements:</span></span>

-   <span data-ttu-id="47615-136">Per la compilazione predefinita in una piattaforma Windows (x86/x64) è necessario il supporto delle istruzioni SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="47615-136">Default compilation on a Windows (x86/x64) platform requires SSE/SSE2 instruction support.</span></span>
-   <span data-ttu-id="47615-137">Il valore predefinito di Compliation in una piattaforma Windows RT richiede il supporto dell'istruzione ARM-NEON.</span><span class="sxs-lookup"><span data-stu-id="47615-137">Default compliation on a Windows RT platform requires ARM-NEON instruction support.</span></span>
-   <span data-ttu-id="47615-138">Per la compilazione con [**\_ XM \_ nessun \_ intrinseco \_**](ovw-xnamath-reference-directives.md) definito è necessario solo il supporto per operazioni a virgola mobile standard.</span><span class="sxs-lookup"><span data-stu-id="47615-138">Compilation with [**\_XM\_NO\_INTRINSICS\_**](ovw-xnamath-reference-directives.md) defined requires only standard floating-point operation support.</span></span>

> [!Note]  
> <span data-ttu-id="47615-139">Quando si chiama [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport), includere <Windows. h> prima di includere <DirectXMath. h>.</span><span class="sxs-lookup"><span data-stu-id="47615-139">When you call [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport), include <windows.h> before you include <DirectXMath.h>.</span></span> <span data-ttu-id="47615-140">Questa è l'unica funzione della libreria che richiede contenuto da <Windows. h> quindi non è necessario includere <Windows. h> in ogni modulo che usa <DirectXMath. h>.</span><span class="sxs-lookup"><span data-stu-id="47615-140">This is the only function in the library that requires any content from <windows.h> so you aren't required to include <windows.h> in every module that uses <DirectXMath.h>.</span></span>

 

## <a name="design-overview"></a><span data-ttu-id="47615-141">Panoramica della progettazione</span><span class="sxs-lookup"><span data-stu-id="47615-141">Design Overview</span></span>

<span data-ttu-id="47615-142">La libreria DirectXMath supporta principalmente il linguaggio di programmazione C++.</span><span class="sxs-lookup"><span data-stu-id="47615-142">The DirectXMath Library primarily supports the C++ programming language.</span></span> <span data-ttu-id="47615-143">La libreria viene implementata usando routine inline nei file di intestazione, DirectXMath \* . inl, DirectXPackedVector. inl e DirectXCollision. inl.</span><span class="sxs-lookup"><span data-stu-id="47615-143">The library is implemented using inline routines in the header files, DirectXMath\*.inl, DirectXPackedVector.inl and DirectXCollision.inl.</span></span> <span data-ttu-id="47615-144">Questa implementazione si avvale di funzioni intrinseche del compilatore ad alte prestazioni.</span><span class="sxs-lookup"><span data-stu-id="47615-144">This implementation makes use of high-performance compiler intrinsics.</span></span>

<span data-ttu-id="47615-145">La libreria DirectXMath fornisce:</span><span class="sxs-lookup"><span data-stu-id="47615-145">The DirectXMath Library provides:</span></span>

-   <span data-ttu-id="47615-146">Implementazione di che utilizza intrinseci SSE/SSE2.</span><span class="sxs-lookup"><span data-stu-id="47615-146">An implementation using SSE/SSE2 intrinsics.</span></span>
-   <span data-ttu-id="47615-147">Implementazione senza intrinseci.</span><span class="sxs-lookup"><span data-stu-id="47615-147">An implementation without intrinsics.</span></span>
-   <span data-ttu-id="47615-148">Implementazione di mediante gli intrinseci ARM-NEON.</span><span class="sxs-lookup"><span data-stu-id="47615-148">An implementation using ARM-NEON intrinsics.</span></span>

<span data-ttu-id="47615-149">Poiché la libreria viene recapitata usando i file di intestazione, usare il codice sorgente per personalizzare e ottimizzare per la propria app.</span><span class="sxs-lookup"><span data-stu-id="47615-149">Because the library is delivered using header files, use the source code to customize and optimize for your own app.</span></span>

## <a name="matrix-convention"></a><span data-ttu-id="47615-150">Convenzione matrice</span><span class="sxs-lookup"><span data-stu-id="47615-150">Matrix convention</span></span>

<span data-ttu-id="47615-151">DirectXMath USA matrici di righe, vettori di righe e pre-moltiplicazione.</span><span class="sxs-lookup"><span data-stu-id="47615-151">DirectXMath uses row-major matrices, row vectors, and pre-multiplication.</span></span> <span data-ttu-id="47615-152">La manualità è determinata dalla versione della funzione utilizzata (RH rispetto a LH); in caso contrario, la funzione funziona con le coordinate di visualizzazione a sinistra o a destra.</span><span class="sxs-lookup"><span data-stu-id="47615-152">Handedness is determined by which function version is used (RH vs. LH), otherwise the function works with either left-handed or right-handed view coordinates.</span></span>

<span data-ttu-id="47615-153">Per riferimento, Direct3D ha usato in passato il sistema di coordinate di sinistra, le matrici di righe, i vettori di riga e la pre-moltiplicazione.</span><span class="sxs-lookup"><span data-stu-id="47615-153">For reference, Direct3D has historically used left-handed coordinate system, row-major matrices, row vectors, and pre-multiplication.</span></span> <span data-ttu-id="47615-154">La moderna Direct3D non ha un requisito forte per le coordinate Left e Rights e in genere HLSL shaders per impostazione predefinita per l'utilizzo di matrici di colonne principali.</span><span class="sxs-lookup"><span data-stu-id="47615-154">Modern Direct3D does not have a strong requirement for left vs. right-handed coordinates, and typically HLSL shaders default to consuming column-major matrices.</span></span> <span data-ttu-id="47615-155">Per informazioni dettagliate, vedere [HLSL Matrix ordering](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-per-component-math) .</span><span class="sxs-lookup"><span data-stu-id="47615-155">See [HLSL Matrix Ordering](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-per-component-math) for details.</span></span>

## <a name="basic-usage"></a><span data-ttu-id="47615-156">Utilizzo di base</span><span class="sxs-lookup"><span data-stu-id="47615-156">Basic Usage</span></span>

<span data-ttu-id="47615-157">Per utilizzare le funzioni della libreria DirectXMath, includere le intestazioni DirectXMath. h, DirectXPackedVector. h, DirectXColors. h e/o DirectXCollision. h.</span><span class="sxs-lookup"><span data-stu-id="47615-157">To use DirectXMath Library functions, include the DirectXMath.h, DirectXPackedVector.h, DirectXColors.h, and/or DirectXCollision.h headers.</span></span> <span data-ttu-id="47615-158">Le intestazioni si trovano in Windows Software Development Kit per le app di Windows Store.</span><span class="sxs-lookup"><span data-stu-id="47615-158">The headers are found in the Windows Software Development Kit for Windows Store apps.</span></span>

## <a name="type-usage-guidelines"></a><span data-ttu-id="47615-159">Linee guida sull'utilizzo del tipo</span><span class="sxs-lookup"><span data-stu-id="47615-159">Type Usage Guidelines</span></span>

<span data-ttu-id="47615-160">I tipi [**XMVECTOR**](xmvector-data-type.md) e [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) sono i cavalli di lavoro per la libreria DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="47615-160">The [**XMVECTOR**](xmvector-data-type.md) and [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) types are the work horses for the DirectXMath Library.</span></span> <span data-ttu-id="47615-161">Ogni operazione utilizza o produce dati di questi tipi.</span><span class="sxs-lookup"><span data-stu-id="47615-161">Every operation consumes or produces data of these types.</span></span> <span data-ttu-id="47615-162">L'uso di questi elementi è fondamentale per l'uso della libreria.</span><span class="sxs-lookup"><span data-stu-id="47615-162">Working with them is key to using the library.</span></span> <span data-ttu-id="47615-163">Tuttavia, poiché DirectXMath usa i set di istruzioni SIMD, questi tipi di dati sono soggetti a una serie di restrizioni.</span><span class="sxs-lookup"><span data-stu-id="47615-163">However, since DirectXMath makes use of the SIMD instruction sets, these data types are subject to a number of restrictions.</span></span> <span data-ttu-id="47615-164">È fondamentale comprendere queste restrizioni se si desidera utilizzare le funzioni DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="47615-164">It is critical that you understand these restrictions if you want to make good use of the DirectXMath functions.</span></span>

<span data-ttu-id="47615-165">Si pensi a [**XMVECTOR**](xmvector-data-type.md) come a un proxy per un registro hardware SIMD e [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) come proxy per un raggruppamento logico di quattro registri hardware SIMD.</span><span class="sxs-lookup"><span data-stu-id="47615-165">You should think of [**XMVECTOR**](xmvector-data-type.md) as a proxy for a SIMD hardware register, and [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as a proxy for a logical grouping of four SIMD hardware registers.</span></span> <span data-ttu-id="47615-166">Questi tipi sono annotati per indicare che è necessario che l'allineamento a 16 byte funzioni correttamente.</span><span class="sxs-lookup"><span data-stu-id="47615-166">These types are annotated to indicate they require 16-byte alignment to work correctly.</span></span> <span data-ttu-id="47615-167">Il compilatore li posiziona automaticamente nello stack quando vengono usati come variabile locale o li inserisce nel segmento di dati quando vengono usati come variabile globale.</span><span class="sxs-lookup"><span data-stu-id="47615-167">The compiler will automatically place them correctly on the stack when they are used as a local variable, or place them in the data segment when they are used as a global variable.</span></span> <span data-ttu-id="47615-168">Con le convenzioni appropriate, possono anche essere passate in modo sicuro come parametri a una funzione. per informazioni dettagliate, vedere [convenzioni di chiamata](pg-xnamath-internals.md) .</span><span class="sxs-lookup"><span data-stu-id="47615-168">With proper conventions, they can also be passed safely as parameters to a function (see [Calling Conventions](pg-xnamath-internals.md) for details).</span></span>

<span data-ttu-id="47615-169">Le allocazioni dall'heap, tuttavia, sono più complesse.</span><span class="sxs-lookup"><span data-stu-id="47615-169">Allocations from the heap, however, are more complicated.</span></span> <span data-ttu-id="47615-170">Di conseguenza, è necessario prestare attenzione quando si utilizza [**XMVECTOR**](xmvector-data-type.md) o [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) come membro di una classe o di una struttura da allocare dall'heap.</span><span class="sxs-lookup"><span data-stu-id="47615-170">As such, you need to be careful whenever you use either [**XMVECTOR**](xmvector-data-type.md) or [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as a member of a class or structure to be allocated from the heap.</span></span> <span data-ttu-id="47615-171">In Windows x64, tutte le allocazioni di heap sono allineate a 16 byte, ma per Windows x86 sono allineate solo a 8 byte.</span><span class="sxs-lookup"><span data-stu-id="47615-171">On Windows x64, all heap allocations are 16-byte aligned, but for Windows x86, they are only 8-byte aligned.</span></span> <span data-ttu-id="47615-172">Sono disponibili opzioni per l'allocazione di strutture dall'heap con allineamento a 16 byte. vedere [allineare correttamente le allocazioni](pg-xnamath-optimizing.md).</span><span class="sxs-lookup"><span data-stu-id="47615-172">There are options for allocating structures from the heap with 16-byte alignment (see [Properly Align Allocations](pg-xnamath-optimizing.md)).</span></span> <span data-ttu-id="47615-173">Per i programmi C++, è possibile usare gli overload di operator new/delete/New \[ \] /Delete \[ \] (globalmente o specifici della classe) per applicare l'allineamento ottimale, se lo si desidera.</span><span class="sxs-lookup"><span data-stu-id="47615-173">For C++ programs, you can use operator new/delete/new\[\]/delete\[\] overloads (either globally or class-specific) to enforce optimal alignment if desired.</span></span>

> [!Note]  
> <span data-ttu-id="47615-174">Come alternativa all'applicazione dell'allineamento nella classe C++ direttamente tramite l'overload di New/Delete, è possibile usare l' [idioma pimpl](https://en.wikipedia.org/wiki/Opaque_pointer).</span><span class="sxs-lookup"><span data-stu-id="47615-174">As an alternative to enforcing alignment in your C++ class directly by overloading new/delete, you can use the [pImpl idiom](https://en.wikipedia.org/wiki/Opaque_pointer).</span></span> <span data-ttu-id="47615-175">Se si garantisce che la classe **impl** sia allineata tramite [**\_ \_ malloc**](/cpp/c-runtime-library/reference/aligned-malloc) internamente, è possibile usare liberamente i tipi allineati all'interno dell'implementazione interna.</span><span class="sxs-lookup"><span data-stu-id="47615-175">If you ensure your **Impl** class is aligned via [**\_aligned\_malloc**](/cpp/c-runtime-library/reference/aligned-malloc) internally, you can then freely use aligned types within the internal implementation.</span></span> <span data-ttu-id="47615-176">Si tratta di un'opzione utile quando la classe ' Public ' è una Windows Runtime classe di riferimento o è destinata all'uso con [**\_<>PTR std:: Shared**](/cpp/standard-library/shared-ptr-class), che in caso contrario può compromettere un'accurata allineamento.</span><span class="sxs-lookup"><span data-stu-id="47615-176">This is a good option when the 'public' class is a Windows Runtime ref class or intended for use with [**std::shared\_ptr<>**](/cpp/standard-library/shared-ptr-class), which can otherwise disrupt careful alignment.</span></span>

 

<span data-ttu-id="47615-177">Tuttavia, spesso è più semplice e più compatta evitare l'uso di [**XMVECTOR**](xmvector-data-type.md) o [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) direttamente in una classe o una struttura.</span><span class="sxs-lookup"><span data-stu-id="47615-177">However, often it is easier and more compact to avoid using [**XMVECTOR**](xmvector-data-type.md) or [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) directly in a class or structure.</span></span> <span data-ttu-id="47615-178">In alternativa, usare [**XMFLOAT3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat3), [**XMFLOAT4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4), [**XMFLOAT4X3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x3), [**XMFLOAT4X4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x4)e così via, come membri della struttura.</span><span class="sxs-lookup"><span data-stu-id="47615-178">Instead, make use of the [**XMFLOAT3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat3), [**XMFLOAT4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4), [**XMFLOAT4X3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x3), [**XMFLOAT4X4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x4), and so on, as members of your structure.</span></span> <span data-ttu-id="47615-179">Inoltre, è possibile usare le funzioni di [archiviazione](ovw-xnamath-reference-functions-storage.md) vettoriale e di [caricamento vettoriale](ovw-xnamath-reference-functions-load.md) per spostare i dati in modo efficiente in variabili locali **XMVECTOR** o **XMMATRIX** , eseguire calcoli e archiviare i risultati.</span><span class="sxs-lookup"><span data-stu-id="47615-179">Further, you can use the [Vector Loading](ovw-xnamath-reference-functions-load.md) and [Vector Storage](ovw-xnamath-reference-functions-storage.md) functions to move the data efficiently into **XMVECTOR** or **XMMATRIX** local variables, perform computations, and store the results.</span></span> <span data-ttu-id="47615-180">Sono disponibili anche funzioni di streaming ([**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream), [**XMVector4TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector4transformstream)e così via) che funzionano in modo efficiente direttamente su matrici di questi tipi di dati.</span><span class="sxs-lookup"><span data-stu-id="47615-180">There are also streaming functions ([**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream), [**XMVector4TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector4transformstream), and so on) that efficiently operate directly on arrays of these data types.</span></span>

## <a name="creating-vectors"></a><span data-ttu-id="47615-181">Creazione di vettori</span><span class="sxs-lookup"><span data-stu-id="47615-181">Creating Vectors</span></span>

### <a name="constant-vectors"></a><span data-ttu-id="47615-182">VETTORI COSTANTI</span><span class="sxs-lookup"><span data-stu-id="47615-182">CONSTANT VECTORS</span></span>

<span data-ttu-id="47615-183">Molte operazioni richiedono l'uso di costanti nei calcoli vettoriali e esistono diversi modi per caricare un [**XMVECTOR**](xmvector-data-type.md) con i valori desiderati.</span><span class="sxs-lookup"><span data-stu-id="47615-183">Many operations require the use of constants in vector computations, and there are a number of ways to load an [**XMVECTOR**](xmvector-data-type.md) with the desired values.</span></span>

-   <span data-ttu-id="47615-184">Se si carica una costante scalare in tutti gli elementi di un [**XMVECTOR**](xmvector-data-type.md), usare [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) o [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span><span class="sxs-lookup"><span data-stu-id="47615-184">If loading a scalar constant into all elements of an [**XMVECTOR**](xmvector-data-type.md), use [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) or [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span></span>
    ```
    XMVECTOR vFive = XMVectorReplicate( 5.f );
    ```

    

-   <span data-ttu-id="47615-185">Se si usa una costante Vector con valori fissi diversi come [**XMVECTOR**](xmvector-data-type.md), usare le strutture [**XMVECTORF32**](xmvectorf32-data-type.md), [**XMVECTORU32**](xmvectoru32-data-type.md), **XMVECTORI32** o [**XMVECTORU8**](xmvectoru8-data-type.md) .</span><span class="sxs-lookup"><span data-stu-id="47615-185">If using a vector constant with different fixed values as an [**XMVECTOR**](xmvector-data-type.md), use the [**XMVECTORF32**](xmvectorf32-data-type.md), [**XMVECTORU32**](xmvectoru32-data-type.md), **XMVECTORI32**, or [**XMVECTORU8**](xmvectoru8-data-type.md) structures.</span></span> <span data-ttu-id="47615-186">È possibile fare riferimento a queste informazioni direttamente ovunque si passi un valore **XMVECTOR** .</span><span class="sxs-lookup"><span data-stu-id="47615-186">These can be then referenced directly anywhere you would pass an **XMVECTOR** value.</span></span>
    ```
    static const XMVECTORF32 vFactors = { 1.0f, 2.0f, 3.0f, 4.0f };
    ```

    

    > [!Note]  
    > <span data-ttu-id="47615-187">Non usare gli elenchi di inizializzatori direttamente con [**XMVECTOR**](xmvector-data-type.md) (ovvero XMVECTOR v = {1.0 f, 2.0 f, 3.0 f, 4.0 f}).</span><span class="sxs-lookup"><span data-stu-id="47615-187">Do not use initializer lists directly with [**XMVECTOR**](xmvector-data-type.md) (that is, XMVECTOR v = { 1.0f, 2.0f, 3.0f, 4.0f }).</span></span> <span data-ttu-id="47615-188">Tale codice è inefficiente e non è portabile su tutte le piattaforme supportate da DirectXMath.</span><span class="sxs-lookup"><span data-stu-id="47615-188">Such code is inefficient and is not portable across all platforms that are supported by DirectXMath.</span></span>

     

-   <span data-ttu-id="47615-189">DirectXMath include una serie di costanti globali predefinite che è possibile usare nel codice (g \_ XMOne, g \_ XMOne3, g \_ XMTwo, g \_ XMOneHalf, g \_ XMHalfPi, g \_ XMPi e così via).</span><span class="sxs-lookup"><span data-stu-id="47615-189">DirectXMath includes a number of pre-defined global constants you can make use of in your code (g\_XMOne, g\_XMOne3, g\_XMTwo, g\_XMOneHalf, g\_XMHalfPi, g\_XMPi, and so on).</span></span> <span data-ttu-id="47615-190">Eseguire una ricerca nell'intestazione DirectXMath. h per i valori **XMGLOBALCONSTANT** .</span><span class="sxs-lookup"><span data-stu-id="47615-190">Search the DirectXMath.h header for the **XMGLOBALCONSTANT** values.</span></span>
-   <span data-ttu-id="47615-191">È disponibile un set di costanti vettoriali per i colori RGB comuni (rosso, verde, blu, giallo e così via).</span><span class="sxs-lookup"><span data-stu-id="47615-191">There are a set of vector constants for common RGB colors (Red, Green, Blue, Yellow, and so on).</span></span> <span data-ttu-id="47615-192">Per altre informazioni su queste costanti vettoriali, vedere DirectXColors. h e lo spazio dei nomi DirectX:: Colors.</span><span class="sxs-lookup"><span data-stu-id="47615-192">For more info about these vector constants, see DirectXColors.h and the DirectX::Colors namespace.</span></span>

### <a name="vectors-from-variables"></a><span data-ttu-id="47615-193">VETTORI DA VARIABILI</span><span class="sxs-lookup"><span data-stu-id="47615-193">VECTORS FROM VARIABLES</span></span>

-   <span data-ttu-id="47615-194">Se si crea un vettore da una singola variabile scalare, vedere [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) e [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span><span class="sxs-lookup"><span data-stu-id="47615-194">If creating a vector from a single scalar variable, see [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) and [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span></span>
    ```
    XMVECTOR v = XMVectorReplicate( f  );
    ```

    

-   <span data-ttu-id="47615-195">Se si crea un vettore da quattro variabili scalari, vedere [**XMVectorSet**](/windows/win32/api/directxmath/nf-directxmath-xmvectorset) e [**XMVectorSetInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsetint).</span><span class="sxs-lookup"><span data-stu-id="47615-195">If creating a vector from four scalar variables, see [**XMVectorSet**](/windows/win32/api/directxmath/nf-directxmath-xmvectorset) and [**XMVectorSetInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsetint).</span></span>
    ```
    XMVECTOR v = XMVectorSet( fx, fy, fz, fw );
    ```

    

### <a name="vectors-from-vectors"></a><span data-ttu-id="47615-196">VETTORI DA VETTORI</span><span class="sxs-lookup"><span data-stu-id="47615-196">VECTORS FROM VECTORS</span></span>

-   <span data-ttu-id="47615-197">Se si crea un vettore da un altro vettore con un componente specifico impostato su una variabile, è possibile prendere in considerazione l'uso delle [funzioni di accesso vettoriale](ovw-xnamath-reference-functions-accessors.md).</span><span class="sxs-lookup"><span data-stu-id="47615-197">If creating a vector from another vector with a specific component set to a variable, you can consider using [Vector Accessor Functions](ovw-xnamath-reference-functions-accessors.md).</span></span>
    ```
    XMVECTOR v2 = XMVectorSetW( v1, fw );
    ```

    

-   <span data-ttu-id="47615-198">Se si crea un vettore da un altro vettore con un singolo componente replicato, usare [**XMVectorSplatX**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatx), [**XMVectorSplatY**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplaty), [**XMVectorSplatZ**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatz)e [**XMVectorSplatW**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatw).</span><span class="sxs-lookup"><span data-stu-id="47615-198">If creating a vector from another vector with a single component replicated, use [**XMVectorSplatX**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatx), [**XMVectorSplatY**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplaty), [**XMVectorSplatZ**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatz), and [**XMVectorSplatW**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatw).</span></span>
    ```
    XMVECTOR vz = XMVectorSplatZ( v );
    ```

    

-   <span data-ttu-id="47615-199">Se si crea un vettore da un altro vettore o coppia di vettori con componenti riordinati, vedere [**XMVectorSwizzle**](/windows/win32/api/directxmath/nf-directxmath-xmvectorswizzle) e [**XMVectorPermute**](/windows/win32/api/directxmath/nf-directxmath-xmvectorpermute).</span><span class="sxs-lookup"><span data-stu-id="47615-199">If creating a vector from another vector or pair of vectors with reordered components, see [**XMVectorSwizzle**](/windows/win32/api/directxmath/nf-directxmath-xmvectorswizzle) and [**XMVectorPermute**](/windows/win32/api/directxmath/nf-directxmath-xmvectorpermute).</span></span>
    ```
    XMVECTOR v2 = XMVectorSwizzle<XM_SWIZZLE_Z, XM_SWIZZLE_Y, XM_SWIZZLE_W, XM_SWIZZLE_X>( v1 );

    XMVECTOR v3 = XMVectorPermute<XM_PERMUTE_0W, XM_PERMUTE_1X, XM_PERMUTE_0X, XM_PERMUTE_1Z>( v1, v2 );
    ```

    

### <a name="vectors-from-memory"></a><span data-ttu-id="47615-200">VETTORI DALLA MEMORIA</span><span class="sxs-lookup"><span data-stu-id="47615-200">VECTORS FROM MEMORY</span></span>

-   <span data-ttu-id="47615-201">Per il caricamento di un singolo valore float dalla memoria, vedere [**XMVectorReplicatePtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateptr), [**XMVectorReplicateIntPtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateintptr), [**XMLoadFloat**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat)e [**XMLoadInt**](/windows/win32/api/directxmath/nf-directxmath-xmloadint).</span><span class="sxs-lookup"><span data-stu-id="47615-201">For loading a single float value from memory, see [**XMVectorReplicatePtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateptr), [**XMVectorReplicateIntPtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateintptr), [**XMLoadFloat**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat), and [**XMLoadInt**](/windows/win32/api/directxmath/nf-directxmath-xmloadint).</span></span>
-   <span data-ttu-id="47615-202">Metodi comuni per il caricamento di matrici float sono: [**XMLoadFloat2**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat2), [**XMLoadFloat3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3), [**XMLoadFloat4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4), [**XMLoadFloat3x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3x3), [**XMLoadFloat4x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x3)e [**XMLoadFloat4x4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x4).</span><span class="sxs-lookup"><span data-stu-id="47615-202">Common ways to load float arrays are: [**XMLoadFloat2**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat2), [**XMLoadFloat3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3), [**XMLoadFloat4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4), [**XMLoadFloat3x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3x3), [**XMLoadFloat4x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x3), and [**XMLoadFloat4x4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x4).</span></span>
-   <span data-ttu-id="47615-203">DirectXMath include un set completo di tipi, i carichi e gli archivi correlati per la gestione di varie strutture di dati e formati GPU comuni.</span><span class="sxs-lookup"><span data-stu-id="47615-203">DirectXMath includes a rich set of types and related loads and stores for handling various data-structures and common GPU formats.</span></span> <span data-ttu-id="47615-204">Vedere [vector Load](ovw-xnamath-reference-functions-load.md) e [vector Store](ovw-xnamath-reference-functions-storage.md).</span><span class="sxs-lookup"><span data-stu-id="47615-204">See [Vector Load](ovw-xnamath-reference-functions-load.md) and [Vector Store](ovw-xnamath-reference-functions-storage.md).</span></span>

## <a name="extracting-components-from-vectors"></a><span data-ttu-id="47615-205">Estrazione di componenti da vettori</span><span class="sxs-lookup"><span data-stu-id="47615-205">Extracting Components from Vectors</span></span>

<span data-ttu-id="47615-206">L'elaborazione SIMD è più efficiente quando i dati vengono caricati nei registri SIMD ed elaborati completamente prima di estrarre i risultati.</span><span class="sxs-lookup"><span data-stu-id="47615-206">SIMD processing is most efficient when data is loaded into the SIMD registers and fully processed before extracting the results.</span></span> <span data-ttu-id="47615-207">La conversione tra forme scalari e vettoriali non è efficiente, quindi è consigliabile eseguirla solo quando è necessario.</span><span class="sxs-lookup"><span data-stu-id="47615-207">Conversion between scalar and vector forms is inefficient, so we recommend that you do it only when required.</span></span> <span data-ttu-id="47615-208">Per questo motivo, le funzioni nella libreria DirectXMath che producono un valore scalare vengono restituite in un formato vettoriale in cui il risultato scalare viene replicato attraverso il vettore risultante (ovvero [**XMVector2Dot**](/windows/win32/api/directxmath/nf-directxmath-xmvector2dot), [**XMVector3Length**](/windows/win32/api/directxmath/nf-directxmath-xmvector3length)e così via).</span><span class="sxs-lookup"><span data-stu-id="47615-208">For this reason, functions in the DirectXMath library that produce a scalar value are returned in a vector form where the scalar result is replicated across the resulting vector (that is, [**XMVector2Dot**](/windows/win32/api/directxmath/nf-directxmath-xmvector2dot), [**XMVector3Length**](/windows/win32/api/directxmath/nf-directxmath-xmvector3length), and so on).</span></span> <span data-ttu-id="47615-209">Tuttavia, quando sono necessari valori scalari, di seguito sono riportate alcune opzioni su come procedere:</span><span class="sxs-lookup"><span data-stu-id="47615-209">However, when you need scalar values, here are a few choices on how to go about it:</span></span>

-   <span data-ttu-id="47615-210">Se viene calcolata una singola risposta scalare, l'uso delle [funzioni di accesso Vector](ovw-xnamath-reference-functions-accessors.md) è appropriato:</span><span class="sxs-lookup"><span data-stu-id="47615-210">If a single scalar answer is computed, use of the [Vector Accessor Functions](ovw-xnamath-reference-functions-accessors.md) is appropriate:</span></span>
    ```
    float f = XMVectorGetX( v );
    ```

    

-   <span data-ttu-id="47615-211">Se è necessario estrarre più componenti del vettore, è consigliabile archiviare il vettore in una struttura di memoria e leggerlo di nuovo.</span><span class="sxs-lookup"><span data-stu-id="47615-211">If multiple components of the vector are required to be extracted, consider storing the vector in a memory structure and reading it back.</span></span> <span data-ttu-id="47615-212">Ad esempio:</span><span class="sxs-lookup"><span data-stu-id="47615-212">For example:</span></span>
    ```
    XMFLOAT4A t;
    XMStoreFloat4A( &t, v );
    // t.x, t.y, t.z, and t.w can be individually accessed now
    ```

    

-   <span data-ttu-id="47615-213">Il tipo di elaborazione vettoriale più efficiente consiste nell'usare lo streaming di memoria in memoria dove i dati di input vengono caricati dalla memoria (usando le [funzioni di caricamento del vettore](ovw-xnamath-reference-functions-load.md)), elaborati completamente nel form SIMD e quindi scritti in memoria (usando le funzioni di [Archivio vettoriale](ovw-xnamath-reference-functions-storage.md)).</span><span class="sxs-lookup"><span data-stu-id="47615-213">The most efficient form of vector processing is to use memory-to-memory streaming where the input data is loaded from memory (using [Vector Load Functions](ovw-xnamath-reference-functions-load.md)), processed fully in SIMD form, and then written to memory (using [Vector Store Functions](ovw-xnamath-reference-functions-storage.md)).</span></span>

## <a name="related-topics"></a><span data-ttu-id="47615-214">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="47615-214">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="47615-215">Guida alla programmazione di DirectXMath</span><span class="sxs-lookup"><span data-stu-id="47615-215">DirectXMath Programming Guide</span></span>](ovw-xnamath-progguide.md)
</dt> </dl>

 

 