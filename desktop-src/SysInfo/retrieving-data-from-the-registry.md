---
description: Per recuperare dati dal registro di sistema, un'applicazione in genere enumera le sottochiavi di una chiave fino a trovare una particolare e quindi recupera i dati dal valore o dai valori associati.
ms.assetid: ce4be388-5506-4d01-a73c-33372ef4ccd7
title: Recupero di dati dal registro di sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 45d8dd6f6e4d667cf2760c7cba441200755fb6c3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "104058178"
---
# <a name="retrieving-data-from-the-registry"></a><span data-ttu-id="c81e8-103">Recupero di dati dal registro di sistema</span><span class="sxs-lookup"><span data-stu-id="c81e8-103">Retrieving Data from the Registry</span></span>

<span data-ttu-id="c81e8-104">Per recuperare dati dal registro di sistema, un'applicazione in genere enumera le sottochiavi di una chiave fino a trovare una particolare e quindi recupera i dati dal valore o dai valori associati.</span><span class="sxs-lookup"><span data-stu-id="c81e8-104">To retrieve data from the registry, an application typically enumerates the subkeys of a key until it finds a particular one and then retrieves data from the value or values associated with it.</span></span> <span data-ttu-id="c81e8-105">Un'applicazione può chiamare la funzione [**RegEnumKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regenumkeyexa) per enumerare le sottochiavi di una chiave specificata.</span><span class="sxs-lookup"><span data-stu-id="c81e8-105">An application can call the [**RegEnumKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regenumkeyexa) function to enumerate the subkeys of a given key.</span></span>

<span data-ttu-id="c81e8-106">Per recuperare dati dettagliati su una sottochiave specifica, un'applicazione può chiamare la funzione [**RegQueryInfoKey**](/windows/desktop/api/Winreg/nf-winreg-regqueryinfokeya) .</span><span class="sxs-lookup"><span data-stu-id="c81e8-106">To retrieve detailed data about a particular subkey, an application can call the [**RegQueryInfoKey**](/windows/desktop/api/Winreg/nf-winreg-regqueryinfokeya) function.</span></span> <span data-ttu-id="c81e8-107">La funzione [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity) recupera una copia del descrittore di sicurezza che protegge una chiave.</span><span class="sxs-lookup"><span data-stu-id="c81e8-107">The [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity) function retrieves a copy of the security descriptor protecting a key.</span></span>

<span data-ttu-id="c81e8-108">Un'applicazione può usare la funzione [**RegEnumValue**](/windows/desktop/api/Winreg/nf-winreg-regenumvaluea) per enumerare i valori per una determinata chiave e la funzione [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) per recuperare un determinato valore per una chiave.</span><span class="sxs-lookup"><span data-stu-id="c81e8-108">An application can use the [**RegEnumValue**](/windows/desktop/api/Winreg/nf-winreg-regenumvaluea) function to enumerate the values for a given key, and [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) function to retrieve a particular value for a key.</span></span> <span data-ttu-id="c81e8-109">Un'applicazione in genere chiama **RegEnumValue** per determinare i nomi dei valori e quindi **RegQueryValueEx** per recuperare i dati per i nomi.</span><span class="sxs-lookup"><span data-stu-id="c81e8-109">An application typically calls **RegEnumValue** to determine the value names and then **RegQueryValueEx** to retrieve the data for the names.</span></span>

<span data-ttu-id="c81e8-110">La funzione [**RegQueryMultipleValues**](/windows/desktop/api/Winreg/nf-winreg-regquerymultiplevaluesa) Recupera il tipo e i dati per un elenco di nomi di valore associato a una chiave del registro di sistema aperta.</span><span class="sxs-lookup"><span data-stu-id="c81e8-110">The [**RegQueryMultipleValues**](/windows/desktop/api/Winreg/nf-winreg-regquerymultiplevaluesa) function retrieves the type and data for a list of value names associated with an open registry key.</span></span> <span data-ttu-id="c81e8-111">Questa funzione è utile per i provider di chiavi dinamiche perché garantisce la coerenza dei dati recuperando più valori in un'operazione atomica.</span><span class="sxs-lookup"><span data-stu-id="c81e8-111">This function is useful for dynamic key providers because it assures consistency of data by retrieving multiple values in an atomic operation.</span></span>

<span data-ttu-id="c81e8-112">Poiché altre applicazioni possono modificare i dati in un valore del registro di sistema tra il momento in cui l'applicazione è in grado di leggere un valore e usarla, potrebbe essere necessario assicurarsi che l'applicazione disponga dei dati più recenti.</span><span class="sxs-lookup"><span data-stu-id="c81e8-112">Because other applications can change the data in a registry value between the time your application can read a value and use it, you may need to ensure your application has the latest data.</span></span> <span data-ttu-id="c81e8-113">È possibile usare la funzione [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) per notificare al thread chiamante quando sono state apportate modifiche agli attributi o al contenuto di una chiave del registro di sistema oppure se la chiave è stata eliminata.</span><span class="sxs-lookup"><span data-stu-id="c81e8-113">You can use the [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) function to notify the calling thread when there are changes to the attributes or contents of a registry key, or if the key is deleted.</span></span> <span data-ttu-id="c81e8-114">La funzione segnala a un oggetto evento di inviare una notifica al chiamante.</span><span class="sxs-lookup"><span data-stu-id="c81e8-114">The function signals an event object to notify the caller.</span></span> <span data-ttu-id="c81e8-115">Se il thread che chiama **RegNotifyChangeKeyValue** si chiude, l'evento viene segnalato e il monitoraggio della chiave del registro di sistema viene interrotto.</span><span class="sxs-lookup"><span data-stu-id="c81e8-115">If the thread that calls **RegNotifyChangeKeyValue** exits, the event is signaled and the monitoring of the registry key is stopped.</span></span>

<span data-ttu-id="c81e8-116">È possibile controllare o specificare le modifiche che devono essere segnalate tramite l'uso di un filtro o di un flag di notifica.</span><span class="sxs-lookup"><span data-stu-id="c81e8-116">You can control or specify what changes should be reported through the use of a notify filter or flag.</span></span> <span data-ttu-id="c81e8-117">In genere, le modifiche vengono segnalate segnalando un evento specificato alla funzione.</span><span class="sxs-lookup"><span data-stu-id="c81e8-117">Usually, changes are reported by signaling an event that you specify to the function.</span></span> <span data-ttu-id="c81e8-118">Si noti che la funzione [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) non funziona con gli handle remoti.</span><span class="sxs-lookup"><span data-stu-id="c81e8-118">Note that the [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) function does not work with remote handles.</span></span>

<span data-ttu-id="c81e8-119">Per monitorare le operazioni del registro di sistema in modo più dettagliato, vedere [**Registro di sistema**](/windows/desktop/ETW/registry).</span><span class="sxs-lookup"><span data-stu-id="c81e8-119">To monitor registry operations in more detail, see [**Registry**](/windows/desktop/ETW/registry).</span></span>

 

 
