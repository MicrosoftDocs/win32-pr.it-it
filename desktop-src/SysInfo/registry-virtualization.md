---
description: La virtualizzazione del registro di sistema è una tecnologia di compatibilità delle applicazioni che consente di reindirizzare le operazioni di scrittura del registro di sistema a posizioni per utente.
ms.assetid: dace2f65-df60-419a-8be8-ab60668e6396
title: Virtualizzazione del registro di sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 642bda46b43fc0b4f7efa60cfcd9e2178643811f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "106319888"
---
# <a name="registry-virtualization"></a><span data-ttu-id="e57bd-103">Virtualizzazione del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="e57bd-103">Registry Virtualization</span></span>

<span data-ttu-id="e57bd-104">La *virtualizzazione del registro di sistema* è una tecnologia di compatibilità delle applicazioni che consente di reindirizzare le operazioni di scrittura del registro di sistema a posizioni per utente.</span><span class="sxs-lookup"><span data-stu-id="e57bd-104">*Registry virtualization* is an application compatibility technology that enables registry write operations that have global impact to be redirected to per-user locations.</span></span> <span data-ttu-id="e57bd-105">Questo reindirizzamento è trasparente per le applicazioni che leggono o scrivono nel registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="e57bd-105">This redirection is transparent to applications reading from or writing to the registry.</span></span> <span data-ttu-id="e57bd-106">È supportato a partire da Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="e57bd-106">It is supported starting with Windows Vista.</span></span>

<span data-ttu-id="e57bd-107">Questa forma di virtualizzazione è una tecnologia provvisoria per la compatibilità delle applicazioni. Microsoft intende rimuoverlo dalle versioni future del sistema operativo Windows, in quanto le altre applicazioni vengono rese compatibili con Windows Vista e versioni successive di Windows.</span><span class="sxs-lookup"><span data-stu-id="e57bd-107">This form of virtualization is an interim application compatibility technology; Microsoft intends to remove it from future versions of the Windows operating system as more applications are made compatible with Windows Vista and later versions of Windows.</span></span> <span data-ttu-id="e57bd-108">Pertanto, è importante che l'applicazione non diventi dipendente dal comportamento della virtualizzazione del registro di sistema nel sistema.</span><span class="sxs-lookup"><span data-stu-id="e57bd-108">Therefore, it is important that your application does not become dependent on the behavior of registry virtualization in the system.</span></span>

<span data-ttu-id="e57bd-109">La virtualizzazione è destinata solo a garantire la compatibilità per le applicazioni esistenti.</span><span class="sxs-lookup"><span data-stu-id="e57bd-109">Virtualization is intended only to provide compatibility for existing applications.</span></span> <span data-ttu-id="e57bd-110">Le applicazioni progettate per Windows Vista e le versioni successive di Windows non devono scrivere in aree di sistema sensibili, né devono basarsi sulla virtualizzazione per risolvere eventuali problemi.</span><span class="sxs-lookup"><span data-stu-id="e57bd-110">Applications designed for Windows Vista and later versions of Windows should not write to sensitive system areas, nor should they rely on virtualization to remedy any problems.</span></span> <span data-ttu-id="e57bd-111">Quando si aggiorna il codice esistente per l'esecuzione in Windows Vista e nelle versioni successive di Windows, gli sviluppatori devono assicurarsi che le applicazioni memorizzino solo i dati in percorsi per utente o in posizioni del computer all'interno di% ALLUSERPROFILE% che usino correttamente un elenco di controllo di accesso (ACL).</span><span class="sxs-lookup"><span data-stu-id="e57bd-111">When updating existing code to run on Windows Vista and later versions of Windows, developers should ensure that applications only store data in per-user locations or in computer locations within %alluserprofile% that properly use an access control list (ACL).</span></span>

<span data-ttu-id="e57bd-112">Per ulteriori informazioni sulla compilazione di applicazioni conformi a UAC, vedere la [Guida per sviluppatori UAC](/previous-versions/dotnet/articles/aa480150(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="e57bd-112">For more information about building UAC-compliant applications, see the [UAC Developer Guide](/previous-versions/dotnet/articles/aa480150(v=msdn.10)).</span></span>

## <a name="virtualization-overview"></a><span data-ttu-id="e57bd-113">Panoramica della virtualizzazione</span><span class="sxs-lookup"><span data-stu-id="e57bd-113">Virtualization Overview</span></span>

<span data-ttu-id="e57bd-114">Prima di Windows Vista, le applicazioni venivano generalmente eseguite dagli amministratori.</span><span class="sxs-lookup"><span data-stu-id="e57bd-114">Prior to Windows Vista, applications were typically run by administrators.</span></span> <span data-ttu-id="e57bd-115">Di conseguenza, le applicazioni possono accedere liberamente ai file di sistema e alle chiavi del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="e57bd-115">As a result, applications could freely access system files and registry keys.</span></span> <span data-ttu-id="e57bd-116">Se queste applicazioni venivano eseguite da un utente standard, avrebbero esito negativo a causa di diritti di accesso insufficienti.</span><span class="sxs-lookup"><span data-stu-id="e57bd-116">If these applications were run by a standard user, they would fail due to insufficient access rights.</span></span> <span data-ttu-id="e57bd-117">Windows Vista e le versioni successive di Windows migliorano la compatibilità delle applicazioni per queste applicazioni tramite il reindirizzamento automatico di tali operazioni.</span><span class="sxs-lookup"><span data-stu-id="e57bd-117">Windows Vista and later versions of Windows improve application compatibility for these applications by automatically redirecting these operations.</span></span> <span data-ttu-id="e57bd-118">Ad esempio, le operazioni del registro di sistema per l'archivio globale (**\_ \_ \\ software del computer locale HKEY**) vengono reindirizzate a una posizione per utente all'interno del profilo dell'utente noto come *archivio virtuale* (**HKEY \_ Users \\ <User SID> \_ Classes \\ VirtualStore \\ Machine \\ software**).</span><span class="sxs-lookup"><span data-stu-id="e57bd-118">For example, registry operations to the global store (**HKEY\_LOCAL\_MACHINE\\Software**) are redirected to a per-user location within the user's profile known as the *virtual store* (**HKEY\_USERS\\<User SID>\_Classes\\VirtualStore\\Machine\\Software**).</span></span>

<span data-ttu-id="e57bd-119">La virtualizzazione del registro di sistema può essere ampiamente classificata nei seguenti tipi:</span><span class="sxs-lookup"><span data-stu-id="e57bd-119">Registry virtualization can be broadly classified into the following types:</span></span>

<dl> <dt>

<span data-ttu-id="e57bd-120"><span id="Open_Registry_Virtualization"></span><span id="open_registry_virtualization"></span><span id="OPEN_REGISTRY_VIRTUALIZATION"></span>Apri la virtualizzazione del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="e57bd-120"><span id="Open_Registry_Virtualization"></span><span id="open_registry_virtualization"></span><span id="OPEN_REGISTRY_VIRTUALIZATION"></span>Open Registry Virtualization</span></span>
</dt> <dd>

<span data-ttu-id="e57bd-121">Se il chiamante non dispone dell'accesso in scrittura a una chiave e tenta di aprire la chiave, la chiave viene aperta con l'accesso massimo consentito per quel chiamante.</span><span class="sxs-lookup"><span data-stu-id="e57bd-121">If the caller does not have write access to a key and attempts to open the key, the key is opened with the maximum allowed access for that caller.</span></span>

<span data-ttu-id="e57bd-122">Se \_ \_ \_ \_ per la chiave è impostato il flag reg key dont Silent Fail, l'operazione ha esito negativo e la chiave non è aperta.</span><span class="sxs-lookup"><span data-stu-id="e57bd-122">If the REG\_KEY\_DONT\_SILENT\_FAIL flag is set for the key, the operation fails and the key is not opened.</span></span> <span data-ttu-id="e57bd-123">Per ulteriori informazioni, vedere "controllo della virtualizzazione del registro di sistema" più avanti in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="e57bd-123">For more information, see "Controlling Registry Virtualization" later in this topic.</span></span>

</dd> <dt>

<span data-ttu-id="e57bd-124"><span id="Write_Registry_Virtualization"></span><span id="write_registry_virtualization"></span><span id="WRITE_REGISTRY_VIRTUALIZATION"></span>Scrivi la virtualizzazione del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="e57bd-124"><span id="Write_Registry_Virtualization"></span><span id="write_registry_virtualization"></span><span id="WRITE_REGISTRY_VIRTUALIZATION"></span>Write Registry Virtualization</span></span>
</dt> <dd>

<span data-ttu-id="e57bd-125">Se il chiamante non dispone dell'accesso in scrittura a una chiave e tenta di scrivervi un valore o di creare una sottochiave, il valore viene scritto nell'archivio virtuale.</span><span class="sxs-lookup"><span data-stu-id="e57bd-125">If the caller does not have write access to a key and attempts to write a value to it or create a subkey, the value is written to the virtual store.</span></span>

<span data-ttu-id="e57bd-126">Se, ad esempio, un utente con limitazioni tenta di scrivere un valore nella chiave seguente **: \_ HKEY \_ computer locale \\ software** \\ *AppKey1*, la virtualizzazione reindirizza l'operazione di scrittura a **HKEY \_ utenti \\ <User SID> \_ classi \\ VirtualStore \\ computer \\ software** \\ *AppKey1*.</span><span class="sxs-lookup"><span data-stu-id="e57bd-126">For example, if a limited user attempts to write a value to the following key: **HKEY\_LOCAL\_MACHINE\\Software**\\*AppKey1*, virtualization redirects the write operation to **HKEY\_USERS\\<User SID>\_Classes\\VirtualStore\\Machine\\Software**\\*AppKey1*.</span></span>

</dd> <dt>

<span data-ttu-id="e57bd-127"><span id="Read_Registry_Virtualization"></span><span id="read_registry_virtualization"></span><span id="READ_REGISTRY_VIRTUALIZATION"></span>Leggi la virtualizzazione del registro</span><span class="sxs-lookup"><span data-stu-id="e57bd-127"><span id="Read_Registry_Virtualization"></span><span id="read_registry_virtualization"></span><span id="READ_REGISTRY_VIRTUALIZATION"></span>Read Registry Virtualization</span></span>
</dt> <dd>

<span data-ttu-id="e57bd-128">Se il chiamante legge da una chiave virtualizzata, il registro di sistema presenta una visualizzazione unita dei valori virtualizzati (dall'archivio virtuale) e dei valori non virtuali (dall'archivio globale) al chiamante.</span><span class="sxs-lookup"><span data-stu-id="e57bd-128">If the caller reads from a key that is virtualized, the registry presents a merged view of both the virtualized values (from the virtual store) and the non-virtual values (from the global store) to the caller.</span></span>

<span data-ttu-id="e57bd-129">Si supponga, ad esempio, che **HKEY \_ Local \_ Machine \\ software** \\ *AppKey1* contenga due valori V1 e V2 e che un utente con limitazioni scriva un valore V3 nella chiave.</span><span class="sxs-lookup"><span data-stu-id="e57bd-129">For example, suppose **HKEY\_LOCAL\_MACHINE\\Software**\\*AppKey1* contains two values V1 and V2 and that a limited user writes a value V3 to the key.</span></span> <span data-ttu-id="e57bd-130">Quando l'utente tenta di leggere i valori da questa chiave, la visualizzazione unita include i valori V1 e V2 dall'archivio globale e il valore V3 dall'archivio virtuale.</span><span class="sxs-lookup"><span data-stu-id="e57bd-130">When the user attempts to read values from this key, the merged view includes values V1 and V2 from the global store and value V3 from the virtual store.</span></span>

<span data-ttu-id="e57bd-131">Si noti che i valori virtuali hanno la precedenza sui valori globali, se presenti.</span><span class="sxs-lookup"><span data-stu-id="e57bd-131">Note that virtual values take precedence over global values when present.</span></span> <span data-ttu-id="e57bd-132">Nell'esempio precedente, anche se l'archivio globale presentava il valore V3 sotto questa chiave, il valore V3 verrebbe comunque restituito al chiamante dall'archivio virtuale.</span><span class="sxs-lookup"><span data-stu-id="e57bd-132">In the example above, even if the global store had value V3 under this key, the value V3 would still be returned to the caller from the virtual store.</span></span> <span data-ttu-id="e57bd-133">Se V3 venisse eliminato dall'archivio virtuale, l'archivio globale restituirebbe V3.</span><span class="sxs-lookup"><span data-stu-id="e57bd-133">If V3 were to be deleted from the virtual store, then V3 would be returned from the global store.</span></span> <span data-ttu-id="e57bd-134">In altre parole, se V3 venisse eliminato dalle **\_ classi HKEY Users \\ <User SID> \_ \\ VirtualStore \\ Machine \\ software** \\ *AppKey1* ma **HKEY \_ Local \_ Machine \\ software** \\ *AppKey1* aveva un valore V3, tale valore verrebbe restituito dall'archivio globale.</span><span class="sxs-lookup"><span data-stu-id="e57bd-134">In other words, if V3 were to be deleted from **HKEY\_USERS\\<User SID>\_Classes\\VirtualStore\\Machine\\Software**\\*AppKey1* but **HKEY\_LOCAL\_MACHINE\\Software**\\*AppKey1* had a value V3, then that value would be returned from the global store.</span></span>

</dd> </dl>

## <a name="registry-virtualization-scope"></a><span data-ttu-id="e57bd-135">Ambito di virtualizzazione del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="e57bd-135">Registry Virtualization Scope</span></span>

<span data-ttu-id="e57bd-136">La virtualizzazione del registro di sistema è abilitata solo per gli elementi seguenti:</span><span class="sxs-lookup"><span data-stu-id="e57bd-136">Registry virtualization is enabled only for the following:</span></span>

-   <span data-ttu-id="e57bd-137">processi interattivi a 32 bit.</span><span class="sxs-lookup"><span data-stu-id="e57bd-137">32-bit interactive processes.</span></span>
-   <span data-ttu-id="e57bd-138">Chiavi nel **\_ software del \_ computer \\ locale HKEY**.</span><span class="sxs-lookup"><span data-stu-id="e57bd-138">Keys in **HKEY\_LOCAL\_MACHINE\\Software**.</span></span>
-   <span data-ttu-id="e57bd-139">Chiavi in cui un amministratore può scrivere.</span><span class="sxs-lookup"><span data-stu-id="e57bd-139">Keys that an administrator can write to.</span></span> <span data-ttu-id="e57bd-140">Se un amministratore non è in grado di scrivere su una chiave, l'applicazione potrebbe non riuscire nelle versioni precedenti di Windows, anche se è stata eseguita da un amministratore.</span><span class="sxs-lookup"><span data-stu-id="e57bd-140">(If an administrator cannot write to a key, then the application would have failed on previous versions of Windows even if it was run by an administrator.)</span></span>

<span data-ttu-id="e57bd-141">La virtualizzazione del registro di sistema è disabilitata per quanto segue:</span><span class="sxs-lookup"><span data-stu-id="e57bd-141">Registry virtualization is disabled for the following:</span></span>

-   <span data-ttu-id="e57bd-142">processi a 64 bit.</span><span class="sxs-lookup"><span data-stu-id="e57bd-142">64-bit processes.</span></span>
-   <span data-ttu-id="e57bd-143">Processi non interattivi, ad esempio i servizi.</span><span class="sxs-lookup"><span data-stu-id="e57bd-143">Processes that are not interactive, such as services.</span></span>

    <span data-ttu-id="e57bd-144">Si noti che l'uso del registro di sistema come meccanismo di comunicazione interprocesso (IPC) tra un servizio (o qualsiasi altro processo che non dispone della virtualizzazione abilitata) e che un'applicazione non funzionerà correttamente se la chiave è virtualizzata.</span><span class="sxs-lookup"><span data-stu-id="e57bd-144">Note that using the registry as an inter-process communication (IPC) mechanism between a service (or any other process that does not have virtualization enabled) and an application will not work correctly if the key is virtualized.</span></span> <span data-ttu-id="e57bd-145">Ad esempio, se un servizio antivirus aggiorna i file della firma in base a un valore impostato da un'applicazione, il servizio non aggiornerà mai i file della firma perché il servizio legge dall'archivio globale, ma l'applicazione scrive nell'archivio virtuale.</span><span class="sxs-lookup"><span data-stu-id="e57bd-145">For instance, if an antivirus service updates its signature files based on a value set by an application, the service will never update its signature files because the service reads from the global store but the application writes to the virtual store.</span></span>

-   <span data-ttu-id="e57bd-146">Processi che rappresentano un utente.</span><span class="sxs-lookup"><span data-stu-id="e57bd-146">Processes that impersonate a user.</span></span> <span data-ttu-id="e57bd-147">Se un processo tenta di eseguire un'operazione durante la rappresentazione di un utente, tale operazione non verrà virtualizzata.</span><span class="sxs-lookup"><span data-stu-id="e57bd-147">If a process attempts an operation while impersonating a user, that operation will not be virtualized.</span></span>
-   <span data-ttu-id="e57bd-148">Processi in modalità kernel quali i driver.</span><span class="sxs-lookup"><span data-stu-id="e57bd-148">Kernel-mode processes such as drivers.</span></span>
-   <span data-ttu-id="e57bd-149">Processi con **requestedExecutionLevel** specificati nei rispettivi manifesti.</span><span class="sxs-lookup"><span data-stu-id="e57bd-149">Processes that have **requestedExecutionLevel** specified in their manifests.</span></span>
-   <span data-ttu-id="e57bd-150">Chiavi e sottochiavi delle **\_ \_ \\ \\ classi software del computer locale HKEY**, **\_ software del computer locale HKEY \_ \\ \\ Microsoft \\ Windows** e **HKEY \_ \_ computer locale \\ software \\ Microsoft \\ Windows NT**.</span><span class="sxs-lookup"><span data-stu-id="e57bd-150">Keys and subkeys of **HKEY\_LOCAL\_MACHINE\\Software\\Classes**, **HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows**, and **HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT**.</span></span>

## <a name="controlling-registry-virtualization"></a><span data-ttu-id="e57bd-151">Controllo della virtualizzazione del registro di sistema</span><span class="sxs-lookup"><span data-stu-id="e57bd-151">Controlling Registry Virtualization</span></span>

<span data-ttu-id="e57bd-152">Oltre a controllare la virtualizzazione a livello di applicazione usando **requestedExecutionLevel** nel manifesto, un amministratore può abilitare o disabilitare la virtualizzazione per chiavi in base al **\_ \_ \\ software del computer locale HKEY**.</span><span class="sxs-lookup"><span data-stu-id="e57bd-152">In addition to controlling virtualization at an application level by using **requestedExecutionLevel** in the manifest, an administrator can enable or disable virtualization on a per-key basis for keys in **HKEY\_LOCAL\_MACHINE\\Software**.</span></span> <span data-ttu-id="e57bd-153">A tale scopo, usare l'opzione Reg.exe flag dell'utilità della riga di comando con i flag elencati nella tabella seguente.</span><span class="sxs-lookup"><span data-stu-id="e57bd-153">To do this, use the Reg.exe command-line utility FLAGS option with the flags listed in the following table.</span></span>



| <span data-ttu-id="e57bd-154">Contrassegno</span><span class="sxs-lookup"><span data-stu-id="e57bd-154">Flag</span></span>                         | <span data-ttu-id="e57bd-155">Significato</span><span class="sxs-lookup"><span data-stu-id="e57bd-155">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e57bd-156">\_chiave reg \_ \_ \_ non riuscita</span><span class="sxs-lookup"><span data-stu-id="e57bd-156">REG\_KEY\_DONT\_SILENT\_FAIL</span></span> | <span data-ttu-id="e57bd-157">Questo flag Disabilita la virtualizzazione aperta del registro di sistema.</span><span class="sxs-lookup"><span data-stu-id="e57bd-157">This flag disables open registry virtualization.</span></span> <span data-ttu-id="e57bd-158">Se questo flag è impostato e un'operazione di apertura non riesce su una chiave abilitata per la virtualizzazione, il registro di sistema non tenta di riaprire la chiave.</span><span class="sxs-lookup"><span data-stu-id="e57bd-158">If this flag is set and an open operation fails on a key that has virtualization enabled, the registry does not attempt to reopen the key.</span></span> <span data-ttu-id="e57bd-159">Se questo flag è chiaro, il registro di sistema tenta di riaprire la chiave con l' \_ accesso massimo consentito anziché l'accesso richiesto.</span><span class="sxs-lookup"><span data-stu-id="e57bd-159">If this flag is clear, the registry attempts to reopen the key with MAXIMUM\_ALLOWED access instead of the requested access.</span></span>                                                                   |
| <span data-ttu-id="e57bd-160">\_chiave reg \_ dont \_ virtualizzare</span><span class="sxs-lookup"><span data-stu-id="e57bd-160">REG\_KEY\_DONT\_VIRTUALIZE</span></span>   | <span data-ttu-id="e57bd-161">Questo flag Disabilita la virtualizzazione del registro di sistema per la scrittura.</span><span class="sxs-lookup"><span data-stu-id="e57bd-161">This flag disables write registry virtualization.</span></span> <span data-ttu-id="e57bd-162">Se questo flag è impostato e l'operazione Create Key o set value ha esito negativo perché il chiamante non dispone di diritti di accesso sufficienti per la chiave padre, l'operazione non riesce.</span><span class="sxs-lookup"><span data-stu-id="e57bd-162">If this flag is set and a create key or set value operation fails because the caller does not have sufficient access right to the parent key, the registry fails the operation.</span></span> <span data-ttu-id="e57bd-163">Se questo flag è chiaro, il registro di sistema tenta di scrivere la chiave o il valore nell'archivio virtuale.</span><span class="sxs-lookup"><span data-stu-id="e57bd-163">If this flag is clear, the registry attempts to write the key or value in the virtual store.</span></span> <span data-ttu-id="e57bd-164">Il chiamante deve avere la chiave \_ Read right sulla chiave padre.</span><span class="sxs-lookup"><span data-stu-id="e57bd-164">The caller must have the KEY\_READ right on the parent key.</span></span> |
| <span data-ttu-id="e57bd-165">\_flag di \_ rimaledizione della chiave reg \_</span><span class="sxs-lookup"><span data-stu-id="e57bd-165">REG\_KEY\_RECURSE\_FLAG</span></span>      | <span data-ttu-id="e57bd-166">Se questo flag è impostato, i flag di virtualizzazione del registro di sistema vengono propagati dalla chiave padre.</span><span class="sxs-lookup"><span data-stu-id="e57bd-166">If this flag is set, registry virtualization flags are propagated from the parent key.</span></span> <span data-ttu-id="e57bd-167">Se questo flag è chiaro, i flag di virtualizzazione del registro di sistema non vengono propagati.</span><span class="sxs-lookup"><span data-stu-id="e57bd-167">If this flag is clear, registry virtualization flags are not propagated.</span></span> <span data-ttu-id="e57bd-168">La modifica di questo flag influiscono solo sulle nuove chiavi discendenti create dopo la modifica del flag.</span><span class="sxs-lookup"><span data-stu-id="e57bd-168">Changing this flag affects only new descendent keys created after the flag is changed.</span></span> <span data-ttu-id="e57bd-169">Non imposta o deseleziona questi flag per le chiavi discendenti esistenti.</span><span class="sxs-lookup"><span data-stu-id="e57bd-169">It does not set or clear these flags for existing descendent keys.</span></span>                                                                  |



 

<span data-ttu-id="e57bd-170">Nell'esempio seguente viene illustrato l'utilizzo dell'utilità della riga di comando Reg.exe con l'opzione FLAGs per eseguire una query sullo stato dei flag di virtualizzazione per una chiave.</span><span class="sxs-lookup"><span data-stu-id="e57bd-170">The following example shows the use of the Reg.exe command-line utility with the FLAGS option to query the state of the virtualization flags for a key.</span></span>

``` syntax
C:\>reg flags HKLM\Software\AppKey1 QUERY

HKEY_LOCAL_MACHINE\Software\AppKey1

        REG_KEY_DONT_VIRTUALIZE: CLEAR
        REG_KEY_DONT_SILENT_FAIL: CLEAR
        REG_KEY_RECURSE_FLAG: CLEAR

The operation completed successfully.
```

<span data-ttu-id="e57bd-171">Ogni volta che il controllo è abilitato su una chiave virtualizzata, viene generato un nuovo evento di controllo della virtualizzazione per indicare che la chiave è stata virtualizzata (oltre ai normali eventi di controllo).</span><span class="sxs-lookup"><span data-stu-id="e57bd-171">Whenever auditing is enabled on a key that is being virtualized, a new virtualization audit event is generated to indicate that the key is being virtualized (addition to the usual audit events).</span></span> <span data-ttu-id="e57bd-172">Gli amministratori possono utilizzare queste informazioni per monitorare lo stato della virtualizzazione nei propri sistemi.</span><span class="sxs-lookup"><span data-stu-id="e57bd-172">Administrators can use this information to monitor the status of virtualization on their systems.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e57bd-173">Argomenti correlati</span><span class="sxs-lookup"><span data-stu-id="e57bd-173">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="e57bd-174">[Introduzione con controllo dell'account utente](/previous-versions/windows/it-pro/windows-vista/cc507861(v=technet.10))</span><span class="sxs-lookup"><span data-stu-id="e57bd-174">[Getting Started with User Account Control](/previous-versions/windows/it-pro/windows-vista/cc507861(v=technet.10))</span></span>
</dt> <dt>

<span data-ttu-id="e57bd-175">[Informazioni e configurazione del controllo dell'account utente](/previous-versions/windows/it-pro/windows-vista/cc709628(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="e57bd-175">[Understanding and Configuring User Account Control](/previous-versions/windows/it-pro/windows-vista/cc709628(v=ws.10))</span></span>
</dt> <dt>

<span data-ttu-id="e57bd-176">[Procedure consigliate e linee guida per gli sviluppatori per le applicazioni in un ambiente con privilegi minimi](/previous-versions/dotnet/articles/aa480150(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="e57bd-176">[Developer Best Practices and Guidelines for Applications in a Least Privileged Environment](/previous-versions/dotnet/articles/aa480150(v=msdn.10))</span></span>
</dt> </dl>

 

 
