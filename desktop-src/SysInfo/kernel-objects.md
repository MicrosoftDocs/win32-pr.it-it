---
description: Gli handle di oggetto kernel sono specifici del processo.
ms.assetid: 3e3288dd-155a-41d0-9d43-5f49ed4c4a9d
title: Oggetti kernel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f115229d11485ec14d530d87fb0e26451aaa1059752ae8d52cea40849256802b
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/11/2021
ms.locfileid: "117958228"
---
# <a name="kernel-objects"></a>Oggetti kernel

Gli handle di oggetto kernel sono specifici del processo. Ciò significa che un processo deve creare l'oggetto o aprire un oggetto esistente per ottenere un handle di oggetto kernel. Il limite per processo per gli handle del kernel è 2^24. Tuttavia, gli handle vengono archiviati nel pool di paging, quindi il numero effettivo di handle che è possibile creare è basato sulla memoria disponibile. Il numero di handle che è possibile creare in un Windows a 32 bit è significativamente inferiore a 2^24.

Qualsiasi processo può creare un nuovo handle per un oggetto kernel esistente (anche uno creato da un altro processo), a condizione che il processo conosca il nome dell'oggetto e abbia accesso di sicurezza all'oggetto. Gli handle di oggetto kernel includono diritti di accesso che indicano le azioni che possono essere concesse o negate a un processo. Un'applicazione specifica i diritti di accesso quando crea un oggetto o ottiene un handle di oggetto esistente. Ogni tipo di oggetto kernel supporta il proprio set di diritti di accesso. Ad esempio, gli handle di evento possono avere accesso impostato o in attesa (o entrambi), gli handle di file possono avere accesso in lettura o scrittura (o entrambi) e così via. Per altre informazioni, vedere [Oggetti a protezione diretta.](/windows/desktop/SecAuthZ/securable-objects)

Nella figura seguente un'applicazione crea un oggetto evento. La [**funzione CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) crea l'oggetto evento e restituisce un handle di oggetto.

![applicazione che crea un oggetto evento](images/cshob-03.png)

Dopo aver creato l'oggetto evento, l'applicazione può usare l'handle dell'evento per impostare o attendere l'evento. L'handle rimane valido fino a quando l'applicazione non chiude l'handle o termina.

La maggior parte degli oggetti kernel supporta più handle per un singolo oggetto. Ad esempio, l'applicazione nella figura precedente potrebbe ottenere altri handle di oggetto evento usando la [**funzione OpenEvent,**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) come illustrato nella figura seguente.

![applicazione che crea un oggetto evento con più handle](images/cshob-04.png)

Questo metodo consente a un'applicazione di avere handle con diritti di accesso diversi. Ad esempio, l'handle 1 potrebbe avere impostato e attendere l'accesso all'evento e l'handle 2 potrebbe avere solo l'accesso in attesa.

Se un altro processo conosce il nome dell'evento e ha accesso di sicurezza all'oggetto, può creare il proprio handle di oggetto evento usando [**OpenEvent.**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) L'applicazione di creazione potrebbe anche duplicare uno dei relativi handle nello stesso processo o in un altro processo usando la [**funzione DuplicateHandle.**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle)

Un oggetto rimane in memoria finché esiste almeno un handle di oggetto. Nella figura seguente le applicazioni usano la funzione [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle) per chiudere gli handle degli oggetti evento. Quando non sono presenti handle di evento, il sistema rimuove l'oggetto dalla memoria, come illustrato nella figura seguente.

![handle dell'oggetto evento di chiusura dell'applicazione per rimuovere l'oggetto dalla memoria](images/cshob-08.png)

Il sistema gestisce gli oggetti file in modo leggermente diverso dagli altri oggetti kernel. Gli oggetti file contengono il puntatore del file , ovvero il puntatore al byte successivo da leggere o scrivere in un file. Ogni volta che un'applicazione crea un nuovo handle di file, il sistema crea un nuovo oggetto file. Di conseguenza, più di un oggetto file può fare riferimento a un singolo file su disco, come illustrato nella figura seguente.

![più oggetti file che fanno riferimento a un file su disco](images/cshob-09.png)

Solo tramite duplicazione o ereditarietà, più handle di file possono fare riferimento allo stesso oggetto file, come illustrato nella figura seguente.

![due handle di file fanno riferimento allo stesso oggetto file](images/cshob-10.png)

Nella tabella seguente sono elencati tutti gli oggetti kernel, insieme alle funzioni di creatore e di distruzione di ogni oggetto. Le funzioni di creazione creano l'oggetto e un handle di oggetto oppure creano un nuovo handle di oggetto esistente. Le funzioni destroyer chiudono l'handle di oggetto. Quando un'applicazione chiude l'ultimo handle a un oggetto kernel, il sistema rimuove l'oggetto dalla memoria.



| Oggetto kernel                | Funzione Creator                                                                                                                                                                                                                                                  | Funzione Destroyer                                                                      |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| Token di accesso                 | [**CreateRestrictedToken,**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken) [**DuplicateToken,**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetoken) [**DuplicateTokenEx,**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetokenex) [**OpenProcessToken,**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocesstoken) [**OpenThreadToken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Notifica di modifica          | [**FindFirstChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findfirstchangenotificationa)                                                                                                                                                                                                 | [**FindCloseChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findclosechangenotification)                       |
| Dispositivo di comunicazione        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                   | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Input della console                | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea), con CONIN$                                                                                                                                                                                                                      | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Buffer dello schermo della console        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea), con CONOUT$                                                                                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Desktop                      | [**GetThreadDesktop**](/windows/desktop/api/winuser/nf-winuser-getthreaddesktop)                                                                                                                                                                                                                     | Le applicazioni non possono eliminare questo oggetto.                                                 |
| Evento                        | [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa), [**CreateEventEx**](/windows/desktop/api/synchapi/nf-synchapi-createeventexa), [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa)                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Registro eventi                    | [**OpenEventLog**](/windows/desktop/api/winbase/nf-winbase-openeventloga), [**RegisterEventSource**](/windows/desktop/api/winbase/nf-winbase-registereventsourcea), [**OpenBackupEventLog**](/windows/desktop/api/winbase/nf-winbase-openbackupeventloga)                                                                                                                     | [**CloseEventLog**](/windows/desktop/api/winbase/nf-winbase-closeeventlog)                                                 |
| File                         | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                 | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)                     |
| Mapping dei file                 | [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga), [ **OpenFileMapping**](/windows/desktop/api/winbase/nf-winbase-openfilemappinga)                                                                                                                                                                          | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Trova file                    | [**Findfirstfile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea)                                                                                                                                                                                                                             | [**FindClose**](/windows/desktop/api/fileapi/nf-fileapi-findclose)                                                           |
| Heap                         | [**HeapCrea**](/windows/desktop/api/heapapi/nf-heapapi-heapcreate)                                                                                                                                                                                                                                 | [**HeapDestroy**](/windows/desktop/api/heapapi/nf-heapapi-heapdestroy)                                                     |
| Porta di completamento I/O          | [**CreateIoCompletionPort**](/windows/desktop/FileIO/createiocompletionport)                                                                                                                                                                                                           | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Processo                          | [**CreateJobObject**](/windows/desktop/api/winbase/nf-winbase-createjobobjecta)                                                                                                                                                                                                                       | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Mailslot                     | [**CreateMailslot**](/windows/desktop/api/winbase/nf-winbase-createmailslota)                                                                                                                                                                                                                         | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Notifica delle risorse di memoria | [**CreateMemoryResourceNotification**](/windows/desktop/api/memoryapi/nf-memoryapi-creatememoryresourcenotification)                                                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Modulo                       | [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya), [ **GetModuleHandle**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getmodulehandlea)                                                                                                                                                                                  | [**Freelibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary)                                                     |
| Mutex                        | [**CreateMutex,**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa) [**CreateMutexEx,**](/windows/desktop/api/synchapi/nf-synchapi-createmutexexa) [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw)                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Pipe                         | [**CreateNamedPipe**](/windows/desktop/api/winbase/nf-winbase-createnamedpipea), [ **CreatePipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-createpipe)                                                                                                                                                                                    | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DisconnectNamedPipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-disconnectnamedpipe) |
| Processo                      | [**CreateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**OpenProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocess), [**GetCurrentProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess)                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminateprocess)       |
| Semaphore                    | [**CreateSemaphore,**](/windows/desktop/api/winbase/nf-winbase-createsemaphorea) [**CreateSemaphoreEx,**](/windows/desktop/api/winbase/nf-winbase-createsemaphoreexa) [**OpenSemaphore**](/windows/win32/api/synchapi/nf-synchapi-opensemaphorew)                                                                                                                             | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Presa elettrica                       | [**socket**](/windows/desktop/api/winsock2/nf-winsock2-socket), [ **accept**](/windows/desktop/api/winsock2/nf-winsock2-accept)                                                                                                                                                                                                    | [**closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket)                                                |
| Thread                       | [**CreateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createthread), [**CreateRemoteThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createremotethread), [**GetCurrentThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentthread)                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminatethread)         |
| Timer                        | [**CreateWaitableTimer,**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) [**CreateWaitableTimerEx,**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerexw) [**OpenWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw)                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Aggiornare una risorsa              | [**BeginUpdateResource**](/windows/win32/api/winbase/nf-winbase-beginupdateresourcea)                                                                                                                                                                                                         | [**EndUpdateResource**](/windows/win32/api/winbase/nf-winbase-endupdateresourcea)                                   |
| Stazione finestra               | [**GetProcessWindowStation**](/windows/desktop/api/winuser/nf-winuser-getprocesswindowstation)                                                                                                                                                                                                       | Le applicazioni non possono eliminare questo oggetto.                                                 |



 

## <a name="related-topics"></a>Argomenti correlati

<dl> <dt>

[Spazi dei nomi degli oggetti kernel](/windows/desktop/TermServ/kernel-object-namespaces)
</dt> </dl>

 

 
