---
description: Prima di poter aggiungere dati al registro di sistema, è necessario che un'applicazione apra una chiave.
ms.assetid: db747656-b414-4594-ad39-6b476799060c
title: Chiavi predefinite
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d26668f6a5ac80339c99062cc83a270bcb62e8a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/08/2021
ms.locfileid: "103967669"
---
# <a name="predefined-keys"></a>Chiavi predefinite

Prima di poter aggiungere dati al registro di sistema, è necessario che un'applicazione apra una chiave. Per aprire una chiave, un'applicazione deve fornire un handle a un'altra chiave del registro di sistema già aperta. Il sistema definisce chiavi predefinite che sono sempre aperte. Le chiavi predefinite consentono a un'applicazione di spostarsi nel registro di sistema e di sviluppare strumenti che consentono a un amministratore di sistema di modificare le categorie di dati. Le applicazioni che aggiungono dati al registro di sistema dovrebbero funzionare sempre all'interno del Framework di chiavi predefinite, in modo che gli strumenti di amministrazione possano trovare e usare i nuovi dati.

Un'applicazione può usare gli handle per queste chiavi come punti di ingresso al registro di sistema. Questi handle sono validi per tutte le implementazioni del registro di sistema, anche se l'uso degli handle può variare dalla piattaforma alla piattaforma. Inoltre, sono stati definiti altri handle predefiniti per piattaforme specifiche. Di seguito sono riportati gli handle per le chiavi predefinite.



| Handle                                              | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **\_radice delle classi HKEY \_**<br/>                  | Le voci del registro di sistema subordinate a questa chiave definiscono i tipi (o classi) dei documenti e le proprietà associate a tali tipi. Le applicazioni shell e COM usano le informazioni archiviate in questa chiave.<br/> Questa chiave fornisce anche la compatibilità con le versioni precedenti del database di registrazione di Windows 3,1 archiviando le informazioni per il supporto per DDE e OLE. I visualizzatori di file e le estensioni dell'interfaccia utente archiviano gli identificatori di classe OLE nella **\_ \_ radice delle classi HKEY** e i server in-process sono registrati in questa chiave.<br/> Questo handle non deve essere usato in un servizio o in un'applicazione che rappresenta utenti diversi.<br/> Per ulteriori informazioni, vedere [HKEY \_ Classes \_ root](hkey-classes-root-key.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **HKEY \_ \_ configurazione corrente**<br/>                | Contiene informazioni sul profilo hardware corrente del sistema del computer locale. Le informazioni in **HKEY \_ Current \_ config** descrivono solo le differenze tra la configurazione hardware corrente e la configurazione standard. Le informazioni sulla configurazione hardware standard vengono archiviate nelle chiavi del **software** e di **sistema** del **\_ \_ computer locale HKEY**.<br/> **HKEY \_ La \_ configurazione corrente** è un alias **per \_ HKEY \_ computer \\ locale \\ CurrentControlSet \\ profili hardware \\ correnti**.<br/> Per ulteriori informazioni, vedere [HKEY \_ Current \_ config](/previous-versions/windows/it-pro/windows-server-2003/cc776168(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **HKEY \_ \_ utente corrente**<br/>                  | Le voci del registro di sistema subordinate a questa chiave definiscono le preferenze dell'utente corrente. Queste preferenze includono le impostazioni delle variabili di ambiente, i dati relativi a gruppi di programmi, colori, stampanti, connessioni di rete e preferenze dell'applicazione. Questa chiave rende più semplice stabilire le impostazioni dell'utente corrente. la chiave esegue il mapping al ramo dell'utente corrente **negli \_ utenti di HKEY**. Nell' **\_ \_ utente corrente di HKEY**, i fornitori di software archiviano le preferenze specifiche dell'utente corrente da usare all'interno delle applicazioni. Microsoft, ad esempio, crea la **chiave \_ \_ Microsoft del \\ software \\ utente corrente di HKEY** per le applicazioni da usare, con ogni applicazione che crea la propria sottochiave nella chiave **Microsoft** .<br/> Il mapping tra **l' \_ \_ utente corrente di HKEY** e **\_ gli utenti HKEY** è per processo e viene stabilito la prima volta che il processo fa riferimento a **HKEY \_ \_ utente corrente**. Il mapping è basato sul contesto di sicurezza del primo thread per fare riferimento **all' \_ \_ utente corrente di HKEY**. Se questo contesto di sicurezza non dispone di un hive del registro di sistema caricato negli **\_ utenti di HKEY**, il mapping viene stabilito con **\_ gli utenti di HKEY \\ . Impostazione predefinita**. Una volta stabilito questo mapping, questo viene reso permanente anche se il contesto di sicurezza del thread viene modificato.<br/> Tutte le voci del registro di sistema nell' **\_ \_ utente corrente di HKEY** , ad eccezione delle **\_ \_ \\ \\ classi di software utente correnti di HKEY** , sono incluse nella parte del registro di sistema per utente di un profilo utente mobile. Per escludere altre voci da un profilo utente mobile, archiviarle in **HKEY \_ \_ \_ \_ impostazioni locali dell'utente corrente**.<br/> Questo handle non deve essere usato in un servizio o in un'applicazione che rappresenta utenti diversi. Chiamare invece la funzione [**RegOpenCurrentUser**](/windows/desktop/api/Winreg/nf-winreg-regopencurrentuser) .<br/> Per ulteriori informazioni, vedere [HKEY \_ Current \_ User](/previous-versions/windows/it-pro/windows-server-2003/cc779816(v=ws.10)).<br/> |
| **HKEY \_ \_ impostazioni locali dell'utente corrente \_ \_**<br/> | Le voci del registro di sistema subordinate a questa chiave definiscono le preferenze dell'utente corrente locale per il computer. Queste voci non sono incluse nella parte del registro di sistema per utente di un profilo utente mobile. **Windows server 2008, Windows Vista, Windows server 2003 e Windows XP/2000:** Questa chiave è supportata a partire da Windows 7 e Windows Server 2008 R2.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **\_computer locale \_ HKEY**<br/>                 | Le voci del registro di sistema subordinate a questa chiave definiscono lo stato fisico del computer, inclusi i dati sul tipo di bus, sulla memoria di sistema e sull'hardware e sul software installati. Contiene sottochiavi che contengono i dati di configurazione correnti, incluse Plug and Play informazioni (il ramo **enum** , che include un elenco completo di tutti i componenti hardware che non sono mai stati presenti nel sistema), le preferenze di accesso alla rete, le informazioni sulla sicurezza di rete, le informazioni relative al software, ad esempio i nomi dei server e il percorso del server, e altre informazioni sul sistema.<br/> Per ulteriori informazioni, vedere [HKEY \_ Local \_ computer](/previous-versions/windows/it-pro/windows-server-2003/cc784983(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **\_dati sulle prestazioni di HKEY \_**<br/>              | Le voci del registro di sistema subordinate a questa chiave consentono di accedere ai dati sulle prestazioni. I dati non vengono effettivamente archiviati nel registro di sistema; le funzioni del registro di sistema causano la raccolta dei dati dall'origine da parte del sistema.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **\_NLSTEXT prestazioni \_ HKEY**<br/>           | Le voci del registro di sistema subordinate a questa chiave fanno riferimento alle stringhe di testo che descrivono i contatori nella lingua locale dell'area in cui è in esecuzione il computer. Queste voci non sono disponibili per Regedit.exe e Regedt32.exe. **Windows 2000:** Questa chiave non è supportata.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **\_testo prestazioni \_ HKEY**<br/>              | Le voci del registro di sistema subordinate a questa chiave fanno riferimento alle stringhe di testo che descrivono i contatori negli Stati Uniti Queste voci non sono disponibili per Regedit.exe e Regedt32.exe. **Windows 2000:** Questa chiave non è supportata.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **\_utenti HKEY**<br/>                          | Le voci del registro di sistema subordinate a questa chiave definiscono la configurazione utente predefinita per i nuovi utenti nel computer locale e la configurazione utente per l'utente corrente.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |



 

La funzione [**RegOverridePredefKey**](/windows/desktop/api/Winreg/nf-winreg-regoverridepredefkey) consente di eseguire il mapping di una chiave del registro di sistema predefinita a una chiave specificata nel registro di sistema. Un programma di installazione software, ad esempio, potrebbe modificare il mapping di una chiave predefinita prima di installare un componente DLL. Ciò consente al programma di installazione di esaminare facilmente le informazioni scritte dalla procedura di installazione della DLL nella chiave predefinita.

Le funzioni [**RegDisablePredefinedCache**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcache) e [**RegDisablePredefinedCacheEx**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcacheex) disabilitano la memorizzazione nella cache per gli handle predefiniti del registro di sistema. I servizi che usano la rappresentazione devono chiamare **RegDisablePredefinedCacheEx** prima di usare gli handle predefiniti del registro di sistema.

Gli handle predefiniti non sono thread-safe. La chiusura di un handle predefinito in un thread influiscono su qualsiasi altro thread che utilizza l'handle.

 

