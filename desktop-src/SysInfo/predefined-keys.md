---
description: Un'applicazione deve aprire una chiave prima di poter aggiungere dati al Registro di sistema.
ms.assetid: db747656-b414-4594-ad39-6b476799060c
title: Chiavi predefinite
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3805aaababb1a8fbdb41ca51e10e263bdee6c78f852b79a8baaa8c0fa6c200b7
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/11/2021
ms.locfileid: "118885278"
---
# <a name="predefined-keys"></a>Chiavi predefinite

Un'applicazione deve aprire una chiave prima di poter aggiungere dati al Registro di sistema. Per aprire una chiave, un'applicazione deve fornire un handle a un'altra chiave nel Registro di sistema già aperta. Il sistema definisce chiavi predefinite sempre aperte. Le chiavi predefinite consentono a un'applicazione di spostarsi nel Registro di sistema e di sviluppare strumenti che consentono a un amministratore di sistema di modificare categorie di dati. Le applicazioni che aggiungono dati al Registro di sistema devono sempre funzionare nel framework delle chiavi predefinite, in modo che gli strumenti di amministrazione possano trovare e usare i nuovi dati.

Un'applicazione può usare handle per queste chiavi come punti di ingresso al Registro di sistema. Questi handle sono validi per tutte le implementazioni del Registro di sistema, anche se l'uso degli handle può variare da piattaforma a piattaforma. Inoltre, sono stati definiti altri handle predefiniti per piattaforme specifiche. Di seguito sono riportati gli handle per le chiavi predefinite.



| Handle                                              | Descrizione                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **RADICE DELLE \_ CLASSI \_ HKEY**<br/>                  | Le voci del Registro di sistema subordinate a questa chiave definiscono i tipi (o le classi) dei documenti e le proprietà associate a tali tipi. Le applicazioni Shell e COM usano le informazioni archiviate in questa chiave.<br/> Questa chiave fornisce anche la compatibilità con le versioni precedenti Windows database di registrazione 3.1 archiviando le informazioni per il supporto DDE e OLE. I visualizzatori di file e le estensioni dell'interfaccia utente archiviano gli identificatori di classe OLE in **HKEY \_ CLASSES \_ ROOT** e i server in-process vengono registrati in questa chiave.<br/> Questo handle non deve essere usato in un servizio o in un'applicazione che rappresenta utenti diversi.<br/> Per altre informazioni, vedere [HKEY \_ CLASSES \_ ROOT](hkey-classes-root-key.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **HKEY \_ CURRENT \_ CONFIG**<br/>                | Contiene informazioni sul profilo hardware corrente del sistema del computer locale. Le informazioni in **HKEY \_ CURRENT \_ CONFIG** descrivono solo le differenze tra la configurazione hardware corrente e la configurazione standard. Le informazioni sulla configurazione hardware standard vengono archiviate nelle chiavi **Software** e **System** di **HKEY \_ LOCAL \_ MACHINE**.<br/> **HKEY \_ CURRENT \_ CONFIG** è un alias per **HKEY LOCAL MACHINE System \_ \_ \\ \\ CurrentControlSet \\ Hardware Profiles \\ Current**.<br/> Per altre informazioni, vedere [HKEY \_ CURRENT \_ CONFIG](/previous-versions/windows/it-pro/windows-server-2003/cc776168(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **HKEY \_ CURRENT \_ USER**<br/>                  | Le voci del Registro di sistema subordinate a questa chiave definiscono le preferenze dell'utente corrente. Queste preferenze includono le impostazioni delle variabili di ambiente, i dati relativi a gruppi di programmi, colori, stampanti, connessioni di rete e preferenze dell'applicazione. Questa chiave semplifica la definizione delle impostazioni dell'utente corrente. la chiave viene mappata al ramo dell'utente corrente in **HKEY \_ USERS**. In **HKEY \_ CURRENT \_ USER** i fornitori di software archiviano le preferenze correnti specifiche dell'utente da usare all'interno delle applicazioni. Microsoft, ad esempio, crea la **chiave HKEY \_ CURRENT USER \_ Software \\ \\ Microsoft** per l'uso da parte delle applicazioni, con ogni applicazione che crea la propria sottochiave sotto la **chiave Microsoft.**<br/> Il mapping tra **HKEY \_ CURRENT \_ USER** e **HKEY \_ USERS** è per ogni processo e viene stabilito la prima volta che il processo fa riferimento **a HKEY CURRENT \_ \_ USER**. Il mapping si basa sul contesto di sicurezza del primo thread per fare riferimento **a HKEY \_ CURRENT \_ USER**. Se in questo contesto di sicurezza non è caricato un hive del Registro di sistema in **HKEY \_ USERS,** il mapping viene stabilito **con HKEY \_ USERS \\ . Valore predefinito.** Dopo che questo mapping è stato stabilito, persiste, anche se il contesto di sicurezza del thread cambia.<br/> Tutte le voci del Registro di sistema in **HKEY \_ CURRENT \_ USER** tranne quelle in **HKEY \_ CURRENT USER \_ \\ Software \\ Classes** sono incluse nella parte del Registro di sistema per utente di un profilo utente comune. Per escludere altre voci da un profilo utente comune, archiviarle in **HKEY \_ CURRENT USER LOCAL \_ \_ \_ SETTINGS**.<br/> Questo handle non deve essere usato in un servizio o in un'applicazione che rappresenta utenti diversi. Chiamare invece la [**funzione RegOpenCurrentUser.**](/windows/desktop/api/Winreg/nf-winreg-regopencurrentuser)<br/> Per altre informazioni, vedere [HKEY \_ CURRENT \_ USER](/previous-versions/windows/it-pro/windows-server-2003/cc779816(v=ws.10)).<br/> |
| **HKEY \_ CURRENT \_ USER \_ LOCAL \_ SETTINGS**<br/> | Le voci del Registro di sistema subordinate a questa chiave definiscono le preferenze dell'utente corrente che sono locali per il computer. Queste voci non sono incluse nella parte del Registro di sistema per utente di un profilo utente comune. **Windows Server 2008, Windows Vista, Windows Server 2003 e Windows XP/2000:** Questa chiave è supportata a partire da Windows 7 e Windows Server 2008 R2.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **HKEY \_ LOCAL \_ MACHINE**<br/>                 | Le voci del Registro di sistema subordinate a questa chiave definiscono lo stato fisico del computer, inclusi i dati relativi al tipo di bus, alla memoria di sistema e all'hardware e al software installati. Contiene sottochiavi che contengono i dati di configurazione correnti, incluse le informazioni di Plug and Play (il ramo **Enum,** che include un elenco completo di tutti i componenti hardware che sono mai stati nel sistema), le preferenze di accesso alla rete, le informazioni di sicurezza di rete, le informazioni correlate al software (ad esempio i nomi dei server e la posizione del server) e altre informazioni di sistema.<br/> Per altre informazioni, vedere [HKEY \_ LOCAL \_ MACHINE](/previous-versions/windows/it-pro/windows-server-2003/cc784983(v=ws.10)).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **DATI SULLE PRESTAZIONI DI \_ \_ HKEY**<br/>              | Le voci del Registro di sistema subordinate a questa chiave consentono di accedere ai dati sulle prestazioni. I dati non vengono effettivamente archiviati nel Registro di sistema. le funzioni del Registro di sistema causano la raccolta dei dati dall'origine del sistema.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **HKEY \_ PERFORMANCE \_ NLSTEXT**<br/>           | Le voci del Registro di sistema subordinate a questa chiave fanno riferimento alle stringhe di testo che descrivono i contatori nella lingua locale dell'area in cui è in esecuzione il computer. Queste voci non sono disponibili per Regedit.exe e Regedt32.exe. **Windows 2000:** Questa chiave non è supportata.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **TESTO DELLE PRESTAZIONI \_ DI \_ HKEY**<br/>              | Le voci del Registro di sistema subordinate a questa chiave fanno riferimento alle stringhe di testo che descrivono i contatori in inglese stati Uniti. Queste voci non sono disponibili per Regedit.exe e Regedt32.exe. **Windows 2000:** Questa chiave non è supportata.<br/> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **UTENTI \_ HKEY**<br/>                          | Le voci del Registro di sistema subordinate a questa chiave definiscono la configurazione utente predefinita per i nuovi utenti nel computer locale e la configurazione utente per l'utente corrente.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |



 

La [**funzione RegOverridePredefKey**](/windows/desktop/api/Winreg/nf-winreg-regoverridepredefkey) consente di eseguire il mapping di una chiave predefinita del Registro di sistema a una chiave specificata nel Registro di sistema. Ad esempio, un programma di installazione software potrebbe eseguire di nuovo il mapping di una chiave predefinita prima di installare un componente DLL. Ciò consente al programma di installazione di esaminare facilmente le informazioni che la procedura di installazione della DLL scrive nella chiave predefinita.

Le [**funzioni RegDisablePredefinedCache**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcache) e [**RegDisablePredefinedCacheEx**](/windows/desktop/api/Winreg/nf-winreg-regdisablepredefinedcacheex) disabilitano la memorizzazione nella cache degli handle per gli handle predefiniti del Registro di sistema. I servizi che usano la rappresentazione devono chiamare **RegDisablePredefinedCacheEx prima** di usare handle predefiniti del Registro di sistema.

Gli handle predefiniti non sono thread-safe. La chiusura di un handle predefinito in un thread influisce su tutti gli altri thread che usano l'handle.

 

