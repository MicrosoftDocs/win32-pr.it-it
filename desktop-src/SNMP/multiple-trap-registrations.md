---
title: Più registrazioni trap
description: Quando un'applicazione WinSNMP registra una sessione di WinSNMP per trap o notifiche, sono disponibili diverse opzioni.
ms.assetid: 76a4095f-ab5c-4f7a-9b60-a383a632fd65
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 81aebf94d60ca26f39bcd53b26cb1f794f43af0d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 09/16/2019
ms.locfileid: "104331356"
---
# <a name="multiple-trap-registrations"></a><span data-ttu-id="580b3-103">Più registrazioni trap</span><span class="sxs-lookup"><span data-stu-id="580b3-103">Multiple Trap Registrations</span></span>

<span data-ttu-id="580b3-104">Quando un'applicazione WinSNMP registra una sessione di WinSNMP per trap o notifiche, sono disponibili diverse opzioni.</span><span class="sxs-lookup"><span data-stu-id="580b3-104">Several options are available when a WinSNMP application registers a WinSNMP session for traps or notifications.</span></span> <span data-ttu-id="580b3-105">Per questo motivo, un'applicazione può chiamare la funzione [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) più volte, definendo in effetti un filtro personalizzato per la ricezione di trap e notifiche.</span><span class="sxs-lookup"><span data-stu-id="580b3-105">Because of this, an application can call the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function multiple times, in effect defining a custom filter for the reception of traps and notifications.</span></span> <span data-ttu-id="580b3-106">È ad esempio possibile eseguire la registrazione per un tipo di trap o notifica oppure per tutti i trap e le notifiche, a seconda del valore del parametro di *notifica* .</span><span class="sxs-lookup"><span data-stu-id="580b3-106">For example, you can register for one type of trap or notification, or for all traps and notifications, depending on the value of the *notification* parameter.</span></span> <span data-ttu-id="580b3-107">Inoltre, l'applicazione può specificare i valori in altri parametri per la funzione **SnmpRegister** per definire ulteriormente i trap e le notifiche che devono raggiungere un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="580b3-107">Additionally, the application can specify values in other parameters to the **SnmpRegister** function to further define the traps and notifications that should reach an application.</span></span> <span data-ttu-id="580b3-108">Per altre informazioni, vedere [gestione di trap e notifiche](managing-traps-and-notifications.md).</span><span class="sxs-lookup"><span data-stu-id="580b3-108">For more information, see [Managing Traps and Notifications](managing-traps-and-notifications.md).</span></span>

<span data-ttu-id="580b3-109">Di seguito sono riportate le istanze in cui più chiamate a **SnmpRegister** sono ridondanti.</span><span class="sxs-lookup"><span data-stu-id="580b3-109">Following are instances in which multiple calls to **SnmpRegister** are redundant.</span></span> <span data-ttu-id="580b3-110">In queste istanze **SnmpRegister** restituisce snmpapi \_ Success se la funzione viene completata correttamente, ma la registrazione ridondante è inefficace.</span><span class="sxs-lookup"><span data-stu-id="580b3-110">In these instances **SnmpRegister** returns SNMPAPI\_SUCCESS if the function completes successfully, but the redundant registration is ineffective.</span></span>

1.  <span data-ttu-id="580b3-111">Chiamata alla funzione [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) che richiede il recapito filtrato di trap e notifiche alla sessione, dopo una precedente chiamata a **SnmpRegister** che richiede il recapito di tutti i trap e le notifiche (recapito non filtrato).</span><span class="sxs-lookup"><span data-stu-id="580b3-111">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications to the session, after a previous call to **SnmpRegister** requesting delivery of all traps and notifications (unfiltered delivery).</span></span> <span data-ttu-id="580b3-112">Questa chiamata è ridondante perché la sessione sta già ricevendo tutti i trap e le notifiche, incluso il singolo tipo definito dal filtro.</span><span class="sxs-lookup"><span data-stu-id="580b3-112">This call is redundant because the session is already receiving all traps and notifications, including the single type defined by the filter.</span></span>
2.  <span data-ttu-id="580b3-113">Una chiamata duplicata a **SnmpRegister** o una chiamata in cui l'elenco di parametri è identico all'elenco di parametri in una precedente chiamata a **SnmpRegister** per la sessione.</span><span class="sxs-lookup"><span data-stu-id="580b3-113">A duplicate call to **SnmpRegister**, or one in which the parameter list is identical to the parameter list in a previous call to **SnmpRegister** for the session.</span></span>
3.  <span data-ttu-id="580b3-114">Chiamata alla funzione [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) che richiede il recapito filtrato di trap e notifiche in base a un identificatore di oggetto (OID) il cui prefisso è un OID specificato in una precedente chiamata a **SnmpRegister**.</span><span class="sxs-lookup"><span data-stu-id="580b3-114">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications based on an object identifier (OID) whose prefix is an OID specified in a previous call to **SnmpRegister**.</span></span> <span data-ttu-id="580b3-115">Ad esempio, è possibile specificare "1.3.6.1.4.1.311" nel parametro *Notification* per ricevere le notifiche provenienti da qualsiasi entità Microsoft SNMP Agent.</span><span class="sxs-lookup"><span data-stu-id="580b3-115">For example, you can specify "1.3.6.1.4.1.311" in the *notification* parameter to receive notifications originating from any Microsoft SNMP agent entity.</span></span> <span data-ttu-id="580b3-116">Se si chiama di nuovo **SnmpRegister** e si specifica "1.3.6.1.4.1.311.1", la seconda chiamata è ridondante perché la sessione sta già ricevendo tutti i trap e le notifiche che contengono il prefisso OID "1.3.6.1.4.1.311".</span><span class="sxs-lookup"><span data-stu-id="580b3-116">If you call **SnmpRegister** again and specify "1.3.6.1.4.1.311.1", the second call is redundant because the session is already receiving all traps and notifications that contain the OID prefix "1.3.6.1.4.1.311".</span></span>

<span data-ttu-id="580b3-117">Per annullare la registrazione della sessione, è necessario associare ogni chiamata di registrazione univoca alla funzione [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) .</span><span class="sxs-lookup"><span data-stu-id="580b3-117">To unregister the session, you must match each unique registration call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function.</span></span> <span data-ttu-id="580b3-118">Chiamare **SnmpRegister** per annullare la registrazione della sessione e assicurarsi che i primi cinque parametri per **SnmpRegister** siano identici a quelli della chiamata di registrazione iniziale.</span><span class="sxs-lookup"><span data-stu-id="580b3-118">Call **SnmpRegister** to unregister the session, and ensure that the first five parameters to **SnmpRegister** are identical to those in the initial registration call.</span></span> <span data-ttu-id="580b3-119">L'unica differenza tra la chiamata iniziale e la chiamata di annullamento della registrazione è che, durante la registrazione, è necessario specificare il valore SNMPAPI \_ in nel parametro *status* e quando si chiama la funzione per annullare la registrazione, è necessario specificare snmpapi \_ off.</span><span class="sxs-lookup"><span data-stu-id="580b3-119">The only difference between the initial call and the unregistering call is that when registering you must specify the value SNMPAPI\_ON in the *status* parameter, and when you call the function to unregister, you must specify SNMPAPI\_OFF.</span></span> <span data-ttu-id="580b3-120">Non è necessario trovare una corrispondenza tra le chiamate di registrazione ridondanti e la funzione **SnmpRegister** .</span><span class="sxs-lookup"><span data-stu-id="580b3-120">You do not need to match redundant registration calls to the **SnmpRegister** function.</span></span> <span data-ttu-id="580b3-121">È necessario che corrisponda solo alla prima chiamata di registrazione univoca.</span><span class="sxs-lookup"><span data-stu-id="580b3-121">You need only match the first unique registration call.</span></span>

<span data-ttu-id="580b3-122">Per modificare i criteri di filtro, potrebbe essere necessario per un'applicazione annullare prima la registrazione e disabilitare il recapito di determinati Trap o notifiche.</span><span class="sxs-lookup"><span data-stu-id="580b3-122">To change filtering criteria, it may be necessary for an application to first unregister and disable delivery of certain traps or notifications.</span></span> <span data-ttu-id="580b3-123">Quindi, l'applicazione può creare un nuovo filtro chiamando [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), passando i valori appropriati.</span><span class="sxs-lookup"><span data-stu-id="580b3-123">Then the application can create a new filter by calling [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), passing appropriate values.</span></span>

 

 




